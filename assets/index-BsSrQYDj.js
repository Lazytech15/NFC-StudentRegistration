(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Qd={exports:{}},el={},Xd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function WE(){if(l_)return De;l_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function b(U,Q,_e){this.props=U,this.context=Q,this.refs=j,this.updater=_e||x}b.prototype.isReactComponent={},b.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=b.prototype;function H(U,Q,_e){this.props=U,this.context=Q,this.refs=j,this.updater=_e||x}var K=H.prototype=new z;K.constructor=H,O(K,b.prototype),K.isPureReactComponent=!0;var J=Array.isArray,te=Object.prototype.hasOwnProperty,re={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(U,Q,_e){var ke,Pe={},be=null,Fe=null;if(Q!=null)for(ke in Q.ref!==void 0&&(Fe=Q.ref),Q.key!==void 0&&(be=""+Q.key),Q)te.call(Q,ke)&&!P.hasOwnProperty(ke)&&(Pe[ke]=Q[ke]);var ie=arguments.length-2;if(ie===1)Pe.children=_e;else if(1<ie){for(var ue=Array(ie),Re=0;Re<ie;Re++)ue[Re]=arguments[Re+2];Pe.children=ue}if(U&&U.defaultProps)for(ke in ie=U.defaultProps,ie)Pe[ke]===void 0&&(Pe[ke]=ie[ke]);return{$$typeof:n,type:U,key:be,ref:Fe,props:Pe,_owner:re.current}}function C(U,Q){return{$$typeof:n,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return Q[_e]})}var L=/\/+/g;function k(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Q.toString(36)}function We(U,Q,_e,ke,Pe){var be=typeof U;(be==="undefined"||be==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=U,Pe=Pe(Fe),U=ke===""?"."+k(Fe,0):ke,J(Pe)?(_e="",U!=null&&(_e=U.replace(L,"$&/")+"/"),We(Pe,Q,_e,"",function(Re){return Re})):Pe!=null&&(N(Pe)&&(Pe=C(Pe,_e+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(L,"$&/")+"/")+U)),Q.push(Pe)),1;if(Fe=0,ke=ke===""?".":ke+":",J(U))for(var ie=0;ie<U.length;ie++){be=U[ie];var ue=ke+k(be,ie);Fe+=We(be,Q,_e,ue,Pe)}else if(ue=E(U),typeof ue=="function")for(U=ue.call(U),ie=0;!(be=U.next()).done;)be=be.value,ue=ke+k(be,ie++),Fe+=We(be,Q,_e,ue,Pe);else if(be==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function mt(U,Q,_e){if(U==null)return U;var ke=[],Pe=0;return We(U,ke,"","",function(be){return Q.call(_e,be,Pe++)}),ke}function kt(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var He={current:null},ae={transition:null},ye={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ae,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:mt,forEach:function(U,Q,_e){mt(U,function(){Q.apply(this,arguments)},_e)},count:function(U){var Q=0;return mt(U,function(){Q++}),Q},toArray:function(U){return mt(U,function(Q){return Q})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},De.Component=b,De.Fragment=t,De.Profiler=o,De.PureComponent=H,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=le,De.cloneElement=function(U,Q,_e){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=O({},U.props),Pe=U.key,be=U.ref,Fe=U._owner;if(Q!=null){if(Q.ref!==void 0&&(be=Q.ref,Fe=re.current),Q.key!==void 0&&(Pe=""+Q.key),U.type&&U.type.defaultProps)var ie=U.type.defaultProps;for(ue in Q)te.call(Q,ue)&&!P.hasOwnProperty(ue)&&(ke[ue]=Q[ue]===void 0&&ie!==void 0?ie[ue]:Q[ue])}var ue=arguments.length-2;if(ue===1)ke.children=_e;else if(1<ue){ie=Array(ue);for(var Re=0;Re<ue;Re++)ie[Re]=arguments[Re+2];ke.children=ie}return{$$typeof:n,type:U.type,key:Pe,ref:be,props:ke,_owner:Fe}},De.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},De.createElement=R,De.createFactory=function(U){var Q=R.bind(null,U);return Q.type=U,Q},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:d,render:U}},De.isValidElement=N,De.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:kt}},De.memo=function(U,Q){return{$$typeof:_,type:U,compare:Q===void 0?null:Q}},De.startTransition=function(U){var Q=ae.transition;ae.transition={};try{U()}finally{ae.transition=Q}},De.unstable_act=le,De.useCallback=function(U,Q){return He.current.useCallback(U,Q)},De.useContext=function(U){return He.current.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U){return He.current.useDeferredValue(U)},De.useEffect=function(U,Q){return He.current.useEffect(U,Q)},De.useId=function(){return He.current.useId()},De.useImperativeHandle=function(U,Q,_e){return He.current.useImperativeHandle(U,Q,_e)},De.useInsertionEffect=function(U,Q){return He.current.useInsertionEffect(U,Q)},De.useLayoutEffect=function(U,Q){return He.current.useLayoutEffect(U,Q)},De.useMemo=function(U,Q){return He.current.useMemo(U,Q)},De.useReducer=function(U,Q,_e){return He.current.useReducer(U,Q,_e)},De.useRef=function(U){return He.current.useRef(U)},De.useState=function(U){return He.current.useState(U)},De.useSyncExternalStore=function(U,Q,_e){return He.current.useSyncExternalStore(U,Q,_e)},De.useTransition=function(){return He.current.useTransition()},De.version="18.3.1",De}var u_;function Wf(){return u_||(u_=1,Xd.exports=WE()),Xd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function GE(){if(c_)return el;c_=1;var n=Wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var v,S={},E=null,x=null;_!==void 0&&(E=""+_),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(x=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(S[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)S[v]===void 0&&(S[v]=p[v]);return{$$typeof:e,type:d,key:E,ref:x,props:S,_owner:o.current}}return el.Fragment=t,el.jsx=c,el.jsxs=c,el}var h_;function KE(){return h_||(h_=1,Qd.exports=GE()),Qd.exports}var I=KE(),F=Wf(),oc={},Yd={exports:{}},cn={},Jd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function QE(){return d_||(d_=1,function(n){function e(ae,ye){var le=ae.length;ae.push(ye);e:for(;0<le;){var U=le-1>>>1,Q=ae[U];if(0<o(Q,ye))ae[U]=ye,ae[le]=Q,le=U;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ye=ae[0],le=ae.pop();if(le!==ye){ae[0]=le;e:for(var U=0,Q=ae.length,_e=Q>>>1;U<_e;){var ke=2*(U+1)-1,Pe=ae[ke],be=ke+1,Fe=ae[be];if(0>o(Pe,le))be<Q&&0>o(Fe,Pe)?(ae[U]=Fe,ae[be]=le,U=be):(ae[U]=Pe,ae[ke]=le,U=ke);else if(be<Q&&0>o(Fe,le))ae[U]=Fe,ae[be]=le,U=be;else break e}}return ye}function o(ae,ye){var le=ae.sortIndex-ye.sortIndex;return le!==0?le:ae.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],v=1,S=null,E=3,x=!1,O=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ae){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=ae)i(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function J(ae){if(j=!1,K(ae),!O)if(t(p)!==null)O=!0,kt(te);else{var ye=t(_);ye!==null&&He(J,ye.startTime-ae)}}function te(ae,ye){O=!1,j&&(j=!1,z(R),R=-1),x=!0;var le=E;try{for(K(ye),S=t(p);S!==null&&(!(S.expirationTime>ye)||ae&&!M());){var U=S.callback;if(typeof U=="function"){S.callback=null,E=S.priorityLevel;var Q=U(S.expirationTime<=ye);ye=n.unstable_now(),typeof Q=="function"?S.callback=Q:S===t(p)&&i(p),K(ye)}else i(p);S=t(p)}if(S!==null)var _e=!0;else{var ke=t(_);ke!==null&&He(J,ke.startTime-ye),_e=!1}return _e}finally{S=null,E=le,x=!1}}var re=!1,P=null,R=-1,C=5,N=-1;function M(){return!(n.unstable_now()-N<C)}function L(){if(P!==null){var ae=n.unstable_now();N=ae;var ye=!0;try{ye=P(!0,ae)}finally{ye?k():(re=!1,P=null)}}else re=!1}var k;if(typeof H=="function")k=function(){H(L)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,mt=We.port2;We.port1.onmessage=L,k=function(){mt.postMessage(null)}}else k=function(){b(L,0)};function kt(ae){P=ae,re||(re=!0,k())}function He(ae,ye){R=b(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||x||(O=!0,kt(te))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var le=E;E=ye;try{return ae()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var le=E;E=ae;try{return ye()}finally{E=le}},n.unstable_scheduleCallback=function(ae,ye,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,ae){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,ae={id:v++,callback:ye,priorityLevel:ae,startTime:le,expirationTime:Q,sortIndex:-1},le>U?(ae.sortIndex=le,e(_,ae),t(p)===null&&ae===t(_)&&(j?(z(R),R=-1):j=!0,He(J,le-U))):(ae.sortIndex=Q,e(p,ae),O||x||(O=!0,kt(te))),ae},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ae){var ye=E;return function(){var le=E;E=ye;try{return ae.apply(this,arguments)}finally{E=le}}}}(Zd)),Zd}var f_;function XE(){return f_||(f_=1,Jd.exports=QE()),Jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function YE(){if(p_)return cn;p_=1;var n=Wf(),e=XE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function E(r){return p.call(S,r)?!0:p.call(v,r)?!1:_.test(r)?S[r]=!0:(v[r]=!0,!1)}function x(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||x(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,H);b[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,H);b[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,H);b[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,a,h){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,h)&&(a=null),h||f===null?E(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),re=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,U;function Q(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var _e=!1;function ke(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function Pe(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case re:return"Portal";case C:return"Profiler";case R:return"StrictMode";case k:return"Suspense";case We:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case mt:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case kt:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qe(r){r._valueTracker||(r._valueTracker=Re(r))}function mn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=ue(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ht(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tn(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Dr(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ie(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Yi(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function Ji(r,s){Yi(r,s);var a=ie(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?zs(r,s.type,a):s.hasOwnProperty("defaultValue")&&zs(r,s.type,ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ql(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function zs(r,s,a){(s!=="number"||ht(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var br=Array.isArray;function Lr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ie(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function la(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $s(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(br(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ie(a)}}function Hs(r,s){var a=ie(s.value),h=ie(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function ua(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Et(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Et(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Or,ca=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Or.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ai(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(r){es.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Zi[s]=Zi[r]})});function ha(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Zi.hasOwnProperty(r)&&Zi[r]?(""+s).trim():s+"px"}function da(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ha(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var fa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(r,s){if(s){if(fa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ma(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,An=null,ar=null;function Gs(r){if(r=Ua(r)){if(typeof Ws!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Eu(s),Ws(r.stateNode,r.type,s))}}function lr(r){An?ar?ar.push(r):ar=[r]:An=r}function ga(){if(An){var r=An,s=ar;if(ar=An=null,Gs(r),s)for(r=0;r<s.length;r++)Gs(s[r])}}function ns(r,s){return r(s)}function _a(){}var Vr=!1;function ya(r,s,a){if(Vr)return r(s,a);Vr=!0;try{return ns(r,s,a)}finally{Vr=!1,(An!==null||ar!==null)&&(_a(),ga())}}function dt(r,s){var a=r.stateNode;if(a===null)return null;var h=Eu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ks=!1;if(d)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Ks=!1}function rs(r,s,a,h,f,g,w,A,D){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(ee){this.onError(ee)}}var is=!1,Qs=null,Bn=!1,va=null,Ih={onError:function(r){is=!0,Qs=r}};function Xs(r,s,a,h,f,g,w,A,D){is=!1,Qs=null,rs.apply(Ih,arguments)}function Wl(r,s,a,h,f,g,w,A,D){if(Xs.apply(this,arguments),is){if(is){var W=Qs;is=!1,Qs=null}else throw Error(t(198));Bn||(Bn=!0,va=W)}}function zn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ss(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function $n(r){if(zn(r)!==r)throw Error(t(188))}function Gl(r){var s=r.alternate;if(!s){if(s=zn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return $n(f),r;if(g===h)return $n(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,h=g;break}if(A===h){w=!0,h=f,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,h=f;break}if(A===h){w=!0,h=g,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function wa(r){return r=Gl(r),r!==null?Ys(r):null}function Ys(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ys(r);if(s!==null)return s;r=r.sibling}return null}var Js=e.unstable_scheduleCallback,Ea=e.unstable_cancelCallback,Kl=e.unstable_shouldYield,Sh=e.unstable_requestPaint,Xe=e.unstable_now,Ql=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Xl=e.unstable_IdlePriority,as=null,gn=null;function Yl(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(as,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Zl,Ia=Math.log,Jl=Math.LN2;function Zl(r){return r>>>=0,r===0?32:31-(Ia(r)/Jl|0)|0}var Zs=64,eo=4194304;function ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ls(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?h=ui(A):(g&=w,g!==0&&(h=ui(g)))}else w=a&~f,w!==0?h=ui(w):g!==0&&(h=ui(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Qt(s),f=1<<a,h|=r[a],s&=~f;return h}function Rh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),A=1<<w,D=f[w];D===-1?(!(A&a)||A&h)&&(f[w]=Rh(A,s)):D<=s&&(r.expiredLanes|=A),g&=~A}}function _n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function us(){var r=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),r}function ci(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function hi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function Ke(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Qt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function di(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Qt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Ve=0;function fi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var eu,to,tu,nu,ru,Sa=!1,ur=[],Lt=null,Hn=null,qn=null,pi=new Map,Pn=new Map,cr=[],Ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(r,s){switch(r){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(s.pointerId)}}function nn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ua(s),s!==null&&to(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Ah(r,s,a,h,f){switch(s){case"focusin":return Lt=nn(Lt,r,s,a,h,f),!0;case"dragenter":return Hn=nn(Hn,r,s,a,h,f),!0;case"mouseover":return qn=nn(qn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return pi.set(g,nn(pi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Pn.set(g,nn(Pn.get(g)||null,r,s,a,h,f)),!0}return!1}function su(r){var s=ps(r.target);if(s!==null){var a=zn(s);if(a!==null){if(s=a.tag,s===13){if(s=ss(a),s!==null){r.blockedOn=s,ru(r.priority,function(){tu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=no(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ts=h,a.target.dispatchEvent(h),ts=null}else return s=Ua(a),s!==null&&to(s),r.blockedOn=a,!1;s.shift()}return!0}function cs(r,s,a){Fr(r)&&a.delete(s)}function ou(){Sa=!1,Lt!==null&&Fr(Lt)&&(Lt=null),Hn!==null&&Fr(Hn)&&(Hn=null),qn!==null&&Fr(qn)&&(qn=null),pi.forEach(cs),Pn.forEach(cs)}function Wn(r,s){r.blockedOn===s&&(r.blockedOn=null,Sa||(Sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ou)))}function Gn(r){function s(f){return Wn(f,r)}if(0<ur.length){Wn(ur[0],r);for(var a=1;a<ur.length;a++){var h=ur[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Lt!==null&&Wn(Lt,r),Hn!==null&&Wn(Hn,r),qn!==null&&Wn(qn,r),pi.forEach(s),Pn.forEach(s),a=0;a<cr.length;a++)h=cr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)su(a),a.blockedOn===null&&cr.shift()}var Ur=J.ReactCurrentBatchConfig,mi=!0;function tt(r,s,a,h){var f=Ve,g=Ur.transition;Ur.transition=null;try{Ve=1,Ra(r,s,a,h)}finally{Ve=f,Ur.transition=g}}function kh(r,s,a,h){var f=Ve,g=Ur.transition;Ur.transition=null;try{Ve=4,Ra(r,s,a,h)}finally{Ve=f,Ur.transition=g}}function Ra(r,s,a,h){if(mi){var f=no(r,s,a,h);if(f===null)Uh(r,s,h,hs,a),iu(r,h);else if(Ah(f,r,s,a,h))h.stopPropagation();else if(iu(r,h),s&4&&-1<Ch.indexOf(r)){for(;f!==null;){var g=Ua(f);if(g!==null&&eu(g),g=no(r,s,a,h),g===null&&Uh(r,s,h,hs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Uh(r,s,h,null,a)}}var hs=null;function no(r,s,a,h){if(hs=null,r=qs(h),r=ps(r),r!==null)if(s=zn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ss(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return hs=r,null}function Ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ql()){case os:return 1;case li:return 4;case kn:case Ta:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var yn=null,ro=null,rn=null;function Aa(){if(rn)return rn;var r,s=ro,a=s.length,h,f="value"in yn?yn.value:yn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return rn=f.slice(r,1<h?1-h:void 0)}function io(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function hr(){return!0}function ka(){return!1}function Ot(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hr:ka,this.isPropagationStopped=ka,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Ot(Kn),dr=le({},Kn,{view:0,detail:0}),Ph=Ot(dr),oo,jr,gi,ds=le({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(oo=r.screenX-gi.screenX,jr=r.screenY-gi.screenY):jr=oo=0,gi=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:jr}}),ao=Ot(ds),Pa=le({},ds,{dataTransfer:0}),au=Ot(Pa),lo=le({},dr,{relatedTarget:0}),uo=Ot(lo),lu=le({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=Ot(lu),uu=le({},Kn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),cu=Ot(uu),hu=le({},Kn,{data:0}),xa=Ot(hu),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=du[r])?!!s[r]:!1}function fr(){return fu}var u=le({},dr,{key:function(r){if(r.key){var s=co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(r){return r.type==="keypress"?io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Ot(u),y=le({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Ot(y),B=le({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),G=Ot(B),oe=le({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ot(oe),It=le({},ds,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ot(It),Pt=[9,13,27,32],gt=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var vn=d&&"TextEvent"in window&&!xn,fs=d&&(!gt||xn&&8<xn&&11>=xn),ho=" ",nm=!1;function rm(r,s){switch(r){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fo=!1;function $w(r,s){switch(r){case"compositionend":return im(s);case"keypress":return s.which!==32?null:(nm=!0,ho);case"textInput":return r=s.data,r===ho&&nm?null:r;default:return null}}function Hw(r,s){if(fo)return r==="compositionend"||!gt&&rm(r,s)?(r=Aa(),rn=ro=yn=null,fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qw[r.type]:s==="textarea"}function om(r,s,a,h){lr(h),s=yu(s,"onChange"),0<s.length&&(a=new so("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Na=null,Da=null;function Ww(r){Sm(r,0)}function pu(r){var s=yo(r);if(mn(s))return r}function Gw(r,s){if(r==="change")return s}var am=!1;if(d){var xh;if(d){var Nh="oninput"in document;if(!Nh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Nh=typeof lm.oninput=="function"}xh=Nh}else xh=!1;am=xh&&(!document.documentMode||9<document.documentMode)}function um(){Na&&(Na.detachEvent("onpropertychange",cm),Da=Na=null)}function cm(r){if(r.propertyName==="value"&&pu(Da)){var s=[];om(s,Da,r,qs(r)),ya(Ww,s)}}function Kw(r,s,a){r==="focusin"?(um(),Na=s,Da=a,Na.attachEvent("onpropertychange",cm)):r==="focusout"&&um()}function Qw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pu(Da)}function Xw(r,s){if(r==="click")return pu(s)}function Yw(r,s){if(r==="input"||r==="change")return pu(s)}function Jw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qn=typeof Object.is=="function"?Object.is:Jw;function ba(r,s){if(Qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Qn(r[f],s[f]))return!1}return!0}function hm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dm(r,s){var a=hm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hm(a)}}function fm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?fm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pm(){for(var r=window,s=ht();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ht(r.document)}return s}function Dh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Zw(r){var s=pm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&fm(a.ownerDocument.documentElement,a)){if(h!==null&&Dh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=dm(a,g);var w=dm(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var eE=d&&"documentMode"in document&&11>=document.documentMode,po=null,bh=null,La=null,Lh=!1;function mm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lh||po==null||po!==ht(h)||(h=po,"selectionStart"in h&&Dh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),La&&ba(La,h)||(La=h,h=yu(bh,"onSelect"),0<h.length&&(s=new so("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=po)))}function mu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var mo={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Oh={},gm={};d&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function gu(r){if(Oh[r])return Oh[r];if(!mo[r])return r;var s=mo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in gm)return Oh[r]=s[a];return r}var _m=gu("animationend"),ym=gu("animationiteration"),vm=gu("animationstart"),wm=gu("transitionend"),Em=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(r,s){Em.set(r,s),l(s,[r])}for(var Vh=0;Vh<Tm.length;Vh++){var Mh=Tm[Vh],tE=Mh.toLowerCase(),nE=Mh[0].toUpperCase()+Mh.slice(1);_i(tE,"on"+nE)}_i(_m,"onAnimationEnd"),_i(ym,"onAnimationIteration"),_i(vm,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(wm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Im(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Wl(h,s,void 0,r),r.currentTarget=null}function Sm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],D=A.instance,W=A.currentTarget;if(A=A.listener,D!==g&&f.isPropagationStopped())break e;Im(f,A,W),g=D}else for(w=0;w<h.length;w++){if(A=h[w],D=A.instance,W=A.currentTarget,A=A.listener,D!==g&&f.isPropagationStopped())break e;Im(f,A,W),g=D}}}if(Bn)throw r=va,Bn=!1,va=null,r}function Je(r,s){var a=s[qh];a===void 0&&(a=s[qh]=new Set);var h=r+"__bubble";a.has(h)||(Rm(s,r,2,!1),a.add(h))}function Fh(r,s,a){var h=0;s&&(h|=4),Rm(a,r,h,s)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Va(r){if(!r[_u]){r[_u]=!0,i.forEach(function(a){a!=="selectionchange"&&(rE.has(a)||Fh(a,!1,r),Fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_u]||(s[_u]=!0,Fh("selectionchange",!1,s))}}function Rm(r,s,a,h){switch(Ca(s)){case 1:var f=tt;break;case 4:f=kh;break;default:f=Ra}a=f.bind(null,s,a,r),f=void 0,!Ks||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Uh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;A!==null;){if(w=ps(A),w===null)return;if(D=w.tag,D===5||D===6){h=g=w;continue e}A=A.parentNode}}h=h.return}ya(function(){var W=g,ee=qs(a),ne=[];e:{var Z=Em.get(r);if(Z!==void 0){var ce=so,pe=r;switch(r){case"keypress":if(io(a)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":pe="focus",ce=uo;break;case"focusout":pe="blur",ce=uo;break;case"beforeblur":case"afterblur":ce=uo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case _m:case ym:case vm:ce=Br;break;case wm:ce=Ge;break;case"scroll":ce=Ph;break;case"wheel":ce=Ue;break;case"copy":case"cut":case"paste":ce=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=T}var me=(s&4)!==0,ft=!me&&r==="scroll",$=me?Z!==null?Z+"Capture":null:Z;me=[];for(var V=W,q;V!==null;){q=V;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,$!==null&&(se=dt(V,$),se!=null&&me.push(Ma(V,se,q)))),ft)break;V=V.return}0<me.length&&(Z=new ce(Z,pe,null,a,ee),ne.push({event:Z,listeners:me}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&a!==ts&&(pe=a.relatedTarget||a.fromElement)&&(ps(pe)||pe[zr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=W,pe=pe?ps(pe):null,pe!==null&&(ft=zn(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=W),ce!==pe)){if(me=ao,se="onMouseLeave",$="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(me=T,se="onPointerLeave",$="onPointerEnter",V="pointer"),ft=ce==null?Z:yo(ce),q=pe==null?Z:yo(pe),Z=new me(se,V+"leave",ce,a,ee),Z.target=ft,Z.relatedTarget=q,se=null,ps(ee)===W&&(me=new me($,V+"enter",pe,a,ee),me.target=q,me.relatedTarget=ft,se=me),ft=se,ce&&pe)t:{for(me=ce,$=pe,V=0,q=me;q;q=go(q))V++;for(q=0,se=$;se;se=go(se))q++;for(;0<V-q;)me=go(me),V--;for(;0<q-V;)$=go($),q--;for(;V--;){if(me===$||$!==null&&me===$.alternate)break t;me=go(me),$=go($)}me=null}else me=null;ce!==null&&Cm(ne,Z,ce,me,!1),pe!==null&&ft!==null&&Cm(ne,ft,pe,me,!0)}}e:{if(Z=W?yo(W):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ge=Gw;else if(sm(Z))if(am)ge=Yw;else{ge=Qw;var we=Kw}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=Xw);if(ge&&(ge=ge(r,W))){om(ne,ge,a,ee);break e}we&&we(r,Z,W),r==="focusout"&&(we=Z._wrapperState)&&we.controlled&&Z.type==="number"&&zs(Z,"number",Z.value)}switch(we=W?yo(W):window,r){case"focusin":(sm(we)||we.contentEditable==="true")&&(po=we,bh=W,La=null);break;case"focusout":La=bh=po=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,mm(ne,a,ee);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":mm(ne,a,ee)}var Ee;if(gt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else fo?rm(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(fs&&a.locale!=="ko"&&(fo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&fo&&(Ee=Aa()):(yn=ee,ro="value"in yn?yn.value:yn.textContent,fo=!0)),we=yu(W,Ie),0<we.length&&(Ie=new xa(Ie,r,null,a,ee),ne.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=im(a),Ee!==null&&(Ie.data=Ee)))),(Ee=vn?$w(r,a):Hw(r,a))&&(W=yu(W,"onBeforeInput"),0<W.length&&(ee=new xa("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:W}),ee.data=Ee))}Sm(ne,s)})}function Ma(r,s,a){return{instance:r,listener:s,currentTarget:a}}function yu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=dt(r,a),g!=null&&h.unshift(Ma(r,g,f)),g=dt(r,s),g!=null&&h.push(Ma(r,g,f))),r=r.return}return h}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var A=a,D=A.alternate,W=A.stateNode;if(D!==null&&D===h)break;A.tag===5&&W!==null&&(A=W,f?(D=dt(a,g),D!=null&&w.unshift(Ma(a,D,A))):f||(D=dt(a,g),D!=null&&w.push(Ma(a,D,A)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var iE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function Am(r){return(typeof r=="string"?r:""+r).replace(iE,`
`).replace(sE,"")}function vu(r,s,a){if(s=Am(s),Am(r)!==s&&a)throw Error(t(425))}function wu(){}var jh=null,Bh=null;function zh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,oE=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(r){return km.resolve(null).then(r).catch(lE)}:$h;function lE(r){setTimeout(function(){throw r})}function Hh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Gn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Gn(s)}function yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Pm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var _o=Math.random().toString(36).slice(2),pr="__reactFiber$"+_o,Fa="__reactProps$"+_o,zr="__reactContainer$"+_o,qh="__reactEvents$"+_o,uE="__reactListeners$"+_o,cE="__reactHandles$"+_o;function ps(r){var s=r[pr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[zr]||a[pr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Pm(r);r!==null;){if(a=r[pr])return a;r=Pm(r)}return s}r=a,a=r.parentNode}return null}function Ua(r){return r=r[pr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Eu(r){return r[Fa]||null}var Wh=[],vo=-1;function vi(r){return{current:r}}function Ze(r){0>vo||(r.current=Wh[vo],Wh[vo]=null,vo--)}function Ye(r,s){vo++,Wh[vo]=r.current,r.current=s}var wi={},Bt=vi(wi),sn=vi(!1),ms=wi;function wo(r,s){var a=r.type.contextTypes;if(!a)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function on(r){return r=r.childContextTypes,r!=null}function Tu(){Ze(sn),Ze(Bt)}function xm(r,s,a){if(Bt.current!==wi)throw Error(t(168));Ye(Bt,s),Ye(sn,a)}function Nm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Fe(r)||"Unknown",f));return le({},a,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,ms=Bt.current,Ye(Bt,r),Ye(sn,sn.current),!0}function Dm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Nm(r,s,ms),h.__reactInternalMemoizedMergedChildContext=r,Ze(sn),Ze(Bt),Ye(Bt,r)):Ze(sn),Ye(sn,a)}var $r=null,Su=!1,Gh=!1;function bm(r){$r===null?$r=[r]:$r.push(r)}function hE(r){Su=!0,bm(r)}function Ei(){if(!Gh&&$r!==null){Gh=!0;var r=0,s=Ve;try{var a=$r;for(Ve=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}$r=null,Su=!1}catch(f){throw $r!==null&&($r=$r.slice(r+1)),Js(os,Ei),f}finally{Ve=s,Gh=!1}}return null}var Eo=[],To=0,Ru=null,Cu=0,Nn=[],Dn=0,gs=null,Hr=1,qr="";function _s(r,s){Eo[To++]=Cu,Eo[To++]=Ru,Ru=r,Cu=s}function Lm(r,s,a){Nn[Dn++]=Hr,Nn[Dn++]=qr,Nn[Dn++]=gs,gs=r;var h=Hr;r=qr;var f=32-Qt(h)-1;h&=~(1<<f),a+=1;var g=32-Qt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Hr=1<<32-Qt(s)+f|a<<f|h,qr=g+r}else Hr=1<<g|a<<f|h,qr=r}function Kh(r){r.return!==null&&(_s(r,1),Lm(r,1,0))}function Qh(r){for(;r===Ru;)Ru=Eo[--To],Eo[To]=null,Cu=Eo[--To],Eo[To]=null;for(;r===gs;)gs=Nn[--Dn],Nn[Dn]=null,qr=Nn[--Dn],Nn[Dn]=null,Hr=Nn[--Dn],Nn[Dn]=null}var wn=null,En=null,nt=!1,Xn=null;function Om(r,s){var a=Vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Vm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,wn=r,En=yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,wn=r,En=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=gs!==null?{id:Hr,overflow:qr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,wn=r,En=null,!0):!1;default:return!1}}function Xh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Yh(r){if(nt){var s=En;if(s){var a=s;if(!Vm(r,s)){if(Xh(r))throw Error(t(418));s=yi(a.nextSibling);var h=wn;s&&Vm(r,s)?Om(h,a):(r.flags=r.flags&-4097|2,nt=!1,wn=r)}}else{if(Xh(r))throw Error(t(418));r.flags=r.flags&-4097|2,nt=!1,wn=r}}}function Mm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;wn=r}function Au(r){if(r!==wn)return!1;if(!nt)return Mm(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!zh(r.type,r.memoizedProps)),s&&(s=En)){if(Xh(r))throw Fm(),Error(t(418));for(;s;)Om(r,s),s=yi(s.nextSibling)}if(Mm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){En=yi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}En=null}}else En=wn?yi(r.stateNode.nextSibling):null;return!0}function Fm(){for(var r=En;r;)r=yi(r.nextSibling)}function Io(){En=wn=null,nt=!1}function Jh(r){Xn===null?Xn=[r]:Xn.push(r)}var dE=J.ReactCurrentBatchConfig;function ja(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ku(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Um(r){var s=r._init;return s(r._payload)}function jm(r){function s($,V){if(r){var q=$.deletions;q===null?($.deletions=[V],$.flags|=16):q.push(V)}}function a($,V){if(!r)return null;for(;V!==null;)s($,V),V=V.sibling;return null}function h($,V){for($=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function f($,V){return $=Pi($,V),$.index=0,$.sibling=null,$}function g($,V,q){return $.index=q,r?(q=$.alternate,q!==null?(q=q.index,q<V?($.flags|=2,V):q):($.flags|=2,V)):($.flags|=1048576,V)}function w($){return r&&$.alternate===null&&($.flags|=2),$}function A($,V,q,se){return V===null||V.tag!==6?(V=$d(q,$.mode,se),V.return=$,V):(V=f(V,q),V.return=$,V)}function D($,V,q,se){var ge=q.type;return ge===P?ee($,V,q.props.children,se,q.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===kt&&Um(ge)===V.type)?(se=f(V,q.props),se.ref=ja($,V,q),se.return=$,se):(se=Ju(q.type,q.key,q.props,null,$.mode,se),se.ref=ja($,V,q),se.return=$,se)}function W($,V,q,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Hd(q,$.mode,se),V.return=$,V):(V=f(V,q.children||[]),V.return=$,V)}function ee($,V,q,se,ge){return V===null||V.tag!==7?(V=Rs(q,$.mode,se,ge),V.return=$,V):(V=f(V,q),V.return=$,V)}function ne($,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=$d(""+V,$.mode,q),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case te:return q=Ju(V.type,V.key,V.props,null,$.mode,q),q.ref=ja($,null,V),q.return=$,q;case re:return V=Hd(V,$.mode,q),V.return=$,V;case kt:var se=V._init;return ne($,se(V._payload),q)}if(br(V)||ye(V))return V=Rs(V,$.mode,q,null),V.return=$,V;ku($,V)}return null}function Z($,V,q,se){var ge=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:A($,V,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case te:return q.key===ge?D($,V,q,se):null;case re:return q.key===ge?W($,V,q,se):null;case kt:return ge=q._init,Z($,V,ge(q._payload),se)}if(br(q)||ye(q))return ge!==null?null:ee($,V,q,se,null);ku($,q)}return null}function ce($,V,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(q)||null,A(V,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case te:return $=$.get(se.key===null?q:se.key)||null,D(V,$,se,ge);case re:return $=$.get(se.key===null?q:se.key)||null,W(V,$,se,ge);case kt:var we=se._init;return ce($,V,q,we(se._payload),ge)}if(br(se)||ye(se))return $=$.get(q)||null,ee(V,$,se,ge,null);ku(V,se)}return null}function pe($,V,q,se){for(var ge=null,we=null,Ee=V,Ie=V=0,Dt=null;Ee!==null&&Ie<q.length;Ie++){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var ze=Z($,Ee,q[Ie],se);if(ze===null){Ee===null&&(Ee=Dt);break}r&&Ee&&ze.alternate===null&&s($,Ee),V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze,Ee=Dt}if(Ie===q.length)return a($,Ee),nt&&_s($,Ie),ge;if(Ee===null){for(;Ie<q.length;Ie++)Ee=ne($,q[Ie],se),Ee!==null&&(V=g(Ee,V,Ie),we===null?ge=Ee:we.sibling=Ee,we=Ee);return nt&&_s($,Ie),ge}for(Ee=h($,Ee);Ie<q.length;Ie++)Dt=ce(Ee,$,Ie,q[Ie],se),Dt!==null&&(r&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ie:Dt.key),V=g(Dt,V,Ie),we===null?ge=Dt:we.sibling=Dt,we=Dt);return r&&Ee.forEach(function(xi){return s($,xi)}),nt&&_s($,Ie),ge}function me($,V,q,se){var ge=ye(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var we=ge=null,Ee=V,Ie=V=0,Dt=null,ze=q.next();Ee!==null&&!ze.done;Ie++,ze=q.next()){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var xi=Z($,Ee,ze.value,se);if(xi===null){Ee===null&&(Ee=Dt);break}r&&Ee&&xi.alternate===null&&s($,Ee),V=g(xi,V,Ie),we===null?ge=xi:we.sibling=xi,we=xi,Ee=Dt}if(ze.done)return a($,Ee),nt&&_s($,Ie),ge;if(Ee===null){for(;!ze.done;Ie++,ze=q.next())ze=ne($,ze.value,se),ze!==null&&(V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze);return nt&&_s($,Ie),ge}for(Ee=h($,Ee);!ze.done;Ie++,ze=q.next())ze=ce(Ee,$,Ie,ze.value,se),ze!==null&&(r&&ze.alternate!==null&&Ee.delete(ze.key===null?Ie:ze.key),V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze);return r&&Ee.forEach(function(qE){return s($,qE)}),nt&&_s($,Ie),ge}function ft($,V,q,se){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case te:e:{for(var ge=q.key,we=V;we!==null;){if(we.key===ge){if(ge=q.type,ge===P){if(we.tag===7){a($,we.sibling),V=f(we,q.props.children),V.return=$,$=V;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===kt&&Um(ge)===we.type){a($,we.sibling),V=f(we,q.props),V.ref=ja($,we,q),V.return=$,$=V;break e}a($,we);break}else s($,we);we=we.sibling}q.type===P?(V=Rs(q.props.children,$.mode,se,q.key),V.return=$,$=V):(se=Ju(q.type,q.key,q.props,null,$.mode,se),se.ref=ja($,V,q),se.return=$,$=se)}return w($);case re:e:{for(we=q.key;V!==null;){if(V.key===we)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a($,V.sibling),V=f(V,q.children||[]),V.return=$,$=V;break e}else{a($,V);break}else s($,V);V=V.sibling}V=Hd(q,$.mode,se),V.return=$,$=V}return w($);case kt:return we=q._init,ft($,V,we(q._payload),se)}if(br(q))return pe($,V,q,se);if(ye(q))return me($,V,q,se);ku($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(a($,V.sibling),V=f(V,q),V.return=$,$=V):(a($,V),V=$d(q,$.mode,se),V.return=$,$=V),w($)):a($,V)}return ft}var So=jm(!0),Bm=jm(!1),Pu=vi(null),xu=null,Ro=null,Zh=null;function ed(){Zh=Ro=xu=null}function td(r){var s=Pu.current;Ze(Pu),r._currentValue=s}function nd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Co(r,s){xu=r,Zh=Ro=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(an=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(Zh!==r)if(r={context:r,memoizedValue:s,next:null},Ro===null){if(xu===null)throw Error(t(308));Ro=r,xu.dependencies={lanes:0,firstContext:r}}else Ro=Ro.next=r;return s}var ys=null;function rd(r){ys===null?ys=[r]:ys.push(r)}function zm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,rd(s)):(a.next=f.next,f.next=a),s.interleaved=a,Wr(r,h)}function Wr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ti=!1;function id(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Wr(r,a)}return f=h.interleaved,f===null?(s.next=s,rd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Wr(r,a)}function Nu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,di(r,a)}}function Hm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Du(r,s,a,h){var f=r.updateQueue;Ti=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,W=D.next;D.next=null,w===null?g=W:w.next=W,w=D;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==w&&(A===null?ee.firstBaseUpdate=W:A.next=W,ee.lastBaseUpdate=D))}if(g!==null){var ne=f.baseState;w=0,ee=W=D=null,A=g;do{var Z=A.lane,ce=A.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var pe=r,me=A;switch(Z=s,ce=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ce,ne,Z);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Z=typeof pe=="function"?pe.call(ce,ne,Z):pe,Z==null)break e;ne=le({},ne,Z);break e;case 2:Ti=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else ce={eventTime:ce,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(W=ee=ce,D=ne):ee=ee.next=ce,w|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Es|=w,r.lanes=w,r.memoizedState=ne}}function qm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ba={},mr=vi(Ba),za=vi(Ba),$a=vi(Ba);function vs(r){if(r===Ba)throw Error(t(174));return r}function sd(r,s){switch(Ye($a,s),Ye(za,r),Ye(mr,Ba),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Tt(s,r)}Ze(mr),Ye(mr,s)}function Ao(){Ze(mr),Ze(za),Ze($a)}function Wm(r){vs($a.current);var s=vs(mr.current),a=Tt(s,r.type);s!==a&&(Ye(za,r),Ye(mr,a))}function od(r){za.current===r&&(Ze(mr),Ze(za))}var it=vi(0);function bu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ad=[];function ld(){for(var r=0;r<ad.length;r++)ad[r]._workInProgressVersionPrimary=null;ad.length=0}var Lu=J.ReactCurrentDispatcher,ud=J.ReactCurrentBatchConfig,ws=0,st=null,St=null,xt=null,Ou=!1,Ha=!1,qa=0,fE=0;function zt(){throw Error(t(321))}function cd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Qn(r[a],s[a]))return!1;return!0}function hd(r,s,a,h,f,g){if(ws=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lu.current=r===null||r.memoizedState===null?_E:yE,r=a(h,f),Ha){g=0;do{if(Ha=!1,qa=0,25<=g)throw Error(t(301));g+=1,xt=St=null,s.updateQueue=null,Lu.current=vE,r=a(h,f)}while(Ha)}if(Lu.current=Fu,s=St!==null&&St.next!==null,ws=0,xt=St=st=null,Ou=!1,s)throw Error(t(300));return r}function dd(){var r=qa!==0;return qa=0,r}function gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=r:xt=xt.next=r,xt}function Ln(){if(St===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var s=xt===null?st.memoizedState:xt.next;if(s!==null)xt=s,St=r;else{if(r===null)throw Error(t(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},xt===null?st.memoizedState=xt=r:xt=xt.next=r}return xt}function Wa(r,s){return typeof s=="function"?s(r):s}function fd(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=St,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=w=null,D=null,W=g;do{var ee=W.lane;if((ws&ee)===ee)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(A=D=ne,w=h):D=D.next=ne,st.lanes|=ee,Es|=ee}W=W.next}while(W!==null&&W!==g);D===null?w=h:D.next=A,Qn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,st.lanes|=g,Es|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function pd(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Qn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Gm(){}function Km(r,s){var a=st,h=Ln(),f=s(),g=!Qn(h.memoizedState,f);if(g&&(h.memoizedState=f,an=!0),h=h.queue,md(Ym.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Ga(9,Xm.bind(null,a,h,f,s),void 0,null),Nt===null)throw Error(t(349));ws&30||Qm(a,s,f)}return f}function Qm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Xm(r,s,a,h){s.value=a,s.getSnapshot=h,Jm(s)&&Zm(r)}function Ym(r,s,a){return a(function(){Jm(s)&&Zm(r)})}function Jm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Qn(r,a)}catch{return!0}}function Zm(r){var s=Wr(r,1);s!==null&&er(s,r,1,-1)}function eg(r){var s=gr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},s.queue=r,r=r.dispatch=gE.bind(null,st,r),[s.memoizedState,r]}function Ga(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function tg(){return Ln().memoizedState}function Vu(r,s,a,h){var f=gr();st.flags|=r,f.memoizedState=Ga(1|s,a,void 0,h===void 0?null:h)}function Mu(r,s,a,h){var f=Ln();h=h===void 0?null:h;var g=void 0;if(St!==null){var w=St.memoizedState;if(g=w.destroy,h!==null&&cd(h,w.deps)){f.memoizedState=Ga(s,a,g,h);return}}st.flags|=r,f.memoizedState=Ga(1|s,a,g,h)}function ng(r,s){return Vu(8390656,8,r,s)}function md(r,s){return Mu(2048,8,r,s)}function rg(r,s){return Mu(4,2,r,s)}function ig(r,s){return Mu(4,4,r,s)}function sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function og(r,s,a){return a=a!=null?a.concat([r]):null,Mu(4,4,sg.bind(null,s,r),a)}function gd(){}function ag(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&cd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function lg(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&cd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function ug(r,s,a){return ws&21?(Qn(a,s)||(a=us(),st.lanes|=a,Es|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a)}function pE(r,s){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var h=ud.transition;ud.transition={};try{r(!1),s()}finally{Ve=a,ud.transition=h}}function cg(){return Ln().memoizedState}function mE(r,s,a){var h=Ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},hg(r))dg(s,a);else if(a=zm(r,s,a,h),a!==null){var f=Jt();er(a,r,h,f),fg(a,s,h)}}function gE(r,s,a){var h=Ai(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(hg(r))dg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,a);if(f.hasEagerState=!0,f.eagerState=A,Qn(A,w)){var D=s.interleaved;D===null?(f.next=f,rd(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=zm(r,s,f,h),a!==null&&(f=Jt(),er(a,r,h,f),fg(a,s,h))}}function hg(r){var s=r.alternate;return r===st||s!==null&&s===st}function dg(r,s){Ha=Ou=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function fg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,di(r,a)}}var Fu={readContext:bn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},_E={readContext:bn,useCallback:function(r,s){return gr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:ng,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Vu(4194308,4,sg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Vu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Vu(4,2,r,s)},useMemo:function(r,s){var a=gr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=gr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=mE.bind(null,st,r),[h.memoizedState,r]},useRef:function(r){var s=gr();return r={current:r},s.memoizedState=r},useState:eg,useDebugValue:gd,useDeferredValue:function(r){return gr().memoizedState=r},useTransition:function(){var r=eg(!1),s=r[0];return r=pE.bind(null,r[1]),gr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=st,f=gr();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));ws&30||Qm(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,ng(Ym.bind(null,h,g,r),[r]),h.flags|=2048,Ga(9,Xm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=gr(),s=Nt.identifierPrefix;if(nt){var a=qr,h=Hr;a=(h&~(1<<32-Qt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=qa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=fE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},yE={readContext:bn,useCallback:ag,useContext:bn,useEffect:md,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:fd,useRef:tg,useState:function(){return fd(Wa)},useDebugValue:gd,useDeferredValue:function(r){var s=Ln();return ug(s,St.memoizedState,r)},useTransition:function(){var r=fd(Wa)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Gm,useSyncExternalStore:Km,useId:cg,unstable_isNewReconciler:!1},vE={readContext:bn,useCallback:ag,useContext:bn,useEffect:md,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:pd,useRef:tg,useState:function(){return pd(Wa)},useDebugValue:gd,useDeferredValue:function(r){var s=Ln();return St===null?s.memoizedState=r:ug(s,St.memoizedState,r)},useTransition:function(){var r=pd(Wa)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Gm,useSyncExternalStore:Km,useId:cg,unstable_isNewReconciler:!1};function Yn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function _d(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uu={isMounted:function(r){return(r=r._reactInternals)?zn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Jt(),f=Ai(r),g=Gr(h,f);g.payload=s,a!=null&&(g.callback=a),s=Ii(r,g,f),s!==null&&(er(s,r,f,h),Nu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Jt(),f=Ai(r),g=Gr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ii(r,g,f),s!==null&&(er(s,r,f,h),Nu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Jt(),h=Ai(r),f=Gr(a,h);f.tag=2,s!=null&&(f.callback=s),s=Ii(r,f,h),s!==null&&(er(s,r,h,a),Nu(s,r,h))}};function pg(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!ba(a,h)||!ba(f,g):!0}function mg(r,s,a){var h=!1,f=wi,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(f=on(s)?ms:Bt.current,h=s.contextTypes,g=(h=h!=null)?wo(r,f):wi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function gg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Uu.enqueueReplaceState(s,s.state,null)}function yd(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},id(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=bn(g):(g=on(s)?ms:Bt.current,f.context=wo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_d(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Uu.enqueueReplaceState(f,f.state,null),Du(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ko(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function vd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function wd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var wE=typeof WeakMap=="function"?WeakMap:Map;function _g(r,s,a){a=Gr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Wu||(Wu=!0,Od=h),wd(r,s)},a}function yg(r,s,a){a=Gr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){wd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){wd(r,s),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function vg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new wE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=LE.bind(null,r,s,a),s.then(r,r))}function wg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Eg(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Gr(-1,1),s.tag=2,Ii(a,s,1))),a.lanes|=1),r)}var EE=J.ReactCurrentOwner,an=!1;function Yt(r,s,a,h){s.child=r===null?Bm(s,null,a,h):So(s,r.child,a,h)}function Tg(r,s,a,h,f){a=a.render;var g=s.ref;return Co(s,f),h=hd(r,s,a,h,g,f),a=dd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Kr(r,s,f)):(nt&&a&&Kh(s),s.flags|=1,Yt(r,s,h,f),s.child)}function Ig(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Sg(r,s,g,h,f)):(r=Ju(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ba,a(w,h)&&r.ref===s.ref)return Kr(r,s,f)}return s.flags|=1,r=Pi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Sg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(ba(g,h)&&r.ref===s.ref)if(an=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(an=!0);else return s.lanes=r.lanes,Kr(r,s,f)}return Ed(r,s,a,h,f)}function Rg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(xo,Tn),Tn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(xo,Tn),Tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ye(xo,Tn),Tn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ye(xo,Tn),Tn|=h;return Yt(r,s,f,a),s.child}function Cg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ed(r,s,a,h,f){var g=on(a)?ms:Bt.current;return g=wo(s,g),Co(s,f),a=hd(r,s,a,h,g,f),h=dd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Kr(r,s,f)):(nt&&h&&Kh(s),s.flags|=1,Yt(r,s,a,f),s.child)}function Ag(r,s,a,h,f){if(on(a)){var g=!0;Iu(s)}else g=!1;if(Co(s,f),s.stateNode===null)Bu(r,s),mg(s,a,h),yd(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var D=w.context,W=a.contextType;typeof W=="object"&&W!==null?W=bn(W):(W=on(a)?ms:Bt.current,W=wo(s,W));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||D!==W)&&gg(s,w,h,W),Ti=!1;var Z=s.memoizedState;w.state=Z,Du(s,h,w,f),D=s.memoizedState,A!==h||Z!==D||sn.current||Ti?(typeof ee=="function"&&(_d(s,a,ee,h),D=s.memoizedState),(A=Ti||pg(s,a,A,h,Z,D,W))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),w.props=h,w.state=D,w.context=W,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,$m(r,s),A=s.memoizedProps,W=s.type===s.elementType?A:Yn(s.type,A),w.props=W,ne=s.pendingProps,Z=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=bn(D):(D=on(a)?ms:Bt.current,D=wo(s,D));var ce=a.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==ne||Z!==D)&&gg(s,w,h,D),Ti=!1,Z=s.memoizedState,w.state=Z,Du(s,h,w,f);var pe=s.memoizedState;A!==ne||Z!==pe||sn.current||Ti?(typeof ce=="function"&&(_d(s,a,ce,h),pe=s.memoizedState),(W=Ti||pg(s,a,W,h,Z,pe,D)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,pe,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,pe,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),w.props=h,w.state=pe,w.context=D,h=W):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return Td(r,s,a,h,g,f)}function Td(r,s,a,h,f,g){Cg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Dm(s,a,!1),Kr(r,s,g);h=s.stateNode,EE.current=s;var A=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=So(s,r.child,null,g),s.child=So(s,null,A,g)):Yt(r,s,A,g),s.memoizedState=h.state,f&&Dm(s,a,!0),s.child}function kg(r){var s=r.stateNode;s.pendingContext?xm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xm(r,s.context,!1),sd(r,s.containerInfo)}function Pg(r,s,a,h,f){return Io(),Jh(f),s.flags|=256,Yt(r,s,a,h),s.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Sd(r){return{baseLanes:r,cachePool:null,transitions:null}}function xg(r,s,a){var h=s.pendingProps,f=it.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(it,f&1),r===null)return Yh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Zu(w,h,0,null),r=Rs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Sd(a),s.memoizedState=Id,r):Rd(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return TE(r,s,w,h,A,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,A=f.sibling;var D={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Pi(f,D),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Pi(A,g):(g=Rs(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Sd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Id,h}return g=r.child,r=g.sibling,h=Pi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Rd(r,s){return s=Zu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ju(r,s,a,h){return h!==null&&Jh(h),So(s,r.child,null,a),r=Rd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function TE(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=vd(Error(t(422))),ju(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Zu({mode:"visible",children:h.children},f,0,null),g=Rs(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&So(s,r.child,null,w),s.child.memoizedState=Sd(w),s.memoizedState=Id,g);if(!(s.mode&1))return ju(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=vd(g,h,void 0),ju(r,s,w,h)}if(A=(w&r.childLanes)!==0,an||A){if(h=Nt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Wr(r,f),er(h,r,f,-1))}return Bd(),h=vd(Error(t(421))),ju(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=OE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,En=yi(f.nextSibling),wn=s,nt=!0,Xn=null,r!==null&&(Nn[Dn++]=Hr,Nn[Dn++]=qr,Nn[Dn++]=gs,Hr=r.id,qr=r.overflow,gs=s),s=Rd(s,h.children),s.flags|=4096,s)}function Ng(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),nd(r.return,s,a)}function Cd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Dg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Yt(r,s,h.children,a),h=it.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ng(r,a,s);else if(r.tag===19)Ng(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(it,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&bu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Cd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&bu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Cd(s,!0,a,null,g);break;case"together":Cd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Kr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function IE(r,s,a){switch(s.tag){case 3:kg(s),Io();break;case 5:Wm(s);break;case 1:on(s.type)&&Iu(s);break;case 4:sd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ye(Pu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):a&s.child.childLanes?xg(r,s,a):(Ye(it,it.current&1),r=Kr(r,s,a),r!==null?r.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Dg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return s.lanes=0,Rg(r,s,a)}return Kr(r,s,a)}var bg,Ad,Lg,Og;bg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ad=function(){},Lg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,vs(mr.current);var g=null;switch(a){case"input":f=tn(r,f),h=tn(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=la(r,f),h=la(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=wu)}pa(a,h);var w;a=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var A=f[W];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var D=h[W];if(A=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&D!==A&&(D!=null||A!=null))if(W==="style")if(A){for(w in A)!A.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&A[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(g=g||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&Je("scroll",r),g||A===D||(g=[])):(g=g||[]).push(W,D))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Og=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ka(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function SE(r,s,a){var h=s.pendingProps;switch(Qh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&Tu(),$t(s),null;case 3:return h=s.stateNode,Ao(),Ze(sn),Ze(Bt),ld(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Au(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Xn!==null&&(Fd(Xn),Xn=null))),Ad(r,s),$t(s),null;case 5:od(s);var f=vs($a.current);if(a=s.type,r!==null&&s.stateNode!=null)Lg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=vs(mr.current),Au(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[pr]=s,h[Fa]=g,r=(s.mode&1)!==0,a){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(f=0;f<Oa.length;f++)Je(Oa[f],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Dr(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":$s(h,g),Je("invalid",h)}pa(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&vu(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&vu(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Je("scroll",h)}switch(a){case"input":Qe(h),ql(h,g,!0);break;case"textarea":Qe(h),ua(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=wu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Et(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[pr]=s,r[Fa]=h,bg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ma(a,h),a){case"dialog":Je("cancel",r),Je("close",r),f=h;break;case"iframe":case"object":case"embed":Je("load",r),f=h;break;case"video":case"audio":for(f=0;f<Oa.length;f++)Je(Oa[f],r);f=h;break;case"source":Je("error",r),f=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=h;break;case"details":Je("toggle",r),f=h;break;case"input":Dr(r,h),f=tn(r,h),Je("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Je("invalid",r);break;case"textarea":$s(r,h),f=la(r,h),Je("invalid",r);break;default:f=h}pa(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var D=A[g];g==="style"?da(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ca(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&ai(r,D):typeof D=="number"&&ai(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Je("scroll",r):D!=null&&K(r,g,D,w))}switch(a){case"input":Qe(r),ql(r,h,!1);break;case"textarea":Qe(r),ua(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ie(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Lr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Lr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=wu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)Og(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=vs($a.current),vs(mr.current),Au(s)){if(h=s.stateNode,a=s.memoizedProps,h[pr]=s,(g=h.nodeValue!==a)&&(r=wn,r!==null))switch(r.tag){case 3:vu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[pr]=s,s.stateNode=h}return $t(s),null;case 13:if(Ze(it),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&En!==null&&s.mode&1&&!(s.flags&128))Fm(),Io(),s.flags|=98560,g=!1;else if(g=Au(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[pr]=s}else Io(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else Xn!==null&&(Fd(Xn),Xn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?Rt===0&&(Rt=3):Bd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Ao(),Ad(r,s),r===null&&Va(s.stateNode.containerInfo),$t(s),null;case 10:return td(s.type._context),$t(s),null;case 17:return on(s.type)&&Tu(),$t(s),null;case 19:if(Ze(it),g=s.memoizedState,g===null)return $t(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ka(g,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=bu(r),w!==null){for(s.flags|=128,Ka(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>No&&(s.flags|=128,h=!0,Ka(g,!1),s.lanes=4194304)}else{if(!h)if(r=bu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ka(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!nt)return $t(s),null}else 2*Xe()-g.renderingStartTime>No&&a!==1073741824&&(s.flags|=128,h=!0,Ka(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=it.current,Ye(it,h?a&1|2:a&1),s):($t(s),null);case 22:case 23:return jd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Tn&1073741824&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function RE(r,s){switch(Qh(s),s.tag){case 1:return on(s.type)&&Tu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ao(),Ze(sn),Ze(Bt),ld(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return od(s),null;case 13:if(Ze(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Io()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(it),null;case 4:return Ao(),null;case 10:return td(s.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var zu=!1,Ht=!1,CE=typeof WeakSet=="function"?WeakSet:Set,de=null;function Po(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){lt(r,s,h)}else a.current=null}function kd(r,s,a){try{a()}catch(h){lt(r,s,h)}}var Vg=!1;function AE(r,s){if(jh=mi,r=pm(),Dh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,D=-1,W=0,ee=0,ne=r,Z=null;t:for(;;){for(var ce;ne!==a||f!==0&&ne.nodeType!==3||(A=w+f),ne!==g||h!==0&&ne.nodeType!==3||(D=w+h),ne.nodeType===3&&(w+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===r)break t;if(Z===a&&++W===f&&(A=w),Z===g&&++ee===h&&(D=w),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bh={focusedElem:r,selectionRange:a},mi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ft=pe.memoizedState,$=s.stateNode,V=$.getSnapshotBeforeUpdate(s.elementType===s.type?me:Yn(s.type,me),ft);$.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){lt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Vg,Vg=!1,pe}function Qa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&kd(s,a,g)}f=f.next}while(f!==h)}}function $u(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Pd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Mg(r){var s=r.alternate;s!==null&&(r.alternate=null,Mg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[pr],delete s[Fa],delete s[qh],delete s[uE],delete s[cE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fg(r){return r.tag===5||r.tag===3||r.tag===4}function Ug(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wu));else if(h!==4&&(r=r.child,r!==null))for(xd(r,s,a),r=r.sibling;r!==null;)xd(r,s,a),r=r.sibling}function Nd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Nd(r,s,a),r=r.sibling;r!==null;)Nd(r,s,a),r=r.sibling}var Vt=null,Jn=!1;function Si(r,s,a){for(a=a.child;a!==null;)jg(r,s,a),a=a.sibling}function jg(r,s,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(as,a)}catch{}switch(a.tag){case 5:Ht||Po(a,s);case 6:var h=Vt,f=Jn;Vt=null,Si(r,s,a),Vt=h,Jn=f,Vt!==null&&(Jn?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(Jn?(r=Vt,a=a.stateNode,r.nodeType===8?Hh(r.parentNode,a):r.nodeType===1&&Hh(r,a),Gn(r)):Hh(Vt,a.stateNode));break;case 4:h=Vt,f=Jn,Vt=a.stateNode.containerInfo,Jn=!0,Si(r,s,a),Vt=h,Jn=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&kd(a,s,w),f=f.next}while(f!==h)}Si(r,s,a);break;case 1:if(!Ht&&(Po(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){lt(a,s,A)}Si(r,s,a);break;case 21:Si(r,s,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,Si(r,s,a),Ht=h):Si(r,s,a);break;default:Si(r,s,a)}}function Bg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new CE),s.forEach(function(h){var f=VE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Zn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Vt=A.stateNode,Jn=!1;break e;case 3:Vt=A.stateNode.containerInfo,Jn=!0;break e;case 4:Vt=A.stateNode.containerInfo,Jn=!0;break e}A=A.return}if(Vt===null)throw Error(t(160));jg(g,w,f),Vt=null,Jn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){lt(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)zg(s,r),s=s.sibling}function zg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zn(s,r),_r(r),h&4){try{Qa(3,r,r.return),$u(3,r)}catch(me){lt(r,r.return,me)}try{Qa(5,r,r.return)}catch(me){lt(r,r.return,me)}}break;case 1:Zn(s,r),_r(r),h&512&&a!==null&&Po(a,a.return);break;case 5:if(Zn(s,r),_r(r),h&512&&a!==null&&Po(a,a.return),r.flags&32){var f=r.stateNode;try{ai(f,"")}catch(me){lt(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Yi(f,g),ma(A,w);var W=ma(A,g);for(w=0;w<D.length;w+=2){var ee=D[w],ne=D[w+1];ee==="style"?da(f,ne):ee==="dangerouslySetInnerHTML"?ca(f,ne):ee==="children"?ai(f,ne):K(f,ee,ne,W)}switch(A){case"input":Ji(f,g);break;case"textarea":Hs(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Lr(f,!!g.multiple,ce,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Lr(f,!!g.multiple,g.defaultValue,!0):Lr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Fa]=g}catch(me){lt(r,r.return,me)}}break;case 6:if(Zn(s,r),_r(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){lt(r,r.return,me)}}break;case 3:if(Zn(s,r),_r(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Gn(s.containerInfo)}catch(me){lt(r,r.return,me)}break;case 4:Zn(s,r),_r(r);break;case 13:Zn(s,r),_r(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Ld=Xe())),h&4&&Bg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(W=Ht)||ee,Zn(s,r),Ht=W):Zn(s,r),_r(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&r.mode&1)for(de=r,ee=r.child;ee!==null;){for(ne=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:Qa(4,Z,Z.return);break;case 1:Po(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){lt(h,a,me)}}break;case 5:Po(Z,Z.return);break;case 22:if(Z.memoizedState!==null){qg(ne);continue}}ce!==null?(ce.return=Z,de=ce):qg(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ne.stateNode,D=ne.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=ha("display",w))}catch(me){lt(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(me){lt(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Zn(s,r),_r(r),h&4&&Bg(r);break;case 21:break;default:Zn(s,r),_r(r)}}function _r(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Fg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ai(f,""),h.flags&=-33);var g=Ug(r);Nd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=Ug(r);xd(r,A,w);break;default:throw Error(t(161))}}catch(D){lt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function kE(r,s,a){de=r,$g(r)}function $g(r,s,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||zu;if(!w){var A=f.alternate,D=A!==null&&A.memoizedState!==null||Ht;A=zu;var W=Ht;if(zu=w,(Ht=D)&&!W)for(de=f;de!==null;)w=de,D=w.child,w.tag===22&&w.memoizedState!==null?Wg(f):D!==null?(D.return=w,de=D):Wg(f);for(;g!==null;)de=g,$g(g),g=g.sibling;de=f,zu=A,Ht=W}Hg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,de=g):Hg(r)}}function Hg(r){for(;de!==null;){var s=de;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ht||$u(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Yn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&qm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}qm(s,w,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Gn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Pd(s)}catch(Z){lt(s,s.return,Z)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function qg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function Wg(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{$u(4,s)}catch(D){lt(s,a,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){lt(s,f,D)}}var g=s.return;try{Pd(s)}catch(D){lt(s,g,D)}break;case 5:var w=s.return;try{Pd(s)}catch(D){lt(s,w,D)}}}catch(D){lt(s,s.return,D)}if(s===r){de=null;break}var A=s.sibling;if(A!==null){A.return=s.return,de=A;break}de=s.return}}var PE=Math.ceil,Hu=J.ReactCurrentDispatcher,Dd=J.ReactCurrentOwner,On=J.ReactCurrentBatchConfig,Be=0,Nt=null,_t=null,Mt=0,Tn=0,xo=vi(0),Rt=0,Xa=null,Es=0,qu=0,bd=0,Ya=null,ln=null,Ld=0,No=1/0,Qr=null,Wu=!1,Od=null,Ri=null,Gu=!1,Ci=null,Ku=0,Ja=0,Vd=null,Qu=-1,Xu=0;function Jt(){return Be&6?Xe():Qu!==-1?Qu:Qu=Xe()}function Ai(r){return r.mode&1?Be&2&&Mt!==0?Mt&-Mt:dE.transition!==null?(Xu===0&&(Xu=us()),Xu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Ca(r.type)),r):1}function er(r,s,a,h){if(50<Ja)throw Ja=0,Vd=null,Error(t(185));hi(r,a,h),(!(Be&2)||r!==Nt)&&(r===Nt&&(!(Be&2)&&(qu|=a),Rt===4&&ki(r,Mt)),un(r,h),a===1&&Be===0&&!(s.mode&1)&&(No=Xe()+500,Su&&Ei()))}function un(r,s){var a=r.callbackNode;Mr(r,s);var h=ls(r,r===Nt?Mt:0);if(h===0)a!==null&&Ea(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Ea(a),s===1)r.tag===0?hE(Kg.bind(null,r)):bm(Kg.bind(null,r)),aE(function(){!(Be&6)&&Ei()}),a=null;else{switch(fi(h)){case 1:a=os;break;case 4:a=li;break;case 16:a=kn;break;case 536870912:a=Xl;break;default:a=kn}a=n_(a,Gg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Gg(r,s){if(Qu=-1,Xu=0,Be&6)throw Error(t(327));var a=r.callbackNode;if(Do()&&r.callbackNode!==a)return null;var h=ls(r,r===Nt?Mt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Yu(r,h);else{s=h;var f=Be;Be|=2;var g=Xg();(Nt!==r||Mt!==s)&&(Qr=null,No=Xe()+500,Is(r,s));do try{DE();break}catch(A){Qg(r,A)}while(!0);ed(),Hu.current=g,Be=f,_t!==null?s=0:(Nt=null,Mt=0,s=Rt)}if(s!==0){if(s===2&&(f=_n(r),f!==0&&(h=f,s=Md(r,f))),s===1)throw a=Xa,Is(r,0),ki(r,h),un(r,Xe()),a;if(s===6)ki(r,h);else{if(f=r.current.alternate,!(h&30)&&!xE(f)&&(s=Yu(r,h),s===2&&(g=_n(r),g!==0&&(h=g,s=Md(r,g))),s===1))throw a=Xa,Is(r,0),ki(r,h),un(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ss(r,ln,Qr);break;case 3:if(ki(r,h),(h&130023424)===h&&(s=Ld+500-Xe(),10<s)){if(ls(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=$h(Ss.bind(null,r,ln,Qr),s);break}Ss(r,ln,Qr);break;case 4:if(ki(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Qt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*PE(h/1960))-h,10<h){r.timeoutHandle=$h(Ss.bind(null,r,ln,Qr),h);break}Ss(r,ln,Qr);break;case 5:Ss(r,ln,Qr);break;default:throw Error(t(329))}}}return un(r,Xe()),r.callbackNode===a?Gg.bind(null,r):null}function Md(r,s){var a=Ya;return r.current.memoizedState.isDehydrated&&(Is(r,s).flags|=256),r=Yu(r,s),r!==2&&(s=ln,ln=a,s!==null&&Fd(s)),r}function Fd(r){ln===null?ln=r:ln.push.apply(ln,r)}function xE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Qn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(r,s){for(s&=~bd,s&=~qu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),h=1<<a;r[a]=-1,s&=~h}}function Kg(r){if(Be&6)throw Error(t(327));Do();var s=ls(r,0);if(!(s&1))return un(r,Xe()),null;var a=Yu(r,s);if(r.tag!==0&&a===2){var h=_n(r);h!==0&&(s=h,a=Md(r,h))}if(a===1)throw a=Xa,Is(r,0),ki(r,s),un(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ss(r,ln,Qr),un(r,Xe()),null}function Ud(r,s){var a=Be;Be|=1;try{return r(s)}finally{Be=a,Be===0&&(No=Xe()+500,Su&&Ei())}}function Ts(r){Ci!==null&&Ci.tag===0&&!(Be&6)&&Do();var s=Be;Be|=1;var a=On.transition,h=Ve;try{if(On.transition=null,Ve=1,r)return r()}finally{Ve=h,On.transition=a,Be=s,!(Be&6)&&Ei()}}function jd(){Tn=xo.current,Ze(xo)}function Is(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,oE(a)),_t!==null)for(a=_t.return;a!==null;){var h=a;switch(Qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Tu();break;case 3:Ao(),Ze(sn),Ze(Bt),ld();break;case 5:od(h);break;case 4:Ao();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:td(h.type._context);break;case 22:case 23:jd()}a=a.return}if(Nt=r,_t=r=Pi(r.current,null),Mt=Tn=s,Rt=0,Xa=null,bd=qu=Es=0,ln=Ya=null,ys!==null){for(s=0;s<ys.length;s++)if(a=ys[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}ys=null}return r}function Qg(r,s){do{var a=_t;try{if(ed(),Lu.current=Fu,Ou){for(var h=st.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Ou=!1}if(ws=0,xt=St=st=null,Ha=!1,qa=0,Dd.current=null,a===null||a.return===null){Rt=1,Xa=s,_t=null;break}e:{var g=r,w=a.return,A=a,D=s;if(s=Mt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ee=A,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=wg(w);if(ce!==null){ce.flags&=-257,Eg(ce,w,A,g,s),ce.mode&1&&vg(g,W,s),s=ce,D=W;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(D),s.updateQueue=me}else pe.add(D);break e}else{if(!(s&1)){vg(g,W,s),Bd();break e}D=Error(t(426))}}else if(nt&&A.mode&1){var ft=wg(w);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),Eg(ft,w,A,g,s),Jh(ko(D,A));break e}}g=D=ko(D,A),Rt!==4&&(Rt=2),Ya===null?Ya=[g]:Ya.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=_g(g,D,s);Hm(g,$);break e;case 1:A=D;var V=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ri===null||!Ri.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=yg(g,A,s);Hm(g,se);break e}}g=g.return}while(g!==null)}Jg(a)}catch(ge){s=ge,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function Xg(){var r=Hu.current;return Hu.current=Fu,r===null?Fu:r}function Bd(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Nt===null||!(Es&268435455)&&!(qu&268435455)||ki(Nt,Mt)}function Yu(r,s){var a=Be;Be|=2;var h=Xg();(Nt!==r||Mt!==s)&&(Qr=null,Is(r,s));do try{NE();break}catch(f){Qg(r,f)}while(!0);if(ed(),Be=a,Hu.current=h,_t!==null)throw Error(t(261));return Nt=null,Mt=0,Rt}function NE(){for(;_t!==null;)Yg(_t)}function DE(){for(;_t!==null&&!Kl();)Yg(_t)}function Yg(r){var s=t_(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,s===null?Jg(r):_t=s,Dd.current=null}function Jg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=RE(a,s),a!==null){a.flags&=32767,_t=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,_t=null;return}}else if(a=SE(a,s,Tn),a!==null){_t=a;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);Rt===0&&(Rt=5)}function Ss(r,s,a){var h=Ve,f=On.transition;try{On.transition=null,Ve=1,bE(r,s,a,h)}finally{On.transition=f,Ve=h}return null}function bE(r,s,a,h){do Do();while(Ci!==null);if(Be&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ke(r,g),r===Nt&&(_t=Nt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Gu||(Gu=!0,n_(kn,function(){return Do(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=On.transition,On.transition=null;var w=Ve;Ve=1;var A=Be;Be|=4,Dd.current=null,AE(r,a),zg(a,r),Zw(Bh),mi=!!jh,Bh=jh=null,r.current=a,kE(a),Sh(),Be=A,Ve=w,On.transition=g}else r.current=a;if(Gu&&(Gu=!1,Ci=r,Ku=f),g=r.pendingLanes,g===0&&(Ri=null),Yl(a.stateNode),un(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Wu)throw Wu=!1,r=Od,Od=null,r;return Ku&1&&r.tag!==0&&Do(),g=r.pendingLanes,g&1?r===Vd?Ja++:(Ja=0,Vd=r):Ja=0,Ei(),null}function Do(){if(Ci!==null){var r=fi(Ku),s=On.transition,a=Ve;try{if(On.transition=null,Ve=16>r?16:r,Ci===null)var h=!1;else{if(r=Ci,Ci=null,Ku=0,Be&6)throw Error(t(331));var f=Be;for(Be|=4,de=r.current;de!==null;){var g=de,w=g.child;if(de.flags&16){var A=g.deletions;if(A!==null){for(var D=0;D<A.length;D++){var W=A[D];for(de=W;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:Qa(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,de=ne;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(Mg(ee),ee===W){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,de=w;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Qa(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,de=$;break e}de=g.return}}var V=r.current;for(de=V;de!==null;){w=de;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,de=q;else e:for(w=V;de!==null;){if(A=de,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:$u(9,A)}}catch(ge){lt(A,A.return,ge)}if(A===w){de=null;break e}var se=A.sibling;if(se!==null){se.return=A.return,de=se;break e}de=A.return}}if(Be=f,Ei(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(as,r)}catch{}h=!0}return h}finally{Ve=a,On.transition=s}}return!1}function Zg(r,s,a){s=ko(a,s),s=_g(r,s,1),r=Ii(r,s,1),s=Jt(),r!==null&&(hi(r,1,s),un(r,s))}function lt(r,s,a){if(r.tag===3)Zg(r,r,a);else for(;s!==null;){if(s.tag===3){Zg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){r=ko(a,r),r=yg(s,r,1),s=Ii(s,r,1),r=Jt(),s!==null&&(hi(s,1,r),un(s,r));break}}s=s.return}}function LE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Mt&a)===a&&(Rt===4||Rt===3&&(Mt&130023424)===Mt&&500>Xe()-Ld?Is(r,0):bd|=a),un(r,s)}function e_(r,s){s===0&&(r.mode&1?(s=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):s=1);var a=Jt();r=Wr(r,s),r!==null&&(hi(r,s,a),un(r,a))}function OE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),e_(r,a)}function VE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),e_(r,a)}var t_;t_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return an=!1,IE(r,s,a);an=!!(r.flags&131072)}else an=!1,nt&&s.flags&1048576&&Lm(s,Cu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Bu(r,s),r=s.pendingProps;var f=wo(s,Bt.current);Co(s,a),f=hd(null,s,h,r,f,a);var g=dd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(g=!0,Iu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,id(s),f.updater=Uu,s.stateNode=f,f._reactInternals=s,yd(s,h,r,a),s=Td(null,s,h,!0,g,a)):(s.tag=0,nt&&g&&Kh(s),Yt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Bu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=FE(h),r=Yn(h,r),f){case 0:s=Ed(null,s,h,r,a);break e;case 1:s=Ag(null,s,h,r,a);break e;case 11:s=Tg(null,s,h,r,a);break e;case 14:s=Ig(null,s,h,Yn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Ed(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Ag(r,s,h,f,a);case 3:e:{if(kg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,$m(r,s),Du(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ko(Error(t(423)),s),s=Pg(r,s,h,a,f);break e}else if(h!==f){f=ko(Error(t(424)),s),s=Pg(r,s,h,a,f);break e}else for(En=yi(s.stateNode.containerInfo.firstChild),wn=s,nt=!0,Xn=null,a=Bm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),h===f){s=Kr(r,s,a);break e}Yt(r,s,h,a)}s=s.child}return s;case 5:return Wm(s),r===null&&Yh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,zh(h,f)?w=null:g!==null&&zh(h,g)&&(s.flags|=32),Cg(r,s),Yt(r,s,w,a),s.child;case 6:return r===null&&Yh(s),null;case 13:return xg(r,s,a);case 4:return sd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=So(s,null,h,a):Yt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Tg(r,s,h,f,a);case 7:return Yt(r,s,s.pendingProps,a),s.child;case 8:return Yt(r,s,s.pendingProps.children,a),s.child;case 12:return Yt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ye(Pu,h._currentValue),h._currentValue=w,g!==null)if(Qn(g.value,w)){if(g.children===f.children&&!sn.current){s=Kr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var D=A.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=Gr(-1,a&-a),D.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),W.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),nd(g.return,a,s),A.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),nd(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Yt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Co(s,a),f=bn(f),h=h(f),s.flags|=1,Yt(r,s,h,a),s.child;case 14:return h=s.type,f=Yn(h,s.pendingProps),f=Yn(h.type,f),Ig(r,s,h,f,a);case 15:return Sg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Bu(r,s),s.tag=1,on(h)?(r=!0,Iu(s)):r=!1,Co(s,a),mg(s,h,f),yd(s,h,f,a),Td(null,s,h,!0,r,a);case 19:return Dg(r,s,a);case 22:return Rg(r,s,a)}throw Error(t(156,s.tag))};function n_(r,s){return Js(r,s)}function ME(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,a,h){return new ME(r,s,a,h)}function zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function FE(r){if(typeof r=="function")return zd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===mt)return 14}return 2}function Pi(r,s){var a=r.alternate;return a===null?(a=Vn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ju(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")zd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return Rs(a.children,f,g,s);case R:w=8,f|=8;break;case C:return r=Vn(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case k:return r=Vn(13,a,s,f),r.elementType=k,r.lanes=g,r;case We:return r=Vn(19,a,s,f),r.elementType=We,r.lanes=g,r;case He:return Zu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case M:w=9;break e;case L:w=11;break e;case mt:w=14;break e;case kt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Rs(r,s,a,h){return r=Vn(7,r,h,s),r.lanes=a,r}function Zu(r,s,a,h){return r=Vn(22,r,h,s),r.elementType=He,r.lanes=a,r.stateNode={isHidden:!1},r}function $d(r,s,a){return r=Vn(6,r,null,s),r.lanes=a,r}function Hd(r,s,a){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function UE(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qd(r,s,a,h,f,g,w,A,D){return r=new UE(r,s,a,A,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(g),r}function jE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function r_(r){if(!r)return wi;r=r._reactInternals;e:{if(zn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return Nm(r,a,s)}return s}function i_(r,s,a,h,f,g,w,A,D){return r=qd(a,h,!0,r,f,g,w,A,D),r.context=r_(null),a=r.current,h=Jt(),f=Ai(a),g=Gr(h,f),g.callback=s??null,Ii(a,g,f),r.current.lanes=f,hi(r,f,h),un(r,h),r}function ec(r,s,a,h){var f=s.current,g=Jt(),w=Ai(f);return a=r_(a),s.context===null?s.context=a:s.pendingContext=a,s=Gr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ii(f,s,w),r!==null&&(er(r,f,w,g),Nu(r,f,w)),w}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function s_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Wd(r,s){s_(r,s),(r=r.alternate)&&s_(r,s)}function BE(){return null}var o_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gd(r){this._internalRoot=r}nc.prototype.render=Gd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ec(r,s,null,null)},nc.prototype.unmount=Gd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ts(function(){ec(null,r,null,null)}),s[zr]=null}};function nc(r){this._internalRoot=r}nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=nu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<cr.length&&s!==0&&s<cr[a].priority;a++);cr.splice(a,0,r),a===0&&su(r)}};function Kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function a_(){}function zE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=tc(w);g.call(W)}}var w=i_(s,h,r,0,null,!1,!1,"",a_);return r._reactRootContainer=w,r[zr]=w.current,Va(r.nodeType===8?r.parentNode:r),Ts(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var W=tc(D);A.call(W)}}var D=qd(r,0,!1,null,null,!1,!1,"",a_);return r._reactRootContainer=D,r[zr]=D.current,Va(r.nodeType===8?r.parentNode:r),Ts(function(){ec(s,D,a,h)}),D}function ic(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var D=tc(w);A.call(D)}}ec(s,w,r,f)}else w=zE(a,s,r,f,h);return tc(w)}eu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ui(s.pendingLanes);a!==0&&(di(s,a|1),un(s,Xe()),!(Be&6)&&(No=Xe()+500,Ei()))}break;case 13:Ts(function(){var h=Wr(r,1);if(h!==null){var f=Jt();er(h,r,1,f)}}),Wd(r,1)}},to=function(r){if(r.tag===13){var s=Wr(r,134217728);if(s!==null){var a=Jt();er(s,r,134217728,a)}Wd(r,134217728)}},tu=function(r){if(r.tag===13){var s=Ai(r),a=Wr(r,s);if(a!==null){var h=Jt();er(a,r,s,h)}Wd(r,s)}},nu=function(){return Ve},ru=function(r,s){var a=Ve;try{return Ve=r,s()}finally{Ve=a}},Ws=function(r,s,a){switch(s){case"input":if(Ji(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Eu(h);if(!f)throw Error(t(90));mn(h),Ji(h,f)}}}break;case"textarea":Hs(r,a);break;case"select":s=a.value,s!=null&&Lr(r,!!a.multiple,s,!1)}},ns=Ud,_a=Ts;var $E={usingClientEntryPoint:!1,Events:[Ua,yo,Eu,lr,ga,Ud]},Za={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HE={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=wa(r),r===null?null:r.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||BE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{as=sc.inject(HE),gn=sc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$E,cn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(s))throw Error(t(200));return jE(r,s,null,a)},cn.createRoot=function(r,s){if(!Kd(r))throw Error(t(299));var a=!1,h="",f=o_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=qd(r,1,!1,null,null,a,!1,h,f),r[zr]=s.current,Va(r.nodeType===8?r.parentNode:r),new Gd(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=wa(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return Ts(r)},cn.hydrate=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!0,a)},cn.hydrateRoot=function(r,s,a){if(!Kd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=o_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=i_(s,null,r,1,a??null,f,!1,g,w),r[zr]=s.current,Va(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new nc(s)},cn.render=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!1,a)},cn.unmountComponentAtNode=function(r){if(!rc(r))throw Error(t(40));return r._reactRootContainer?(Ts(function(){ic(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},cn.unstable_batchedUpdates=Ud,cn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!rc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ic(r,s,a,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var m_;function JE(){if(m_)return Yd.exports;m_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yd.exports=YE(),Yd.exports}var g_;function ZE(){if(g_)return oc;g_=1;var n=JE();return oc.createRoot=n.createRoot,oc.hydrateRoot=n.hydrateRoot,oc}var eT=ZE(),tl={},__;function tT(){if(__)return tl;__=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.parse=c,tl.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,x){const O=new l,j=E.length;if(j<2)return O;const b=(x==null?void 0:x.decode)||v;let z=0;do{const H=E.indexOf("=",z);if(H===-1)break;const K=E.indexOf(";",z),J=K===-1?j:K;if(H>J){z=E.lastIndexOf(";",H-1)+1;continue}const te=d(E,z,H),re=p(E,H,te),P=E.slice(te,re);if(O[P]===void 0){let R=d(E,H+1,J),C=p(E,J,R);const N=b(E.slice(R,C));O[P]=N}z=J+1}while(z<j);return O}function d(E,x,O){do{const j=E.charCodeAt(x);if(j!==32&&j!==9)return x}while(++x<O);return O}function p(E,x,O){for(;x>O;){const j=E.charCodeAt(--x);if(j!==32&&j!==9)return x+1}return O}function _(E,x,O){const j=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const b=j(x);if(!e.test(b))throw new TypeError(`argument val is invalid: ${x}`);let z=E+"="+b;if(!O)return z;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);z+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);z+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);z+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);z+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(z+="; HttpOnly"),O.secure&&(z+="; Secure"),O.partitioned&&(z+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return z}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function S(E){return o.call(E)==="[object Date]"}return tl}tT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y_="popstate";function nT(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Vs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_f("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");d=_===-1?p:p.slice(0,_)}return d+"#"+(typeof l=="string"?l:vl(l))}function i(o,l){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iT(e,t,i,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function v_(n,e){return{usr:n.state,key:n.key,idx:e}}function _f(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:t,key:e&&e.key||i||rT()}}function vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function iT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,_=v();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function v(){return(c.state||{idx:null}).idx}function S(){d="POP";let b=v(),z=b==null?null:b-_;_=b,p&&p({action:d,location:j.location,delta:z})}function E(b,z){d="PUSH";let H=_f(j.location,b,z);t&&t(H,b),_=v()+1;let K=v_(H,_),J=j.createHref(H);try{c.pushState(K,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(J)}l&&p&&p({action:d,location:j.location,delta:1})}function x(b,z){d="REPLACE";let H=_f(j.location,b,z);t&&t(H,b),_=v();let K=v_(H,_),J=j.createHref(H);c.replaceState(K,"",J),l&&p&&p({action:d,location:j.location,delta:0})}function O(b){let z=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof b=="string"?b:vl(b);return H=H.replace(/ $/,"%20"),rt(z,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,z)}let j={get action(){return d},get location(){return n(o,c)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(y_,S),p=b,()=>{o.removeEventListener(y_,S),p=null}},createHref(b){return e(o,b)},createURL:O,encodeLocation(b){let z=O(b);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:x,go(b){return c.go(b)}};return j}function Xy(n,e,t="/"){return sT(n,e,t,!1)}function sT(n,e,t,i){let o=typeof e=="string"?Vs(e):e,l=Bi(o.pathname||"/",t);if(l==null)return null;let c=Yy(n);oT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=_T(l);d=mT(c[p],_,i)}return d}function Yy(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ei([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Yy(l.children,e,v,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:fT(_,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of Jy(l.path))o(l,c,p)}),e}function Jy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Jy(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function oT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aT=/^:[\w-]+$/,lT=3,uT=2,cT=1,hT=10,dT=-2,w_=n=>n==="*";function fT(n,e){let t=n.split("/"),i=t.length;return t.some(w_)&&(i+=dT),e&&(i+=uT),t.filter(o=>!w_(o)).reduce((o,l)=>o+(aT.test(l)?lT:l===""?cT:hT),i)}function pT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function mT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",S=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},v),E=p.route;if(!S&&_&&t&&!i[i.length-1].route.index&&(S=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:ei([l,S.pathname]),pathnameBase:ET(ei([l,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(l=ei([l,S.pathnameBase]))}return c}function xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=gT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:v,isOptional:S},E)=>{if(v==="*"){let O=d[E]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[E];return S&&!x?_[v]=void 0:_[v]=(x||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:n}}function gT(n,e=!1,t=!0){Fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function _T(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Vs(n):n;return{pathname:t?t.startsWith("/")?t:vT(t,e):e,search:TT(i),hash:IT(o)}}function vT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ef(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gf(n){let e=wT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Kf(n,e,t,i=!1){let o;typeof n=="string"?o=Vs(n):(o={...n},rt(!o.pathname||!o.pathname.includes("?"),ef("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),ef("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),ef("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),S-=1;o.pathname=E.join("/")}d=S>=0?e[S]:"/"}let p=yT(o,d),_=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||v)&&(p.pathname+="/"),p}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),ET=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ST(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Zy=["POST","PUT","PATCH","DELETE"];new Set(Zy);var RT=["GET",...Zy];new Set(RT);var Yo=F.createContext(null);Yo.displayName="DataRouter";var Qc=F.createContext(null);Qc.displayName="DataRouterState";var ev=F.createContext({isTransitioning:!1});ev.displayName="ViewTransition";var CT=F.createContext(new Map);CT.displayName="Fetchers";var AT=F.createContext(null);AT.displayName="Await";var ir=F.createContext(null);ir.displayName="Navigation";var xl=F.createContext(null);xl.displayName="Location";var sr=F.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Qf=F.createContext(null);Qf.displayName="RouteError";function kT(n,{relative:e}={}){rt(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(ir),{hash:o,pathname:l,search:c}=Nl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ei([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Jo(){return F.useContext(xl)!=null}function or(){return rt(Jo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(xl).location}var tv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nv(n){F.useContext(ir).static||F.useLayoutEffect(n)}function Zo(){let{isDataRoute:n}=F.useContext(sr);return n?$T():PT()}function PT(){rt(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Yo),{basename:e,navigator:t}=F.useContext(ir),{matches:i}=F.useContext(sr),{pathname:o}=or(),l=JSON.stringify(Gf(i)),c=F.useRef(!1);return nv(()=>{c.current=!0}),F.useCallback((p,_={})=>{if(Fn(c.current,tv),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Kf(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ei([e,v.pathname])),(_.replace?t.replace:t.push)(v,_.state,_)},[e,t,l,o,n])}var xT=F.createContext(null);function NT(n){let e=F.useContext(sr).outlet;return e&&F.createElement(xT.Provider,{value:n},e)}function Nl(n,{relative:e}={}){let{matches:t}=F.useContext(sr),{pathname:i}=or(),o=JSON.stringify(Gf(t));return F.useMemo(()=>Kf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function DT(n,e){return rv(n,e)}function rv(n,e,t,i){var z;rt(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(ir),{matches:l}=F.useContext(sr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",v=c&&c.route;{let H=v&&v.path||"";iv(p,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=or(),E;if(e){let H=typeof e=="string"?Vs(e):e;rt(_==="/"||((z=H.pathname)==null?void 0:z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${H.pathname}" was given in the \`location\` prop.`),E=H}else E=S;let x=E.pathname||"/",O=x;if(_!=="/"){let H=_.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=Xy(n,{pathname:O});Fn(v||j!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Fn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=MT(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:ei([_,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?_:ei([_,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,i);return e&&b?F.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},b):b}function bT(){let n=zT(),e=ST(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var LT=F.createElement(bT,null),OT=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(sr.Provider,{value:this.props.routeContext},F.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VT({routeContext:n,match:e,children:t}){let i=F.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(sr.Provider,{value:n},t)}function MT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:S}=t,E=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||E){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,v)=>{let S,E=!1,x=null,O=null;t&&(S=l&&_.route.id?l[_.route.id]:void 0,x=_.route.errorElement||LT,c&&(d<0&&v===0?(iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):d===v&&(E=!0,O=_.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),b=()=>{let z;return S?z=x:E?z=O:_.route.Component?z=F.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=p,F.createElement(VT,{match:_,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?F.createElement(OT,{location:t.location,revalidation:t.revalidation,component:x,error:S,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}function Xf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(n){let e=F.useContext(Yo);return rt(e,Xf(n)),e}function UT(n){let e=F.useContext(Qc);return rt(e,Xf(n)),e}function jT(n){let e=F.useContext(sr);return rt(e,Xf(n)),e}function Yf(n){let e=jT(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BT(){return Yf("useRouteId")}function zT(){var i;let n=F.useContext(Qf),e=UT("useRouteError"),t=Yf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function $T(){let{router:n}=FT("useNavigate"),e=Yf("useNavigate"),t=F.useRef(!1);return nv(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{Fn(t.current,tv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var E_={};function iv(n,e,t){!e&&!E_[n]&&(E_[n]=!0,Fn(!1,t))}F.memo(HT);function HT({routes:n,future:e,state:t}){return rv(n,void 0,t,e)}function T_({to:n,replace:e,state:t,relative:i}){rt(Jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(ir);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(sr),{pathname:c}=or(),d=Zo(),p=Kf(n,Gf(l),c,i==="path"),_=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function qT(n){return NT(n.context)}function vr(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){rt(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Vs(t));let{pathname:p="/",search:_="",hash:v="",state:S=null,key:E="default"}=t,x=F.useMemo(()=>{let O=Bi(p,c);return O==null?null:{location:{pathname:O,search:_,hash:v,state:S,key:E},navigationType:i}},[c,p,_,v,S,E,i]);return Fn(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(ir.Provider,{value:d},F.createElement(xl.Provider,{children:e,value:x}))}function GT({children:n,location:e}){return DT(yf(n),e)}function yf(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let l=[...e,o];if(i.type===F.Fragment){t.push.apply(t,yf(i.props.children,l));return}rt(i.type===vr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=yf(i.props.children,l)),t.push(c)}),t}var _c="get",yc="application/x-www-form-urlencoded";function Xc(n){return n!=null&&typeof n.tagName=="string"}function KT(n){return Xc(n)&&n.tagName.toLowerCase()==="button"}function QT(n){return Xc(n)&&n.tagName.toLowerCase()==="form"}function XT(n){return Xc(n)&&n.tagName.toLowerCase()==="input"}function YT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JT(n,e){return n.button===0&&(!e||e==="_self")&&!YT(n)}var ac=null;function ZT(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var eI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(n){return n!=null&&!eI.has(n)?(Fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):n}function tI(n,e){let t,i,o,l,c;if(QT(n)){let d=n.getAttribute("action");i=d?Bi(d,e):null,t=n.getAttribute("method")||_c,o=tf(n.getAttribute("enctype"))||yc,l=new FormData(n)}else if(KT(n)||XT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Bi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||_c,o=tf(n.getAttribute("formenctype"))||tf(d.getAttribute("enctype"))||yc,l=new FormData(d,n),!ZT()){let{name:_,type:v,value:S}=n;if(v==="image"){let E=_?`${_}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else _&&l.append(_,S)}}else{if(Xc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_c,i=null,o=yc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Jf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iI(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await nI(l,t);return c.links?c.links():[]}return[]}));return lI(i.flat(1).filter(rI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(n,e,t,i,o,l){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var v;return t[_].pathname!==p.pathname||((v=t[_].route.path)==null?void 0:v.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):l==="data"?e.filter((p,_)=>{var S;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function sI(n,e){return oI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function oI(n){return[...new Set(n)]}function aI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function lI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(aI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function uI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cI(){let n=F.useContext(Yo);return Jf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hI(){let n=F.useContext(Qc);return Jf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zf=F.createContext(void 0);Zf.displayName="FrameworkContext";function sv(){let n=F.useContext(Zf);return Jf(n,"You must render this element inside a <HydratedRouter> element"),n}function dI(n,e){let t=F.useContext(Zf),[i,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:v,onTouchStart:S}=e,E=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=z=>{z.forEach(H=>{c(H.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[n]),F.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let x=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:nl(d,x),onBlur:nl(p,O),onMouseEnter:nl(_,x),onMouseLeave:nl(v,O),onTouchStart:nl(S,x)}]:[!1,E,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fI({page:n,...e}){let{router:t}=cI(),i=F.useMemo(()=>Xy(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(mI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function pI(n){let{manifest:e,routeModules:t}=sv(),[i,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return iI(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function mI({page:n,matches:e,...t}){let i=or(),{manifest:o,routeModules:l}=sv(),{loaderData:c,matches:d}=hI(),p=F.useMemo(()=>I_(n,e,d,o,i,"data"),[n,e,d,o,i]),_=F.useMemo(()=>I_(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,O=!1;if(e.forEach(b=>{var H;let z=o.routes[b.route.id];!z||!z.hasLoader||(!p.some(K=>K.route.id===b.route.id)&&b.route.id in c&&((H=l[b.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?O=!0:x.add(b.route.id))}),x.size===0)return[];let j=uI(n);return O&&x.size>0&&j.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[j.pathname+j.search]},[c,i,o,p,e,n,l]),S=F.useMemo(()=>sI(_,o),[_,o]),E=pI(_);return F.createElement(F.Fragment,null,v.map(x=>F.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),S.map(x=>F.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),E.map(({key:x,link:O})=>F.createElement("link",{key:x,...O})))}function gI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ov&&(window.__reactRouterVersion="7.0.2")}catch{}function _I({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=nT({window:t,v5Compat:!0}));let o=i.current,[l,c]=F.useState({action:o.action,location:o.location}),d=F.useCallback(p=>{F.startTransition(()=>c(p))},[c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(WT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dl=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:_,preventScrollReset:v,viewTransition:S,...E},x){let{basename:O}=F.useContext(ir),j=typeof _=="string"&&av.test(_),b,z=!1;if(typeof _=="string"&&j&&(b=_,ov))try{let C=new URL(window.location.href),N=_.startsWith("//")?new URL(C.protocol+_):new URL(_),M=Bi(N.pathname,O);N.origin===C.origin&&M!=null?_=M+N.search+N.hash:z=!0}catch{Fn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=kT(_,{relative:o}),[K,J,te]=dI(i,E),re=EI(_,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:S});function P(C){e&&e(C),C.defaultPrevented||re(C)}let R=F.createElement("a",{...E,...te,href:b||H,onClick:z||l?e:P,ref:gI(x,J),target:p,"data-discover":!j&&t==="render"?"true":void 0});return K&&!j?F.createElement(F.Fragment,null,R,F.createElement(fI,{page:H})):R});dl.displayName="Link";var yI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,..._},v){let S=Nl(c,{relative:_.relative}),E=or(),x=F.useContext(Qc),{navigator:O,basename:j}=F.useContext(ir),b=x!=null&&CI(S)&&d===!0,z=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,H=E.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(H=H.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&j&&(K=Bi(K,j)||K);const J=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=H===z||!o&&H.startsWith(z)&&H.charAt(J)==="/",re=K!=null&&(K===z||!o&&K.startsWith(z)&&K.charAt(z.length)==="/"),P={isActive:te,isPending:re,isTransitioning:b},R=te?e:void 0,C;typeof i=="function"?C=i(P):C=[i,te?"active":null,re?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return F.createElement(dl,{..._,"aria-current":R,className:C,ref:v,style:N,to:c,viewTransition:d},typeof p=="function"?p(P):p)});yI.displayName="NavLink";var vI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=_c,action:d,onSubmit:p,relative:_,preventScrollReset:v,viewTransition:S,...E},x)=>{let O=SI(),j=RI(d,{relative:_}),b=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&av.test(d),H=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,te=(J==null?void 0:J.getAttribute("formmethod"))||c;O(J||K.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:l,relative:_,preventScrollReset:v,viewTransition:S})};return F.createElement("form",{ref:x,method:b,action:j,onSubmit:i?p:H,...E,"data-discover":!z&&n==="render"?"true":void 0})});vI.displayName="Form";function wI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(n){let e=F.useContext(Yo);return rt(e,wI(n)),e}function EI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Zo(),p=or(),_=Nl(n,{relative:l});return F.useCallback(v=>{if(JT(v,e)){v.preventDefault();let S=t!==void 0?t:vl(p)===vl(_);d(n,{replace:S,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,_,t,i,e,n,o,l,c])}var TI=0,II=()=>`__${String(++TI)}__`;function SI(){let{router:n}=lv("useSubmit"),{basename:e}=F.useContext(ir),t=BT();return F.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:_}=tI(i,e);if(o.navigate===!1){let v=o.fetcherKey||II();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function RI(n,{relative:e}={}){let{basename:t}=F.useContext(ir),i=F.useContext(sr);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Nl(n||".",{relative:e})},c=or();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(S=>S).forEach(S=>d.append("index",S));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ei([t,l.pathname])),vl(l)}function CI(n,e={}){let t=F.useContext(ev);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lv("useViewTransitionState"),o=Nl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return xc(o.pathname,c)!=null||xc(o.pathname,l)!=null}new TextEncoder;const AI="_sidebar_cvnr2_1",kI="_profileSection_cvnr2_19",PI="_navigation_cvnr2_35",xI="_avatar_cvnr2_43",NI="_userInfo_cvnr2_69",DI="_navList_cvnr2_105",bI="_navItem_cvnr2_123",LI="_navLink_cvnr2_131",OI="_createEventBtn_cvnr2_161",VI="_dropdown_cvnr2_197",MI="_dropdownItem_cvnr2_231",FI="_logoutBtn_cvnr2_253",UI="_dashboardContainer_cvnr2_295",jI="_mainContent_cvnr2_303",BI="_welcomeContainer_cvnr2_335",zI="_welcomeTitle_cvnr2_355",$I="_welcomeText_cvnr2_375",HI="_hamburgerBtn_cvnr2_383",qI="_overlay_cvnr2_409",WI="_sidebarOpen_cvnr2_449",xe={sidebar:AI,profileSection:kI,navigation:PI,avatar:xI,userInfo:NI,navList:DI,navItem:bI,navLink:LI,createEventBtn:OI,dropdown:VI,dropdownItem:MI,logoutBtn:FI,dashboardContainer:UI,mainContent:jI,welcomeContainer:BI,welcomeTitle:zI,welcomeText:$I,hamburgerBtn:HI,overlay:qI,sidebarOpen:WI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},p)=>F.createElement("svg",{ref:p,...KI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:uv("lucide",o),...d},[...c.map(([_,v])=>F.createElement(_,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(n,e)=>{const t=F.forwardRef(({className:i,...o},l)=>F.createElement(QI,{ref:l,iconNode:e,className:uv(`lucide-${GI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=wt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=wt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=wt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=wt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=wt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=wt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=wt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=wt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=wt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=wt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},h1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,v=l>>2,S=(l&3)<<4|d>>4;let E=(d&15)<<2|_>>6,x=_&63;p||(x=64,c||(E=64)),i.push(t[v],t[S],t[E],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):h1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||S==null)throw new d1;const E=l<<2|d>>4;if(i.push(E),_!==64){const x=d<<4&240|_>>2;if(i.push(x),S!==64){const O=_<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(n){const e=fv(n);return pv.encodeByteArray(e,!0)},Nc=function(n){return f1(n).replace(/\./g,"")},mv=function(n){try{return pv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>p1().__FIREBASE_DEFAULTS__,g1=()=>{if(typeof process>"u"||typeof R_>"u")return;const n=R_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mv(n[1]);return e&&JSON.parse(e)},Yc=()=>{try{return m1()||g1()||_1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gv=n=>{var e,t;return(t=(e=Yc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_v=n=>{const e=gv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yv=()=>{var n;return(n=Yc())===null||n===void 0?void 0:n.config},vv=n=>{var e;return(e=Yc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nc(JSON.stringify(t)),Nc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function w1(){var n;const e=(n=Yc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function R1(){return!w1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="FirebaseError";class Nr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=k1,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?P1(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Nr(o,d,i)}}function P1(n,e){return n.replace(x1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const x1=/\{\$([^}]+)}/g;function N1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(C_(l)&&C_(c)){if(!Dc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function C_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ol(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function D1(n,e){const t=new b1(n,e);return t.subscribe.bind(t)}class b1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");L1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=rf),o.error===void 0&&(o.error=rf),o.complete===void 0&&(o.complete=rf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new y1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:V1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V1(n){return n===As?void 0:n}function M1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new O1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const U1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},j1=Le.INFO,B1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},z1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=B1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const $1=(n,e)=>e.some(t=>n instanceof t);let A_,k_;function H1(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q1(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ev=new WeakMap,vf=new WeakMap,Tv=new WeakMap,sf=new WeakMap,tp=new WeakMap;function W1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Mi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ev.set(t,n)}).catch(()=>{}),tp.set(e,n),e}function G1(n){if(vf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vf.set(n,e)}let wf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function K1(n){wf=n(wf)}function Q1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(of(this),e,...t);return Tv.set(i,e.sort?e.sort():[e]),Mi(i)}:q1().includes(n)?function(...e){return n.apply(of(this),e),Mi(Ev.get(this))}:function(...e){return Mi(n.apply(of(this),e))}}function X1(n){return typeof n=="function"?Q1(n):(n instanceof IDBTransaction&&G1(n),$1(n,H1())?new Proxy(n,wf):n)}function Mi(n){if(n instanceof IDBRequest)return W1(n);if(sf.has(n))return sf.get(n);const e=X1(n);return e!==n&&(sf.set(n,e),tp.set(e,n)),e}const of=n=>tp.get(n);function Y1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Mi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Mi(c.result),p.oldVersion,p.newVersion,Mi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const J1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],af=new Map;function P_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Z1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return af.set(e,l),l}K1(n=>({...n,get:(e,t,i)=>P_(e,t)||n.get(e,t,i),has:(e,t)=>!!P_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function tS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",x_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new ep("@firebase/app"),nS="@firebase/app-compat",rS="@firebase/analytics-compat",iS="@firebase/analytics",sS="@firebase/app-check-compat",oS="@firebase/app-check",aS="@firebase/auth",lS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",dS="@firebase/functions",fS="@firebase/functions-compat",pS="@firebase/installations",mS="@firebase/installations-compat",gS="@firebase/messaging",_S="@firebase/messaging-compat",yS="@firebase/performance",vS="@firebase/performance-compat",wS="@firebase/remote-config",ES="@firebase/remote-config-compat",TS="@firebase/storage",IS="@firebase/storage-compat",SS="@firebase/firestore",RS="@firebase/vertexai",CS="@firebase/firestore-compat",AS="firebase",kS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",PS={[Ef]:"fire-core",[nS]:"fire-core-compat",[iS]:"fire-analytics",[rS]:"fire-analytics-compat",[oS]:"fire-app-check",[sS]:"fire-app-check-compat",[aS]:"fire-auth",[lS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[dS]:"fire-fn",[fS]:"fire-fn-compat",[pS]:"fire-iid",[mS]:"fire-iid-compat",[gS]:"fire-fcm",[_S]:"fire-fcm-compat",[yS]:"fire-perf",[vS]:"fire-perf-compat",[wS]:"fire-rc",[ES]:"fire-rc-compat",[TS]:"fire-gcs",[IS]:"fire-gcs-compat",[SS]:"fire-fst",[CS]:"fire-fst-compat",[RS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,xS=new Map,If=new Map;function N_(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ds(n){const e=n.name;if(If.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,n);for(const t of bc.values())N_(t,n);for(const t of xS.values())N_(t,n);return!0}function Jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new Dl("app","Firebase",NS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=kS;function Ll(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=yv()),!t)throw Fi.create("no-options");const l=bc.get(o);if(l){if(Dc(t,l.options)&&Dc(i,l.config))return l;throw Fi.create("duplicate-app",{appName:o})}const c=new F1(o);for(const p of If.values())c.addComponent(p);const d=new DS(t,i,c);return bc.set(o,d),d}function np(n=Tf){const e=bc.get(n);if(!e&&n===Tf&&yv())return Ll();if(!e)throw Fi.create("no-app",{appName:n});return e}function Cr(n,e,t){var i;let o=(i=PS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}Ds(new zi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebase-heartbeat-database",LS=1,wl="firebase-heartbeat-store";let lf=null;function Iv(){return lf||(lf=Y1(bS,LS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),lf}async function OS(n){try{const t=(await Iv()).transaction(wl),i=await t.objectStore(wl).get(Sv(n));return await t.done,i}catch(e){if(e instanceof Nr)ni.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(t.message)}}}async function D_(n,e){try{const i=(await Iv()).transaction(wl,"readwrite");await i.objectStore(wl).put(e,Sv(n)),await i.done}catch(t){if(t instanceof Nr)ni.warn(t.message);else{const i=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ni.warn(i.message)}}}function Sv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,MS=30*24*60*60*1e3;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=b_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=MS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b_(),{heartbeatsToSend:i,unsentEntries:o}=US(this._heartbeatsCache.heartbeats),l=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ni.warn(t),""}}}function b_(){return new Date().toISOString().substring(0,10)}function US(n,e=VS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),L_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class jS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L_(n){return Nc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){Ds(new zi("platform-logger",e=>new eS(e),"PRIVATE")),Ds(new zi("heartbeat",e=>new FS(e),"PRIVATE")),Cr(Ef,x_,n),Cr(Ef,x_,"esm2017"),Cr("fire-js","")}BS("");var zS="firebase",$S="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(zS,$S,"app");function rp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HS=Rv,Cv=new Dl("auth","Firebase",Rv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new ep("@firebase/auth");function qS(n,...e){Lc.logLevel<=Le.WARN&&Lc.warn(`Auth (${Ms}): ${n}`,...e)}function vc(n,...e){Lc.logLevel<=Le.ERROR&&Lc.error(`Auth (${Ms}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw sp(n,...e)}function tr(n,...e){return sp(n,...e)}function ip(n,e,t){const i=Object.assign(Object.assign({},HS()),{[e]:t});return new Dl("auth","Firebase",i).create(e,{appName:n.name})}function Ui(n){return ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WS(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Un(n,"argument-error"),ip(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Cv.create(n,...e)}function Te(n,e,...t){if(!n)throw sp(e,...t)}function Yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vc(e),new Error(e)}function ri(n,e){n||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GS(){return O_()==="http:"||O_()==="https:"}function O_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||T1()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=v1()||I1()}get(){return KS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Ol(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ki(n,e,t,i,o={}){return kv(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=bl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return E1()||(_.referrerPolicy="no-referrer"),Av.fetch()(Pv(n,n.config.apiHost,t,d),_)})}async function kv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},XS),e);try{const o=new ZS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw lc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw lc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ip(n,v,_);Un(n,v)}}catch(o){if(o instanceof Nr)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function Zc(n,e,t,i,o={}){const l=await Ki(n,e,t,i,o);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Pv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?op(n.config,o):`${n.config.apiScheme}://${o}`}function JS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),YS.get())})}}function lc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=tr(n,e,i);return o.customData._tokenResponse=t,o}function V_(n){return n!==void 0&&n.enterprise!==void 0}class eR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(n,e){return Ki(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e){return Ki(n,"POST","/v1/accounts:delete",e)}async function xv(n,e){return Ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rR(n,e=!1){const t=ot(n),i=await t.getIdToken(e),o=ap(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fl(uf(o.auth_time)),issuedAtTime:fl(uf(o.iat)),expirationTime:fl(uf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function uf(n){return Number(n)*1e3}function ap(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mv(t);return o?JSON.parse(o):(vc("Failed to decode base64 JWT payload"),null)}catch(o){return vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function M_(n){const e=ap(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Nr&&iR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function iR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await El(n,xv(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Nv(l.providerUserInfo):[],d=aR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function oR(n){const e=ot(n);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Nv(n){return n.map(e=>{var{providerId:t}=e,i=rp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(n,e){const t=await kv(n,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=Pv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Av.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uR(n,e){return Ki(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=M_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await lR(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Uo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await El(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rR(this,e)}reload(){return oR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await El(this,nR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,_,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(_=t.createdAt)!==null&&_!==void 0?_:void 0,H=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:J,isAnonymous:te,providerData:re,stsTokenManager:P}=t;Te(K&&P,e,"internal-error");const R=Uo.fromJSON(this.name,P);Te(typeof K=="string",e,"internal-error"),Ni(S,e.name),Ni(E,e.name),Te(typeof J=="boolean",e,"internal-error"),Te(typeof te=="boolean",e,"internal-error"),Ni(x,e.name),Ni(O,e.name),Ni(j,e.name),Ni(b,e.name),Ni(z,e.name),Ni(H,e.name);const C=new Jr({uid:K,auth:e,email:E,emailVerified:J,displayName:S,isAnonymous:te,photoURL:O,phoneNumber:x,tenantId:j,stsTokenManager:R,createdAt:z,lastLoginAt:H});return re&&Array.isArray(re)&&(C.providerData=re.map(N=>Object.assign({},N))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Uo;o.updateFromServerResponse(t);const l=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Oc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Nv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Uo;d.updateFromIdToken(i);const p=new Jr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Rf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Zr(n){ri(n instanceof Function,"Expected a class definition");let e=F_.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dv.type="NONE";const U_=Dv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,l),this.fullPersistenceKey=wc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo(Zr(U_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Zr(U_);const c=wc(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const v=await _._get(c);if(v){const S=Jr._fromJSON(e,v);_!==l&&(d=S),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new jo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fv(e))return"Blackberry";if(Uv(e))return"Webos";if(Lv(e))return"Safari";if((e.includes("chrome/")||Ov(e))&&!e.includes("edge/"))return"Chrome";if(Mv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bv(n=Kt()){return/firefox\//i.test(n)}function Lv(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ov(n=Kt()){return/crios\//i.test(n)}function Vv(n=Kt()){return/iemobile/i.test(n)}function Mv(n=Kt()){return/android/i.test(n)}function Fv(n=Kt()){return/blackberry/i.test(n)}function Uv(n=Kt()){return/webos/i.test(n)}function lp(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cR(n=Kt()){var e;return lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hR(){return S1()&&document.documentMode===10}function jv(n=Kt()){return lp(n)||Mv(n)||Uv(n)||Fv(n)||/windows phone/i.test(n)||Vv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n,e=[]){let t;switch(n){case"Browser":t=j_(Kt());break;case"Worker":t=`${j_(Kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ms}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=6;class mR{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:pR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xv(this,{idToken:e}),i=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Ui(this));const t=e?ot(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fR(this),t=new mR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await uR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Us(n){return ot(n)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=D1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _R(n){eh=n}function zv(n){return eh.loadJS(n)}function yR(){return eh.recaptchaEnterpriseScript}function vR(){return eh.gapiScript}function wR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ER{constructor(){this.enterprise=new TR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IR="recaptcha-enterprise",$v="NO_RECAPTCHA";class SR{constructor(e){this.type=IR,this.auth=Us(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{tR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new eR(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;V_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{c(_)}).catch(()=>{c($v)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ER().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&V_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=yR();p.length!==0&&(p+=d),zv(p).then(()=>{o(d,l,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function z_(n,e,t,i=!1,o=!1){const l=new SR(n);let c;if(o)c=$v;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $_(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await z_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await z_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n,e){const t=Jc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Dc(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function CR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AR(n,e,t){const i=Us(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Hv(e),{host:c,port:d}=kR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),PR()}function Hv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kR(n){const e=Hv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:H_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:H_(c)}}}function H_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function xR(n,e){return Ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function bR(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends up{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Tl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(e,t,"signInWithPassword",NR);case"emailLink":return DR(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(e,i,"signUpPassword",xR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="http://localhost";class bs extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=rp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new bs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:LR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VR(n){const e=sl(ol(n)).link,t=e?sl(ol(e)).deep_link_id:null,i=sl(ol(n)).deep_link_id;return(i?sl(ol(i)).link:null)||i||t||e||n}class cp{constructor(e){var t,i,o,l,c,d;const p=sl(ol(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,S=OR((o=p.mode)!==null&&o!==void 0?o:null);Te(_&&v&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=VR(e);try{return new cp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,t){return Tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cp.parseLink(t);return Te(i,"argument-error"),Tl._fromEmailAndCode(e,i.code,i.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Vl{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xr.credential(t,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Vl{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Vl{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Li.credential(t,i)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Jr._fromIdTokenResponse(e,i,o),c=q_(i);return new $o({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=q_(i);return new $o({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function q_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Nr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Vc(e,t,i,o)}}function qv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(n,l,e,i):l})}async function MR(n,e,t=!1){const i=await El(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $o._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e,t=!1){const{auth:i}=n;if(Sr(i.app))return Promise.reject(Ui(i));const o="reauthenticate";try{const l=await El(n,qv(i,o,e,n),t);Te(l.idToken,i,"internal-error");const c=ap(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),$o._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Un(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ui(n));const i="signIn",o=await qv(n,i,e),l=await $o._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function UR(n,e){return Wv(Us(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n){const e=Us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uc(n,e,t){return Sr(n.app)?Promise.reject(Ui(n)):UR(ot(n),ea.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&jR(n),i})}function BR(n,e,t,i){return ot(n).onIdTokenChanged(e,t,i)}function zR(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function Cf(n){return ot(n).signOut()}const Mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,HR=10;class Kv extends Gv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);hR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kv.type="LOCAL";const qR=Kv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Gv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qv.type="SESSION";const Xv=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,l)),p=await WR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=dp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const E=S;if(E.data.eventId===_)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function KR(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YR(){return Yv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebaseLocalStorageDb",JR=1,Fc="firebaseLocalStorage",Zv="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nh(n,e){return n.transaction([Fc],e?"readwrite":"readonly").objectStore(Fc)}function ZR(){const n=indexedDB.deleteDatabase(Jv);return new Ml(n).toPromise()}function Af(){const n=indexedDB.open(Jv,JR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Fc,{keyPath:Zv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Fc)?e(i):(i.close(),await ZR(),e(await Af()))})})}async function W_(n,e,t){const i=nh(n,!0).put({[Zv]:e,value:t});return new Ml(i).toPromise()}async function eC(n,e){const t=nh(n,!1).get(e),i=await new Ml(t).toPromise();return i===void 0?null:i.value}function G_(n,e){const t=nh(n,!0).delete(e);return new Ml(t).toPromise()}const tC=800,nC=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Af(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(YR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Af();return await W_(e,Mc,"1"),await G_(e,Mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>eC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>G_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=nh(o,!1).getAll();return new Ml(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e0.type="LOCAL";const rC=e0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n,e){return e?Zr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iC(n){return Wv(n.auth,new fp(n),n.bypassAuthState)}function sC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),FR(t,new fp(n),n.bypassAuthState)}async function oC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),MR(t,new fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:Un(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Ol(2e3,1e4);async function lC(n,e,t){if(Sr(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const i=Us(n);WS(n,e,hp);const o=t0(i,t);return new ks(i,"signInViaPopup",e,o).executeNotNull()}class ks extends n0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aC.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",Ec=new Map;class cC extends n0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const i=await hC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(n,e){const t=pC(e),i=fC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function dC(n,e){Ec.set(n._key(),e)}function fC(n){return Zr(n._redirectPersistence)}function pC(n){return wc(uC,n.config.apiKey,n.name)}async function mC(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ui(n));const i=Us(n),o=t0(i,e),c=await new cC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=10*60*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!r0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function r0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e={}){return Ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EC=/^https?/;async function TC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vC(n);for(const t of e)try{if(IC(t))return}catch{}Un(n,"unauthorized-domain")}function IC(n){const e=Sf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!EC.test(t))return!1;if(wC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Ol(3e4,6e4);function Q_(){const n=Ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RC(n){return new Promise((e,t)=>{var i,o,l;function c(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),t(tr(n,"network-request-failed"))},timeout:SC.get()})}if(!((o=(i=Ar().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ar().gapi)===null||l===void 0)&&l.load)c();else{const d=wR("iframefcb");return Ar()[d]=()=>{gapi.load?c():t(tr(n,"network-request-failed"))},zv(`${vR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Tc=null,e})}let Tc=null;function CC(n){return Tc=Tc||RC(n),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Ol(5e3,15e3),kC="__/auth/iframe",PC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?op(e,PC):`https://${n.config.authDomain}/${kC}`,i={apiKey:e.apiKey,appName:n.name,v:Ms},o=NC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${bl(i).slice(1)}`}async function bC(n){const e=await CC(n),t=Ar().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:DC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=tr(n,"network-request-failed"),d=Ar().setTimeout(()=>{l(c)},AC.get());function p(){Ar().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OC=500,VC=600,MC="_blank",FC="http://localhost";class X_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UC(n,e,t,i=OC,o=VC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},LC),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Kt().toLowerCase();t&&(d=Ov(_)?MC:t),bv(_)&&(e=e||FC,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[x,O])=>`${E}${x}=${O},`,"");if(cR(_)&&d!=="_self")return jC(e||"",d),new X_(null);const S=window.open(e||"",d,v);Te(S,n,"popup-blocked");try{S.focus()}catch{}return new X_(S)}function jC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__/auth/handler",zC="emulator/auth/handler",$C=encodeURIComponent("fac");async function Y_(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ms,eventId:o};if(e instanceof hp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",N1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof Vl){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),_=p?`#${$C}=${encodeURIComponent(p)}`:"";return`${HC(n)}?${bl(d).slice(1)}${_}`}function HC({config:n}){return n.emulator?op(n,zC):`https://${n.authDomain}/${BC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=mC,this._overrideRedirectResult=dC}async _openPopup(e,t,i,o){var l;ri((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Y_(e,t,i,Sf(),o);return UC(e,c,dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Y_(e,t,i,Sf(),o);return KR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ri(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bC(e),i=new _C(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cf,{type:cf},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[cf];c!==void 0&&t(!!c),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jv()||Lv()||lp()}}const WC=qC;var J_="@firebase/auth",Z_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QC(n){Ds(new zi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(n)},_=new gR(i,o,l,p);return CR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ds(new zi("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(i=>new GC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(J_,Z_,KC(n)),Cr(J_,Z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=5*60,YC=vv("authIdTokenMaxAge")||XC;let ey=null;const JC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>YC)return;const o=t==null?void 0:t.token;ey!==o&&(ey=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Uc(n=np()){const e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RR(n,{popupRedirectResolver:WC,persistence:[rC,qR,Xv]}),i=vv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=JC(l.toString());zR(t,c,()=>c(t.currentUser)),BR(t,d=>c(d))}}const o=gv("auth");return o&&AR(t,`http://${o}`),t}function ZC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_R({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=tr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",ZC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QC("Browser");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,i0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(N,M,L){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return R.prototype[M].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],M=P.g[2];var L=P.g[3],k=R+(L^C&(M^L))+N[0]+3614090360&4294967295;R=C+(k<<7&4294967295|k>>>25),k=L+(M^R&(C^M))+N[1]+3905402710&4294967295,L=R+(k<<12&4294967295|k>>>20),k=M+(C^L&(R^C))+N[2]+606105819&4294967295,M=L+(k<<17&4294967295|k>>>15),k=C+(R^M&(L^R))+N[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(L^C&(M^L))+N[4]+4118548399&4294967295,R=C+(k<<7&4294967295|k>>>25),k=L+(M^R&(C^M))+N[5]+1200080426&4294967295,L=R+(k<<12&4294967295|k>>>20),k=M+(C^L&(R^C))+N[6]+2821735955&4294967295,M=L+(k<<17&4294967295|k>>>15),k=C+(R^M&(L^R))+N[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(L^C&(M^L))+N[8]+1770035416&4294967295,R=C+(k<<7&4294967295|k>>>25),k=L+(M^R&(C^M))+N[9]+2336552879&4294967295,L=R+(k<<12&4294967295|k>>>20),k=M+(C^L&(R^C))+N[10]+4294925233&4294967295,M=L+(k<<17&4294967295|k>>>15),k=C+(R^M&(L^R))+N[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(L^C&(M^L))+N[12]+1804603682&4294967295,R=C+(k<<7&4294967295|k>>>25),k=L+(M^R&(C^M))+N[13]+4254626195&4294967295,L=R+(k<<12&4294967295|k>>>20),k=M+(C^L&(R^C))+N[14]+2792965006&4294967295,M=L+(k<<17&4294967295|k>>>15),k=C+(R^M&(L^R))+N[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(M^L&(C^M))+N[1]+4129170786&4294967295,R=C+(k<<5&4294967295|k>>>27),k=L+(C^M&(R^C))+N[6]+3225465664&4294967295,L=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(L^R))+N[11]+643717713&4294967295,M=L+(k<<14&4294967295|k>>>18),k=C+(L^R&(M^L))+N[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^L&(C^M))+N[5]+3593408605&4294967295,R=C+(k<<5&4294967295|k>>>27),k=L+(C^M&(R^C))+N[10]+38016083&4294967295,L=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(L^R))+N[15]+3634488961&4294967295,M=L+(k<<14&4294967295|k>>>18),k=C+(L^R&(M^L))+N[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^L&(C^M))+N[9]+568446438&4294967295,R=C+(k<<5&4294967295|k>>>27),k=L+(C^M&(R^C))+N[14]+3275163606&4294967295,L=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(L^R))+N[3]+4107603335&4294967295,M=L+(k<<14&4294967295|k>>>18),k=C+(L^R&(M^L))+N[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^L&(C^M))+N[13]+2850285829&4294967295,R=C+(k<<5&4294967295|k>>>27),k=L+(C^M&(R^C))+N[2]+4243563512&4294967295,L=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(L^R))+N[7]+1735328473&4294967295,M=L+(k<<14&4294967295|k>>>18),k=C+(L^R&(M^L))+N[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(C^M^L)+N[5]+4294588738&4294967295,R=C+(k<<4&4294967295|k>>>28),k=L+(R^C^M)+N[8]+2272392833&4294967295,L=R+(k<<11&4294967295|k>>>21),k=M+(L^R^C)+N[11]+1839030562&4294967295,M=L+(k<<16&4294967295|k>>>16),k=C+(M^L^R)+N[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^L)+N[1]+2763975236&4294967295,R=C+(k<<4&4294967295|k>>>28),k=L+(R^C^M)+N[4]+1272893353&4294967295,L=R+(k<<11&4294967295|k>>>21),k=M+(L^R^C)+N[7]+4139469664&4294967295,M=L+(k<<16&4294967295|k>>>16),k=C+(M^L^R)+N[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^L)+N[13]+681279174&4294967295,R=C+(k<<4&4294967295|k>>>28),k=L+(R^C^M)+N[0]+3936430074&4294967295,L=R+(k<<11&4294967295|k>>>21),k=M+(L^R^C)+N[3]+3572445317&4294967295,M=L+(k<<16&4294967295|k>>>16),k=C+(M^L^R)+N[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^L)+N[9]+3654602809&4294967295,R=C+(k<<4&4294967295|k>>>28),k=L+(R^C^M)+N[12]+3873151461&4294967295,L=R+(k<<11&4294967295|k>>>21),k=M+(L^R^C)+N[15]+530742520&4294967295,M=L+(k<<16&4294967295|k>>>16),k=C+(M^L^R)+N[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(M^(C|~L))+N[0]+4096336452&4294967295,R=C+(k<<6&4294967295|k>>>26),k=L+(C^(R|~M))+N[7]+1126891415&4294967295,L=R+(k<<10&4294967295|k>>>22),k=M+(R^(L|~C))+N[14]+2878612391&4294967295,M=L+(k<<15&4294967295|k>>>17),k=C+(L^(M|~R))+N[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~L))+N[12]+1700485571&4294967295,R=C+(k<<6&4294967295|k>>>26),k=L+(C^(R|~M))+N[3]+2399980690&4294967295,L=R+(k<<10&4294967295|k>>>22),k=M+(R^(L|~C))+N[10]+4293915773&4294967295,M=L+(k<<15&4294967295|k>>>17),k=C+(L^(M|~R))+N[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~L))+N[8]+1873313359&4294967295,R=C+(k<<6&4294967295|k>>>26),k=L+(C^(R|~M))+N[15]+4264355552&4294967295,L=R+(k<<10&4294967295|k>>>22),k=M+(R^(L|~C))+N[6]+2734768916&4294967295,M=L+(k<<15&4294967295|k>>>17),k=C+(L^(M|~R))+N[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~L))+N[4]+4149444226&4294967295,R=C+(k<<6&4294967295|k>>>26),k=L+(C^(R|~M))+N[11]+3174756917&4294967295,L=R+(k<<10&4294967295|k>>>22),k=M+(R^(L|~C))+N[2]+718787259&4294967295,M=L+(k<<15&4294967295|k>>>17),k=C+(L^(M|~R))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,N=this.B,M=this.h,L=0;L<R;){if(M==0)for(;L<=C;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<R;)if(N[M++]=P.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<R;)if(N[M++]=P[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)P[C++]=this.g[R]>>>N&255;return P};function l(P,R){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function c(P,R){this.h=R;for(var C=[],N=!0,M=P.length-1;0<=M;M--){var L=P[M]|0;N&&L==R||(C[M]=L,N=!1)}this.g=C}var d={};function p(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return b(_(-P));for(var R=[],C=1,N=0;P>=C;N++)R[N]=P/C|0,C*=4294967296;return new c(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return b(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(R,8)),N=S,M=0;M<P.length;M+=8){var L=Math.min(8,P.length-M),k=parseInt(P.substring(M,M+L),R);8>L?(L=_(Math.pow(R,L)),N=N.j(L).add(_(k))):(N=N.j(C),N=N.add(_(k)))}return N}var S=p(0),E=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-b(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);P+=(0<=N?N:4294967296+N)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(j(this))return"-"+b(this).toString(P);for(var R=_(Math.pow(P,6)),C=this,N="";;){var M=J(C,R).g;C=z(C,M.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=M,O(C))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=z(this,P),j(P)?-1:O(P)?0:1};function b(P){for(var R=P.g.length,C=[],N=0;N<R;N++)C[N]=~P.g[N];return new c(C,~P.h).add(E)}n.abs=function(){return j(this)?b(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],N=0,M=0;M<=R;M++){var L=N+(this.i(M)&65535)+(P.i(M)&65535),k=(L>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);N=k>>>16,L&=65535,k&=65535,C[M]=k<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(P,R){return P.add(b(R))}n.j=function(P){if(O(this)||O(P))return S;if(j(this))return j(P)?b(this).j(b(P)):b(b(this).j(P));if(j(P))return b(this.j(b(P)));if(0>this.l(x)&&0>P.l(x))return _(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<P.g.length;M++){var L=this.i(N)>>>16,k=this.i(N)&65535,We=P.i(M)>>>16,mt=P.i(M)&65535;C[2*N+2*M]+=k*mt,H(C,2*N+2*M),C[2*N+2*M+1]+=L*mt,H(C,2*N+2*M+1),C[2*N+2*M+1]+=k*We,H(C,2*N+2*M+1),C[2*N+2*M+2]+=L*We,H(C,2*N+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new c(C,0)};function H(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function K(P,R){this.g=P,this.h=R}function J(P,R){if(O(R))throw Error("division by zero");if(O(P))return new K(S,S);if(j(P))return R=J(b(P),R),new K(b(R.g),b(R.h));if(j(R))return R=J(P,b(R)),new K(b(R.g),R.h);if(30<P.g.length){if(j(P)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,N=R;0>=N.l(P);)C=te(C),N=te(N);var M=re(C,1),L=re(N,1);for(N=re(N,2),C=re(C,2);!O(N);){var k=L.add(N);0>=k.l(P)&&(M=M.add(C),L=k),N=re(N,1),C=re(C,1)}return R=z(P,M.j(R)),new K(M,R)}for(M=S;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=_(C),k=L.j(R);j(k)||0<k.l(P);)C-=N,L=_(C),k=L.j(R);O(L)&&(L=E),M=M.add(L),P=z(P,k)}return new K(M,P)}n.A=function(P){return J(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&P.i(N);return new c(C,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|P.i(N);return new c(C,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^P.i(N);return new c(C,this.h^P.h)};function te(P){for(var R=P.g.length+1,C=[],N=0;N<R;N++)C[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(C,P.h)}function re(P,R){var C=R>>5;R%=32;for(var N=P.g.length-C,M=[],L=0;L<N;L++)M[L]=0<R?P.i(L+C)>>>R|P.i(L+C+1)<<32-R:P.i(L+C);return new c(M,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,i0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=v,xs=c}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,al,o0,Ic,kf,a0,l0,u0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in y))break e;y=y[B]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,T=!1,B={next:function(){if(!T&&y<u.length){var G=y++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function S(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function E(u,m,y){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,E.apply(null,arguments)}function x(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function O(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,B,G){for(var oe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)oe[Ge-2]=arguments[Ge];return m.prototype[B].apply(T,oe)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function b(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const B=u.length||0,G=T.length||0;u.length=B+G;for(let oe=0;oe<G;oe++)u[B+oe]=T[oe]}else u.push(T)}}class z{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var te=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function re(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function P(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function R(u){const m={};for(const y in u)m[y]=u[y];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(y in T)u[y]=T[y];for(let G=0;G<C.length;G++)y=C[G],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function L(u){d.setTimeout(()=>{throw u},0)}function k(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class We{constructor(){this.h=this.g=null}add(m,y){const T=mt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new z(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ae=!1,ye=new We,le=()=>{const u=d.Promise.resolve(void 0);He=()=>{u.then(U)}};var U=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){L(y)}var m=mt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function Pe(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(te){e:{try{J(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,_e);var be={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ue(u,m,y,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=B,this.key=++ie,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,y,T,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var oe=ht(u,m,T,B);return-1<oe?(m=u[oe],y||(m.fa=!1)):(m=new ue(m,this.src,G,!!T,B),m.fa=y,u.push(m)),m};function mn(u,m){var y=m.type;if(y in u.g){var T=u.g[y],B=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=B)&&Array.prototype.splice.call(T,B,1),G&&(Re(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ht(u,m,y,T){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==m&&G.capture==!!y&&G.ha==T)return B}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Dr={};function Yi(u,m,y,T,B){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Yi(u,m[G],y,T,B);return null}return y=ua(y),u&&u[Fe]?u.K(m,y,_(T)?!!T.capture:!!T,B):Ji(u,m,y,!1,T,B)}function Ji(u,m,y,T,B,G){if(!m)throw Error("Invalid event type");var oe=_(B)?!!B.capture:!!B,Ge=$s(u);if(Ge||(u[tn]=Ge=new Qe(u)),y=Ge.add(m,y,T,oe,G),y.proxy)return y;if(T=ql(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ke||(B=oe),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ql(){function u(y){return m.call(u.src,u.listener,y)}const m=la;return u}function zs(u,m,y,T,B){if(Array.isArray(m))for(var G=0;G<m.length;G++)zs(u,m[G],y,T,B);else T=_(T)?!!T.capture:!!T,y=ua(y),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],y=ht(G,y,T,B),-1<y&&(Re(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=$s(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,y,T,B)),(y=-1<u?m[u]:null)&&br(y))}function br(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])mn(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Lr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=$s(m))?(mn(y,u),y.h==0&&(y.src=null,m[tn]=null)):Re(u)}}}function Lr(u){return u in Dr?Dr[u]:Dr[u]="on"+u}function la(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&br(u),u=y.call(T,m)}return u}function $s(u){return u=u[tn],u instanceof Qe?u:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ua(u){return typeof u=="function"?u:(u[Hs]||(u[Hs]=function(m){return u.handleEvent(m)}),u[Hs])}function Et(){Q.call(this),this.i=new Qe(this),this.M=this,this.F=null}O(Et,Q),Et.prototype[Fe]=!0,Et.prototype.removeEventListener=function(u,m,y,T){zs(this,u,m,y,T)};function Tt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var B=m;m=new _e(T,u),N(m,B)}if(B=!0,y)for(var G=y.length-1;0<=G;G--){var oe=m.g=y[G];B=Or(oe,T,!0,m)&&B}if(oe=m.g=u,B=Or(oe,T,!0,m)&&B,B=Or(oe,T,!1,m)&&B,y)for(G=0;G<y.length;G++)oe=m.g=y[G],B=Or(oe,T,!1,m)&&B}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Re(y[T]);delete u.g[m],u.h--}}this.F=null},Et.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Et.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Or(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,G=0;G<m.length;++G){var oe=m[G];if(oe&&!oe.da&&oe.capture==y){var Ge=oe.listener,It=oe.ha||oe.src;oe.fa&&mn(u.i,oe),B=Ge.call(It,T)!==!1&&B}}return B&&!T.defaultPrevented}function ca(u,m,y){if(typeof u=="function")y&&(u=E(u,y));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function ai(u){u.g=ca(()=>{u.g=null,u.i&&(u.i=!1,ai(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zi extends Q{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){Q.call(this),this.h=u,this.g={}}O(es,Q);var ha=[];function da(u){re(u.g,function(m,y){this.g.hasOwnProperty(y)&&br(m)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),da(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=d.JSON.stringify,pa=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ts(){}ts.prototype.h=null;function qs(u){return u.h||(u.h=u.i())}function Ws(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){_e.call(this,"d")}O(ar,_e);function Gs(){_e.call(this,"c")}O(Gs,_e);var lr={},ga=null;function ns(){return ga=ga||new Et}lr.La="serverreachability";function _a(u){_e.call(this,lr.La,u)}O(_a,_e);function Vr(u){const m=ns();Tt(m,new _a(m))}lr.STAT_EVENT="statevent";function ya(u,m){_e.call(this,lr.STAT_EVENT,u),this.stat=m}O(ya,_e);function dt(u){const m=ns();Tt(m,new ya(m,u))}lr.Ma="timingevent";function Ks(u,m){_e.call(this,lr.Ma,u),this.size=m}O(Ks,_e);function jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(u,m,y,T,B,G){u.info(function(){if(u.g)if(G)for(var oe="",Ge=G.split("&"),It=0;It<Ge.length;It++){var Ue=Ge[It].split("=");if(1<Ue.length){var Pt=Ue[0];Ue=Ue[1];var gt=Pt.split("_");oe=2<=gt.length&&gt[1]=="type"?oe+(Pt+"="+Ue+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+y+`
`+oe})}function Qs(u,m,y,T,B,G,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+y+`
`+G+" "+oe})}function Bn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,y)+(T?" "+T:"")})}function va(u,m){u.info(function(){return"TIMEOUT: "+m})}rs.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return fa(y)}catch{return m}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function ss(){}O(ss,ts),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},zn=new ss;function $n(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gl}function Gl(){this.i=null,this.g="",this.h=!1}var wa={},Ys={};function Js(u,m,y){u.L=1,u.v=di(_n(m)),u.m=y,u.P=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),Xe(u),u.A=_n(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),pi(y.i,"t",T),u.C=0,y=u.j.J,u.h=new Gl,u.g=hu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Zi(E(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(ha[0]=B.toString()),B=ha);for(var G=0;G<B.length;G++){var oe=Yi(y,B[G],T||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Vr(),is(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const gt=rn(this.g);var m=this.g.Ba();const xn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||gt!=4||m==7||(m==8||0>=xn?Vr(3):Vr(2)),os(this);var y=this.g.Z();this.X=y;t:if(Kl(this)){var T=Aa(this.g);u="";var B=T.length,G=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),li(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==B-1)});T.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,Qs(this.i,this.u,this.A,this.l,this.R,gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,It=this.g;if((Ge=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ge)){var Ue=Ge;break t}}Ue=null}if(y=Ue)Bn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,y);else{this.o=!1,this.s=3,dt(12),kn(this),li(this);break e}}if(this.P){y=!0;let vn;for(;!this.J&&this.C<oe.length;)if(vn=Sh(this,oe),vn==Ys){gt==4&&(this.s=4,dt(14),y=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==wa){this.s=4,dt(15),Bn(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else Bn(this.i,this.l,vn,null),Ta(this,vn);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)Bn(this.i,this.l,oe,"[Invalid Chunked Response]"),kn(this),li(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Pa(Pt),Pt.M=!0,dt(11))}}else Bn(this.i,this.l,oe,null),Ta(this,oe);gt==4&&kn(this),this.o&&!this.J&&(gt==4?uo(this.j,this):(this.o=!1,Xe(this)))}else io(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),kn(this),li(this)}}}catch{}finally{}};function Kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Sh(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ys:(y=Number(m.substring(y,T)),isNaN(y)?wa:(T+=1,T+y>m.length?Ys:(m=m.slice(T,T+y),u.C=T+y,m)))}$n.prototype.cancel=function(){this.J=!0,kn(this)};function Xe(u){u.S=Date.now()+u.I,Ql(u,u.I)}function Ql(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=jn(E(u.ba,u),m)}function os(u){u.B&&(d.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(va(this.i,this.A),this.L!=2&&(Vr(),dt(17)),kn(this),this.s=2,li(this)):Ql(this,this.S-u)};function li(u){u.j.G==0||u.J||uo(u.j,u)}function kn(u){os(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,da(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ta(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Qt(y.h,u))){if(!u.K&&Qt(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)lo(y),Kn(y);else break e;ao(y),dt(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=jn(E(y.Za,y),6e3));if(1>=Yl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Br(y,11)}else if((u.K||y.g==u)&&lo(y),!H(m))for(B=y.Da.g.parse(m),m=0;m<B.length;m++){let Ue=B[m];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Pt=Ue[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const gt=Ue[4];gt!=null&&(y.Aa=gt,y.j.info("SVER="+y.Aa));const xn=Ue[5];xn!=null&&typeof xn=="number"&&0<xn&&(T=1.5*xn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const vn=u.g;if(vn){const fs=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var G=T.h;G.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ia(G,G.h),G.h=null))}if(T.D){const ho=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(T.ya=ho,Ke(T.I,T.D,ho))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var oe=u;if(T.qa=cu(T,T.J?T.ia:null,T.W),oe.K){Jl(T.h,oe);var Ge=oe,It=T.L;It&&(Ge.I=It),Ge.B&&(os(Ge),Xe(Ge)),T.g=oe}else ds(T);0<y.i.length&&dr(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Br(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Br(y,7):Ot(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}Vr(4)}catch{}}var Xl=class{constructor(u,m){this.g=u,this.map=m}};function as(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yl(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function Jl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}as.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function Zs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function eo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ui(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=eo(u),T=Zs(u),B=T.length,G=0;G<B;G++)m.call(void 0,T[G],y&&y[G],u)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),B=null;if(0<=T){var G=u[y].substring(0,T);B=u[y].substring(T+1)}else G=u[y];m(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mr){this.h=u.h,us(this,u.j),this.o=u.o,this.g=u.g,ci(this,u.s),this.l=u.l;var m=u.i,y=new ur;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),hi(this,y),this.m=u.m}else u&&(m=String(u).match(ls))?(this.h=!1,us(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),ci(this,m[4]),this.l=Ve(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(fi(m,to,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fi(m,to,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(fi(y,y.charAt(0)=="/"?nu:tu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",fi(y,Sa)),u.join("")};function _n(u){return new Mr(u)}function us(u,m,y){u.j=y?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,y){m instanceof ur?(u.i=m,cr(u.i,u.h)):(y||(m=fi(m,ru)),u.i=new ur(m,u.h))}function Ke(u,m,y){u.i.set(m,y)}function di(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,eu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var to=/[#\/\?@]/g,tu=/[#\?:]/g,nu=/[#\?]/g,ru=/[#\?@]/g,Sa=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Lt(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=ur.prototype,n.add=function(u,m){Lt(this),this.i=null,u=Pn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Hn(u,m){Lt(u),m=Pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qn(u,m){return Lt(u),m=Pn(u,m),u.g.has(m)}n.forEach=function(u,m){Lt(this),this.g.forEach(function(y,T){y.forEach(function(B){u.call(m,B,T,this)},this)},this)},n.na=function(){Lt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const B=u[T];for(let G=0;G<B.length;G++)y.push(m[T])}return y},n.V=function(u){Lt(this);let m=[];if(typeof u=="string")qn(this,u)&&(m=m.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return Lt(this),this.i=null,u=Pn(this,u),qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function pi(u,m,y){Hn(u,m),0<y.length&&(u.i=null,u.g.set(Pn(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const G=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var B=G;oe[T]!==""&&(B+="="+encodeURIComponent(String(oe[T]))),u.push(B)}}return this.i=u.join("&")};function Pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function cr(u,m){m&&!u.j&&(Lt(u),u.i=null,u.g.forEach(function(y,T){var B=T.toLowerCase();T!=B&&(Hn(this,T),pi(this,B,y))},u)),u.j=m}function Ch(u,m){const y=new rs;if(d.Image){const T=new Image;T.onload=x(nn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=x(nn,y,"TestLoadImage: error",!1,m,T),T.onabort=x(nn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(nn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function iu(u,m){const y=new rs,T=new AbortController,B=setTimeout(()=>{T.abort(),nn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(B),G.ok?nn(y,"TestPingServer: ok",!0,m):nn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),nn(y,"TestPingServer: error",!1,m)})}function nn(u,m,y,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(y)}catch{}}function Ah(){this.g=new ma}function su(u,m,y){const T=y||"";try{ui(u,function(B,G){let oe=B;_(B)&&(oe=fa(B)),m.push(T+G+"="+encodeURIComponent(oe))})}catch(B){throw m.push(T+"type="+encodeURIComponent("_badmap")),B}}function Fr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Fr,ts),Fr.prototype.g=function(){return new cs(this.l,this.j)},Fr.prototype.i=function(u){return function(){return u}}({});function cs(u,m){Et.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(cs,Et),n=cs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):Gn(this),this.readyState==3&&ou(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},n.Qa=function(u){this.g&&(this.response=u,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ur(u){let m="";return re(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function mi(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Ur(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ke(u,m,y))}function tt(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(tt,Et);var kh=/^https?$/i,Ra=["POST","PUT"];n=tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?qs(this.o):qs(zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){hs(this,G);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)y.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())y.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ra,m,void 0))||T||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of y)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){hs(this,G)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,no(u),yn(u)}function no(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},n.bb=function(){Ca(this)};function Ca(u){if(u.h&&typeof c<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)ca(u.Ea,0,u);else if(Tt(u,"readystatechange"),rn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=oe===0){var B=String(u.D).match(ls)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),T=!kh.test(B?B.toLowerCase():"")}y=T}if(y)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var G=2<rn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",no(u)}}finally{yn(u)}}}}function yn(u,m){if(u.g){ro(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Tt(u,"ready");try{y.onreadystatechange=T}catch{}}}function ro(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),pa(m)}};function Aa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function io(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(H(u[T]))continue;var y=M(u[T]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=m[B]||[];m[B]=G,G.push(y)}P(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,u),this.cb=hr("retryDelaySeedMs",1e4,u),this.Wa=hr("forwardChannelMaxRetries",2,u),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new as(u&&u.concurrentRequestLimit),this.Da=new Ah,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,T){dt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=cu(this,null,this.W),dr(this)};function Ot(u){if(so(u),u.G==3){var m=u.U++,y=_n(u.I);if(Ke(y,"SID",u.K),Ke(y,"RID",m),Ke(y,"TYPE","terminate"),jr(u,y),m=new $n(u,u.j,m),m.L=2,m.v=di(_n(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=hu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}uu(u)}function Kn(u){u.g&&(Pa(u),u.g.cancel(),u.g=null)}function so(u){Kn(u),u.u&&(d.clearTimeout(u.u),u.u=null),lo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function dr(u){if(!gn(u.h)&&!u.s){u.s=!0;var m=u.Ga;He||le(),ae||(He(),ae=!0),ye.add(m,u),u.B=0}}function Ph(u,m){return Yl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=jn(E(u.Ga,u,m),lu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new $n(this,this.j,u);let G=this.o;if(this.S&&(G?(G=R(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=gi(this,B,m),y=_n(this.I),Ke(y,"RID",u),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),jr(this,y),G&&(this.O?m="headers="+encodeURIComponent(String(Ur(G)))+"&"+m:this.m&&mi(y,this.m,G)),Ia(this.h,B),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",m),Ke(y,"SID","null"),B.T=!0,Js(B,y,null)):Js(B,y,m),this.G=2}}else this.G==3&&(u?oo(this,u):this.i.length==0||gn(this.h)||oo(this))};function oo(u,m){var y;m?y=m.l:y=u.U++;const T=_n(u.I);Ke(T,"SID",u.K),Ke(T,"RID",y),Ke(T,"AID",u.T),jr(u,T),u.m&&u.o&&mi(T,u.m,u.o),y=new $n(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=gi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,y),Js(y,T,m)}function jr(u,m){u.H&&re(u.H,function(y,T){Ke(m,T,y)}),u.l&&ui({},function(y,T){Ke(m,T,y)})}function gi(u,m,y){y=Math.min(u.i.length,y);var T=u.l?E(u.l.Na,u.l,u):null;e:{var B=u.i;let G=-1;for(;;){const oe=["count="+y];G==-1?0<y?(G=B[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let Ge=!0;for(let It=0;It<y;It++){let Ue=B[It].g;const Pt=B[It].map;if(Ue-=G,0>Ue)G=Math.max(0,B[It].g-100),Ge=!1;else try{su(Pt,oe,"req"+Ue+"_")}catch{T&&T(Pt)}}if(Ge){T=oe.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,T}function ds(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;He||le(),ae||(He(),ae=!0),ye.add(m,u),u.v=0}}function ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=jn(E(u.Fa,u),lu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=jn(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Kn(this),au(this))};function Pa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function au(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_n(u.qa);Ke(m,"RID","rpc"),Ke(m,"SID",u.K),Ke(m,"AID",u.T),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(m,"TO",u.ja),Ke(m,"TYPE","xmlhttp"),jr(u,m),u.m&&u.o&&mi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=di(_n(m)),y.m=null,y.P=!0,Ea(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),ao(this),dt(19))};function lo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uo(u,m){var y=null;if(u.g==m){lo(u),Pa(u),u.g=null;var T=2}else if(Qt(u.h,m))y=m.D,Jl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;T=ns(),Tt(T,new Ks(T,y)),dr(u)}else ds(u);else if(B=m.s,B==3||B==0&&0<m.X||!(T==1&&Ph(u,m)||T==2&&ao(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),B){case 1:Br(u,5);break;case 4:Br(u,10);break;case 3:Br(u,6);break;default:Br(u,2)}}}function lu(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Br(u,m){if(u.j.info("Error code "+m),m==2){var y=E(u.fb,u),T=u.Xa;const B=!T;T=new Mr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||us(T,"https"),di(T),B?Ch(T.toString(),y):iu(T.toString(),y)}else dt(2);u.G=0,u.l&&u.l.sa(m),uu(u),so(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function uu(u){if(u.G=0,u.ka=[],u.l){const m=Zl(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function cu(u,m,y){var T=y instanceof Mr?_n(y):new Mr(y);if(T.g!="")m&&(T.g=m+"."+T.g),ci(T,T.s);else{var B=d.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var G=new Mr(null);T&&us(G,T),m&&(G.g=m),B&&ci(G,B),y&&(G.l=y),T=G}return y=u.D,m=u.ya,y&&m&&Ke(T,y,m),Ke(T,"VER",u.la),jr(u,T),T}function hu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new tt(new Fr({eb:y})):new tt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xa(){}n=xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function co(){}co.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){Et.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}O(Xt,Et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Ot(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=fa(u),u=y);m.i.push(new Xl(m.Ya++,u)),m.G==3&&dr(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Xt.aa.N.call(this)};function du(u){ar.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(du,ar);function fu(){Gs.call(this),this.status=1}O(fu,Gs);function fr(u){this.g=u}O(fr,xa),fr.prototype.ua=function(){Tt(this.g,"a")},fr.prototype.ta=function(u){Tt(this.g,new du(u))},fr.prototype.sa=function(u){Tt(this.g,new fu)},fr.prototype.ra=function(){Tt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,u0=function(){return new co},l0=function(){return ns()},a0=lr,kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Ic=Xs,Wl.COMPLETE="complete",o0=Wl,Ws.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Et.prototype.listen=Et.prototype.K,al=Ws,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,s0=tt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new ep("@firebase/firestore");function Lo(){return Ls.logLevel}function he(n,...e){if(Ls.logLevel<=Le.DEBUG){const t=e.map(pp);Ls.debug(`Firestore (${ta}): ${n}`,...t)}}function ii(n,...e){if(Ls.logLevel<=Le.ERROR){const t=e.map(pp);Ls.error(`Firestore (${ta}): ${n}`,...t)}}function Ho(n,...e){if(Ls.logLevel<=Le.WARN){const t=e.map(pp);Ls.warn(`Firestore (${ta}): ${n}`,...t)}}function pp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function qe(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class tA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nA{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ti,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ti)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string"),new c0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Wt(e)}}class rA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new rA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new sA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=aA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function qo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ct(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ct(0,0))}static max(){return new Ce(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends Il{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const lA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Il{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return lA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}function uA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new $i(o,ve.empty(),e)}function cA(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(Ce.min(),ve.empty(),-1)}static max(){return new $i(Ce.max(),ve.empty(),-1)}}function hA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==dA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(v=>{c[_]=v,++d,d===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function pA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ra(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rh.oe=-1;function ih(n){return n==null}function jc(n){return n===0&&1/n==-1/0}function mA(n){return typeof n=="number"&&Number.isInteger(n)&&!jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ry(e)),e=_A(n.get(t),e);return ry(e)}function _A(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function ry(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sy(this.data.getIterator())}getIteratorFrom(e){return new sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new At(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new f0("Invalid base64 string: "+l):l}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const yA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=yA.exec(n);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function sh(n){const e=n.mapValue.fields.__previous_value__;return mp(e)?sh(e):e}function Sl(n){const e=Hi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,i,o,l,c,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class Rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mp(n)?4:EA(n)?9007199254740991:wA(n)?10:11:Se()}function xr(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sl(n).isEqual(Sl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Hi(o.timestampValue),d=Hi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return qi(o.bytesValue).isEqual(qi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return pt(o.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return pt(o.integerValue)===pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=pt(o.doubleValue),d=pt(l.doubleValue);return c===d?jc(c)===jc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(iy(c)!==iy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!xr(c[p],d[p])))return!1;return!0}(n,e);default:return Se()}}function Cl(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function Wo(n,e){if(n===e)return 0;const t=Wi(n),i=Wi(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=pt(l.integerValue||l.doubleValue),p=pt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return oy(n.timestampValue,e.timestampValue);case 4:return oy(Sl(n),Sl(e));case 5:return Me(n.stringValue,e.stringValue);case 6:return function(l,c){const d=qi(l),p=qi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const v=Me(d[_],p[_]);if(v!==0)return v}return Me(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Me(pt(l.latitude),pt(c.latitude));return d!==0?d:Me(pt(l.longitude),pt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ay(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,v;const S=l.fields||{},E=c.fields||{},x=(d=S.value)===null||d===void 0?void 0:d.arrayValue,O=(p=E.value)===null||p===void 0?void 0:p.arrayValue,j=Me(((_=x==null?void 0:x.values)===null||_===void 0?void 0:_.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:ay(x,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===dc.mapValue&&c===dc.mapValue)return 0;if(l===dc.mapValue)return 1;if(c===dc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},v=Object.keys(_);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const E=Me(p[S],v[S]);if(E!==0)return E;const x=Wo(d[p[S]],_[v[S]]);if(x!==0)return x}return Me(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function oy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Hi(n),i=Hi(e),o=Me(t.seconds,i.seconds);return o!==0?o:Me(t.nanos,i.nanos)}function ay(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Wo(t[o],i[o]);if(l)return l}return Me(t.length,i.length)}function Go(n){return Pf(n)}function Pf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Hi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Pf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Pf(t.fields[c])}`;return o+"}"}(n.mapValue):Se()}function Sc(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(n);return e?16+Sc(e):16;case 5:return 2*n.stringValue.length;case 6:return qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Sc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Qi(i.fields,(l,c)=>{o+=l.length+Sc(c)}),o}(n.mapValue);default:throw Se()}}function ly(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xf(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function uy(n){return!!n&&"nullValue"in n}function cy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rc(n){return!!n&&"mapValue"in n}function wA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=pl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=pl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Qi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new fn(pl(this.value))}}function p0(n){const e=[];return Qi(n.fields,(t,i)=>{const o=new Ut([t]);if(Rc(i)){const l=p0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ce.min(),Ce.min(),Ce.min(),fn.empty(),0)}static newFoundDocument(e,t,i,o){return new Gt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ce.min(),Ce.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ce.min(),Ce.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.position=e,this.inclusive=t}}function hy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Wo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function dy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function TA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{}class vt extends m0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SA(e,t,i):t==="array-contains"?new AA(e,i):t==="in"?new kA(e,i):t==="not-in"?new PA(e,i):t==="array-contains-any"?new xA(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new RA(e,i):new CA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wo(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends m0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new rr(e,t)}matches(e){return g0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function g0(n){return n.op==="and"}function _0(n){return IA(n)&&g0(n)}function IA(n){for(const e of n.filters)if(e instanceof rr)return!1;return!0}function Nf(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(_0(n))return n.filters.map(e=>Nf(e)).join(",");{const e=n.filters.map(t=>Nf(t)).join(",");return`${n.op}(${e})`}}function y0(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(n,e):n instanceof rr?function(i,o){return o instanceof rr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&y0(c,o.filters[d]),!0):!1}(n,e):void Se()}function v0(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(v0).join(" ,")+"}"}(n):"Filter"}class SA extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class RA extends vt{constructor(e,t){super(e,"in",t),this.keys=w0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CA extends vt{constructor(e,t){super(e,"not-in",t),this.keys=w0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class AA extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gp(t)&&Cl(t.arrayValue,this.value)}}class kA extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cl(this.value.arrayValue,t)}}class PA extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Cl(this.value.arrayValue,t)}}class xA extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function fy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new NA(n,e,t,i,o,l,c)}function _p(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Nf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Go(i)).join(",")),e.ue=t}return e.ue}function yp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!y0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dy(n.startAt,e.startAt)&&dy(n.endAt,e.endAt)}function Df(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DA(n,e,t,i,o,l,c,d){return new Fl(n,e,t,i,o,l,c,d)}function vp(n){return new Fl(n)}function py(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function E0(n){return n.collectionGroup!==null}function ml(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new At(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new zc(l,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new zc(Ut.keyField(),i))}return e.ce}function kr(n){const e=Ae(n);return e.le||(e.le=bA(e,ml(n))),e.le}function bA(n,e){if(n.limitType==="F")return fy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new zc(o.field,l)});const t=n.endAt?new Bc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bc(n.startAt.position,n.startAt.inclusive):null;return fy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function bf(n,e){const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lf(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return yp(kr(n),kr(e))&&n.limitType===e.limitType}function T0(n){return`${_p(kr(n))}|lt:${n.limitType}`}function Oo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>v0(o)).join(", ")}]`),ih(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(kr(n))}; limitType=${n.limitType})`}function ah(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of ml(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=hy(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,ml(i),o)||i.endAt&&!function(c,d,p){const _=hy(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,ml(i),o))}(n,e)}function LA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I0(n){return(e,t)=>{let i=!1;for(const o of ml(n)){const l=OA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function OA(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?Wo(p,_):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new at(ve.comparator);function si(){return VA}const S0=new at(ve.comparator);function ll(...n){let e=S0;for(const t of n)e=e.insert(t.key,t);return e}function R0(n){let e=S0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ps(){return gl()}function C0(){return gl()}function gl(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const MA=new at(ve.comparator),FA=new At(ve.comparator);function Oe(...n){let e=FA;for(const t of n)e=e.add(t);return e}const UA=new At(Me);function jA(){return UA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function A0(n){return{integerValue:""+n}}function BA(n,e){return mA(e)?A0(e):wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function zA(n,e,t){return n instanceof Al?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&mp(l)&&(l=sh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof kl?P0(n,e):n instanceof Pl?x0(n,e):function(o,l){const c=k0(o,l),d=my(c)+my(o.Pe);return xf(c)&&xf(o.Pe)?A0(d):wp(o.serializer,d)}(n,e)}function $A(n,e,t){return n instanceof kl?P0(n,e):n instanceof Pl?x0(n,e):t}function k0(n,e){return n instanceof $c?function(i){return xf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Al extends lh{}class kl extends lh{constructor(e){super(),this.elements=e}}function P0(n,e){const t=N0(e);for(const i of n.elements)t.some(o=>xr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Pl extends lh{constructor(e){super(),this.elements=e}}function x0(n,e){let t=N0(e);for(const i of n.elements)t=t.filter(o=>!xr(o,i));return{arrayValue:{values:t}}}class $c extends lh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function my(n){return pt(n.integerValue||n.doubleValue)}function N0(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.field=e,this.transform=t}}function qA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof kl&&o instanceof kl||i instanceof Pl&&o instanceof Pl?qo(i.elements,o.elements,xr):i instanceof $c&&o instanceof $c?xr(i.Pe,o.Pe):i instanceof Al&&o instanceof Al}(n.transform,e.transform)}class WA{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uh{}function D0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ep(n.key,nr.none()):new Ul(n.key,n.data,nr.none());{const t=n.data,i=fn.empty();let o=new At(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Xi(n.key,i,new Rn(o.toArray()),nr.none())}}function GA(n,e,t){n instanceof Ul?function(o,l,c){const d=o.value.clone(),p=_y(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xi?function(o,l,c){if(!Cc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=_y(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(b0(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function _l(n,e,t,i){return n instanceof Ul?function(l,c,d,p){if(!Cc(l.precondition,c))return d;const _=l.value.clone(),v=yy(l.fieldTransforms,p,c);return _.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xi?function(l,c,d,p){if(!Cc(l.precondition,c))return d;const _=yy(l.fieldTransforms,p,c),v=c.data;return v.setAll(b0(l)),v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,c,d){return Cc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function KA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=k0(i.transform,o||null);l!=null&&(t===null&&(t=fn.empty()),t.set(i.field,l))}return t||null}function gy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,(l,c)=>qA(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ul extends uh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends uh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function _y(n,e,t){const i=new Map;qe(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,$A(c,d,t[o]))}return i}function yy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,zA(l,c,e))}return i}class Ep extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QA extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&GA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=C0();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=D0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,i)=>gy(t,i))&&qo(this.baseMutations,e.baseMutations,(t,i)=>gy(t,i))}}class Tp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length);let o=function(){return MA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Tp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,je;function ZA(n){switch(n){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function L0(n){if(n===void 0)return ii("GRPC error has no .code"),Y.UNKNOWN;switch(n){case yt.OK:return Y.OK;case yt.CANCELLED:return Y.CANCELLED;case yt.UNKNOWN:return Y.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Y.INTERNAL;case yt.UNAVAILABLE:return Y.UNAVAILABLE;case yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case yt.NOT_FOUND:return Y.NOT_FOUND;case yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case yt.ABORTED:return Y.ABORTED;case yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case yt.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(je=yt||(yt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new xs([4294967295,4294967295],0);function vy(n){const e=ek().encode(n),t=new i0;return t.update(e),new Uint8Array(t.digest())}function wy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xs([t,i],0),new xs([o,l],0)]}class Ip{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(i<0)throw new ul(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=xs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(xs.fromNumber(i)));return o.compare(tk)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=vy(e),[i,o]=wy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ip(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=vy(e),[i,o]=wy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ch(Ce.min(),o,new at(Me),si(),Oe())}}class jl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new jl(i,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class O0{constructor(e,t){this.targetId=e,this.me=t}}class V0{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ey{constructor(){this.fe=0,this.ge=Ty(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),t=Oe(),i=Oe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new jl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ty()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nk{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=fc(),this.Qe=fc(),this.Ke=new at(Me)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Df(l))if(i===0){const c=new ve(l.path);this.We(t,c,Gt.newNoDocument(c,Ce.min()))}else qe(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=qi(i).toUint8Array()}catch(p){if(p instanceof f0)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ip(c,o,l)}catch(p){return Ho(p instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Df(d.target)){const p=new ve(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Gt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=Oe();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new ch(e,t,this.Ke,this.ke,i);return this.ke=si(),this.qe=fc(),this.Qe=fc(),this.Ke=new at(Me),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ey,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(Me),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(Me),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ey),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fc(){return new at(ve.comparator)}function Ty(){return new at(ve.comparator)}const rk={asc:"ASCENDING",desc:"DESCENDING"},ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Of(n,e){return n.useProto3Json||ih(e)?e:{value:e}}function Hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ak(n,e){return Hc(n,e.toTimestamp())}function Pr(n){return qe(!!n),Ce.fromTimestamp(function(t){const i=Hi(t);return new Ct(i.seconds,i.nanos)}(n))}function Sp(n,e){return Vf(n,e).canonicalString()}function Vf(n,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function F0(n){const e=et.fromString(n);return qe($0(e)),e}function Mf(n,e){return Sp(n.databaseId,e.path)}function hf(n,e){const t=F0(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(j0(t))}function U0(n,e){return Sp(n.databaseId,e)}function lk(n){const e=F0(n);return e.length===4?et.emptyPath():j0(e)}function Ff(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function j0(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Iy(n,e,t){return{name:Mf(n,e),fields:t.value.mapValue.fields}}function uk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,v){return _.useProto3Json?(qe(v===void 0||typeof v=="string"),jt.fromBase64String(v||"")):(qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const v=_.code===void 0?Y.UNKNOWN:L0(_.code);return new fe(v,_.message||"")}(c);t=new V0(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=hf(n,i.document.name),l=Pr(i.document.updateTime),c=i.document.createTime?Pr(i.document.createTime):Ce.min(),d=new fn({mapValue:{fields:i.document.fields}}),p=Gt.newFoundDocument(o,l,c,d),_=i.targetIds||[],v=i.removedTargetIds||[];t=new Ac(_,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=hf(n,i.document),l=i.readTime?Pr(i.readTime):Ce.min(),c=Gt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Ac([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=hf(n,i.document),l=i.removedTargetIds||[];t=new Ac([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new JA(o,l),d=i.targetId;t=new O0(d,c)}}return t}function ck(n,e){let t;if(e instanceof Ul)t={update:Iy(n,e.key,e.value)};else if(e instanceof Ep)t={delete:Mf(n,e.key)};else if(e instanceof Xi)t={update:Iy(n,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof QA))return Se();t={verify:Mf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Al)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $c)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ak(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()}(n,e.precondition)),t}function hk(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Pr(o.updateTime):Pr(l);return c.isEqual(Ce.min())&&(c=Pr(l)),new WA(c,o.transformResults||[])}(t,e))):[]}function dk(n,e){return{documents:[U0(n,e.path)]}}function fk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=U0(n,o);const l=function(_){if(_.length!==0)return z0(rr.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(v=>function(E){return{field:Vo(E.field),direction:gk(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Of(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function pk(n){let e=lk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(S){const E=B0(S);return E instanceof rr&&_0(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(E=>function(O){return new zc(Mo(O.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(S){let E;return E=typeof S=="object"?S.value:S,ih(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(S){const E=!!S.before,x=S.values||[];return new Bc(x,E)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const E=!S.before,x=S.values||[];return new Bc(x,E)}(t.endAt)),DA(e,o,c,l,d,"F",p,_)}function mk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function B0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Mo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(Mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(i=>B0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function gk(n){return rk[n]}function _k(n){return ik[n]}function yk(n){return sk[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Ut.fromServerFormat(n.fieldPath)}function z0(n){return n instanceof vt?function(t){if(t.op==="=="){if(cy(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(uy(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cy(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(uy(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:_k(t.op),value:t.value}}}(n):n instanceof rr?function(t){const i=t.getFilters().map(o=>z0(o));return i.length===1?i[0]:{compositeFilter:{op:yk(t.op),filters:i}}}(n):Se()}function vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,i,o,l=Ce.min(),c=Ce.min(),d=jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.ht=e}}function Ek(n){const e=pk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.ln=new Ik}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve($i.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new At(et.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new At(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ko(0)}static Qn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry([n,e],[t,i]){const o=Me(n,t);return o===0?Me(e,i):o}class Sk{constructor(e){this.Gn=e,this.buffer=new At(Ry),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ry(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ra(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await na(t)}await this.Yn(3e5)})}}class Ck{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(rh.oe);const i=new Sk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Sy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,_;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),Lo()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function Ak(n,e){return new Ck(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&_l(i.mutation,o,Rn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Oe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Oe()){const o=Ps();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=ll();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ps();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Oe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=si();const c=gl(),d=function(){return gl()}();return t.forEach((p,_)=>{const v=i.get(_.key);o.has(_.key)&&(v===void 0||v.mutation instanceof Xi)?l=l.insert(_.key,_):v!==void 0?(c.set(_.key,v.mutation.getFieldMask()),_l(v.mutation,_,v.mutation.getFieldMask(),Ct.now())):c.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,v)=>c.set(_,v)),t.forEach((_,v)=>{var S;return d.set(_,new Pk(v,(S=c.get(_))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=gl();let o=new at((c,d)=>c-d),l=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let v=i.get(p)||Rn.empty();v=d.applyToLocalView(_,v),i.set(p,v);const S=(o.get(d.batchId)||Oe()).add(p);o=o.insert(d.batchId,S)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,v=p.value,S=C0();v.forEach(E=>{if(!l.has(E)){const x=D0(t.get(E),i.get(E));x!==null&&S.set(E,x),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):E0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(Ps());let d=-1,p=l;return c.next(_=>X.forEach(_,(v,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,Oe())).next(v=>({batchId:d,changes:R0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=ll();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=ll();return this.indexManager.getCollectionParents(e,l).next(d=>X.forEach(d,p=>{const _=function(S,E){return new Fl(E,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(v=>{v.forEach((S,E)=>{c=c.insert(S,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,_)=>{const v=_.getKey();c.get(v)===null&&(c=c.insert(v,Gt.newInvalidDocument(v)))});let d=ll();return c.forEach((p,_)=>{const v=l.get(p);v!==void 0&&_l(v.mutation,_,Rn.empty(),Ct.now()),ah(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Ek(o.bundledQuery),readTime:Pr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.overlays=new at(ve.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ps();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Ps(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new at((_,v)=>_-v);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let v=l.get(_.largestBatchId);v===null&&(v=Ps(),l=l.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const d=Ps(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,v)=>d.set(_,v)),!(d.size()>=o)););return X.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new YA(t,i));let l=this.Er.get(t);l===void 0&&(l=Oe(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.dr=new At(bt.Ar),this.Rr=new At(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1);let l=Oe();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new bt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Me(e.br,t.br)}static Vr(e,t){return Me(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(bt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XA(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Me);return t.forEach(o=>{const l=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new bt(new ve(l),0);let d=new At(Me);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.br)),!0)},c),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new bt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.Nr=e,this.docs=function(){return new at(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let i=si();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Gt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=si();const c=t.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:v}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||hA(cA(v),i)<=0||(o.has(v.key)||ah(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Vk(this)}getSize(e){return X.resolve(this.size)}}class Vk extends kk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.persistence=e,this.Br=new js(t=>_p(t),yp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new Rp,this.targetCount=0,this.Qr=Ko.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new rh(0),this.Ur=!1,this.Ur=!0,this.Wr=new bk,this.referenceDelegate=e(this),this.Gr=new Mk(this),this.indexManager=new Tk,this.remoteDocumentCache=function(o){return new Ok(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new wk(t),this.jr=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Lk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new Fk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Fk extends fA{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Zr=new Rp,this.Xr=null}static ei(e){return new Cp(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class qc{constructor(e,t){this.persistence=e,this.ri=new js(i=>gA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Ak(this,t)}static ei(e,t){return new qc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Oe(),o=Oe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ap(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return R1()?8:pA(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Uk;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Lo()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Lo()<=Le.DEBUG&&he("QueryEngine","Query:",Oo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Lo()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):X.resolve())}Xi(e,t){if(py(t))return X.resolve(null);let i=kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Lf(t,null,"F"),i=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Oe(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,d);return this.ss(t,_,c,p.readTime)?this.Xi(e,Lf(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return py(t)||o.isEqual(Ce.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?X.resolve(null):(Lo()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(t)),this.os(e,c,t,uA(o,-1)).next(d=>d))})}rs(e,t){let i=new At(I0(e));return t.forEach((o,l)=>{ah(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Lo()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.Zi.getDocumentsMatchingQuery(e,t,$i.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new at(Me),this.cs=new js(l=>_p(l),yp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zk(n,e,t,i){return new Bk(n,e,t,i)}async function q0(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Oe();for(const _ of o){c.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}for(const _ of l){d.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:d}))})})}function $k(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,v){const S=_.batch,E=S.keys();let x=X.resolve();return E.forEach(O=>{x=x.next(()=>v.getEntry(p,O)).next(j=>{const b=_.docVersions.get(O);qe(b!==null),j.version.compareTo(b)<0&&(S.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),v.addEntry(j)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Oe();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function W0(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Hk(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,S)=>{const E=o.get(S);if(!E)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,S)));let x=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(S,x),function(j,b,z){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,x,v)&&d.push(t.Gr.updateTargetData(l,x))});let p=si(),_=Oe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(qk(l,c,e.documentUpdates).next(v=>{p=v.Is,_=v.Es})),!i.isEqual(Ce.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return X.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function qk(n,e,t){let i=Oe(),o=Oe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=si();return t.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function Wk(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gk(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Vi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Uf(n,e,t){const i=Ae(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ra(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Cy(n,e,t){const i=Ae(n);let o=Ce.min(),l=Oe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,v){const S=Ae(p),E=S.cs.get(v);return E!==void 0?X.resolve(S.us.get(E)):S.Gr.getTargetData(_,v)}(i,c,kr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?l:Oe())).next(d=>(Kk(i,LA(e),d),{documents:d,ds:l})))}function Kk(n,e,t){let i=n.ls.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Ay{constructor(){this.activeTargetIds=jA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qk{constructor(){this._o=new Ay,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ay,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function df(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class Zk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=df(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,l,c),this.Bo(t,p,_,o).then(v=>(he("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ho("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=Yk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=df();return new Promise((c,d)=>{const p=new s0;p.setWithCredentials(!0),p.listenOnce(o0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const v=p.getResponseJson();he(qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Ic.TIMEOUT:he(qt,`RPC '${e}' ${l} timed out`),d(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const S=p.getStatus();if(he(qt,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const O=function(b){const z=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(z)>=0?z:Y.UNKNOWN}(x.status);d(new fe(O,x.message))}else d(new fe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(qt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);he(qt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=df(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=u0(),d=l0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");he(qt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=c.createWebChannel(v,p);let E=!1,x=!1;const O=new Jk({Eo:b=>{x?he(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(E||(he(qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),E=!0),he(qt,`RPC '${e}' stream ${o} sending:`,b),S.send(b))},Ao:()=>S.close()}),j=(b,z,H)=>{b.listen(z,K=>{try{H(K)}catch(J){setTimeout(()=>{throw J},0)}})};return j(S,al.EventType.OPEN,()=>{x||(he(qt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),j(S,al.EventType.CLOSE,()=>{x||(x=!0,he(qt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),j(S,al.EventType.ERROR,b=>{x||(x=!0,Ho(qt,`RPC '${e}' stream ${o} transport errored:`,b),O.Do(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),j(S,al.EventType.MESSAGE,b=>{var z;if(!x){const H=b.data[0];qe(!!H);const K=H,J=(K==null?void 0:K.error)||((z=K[0])===null||z===void 0?void 0:z.error);if(J){he(qt,`RPC '${e}' stream ${o} received error:`,J);const te=J.status;let re=function(C){const N=yt[C];if(N!==void 0)return L0(N)}(te),P=J.message;re===void 0&&(re=Y.INTERNAL,P="Unknown error status: "+te+" with message "+J.message),x=!0,O.Do(new fe(re,P)),S.close()}else he(qt,`RPC '${e}' stream ${o} received:`,H),O.vo(H)}}),j(d,a0.STAT_EVENT,b=>{b.stat===kf.PROXY?he(qt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===kf.NOPROXY&&he(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n){return new ok(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new G0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eP extends K0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=uk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Pr(c.readTime):Ce.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Ff(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Df(p)?{documents:dk(l,p)}:{query:fk(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=M0(l,c.resumeToken);const _=Of(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Hc(l,c.snapshotVersion.toTimestamp());const _=Of(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=mk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Ff(this.serializer),t.removeTarget=e,this.c_(t)}}class tP extends K0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hk(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Ff(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ck(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Vf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Vf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ii(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Bs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.k_.add(4),await Bl(_),_.K_.set("Unknown"),_.k_.delete(4),await dh(_)}(this))})}),this.K_=new rP(i,o)}}async function dh(n){if(Bs(n))for(const e of n.q_)await e(!0)}async function Bl(n){for(const e of n.q_)await e(!1)}function Q0(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Np(t)?xp(t):ia(t).s_()&&Pp(t,e))}function kp(n,e){const t=Ae(n),i=ia(t);t.B_.delete(e),i.s_()&&X0(t,e),t.B_.size===0&&(i.s_()?i.a_():Bs(t)&&t.K_.set("Unknown"))}function Pp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).V_(e)}function X0(n,e){n.U_.xe(e),ia(n).m_(e)}function xp(n){n.U_=new nk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.K_.F_()}function Np(n){return Bs(n)&&!ia(n).i_()&&n.B_.size>0}function Bs(n){return Ae(n).k_.size===0}function Y0(n){n.U_=void 0}async function sP(n){n.K_.set("Online")}async function oP(n){n.B_.forEach((e,t)=>{Pp(n,e)})}async function aP(n,e){Y0(n),Np(n)?(n.K_.O_(e),xp(n)):n.K_.set("Unknown")}async function lP(n,e,t){if(n.K_.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wc(n,i)}else if(e instanceof Ac?n.U_.$e(e):e instanceof O0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ce.min()))try{const i=await W0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(_);v&&l.B_.set(_,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),X0(l,p);const S=new Vi(v.target,p,_,v.sequenceNumber);Pp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await Wc(n,i)}}async function Wc(n,e,t){if(!ra(e))throw e;n.k_.add(1),await Bl(n),n.K_.set("Offline"),t||(t=()=>W0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await dh(n)})}function J0(n,e){return e().catch(t=>Wc(n,t,e))}async function fh(n){const e=Ae(n),t=Gi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;uP(e);)try{const o=await Wk(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,cP(e,o)}catch(o){await Wc(e,o)}Z0(e)&&ew(e)}function uP(n){return Bs(n)&&n.L_.length<10}function cP(n,e){n.L_.push(e);const t=Gi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Z0(n){return Bs(n)&&!Gi(n).i_()&&n.L_.length>0}function ew(n){Gi(n).start()}async function hP(n){Gi(n).w_()}async function dP(n){const e=Gi(n);for(const t of n.L_)e.g_(t.mutations)}async function fP(n,e,t){const i=n.L_.shift(),o=Tp.from(i,e,t);await J0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await fh(n)}async function pP(n,e){e&&Gi(n).f_&&await async function(i,o){if(function(c){return ZA(c)&&c!==Y.ABORTED}(o.code)){const l=i.L_.shift();Gi(i).__(),await J0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await fh(i)}}(n,e),Z0(n)&&ew(n)}async function Py(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=Bs(t);t.k_.add(3),await Bl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await dh(t)}async function mP(n,e){const t=Ae(n);e?(t.k_.delete(2),await dh(t)):e||(t.k_.add(2),await Bl(t),t.K_.set("Unknown"))}function ia(n){return n.W_||(n.W_=function(t,i,o){const l=Ae(t);return l.b_(),new eP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:sP.bind(null,n),mo:oP.bind(null,n),po:aP.bind(null,n),R_:lP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Np(n)?xp(n):n.K_.set("Unknown")):(await n.W_.stop(),Y0(n))})),n.W_}function Gi(n){return n.G_||(n.G_=function(t,i,o){const l=Ae(t);return l.b_(),new tP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:hP.bind(null,n),po:pP.bind(null,n),p_:dP.bind(null,n),y_:fP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await fh(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Dp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(n,e){if(ii("AsyncQueue",`${e}: ${n}`),ra(n))return new fe(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=ll(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.z_=new at(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qo{constructor(e,t,i,o,l,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Qo(e,t,zo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _P{constructor(){this.queries=Ny(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=Ny(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function Ny(){return new js(n=>T0(n),oh)}async function tw(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new gP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=bp(c,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Lp(t)}async function nw(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yP(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Lp(t)}function vP(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Lp(n){n.X_.forEach(e=>{e.next()})}var jf,Dy;(Dy=jf||(jf={})).na="default",Dy.Cache="cache";class rw{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class wP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=I0(e),this.ma=new zo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new xy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const E=o.get(v),x=ah(this.query,S)?S:null,O=!!E&&this.mutatedKeys.has(E.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;E&&x?E.data.isEqual(x.data)?O!==j&&(i.track({type:3,doc:x}),b=!0):this.ya(E,x)||(i.track({type:2,doc:x}),b=!0,(p&&this.Va(x,p)>0||_&&this.Va(x,_)<0)&&(d=!0)):!E&&x?(i.track({type:0,doc:x}),b=!0):E&&!x&&(i.track({type:1,doc:E}),b=!0,(p||_)&&(d=!0)),b&&(x?(c=c.add(x),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,S)=>function(x,O){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return j(x)-j(O)}(v.type,S.type)||this.Va(v.doc,S.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new Qo(this.query,e.ma,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new sw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new iw(i))}),t}va(e){this.da=e.ds,this.Ra=Oe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Qo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class EP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TP{constructor(e){this.key=e,this.Fa=!1}}class IP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new js(d=>T0(d),oh),this.Oa=new Map,this.Na=new Set,this.La=new at(ve.comparator),this.Ba=new Map,this.ka=new Rp,this.qa={},this.Qa=new Map,this.Ka=Ko.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function SP(n,e,t=!0){const i=hw(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await ow(i,e,t,!0),o}async function RP(n,e){const t=hw(n);await ow(t,e,!0,!1)}async function ow(n,e,t,i){const o=await Gk(n.localStore,kr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await CP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Q0(n.remoteStore,o),d}async function CP(n,e,t,i,o){n.Ua=(S,E,x)=>async function(j,b,z,H){let K=b.view.ga(z);K.ss&&(K=await Cy(j.localStore,b.query,!1).then(({documents:P})=>b.view.ga(P,K)));const J=H&&H.targetChanges.get(b.targetId),te=H&&H.targetMismatches.get(b.targetId)!=null,re=b.view.applyChanges(K,j.isPrimaryClient,J,te);return Ly(j,b.targetId,re.ba),re.snapshot}(n,S,E,x);const l=await Cy(n.localStore,e,!0),c=new wP(e,l.ds),d=c.ga(l.documents),p=jl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);Ly(n,t,_.ba);const v=new EP(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function AP(n,e,t){const i=Ae(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!oh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Uf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&kp(i.remoteStore,o.targetId),Bf(i,o.targetId)}).catch(na)):(Bf(i,o.targetId),await Uf(i.localStore,o.targetId,!0))}async function kP(n,e){const t=Ae(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kp(t.remoteStore,i.targetId))}async function PP(n,e,t){const i=VP(n);try{const o=await function(c,d){const p=Ae(c),_=Ct.now(),v=d.reduce((x,O)=>x.add(O.key),Oe());let S,E;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=si(),j=Oe();return p.hs.getEntries(x,v).next(b=>{O=b,O.forEach((z,H)=>{H.isValidDocument()||(j=j.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,O)).next(b=>{S=b;const z=[];for(const H of d){const K=KA(H,S.get(H.key).overlayedDocument);K!=null&&z.push(new Xi(H.key,K,p0(K.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,_,z,d)}).next(b=>{E=b;const z=b.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(x,b.batchId,z)})}).then(()=>({batchId:E.batchId,changes:R0(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.qa[c.currentUser.toKey()];_||(_=new at(Me)),_=_.insert(d,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await zl(i,o.changes),await fh(i.remoteStore)}catch(o){const l=bp(o,"Failed to persist write");t.reject(l)}}async function aw(n,e){const t=Ae(n);try{const i=await Hk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?qe(c.Fa):o.removedDocuments.size>0&&(qe(c.Fa),c.Fa=!1))}),await zl(t,i,e)}catch(i){await na(i)}}function by(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let _=!1;p.queries.forEach((v,S)=>{for(const E of S.J_)E.ea(d)&&(_=!0)}),_&&Lp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xP(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new at(ve.comparator);c=c.insert(l,Gt.newNoDocument(l,Ce.min()));const d=Oe().add(l),p=new ch(Ce.min(),new Map,new at(Me),c,d);await aw(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Op(i)}else await Uf(i.localStore,e,!1).then(()=>Bf(i,e,t)).catch(na)}async function NP(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await $k(t.localStore,e);uw(t,i,null),lw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await zl(t,o)}catch(o){await na(o)}}async function DP(n,e,t){const i=Ae(n);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return p.mutationQueue.lookupMutationBatch(_,d).next(S=>(qe(S!==null),v=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>p.localDocuments.getDocuments(_,v))})}(i.localStore,e);uw(i,e,t),lw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await zl(i,o)}catch(o){await na(o)}}function lw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function uw(n,e,t){const i=Ae(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Bf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||cw(n,i)})}function cw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(kp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Op(n))}function Ly(n,e,t){for(const i of t)i instanceof iw?(n.ka.addReference(i.key,e),bP(n,i)):i instanceof sw?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||cw(n,i.key)):Se()}function bP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),Op(n))}function Op(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(et.fromString(e)),i=n.Ka.next();n.Ba.set(i,new TP(t)),n.La=n.La.insert(t,i),Q0(n.remoteStore,new Vi(kr(vp(t.path)),i,"TargetPurposeLimboResolution",rh.oe))}}async function zl(n,e,t){const i=Ae(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(_=>{var v;if((_||t)&&i.isPrimaryClient){const S=_?!_.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Ap.zi(p.targetId,_);l.push(S)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(_,E=>X.forEach(E.Wi,x=>v.persistence.referenceDelegate.addReference(S,E.targetId,x)).next(()=>X.forEach(E.Gi,x=>v.persistence.referenceDelegate.removeReference(S,E.targetId,x)))))}catch(S){if(!ra(S))throw S;he("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const E=S.targetId;if(!S.fromCache){const x=v.us.get(E),O=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(O);v.us=v.us.insert(E,j)}}}(i.localStore,l))}async function LP(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await q0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new fe(Y.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zl(t,i.Ts)}}function OP(n,e){const t=Ae(n),i=t.Ba.get(e);if(i&&i.Fa)return Oe().add(i.key);{let o=Oe();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function hw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xP.bind(null,e),e.Ma.R_=yP.bind(null,e.eventManager),e.Ma.Wa=vP.bind(null,e.eventManager),e}function VP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zk(this.persistence,new jk,e.initialUser,this.serializer)}ja(e){return new H0(Cp.ei,this.serializer)}za(e){return new Qk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class MP extends Gc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof qc);const i=this.persistence.referenceDelegate.garbageCollector;return new Rk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new H0(i=>qc.ei(i,t),this.serializer)}}class zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>by(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LP.bind(null,this.syncEngine),await mP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _P}()}createDatastore(e){const t=hh(e.databaseInfo.databaseId),i=function(l){return new Zk(l)}(e.databaseInfo);return function(l,c,d,p){return new nP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new iP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>by(this.syncEngine,t,0),function(){return ky.p()?new ky:new Xk}())}createSyncEngine(e,t){return function(o,l,c,d,p,_,v){const S=new IP(o,l,c,d,p,_);return v&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);he("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Bl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zf.provider={build:()=>new zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=h0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=bp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function pf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await q0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Oy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UP(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Py(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Py(e.remoteStore,o)),n._onlineComponents=e}async function UP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await pf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await pf(n,new Gc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await pf(n,new MP(void 0));return n._offlineComponents}async function fw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Oy(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Oy(n,new zf))),n._onlineComponents}function jP(n){return fw(n).then(e=>e.syncEngine)}async function pw(n){const e=await fw(n),t=e.eventManager;return t.onListen=SP.bind(null,e.syncEngine),t.onUnlisten=AP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kP.bind(null,e.syncEngine),t}function BP(n,e,t={}){const i=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new dw({next:E=>{v.eu(),c.enqueueAndForget(()=>nw(l,S));const x=E.docs.has(d);!x&&E.fromCache?_.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&p&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(E)},error:E=>_.reject(E)}),S=new rw(vp(d.path),v,{includeMetadataChanges:!0,ua:!0});return tw(l,S)}(await pw(n),n.asyncQueue,e,t,i)),i.promise}function zP(n,e,t={}){const i=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new dw({next:E=>{v.eu(),c.enqueueAndForget(()=>nw(l,S)),E.fromCache&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(E)},error:E=>_.reject(E)}),S=new rw(d,v,{includeMetadataChanges:!0,ua:!0});return tw(l,S)}(await pw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,e,t){if(!t)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $P(n,e,t,i){if(e===!0&&i===!0)throw new fe(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function My(n){if(!ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fy(n){if(ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ph(n);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new eA;switch(i.type){case"firstParty":return new iA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Vy.get(t);i&&(he("ComponentProvider","Removing Datastore"),Vy.delete(t),i.terminate())}(this),Promise.resolve()}}function HP(n,e,t,i={}){var o;const l=(n=oi(n,mh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Wt.MOCK_USER;else{d=wv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(_)}n._authCredentials=new tA(new c0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class pn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class ji extends sa{constructor(e,t,i){super(e,t,vp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ve(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Mn(n,e,...t){if(n=ot(n),gw("collection","path",e),n instanceof mh){const i=et.fromString(e,...t);return Fy(i),new ji(n,null,i)}{if(!(n instanceof pn||n instanceof ji))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return Fy(i),new ji(n.firestore,null,i)}}function gh(n,e,...t){if(n=ot(n),arguments.length===1&&(e=h0.newId()),gw("doc","path",e),n instanceof mh){const i=et.fromString(e,...t);return My(i),new pn(n,null,new ve(i))}{if(!(n instanceof pn||n instanceof ji))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return My(i),new pn(n.firestore,n instanceof ji?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new G0(this,"async_queue_retry"),this.fu=()=>{const i=ff();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=ff();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=ff();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ra(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ii("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Dp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class oa extends mh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new jy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jy(e),this._firestoreClient=void 0,await e}}}function aa(n,e){const t=typeof n=="object"?n:np(),i=typeof n=="string"?n:"(default)",o=Jc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=_v("firestore");l&&HP(o,...l)}return o}function Vp(n){if(n._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qP(n),n._firestoreClient}function qP(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,_,v){return new vA(d,p,_,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,mw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new FP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(jt.fromBase64String(e))}catch(t){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^__.*__$/;class GP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}class _w{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Up{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Kc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yw(this.Mu)&&WP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class KP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||hh(e)}$u(e,t,i,o=!1){return new Up({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(n){const e=n._freezeSettings(),t=hh(n._databaseId);return new KP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QP(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);zp("Data must be an object, but it was:",c,i);const d=vw(i,c);let p,_;if(l.merge)p=new Rn(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const E=$f(e,S,t);if(!c.contains(E))throw new fe(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Ew(v,E)||v.push(E)}p=new Rn(v),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new GP(new fn(d),p,_)}class vh extends yh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}class Bp extends yh{_toFieldTransform(e){return new HA(e.path,new Al)}isEqual(e){return e instanceof Bp}}function XP(n,e,t,i){const o=n.$u(1,e,t);zp("Data must be an object, but it was:",o,i);const l=[],c=fn.empty();Qi(i,(p,_)=>{const v=$p(e,p,t);_=ot(_);const S=o.Bu(v);if(_ instanceof vh)l.push(v);else{const E=$l(_,S);E!=null&&(l.push(v),c.set(v,E))}});const d=new Rn(l);return new _w(c,d,o.fieldTransforms)}function YP(n,e,t,i,o,l){const c=n.$u(1,e,t),d=[$f(e,i,t)],p=[o];if(l.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push($f(e,l[E])),p.push(l[E+1]);const _=[],v=fn.empty();for(let E=d.length-1;E>=0;--E)if(!Ew(_,d[E])){const x=d[E];let O=p[E];O=ot(O);const j=c.Bu(x);if(O instanceof vh)_.push(x);else{const b=$l(O,j);b!=null&&(_.push(x),v.set(x,b))}}const S=new Rn(_);return new _w(v,S,c.fieldTransforms)}function JP(n,e,t,i=!1){return $l(t,n.$u(i?4:3,e))}function $l(n,e){if(ww(n=ot(n)))return zp("Unsupported field value:",e,n),vw(n,e);if(n instanceof yh)return function(i,o){if(!yw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=$l(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ct.fromDate(i);return{timestampValue:Hc(o.serializer,l)}}if(i instanceof Ct){const l=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,l)}}if(i instanceof Mp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:M0(o.serializer,i._byteString)};if(i instanceof pn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Fp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return wp(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${ph(i)}`)}(n,e)}function vw(n,e){const t={};return d0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(i,o)=>{const l=$l(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function ww(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Mp||n instanceof Xo||n instanceof pn||n instanceof yh||n instanceof Fp)}function zp(n,e,t){if(!ww(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ph(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function $f(n,e,t){if((e=ot(e))instanceof _h)return e._internalPath;if(typeof e=="string")return $p(n,e);throw Kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZP=new RegExp("[~\\*/\\[\\]]");function $p(n,e,t){if(e.search(ZP)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(Y.INVALID_ARGUMENT,d+n+p)}function Ew(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ex extends Tw{data(){return super.data()}}function Hp(n,e){return typeof e=="string"?$p(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class nx extends qp{}function Er(n,e,...t){let i=[];e instanceof qp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Wp).length,d=l.filter(p=>p instanceof wh).length;if(c>1||c>0&&d>0)throw new fe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class wh extends nx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wh(e,t,i)}_apply(e){const t=this._parse(e);return Iw(e._query,t),new sa(e.firestore,e.converter,bf(e._query,t))}_parse(e){const t=jp(e.firestore);return function(l,c,d,p,_,v,S){let E;if(_.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){zy(S,v);const x=[];for(const O of S)x.push(By(p,l,O));E={arrayValue:{values:x}}}else E=By(p,l,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||zy(S,v),E=JP(d,c,S,v==="in"||v==="not-in");return vt.create(_,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(n,e,t){const i=e,o=Hp("where",n);return wh._create(o,i,t)}class Wp extends qp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)Iw(c,p),c=bf(c,p)}(e._query,t),new sa(e.firestore,e.converter,bf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function By(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new fe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E0(e)&&t.indexOf("/")!==-1)throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!ve.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ly(n,new ve(i))}if(t instanceof pn)return ly(n,t._key);throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(t)}.`)}function zy(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iw(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rx{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>pt(c.doubleValue));return new Fp(l)}convertGeoPoint(e){return new Mp(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);qe($0(i));const o=new Rl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||ii(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sw extends Tw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Hp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class kc extends Sw{data(e={}){return super.data(e)}}class sx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new kc(this._firestore,this._userDataWriter,i.key,i,new cl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new kc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,v=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:ox(d.type),doc:p,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ox(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){n=oi(n,pn);const e=oi(n.firestore,oa);return BP(Vp(e),n._key).then(t=>ux(e,n,t))}class Cw extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}function Ir(n){n=oi(n,sa);const e=oi(n.firestore,oa),t=Vp(e),i=new Cw(e);return tx(n._query),zP(t,n._query).then(o=>new sx(e,i,n,o))}function ax(n,e,t,...i){n=oi(n,pn);const o=oi(n.firestore,oa),l=jp(o);let c;return c=typeof(e=ot(e))=="string"||e instanceof _h?YP(l,"updateDoc",n._key,e,t,i):XP(l,"updateDoc",n._key,e),Gp(o,[c.toMutation(n._key,nr.exists(!0))])}function lx(n){return Gp(oi(n.firestore,oa),[new Ep(n._key,nr.none())])}function Aw(n,e){const t=oi(n.firestore,oa),i=gh(n),o=ix(n.converter,e);return Gp(t,[QP(jp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}function Gp(n,e){return function(i,o){const l=new ti;return i.asyncQueue.enqueueAndForget(async()=>PP(await jP(i),o,l)),l.promise}(Vp(n),e)}function ux(n,e,t){const i=t.docs.get(e._key),o=new Cw(n);return new Sw(n,o,e._key,i,new cl(t.hasPendingWrites,t.fromCache),e.converter)}function cx(){return new Bp("serverTimestamp")}(function(e,t=!0){(function(o){ta=o})(Ms),Ds(new zi("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new oa(new nA(i.getProvider("auth-internal")),new oA(i.getProvider("app-check-internal")),function(_,v){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Cr(ny,"4.7.5",e),Cr(ny,"4.7.5","esm2017")})();const hx={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};Ll(hx);const dx=()=>{const n=Zo(),[e,t]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState(!1),d=Uc(),p=aa();F.useEffect(()=>{const H=d.onAuthStateChanged(async K=>{if(t(K),K){const J=K.email,te=await _(J);o(te),n("/dashboard",{state:{userData:te}})}});return()=>H()},[]);const _=async H=>{try{const K=Er(Mn(p,"RegisteredAdmin"),Tr("email","==",H)),J=await Ir(K);if(!J.empty)return J.docs[0].data();const te=Er(Mn(p,"RegisteredTeacher"),Tr("email","==",H)),re=await Ir(te);if(!re.empty)return re.docs[0].data();const P=Er(Mn(p,"RegisteredStudent"),Tr("email","==",H)),R=await Ir(P);return R.empty?null:R.docs[0].data()}catch(K){return console.error("Error fetching user data:",K),null}},v=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},S=()=>{c(!1),n("/dashboard",{state:{userData:i}})},E=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},x=()=>{c(!l)},O=async()=>{const H=Uc();try{await Cf(H),console.log("User signed out successfully"),n("/login")}catch(K){console.error("Error signing out:",K)}},j=["Alice Smith","Bob Johnson","Carol Williams","David Brown","Eve Davis"],b=["Smith","Johnson","Williams","Brown","Davis"],z=["Scanner-001","Scanner-002","Scanner-003"];return I.jsxs(I.Fragment,{children:[I.jsx("button",{className:xe.hamburgerBtn,onClick:x,children:l?I.jsx(dv,{size:24}):I.jsx(a1,{size:24})}),I.jsxs("div",{className:`${xe.sidebar} ${l?xe.sidebarOpen:""}`,children:[I.jsx("div",{className:xe.profileSection,children:e&&i&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:xe.avatar,children:I.jsx("img",{src:e.photoURL,alt:"Profile"})}),I.jsxs("div",{className:xe.userInfo,children:[I.jsx("h3",{children:i.name}),I.jsx("p",{children:e.email})]})]})}),I.jsx("nav",{className:xe.navigation,children:I.jsxs("ul",{className:xe.navList,children:[I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{className:xe.navLink,onClick:S,children:[I.jsx(s1,{size:20}),I.jsx("span",{children:"Dashboard"})]})}),I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{onClick:v,className:xe.navLink,style:{cursor:"pointer"},children:[I.jsx(YI,{size:20}),I.jsx("span",{children:"Create Event"})]})}),I.jsxs(dl,{to:"/dashboard/event-list",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(e1,{size:20}),I.jsx("span",{children:"Event List"})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(XI,{size:20}),I.jsx("span",{children:"Archive"})]})}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(nf,{size:20}),I.jsx("span",{children:"Students Registered"})]}),I.jsx("ul",{className:xe.dropdown,children:j.map((H,K)=>I.jsx("li",{className:xe.dropdownItem,children:H},K))})]}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(nf,{size:20}),I.jsx("span",{children:"Teacher Registered"})]}),I.jsx("ul",{className:xe.dropdown,children:b.map((H,K)=>I.jsx("li",{className:xe.dropdownItem,children:H},K))})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs(dl,{to:"/dashboard/student-registration",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(nf,{size:20}),I.jsx("span",{children:"Student Registration"})]})}),I.jsx("li",{className:xe.navItem,children:I.jsxs(dl,{to:"/dashboard/nfc-reader",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(S_,{size:20}),I.jsx("span",{children:"NFC Reader"})]})}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(S_,{size:20}),I.jsx("span",{children:"ESP32 NFC Scanners"})]}),I.jsx("ul",{className:xe.dropdown,children:z.map((H,K)=>I.jsx("li",{className:xe.dropdownItem,children:H},K))})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{className:xe.navLink,onClick:E,children:[I.jsx(r1,{size:20}),I.jsx("span",{children:"File Manager"})]})})]})}),I.jsxs("button",{className:xe.logoutBtn,onClick:O,children:[I.jsx(o1,{size:20}),I.jsx("span",{children:"Logout"})]})]}),l&&I.jsx("div",{className:xe.overlay,onClick:x})]})};function fx(){var i;const n=or(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return I.jsxs("div",{className:xe.dashboardContainer,children:[I.jsx(dx,{}),I.jsx("main",{className:xe.mainContent,children:t?I.jsxs("div",{className:xe.welcomeContainer,children:[I.jsxs("h1",{className:xe.welcomeTitle,children:["Welcome",I.jsx("br",{})," ",I.jsx("span",{children:e==null?void 0:e.name})]}),I.jsx("p",{className:xe.welcomeText,children:"Select an option from the sidebar to get started"})]}):I.jsx(qT,{})})]})}const px="_container_1vton_5",mx="_card_1vton_17",gx="_cardHeader_1vton_33",_x="_cardTitle_1vton_45",yx="_form_1vton_59",vx="_formGrid_1vton_69",wx="_formGroup_1vton_93",Ex="_label_1vton_105",Tx="_input_1vton_117",Ix="_select_1vton_119",Sx="_button_1vton_165",Rx="_tableContainer_1vton_215",Cx="_table_1vton_215",Ax="_status_1vton_273",kx="_statusPending_1vton_289",Px="_statusOngoing_1vton_299",xx="_statusCompleted_1vton_309",Nx="_error_1vton_321",Dx="_inputError_1vton_333",Ne={container:px,card:mx,cardHeader:gx,cardTitle:_x,form:yx,formGrid:vx,formGroup:wx,label:Ex,input:Tx,select:Ix,button:Sx,tableContainer:Rx,table:Cx,status:Ax,statusPending:kx,statusOngoing:Px,statusCompleted:xx,error:Nx,inputError:Dx},bx="_buttons_85dii_1",Lx="_add_85dii_77",Ox="_archive_85dii_77",Vx="_logout_85dii_77",Mx="_progress_85dii_77",Fx="_filemanager_85dii_77",Ux="_new_event_85dii_77",Cn={buttons:bx,add:Lx,archive:Ox,logout:Vx,progress:Mx,filemanager:Fx,new_event:Ux},jx=()=>{const n=or(),{userData:e}=n.state||{},t=aa(),[i,o]=F.useState(""),[l,c]=F.useState("unlimited"),[d,p]=F.useState(""),[_,v]=F.useState(""),[S,E]=F.useState("event"),[x,O]=F.useState(""),[j,b]=F.useState("pending"),[z,H]=F.useState(""),[K,J]=F.useState(""),[te,re]=F.useState(""),[P,R]=F.useState(""),C=["ESP32-001","ESP32-002","ESP32-003"],N=async L=>{L.preventDefault();try{const k={eventName:i,entryLimit:l,maxEntries:l==="limited"?parseInt(d):null,locations:_,purpose:S,selectedEsp32:x,status:j,startDate:z,startTime:K,endDate:te,endTime:P,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},We=await Aw(Mn(t,"PendingEvent"),k);await ax(We,{docId:We.id}),console.log("Event created with ID: ",We.id),alert("Event created successfully!"),M()}catch(k){console.error("Error creating event: ",k),alert("Error creating event. Please try again.")}},M=()=>{o(""),c("unlimited"),p(""),v(""),E("event"),O(""),b("pending"),H(""),J(""),re(""),R("")};return I.jsx("div",{className:Ne.container,children:I.jsxs("div",{className:Ne.card,children:[I.jsx("div",{className:Ne.cardHeader,children:I.jsx("h2",{className:Ne.cardTitle,children:"Create New Event"})}),I.jsxs("form",{className:Ne.form,onSubmit:N,children:[I.jsxs("div",{className:Ne.formGrid,children:[I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Event Name"}),I.jsx("input",{type:"text",className:Ne.input,value:i,onChange:L=>o(L.target.value),placeholder:"Enter event name"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Entry Limit"}),I.jsxs("select",{className:Ne.select,value:l,onChange:L=>c(L.target.value),children:[I.jsx("option",{value:"unlimited",children:"Unlimited"}),I.jsx("option",{value:"limited",children:"Limited"})]})]}),l==="limited"&&I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Maximum Entries"}),I.jsx("input",{type:"number",className:Ne.input,value:d,onChange:L=>p(L.target.value),placeholder:"Enter maximum entries"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Location"}),I.jsx("input",{type:"text",className:Ne.input,value:_,onChange:L=>v(L.target.value),placeholder:"Enter location"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Purpose"}),I.jsxs("select",{className:Ne.select,value:S,onChange:L=>E(L.target.value),children:[I.jsx("option",{value:"event",children:"Event Attendance"}),I.jsx("option",{value:"membership",children:"Membership Attendance"}),I.jsx("option",{value:"room",children:"Room Attendance"})]})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"ESP32 Device"}),I.jsx("select",{className:Ne.select,value:x,onChange:L=>O(L.target.value),children:C.map(L=>I.jsx("option",{value:L,children:L},L))})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Status"}),I.jsxs("select",{className:Ne.select,value:j,onChange:L=>b(L.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"ongoing",children:"Ongoing"}),I.jsx("option",{value:"completed",children:"Completed"}),I.jsx("option",{value:"pause",children:"Pause"}),I.jsx("option",{value:"continued",children:"Continued"})]})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Start Date"}),I.jsx("input",{type:"date",className:Ne.input,value:z,onChange:L=>H(L.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Start Time"}),I.jsx("input",{type:"time",className:Ne.input,value:K,onChange:L=>J(L.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"End Date"}),I.jsx("input",{type:"date",className:Ne.input,value:te,onChange:L=>re(L.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"End Time"}),I.jsx("input",{type:"time",className:Ne.input,value:P,onChange:L=>R(L.target.value)})]})]}),I.jsx("button",{type:"submit",className:Cn.buttons,children:"Create Event"})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firebasestorage.googleapis.com",Pw="storageBucket",Bx=2*60*1e3,zx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Nr{constructor(e,t,i=0){super(mf(e),`Firebase Storage: ${t} (${mf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function mf(n){return"storage/"+n}function Kp(){const n="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,n)}function $x(n){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Hx(n){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,n)}function Wx(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gx(n){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Kx(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qx(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function Xx(n){return new ct(ut.INVALID_URL,"Invalid URL '"+n+"'.")}function Yx(n){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Jx(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Pw+"' property when initializing the app?")}function Zx(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eN(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tN(n){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hf(n){return new ct(ut.INVALID_ARGUMENT,n)}function xw(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function nN(n){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yl(n,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function rl(n){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=en.makeFromUrl(e,t)}catch{return new en(e,"")}if(i.path==="")return i;throw Yx(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${S}/${v}/b/${o}/o${E}`,"i"),O={bucket:1,path:3},j=t===kw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",z=new RegExp(`^https?://${j}/${o}/${b}`,"i"),K=[{regex:d,indices:p,postModify:l},{regex:x,indices:O,postModify:_},{regex:z,indices:{bucket:1,path:2},postModify:_}];for(let J=0;J<K.length;J++){const te=K[J],re=te.regex.exec(e);if(re){const P=re[te.indices.bucket];let R=re[te.indices.path];R||(R=""),i=new en(P,R),te.postModify(i);break}}if(i==null)throw Xx(e);return i}}class rN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let _=!1;function v(...b){_||(_=!0,e.apply(null,b))}function S(b){o=setTimeout(()=>{o=null,n(x,p())},b)}function E(){l&&clearTimeout(l)}function x(b,...z){if(_){E();return}if(b){E(),v.call(null,b,...z);return}if(p()||c){E(),v.call(null,b,...z);return}i<64&&(i*=2);let K;d===1?(d=2,K=0):K=(i+Math.random())*1e3,S(K)}let O=!1;function j(b){O||(O=!0,E(),!_&&(o!==null?(b||(d=2),clearTimeout(o),S(0)):b||(d=1)))}return S(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function sN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){return n!==void 0}function aN(n){return typeof n=="object"&&!Array.isArray(n)}function Qp(n){return typeof n=="string"||n instanceof String}function $y(n){return Xp()&&n instanceof Blob}function Xp(){return typeof Blob<"u"}function qf(n,e,t,i){if(i<e)throw Hf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Hf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Nw(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ns;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,i,o,l,c,d,p,_,v,S,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=v,this.connectionFactory_=S,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,O)=>{this.resolve_=x,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new mc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ns.NO_ERROR,p=l.getStatus();if(!d||lN(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ns.ABORT;i(!1,new mc(!1,null,v));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new mc(_,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());oN(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Kp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?xw():Qx();c(p)}else{const p=Kx();c(p)}};this.canceled_?t(!1,new mc(!1,null,!0)):this.backoffId_=iN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function cN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function hN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function fN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function pN(n,e,t,i,o,l,c=!0){const d=Nw(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return dN(_,e),cN(_,t),hN(_,l),fN(_,i),new uN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gN(...n){const e=mN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Xp())return new Blob(n);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _N(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){if(typeof atob>"u")throw tN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gf{constructor(e,t){this.data=e,this.contentType=t||null}}function vN(n,e){switch(n){case Rr.RAW:return new gf(Dw(e));case Rr.BASE64:case Rr.BASE64URL:return new gf(bw(n,e));case Rr.DATA_URL:return new gf(EN(e),TN(e))}throw Kp()}function Dw(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function wN(n){let e;try{e=decodeURIComponent(n)}catch{throw yl(Rr.DATA_URL,"Malformed data URL.")}return Dw(e)}function bw(n,e){switch(n){case Rr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw yl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw yl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yN(e)}catch(o){throw o.message.includes("polyfill")?o:yl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class Lw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yl(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=IN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function EN(n){const e=new Lw(n);return e.base64?bw(Rr.BASE64,e.rest):wN(e.rest)}function TN(n){return new Lw(n).contentType}function IN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){let i=0,o="";$y(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if($y(this.data_)){const i=this.data_,o=_N(i,e,t);return o===null?null:new Oi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Oi(i,!0)}}static getBlob(...e){if(Xp()){const t=e.map(i=>i instanceof Oi?i.data_:i);return new Oi(gN.apply(null,t))}else{const t=e.map(c=>Qp(c)?vN(Rr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Oi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n){let e;try{e=JSON.parse(n)}catch{return null}return aN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function Ow(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n,e){return e}class Zt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||CN}}let gc=null;function AN(n){return!Qp(n)||n.length<2?n:Ow(n)}function Vw(){if(gc)return gc;const n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(l,c){return AN(c)}const t=new Zt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Zt("size");return o.xform=i,n.push(o),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),gc=n,gc}function kN(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new en(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function PN(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return kN(i,n),i}function Mw(n,e,t){const i=Yp(e);return i===null?null:PN(n,i,t)}function xN(n,e,t,i){const o=Yp(e);if(o===null||!Qp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(_=>{const v=n.bucket,S=n.fullPath,E="/b/"+c(v)+"/o/"+c(S),x=Hl(E,t,i),O=Nw({alt:"media",token:_});return x+O})[0]}function NN(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="prefixes",qy="items";function DN(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Hy])for(const o of t[Hy]){const l=o.replace(/\/$/,""),c=n._makeStorageReference(new en(e,l));i.prefixes.push(c)}if(t[qy])for(const o of t[qy]){const l=n._makeStorageReference(new en(e,o.name));i.items.push(l)}return i}function bN(n,e,t){const i=Yp(t);return i===null?null:DN(n,e,i)}class Eh{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n){if(!n)throw Kp()}function LN(n,e){function t(i,o){const l=Mw(n,o,e);return Jp(l!==null),l}return t}function ON(n,e){function t(i,o){const l=bN(n,e,o);return Jp(l!==null),l}return t}function VN(n,e){function t(i,o){const l=Mw(n,o,e);return Jp(l!==null),xN(l,o,n.host,n._protocol)}return t}function Zp(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Wx():o=qx():t.getStatus()===402?o=Hx(n.bucket):t.getStatus()===403?o=Gx(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Fw(n){const e=Zp(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=$x(n.path)),l.serverResponse=o.serverResponse,l}return t}function MN(n,e,t,i,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),d=Hl(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,v=new Eh(d,p,ON(n,e.bucket),_);return v.urlParams=l,v.errorHandler=Zp(e),v}function FN(n,e,t){const i=e.fullServerUrl(),o=Hl(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Eh(o,l,VN(n,t),c);return d.errorHandler=Fw(e),d}function UN(n,e){const t=e.fullServerUrl(),i=Hl(t,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(p,_){}const d=new Eh(i,o,c,l);return d.successCodes=[200,204],d.errorHandler=Fw(e),d}function jN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function BN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=jN(null,e)),i}function zN(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let J=0;J<2;J++)K=K+Math.random().toString().slice(2);return K}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const _=BN(e,i,o),v=NN(_,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,E=`\r
--`+p+"--",x=Oi.getBlob(S,i,E);if(x===null)throw Zx();const O={name:_.fullPath},j=Hl(l,n.host,n._protocol),b="POST",z=n.maxUploadRetryTime,H=new Eh(j,b,LN(n,t),z);return H.urlParams=O,H.headers=c,H.body=x.uploadData(),H.errorHandler=Zp(e),H}class $N{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HN extends $N{initXhr(){this.xhr_.responseType="text"}}function Th(){return new HN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this._service=e,t instanceof en?this._location=t:this._location=en.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Os(e,t)}get root(){const e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ow(this._location.path)}get storage(){return this._service}get parent(){const e=SN(this._location.path);if(e===null)return null;const t=new en(this._location.bucket,e);return new Os(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nN(e)}}function qN(n,e,t){n._throwIfRoot("uploadBytes");const i=zN(n.storage,n._location,Vw(),new Oi(e,!0),t);return n.storage.makeRequestWithTokens(i,Th).then(o=>({metadata:o,ref:n}))}function WN(n){const e={prefixes:[],items:[]};return Uw(n,e).then(()=>e)}async function Uw(n,e,t){const o=await GN(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Uw(n,e,o.nextPageToken)}function GN(n,e){e!=null&&typeof e.maxResults=="number"&&qf("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=MN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Th)}function KN(n){n._throwIfRoot("getDownloadURL");const e=FN(n.storage,n._location,Vw());return n.storage.makeRequestWithTokens(e,Th).then(t=>{if(t===null)throw eN();return t})}function QN(n){n._throwIfRoot("deleteObject");const e=UN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Th)}function XN(n,e){const t=RN(n._location.path,e),i=new en(n._location.bucket,t);return new Os(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){return/^[A-Za-z]+:\/\//.test(n)}function JN(n,e){return new Os(n,e)}function jw(n,e){if(n instanceof em){const t=n;if(t._bucket==null)throw Jx();const i=new Os(t,t._bucket);return e!=null?jw(i,e):i}else return e!==void 0?XN(n,e):n}function ZN(n,e){if(e&&YN(e)){if(n instanceof em)return JN(n,e);throw Hf("To use ref(service, url), the first argument must be a Storage instance.")}else return jw(n,e)}function Wy(n,e){const t=e==null?void 0:e[Pw];return t==null?null:en.makeFromBucketSpec(t,n)}function e2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:wv(o,n.app.options.projectId))}class em{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=kw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bx,this._maxUploadRetryTime=zx,this._requests=new Set,o!=null?this._bucket=en.makeFromBucketSpec(o,this._host):this._bucket=Wy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=Wy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Os(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new rN(xw());{const c=pN(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Gy="@firebase/storage",Ky="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="storage";function Fo(n,e,t){return n=ot(n),qN(n,e,t)}function Pc(n){return n=ot(n),WN(n)}function hl(n){return n=ot(n),KN(n)}function il(n){return n=ot(n),QN(n)}function Sn(n,e){return n=ot(n),ZN(n,e)}function tm(n=np(),e){n=ot(n);const i=Jc(n,Bw).getImmediate({identifier:e}),o=_v("storage");return o&&t2(i,...o),i}function t2(n,e,t,i={}){e2(n,e,t,i)}function n2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new em(t,i,o,e,Ms)}function r2(){Ds(new zi(Bw,n2,"PUBLIC").setMultipleInstances(!0)),Cr(Gy,Ky,""),Cr(Gy,Ky,"esm2017")}r2();const i2="_container_rixh2_3",s2="_form_rixh2_17",o2="_nfcButton_rixh2_47",a2="_scanButton_rixh2_47",l2="_scannerContainer_rixh2_65",u2="_scanner_rixh2_65",c2="_modalOverlay_rixh2_95",h2="_modalContent_rixh2_123",d2="_status_rixh2_147",f2="_statusWarning_rixh2_165",p2="_statusInfo_rixh2_179",m2="_statusSuccess_rixh2_193",g2="_statusError_rixh2_207",_2="_pulse_rixh2_1",y2="_reader_rixh2_293",wr={container:i2,form:s2,nfcButton:o2,scanButton:a2,scannerContainer:l2,scanner:u2,modalOverlay:c2,modalContent:h2,status:d2,statusWarning:f2,statusInfo:p2,statusSuccess:m2,statusError:g2,"animate-pulse":"_animate-pulse_rixh2_245",pulse:_2,reader:y2},v2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},zw=Ll(v2),Qy=aa(zw),w2=tm(zw),E2=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return wr.statusWarning;case"error":return wr.statusError;case"success":return wr.statusSuccess;default:return wr.statusInfo}};return I.jsx("div",{className:wr.modalOverlay,children:I.jsx("div",{className:wr.modalContent,children:I.jsx("div",{className:`${wr.status} ${i()} ${t?wr["animate-pulse"]:""}`,children:n})})})},T2=()=>{const[n,e]=F.useState({studentName:"",email:"",course:"",campus:"",studentId:""}),[t,i]=F.useState(null),[o,l]=F.useState(!1),[c,d]=F.useState(""),[p,_]=F.useState(null),[v,S]=F.useState("info"),E=F.useRef(null),x=(te,re="info")=>{d(te),S(re)};F.useEffect(()=>()=>{p&&p.abort()},[p]);const O=te=>{const re=te.target.files[0];i(re)},j=async()=>{if(!t)return null;d("Uploading selfie...");const te=n.email.replace(/[@.]/g,"_"),re=Sn(w2,`users/${te}/profile/${t.name}`),P=await Fo(re,t);return await hl(P.ref)},b=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{l(!0),d("Waiting for NFC tag...");const te=new NDEFReader;return _(te),await te.scan(),new Promise((re,P)=>{const R=async({serialNumber:C})=>{try{if(d("Checking NFC authorization..."),!await H(C)){P(new Error("Unauthorized NFC tag"));return}d("Uploading data...");const M=await j(),L={...n,nfcSerialNumber:C,selfieUrl:M,createdAt:cx()};d("Saving to database...");const k=await Aw(Mn(Qy,"RegisteredStudent"),L);d("Writing to NFC tag...");try{await te.write({records:[{recordType:"text",data:new TextEncoder().encode(k.id)}]}),d("Verifying NFC write..."),await z(k.id,te)}catch(We){console.error("NFC Write Error:",We),d("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:k.id}]})}catch(mt){console.error("Fallback NFC Write Error:",mt),d("NFC write failed, but registration saved")}}te.addEventListener("reading",R,{once:!0}),re(k.id)}catch(N){te.removeEventListener("reading",R),P(N)}};te.addEventListener("reading",R,{once:!0})})}catch(te){throw x(te.message,"error"),te}},z=async(te,re)=>new Promise((P,R)=>{const C=setTimeout(()=>{R(new Error("Verification timeout"))},5e3);re.addEventListener("reading",({message:N})=>{clearTimeout(C),N.records.some(L=>L.recordType==="text"&&new TextDecoder().decode(L.data)===te)?P():R(new Error("NFC write verification failed"))},{once:!0})}),H=async te=>{try{const re=gh(Qy,"Toregistered",te);return(await Rw(re)).exists()}catch(re){return console.error("NFC Authorization Check Error:",re),!1}},K=()=>{e({studentName:"",email:"",course:"",campus:"",studentId:""}),i(null),d(""),E.current&&(E.current.value="")},J=async te=>{if(te.preventDefault(),!("NDEFReader"in window)){x("NFC is not supported on this device","warning");return}if(window.confirm("Approach NFC tag to complete registration"))try{const re=await b();x("Registration completed successfully!","success"),setTimeout(()=>{x(""),K()},3e3)}catch(re){console.error("Registration Error:",re),x(`Registration failed: ${re.message}`,"error")}finally{l(!1),p&&(p.abort(),_(null))}};return I.jsxs("div",{className:wr.container,children:[I.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&I.jsx(E2,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?v:"warning",isProcessing:o}),I.jsxs("form",{onSubmit:J,className:wr.form,children:[I.jsx("input",{type:"text",placeholder:"Student Name",value:n.studentName,onChange:te=>e({...n,studentName:te.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:te=>e({...n,email:te.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:te=>e({...n,course:te.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:te=>e({...n,studentId:te.target.value}),required:!0,disabled:o}),I.jsxs("select",{value:n.campus,onChange:te=>e({...n,campus:te.target.value}),required:!0,disabled:o,children:[I.jsx("option",{value:"",children:"Select Campus"}),I.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),I.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),I.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),I.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),I.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),I.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),I.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),I.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),t?I.jsxs("p",{children:["Selfie Captured: ",t.name]}):I.jsxs(I.Fragment,{children:[I.jsx("input",{type:"file",ref:E,onChange:O,accept:"image/*",capture:"user",style:{display:"none"},disabled:o}),I.jsx("button",{type:"button",onClick:()=>E.current.click(),className:Cn.buttons,disabled:o,children:"Take Profile Picture"})]}),I.jsx("button",{type:"submit",className:`${Cn.buttons} ${o?"animate-pulse":""}`,disabled:!n.studentId||!t||o||!("NDEFReader"in window),children:o?"Processing...":"Complete Registration with NFC"})]})]})},I2="_container_avr77_1",S2="_status_avr77_33",R2="_reading_avr77_51",C2="_pulse_avr77_1",A2="_error_avr77_59",k2="_studentInfo_avr77_77",P2="_infoGrid_avr77_107",x2="_infoRow_avr77_117",N2="_selfie_avr77_149",D2="_controls_avr77_171",b2="_button_avr77_185",L2="_readButton_avr77_213",O2="_resetButton_avr77_231",In={container:I2,status:S2,reading:R2,pulse:C2,error:A2,studentInfo:k2,infoGrid:P2,infoRow:x2,selfie:N2,controls:D2,button:b2,readButton:L2,resetButton:O2},V2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},M2=Ll(V2),F2=aa(M2),U2=()=>{const[n,e]=F.useState(null),[t,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(null),p=async()=>{try{l(!0),i("Waiting for NFC card..."),d(null);const v=new NDEFReader;await v.scan(),v.addEventListener("reading",async({message:S})=>{try{const E=S.records.find(b=>b.recordType==="text");if(!E)throw new Error("Invalid NFC card: No student data found");const x=new TextDecoder().decode(E.data);i("Retrieving student data...");const O=gh(F2,"RegisteredStudent",x),j=await Rw(O);if(j.exists()){const b=j.data();e(b),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(E){d(E.message),e(null)}finally{l(!1),v.stop()}})}catch(v){d(v.message),l(!1)}},_=()=>{e(null),i(""),d(null),l(!1)};return I.jsxs("div",{className:In.container,children:[I.jsx("h1",{children:"Student NFC Reader"}),t&&I.jsx("div",{className:`${In.status} ${o?In.reading:""}`,children:t}),c&&I.jsx("div",{className:In.error,children:c}),n&&I.jsxs("div",{className:In.studentInfo,children:[I.jsx("h2",{children:"Student Information"}),I.jsxs("div",{className:In.infoGrid,children:[I.jsxs("div",{className:In.infoRow,children:[I.jsx("span",{children:"Name:"}),I.jsx("span",{children:n.studentName})]}),I.jsxs("div",{className:In.infoRow,children:[I.jsx("span",{children:"Student ID:"}),I.jsx("span",{children:n.studentId})]}),I.jsxs("div",{className:In.infoRow,children:[I.jsx("span",{children:"Email:"}),I.jsx("span",{children:n.email})]}),I.jsxs("div",{className:In.infoRow,children:[I.jsx("span",{children:"Course:"}),I.jsx("span",{children:n.course})]}),I.jsxs("div",{className:In.infoRow,children:[I.jsx("span",{children:"Campus:"}),I.jsx("span",{children:n.campus})]}),n.selfieUrl&&I.jsx("div",{className:In.selfie,children:I.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),I.jsxs("div",{className:In.controls,children:[I.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Cn.buttons} ${Cn.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&I.jsx("button",{onClick:_,className:`${Cn.buttons} ${Cn.buttons}`,children:"Clear & Scan New Card"})]})]})},j2="_login_container_158dy_9",B2="_login_card_158dy_31",z2="_login_title_158dy_49",$2="_login_form_158dy_67",H2="_form_group_158dy_79",q2="_login_input_158dy_89",W2="_login_button_158dy_121",G2="_error_message_158dy_167",K2="_divider_158dy_185",Q2="_google_button_158dy_233",X2="_google_icon_158dy_285",hn={login_container:j2,login_card:B2,login_title:z2,login_form:$2,form_group:H2,login_input:q2,login_button:W2,error_message:G2,divider:K2,google_button:Q2,google_icon:X2},Y2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},J2=Ll(Y2),Z2=new Xr,Cs=Uc(),bo=aa(J2),eD=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(!1),[p,_]=F.useState(!1),[v,S]=F.useState(null),E=Zo();F.useEffect(()=>((async()=>{if("NDEFReader"in window)try{const H=new window.NDEFReader;await H.scan(),_(!0),S(H),H.onreading=async({message:K})=>{try{const J=K.records.find(re=>re.recordType==="text");if(!J)throw new Error("Invalid NFC card: No user data found");const te=new TextDecoder().decode(J.data);try{const re=await x(te);re?(localStorage.setItem("userRole",re),E("/dashboard")):l("NFC card is not registered in the system.")}catch(re){console.error("Authentication error:",re),l("Failed to authenticate with NFC card.")}}catch(J){console.error("Error processing NFC card:",J),l("Failed to process NFC card.")}},H.onerror=K=>{console.error("NFC read error:",K),l("Error reading NFC card.")}}catch(H){console.error("Error setting up NFC:",H),_(!1)}else _(!1)})(),()=>{var H;v&&((H=v.removeAllListeners)==null||H.call(v))}),[]);const x=async z=>{try{const H=Er(Mn(bo,"RegisteredAdmin"),Tr("currentnfcId","==",z)),K=await Ir(H);if(!K.empty){const R=K.docs[0].data();return await uc(Cs,R.email,R.upass),"admin"}const J=Er(Mn(bo,"RegisteredTeacher"),Tr("currentnfcId","==",z)),te=await Ir(J);if(!te.empty){const R=te.docs[0].data();return await uc(Cs,R.email,R.upass),"teacher"}const re=Er(Mn(bo,"RegisteredStudent"),Tr("currentnfcId","==",z)),P=await Ir(re);if(!P.empty){const R=P.docs[0].data();return await uc(Cs,R.email,R.upass),"student"}return null}catch(H){throw console.error("Error checking user role by NFC:",H),H}},O=async z=>{try{const H=Er(Mn(bo,"RegisteredAdmin"),Tr("email","==",z));if(!(await Ir(H)).empty)return"admin";const J=Er(Mn(bo,"RegisteredTeacher"),Tr("email","==",z));if(!(await Ir(J)).empty)return"teacher";const re=Er(Mn(bo,"RegisteredStudent"),Tr("email","==",z));return(await Ir(re)).empty?null:"student"}catch(H){return console.error("Error checking user role:",H),null}},j=async z=>{z.preventDefault(),d(!0),l("");try{const H=await uc(Cs,n,t),K=await O(H.user.email);K?(localStorage.setItem("userRole",K),E("/dashboard")):(await Cf(Cs),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(H){l(H.message)}finally{d(!1)}},b=async()=>{d(!0),l("");try{const z=await lC(Cs,Z2),H=await O(z.user.email);H?(localStorage.setItem("userRole",H),E("/dashboard")):(await Cf(Cs),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(z){l(z.message)}finally{d(!1)}};return I.jsx("div",{className:hn.login_container,children:I.jsxs("div",{className:hn.login_card,children:[I.jsx("h1",{className:hn.login_title,children:"Login"}),p&&I.jsx("div",{className:hn.nfc_status,children:I.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),I.jsxs("form",{onSubmit:j,className:hn.login_form,children:[I.jsx("div",{className:hn.form_group,children:I.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:z=>e(z.target.value),required:!0,className:hn.login_input})}),I.jsx("div",{className:hn.form_group,children:I.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:z=>i(z.target.value),required:!0,className:hn.login_input})}),o&&I.jsx("div",{className:hn.error_message,children:o}),I.jsx("button",{type:"submit",className:hn.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),I.jsx("div",{className:hn.divider,children:I.jsx("span",{children:"Or continue with"})}),I.jsxs("button",{type:"button",onClick:b,disabled:c,className:hn.google_button,children:[I.jsx("svg",{className:hn.google_icon,viewBox:"0 0 24 24",children:I.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},tD="_event_list_container_15dvt_1",nD="_events_grid_15dvt_23",rD="_event_card_15dvt_33",iD="_card_header_15dvt_49",sD="_card_basic_info_15dvt_69",oD="_card_details_15dvt_93",aD="_event_info_15dvt_101",lD="_table_container_15dvt_125",uD="_action_buttons_15dvt_169",cD="_edit_btn_15dvt_179",hD="_delete_btn_15dvt_179",yr={event_list_container:tD,events_grid:nD,event_card:rD,card_header:iD,card_basic_info:sD,card_details:oD,event_info:aD,table_container:lD,action_buttons:uD,edit_btn:cD,delete_btn:hD},dD=()=>{const[n,e]=F.useState([]),[t,i]=F.useState(null),o=Zo(),l=aa(),c=Uc();F.useEffect(()=>{d()},[]);const d=async()=>{try{const E=c.currentUser;if(!E)return;const x=Mn(l,"PendingEvent"),O=Er(x,Tr("createdBy","==",E.email)),b=(await Ir(O)).docs.map(z=>({id:z.id,...z.data()}));e(b)}catch(E){console.error("Error fetching events:",E)}},p=E=>E?E.toDate?E.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(E).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=E=>{o(`/dashboard/edit-event/${E}`)},v=async E=>{if(window.confirm("Are you sure you want to delete this event?"))try{await lx(gh(l,"events",E)),d()}catch(x){console.error("Error deleting event:",x)}},S=E=>{i(t===E?null:E)};return I.jsxs("div",{className:yr.event_list_container,children:[I.jsx("h2",{children:"Event List"}),I.jsx("div",{className:yr.events_grid,children:n.map(E=>{var x;return I.jsxs("div",{className:`${yr.event_card} ${t===E.id?"expanded":""}`,children:[I.jsxs("div",{className:yr.card_header,onClick:()=>S(E.id),children:[I.jsxs("div",{className:yr.card_basic_info,children:[I.jsx("h3",{children:E.eventName}),I.jsxs("p",{children:["ID: ",E.id]}),I.jsxs("p",{children:["Created: ",p(E.createdAt)]})]}),t===E.id?I.jsx(ZI,{}):I.jsx(JI,{})]}),t===E.id&&I.jsxs("div",{className:yr.card_details,children:[I.jsxs("div",{className:yr.event_info,children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Location:"})," ",E.locations]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Description:"})," ",E.description]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Start Time:"})," ",E.startTime]}),I.jsxs("p",{children:[I.jsx("strong",{children:"End Time:"})," ",E.endTime]})]}),I.jsx("div",{className:yr.table_container,children:I.jsxs("table",{children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"STUDENT ID"}),I.jsx("th",{children:"STUDENT NAME"}),I.jsx("th",{children:"COURSE"}),I.jsx("th",{children:"CAMPUS"}),I.jsx("th",{children:"DATE"}),I.jsx("th",{children:"ACTIONS"})]})}),I.jsx("tbody",{children:(x=E.attendees)==null?void 0:x.map((O,j)=>I.jsxs("tr",{children:[I.jsx("td",{children:O.studentId}),I.jsx("td",{children:O.name}),I.jsx("td",{children:O.course}),I.jsx("td",{children:O.campus}),I.jsx("td",{children:p(O.dateAttended)}),I.jsxs("td",{className:"action-buttons",children:[I.jsx("button",{onClick:()=>_(E.id),className:yr.edit_btn,children:I.jsx(l1,{size:16})}),I.jsx("button",{onClick:()=>v(E.id),className:yr.delete_btn,children:I.jsx(u1,{size:16})})]})]},j))})]})})]})]},E.id)})})]})},fD="_fileManager_c4lw2_5",pD="_header_c4lw2_17",mD="_actions_c4lw2_45",gD="_navigation_c4lw2_55",_D="_backButton_c4lw2_77",yD="_currentPath_c4lw2_109",vD="_content_c4lw2_121",wD="_item_c4lw2_141",ED="_itemContent_c4lw2_171",TD="_actionButton_c4lw2_195",ID="_dropdownMenu_c4lw2_229",SD="_deleteButton_c4lw2_283",RD="_modal_c4lw2_301",CD="_modalContent_c4lw2_327",AD="_modalHeader_c4lw2_351",kD="_closeButton_c4lw2_379",PD="_modalNavigation_c4lw2_405",xD="_folderList_c4lw2_423",ND="_folderItem_c4lw2_443",DD="_folderContent_c4lw2_473",bD="_modalActions_c4lw2_485",LD="_cancelButton_c4lw2_503",OD="_authContainer_c4lw2_521",VD="_authMethods_c4lw2_539",MD="_passwordAuth_c4lw2_553",FD="_passwordInput_c4lw2_563",UD="_nfcAuth_c4lw2_579",jD="_error_c4lw2_587",$e={fileManager:fD,header:pD,actions:mD,navigation:gD,backButton:_D,currentPath:yD,content:vD,item:wD,itemContent:ED,actionButton:TD,dropdownMenu:ID,deleteButton:SD,modal:RD,modalContent:CD,modalHeader:AD,closeButton:kD,modalNavigation:PD,folderList:xD,folderItem:ND,folderContent:DD,modalActions:bD,cancelButton:LD,authContainer:OD,authMethods:VD,passwordAuth:MD,passwordInput:FD,nfcAuth:UD,error:jD},BD=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:l})=>{const c=F.useRef(null);return F.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),n?I.jsxs("div",{className:$e.dropdownMenu,ref:c,children:[I.jsx("button",{onClick:t,children:"Move"}),I.jsx("button",{onClick:i,children:"Copy"}),I.jsx("button",{onClick:l,children:"Rename"}),I.jsx("button",{onClick:o,className:$e.deleteButton,children:"Delete"})]}):null},zD=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:l,onSelect:c})=>{const[d,p]=F.useState([]),[_,v]=F.useState(""),S=tm(),[E,x]=F.useState(null);F.useEffect(()=>{if(n){const z=`users/${i.email.replace("@","_").replace(".","_")}`;v(z),O(z)}},[n,i]);const O=async z=>{try{const H=Sn(S,z),J=(await Pc(H)).prefixes.map(te=>({name:te.name,fullPath:`${z}/${te.name}`}));p(J)}catch(H){console.error("Error listing folders:",H)}},j=z=>{E&&x(E),v(z),O(z)},b=()=>{const z=`users/${i.email.replace("@","_").replace(".","_")}`,H=_.split("/").slice(0,-1).join("/");H.startsWith(z)&&(v(H),O(H))};return n?I.jsx("div",{className:$e.modal,children:I.jsxs("div",{className:$e.modalContent,children:[I.jsxs("div",{className:$e.modalHeader,children:[I.jsx("h3",{children:"Select Destination Folder"}),I.jsx("button",{onClick:e,className:$e.closeButton,children:I.jsx(dv,{size:20})})]}),I.jsxs("div",{className:$e.modalNavigation,children:[I.jsxs("button",{onClick:b,className:$e.backButton,children:[I.jsx(cv,{size:20}),"Back"]}),I.jsx("span",{className:$e.currentPath,children:_})]}),I.jsx("div",{className:$e.folderList,children:d.map(z=>I.jsx("div",{className:$e.folderItem,children:I.jsxs("div",{className:$e.folderContent,onClick:()=>j(z.fullPath),children:[I.jsx(hv,{size:24}),I.jsx("span",{children:z.name})]})},z.fullPath))}),I.jsxs("div",{className:$e.modalActions,children:[I.jsx("button",{onClick:()=>{c(_)},className:Cn.buttons,children:"Select This Folder"}),I.jsx("button",{onClick:e,className:`${Cn.buttons} ${$e.cancelButton}`,children:"Cancel"})]})]})}):null},$D=()=>{var Fe;const[n,e]=F.useState(!1),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(""),[p,_]=F.useState([]),[v,S]=F.useState([]),[E,x]=F.useState(!1),O=or();Zo();const j=tm(),[b,z]=F.useState(null),[H,K]=F.useState({x:0,y:0}),J=(Fe=O.state)==null?void 0:Fe.userData,[te,re]=F.useState(!1),[P,R]=F.useState(null),[C,N]=F.useState(null);F.useEffect(()=>{"NDEFReader"in window&&x(!0)},[]),F.useEffect(()=>{if(n&&J){const ie=`users/${J.email.replace("@","_").replace(".","_")}`;d(ie),k(ie)}},[n,J]);const M=()=>{t===(J==null?void 0:J.upass)?(e(!0),l("")):l("Invalid password")},L=async()=>{try{const ie=new NDEFReader;await ie.scan(),ie.addEventListener("reading",({serialNumber:ue})=>{ue===(J==null?void 0:J.currentnfcId)?(e(!0),l("")):l("Invalid NFC card")})}catch(ie){l("Error reading NFC: "+ie.message)}},k=async ie=>{try{const ue=Sn(j,ie),Re=await Pc(ue),Qe=Re.items.map(async tn=>{const Dr=await hl(tn);return{name:tn.name,url:Dr,type:"file"}}),mn=Re.prefixes.map(tn=>({name:tn.name,type:"folder"})),ht=await Promise.all(Qe);_(ht),S(mn)}catch(ue){console.error("Error listing files:",ue)}},We=async ie=>{const ue=ie.target.files[0];if(ue)try{const Re=Sn(j,`${c}/${ue.name}`);await Fo(Re,ue),await k(c)}catch(Re){console.error("Error uploading file:",Re)}},mt=async()=>{const ie=prompt("Enter folder name:");if(!ie)return;const ue=Sn(j,`${c}/${ie}/.placeholder`),Re=new Blob([""],{type:"text/plain"});await Fo(ue,Re),await k(c)},kt=ie=>{const ue=`${c}/${ie}`;d(ue),k(ue)},He=()=>{const ie=c.split("/").slice(0,-1).join("/");ie.startsWith(`users/${J.email.replace("@","_").replace(".","_")}`)&&(d(ie),k(ie))};if(!n)return I.jsxs("div",{className:$e.authContainer,children:[I.jsx("h2",{children:"Authentication Required"}),I.jsxs("div",{className:$e.authMethods,children:[I.jsxs("div",{className:$e.passwordAuth,children:[I.jsx("input",{type:"password",value:t,onChange:ie=>i(ie.target.value),placeholder:"Enter password",className:$e.passwordInput}),I.jsx("button",{onClick:M,className:Cn.buttons,children:"Submit"})]}),E&&I.jsx("div",{className:$e.nfcAuth,children:I.jsx("button",{onClick:L,className:Cn.buttons,children:"Authenticate with NFC"})})]}),o&&I.jsx("p",{className:$e.error,children:o})]});const ae=(ie,ue)=>{ie.preventDefault(),ie.stopPropagation();const Re=ie.currentTarget.getBoundingClientRect();K({x:Re.left,y:Re.bottom}),z(ue),N(ue)},ye=async()=>{if(!C){alert("Please select an item to move"),console.log(C);return}R("move"),re(!0)},le=async()=>{if(!C){alert("Please select an item to copy"),console.log(C);return}R("copy"),re(!0)},U=async()=>{if(b)try{const ie=`${c}/${b.name}`,ue=Sn(j,ie);b.type==="file"?await il(ue):await Q(ie),await k(c)}catch(ie){console.error("Error deleting item:",ie),alert(`Failed to delete ${b.name}. ${ie.message}`)}},Q=async ie=>{try{const ue=Sn(j,ie),Re=await Pc(ue);for(const Qe of Re.items)await il(Qe);for(const Qe of Re.prefixes)await Q(`${ie}/${Qe.name}`)}catch(ue){throw console.error("Error deleting folder:",ue),ue}},_e=async()=>{if(!b)return;const ie=prompt("Enter new name:",b.name);if(!(!ie||ie===b.name))try{const ue=Sn(j,`${c}/${b.name}`),Re=Sn(j,`${c}/${ie}`);if(b.type==="file"){const Qe=await hl(ue),ht=await(await fetch(Qe)).blob();await Fo(Re,ht),await il(ue)}await k(c)}catch(ue){console.error("Error renaming item:",ue)}},ke=async ie=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:C,currentPath:c,destinationPath:ie,operation:P}),!C){console.error("No item selected"),alert("Please select an item to move or copy"),re(!1);return}try{const ue=Sn(j,`${c}/${C.name}`),Re=Sn(j,`${ie}/${C.name}`);if(C.type==="file"){const Qe=await hl(ue),ht=await(await fetch(Qe)).blob();await Fo(Re,ht),P==="move"&&await il(ue)}else await Pe(`${c}/${C.name}`,`${ie}/${C.name}`,P==="move");re(!1),R(null),await k(c)}catch(ue){console.error(`Error ${P}ing item:`,ue),alert(`Failed to ${P} item: ${ue.message}`),re(!1),R(null)}},Pe=async(ie,ue,Re=!1)=>{try{const Qe=Sn(j,ie),mn=await Pc(Qe);for(const ht of mn.items){const tn=await hl(ht),Yi=await(await fetch(tn)).blob(),Ji=Sn(j,`${ue}/${ht.name}`);await Fo(Ji,Yi),Re&&await il(ht)}for(const ht of mn.prefixes)await Pe(`${ie}/${ht.name}`,`${ue}/${ht.name}`,Re)}catch(Qe){throw console.error("Error copying folder:",Qe),Qe}},be=(ie,ue)=>I.jsxs("div",{className:$e.item,onClick:Re=>{Re.target.closest(`.${$e.actionButton}`)||Re.target.closest(`.${$e.dropdownMenu}`)||(ue==="folder"?kt(ie.name):window.open(ie.url,"_blank"))},children:[I.jsxs("div",{className:$e.itemContent,children:[ue==="folder"?I.jsx(hv,{size:24}):I.jsx(n1,{size:24}),I.jsx("span",{children:ie.name})]}),I.jsx("button",{className:$e.actionButton,onClick:Re=>{Re.stopPropagation();const Qe={...ie,type:ue};ae(Re,Qe)},children:I.jsx(t1,{size:16})}),(b==null?void 0:b.name)===ie.name&&I.jsx(BD,{isOpen:!0,onClose:()=>{z(null)},onMove:ye,onCopy:le,onDelete:U,onRename:_e})]},`${ue}-${ie.name}`);return I.jsxs("div",{className:$e.fileManager,children:[I.jsxs("div",{className:$e.header,children:[I.jsx("h2",{children:"File Manager"}),I.jsxs("div",{className:$e.actions,children:[c===`users/${J.email.replace("@","_").replace(".","_")}`&&I.jsxs("button",{onClick:mt,className:Cn.buttons,children:[I.jsx(i1,{size:20}),"New Folder"]}),I.jsxs("label",{className:Cn.buttons,children:[I.jsx(c1,{size:20}),"Upload File",I.jsx("input",{type:"file",onChange:We,style:{display:"none"}})]})]})]}),I.jsxs("div",{className:$e.navigation,children:[I.jsxs("button",{onClick:He,className:$e.backButton,children:[I.jsx(cv,{size:20}),"Back"]}),I.jsx("span",{className:$e.currentPath,children:c})]}),I.jsxs("div",{className:$e.content,children:[v.map(ie=>be(ie,"folder")),p.map(ie=>be(ie,"file"))]}),I.jsx(zD,{isOpen:te,onClose:()=>{re(!1),R(null)},currentPath:c,userData:J,selectedItem:C,operation:P,onSelect:ke})]})};function HD(){return I.jsx(_I,{children:I.jsxs(GT,{children:[I.jsx(vr,{path:"/",element:I.jsx(T_,{to:"/login",replace:!0})}),I.jsx(vr,{path:"/login",element:I.jsx(eD,{})}),I.jsxs(vr,{path:"/dashboard/*",element:I.jsx(fx,{}),children:[I.jsx(vr,{path:"create-event",element:I.jsx(jx,{})}),I.jsx(vr,{path:"student-registration",element:I.jsx(T2,{})}),I.jsx(vr,{path:"nfc-reader",element:I.jsx(U2,{})}),I.jsx(vr,{path:"event-list",element:I.jsx(dD,{})}),I.jsx(vr,{path:"file-manager",element:I.jsx($D,{})})]}),I.jsx(vr,{path:"*",element:I.jsx(T_,{to:"/login",replace:!0})})]})})}const qD=document.getElementById("root"),WD=eT.createRoot(qD);WD.render(I.jsx(HD,{}));
