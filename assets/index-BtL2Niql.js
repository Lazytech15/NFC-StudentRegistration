(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var gf={exports:{}},gl={},yf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function DT(){if(by)return Oe;by=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function x($,Y,ve){this.props=$,this.context=Y,this.refs=D,this.updater=ve||N}x.prototype.isReactComponent={},x.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},x.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function U(){}U.prototype=x.prototype;function M($,Y,ve){this.props=$,this.context=Y,this.refs=D,this.updater=ve||N}var H=M.prototype=new U;H.constructor=M,k(H,x.prototype),H.isPureReactComponent=!0;var Q=Array.isArray,se=Object.prototype.hasOwnProperty,ae={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function R($,Y,ve){var Ne,be={},Me=null,$e=null;if(Y!=null)for(Ne in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)se.call(Y,Ne)&&!b.hasOwnProperty(Ne)&&(be[Ne]=Y[Ne]);var ne=arguments.length-2;if(ne===1)be.children=ve;else if(1<ne){for(var ce=Array(ne),ke=0;ke<ne;ke++)ce[ke]=arguments[ke+2];be.children=ce}if($&&$.defaultProps)for(Ne in ne=$.defaultProps,ne)be[Ne]===void 0&&(be[Ne]=ne[Ne]);return{$$typeof:n,type:$,key:Me,ref:$e,props:be,_owner:ae.current}}function A($,Y){return{$$typeof:n,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function V($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ve){return Y[ve]})}var j=/\/+/g;function I($,Y){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):Y.toString(36)}function le($,Y,ve,Ne,be){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var $e=!1;if($===null)$e=!0;else switch(Me){case"string":case"number":$e=!0;break;case"object":switch($.$$typeof){case n:case e:$e=!0}}if($e)return $e=$,be=be($e),$=Ne===""?"."+I($e,0):Ne,Q(be)?(ve="",$!=null&&(ve=$.replace(j,"$&/")+"/"),le(be,Y,ve,"",function(ke){return ke})):be!=null&&(L(be)&&(be=A(be,ve+(!be.key||$e&&$e.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+$)),Y.push(be)),1;if($e=0,Ne=Ne===""?".":Ne+":",Q($))for(var ne=0;ne<$.length;ne++){Me=$[ne];var ce=Ne+I(Me,ne);$e+=le(Me,Y,ve,ce,be)}else if(ce=S($),typeof ce=="function")for($=ce.call($),ne=0;!(Me=$.next()).done;)Me=Me.value,ce=Ne+I(Me,ne++),$e+=le(Me,Y,ve,ce,be);else if(Me==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ve($,Y,ve){if($==null)return $;var Ne=[],be=0;return le($,Ne,"","",function(Me){return Y.call(ve,Me,be++)}),Ne}function xe($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(ve){($._status===0||$._status===-1)&&($._status=1,$._result=ve)},function(ve){($._status===0||$._status===-1)&&($._status=2,$._result=ve)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var De={current:null},ie={transition:null},me={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ae};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ve,forEach:function($,Y,ve){Ve($,function(){Y.apply(this,arguments)},ve)},count:function($){var Y=0;return Ve($,function(){Y++}),Y},toArray:function($){return Ve($,function(Y){return Y})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Oe.Component=x,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=M,Oe.StrictMode=i,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Oe.act=ue,Oe.cloneElement=function($,Y,ve){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ne=k({},$.props),be=$.key,Me=$.ref,$e=$._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,$e=ae.current),Y.key!==void 0&&(be=""+Y.key),$.type&&$.type.defaultProps)var ne=$.type.defaultProps;for(ce in Y)se.call(Y,ce)&&!b.hasOwnProperty(ce)&&(Ne[ce]=Y[ce]===void 0&&ne!==void 0?ne[ce]:Y[ce])}var ce=arguments.length-2;if(ce===1)Ne.children=ve;else if(1<ce){ne=Array(ce);for(var ke=0;ke<ce;ke++)ne[ke]=arguments[ke+2];Ne.children=ne}return{$$typeof:n,type:$.type,key:be,ref:Me,props:Ne,_owner:$e}},Oe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Oe.createElement=R,Oe.createFactory=function($){var Y=R.bind(null,$);return Y.type=$,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:h,render:$}},Oe.isValidElement=L,Oe.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:xe}},Oe.memo=function($,Y){return{$$typeof:y,type:$,compare:Y===void 0?null:Y}},Oe.startTransition=function($){var Y=ie.transition;ie.transition={};try{$()}finally{ie.transition=Y}},Oe.unstable_act=ue,Oe.useCallback=function($,Y){return De.current.useCallback($,Y)},Oe.useContext=function($){return De.current.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($){return De.current.useDeferredValue($)},Oe.useEffect=function($,Y){return De.current.useEffect($,Y)},Oe.useId=function(){return De.current.useId()},Oe.useImperativeHandle=function($,Y,ve){return De.current.useImperativeHandle($,Y,ve)},Oe.useInsertionEffect=function($,Y){return De.current.useInsertionEffect($,Y)},Oe.useLayoutEffect=function($,Y){return De.current.useLayoutEffect($,Y)},Oe.useMemo=function($,Y){return De.current.useMemo($,Y)},Oe.useReducer=function($,Y,ve){return De.current.useReducer($,Y,ve)},Oe.useRef=function($){return De.current.useRef($)},Oe.useState=function($){return De.current.useState($)},Oe.useSyncExternalStore=function($,Y,ve){return De.current.useSyncExternalStore($,Y,ve)},Oe.useTransition=function(){return De.current.useTransition()},Oe.version="18.3.1",Oe}var Dy;function hp(){return Dy||(Dy=1,yf.exports=DT()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function LT(){if(Ly)return gl;Ly=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var w,T={},S=null,N=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(N=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(T[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:h,key:S,ref:N,props:T,_owner:o.current}}return gl.Fragment=t,gl.jsx=c,gl.jsxs=c,gl}var Oy;function OT(){return Oy||(Oy=1,gf.exports=LT()),gf.exports}var _=OT(),O=hp(),Rc={},_f={exports:{}},gn={},vf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function MT(){return My||(My=1,function(n){function e(ie,me){var ue=ie.length;ie.push(me);e:for(;0<ue;){var $=ue-1>>>1,Y=ie[$];if(0<o(Y,me))ie[$]=me,ie[ue]=Y,ue=$;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var me=ie[0],ue=ie.pop();if(ue!==me){ie[0]=ue;e:for(var $=0,Y=ie.length,ve=Y>>>1;$<ve;){var Ne=2*($+1)-1,be=ie[Ne],Me=Ne+1,$e=ie[Me];if(0>o(be,ue))Me<Y&&0>o($e,be)?(ie[$]=$e,ie[Me]=ue,$=Me):(ie[$]=be,ie[Ne]=ue,$=Ne);else if(Me<Y&&0>o($e,ue))ie[$]=$e,ie[Me]=ue,$=Me;else break e}}return me}function o(ie,me){var ue=ie.sortIndex-me.sortIndex;return ue!==0?ue:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],y=[],w=1,T=null,S=3,N=!1,k=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ie){for(var me=t(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=ie)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function Q(ie){if(D=!1,H(ie),!k)if(t(p)!==null)k=!0,xe(se);else{var me=t(y);me!==null&&De(Q,me.startTime-ie)}}function se(ie,me){k=!1,D&&(D=!1,U(R),R=-1),N=!0;var ue=S;try{for(H(me),T=t(p);T!==null&&(!(T.expirationTime>me)||ie&&!V());){var $=T.callback;if(typeof $=="function"){T.callback=null,S=T.priorityLevel;var Y=$(T.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),H(me)}else i(p);T=t(p)}if(T!==null)var ve=!0;else{var Ne=t(y);Ne!==null&&De(Q,Ne.startTime-me),ve=!1}return ve}finally{T=null,S=ue,N=!1}}var ae=!1,b=null,R=-1,A=5,L=-1;function V(){return!(n.unstable_now()-L<A)}function j(){if(b!==null){var ie=n.unstable_now();L=ie;var me=!0;try{me=b(!0,ie)}finally{me?I():(ae=!1,b=null)}}else ae=!1}var I;if(typeof M=="function")I=function(){M(j)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ve=le.port2;le.port1.onmessage=j,I=function(){Ve.postMessage(null)}}else I=function(){x(j,0)};function xe(ie){b=ie,ae||(ae=!0,I())}function De(ie,me){R=x(function(){ie(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){k||N||(k=!0,xe(se))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var ue=S;S=me;try{return ie()}finally{S=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=S;S=ie;try{return me()}finally{S=ue}},n.unstable_scheduleCallback=function(ie,me,ue){var $=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?$+ue:$):ue=$,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,ie={id:w++,callback:me,priorityLevel:ie,startTime:ue,expirationTime:Y,sortIndex:-1},ue>$?(ie.sortIndex=ue,e(y,ie),t(p)===null&&ie===t(y)&&(D?(U(R),R=-1):D=!0,De(Q,ue-$))):(ie.sortIndex=Y,e(p,ie),k||N||(k=!0,xe(se))),ie},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ie){var me=S;return function(){var ue=S;S=me;try{return ie.apply(this,arguments)}finally{S=ue}}}}(wf)),wf}var Vy;function VT(){return Vy||(Vy=1,vf.exports=MT()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function FT(){if(Fy)return gn;Fy=1;var n=hp(),e=VT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function N(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,d){if(s===null||typeof s>"u"||N(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(r,s,l,d,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new D(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,M);x[s]=new D(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,M);x[s]=new D(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,M);x[s]=new D(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,s,l,d){var f=x.hasOwnProperty(s)?x[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,f,d)&&(l=null),d||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ae=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,$;function Y(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var ve=!1;function Ne(r,s){if(!r||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=d.stack.split(`
`),E=f.length-1,P=g.length-1;1<=E&&0<=P&&f[E]!==g[P];)P--;for(;1<=E&&0<=P;E--,P--)if(f[E]!==g[P]){if(E!==1||P!==1)do if(E--,P--,0>P||f[E]!==g[P]){var F=`
`+f[E].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=E&&0<=P);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function be(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case ae:return"Portal";case A:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case le:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ve:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case xe:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=ce(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Je(r){r._valueTracker||(r._valueTracker=ke(r))}function Tn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=ce(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function yt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gt(r,s){var l=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Fr(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ne(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ds(r,s){s=s.checked,s!=null&&H(r,"checked",s,!1)}function hs(r,s){ds(r,s);var l=ne(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?io(r,s.type,l):s.hasOwnProperty("defaultValue")&&io(r,s.type,ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function du(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function io(r,s,l){(s!=="number"||yt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var jr=Array.isArray;function Ur(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ne(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Sa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function so(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(jr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ne(l)}}function oo(r,s){var l=ne(s.value),d=ne(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ca(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ct(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ct(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Br,Ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function _i(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(r){ps.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),fs[s]=fs[r]})});function ka(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||fs.hasOwnProperty(r)&&fs[r]?(""+s).trim():s+"px"}function Aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=ka(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var Pa=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(r,s){if(s){if(Pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Na(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=null;function ao(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lo=null,Ln=null,_r=null;function uo(r){if(r=tl(r)){if(typeof lo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Bu(s),lo(r.stateNode,r.type,s))}}function vr(r){Ln?_r?_r.push(r):_r=[r]:Ln=r}function ba(){if(Ln){var r=Ln,s=_r;if(_r=Ln=null,uo(r),s)for(r=0;r<s.length;r++)uo(s[r])}}function gs(r,s){return r(s)}function Da(){}var $r=!1;function La(r,s,l){if($r)return r(s,l);$r=!0;try{return gs(r,s,l)}finally{$r=!1,(Ln!==null||_r!==null)&&(Da(),ba())}}function _t(r,s){var l=r.stateNode;if(l===null)return null;var d=Bu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var co=!1;if(h)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){co=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{co=!1}function ys(r,s,l,d,f,g,E,P,F){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(ee){this.onError(ee)}}var _s=!1,ho=null,Qn=!1,Oa=null,zd={onError:function(r){_s=!0,ho=r}};function fo(r,s,l,d,f,g,E,P,F){_s=!1,ho=null,ys.apply(zd,arguments)}function hu(r,s,l,d,f,g,E,P,F){if(fo.apply(this,arguments),_s){if(_s){var G=ho;_s=!1,ho=null}else throw Error(t(198));Qn||(Qn=!0,Oa=G)}}function Yn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function vs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Xn(r){if(Yn(r)!==r)throw Error(t(188))}function fu(r){var s=r.alternate;if(!s){if(s=Yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Xn(f),r;if(g===d)return Xn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var E=!1,P=f.child;P;){if(P===l){E=!0,l=f,d=g;break}if(P===d){E=!0,d=f,l=g;break}P=P.sibling}if(!E){for(P=g.child;P;){if(P===l){E=!0,l=g,d=f;break}if(P===d){E=!0,d=g,l=f;break}P=P.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ma(r){return r=fu(r),r!==null?po(r):null}function po(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=po(r);if(s!==null)return s;r=r.sibling}return null}var mo=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,pu=e.unstable_shouldYield,Wd=e.unstable_requestPaint,Ze=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,gu=e.unstable_IdlePriority,Es=null,In=null;function yu(r){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Es,r,void 0,(r.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:vu,ja=Math.log,_u=Math.LN2;function vu(r){return r>>>=0,r===0?32:31-(ja(r)/_u|0)|0}var go=64,yo=4194304;function wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ts(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var P=E&~f;P!==0?d=wi(P):(g&=E,g!==0&&(d=wi(g)))}else E=l&~f,E!==0?d=wi(E):g!==0&&(d=wi(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-nn(s),f=1<<l,d|=r[l],s&=~f;return d}function qd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-nn(g),P=1<<E,F=f[E];F===-1?(!(P&l)||P&d)&&(f[E]=qd(P,s)):F<=s&&(r.expiredLanes|=P),g&=~P}}function Sn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Is(){var r=go;return go<<=1,!(go&4194240)&&(go=64),r}function Ei(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ti(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-nn(s),r[s]=l}function Xe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-nn(l),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Ii(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-nn(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var Ue=0;function Si(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var wu,_o,Eu,Tu,Iu,Ua=!1,wr=[],Vt=null,Jn=null,Zn=null,Ci=new Map,Mn=new Map,Er=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(s.pointerId)}}function un(r,s,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=tl(s),s!==null&&_o(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Gd(r,s,l,d,f){switch(s){case"focusin":return Vt=un(Vt,r,s,l,d,f),!0;case"dragenter":return Jn=un(Jn,r,s,l,d,f),!0;case"mouseover":return Zn=un(Zn,r,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return Ci.set(g,un(Ci.get(g)||null,r,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Mn.set(g,un(Mn.get(g)||null,r,s,l,d,f)),!0}return!1}function Cu(r){var s=As(r.target);if(s!==null){var l=Yn(s);if(l!==null){if(s=l.tag,s===13){if(s=vs(l),s!==null){r.blockedOn=s,Iu(r.priority,function(){Eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ms=d,l.target.dispatchEvent(d),ms=null}else return s=tl(l),s!==null&&_o(s),r.blockedOn=l,!1;s.shift()}return!0}function Ss(r,s,l){Wr(r)&&l.delete(s)}function Ru(){Ua=!1,Vt!==null&&Wr(Vt)&&(Vt=null),Jn!==null&&Wr(Jn)&&(Jn=null),Zn!==null&&Wr(Zn)&&(Zn=null),Ci.forEach(Ss),Mn.forEach(Ss)}function er(r,s){r.blockedOn===s&&(r.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function tr(r){function s(f){return er(f,r)}if(0<wr.length){er(wr[0],r);for(var l=1;l<wr.length;l++){var d=wr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Vt!==null&&er(Vt,r),Jn!==null&&er(Jn,r),Zn!==null&&er(Zn,r),Ci.forEach(s),Mn.forEach(s),l=0;l<Er.length;l++)d=Er[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)Cu(l),l.blockedOn===null&&Er.shift()}var qr=Q.ReactCurrentBatchConfig,Ri=!0;function st(r,s,l,d){var f=Ue,g=qr.transition;qr.transition=null;try{Ue=1,Ba(r,s,l,d)}finally{Ue=f,qr.transition=g}}function Kd(r,s,l,d){var f=Ue,g=qr.transition;qr.transition=null;try{Ue=4,Ba(r,s,l,d)}finally{Ue=f,qr.transition=g}}function Ba(r,s,l,d){if(Ri){var f=vo(r,s,l,d);if(f===null)sh(r,s,d,Cs,l),Su(r,d);else if(Gd(f,r,s,l,d))d.stopPropagation();else if(Su(r,d),s&4&&-1<Hd.indexOf(r)){for(;f!==null;){var g=tl(f);if(g!==null&&wu(g),g=vo(r,s,l,d),g===null&&sh(r,s,d,Cs,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else sh(r,s,d,null,l)}}var Cs=null;function vo(r,s,l,d){if(Cs=null,r=ao(d),r=As(r),r!==null)if(s=Yn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=vs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Cs=r,null}function $a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case ws:return 1;case vi:return 4;case On:case Fa:return 16;case gu:return 536870912;default:return 16}default:return 16}}var Cn=null,wo=null,cn=null;function za(){if(cn)return cn;var r,s=wo,l=s.length,d,f="value"in Cn?Cn.value:Cn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===f[g-d];d++);return cn=f.slice(r,1<d?1-d:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Wa(){return!1}function Ft(r){function s(l,d,f,g,E){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tr:Wa,this.isPropagationStopped=Wa,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Ft(nr),Ir=ue({},nr,{view:0,detail:0}),Qd=Ft(Ir),Io,Hr,ki,Rs=ue({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(Io=r.screenX-ki.screenX,Hr=r.screenY-ki.screenY):Hr=Io=0,ki=r),Io)},movementY:function(r){return"movementY"in r?r.movementY:Hr}}),So=Ft(Rs),qa=ue({},Rs,{dataTransfer:0}),ku=Ft(qa),Co=ue({},Ir,{relatedTarget:0}),Ro=Ft(Co),Au=ue({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Ft(Au),Pu=ue({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xu=Ft(Pu),Nu=ue({},nr,{data:0}),Ha=Ft(Nu),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=bu[r])?!!s[r]:!1}function Sr(){return Du}var u=ue({},Ir,{key:function(r){if(r.key){var s=ko[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Ft(u),v=ue({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Ft(v),z=ue({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),K=Ft(z),oe=ue({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ft(oe),kt=ue({},Rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Ft(kt),bt=[9,13,27,32],Et=h&&"CompositionEvent"in window,Vn=null;h&&"documentMode"in document&&(Vn=document.documentMode);var Rn=h&&"TextEvent"in window&&!Vn,ks=h&&(!Et||Vn&&8<Vn&&11>=Vn),Ao=" ",Rm=!1;function km(r,s){switch(r){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function xE(r,s){switch(r){case"compositionend":return Am(s);case"keypress":return s.which!==32?null:(Rm=!0,Ao);case"textInput":return r=s.data,r===Ao&&Rm?null:r;default:return null}}function NE(r,s){if(Po)return r==="compositionend"||!Et&&km(r,s)?(r=za(),cn=wo=Cn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ks&&s.locale!=="ko"?null:s.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bE[r.type]:s==="textarea"}function xm(r,s,l,d){vr(d),s=Fu(s,"onChange"),0<s.length&&(l=new To("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ga=null,Ka=null;function DE(r){Km(r,0)}function Lu(r){var s=Lo(r);if(Tn(s))return r}function LE(r,s){if(r==="change")return s}var Nm=!1;if(h){var Yd;if(h){var Xd="oninput"in document;if(!Xd){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Xd=typeof bm.oninput=="function"}Yd=Xd}else Yd=!1;Nm=Yd&&(!document.documentMode||9<document.documentMode)}function Dm(){Ga&&(Ga.detachEvent("onpropertychange",Lm),Ka=Ga=null)}function Lm(r){if(r.propertyName==="value"&&Lu(Ka)){var s=[];xm(s,Ka,r,ao(r)),La(DE,s)}}function OE(r,s,l){r==="focusin"?(Dm(),Ga=s,Ka=l,Ga.attachEvent("onpropertychange",Lm)):r==="focusout"&&Dm()}function ME(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(Ka)}function VE(r,s){if(r==="click")return Lu(s)}function FE(r,s){if(r==="input"||r==="change")return Lu(s)}function jE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:jE;function Qa(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!rr(r[f],s[f]))return!1}return!0}function Om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mm(r,s){var l=Om(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Om(l)}}function Vm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fm(){for(var r=window,s=yt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=yt(r.document)}return s}function Jd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function UE(r){var s=Fm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Vm(l.ownerDocument.documentElement,l)){if(d!==null&&Jd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Mm(l,g);var E=Mm(l,d);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var BE=h&&"documentMode"in document&&11>=document.documentMode,xo=null,Zd=null,Ya=null,eh=!1;function jm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eh||xo==null||xo!==yt(d)||(d=xo,"selectionStart"in d&&Jd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ya&&Qa(Ya,d)||(Ya=d,d=Fu(Zd,"onSelect"),0<d.length&&(s=new To("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=xo)))}function Ou(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},th={},Um={};h&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Mu(r){if(th[r])return th[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Um)return th[r]=s[l];return r}var Bm=Mu("animationend"),$m=Mu("animationiteration"),zm=Mu("animationstart"),Wm=Mu("transitionend"),qm=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(r,s){qm.set(r,s),a(s,[r])}for(var nh=0;nh<Hm.length;nh++){var rh=Hm[nh],$E=rh.toLowerCase(),zE=rh[0].toUpperCase()+rh.slice(1);Ai($E,"on"+zE)}Ai(Bm,"onAnimationEnd"),Ai($m,"onAnimationIteration"),Ai(zm,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Wm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Gm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,hu(d,s,void 0,r),r.currentTarget=null}function Km(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var P=d[E],F=P.instance,G=P.currentTarget;if(P=P.listener,F!==g&&f.isPropagationStopped())break e;Gm(f,P,G),g=F}else for(E=0;E<d.length;E++){if(P=d[E],F=P.instance,G=P.currentTarget,P=P.listener,F!==g&&f.isPropagationStopped())break e;Gm(f,P,G),g=F}}}if(Qn)throw r=Oa,Qn=!1,Oa=null,r}function tt(r,s){var l=s[dh];l===void 0&&(l=s[dh]=new Set);var d=r+"__bubble";l.has(d)||(Qm(s,r,2,!1),l.add(d))}function ih(r,s,l){var d=0;s&&(d|=4),Qm(l,r,d,s)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[Vu]){r[Vu]=!0,i.forEach(function(l){l!=="selectionchange"&&(WE.has(l)||ih(l,!1,r),ih(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vu]||(s[Vu]=!0,ih("selectionchange",!1,s))}}function Qm(r,s,l,d){switch($a(s)){case 1:var f=st;break;case 4:f=Kd;break;default:f=Ba}l=f.bind(null,s,l,r),f=void 0,!co||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function sh(r,s,l,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var P=d.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===f||F.nodeType===8&&F.parentNode===f))return;E=E.return}for(;P!==null;){if(E=As(P),E===null)return;if(F=E.tag,F===5||F===6){d=g=E;continue e}P=P.parentNode}}d=d.return}La(function(){var G=g,ee=ao(l),te=[];e:{var Z=qm.get(r);if(Z!==void 0){var de=To,ge=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":ge="focus",de=Ro;break;case"focusout":ge="blur",de=Ro;break;case"beforeblur":case"afterblur":de=Ro;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=K;break;case Bm:case $m:case zm:de=Gr;break;case Wm:de=Qe;break;case"scroll":de=Qd;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var ye=(s&4)!==0,vt=!ye&&r==="scroll",W=ye?Z!==null?Z+"Capture":null:Z;ye=[];for(var B=G,q;B!==null;){q=B;var re=q.stateNode;if(q.tag===5&&re!==null&&(q=re,W!==null&&(re=_t(B,W),re!=null&&ye.push(Za(B,re,q)))),vt)break;B=B.return}0<ye.length&&(Z=new de(Z,ge,null,l,ee),te.push({event:Z,listeners:ye}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",Z&&l!==ms&&(ge=l.relatedTarget||l.fromElement)&&(As(ge)||ge[Kr]))break e;if((de||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=G,ge=ge?As(ge):null,ge!==null&&(vt=Yn(ge),ge!==vt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=G),de!==ge)){if(ye=So,re="onMouseLeave",W="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(ye=C,re="onPointerLeave",W="onPointerEnter",B="pointer"),vt=de==null?Z:Lo(de),q=ge==null?Z:Lo(ge),Z=new ye(re,B+"leave",de,l,ee),Z.target=vt,Z.relatedTarget=q,re=null,As(ee)===G&&(ye=new ye(W,B+"enter",ge,l,ee),ye.target=q,ye.relatedTarget=vt,re=ye),vt=re,de&&ge)t:{for(ye=de,W=ge,B=0,q=ye;q;q=bo(q))B++;for(q=0,re=W;re;re=bo(re))q++;for(;0<B-q;)ye=bo(ye),B--;for(;0<q-B;)W=bo(W),q--;for(;B--;){if(ye===W||W!==null&&ye===W.alternate)break t;ye=bo(ye),W=bo(W)}ye=null}else ye=null;de!==null&&Ym(te,Z,de,ye,!1),ge!==null&&vt!==null&&Ym(te,vt,ge,ye,!0)}}e:{if(Z=G?Lo(G):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var _e=LE;else if(Pm(Z))if(Nm)_e=FE;else{_e=ME;var Ee=OE}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(_e=VE);if(_e&&(_e=_e(r,G))){xm(te,_e,l,ee);break e}Ee&&Ee(r,Z,G),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&io(Z,"number",Z.value)}switch(Ee=G?Lo(G):window,r){case"focusin":(Pm(Ee)||Ee.contentEditable==="true")&&(xo=Ee,Zd=G,Ya=null);break;case"focusout":Ya=Zd=xo=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,jm(te,l,ee);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":jm(te,l,ee)}var Te;if(Et)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Po?km(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ks&&l.locale!=="ko"&&(Po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Po&&(Te=za()):(Cn=ee,wo="value"in Cn?Cn.value:Cn.textContent,Po=!0)),Ee=Fu(G,Ce),0<Ee.length&&(Ce=new Ha(Ce,r,null,l,ee),te.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Am(l),Te!==null&&(Ce.data=Te)))),(Te=Rn?xE(r,l):NE(r,l))&&(G=Fu(G,"onBeforeInput"),0<G.length&&(ee=new Ha("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:G}),ee.data=Te))}Km(te,s)})}function Za(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Fu(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=_t(r,l),g!=null&&d.unshift(Za(r,g,f)),g=_t(r,s),g!=null&&d.push(Za(r,g,f))),r=r.return}return d}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ym(r,s,l,d,f){for(var g=s._reactName,E=[];l!==null&&l!==d;){var P=l,F=P.alternate,G=P.stateNode;if(F!==null&&F===d)break;P.tag===5&&G!==null&&(P=G,f?(F=_t(l,g),F!=null&&E.unshift(Za(l,F,P))):f||(F=_t(l,g),F!=null&&E.push(Za(l,F,P)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var qE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Xm(r){return(typeof r=="string"?r:""+r).replace(qE,`
`).replace(HE,"")}function ju(r,s,l){if(s=Xm(s),Xm(r)!==s&&l)throw Error(t(425))}function Uu(){}var oh=null,ah=null;function lh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(r){return Jm.resolve(null).then(r).catch(QE)}:uh;function QE(r){setTimeout(function(){throw r})}function ch(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),tr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);tr(s)}function Pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Do,el="__reactProps$"+Do,Kr="__reactContainer$"+Do,dh="__reactEvents$"+Do,YE="__reactListeners$"+Do,XE="__reactHandles$"+Do;function As(r){var s=r[Cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Kr]||l[Cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Zm(r);r!==null;){if(l=r[Cr])return l;r=Zm(r)}return s}r=l,l=r.parentNode}return null}function tl(r){return r=r[Cr]||r[Kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Bu(r){return r[el]||null}var hh=[],Oo=-1;function xi(r){return{current:r}}function nt(r){0>Oo||(r.current=hh[Oo],hh[Oo]=null,Oo--)}function et(r,s){Oo++,hh[Oo]=r.current,r.current=s}var Ni={},Kt=xi(Ni),dn=xi(!1),Ps=Ni;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Ni;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function hn(r){return r=r.childContextTypes,r!=null}function $u(){nt(dn),nt(Kt)}function eg(r,s,l){if(Kt.current!==Ni)throw Error(t(168));et(Kt,s),et(dn,l)}function tg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,$e(r)||"Unknown",f));return ue({},l,d)}function zu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ni,Ps=Kt.current,et(Kt,r),et(dn,dn.current),!0}function ng(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=tg(r,s,Ps),d.__reactInternalMemoizedMergedChildContext=r,nt(dn),nt(Kt),et(Kt,r)):nt(dn),et(dn,l)}var Qr=null,Wu=!1,fh=!1;function rg(r){Qr===null?Qr=[r]:Qr.push(r)}function JE(r){Wu=!0,rg(r)}function bi(){if(!fh&&Qr!==null){fh=!0;var r=0,s=Ue;try{var l=Qr;for(Ue=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Qr=null,Wu=!1}catch(f){throw Qr!==null&&(Qr=Qr.slice(r+1)),mo(ws,bi),f}finally{Ue=s,fh=!1}}return null}var Vo=[],Fo=0,qu=null,Hu=0,Fn=[],jn=0,xs=null,Yr=1,Xr="";function Ns(r,s){Vo[Fo++]=Hu,Vo[Fo++]=qu,qu=r,Hu=s}function ig(r,s,l){Fn[jn++]=Yr,Fn[jn++]=Xr,Fn[jn++]=xs,xs=r;var d=Yr;r=Xr;var f=32-nn(d)-1;d&=~(1<<f),l+=1;var g=32-nn(s)+f;if(30<g){var E=f-f%5;g=(d&(1<<E)-1).toString(32),d>>=E,f-=E,Yr=1<<32-nn(s)+f|l<<f|d,Xr=g+r}else Yr=1<<g|l<<f|d,Xr=r}function ph(r){r.return!==null&&(Ns(r,1),ig(r,1,0))}function mh(r){for(;r===qu;)qu=Vo[--Fo],Vo[Fo]=null,Hu=Vo[--Fo],Vo[Fo]=null;for(;r===xs;)xs=Fn[--jn],Fn[jn]=null,Xr=Fn[--jn],Fn[jn]=null,Yr=Fn[--jn],Fn[jn]=null}var kn=null,An=null,ot=!1,ir=null;function sg(r,s){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function og(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,kn=r,An=Pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,kn=r,An=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xs!==null?{id:Yr,overflow:Xr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,kn=r,An=null,!0):!1;default:return!1}}function gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yh(r){if(ot){var s=An;if(s){var l=s;if(!og(r,s)){if(gh(r))throw Error(t(418));s=Pi(l.nextSibling);var d=kn;s&&og(r,s)?sg(d,l):(r.flags=r.flags&-4097|2,ot=!1,kn=r)}}else{if(gh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ot=!1,kn=r}}}function ag(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;kn=r}function Gu(r){if(r!==kn)return!1;if(!ot)return ag(r),ot=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!lh(r.type,r.memoizedProps)),s&&(s=An)){if(gh(r))throw lg(),Error(t(418));for(;s;)sg(r,s),s=Pi(s.nextSibling)}if(ag(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){An=Pi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}An=null}}else An=kn?Pi(r.stateNode.nextSibling):null;return!0}function lg(){for(var r=An;r;)r=Pi(r.nextSibling)}function jo(){An=kn=null,ot=!1}function _h(r){ir===null?ir=[r]:ir.push(r)}var ZE=Q.ReactCurrentBatchConfig;function nl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var P=f.refs;E===null?delete P[g]:P[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Ku(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ug(r){var s=r._init;return s(r._payload)}function cg(r){function s(W,B){if(r){var q=W.deletions;q===null?(W.deletions=[B],W.flags|=16):q.push(B)}}function l(W,B){if(!r)return null;for(;B!==null;)s(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function f(W,B){return W=Ui(W,B),W.index=0,W.sibling=null,W}function g(W,B,q){return W.index=q,r?(q=W.alternate,q!==null?(q=q.index,q<B?(W.flags|=2,B):q):(W.flags|=2,B)):(W.flags|=1048576,B)}function E(W){return r&&W.alternate===null&&(W.flags|=2),W}function P(W,B,q,re){return B===null||B.tag!==6?(B=cf(q,W.mode,re),B.return=W,B):(B=f(B,q),B.return=W,B)}function F(W,B,q,re){var _e=q.type;return _e===b?ee(W,B,q.props.children,re,q.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===xe&&ug(_e)===B.type)?(re=f(B,q.props),re.ref=nl(W,B,q),re.return=W,re):(re=_c(q.type,q.key,q.props,null,W.mode,re),re.ref=nl(W,B,q),re.return=W,re)}function G(W,B,q,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=df(q,W.mode,re),B.return=W,B):(B=f(B,q.children||[]),B.return=W,B)}function ee(W,B,q,re,_e){return B===null||B.tag!==7?(B=js(q,W.mode,re,_e),B.return=W,B):(B=f(B,q),B.return=W,B)}function te(W,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=cf(""+B,W.mode,q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case se:return q=_c(B.type,B.key,B.props,null,W.mode,q),q.ref=nl(W,null,B),q.return=W,q;case ae:return B=df(B,W.mode,q),B.return=W,B;case xe:var re=B._init;return te(W,re(B._payload),q)}if(jr(B)||me(B))return B=js(B,W.mode,q,null),B.return=W,B;Ku(W,B)}return null}function Z(W,B,q,re){var _e=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return _e!==null?null:P(W,B,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case se:return q.key===_e?F(W,B,q,re):null;case ae:return q.key===_e?G(W,B,q,re):null;case xe:return _e=q._init,Z(W,B,_e(q._payload),re)}if(jr(q)||me(q))return _e!==null?null:ee(W,B,q,re,null);Ku(W,q)}return null}function de(W,B,q,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number")return W=W.get(q)||null,P(B,W,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case se:return W=W.get(re.key===null?q:re.key)||null,F(B,W,re,_e);case ae:return W=W.get(re.key===null?q:re.key)||null,G(B,W,re,_e);case xe:var Ee=re._init;return de(W,B,q,Ee(re._payload),_e)}if(jr(re)||me(re))return W=W.get(q)||null,ee(B,W,re,_e,null);Ku(B,re)}return null}function ge(W,B,q,re){for(var _e=null,Ee=null,Te=B,Ce=B=0,Ot=null;Te!==null&&Ce<q.length;Ce++){Te.index>Ce?(Ot=Te,Te=null):Ot=Te.sibling;var He=Z(W,Te,q[Ce],re);if(He===null){Te===null&&(Te=Ot);break}r&&Te&&He.alternate===null&&s(W,Te),B=g(He,B,Ce),Ee===null?_e=He:Ee.sibling=He,Ee=He,Te=Ot}if(Ce===q.length)return l(W,Te),ot&&Ns(W,Ce),_e;if(Te===null){for(;Ce<q.length;Ce++)Te=te(W,q[Ce],re),Te!==null&&(B=g(Te,B,Ce),Ee===null?_e=Te:Ee.sibling=Te,Ee=Te);return ot&&Ns(W,Ce),_e}for(Te=d(W,Te);Ce<q.length;Ce++)Ot=de(Te,W,Ce,q[Ce],re),Ot!==null&&(r&&Ot.alternate!==null&&Te.delete(Ot.key===null?Ce:Ot.key),B=g(Ot,B,Ce),Ee===null?_e=Ot:Ee.sibling=Ot,Ee=Ot);return r&&Te.forEach(function(Bi){return s(W,Bi)}),ot&&Ns(W,Ce),_e}function ye(W,B,q,re){var _e=me(q);if(typeof _e!="function")throw Error(t(150));if(q=_e.call(q),q==null)throw Error(t(151));for(var Ee=_e=null,Te=B,Ce=B=0,Ot=null,He=q.next();Te!==null&&!He.done;Ce++,He=q.next()){Te.index>Ce?(Ot=Te,Te=null):Ot=Te.sibling;var Bi=Z(W,Te,He.value,re);if(Bi===null){Te===null&&(Te=Ot);break}r&&Te&&Bi.alternate===null&&s(W,Te),B=g(Bi,B,Ce),Ee===null?_e=Bi:Ee.sibling=Bi,Ee=Bi,Te=Ot}if(He.done)return l(W,Te),ot&&Ns(W,Ce),_e;if(Te===null){for(;!He.done;Ce++,He=q.next())He=te(W,He.value,re),He!==null&&(B=g(He,B,Ce),Ee===null?_e=He:Ee.sibling=He,Ee=He);return ot&&Ns(W,Ce),_e}for(Te=d(W,Te);!He.done;Ce++,He=q.next())He=de(Te,W,Ce,He.value,re),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Ce:He.key),B=g(He,B,Ce),Ee===null?_e=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(bT){return s(W,bT)}),ot&&Ns(W,Ce),_e}function vt(W,B,q,re){if(typeof q=="object"&&q!==null&&q.type===b&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case se:e:{for(var _e=q.key,Ee=B;Ee!==null;){if(Ee.key===_e){if(_e=q.type,_e===b){if(Ee.tag===7){l(W,Ee.sibling),B=f(Ee,q.props.children),B.return=W,W=B;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===xe&&ug(_e)===Ee.type){l(W,Ee.sibling),B=f(Ee,q.props),B.ref=nl(W,Ee,q),B.return=W,W=B;break e}l(W,Ee);break}else s(W,Ee);Ee=Ee.sibling}q.type===b?(B=js(q.props.children,W.mode,re,q.key),B.return=W,W=B):(re=_c(q.type,q.key,q.props,null,W.mode,re),re.ref=nl(W,B,q),re.return=W,W=re)}return E(W);case ae:e:{for(Ee=q.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){l(W,B.sibling),B=f(B,q.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else s(W,B);B=B.sibling}B=df(q,W.mode,re),B.return=W,W=B}return E(W);case xe:return Ee=q._init,vt(W,B,Ee(q._payload),re)}if(jr(q))return ge(W,B,q,re);if(me(q))return ye(W,B,q,re);Ku(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(l(W,B.sibling),B=f(B,q),B.return=W,W=B):(l(W,B),B=cf(q,W.mode,re),B.return=W,W=B),E(W)):l(W,B)}return vt}var Uo=cg(!0),dg=cg(!1),Qu=xi(null),Yu=null,Bo=null,vh=null;function wh(){vh=Bo=Yu=null}function Eh(r){var s=Qu.current;nt(Qu),r._currentValue=s}function Th(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function $o(r,s){Yu=r,vh=Bo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(fn=!0),r.firstContext=null)}function Un(r){var s=r._currentValue;if(vh!==r)if(r={context:r,memoizedValue:s,next:null},Bo===null){if(Yu===null)throw Error(t(308));Bo=r,Yu.dependencies={lanes:0,firstContext:r}}else Bo=Bo.next=r;return s}var bs=null;function Ih(r){bs===null?bs=[r]:bs.push(r)}function hg(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Ih(s)):(l.next=f.next,f.next=l),s.interleaved=l,Jr(r,d)}function Jr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Di=!1;function Sh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Zr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Li(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,qe&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Jr(r,l)}return f=d.interleaved,f===null?(s.next=s,Ih(d)):(s.next=f.next,f.next=s),d.interleaved=s,Jr(r,l)}function Xu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ii(r,l)}}function pg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Ju(r,s,l,d){var f=r.updateQueue;Di=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var F=P,G=F.next;F.next=null,E===null?g=G:E.next=G,E=F;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==E&&(P===null?ee.firstBaseUpdate=G:P.next=G,ee.lastBaseUpdate=F))}if(g!==null){var te=f.baseState;E=0,ee=G=F=null,P=g;do{var Z=P.lane,de=P.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ge=r,ye=P;switch(Z=s,de=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){te=ge.call(de,te,Z);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,Z=typeof ge=="function"?ge.call(de,te,Z):ge,Z==null)break e;te=ue({},te,Z);break e;case 2:Di=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[P]:Z.push(P))}else de={eventTime:de,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(G=ee=de,F=te):ee=ee.next=de,E|=Z;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(F=te),f.baseState=F,f.firstBaseUpdate=G,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Os|=E,r.lanes=E,r.memoizedState=te}}function mg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var rl={},Rr=xi(rl),il=xi(rl),sl=xi(rl);function Ds(r){if(r===rl)throw Error(t(174));return r}function Ch(r,s){switch(et(sl,s),et(il,r),et(Rr,rl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Rt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Rt(s,r)}nt(Rr),et(Rr,s)}function zo(){nt(Rr),nt(il),nt(sl)}function gg(r){Ds(sl.current);var s=Ds(Rr.current),l=Rt(s,r.type);s!==l&&(et(il,r),et(Rr,l))}function Rh(r){il.current===r&&(nt(Rr),nt(il))}var lt=xi(0);function Zu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kh=[];function Ah(){for(var r=0;r<kh.length;r++)kh[r]._workInProgressVersionPrimary=null;kh.length=0}var ec=Q.ReactCurrentDispatcher,Ph=Q.ReactCurrentBatchConfig,Ls=0,ut=null,At=null,Dt=null,tc=!1,ol=!1,al=0,eT=0;function Qt(){throw Error(t(321))}function xh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!rr(r[l],s[l]))return!1;return!0}function Nh(r,s,l,d,f,g){if(Ls=g,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ec.current=r===null||r.memoizedState===null?iT:sT,r=l(d,f),ol){g=0;do{if(ol=!1,al=0,25<=g)throw Error(t(301));g+=1,Dt=At=null,s.updateQueue=null,ec.current=oT,r=l(d,f)}while(ol)}if(ec.current=ic,s=At!==null&&At.next!==null,Ls=0,Dt=At=ut=null,tc=!1,s)throw Error(t(300));return r}function bh(){var r=al!==0;return al=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Bn(){if(At===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=Dt===null?ut.memoizedState:Dt.next;if(s!==null)Dt=s,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?ut.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function ll(r,s){return typeof s=="function"?s(r):s}function Dh(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=At,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var P=E=null,F=null,G=g;do{var ee=G.lane;if((Ls&ee)===ee)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var te={lane:ee,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(P=F=te,E=d):F=F.next=te,ut.lanes|=ee,Os|=ee}G=G.next}while(G!==null&&G!==g);F===null?E=d:F.next=P,rr(d,s.memoizedState)||(fn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=F,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ut.lanes|=g,Os|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Lh(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);rr(g,s.memoizedState)||(fn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function yg(){}function _g(r,s){var l=ut,d=Bn(),f=s(),g=!rr(d.memoizedState,f);if(g&&(d.memoizedState=f,fn=!0),d=d.queue,Oh(Eg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,ul(9,wg.bind(null,l,d,f,s),void 0,null),Lt===null)throw Error(t(349));Ls&30||vg(l,s,f)}return f}function vg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wg(r,s,l,d){s.value=l,s.getSnapshot=d,Tg(s)&&Ig(r)}function Eg(r,s,l){return l(function(){Tg(s)&&Ig(r)})}function Tg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!rr(r,l)}catch{return!0}}function Ig(r){var s=Jr(r,1);s!==null&&lr(s,r,1,-1)}function Sg(r){var s=kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:r},s.queue=r,r=r.dispatch=rT.bind(null,ut,r),[s.memoizedState,r]}function ul(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Cg(){return Bn().memoizedState}function nc(r,s,l,d){var f=kr();ut.flags|=r,f.memoizedState=ul(1|s,l,void 0,d===void 0?null:d)}function rc(r,s,l,d){var f=Bn();d=d===void 0?null:d;var g=void 0;if(At!==null){var E=At.memoizedState;if(g=E.destroy,d!==null&&xh(d,E.deps)){f.memoizedState=ul(s,l,g,d);return}}ut.flags|=r,f.memoizedState=ul(1|s,l,g,d)}function Rg(r,s){return nc(8390656,8,r,s)}function Oh(r,s){return rc(2048,8,r,s)}function kg(r,s){return rc(4,2,r,s)}function Ag(r,s){return rc(4,4,r,s)}function Pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xg(r,s,l){return l=l!=null?l.concat([r]):null,rc(4,4,Pg.bind(null,s,r),l)}function Mh(){}function Ng(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&xh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function bg(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&xh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Dg(r,s,l){return Ls&21?(rr(l,s)||(l=Is(),ut.lanes|=l,Os|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,fn=!0),r.memoizedState=l)}function tT(r,s){var l=Ue;Ue=l!==0&&4>l?l:4,r(!0);var d=Ph.transition;Ph.transition={};try{r(!1),s()}finally{Ue=l,Ph.transition=d}}function Lg(){return Bn().memoizedState}function nT(r,s,l){var d=Fi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Og(r))Mg(s,l);else if(l=hg(r,s,l,d),l!==null){var f=on();lr(l,r,d,f),Vg(l,s,d)}}function rT(r,s,l){var d=Fi(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Og(r))Mg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,P=g(E,l);if(f.hasEagerState=!0,f.eagerState=P,rr(P,E)){var F=s.interleaved;F===null?(f.next=f,Ih(s)):(f.next=F.next,F.next=f),s.interleaved=f;return}}catch{}finally{}l=hg(r,s,f,d),l!==null&&(f=on(),lr(l,r,d,f),Vg(l,s,d))}}function Og(r){var s=r.alternate;return r===ut||s!==null&&s===ut}function Mg(r,s){ol=tc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Vg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ii(r,l)}}var ic={readContext:Un,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},iT={readContext:Un,useCallback:function(r,s){return kr().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:Rg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,nc(4194308,4,Pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return nc(4194308,4,r,s)},useInsertionEffect:function(r,s){return nc(4,2,r,s)},useMemo:function(r,s){var l=kr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=kr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=nT.bind(null,ut,r),[d.memoizedState,r]},useRef:function(r){var s=kr();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:Mh,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=tT.bind(null,r[1]),kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ut,f=kr();if(ot){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Lt===null)throw Error(t(349));Ls&30||vg(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Rg(Eg.bind(null,d,g,r),[r]),d.flags|=2048,ul(9,wg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=kr(),s=Lt.identifierPrefix;if(ot){var l=Xr,d=Yr;l=(d&~(1<<32-nn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=al++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=eT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},sT={readContext:Un,useCallback:Ng,useContext:Un,useEffect:Oh,useImperativeHandle:xg,useInsertionEffect:kg,useLayoutEffect:Ag,useMemo:bg,useReducer:Dh,useRef:Cg,useState:function(){return Dh(ll)},useDebugValue:Mh,useDeferredValue:function(r){var s=Bn();return Dg(s,At.memoizedState,r)},useTransition:function(){var r=Dh(ll)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1},oT={readContext:Un,useCallback:Ng,useContext:Un,useEffect:Oh,useImperativeHandle:xg,useInsertionEffect:kg,useLayoutEffect:Ag,useMemo:bg,useReducer:Lh,useRef:Cg,useState:function(){return Lh(ll)},useDebugValue:Mh,useDeferredValue:function(r){var s=Bn();return At===null?s.memoizedState=r:Dg(s,At.memoizedState,r)},useTransition:function(){var r=Lh(ll)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1};function sr(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Vh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ue({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var sc={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=on(),f=Fi(r),g=Zr(d,f);g.payload=s,l!=null&&(g.callback=l),s=Li(r,g,f),s!==null&&(lr(s,r,f,d),Xu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=on(),f=Fi(r),g=Zr(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Li(r,g,f),s!==null&&(lr(s,r,f,d),Xu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=on(),d=Fi(r),f=Zr(l,d);f.tag=2,s!=null&&(f.callback=s),s=Li(r,f,d),s!==null&&(lr(s,r,d,l),Xu(s,r,d))}};function Fg(r,s,l,d,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,d)||!Qa(f,g):!0}function jg(r,s,l){var d=!1,f=Ni,g=s.contextType;return typeof g=="object"&&g!==null?g=Un(g):(f=hn(s)?Ps:Kt.current,d=s.contextTypes,g=(d=d!=null)?Mo(r,f):Ni),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ug(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&sc.enqueueReplaceState(s,s.state,null)}function Fh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Sh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Un(g):(g=hn(s)?Ps:Kt.current,f.context=Mo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Vh(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&sc.enqueueReplaceState(f,f.state,null),Ju(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Wo(r,s){try{var l="",d=s;do l+=be(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function jh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Uh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function Bg(r,s,l){l=Zr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){hc||(hc=!0,tf=d),Uh(r,s)},l}function $g(r,s,l){l=Zr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Uh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Uh(r,s),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function zg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new aT;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=ET.bind(null,r,s,l),s.then(r,r))}function Wg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function qg(r,s,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Zr(-1,1),s.tag=2,Li(l,s,1))),l.lanes|=1),r)}var lT=Q.ReactCurrentOwner,fn=!1;function sn(r,s,l,d){s.child=r===null?dg(s,null,l,d):Uo(s,r.child,l,d)}function Hg(r,s,l,d,f){l=l.render;var g=s.ref;return $o(s,f),d=Nh(r,s,l,d,g,f),l=bh(),r!==null&&!fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ei(r,s,f)):(ot&&l&&ph(s),s.flags|=1,sn(r,s,d,f),s.child)}function Gg(r,s,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!uf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Kg(r,s,g,d,f)):(r=_c(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(E,d)&&r.ref===s.ref)return ei(r,s,f)}return s.flags|=1,r=Ui(g,d),r.ref=s.ref,r.return=s,s.child=r}function Kg(r,s,l,d,f){if(r!==null){var g=r.memoizedProps;if(Qa(g,d)&&r.ref===s.ref)if(fn=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(fn=!0);else return s.lanes=r.lanes,ei(r,s,f)}return Bh(r,s,l,d,f)}function Qg(r,s,l){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ho,Pn),Pn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,et(Ho,Pn),Pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,et(Ho,Pn),Pn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,et(Ho,Pn),Pn|=d;return sn(r,s,f,l),s.child}function Yg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Bh(r,s,l,d,f){var g=hn(l)?Ps:Kt.current;return g=Mo(s,g),$o(s,f),l=Nh(r,s,l,d,g,f),d=bh(),r!==null&&!fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ei(r,s,f)):(ot&&d&&ph(s),s.flags|=1,sn(r,s,l,f),s.child)}function Xg(r,s,l,d,f){if(hn(l)){var g=!0;zu(s)}else g=!1;if($o(s,f),s.stateNode===null)ac(r,s),jg(s,l,d),Fh(s,l,d,f),d=!0;else if(r===null){var E=s.stateNode,P=s.memoizedProps;E.props=P;var F=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Un(G):(G=hn(l)?Ps:Kt.current,G=Mo(s,G));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==d||F!==G)&&Ug(s,E,d,G),Di=!1;var Z=s.memoizedState;E.state=Z,Ju(s,d,E,f),F=s.memoizedState,P!==d||Z!==F||dn.current||Di?(typeof ee=="function"&&(Vh(s,l,ee,d),F=s.memoizedState),(P=Di||Fg(s,l,P,d,Z,F,G))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=F),E.props=d,E.state=F,E.context=G,d=P):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,fg(r,s),P=s.memoizedProps,G=s.type===s.elementType?P:sr(s.type,P),E.props=G,te=s.pendingProps,Z=E.context,F=l.contextType,typeof F=="object"&&F!==null?F=Un(F):(F=hn(l)?Ps:Kt.current,F=Mo(s,F));var de=l.getDerivedStateFromProps;(ee=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==te||Z!==F)&&Ug(s,E,d,F),Di=!1,Z=s.memoizedState,E.state=Z,Ju(s,d,E,f);var ge=s.memoizedState;P!==te||Z!==ge||dn.current||Di?(typeof de=="function"&&(Vh(s,l,de,d),ge=s.memoizedState),(G=Di||Fg(s,l,G,d,Z,ge,F)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ge,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ge,F)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),E.props=d,E.state=ge,E.context=F,d=G):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),d=!1)}return $h(r,s,l,d,g,f)}function $h(r,s,l,d,f,g){Yg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return f&&ng(s,l,!1),ei(r,s,g);d=s.stateNode,lT.current=s;var P=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Uo(s,r.child,null,g),s.child=Uo(s,null,P,g)):sn(r,s,P,g),s.memoizedState=d.state,f&&ng(s,l,!0),s.child}function Jg(r){var s=r.stateNode;s.pendingContext?eg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&eg(r,s.context,!1),Ch(r,s.containerInfo)}function Zg(r,s,l,d,f){return jo(),_h(f),s.flags|=256,sn(r,s,l,d),s.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Wh(r){return{baseLanes:r,cachePool:null,transitions:null}}function ey(r,s,l){var d=s.pendingProps,f=lt.current,g=!1,E=(s.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),et(lt,f&1),r===null)return yh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=vc(E,d,0,null),r=js(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Wh(l),s.memoizedState=zh,r):qh(s,E));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return uT(r,s,E,d,P,f,l);if(g){g=d.fallback,E=s.mode,f=r.child,P=f.sibling;var F={mode:"hidden",children:d.children};return!(E&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=F,s.deletions=null):(d=Ui(f,F),d.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=Ui(P,g):(g=js(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?Wh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=zh,d}return g=r.child,r=g.sibling,d=Ui(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function qh(r,s){return s=vc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function oc(r,s,l,d){return d!==null&&_h(d),Uo(s,r.child,null,l),r=qh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function uT(r,s,l,d,f,g,E){if(l)return s.flags&256?(s.flags&=-257,d=jh(Error(t(422))),oc(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=vc({mode:"visible",children:d.children},f,0,null),g=js(g,f,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&Uo(s,r.child,null,E),s.child.memoizedState=Wh(E),s.memoizedState=zh,g);if(!(s.mode&1))return oc(r,s,E,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var P=d.dgst;return d=P,g=Error(t(419)),d=jh(g,d,void 0),oc(r,s,E,d)}if(P=(E&r.childLanes)!==0,fn||P){if(d=Lt,d!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Jr(r,f),lr(d,r,f,-1))}return lf(),d=jh(Error(t(421))),oc(r,s,E,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=TT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,An=Pi(f.nextSibling),kn=s,ot=!0,ir=null,r!==null&&(Fn[jn++]=Yr,Fn[jn++]=Xr,Fn[jn++]=xs,Yr=r.id,Xr=r.overflow,xs=s),s=qh(s,d.children),s.flags|=4096,s)}function ty(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Th(r.return,s,l)}function Hh(r,s,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function ny(r,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(sn(r,s,d.children,l),d=lt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ty(r,l,s);else if(r.tag===19)ty(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(et(lt,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Zu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Hh(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Zu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Hh(s,!0,l,null,g);break;case"together":Hh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ac(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ei(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ui(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ui(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function cT(r,s,l){switch(s.tag){case 3:Jg(s),jo();break;case 5:gg(s);break;case 1:hn(s.type)&&zu(s);break;case 4:Ch(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;et(Qu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(et(lt,lt.current&1),s.flags|=128,null):l&s.child.childLanes?ey(r,s,l):(et(lt,lt.current&1),r=ei(r,s,l),r!==null?r.sibling:null);et(lt,lt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return ny(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),et(lt,lt.current),d)break;return null;case 22:case 23:return s.lanes=0,Qg(r,s,l)}return ei(r,s,l)}var ry,Gh,iy,sy;ry=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Gh=function(){},iy=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,Ds(Rr.current);var g=null;switch(l){case"input":f=Gt(r,f),d=Gt(r,d),g=[];break;case"select":f=ue({},f,{value:void 0}),d=ue({},d,{value:void 0}),g=[];break;case"textarea":f=Sa(r,f),d=Sa(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Uu)}xa(l,d);var E;l=null;for(G in f)if(!d.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var P=f[G];for(E in P)P.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in d){var F=d[G];if(P=f!=null?f[G]:void 0,d.hasOwnProperty(G)&&F!==P&&(F!=null||P!=null))if(G==="style")if(P){for(E in P)!P.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in F)F.hasOwnProperty(E)&&P[E]!==F[E]&&(l||(l={}),l[E]=F[E])}else l||(g||(g=[]),g.push(G,l)),l=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,P=P?P.__html:void 0,F!=null&&P!==F&&(g=g||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(g=g||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&tt("scroll",r),g||P===F||(g=[])):(g=g||[]).push(G,F))}l&&(g=g||[]).push("style",l);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},sy=function(r,s,l,d){l!==d&&(s.flags|=4)};function cl(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function dT(r,s,l){var d=s.pendingProps;switch(mh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return hn(s.type)&&$u(),Yt(s),null;case 3:return d=s.stateNode,zo(),nt(dn),nt(Kt),Ah(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&(sf(ir),ir=null))),Gh(r,s),Yt(s),null;case 5:Rh(s);var f=Ds(sl.current);if(l=s.type,r!==null&&s.stateNode!=null)iy(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Yt(s),null}if(r=Ds(Rr.current),Gu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[Cr]=s,d[el]=g,r=(s.mode&1)!==0,l){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(f=0;f<Xa.length;f++)tt(Xa[f],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":Fr(d,g),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},tt("invalid",d);break;case"textarea":so(d,g),tt("invalid",d)}xa(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var P=g[E];E==="children"?typeof P=="string"?d.textContent!==P&&(g.suppressHydrationWarning!==!0&&ju(d.textContent,P,r),f=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&ju(d.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&tt("scroll",d)}switch(l){case"input":Je(d),du(d,g,!0);break;case"textarea":Je(d),Ca(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Uu)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ct(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Cr]=s,r[el]=d,ry(r,s,!1,!1),s.stateNode=r;e:{switch(E=Na(l,d),l){case"dialog":tt("cancel",r),tt("close",r),f=d;break;case"iframe":case"object":case"embed":tt("load",r),f=d;break;case"video":case"audio":for(f=0;f<Xa.length;f++)tt(Xa[f],r);f=d;break;case"source":tt("error",r),f=d;break;case"img":case"image":case"link":tt("error",r),tt("load",r),f=d;break;case"details":tt("toggle",r),f=d;break;case"input":Fr(r,d),f=Gt(r,d),tt("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=ue({},d,{value:void 0}),tt("invalid",r);break;case"textarea":so(r,d),f=Sa(r,d),tt("invalid",r);break;default:f=d}xa(l,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var F=P[g];g==="style"?Aa(r,F):g==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ra(r,F)):g==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&_i(r,F):typeof F=="number"&&_i(r,""+F):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?F!=null&&g==="onScroll"&&tt("scroll",r):F!=null&&H(r,g,F,E))}switch(l){case"input":Je(r),du(r,d,!1);break;case"textarea":Je(r),Ca(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ne(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Ur(r,!!d.multiple,g,!1):d.defaultValue!=null&&Ur(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Uu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(r&&s.stateNode!=null)sy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ds(sl.current),Ds(Rr.current),Gu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Cr]=s,(g=d.nodeValue!==l)&&(r=kn,r!==null))switch(r.tag){case 3:ju(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ju(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Cr]=s,s.stateNode=d}return Yt(s),null;case 13:if(nt(lt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&An!==null&&s.mode&1&&!(s.flags&128))lg(),jo(),s.flags|=98560,g=!1;else if(g=Gu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Cr]=s}else jo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),g=!1}else ir!==null&&(sf(ir),ir=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||lt.current&1?Pt===0&&(Pt=3):lf())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return zo(),Gh(r,s),r===null&&Ja(s.stateNode.containerInfo),Yt(s),null;case 10:return Eh(s.type._context),Yt(s),null;case 17:return hn(s.type)&&$u(),Yt(s),null;case 19:if(nt(lt),g=s.memoizedState,g===null)return Yt(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)cl(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=Zu(r),E!==null){for(s.flags|=128,cl(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return et(lt,lt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ze()>Go&&(s.flags|=128,d=!0,cl(g,!1),s.lanes=4194304)}else{if(!d)if(r=Zu(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),cl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ot)return Yt(s),null}else 2*Ze()-g.renderingStartTime>Go&&l!==1073741824&&(s.flags|=128,d=!0,cl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ze(),s.sibling=null,l=lt.current,et(lt,d?l&1|2:l&1),s):(Yt(s),null);case 22:case 23:return af(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Pn&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function hT(r,s){switch(mh(s),s.tag){case 1:return hn(s.type)&&$u(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zo(),nt(dn),nt(Kt),Ah(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(nt(lt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return nt(lt),null;case 4:return zo(),null;case 10:return Eh(s.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var lc=!1,Xt=!1,fT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function qo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ft(r,s,d)}else l.current=null}function Kh(r,s,l){try{l()}catch(d){ft(r,s,d)}}var oy=!1;function pT(r,s){if(oh=Ri,r=Fm(),Jd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,P=-1,F=-1,G=0,ee=0,te=r,Z=null;t:for(;;){for(var de;te!==l||f!==0&&te.nodeType!==3||(P=E+f),te!==g||d!==0&&te.nodeType!==3||(F=E+d),te.nodeType===3&&(E+=te.nodeValue.length),(de=te.firstChild)!==null;)Z=te,te=de;for(;;){if(te===r)break t;if(Z===l&&++G===f&&(P=E),Z===g&&++ee===d&&(F=E),(de=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=de}l=P===-1||F===-1?null:{start:P,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:r,selectionRange:l},Ri=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var ge=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,vt=ge.memoizedState,W=s.stateNode,B=W.getSnapshotBeforeUpdate(s.elementType===s.type?ye:sr(s.type,ye),vt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ft(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return ge=oy,oy=!1,ge}function dl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Kh(s,l,g)}f=f.next}while(f!==d)}}function uc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Qh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function ay(r){var s=r.alternate;s!==null&&(r.alternate=null,ay(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[el],delete s[dh],delete s[YE],delete s[XE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ly(r){return r.tag===5||r.tag===3||r.tag===4}function uy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Uu));else if(d!==4&&(r=r.child,r!==null))for(Yh(r,s,l),r=r.sibling;r!==null;)Yh(r,s,l),r=r.sibling}function Xh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Xh(r,s,l),r=r.sibling;r!==null;)Xh(r,s,l),r=r.sibling}var jt=null,or=!1;function Oi(r,s,l){for(l=l.child;l!==null;)cy(r,s,l),l=l.sibling}function cy(r,s,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Es,l)}catch{}switch(l.tag){case 5:Xt||qo(l,s);case 6:var d=jt,f=or;jt=null,Oi(r,s,l),jt=d,or=f,jt!==null&&(or?(r=jt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(or?(r=jt,l=l.stateNode,r.nodeType===8?ch(r.parentNode,l):r.nodeType===1&&ch(r,l),tr(r)):ch(jt,l.stateNode));break;case 4:d=jt,f=or,jt=l.stateNode.containerInfo,or=!0,Oi(r,s,l),jt=d,or=f;break;case 0:case 11:case 14:case 15:if(!Xt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Kh(l,s,E),f=f.next}while(f!==d)}Oi(r,s,l);break;case 1:if(!Xt&&(qo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){ft(l,s,P)}Oi(r,s,l);break;case 21:Oi(r,s,l);break;case 22:l.mode&1?(Xt=(d=Xt)||l.memoizedState!==null,Oi(r,s,l),Xt=d):Oi(r,s,l);break;default:Oi(r,s,l)}}function dy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new fT),s.forEach(function(d){var f=IT.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function ar(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,E=s,P=E;e:for(;P!==null;){switch(P.tag){case 5:jt=P.stateNode,or=!1;break e;case 3:jt=P.stateNode.containerInfo,or=!0;break e;case 4:jt=P.stateNode.containerInfo,or=!0;break e}P=P.return}if(jt===null)throw Error(t(160));cy(g,E,f),jt=null,or=!1;var F=f.alternate;F!==null&&(F.return=null),f.return=null}catch(G){ft(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hy(s,r),s=s.sibling}function hy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(s,r),Ar(r),d&4){try{dl(3,r,r.return),uc(3,r)}catch(ye){ft(r,r.return,ye)}try{dl(5,r,r.return)}catch(ye){ft(r,r.return,ye)}}break;case 1:ar(s,r),Ar(r),d&512&&l!==null&&qo(l,l.return);break;case 5:if(ar(s,r),Ar(r),d&512&&l!==null&&qo(l,l.return),r.flags&32){var f=r.stateNode;try{_i(f,"")}catch(ye){ft(r,r.return,ye)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,P=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&ds(f,g),Na(P,E);var G=Na(P,g);for(E=0;E<F.length;E+=2){var ee=F[E],te=F[E+1];ee==="style"?Aa(f,te):ee==="dangerouslySetInnerHTML"?Ra(f,te):ee==="children"?_i(f,te):H(f,ee,te,G)}switch(P){case"input":hs(f,g);break;case"textarea":oo(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?Ur(f,!!g.multiple,de,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Ur(f,!!g.multiple,g.defaultValue,!0):Ur(f,!!g.multiple,g.multiple?[]:"",!1))}f[el]=g}catch(ye){ft(r,r.return,ye)}}break;case 6:if(ar(s,r),Ar(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ye){ft(r,r.return,ye)}}break;case 3:if(ar(s,r),Ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(ye){ft(r,r.return,ye)}break;case 4:ar(s,r),Ar(r);break;case 13:ar(s,r),Ar(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ef=Ze())),d&4&&dy(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Xt=(G=Xt)||ee,ar(s,r),Xt=G):ar(s,r),Ar(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ee&&r.mode&1)for(fe=r,ee=r.child;ee!==null;){for(te=fe=ee;fe!==null;){switch(Z=fe,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:dl(4,Z,Z.return);break;case 1:qo(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){ft(d,l,ye)}}break;case 5:qo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){my(te);continue}}de!==null?(de.return=Z,fe=de):my(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=te.stateNode,F=te.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,P.style.display=ka("display",E))}catch(ye){ft(r,r.return,ye)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=G?"":te.memoizedProps}catch(ye){ft(r,r.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:ar(s,r),Ar(r),d&4&&dy(r);break;case 21:break;default:ar(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ly(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(_i(f,""),d.flags&=-33);var g=uy(r);Xh(r,g,f);break;case 3:case 4:var E=d.stateNode.containerInfo,P=uy(r);Yh(r,P,E);break;default:throw Error(t(161))}}catch(F){ft(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mT(r,s,l){fe=r,fy(r)}function fy(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&d){var E=f.memoizedState!==null||lc;if(!E){var P=f.alternate,F=P!==null&&P.memoizedState!==null||Xt;P=lc;var G=Xt;if(lc=E,(Xt=F)&&!G)for(fe=f;fe!==null;)E=fe,F=E.child,E.tag===22&&E.memoizedState!==null?gy(f):F!==null?(F.return=E,fe=F):gy(f);for(;g!==null;)fe=g,fy(g),g=g.sibling;fe=f,lc=P,Xt=G}py(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,fe=g):py(r)}}function py(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Xt||uc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Xt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:sr(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&mg(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}mg(s,E,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ee=G.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&tr(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xt||s.flags&512&&Qh(s)}catch(Z){ft(s,s.return,Z)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function my(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function gy(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{uc(4,s)}catch(F){ft(s,l,F)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(F){ft(s,f,F)}}var g=s.return;try{Qh(s)}catch(F){ft(s,g,F)}break;case 5:var E=s.return;try{Qh(s)}catch(F){ft(s,E,F)}}}catch(F){ft(s,s.return,F)}if(s===r){fe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,fe=P;break}fe=s.return}}var gT=Math.ceil,cc=Q.ReactCurrentDispatcher,Jh=Q.ReactCurrentOwner,$n=Q.ReactCurrentBatchConfig,qe=0,Lt=null,Tt=null,Ut=0,Pn=0,Ho=xi(0),Pt=0,hl=null,Os=0,dc=0,Zh=0,fl=null,pn=null,ef=0,Go=1/0,ti=null,hc=!1,tf=null,Mi=null,fc=!1,Vi=null,pc=0,pl=0,nf=null,mc=-1,gc=0;function on(){return qe&6?Ze():mc!==-1?mc:mc=Ze()}function Fi(r){return r.mode&1?qe&2&&Ut!==0?Ut&-Ut:ZE.transition!==null?(gc===0&&(gc=Is()),gc):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:$a(r.type)),r):1}function lr(r,s,l,d){if(50<pl)throw pl=0,nf=null,Error(t(185));Ti(r,l,d),(!(qe&2)||r!==Lt)&&(r===Lt&&(!(qe&2)&&(dc|=l),Pt===4&&ji(r,Ut)),mn(r,d),l===1&&qe===0&&!(s.mode&1)&&(Go=Ze()+500,Wu&&bi()))}function mn(r,s){var l=r.callbackNode;zr(r,s);var d=Ts(r,r===Lt?Ut:0);if(d===0)l!==null&&Va(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Va(l),s===1)r.tag===0?JE(_y.bind(null,r)):rg(_y.bind(null,r)),KE(function(){!(qe&6)&&bi()}),l=null;else{switch(Si(d)){case 1:l=ws;break;case 4:l=vi;break;case 16:l=On;break;case 536870912:l=gu;break;default:l=On}l=Ry(l,yy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function yy(r,s){if(mc=-1,gc=0,qe&6)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var d=Ts(r,r===Lt?Ut:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=yc(r,d);else{s=d;var f=qe;qe|=2;var g=wy();(Lt!==r||Ut!==s)&&(ti=null,Go=Ze()+500,Vs(r,s));do try{vT();break}catch(P){vy(r,P)}while(!0);wh(),cc.current=g,qe=f,Tt!==null?s=0:(Lt=null,Ut=0,s=Pt)}if(s!==0){if(s===2&&(f=Sn(r),f!==0&&(d=f,s=rf(r,f))),s===1)throw l=hl,Vs(r,0),ji(r,d),mn(r,Ze()),l;if(s===6)ji(r,d);else{if(f=r.current.alternate,!(d&30)&&!yT(f)&&(s=yc(r,d),s===2&&(g=Sn(r),g!==0&&(d=g,s=rf(r,g))),s===1))throw l=hl,Vs(r,0),ji(r,d),mn(r,Ze()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Fs(r,pn,ti);break;case 3:if(ji(r,d),(d&130023424)===d&&(s=ef+500-Ze(),10<s)){if(Ts(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){on(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=uh(Fs.bind(null,r,pn,ti),s);break}Fs(r,pn,ti);break;case 4:if(ji(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var E=31-nn(d);g=1<<E,E=s[E],E>f&&(f=E),d&=~g}if(d=f,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*gT(d/1960))-d,10<d){r.timeoutHandle=uh(Fs.bind(null,r,pn,ti),d);break}Fs(r,pn,ti);break;case 5:Fs(r,pn,ti);break;default:throw Error(t(329))}}}return mn(r,Ze()),r.callbackNode===l?yy.bind(null,r):null}function rf(r,s){var l=fl;return r.current.memoizedState.isDehydrated&&(Vs(r,s).flags|=256),r=yc(r,s),r!==2&&(s=pn,pn=l,s!==null&&sf(s)),r}function sf(r){pn===null?pn=r:pn.push.apply(pn,r)}function yT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!rr(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(r,s){for(s&=~Zh,s&=~dc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-nn(s),d=1<<l;r[l]=-1,s&=~d}}function _y(r){if(qe&6)throw Error(t(327));Ko();var s=Ts(r,0);if(!(s&1))return mn(r,Ze()),null;var l=yc(r,s);if(r.tag!==0&&l===2){var d=Sn(r);d!==0&&(s=d,l=rf(r,d))}if(l===1)throw l=hl,Vs(r,0),ji(r,s),mn(r,Ze()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Fs(r,pn,ti),mn(r,Ze()),null}function of(r,s){var l=qe;qe|=1;try{return r(s)}finally{qe=l,qe===0&&(Go=Ze()+500,Wu&&bi())}}function Ms(r){Vi!==null&&Vi.tag===0&&!(qe&6)&&Ko();var s=qe;qe|=1;var l=$n.transition,d=Ue;try{if($n.transition=null,Ue=1,r)return r()}finally{Ue=d,$n.transition=l,qe=s,!(qe&6)&&bi()}}function af(){Pn=Ho.current,nt(Ho)}function Vs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,GE(l)),Tt!==null)for(l=Tt.return;l!==null;){var d=l;switch(mh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$u();break;case 3:zo(),nt(dn),nt(Kt),Ah();break;case 5:Rh(d);break;case 4:zo();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Eh(d.type._context);break;case 22:case 23:af()}l=l.return}if(Lt=r,Tt=r=Ui(r.current,null),Ut=Pn=s,Pt=0,hl=null,Zh=dc=Os=0,pn=fl=null,bs!==null){for(s=0;s<bs.length;s++)if(l=bs[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,d.next=E}l.pending=d}bs=null}return r}function vy(r,s){do{var l=Tt;try{if(wh(),ec.current=ic,tc){for(var d=ut.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}tc=!1}if(Ls=0,Dt=At=ut=null,ol=!1,al=0,Jh.current=null,l===null||l.return===null){Pt=1,hl=s,Tt=null;break}e:{var g=r,E=l.return,P=l,F=s;if(s=Ut,P.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,ee=P,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=Wg(E);if(de!==null){de.flags&=-257,qg(de,E,P,g,s),de.mode&1&&zg(g,G,s),s=de,F=G;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(F),s.updateQueue=ye}else ge.add(F);break e}else{if(!(s&1)){zg(g,G,s),lf();break e}F=Error(t(426))}}else if(ot&&P.mode&1){var vt=Wg(E);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),qg(vt,E,P,g,s),_h(Wo(F,P));break e}}g=F=Wo(F,P),Pt!==4&&(Pt=2),fl===null?fl=[g]:fl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var W=Bg(g,F,s);pg(g,W);break e;case 1:P=F;var B=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Mi===null||!Mi.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=$g(g,P,s);pg(g,re);break e}}g=g.return}while(g!==null)}Ty(l)}catch(_e){s=_e,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function wy(){var r=cc.current;return cc.current=ic,r===null?ic:r}function lf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(Os&268435455)&&!(dc&268435455)||ji(Lt,Ut)}function yc(r,s){var l=qe;qe|=2;var d=wy();(Lt!==r||Ut!==s)&&(ti=null,Vs(r,s));do try{_T();break}catch(f){vy(r,f)}while(!0);if(wh(),qe=l,cc.current=d,Tt!==null)throw Error(t(261));return Lt=null,Ut=0,Pt}function _T(){for(;Tt!==null;)Ey(Tt)}function vT(){for(;Tt!==null&&!pu();)Ey(Tt)}function Ey(r){var s=Cy(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,s===null?Ty(r):Tt=s,Jh.current=null}function Ty(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=hT(l,s),l!==null){l.flags&=32767,Tt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,Tt=null;return}}else if(l=dT(l,s,Pn),l!==null){Tt=l;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Pt===0&&(Pt=5)}function Fs(r,s,l){var d=Ue,f=$n.transition;try{$n.transition=null,Ue=1,wT(r,s,l,d)}finally{$n.transition=f,Ue=d}return null}function wT(r,s,l,d){do Ko();while(Vi!==null);if(qe&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Xe(r,g),r===Lt&&(Tt=Lt=null,Ut=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||fc||(fc=!0,Ry(On,function(){return Ko(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=$n.transition,$n.transition=null;var E=Ue;Ue=1;var P=qe;qe|=4,Jh.current=null,pT(r,l),hy(l,r),UE(ah),Ri=!!oh,ah=oh=null,r.current=l,mT(l),Wd(),qe=P,Ue=E,$n.transition=g}else r.current=l;if(fc&&(fc=!1,Vi=r,pc=f),g=r.pendingLanes,g===0&&(Mi=null),yu(l.stateNode),mn(r,Ze()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(hc)throw hc=!1,r=tf,tf=null,r;return pc&1&&r.tag!==0&&Ko(),g=r.pendingLanes,g&1?r===nf?pl++:(pl=0,nf=r):pl=0,bi(),null}function Ko(){if(Vi!==null){var r=Si(pc),s=$n.transition,l=Ue;try{if($n.transition=null,Ue=16>r?16:r,Vi===null)var d=!1;else{if(r=Vi,Vi=null,pc=0,qe&6)throw Error(t(331));var f=qe;for(qe|=4,fe=r.current;fe!==null;){var g=fe,E=g.child;if(fe.flags&16){var P=g.deletions;if(P!==null){for(var F=0;F<P.length;F++){var G=P[F];for(fe=G;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:dl(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,fe=te;else for(;fe!==null;){ee=fe;var Z=ee.sibling,de=ee.return;if(ay(ee),ee===G){fe=null;break}if(Z!==null){Z.return=de,fe=Z;break}fe=de}}}var ge=g.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var vt=ye.sibling;ye.sibling=null,ye=vt}while(ye!==null)}}fe=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:dl(9,g,g.return)}var W=g.sibling;if(W!==null){W.return=g.return,fe=W;break e}fe=g.return}}var B=r.current;for(fe=B;fe!==null;){E=fe;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,fe=q;else e:for(E=B;fe!==null;){if(P=fe,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:uc(9,P)}}catch(_e){ft(P,P.return,_e)}if(P===E){fe=null;break e}var re=P.sibling;if(re!==null){re.return=P.return,fe=re;break e}fe=P.return}}if(qe=f,bi(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Es,r)}catch{}d=!0}return d}finally{Ue=l,$n.transition=s}}return!1}function Iy(r,s,l){s=Wo(l,s),s=Bg(r,s,1),r=Li(r,s,1),s=on(),r!==null&&(Ti(r,1,s),mn(r,s))}function ft(r,s,l){if(r.tag===3)Iy(r,r,l);else for(;s!==null;){if(s.tag===3){Iy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){r=Wo(l,r),r=$g(s,r,1),s=Li(s,r,1),r=on(),s!==null&&(Ti(s,1,r),mn(s,r));break}}s=s.return}}function ET(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=on(),r.pingedLanes|=r.suspendedLanes&l,Lt===r&&(Ut&l)===l&&(Pt===4||Pt===3&&(Ut&130023424)===Ut&&500>Ze()-ef?Vs(r,0):Zh|=l),mn(r,s)}function Sy(r,s){s===0&&(r.mode&1?(s=yo,yo<<=1,!(yo&130023424)&&(yo=4194304)):s=1);var l=on();r=Jr(r,s),r!==null&&(Ti(r,s,l),mn(r,l))}function TT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Sy(r,l)}function IT(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Sy(r,l)}var Cy;Cy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||dn.current)fn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return fn=!1,cT(r,s,l);fn=!!(r.flags&131072)}else fn=!1,ot&&s.flags&1048576&&ig(s,Hu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ac(r,s),r=s.pendingProps;var f=Mo(s,Kt.current);$o(s,l),f=Nh(null,s,d,r,f,l);var g=bh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(d)?(g=!0,zu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Sh(s),f.updater=sc,s.stateNode=f,f._reactInternals=s,Fh(s,d,r,l),s=$h(null,s,d,!0,g,l)):(s.tag=0,ot&&g&&ph(s),sn(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(ac(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=CT(d),r=sr(d,r),f){case 0:s=Bh(null,s,d,r,l);break e;case 1:s=Xg(null,s,d,r,l);break e;case 11:s=Hg(null,s,d,r,l);break e;case 14:s=Gg(null,s,d,sr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),Bh(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),Xg(r,s,d,f,l);case 3:e:{if(Jg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,fg(r,s),Ju(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Wo(Error(t(423)),s),s=Zg(r,s,d,l,f);break e}else if(d!==f){f=Wo(Error(t(424)),s),s=Zg(r,s,d,l,f);break e}else for(An=Pi(s.stateNode.containerInfo.firstChild),kn=s,ot=!0,ir=null,l=dg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),d===f){s=ei(r,s,l);break e}sn(r,s,d,l)}s=s.child}return s;case 5:return gg(s),r===null&&yh(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,lh(d,f)?E=null:g!==null&&lh(d,g)&&(s.flags|=32),Yg(r,s),sn(r,s,E,l),s.child;case 6:return r===null&&yh(s),null;case 13:return ey(r,s,l);case 4:return Ch(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Uo(s,null,d,l):sn(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),Hg(r,s,d,f,l);case 7:return sn(r,s,s.pendingProps,l),s.child;case 8:return sn(r,s,s.pendingProps.children,l),s.child;case 12:return sn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,et(Qu,d._currentValue),d._currentValue=E,g!==null)if(rr(g.value,E)){if(g.children===f.children&&!dn.current){s=ei(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){E=g.child;for(var F=P.firstContext;F!==null;){if(F.context===d){if(g.tag===1){F=Zr(-1,l&-l),F.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var ee=G.pending;ee===null?F.next=F:(F.next=ee.next,ee.next=F),G.pending=F}}g.lanes|=l,F=g.alternate,F!==null&&(F.lanes|=l),Th(g.return,l,s),P.lanes|=l;break}F=F.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,P=E.alternate,P!==null&&(P.lanes|=l),Th(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}sn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,$o(s,l),f=Un(f),d=d(f),s.flags|=1,sn(r,s,d,l),s.child;case 14:return d=s.type,f=sr(d,s.pendingProps),f=sr(d.type,f),Gg(r,s,d,f,l);case 15:return Kg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),ac(r,s),s.tag=1,hn(d)?(r=!0,zu(s)):r=!1,$o(s,l),jg(s,d,f),Fh(s,d,f,l),$h(null,s,d,!0,r,l);case 19:return ny(r,s,l);case 22:return Qg(r,s,l)}throw Error(t(156,s.tag))};function Ry(r,s){return mo(r,s)}function ST(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,l,d){return new ST(r,s,l,d)}function uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function CT(r){if(typeof r=="function")return uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Ve)return 14}return 2}function Ui(r,s){var l=r.alternate;return l===null?(l=zn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function _c(r,s,l,d,f,g){var E=2;if(d=r,typeof r=="function")uf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case b:return js(l.children,f,g,s);case R:E=8,f|=8;break;case A:return r=zn(12,l,s,f|2),r.elementType=A,r.lanes=g,r;case I:return r=zn(13,l,s,f),r.elementType=I,r.lanes=g,r;case le:return r=zn(19,l,s,f),r.elementType=le,r.lanes=g,r;case De:return vc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:E=10;break e;case V:E=9;break e;case j:E=11;break e;case Ve:E=14;break e;case xe:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=zn(E,l,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function js(r,s,l,d){return r=zn(7,r,d,s),r.lanes=l,r}function vc(r,s,l,d){return r=zn(22,r,d,s),r.elementType=De,r.lanes=l,r.stateNode={isHidden:!1},r}function cf(r,s,l){return r=zn(6,r,null,s),r.lanes=l,r}function df(r,s,l){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function RT(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function hf(r,s,l,d,f,g,E,P,F){return r=new RT(r,s,l,P,F),s===1?(s=1,g===!0&&(s|=8)):s=0,g=zn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(g),r}function kT(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function ky(r){if(!r)return Ni;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(hn(l))return tg(r,l,s)}return s}function Ay(r,s,l,d,f,g,E,P,F){return r=hf(l,d,!0,r,f,g,E,P,F),r.context=ky(null),l=r.current,d=on(),f=Fi(l),g=Zr(d,f),g.callback=s??null,Li(l,g,f),r.current.lanes=f,Ti(r,f,d),mn(r,d),r}function wc(r,s,l,d){var f=s.current,g=on(),E=Fi(f);return l=ky(l),s.context===null?s.context=l:s.pendingContext=l,s=Zr(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Li(f,s,E),r!==null&&(lr(r,f,E,g),Xu(r,f,E)),E}function Ec(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Py(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ff(r,s){Py(r,s),(r=r.alternate)&&Py(r,s)}function AT(){return null}var xy=typeof reportError=="function"?reportError:function(r){console.error(r)};function pf(r){this._internalRoot=r}Tc.prototype.render=pf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));wc(r,s,null,null)},Tc.prototype.unmount=pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ms(function(){wc(null,r,null,null)}),s[Kr]=null}};function Tc(r){this._internalRoot=r}Tc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Tu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Er.length&&s!==0&&s<Er[l].priority;l++);Er.splice(l,0,r),l===0&&Cu(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function PT(r,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var G=Ec(E);g.call(G)}}var E=Ay(s,d,r,0,null,!1,!1,"",Ny);return r._reactRootContainer=E,r[Kr]=E.current,Ja(r.nodeType===8?r.parentNode:r),Ms(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var P=d;d=function(){var G=Ec(F);P.call(G)}}var F=hf(r,0,!1,null,null,!1,!1,"",Ny);return r._reactRootContainer=F,r[Kr]=F.current,Ja(r.nodeType===8?r.parentNode:r),Ms(function(){wc(s,F,l,d)}),F}function Sc(r,s,l,d,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var P=f;f=function(){var F=Ec(E);P.call(F)}}wc(s,E,r,f)}else E=PT(l,s,r,f,d);return Ec(E)}wu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=wi(s.pendingLanes);l!==0&&(Ii(s,l|1),mn(s,Ze()),!(qe&6)&&(Go=Ze()+500,bi()))}break;case 13:Ms(function(){var d=Jr(r,1);if(d!==null){var f=on();lr(d,r,1,f)}}),ff(r,1)}},_o=function(r){if(r.tag===13){var s=Jr(r,134217728);if(s!==null){var l=on();lr(s,r,134217728,l)}ff(r,134217728)}},Eu=function(r){if(r.tag===13){var s=Fi(r),l=Jr(r,s);if(l!==null){var d=on();lr(l,r,s,d)}ff(r,s)}},Tu=function(){return Ue},Iu=function(r,s){var l=Ue;try{return Ue=r,s()}finally{Ue=l}},lo=function(r,s,l){switch(s){case"input":if(hs(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=Bu(d);if(!f)throw Error(t(90));Tn(d),hs(d,f)}}}break;case"textarea":oo(r,l);break;case"select":s=l.value,s!=null&&Ur(r,!!l.multiple,s,!1)}},gs=of,Da=Ms;var xT={usingClientEntryPoint:!1,Events:[tl,Lo,Bu,vr,ba,of]},ml={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NT={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ma(r),r===null?null:r.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||AT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Es=Cc.inject(NT),In=Cc}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xT,gn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(s))throw Error(t(200));return kT(r,s,null,l)},gn.createRoot=function(r,s){if(!mf(r))throw Error(t(299));var l=!1,d="",f=xy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=hf(r,1,!1,null,null,l,!1,d,f),r[Kr]=s.current,Ja(r.nodeType===8?r.parentNode:r),new pf(s)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ma(s),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return Ms(r)},gn.hydrate=function(r,s,l){if(!Ic(s))throw Error(t(200));return Sc(null,r,s,!0,l)},gn.hydrateRoot=function(r,s,l){if(!mf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",E=xy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Ay(s,null,r,1,l??null,f,!1,g,E),r[Kr]=s.current,Ja(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Tc(s)},gn.render=function(r,s,l){if(!Ic(s))throw Error(t(200));return Sc(null,r,s,!1,l)},gn.unmountComponentAtNode=function(r){if(!Ic(r))throw Error(t(40));return r._reactRootContainer?(Ms(function(){Sc(null,null,r,!1,function(){r._reactRootContainer=null,r[Kr]=null})}),!0):!1},gn.unstable_batchedUpdates=of,gn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Ic(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Sc(r,s,l,!1,d)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var jy;function jT(){if(jy)return _f.exports;jy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_f.exports=FT(),_f.exports}var Uy;function UT(){if(Uy)return Rc;Uy=1;var n=jT();return Rc.createRoot=n.createRoot,Rc.hydrateRoot=n.hydrateRoot,Rc}var BT=UT(),yl={},By;function $T(){if(By)return yl;By=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=c,yl.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,N){const k=new a,D=S.length;if(D<2)return k;const x=(N==null?void 0:N.decode)||w;let U=0;do{const M=S.indexOf("=",U);if(M===-1)break;const H=S.indexOf(";",U),Q=H===-1?D:H;if(M>Q){U=S.lastIndexOf(";",M-1)+1;continue}const se=h(S,U,M),ae=p(S,M,se),b=S.slice(se,ae);if(k[b]===void 0){let R=h(S,M+1,Q),A=p(S,Q,R);const L=x(S.slice(R,A));k[b]=L}U=Q+1}while(U<D);return k}function h(S,N,k){do{const D=S.charCodeAt(N);if(D!==32&&D!==9)return N}while(++N<k);return k}function p(S,N,k){for(;N>k;){const D=S.charCodeAt(--N);if(D!==32&&D!==9)return N+1}return k}function y(S,N,k){const D=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const x=D(N);if(!e.test(x))throw new TypeError(`argument val is invalid: ${N}`);let U=S+"="+x;if(!k)return U;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);U+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);U+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);U+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);U+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(U+="; HttpOnly"),k.secure&&(U+="; Secure"),k.partitioned&&(U+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return U}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return yl}$T();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $y="popstate";function zT(n={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=Zs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Vf("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof a=="string"?a:Ol(a))}function i(o,a){Hn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qT(e,t,i,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WT(){return Math.random().toString(36).substring(2,10)}function zy(n,e){return{usr:n.state,key:n.key,idx:e}}function Vf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:t,key:e&&e.key||i||WT()}}function Ol({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function qT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,y=w();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function w(){return(c.state||{idx:null}).idx}function T(){h="POP";let x=w(),U=x==null?null:x-y;y=x,p&&p({action:h,location:D.location,delta:U})}function S(x,U){h="PUSH";let M=Vf(D.location,x,U);t&&t(M,x),y=w()+1;let H=zy(M,y),Q=D.createHref(M);try{c.pushState(H,"",Q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(Q)}a&&p&&p({action:h,location:D.location,delta:1})}function N(x,U){h="REPLACE";let M=Vf(D.location,x,U);t&&t(M,x),y=w();let H=zy(M,y),Q=D.createHref(M);c.replaceState(H,"",Q),a&&p&&p({action:h,location:D.location,delta:0})}function k(x){let U=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof x=="string"?x:Ol(x);return M=M.replace(/ $/,"%20"),at(U,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,U)}let D={get action(){return h},get location(){return n(o,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($y,T),p=x,()=>{o.removeEventListener($y,T),p=null}},createHref(x){return e(o,x)},createURL:k,encodeLocation(x){let U=k(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:N,go(x){return c.go(x)}};return D}function Av(n,e,t="/"){return HT(n,e,t,!1)}function HT(n,e,t,i){let o=typeof e=="string"?Zs(e):e,a=Zi(o.pathname||"/",t);if(a==null)return null;let c=Pv(n);GT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=i1(a);h=n1(c[p],y,i)}return h}function Pv(n,e=[],t=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=ai([i,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Pv(a.children,e,w,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:e1(y,a.index),routesMeta:w})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of xv(a.path))o(a,c,p)}),e}function xv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=xv(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function GT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:t1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var KT=/^:[\w-]+$/,QT=3,YT=2,XT=1,JT=10,ZT=-2,Wy=n=>n==="*";function e1(n,e){let t=n.split("/"),i=t.length;return t.some(Wy)&&(i+=ZT),e&&(i+=YT),t.filter(o=>!Wy(o)).reduce((o,a)=>o+(KT.test(a)?QT:a===""?XT:JT),i)}function t1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function n1(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",T=Yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=Yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:ai([a,T.pathname]),pathnameBase:l1(ai([a,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(a=ai([a,T.pathnameBase]))}return c}function Yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=r1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:T},S)=>{if(w==="*"){let k=h[S]||"";c=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const N=h[S];return T&&!N?y[w]=void 0:y[w]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function r1(n,e=!1,t=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function i1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function s1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Zs(n):n;return{pathname:t?t.startsWith("/")?t:o1(t,e):e,search:u1(i),hash:c1(o)}}function o1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fp(n){let e=a1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pp(n,e,t,i=!1){let o;typeof n=="string"?o=Zs(n):(o={...n},at(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}h=T>=0?e[T]:"/"}let p=s1(o,h),y=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var ai=n=>n.join("/").replace(/\/\/+/g,"/"),l1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,c1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function d1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Nv=["POST","PUT","PATCH","DELETE"];new Set(Nv);var h1=["GET",...Nv];new Set(h1);var pa=O.createContext(null);pa.displayName="DataRouter";var md=O.createContext(null);md.displayName="DataRouterState";var bv=O.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var f1=O.createContext(new Map);f1.displayName="Fetchers";var p1=O.createContext(null);p1.displayName="Await";var pr=O.createContext(null);pr.displayName="Navigation";var Ql=O.createContext(null);Ql.displayName="Location";var mr=O.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var mp=O.createContext(null);mp.displayName="RouteError";function m1(n,{relative:e}={}){at(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(pr),{hash:o,pathname:a,search:c}=Yl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ai([t,a])),i.createHref({pathname:h,search:c,hash:o})}function ma(){return O.useContext(Ql)!=null}function gr(){return at(ma(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ql).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lv(n){O.useContext(pr).static||O.useLayoutEffect(n)}function as(){let{isDataRoute:n}=O.useContext(mr);return n?x1():g1()}function g1(){at(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(pa),{basename:e,navigator:t}=O.useContext(pr),{matches:i}=O.useContext(mr),{pathname:o}=gr(),a=JSON.stringify(fp(i)),c=O.useRef(!1);return Lv(()=>{c.current=!0}),O.useCallback((p,y={})=>{if(Hn(c.current,Dv),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=pp(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ai([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,a,o,n])}var y1=O.createContext(null);function _1(n){let e=O.useContext(mr).outlet;return e&&O.createElement(y1.Provider,{value:n},e)}function Yl(n,{relative:e}={}){let{matches:t}=O.useContext(mr),{pathname:i}=gr(),o=JSON.stringify(fp(t));return O.useMemo(()=>pp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function v1(n,e){return Ov(n,e)}function Ov(n,e,t,i){var U;at(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(pr),{matches:a}=O.useContext(mr),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",w=c&&c.route;{let M=w&&w.path||"";Mv(p,!w||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let T=gr(),S;if(e){let M=typeof e=="string"?Zs(e):e;at(y==="/"||((U=M.pathname)==null?void 0:U.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=T;let N=S.pathname||"/",k=N;if(y!=="/"){let M=y.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(M.length).join("/")}let D=Av(n,{pathname:k});Hn(w||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Hn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=S1(D&&D.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ai([y,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:ai([y,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,t,i);return e&&x?O.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},x):x}function w1(){let n=P1(),e=d1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,c)}var E1=O.createElement(w1,null),T1=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(mr.Provider,{value:this.props.routeContext},O.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I1({routeContext:n,match:e,children:t}){let i=O.useContext(pa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(mr.Provider,{value:n},t)}function S1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:w,errors:T}=t,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,S=!1,N=null,k=null;t&&(T=a&&y.route.id?a[y.route.id]:void 0,N=y.route.errorElement||E1,c&&(h<0&&w===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):h===w&&(S=!0,k=y.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,w+1)),x=()=>{let U;return T?U=N:S?U=k:y.route.Component?U=O.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,O.createElement(I1,{match:y,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?O.createElement(T1,{location:t.location,revalidation:t.revalidation,component:N,error:T,children:x(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):x()},null)}function gp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(n){let e=O.useContext(pa);return at(e,gp(n)),e}function R1(n){let e=O.useContext(md);return at(e,gp(n)),e}function k1(n){let e=O.useContext(mr);return at(e,gp(n)),e}function yp(n){let e=k1(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function A1(){return yp("useRouteId")}function P1(){var i;let n=O.useContext(mp),e=R1("useRouteError"),t=yp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function x1(){let{router:n}=C1("useNavigate"),e=yp("useNavigate"),t=O.useRef(!1);return Lv(()=>{t.current=!0}),O.useCallback(async(o,a={})=>{Hn(t.current,Dv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var qy={};function Mv(n,e,t){!e&&!qy[n]&&(qy[n]=!0,Hn(!1,t))}O.memo(N1);function N1({routes:n,future:e,state:t}){return Ov(n,void 0,t,e)}function Hy({to:n,replace:e,state:t,relative:i}){at(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(pr);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(mr),{pathname:c}=gr(),h=as(),p=pp(n,fp(a),c,i==="path"),y=JSON.stringify(p);return O.useEffect(()=>{h(JSON.parse(y),{replace:e,state:t,relative:i})},[h,y,i,e,t]),null}function b1(n){return _1(n.context)}function Nn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){at(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Zs(t));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:S="default"}=t,N=O.useMemo(()=>{let k=Zi(p,c);return k==null?null:{location:{pathname:k,search:y,hash:w,state:T,key:S},navigationType:i}},[c,p,y,w,T,S,i]);return Hn(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:O.createElement(pr.Provider,{value:h},O.createElement(Ql.Provider,{children:e,value:N}))}function L1({children:n,location:e}){return v1(Ff(n),e)}function Ff(n,e=[]){let t=[];return O.Children.forEach(n,(i,o)=>{if(!O.isValidElement(i))return;let a=[...e,o];if(i.type===O.Fragment){t.push.apply(t,Ff(i.props.children,a));return}at(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ff(i.props.children,a)),t.push(c)}),t}var Fc="get",jc="application/x-www-form-urlencoded";function gd(n){return n!=null&&typeof n.tagName=="string"}function O1(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function M1(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function V1(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function F1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function j1(n,e){return n.button===0&&(!e||e==="_self")&&!F1(n)}var kc=null;function U1(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!B1.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):n}function $1(n,e){let t,i,o,a,c;if(M1(n)){let h=n.getAttribute("action");i=h?Zi(h,e):null,t=n.getAttribute("method")||Fc,o=Tf(n.getAttribute("enctype"))||jc,a=new FormData(n)}else if(O1(n)||V1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Zi(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Fc,o=Tf(n.getAttribute("formenctype"))||Tf(h.getAttribute("enctype"))||jc,a=new FormData(h,n),!U1()){let{name:y,type:w,value:T}=n;if(w==="image"){let S=y?`${y}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else y&&a.append(y,T)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fc,i=null,o=jc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function _p(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function z1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function q1(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await z1(a,t);return c.links?c.links():[]}return[]}));return Q1(i.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gy(n,e,t,i,o,a){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):a==="data"?e.filter((p,y)=>{var T;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function H1(n,e){return G1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function G1(n){return[...new Set(n)]}function K1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Q1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(K1(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function Y1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function X1(){let n=O.useContext(pa);return _p(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function J1(){let n=O.useContext(md);return _p(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vp=O.createContext(void 0);vp.displayName="FrameworkContext";function Vv(){let n=O.useContext(vp);return _p(n,"You must render this element inside a <HydratedRouter> element"),n}function Z1(n,e){let t=O.useContext(vp),[i,o]=O.useState(!1),[a,c]=O.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,S=O.useRef(null);O.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=U=>{U.forEach(M=>{c(M.isIntersecting)})},x=new IntersectionObserver(D,{threshold:.5});return S.current&&x.observe(S.current),()=>{x.disconnect()}}},[n]),O.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let N=()=>{o(!0)},k=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:_l(h,N),onBlur:_l(p,k),onMouseEnter:_l(y,N),onMouseLeave:_l(w,k),onTouchStart:_l(T,N)}]:[!1,S,{}]}function _l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eI({page:n,...e}){let{router:t}=X1(),i=O.useMemo(()=>Av(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?O.createElement(nI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function tI(n){let{manifest:e,routeModules:t}=Vv(),[i,o]=O.useState([]);return O.useEffect(()=>{let a=!1;return q1(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function nI({page:n,matches:e,...t}){let i=gr(),{manifest:o,routeModules:a}=Vv(),{loaderData:c,matches:h}=J1(),p=O.useMemo(()=>Gy(n,e,h,o,i,"data"),[n,e,h,o,i]),y=O.useMemo(()=>Gy(n,e,h,o,i,"assets"),[n,e,h,o,i]),w=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,k=!1;if(e.forEach(x=>{var M;let U=o.routes[x.route.id];!U||!U.hasLoader||(!p.some(H=>H.route.id===x.route.id)&&x.route.id in c&&((M=a[x.route.id])!=null&&M.shouldRevalidate)||U.hasClientLoader?k=!0:N.add(x.route.id))}),N.size===0)return[];let D=Y1(n);return k&&N.size>0&&D.searchParams.set("_routes",e.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[c,i,o,p,e,n,a]),T=O.useMemo(()=>H1(y,o),[y,o]),S=tI(y);return O.createElement(O.Fragment,null,w.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),T.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),S.map(({key:N,link:k})=>O.createElement("link",{key:N,...k})))}function rI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fv&&(window.__reactRouterVersion="7.0.2")}catch{}function iI({basename:n,children:e,window:t}){let i=O.useRef();i.current==null&&(i.current=zT({window:t,v5Compat:!0}));let o=i.current,[a,c]=O.useState({action:o.action,location:o.location}),h=O.useCallback(p=>{O.startTransition(()=>c(p))},[c]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(D1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:y,preventScrollReset:w,viewTransition:T,...S},N){let{basename:k}=O.useContext(pr),D=typeof y=="string"&&jv.test(y),x,U=!1;if(typeof y=="string"&&D&&(x=y,Fv))try{let A=new URL(window.location.href),L=y.startsWith("//")?new URL(A.protocol+y):new URL(y),V=Zi(L.pathname,k);L.origin===A.origin&&V!=null?y=V+L.search+L.hash:U=!0}catch{Hn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=m1(y,{relative:o}),[H,Q,se]=Z1(i,S),ae=lI(y,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:T});function b(A){e&&e(A),A.defaultPrevented||ae(A)}let R=O.createElement("a",{...S,...se,href:x||M,onClick:U||a?e:b,ref:rI(N,Q),target:p,"data-discover":!D&&t==="render"?"true":void 0});return H&&!D?O.createElement(O.Fragment,null,R,O.createElement(eI,{page:M})):R});Wi.displayName="Link";var sI=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...y},w){let T=Yl(c,{relative:y.relative}),S=gr(),N=O.useContext(md),{navigator:k,basename:D}=O.useContext(pr),x=N!=null&&fI(T)&&h===!0,U=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,M=S.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(M=M.toLowerCase(),H=H?H.toLowerCase():null,U=U.toLowerCase()),H&&D&&(H=Zi(H,D)||H);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let se=M===U||!o&&M.startsWith(U)&&M.charAt(Q)==="/",ae=H!=null&&(H===U||!o&&H.startsWith(U)&&H.charAt(U.length)==="/"),b={isActive:se,isPending:ae,isTransitioning:x},R=se?e:void 0,A;typeof i=="function"?A=i(b):A=[i,se?"active":null,ae?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(b):a;return O.createElement(Wi,{...y,"aria-current":R,className:A,ref:w,style:L,to:c,viewTransition:h},typeof p=="function"?p(b):p)});sI.displayName="NavLink";var oI=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Fc,action:h,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...S},N)=>{let k=dI(),D=hI(h,{relative:y}),x=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&jv.test(h),M=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let Q=H.nativeEvent.submitter,se=(Q==null?void 0:Q.getAttribute("formmethod"))||c;k(Q||H.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:T})};return O.createElement("form",{ref:N,method:x,action:D,onSubmit:i?p:M,...S,"data-discover":!U&&n==="render"?"true":void 0})});oI.displayName="Form";function aI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(n){let e=O.useContext(pa);return at(e,aI(n)),e}function lI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=as(),p=gr(),y=Yl(n,{relative:a});return O.useCallback(w=>{if(j1(w,e)){w.preventDefault();let T=t!==void 0?t:Ol(p)===Ol(y);h(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,y,t,i,e,n,o,a,c])}var uI=0,cI=()=>`__${String(++uI)}__`;function dI(){let{router:n}=Uv("useSubmit"),{basename:e}=O.useContext(pr),t=A1();return O.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:y}=$1(i,e);if(o.navigate===!1){let w=o.fetcherKey||cI();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function hI(n,{relative:e}={}){let{basename:t}=O.useContext(pr),i=O.useContext(mr);at(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Yl(n||".",{relative:e})},c=gr();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let w=h.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ai([t,a.pathname])),Ol(a)}function fI(n,e={}){let t=O.useContext(bv);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Uv("useViewTransitionState"),o=Yl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yc(o.pathname,c)!=null||Yc(o.pathname,a)!=null}new TextEncoder;const pI="_sidebar_86llt_1",mI="_profileSection_86llt_19",gI="_navigation_86llt_35",yI="_avatar_86llt_43",_I="_userInfo_86llt_69",vI="_navList_86llt_125",wI="_navItem_86llt_143",EI="_navLink_86llt_151",TI="_createEventBtn_86llt_181",II="_dropdown_86llt_217",SI="_dropdownItem_86llt_257",CI="_logoutBtn_86llt_279",RI="_dashboardContainer_86llt_321",kI="_mainContent_86llt_329",AI="_welcomeContainer_86llt_361",PI="_welcomeTitle_86llt_381",xI="_welcomeText_86llt_401",NI="_hamburgerBtn_86llt_409",bI="_overlay_86llt_435",DI="_sidebarOpen_86llt_475",Ie={sidebar:pI,profileSection:mI,navigation:gI,avatar:yI,userInfo:_I,navList:vI,navItem:wI,navLink:EI,createEventBtn:TI,dropdown:II,dropdownItem:SI,logoutBtn:CI,dashboardContainer:RI,mainContent:kI,welcomeContainer:AI,welcomeTitle:PI,welcomeText:xI,hamburgerBtn:NI,overlay:bI,sidebarOpen:DI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},p)=>O.createElement("svg",{ref:p,...OI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Bv("lucide",o),...h},[...c.map(([y,w])=>O.createElement(y,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(n,e)=>{const t=O.forwardRef(({className:i,...o},a)=>O.createElement(MI,{ref:a,iconNode:e,className:Bv(`lucide-${LI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=mt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=mt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=mt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=mt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=mt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=mt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=mt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=mt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=mt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=a>>2,T=(a&3)<<4|h>>4;let S=(h&15)<<2|y>>6,N=y&63;p||(N=64,c||(S=64)),i.push(t[w],t[T],t[S],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||y==null||T==null)throw new XI;const S=a<<2|h>>4;if(i.push(S),y!==64){const N=h<<4&240|y>>2;if(i.push(N),T!==64){const k=y<<6&192|T;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(n){const e=Hv(n);return Gv.encodeByteArray(e,!0)},Xc=function(n){return JI(n).replace(/\./g,"")},Kv=function(n){try{return Gv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>ZI().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof Qy>"u")return;const n=Qy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Kv(n[1]);return e&&JSON.parse(e)},_d=()=>{try{return eS()||tS()||nS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qv=n=>{var e,t;return(t=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Yv=n=>{const e=Qv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Xv=()=>{var n;return(n=_d())===null||n===void 0?void 0:n.config},Jv=n=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function sS(){var n;const e=(n=_d())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="FirebaseError";class Mr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fS,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?pS(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Mr(o,h,i)}}function pS(n,e){return n.replace(mS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mS=/\{\$([^}]+)}/g;function gS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Yy(a)&&Yy(c)){if(!Jc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Yy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Il(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Sl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yS(n,e){const t=new _S(n,e);return t.subscribe.bind(t)}class _S{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");vS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n){return n&&n._delegate?n._delegate:n}class es{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new rS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(n){return n===Bs?void 0:n}function TS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const SS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},CS=Fe.INFO,RS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},kS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=RS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const AS=(n,e)=>e.some(t=>n instanceof t);let Xy,Jy;function PS(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,jf=new WeakMap,tw=new WeakMap,Sf=new WeakMap,Tp=new WeakMap;function NS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Yi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ew.set(t,n)}).catch(()=>{}),Tp.set(e,n),e}function bS(n){if(jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});jf.set(n,e)}let Uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DS(n){Uf=n(Uf)}function LS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cf(this),e,...t);return tw.set(i,e.sort?e.sort():[e]),Yi(i)}:xS().includes(n)?function(...e){return n.apply(Cf(this),e),Yi(ew.get(this))}:function(...e){return Yi(n.apply(Cf(this),e))}}function OS(n){return typeof n=="function"?LS(n):(n instanceof IDBTransaction&&bS(n),AS(n,PS())?new Proxy(n,Uf):n)}function Yi(n){if(n instanceof IDBRequest)return NS(n);if(Sf.has(n))return Sf.get(n);const e=OS(n);return e!==n&&(Sf.set(n,e),Tp.set(e,n)),e}const Cf=n=>Tp.get(n);function MS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Yi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Yi(c.result),p.oldVersion,p.newVersion,Yi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const VS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Rf=new Map;function Zy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=FS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||VS.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return Rf.set(e,a),a}DS(n=>({...n,get:(e,t,i)=>Zy(e,t)||n.get(e,t,i),has:(e,t)=>!!Zy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(US(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function US(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",e_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Ep("@firebase/app"),BS="@firebase/app-compat",$S="@firebase/analytics-compat",zS="@firebase/analytics",WS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",GS="@firebase/auth-compat",KS="@firebase/database",QS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",JS="@firebase/functions-compat",ZS="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",rC="@firebase/performance",iC="@firebase/performance-compat",sC="@firebase/remote-config",oC="@firebase/remote-config-compat",aC="@firebase/storage",lC="@firebase/storage-compat",uC="@firebase/firestore",cC="@firebase/vertexai",dC="@firebase/firestore-compat",hC="firebase",fC="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",pC={[Bf]:"fire-core",[BS]:"fire-core-compat",[zS]:"fire-analytics",[$S]:"fire-analytics-compat",[qS]:"fire-app-check",[WS]:"fire-app-check-compat",[HS]:"fire-auth",[GS]:"fire-auth-compat",[KS]:"fire-rtdb",[QS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[JS]:"fire-fn-compat",[ZS]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[rC]:"fire-perf",[iC]:"fire-perf-compat",[sC]:"fire-rc",[oC]:"fire-rc-compat",[aC]:"fire-gcs",[lC]:"fire-gcs-compat",[uC]:"fire-fst",[dC]:"fire-fst-compat",[cC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,mC=new Map,zf=new Map;function t_(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ks(n){const e=n.name;if(zf.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,n);for(const t of Zc.values())t_(t,n);for(const t of mC.values())t_(t,n);return!0}function vd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Xl("app","Firebase",gC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=fC;function ga(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$f,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=Xv()),!t)throw Xi.create("no-options");const a=Zc.get(o);if(a){if(Jc(t,a.options)&&Jc(i,a.config))return a;throw Xi.create("duplicate-app",{appName:o})}const c=new IS(o);for(const p of zf.values())c.addComponent(p);const h=new yC(t,i,c);return Zc.set(o,h),h}function Ip(n=$f){const e=Zc.get(n);if(!e&&n===$f&&Xv())return ga();if(!e)throw Xi.create("no-app",{appName:n});return e}function Nr(n,e,t){var i;let o=(i=pC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}Ks(new es(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebase-heartbeat-database",vC=1,Ml="firebase-heartbeat-store";let kf=null;function nw(){return kf||(kf=MS(_C,vC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),kf}async function wC(n){try{const t=(await nw()).transaction(Ml),i=await t.objectStore(Ml).get(rw(n));return await t.done,i}catch(e){if(e instanceof Mr)ci.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function n_(n,e){try{const i=(await nw()).transaction(Ml,"readwrite");await i.objectStore(Ml).put(e,rw(n)),await i.done}catch(t){if(t instanceof Mr)ci.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1024,TC=30*24*60*60*1e3;class IC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=TC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r_(),{heartbeatsToSend:i,unsentEntries:o}=SC(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ci.warn(t),""}}}function r_(){return new Date().toISOString().substring(0,10)}function SC(n,e=EC){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),i_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),i_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function i_(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){Ks(new es("platform-logger",e=>new jS(e),"PRIVATE")),Ks(new es("heartbeat",e=>new IC(e),"PRIVATE")),Nr(Bf,e_,n),Nr(Bf,e_,"esm2017"),Nr("fire-js","")}RC("");var kC="firebase",AC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(kC,AC,"app");function Sp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=iw,sw=new Xl("auth","Firebase",iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Ep("@firebase/auth");function xC(n,...e){ed.logLevel<=Fe.WARN&&ed.warn(`Auth (${eo}): ${n}`,...e)}function Uc(n,...e){ed.logLevel<=Fe.ERROR&&ed.error(`Auth (${eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,...e){throw Rp(n,...e)}function dr(n,...e){return Rp(n,...e)}function Cp(n,e,t){const i=Object.assign(Object.assign({},PC()),{[e]:t});return new Xl("auth","Firebase",i).create(e,{appName:n.name})}function li(n){return Cp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gn(n,"argument-error"),Cp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sw.create(n,...e)}function Se(n,e,...t){if(!n)throw Rp(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uc(e),new Error(e)}function di(n,e){n||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bC(){return s_()==="http:"||s_()==="https:"}function s_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||aS()||"connection"in navigator)?navigator.onLine:!0}function LC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=iS()||lS()}get(){return DC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Zl(3e4,6e4);function mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gi(n,e,t,i,o={}){return aw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Jl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return oS()||(y.referrerPolicy="no-referrer"),ow.fetch()(lw(n,n.config.apiHost,t,h),y)})}async function aw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},OC),e);try{const o=new FC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Pc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Pc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Pc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cp(n,w,y);Gn(n,w)}}catch(o){if(o instanceof Mr)throw o;Gn(n,"network-request-failed",{message:String(o)})}}async function eu(n,e,t,i,o={}){const a=await gi(n,e,t,i,o);return"mfaPendingCredential"in a&&Gn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function lw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?kp(n.config,o):`${n.config.apiScheme}://${o}`}function VC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(dr(this.auth,"network-request-failed")),MC.get())})}}function Pc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=dr(n,e,i);return o.customData._tokenResponse=t,o}function o_(n){return n!==void 0&&n.enterprise!==void 0}class jC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UC(n,e){return gi(n,"GET","/v2/recaptchaConfig",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){return gi(n,"POST","/v1/accounts:delete",e)}async function uw(n,e){return gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $C(n,e=!1){const t=it(n),i=await t.getIdToken(e),o=Ap(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Pl(Af(o.auth_time)),issuedAtTime:Pl(Af(o.iat)),expirationTime:Pl(Af(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Af(n){return Number(n)*1e3}function Ap(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kv(t);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function a_(n){const e=Ap(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mr&&zC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Vl(n,uw(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cw(a.providerUserInfo):[],h=HC(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),w=p?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new qf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function qC(n){const e=it(n);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function cw(n){return n.map(e=>{var{providerId:t}=e,i=Sp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){const t=await aw(n,{},async()=>{const i=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=lw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ow.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KC(n,e){return gi(n,"POST","/v2/accounts:revokeToken",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=a_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await GC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new na;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $C(this,e)}reload(){return qC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Vl(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,N=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(y=t.createdAt)!==null&&y!==void 0?y:void 0,M=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:H,emailVerified:Q,isAnonymous:se,providerData:ae,stsTokenManager:b}=t;Se(H&&b,e,"internal-error");const R=na.fromJSON(this.name,b);Se(typeof H=="string",e,"internal-error"),$i(T,e.name),$i(S,e.name),Se(typeof Q=="boolean",e,"internal-error"),Se(typeof se=="boolean",e,"internal-error"),$i(N,e.name),$i(k,e.name),$i(D,e.name),$i(x,e.name),$i(U,e.name),$i(M,e.name);const A=new ii({uid:H,auth:e,email:S,emailVerified:Q,displayName:T,isAnonymous:se,photoURL:k,phoneNumber:N,tenantId:D,stsTokenManager:R,createdAt:U,lastLoginAt:M});return ae&&Array.isArray(ae)&&(A.providerData=ae.map(L=>Object.assign({},L))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new ii({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await td(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new na;h.updateFromIdToken(i);const p=new ii({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new qf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function si(n){di(n instanceof Function,"Expected a class definition");let e=l_.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,l_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dw.type="NONE";const u_=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(si(u_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||si(u_);const c=Bc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const w=await y._get(c);if(w){const T=ii._fromJSON(e,w);y!==a&&(h=T),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ra(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yw(e))return"Blackberry";if(_w(e))return"Webos";if(fw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hw(n=tn()){return/firefox\//i.test(n)}function fw(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(n=tn()){return/crios\//i.test(n)}function mw(n=tn()){return/iemobile/i.test(n)}function gw(n=tn()){return/android/i.test(n)}function yw(n=tn()){return/blackberry/i.test(n)}function _w(n=tn()){return/webos/i.test(n)}function Pp(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QC(n=tn()){var e;return Pp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YC(){return uS()&&document.documentMode===10}function vw(n=tn()){return Pp(n)||gw(n)||_w(n)||yw(n)||/windows phone/i.test(n)||mw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e=[]){let t;switch(n){case"Browser":t=c_(tn());break;case"Worker":t=`${c_(tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(n,e={}){return gi(n,"GET","/v2/passwordPolicy",mi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6;class eR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:ZC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new XC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uw(this,{idToken:e}),i=await ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(li(this));const t=e?it(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),t=new eR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&xC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ls(n){return it(n)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nR(n){wd=n}function Ew(n){return wd.loadJS(n)}function rR(){return wd.recaptchaEnterpriseScript}function iR(){return wd.gapiScript}function sR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new aR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lR="recaptcha-enterprise",Tw="NO_RECAPTCHA";class uR{constructor(e){this.type=lR,this.auth=ls(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{UC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new jC(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;o_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(Tw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&o_(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rR();p.length!==0&&(p+=h),Ew(p).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function h_(n,e,t,i=!1,o=!1){const a=new uR(n);let c;if(o)c=Tw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Hf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await h_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await h_(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e){const t=vd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function dR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hR(n,e,t){const i=ls(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Iw(e),{host:c,port:h}=fR(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),pR()}function Iw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fR(n){const e=Iw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:f_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:f_(c)}}}function f_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function mR(n,e){return gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e){return eu(n,"POST","/v1/accounts:signInWithPassword",mi(n,e))}async function yR(n,e){return gi(n,"POST","/v1/accounts:sendOobCode",mi(n,e))}async function _R(n,e){return yR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))}async function wR(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends xp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,t,"signInWithPassword",gR);case"emailLink":return vR(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,i,"signUpPassword",mR);case"emailLink":return wR(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return eu(n,"POST","/v1/accounts:signInWithIdp",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="http://localhost";class Qs extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Sp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Qs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:ER,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IR(n){const e=Il(Sl(n)).link,t=e?Il(Sl(e)).deep_link_id:null,i=Il(Sl(n)).deep_link_id;return(i?Il(Sl(i)).link:null)||i||t||e||n}class Np{constructor(e){var t,i,o,a,c,h;const p=Il(Sl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=TR((o=p.mode)!==null&&o!==void 0?o:null);Se(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=IR(e);try{return new Np(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return Fl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Np.parseLink(t);return Se(i,"argument-error"),Fl._fromEmailAndCode(e,i.code,i.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends tu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ni.credential(t,i)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends tu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends tu{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gi.credential(t,i)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e){return eu(n,"POST","/v1/accounts:signUp",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ii._fromIdTokenResponse(e,i,o),c=p_(i);return new Ys({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=p_(i);return new Ys({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function p_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Mr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new nd(e,t,i,o)}}function Sw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(n,a,e,i):a})}async function CR(n,e,t=!1){const i=await Vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ys._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,e,t=!1){const{auth:i}=n;if(ur(i.app))return Promise.reject(li(i));const o="reauthenticate";try{const a=await Vl(n,Sw(i,o,e,n),t);Se(a.idToken,i,"internal-error");const c=Ap(a.idToken);Se(c,i,"internal-error");const{sub:h}=c;return Se(n.uid===h,i,"user-mismatch"),Ys._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(n,e,t=!1){if(ur(n.app))return Promise.reject(li(n));const i="signIn",o=await Sw(n,i,e),a=await Ys._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function kR(n,e){return Cw(ls(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(n){const e=ls(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kw(n,e,t){if(ur(n.app))return Promise.reject(li(n));const i=ls(n),c=await Hf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Rw(n),p}),h=await Ys._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function xc(n,e,t){return ur(n.app)?Promise.reject(li(n)):kR(it(n),ya.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Rw(n),i})}async function Aw(n,e){const t=it(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await _R(t.auth,o);a!==n.email&&await n.reload()}function AR(n,e,t,i){return it(n).onIdTokenChanged(e,t,i)}function PR(n,e,t){return it(n).beforeAuthStateChanged(e,t)}function jl(n){return it(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,NR=10;class xw extends Pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);YC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const bR=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nw.type="SESSION";const bw=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,a)),p=await DR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const y=Dp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(S.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function OR(n){br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function MR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FR(){return Dw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebaseLocalStorageDb",jR=1,id="firebaseLocalStorage",Ow="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function UR(){const n=indexedDB.deleteDatabase(Lw);return new nu(n).toPromise()}function Gf(){const n=indexedDB.open(Lw,jR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(id,{keyPath:Ow})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(id)?e(i):(i.close(),await UR(),e(await Gf()))})})}async function m_(n,e,t){const i=Td(n,!0).put({[Ow]:e,value:t});return new nu(i).toPromise()}async function BR(n,e){const t=Td(n,!1).get(e),i=await new nu(t).toPromise();return i===void 0?null:i.value}function g_(n,e){const t=Td(n,!0).delete(e);return new nu(t).toPromise()}const $R=800,zR=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MR(),!this.activeServiceWorker)return;this.sender=new LR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await m_(e,rd,"1"),await g_(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>BR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>g_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Td(o,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const WR=Mw;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e){return e?si(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qR(n){return Cw(n.auth,new Lp(n),n.bypassAuthState)}function HR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),RR(t,new Lp(n),n.bypassAuthState)}async function GR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),CR(t,new Lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return GR;case"reauthViaPopup":case"reauthViaRedirect":return HR;default:Gn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Zl(2e3,1e4);async function QR(n,e,t){if(ur(n.app))return Promise.reject(dr(n,"operation-not-supported-in-this-environment"));const i=ls(n);NC(n,e,bp);const o=Vw(i,t);return new Ws(i,"signInViaPopup",e,o).executeNotNull()}class Ws extends Fw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KR.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="pendingRedirect",$c=new Map;class XR extends Fw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const i=await JR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JR(n,e){const t=tk(e),i=ek(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ZR(n,e){$c.set(n._key(),e)}function ek(n){return si(n._redirectPersistence)}function tk(n){return Bc(YR,n.config.apiKey,n.name)}async function nk(n,e,t=!1){if(ur(n.app))return Promise.reject(li(n));const i=ls(n),o=Vw(i,e),c=await new XR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=10*60*1e3;class ik{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!jw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rk&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e={}){return gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lk=/^https?/;async function uk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ok(n);for(const t of e)try{if(ck(t))return}catch{}Gn(n,"unauthorized-domain")}function ck(n){const e=Wf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!lk.test(t))return!1;if(ak.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Zl(3e4,6e4);function __(){const n=br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hk(n){return new Promise((e,t)=>{var i,o,a;function c(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),t(dr(n,"network-request-failed"))},timeout:dk.get()})}if(!((o=(i=br().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=br().gapi)===null||a===void 0)&&a.load)c();else{const h=sR("iframefcb");return br()[h]=()=>{gapi.load?c():t(dr(n,"network-request-failed"))},Ew(`${iR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw zc=null,e})}let zc=null;function fk(n){return zc=zc||hk(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Zl(5e3,15e3),mk="__/auth/iframe",gk="emulator/auth/iframe",yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_k=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vk(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kp(e,gk):`https://${n.config.authDomain}/${mk}`,i={apiKey:e.apiKey,appName:n.name,v:eo},o=_k.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Jl(i).slice(1)}`}async function wk(n){const e=await fk(n),t=br().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:vk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=dr(n,"network-request-failed"),h=br().setTimeout(()=>{a(c)},pk.get());function p(){br().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tk=500,Ik=600,Sk="_blank",Ck="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rk(n,e,t,i=Tk,o=Ik){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Ek),{width:i.toString(),height:o.toString(),top:a,left:c}),y=tn().toLowerCase();t&&(h=pw(y)?Sk:t),hw(y)&&(e=e||Ck,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[N,k])=>`${S}${N}=${k},`,"");if(QC(y)&&h!=="_self")return kk(e||"",h),new v_(null);const T=window.open(e||"",h,w);Se(T,n,"popup-blocked");try{T.focus()}catch{}return new v_(T)}function kk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="__/auth/handler",Pk="emulator/auth/handler",xk=encodeURIComponent("fac");async function w_(n,e,t,i,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:eo,eventId:o};if(e instanceof bp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",gS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof tu){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),y=p?`#${xk}=${encodeURIComponent(p)}`:"";return`${Nk(n)}?${Jl(h).slice(1)}${y}`}function Nk({config:n}){return n.emulator?kp(n,Pk):`https://${n.authDomain}/${Ak}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=nk,this._overrideRedirectResult=ZR}async _openPopup(e,t,i,o){var a;di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await w_(e,t,i,Wf(),o);return Rk(e,c,Dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await w_(e,t,i,Wf(),o);return OR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(di(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wk(e),i=new ik(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vw()||fw()||Pp()}}const Dk=bk;var E_="@firebase/auth",T_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mk(n){Ks(new es("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(n)},y=new tR(i,o,a,p);return dR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ks(new es("auth-internal",e=>{const t=ls(e.getProvider("auth").getImmediate());return(i=>new Lk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(E_,T_,Ok(n)),Nr(E_,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=5*60,Fk=Jv("authIdTokenMaxAge")||Vk;let I_=null;const jk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Fk)return;const o=t==null?void 0:t.token;I_!==o&&(I_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vr(n=Ip()){const e=vd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cR(n,{popupRedirectResolver:Dk,persistence:[WR,bR,bw]}),i=Jv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=jk(a.toString());PR(t,c,()=>c(t.currentUser)),AR(t,h=>c(h))}}const o=Qv("auth");return o&&hR(t,`http://${o}`),t}function Uk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=dr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Uk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mk("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Uw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function A(){}A.prototype=R.prototype,b.D=R.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(L,V,j){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return R.prototype[V].apply(L,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,A){A||(A=0);var L=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)L[V]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(V=0;16>V;++V)L[V]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=b.g[0],A=b.g[1],V=b.g[2];var j=b.g[3],I=R+(j^A&(V^j))+L[0]+3614090360&4294967295;R=A+(I<<7&4294967295|I>>>25),I=j+(V^R&(A^V))+L[1]+3905402710&4294967295,j=R+(I<<12&4294967295|I>>>20),I=V+(A^j&(R^A))+L[2]+606105819&4294967295,V=j+(I<<17&4294967295|I>>>15),I=A+(R^V&(j^R))+L[3]+3250441966&4294967295,A=V+(I<<22&4294967295|I>>>10),I=R+(j^A&(V^j))+L[4]+4118548399&4294967295,R=A+(I<<7&4294967295|I>>>25),I=j+(V^R&(A^V))+L[5]+1200080426&4294967295,j=R+(I<<12&4294967295|I>>>20),I=V+(A^j&(R^A))+L[6]+2821735955&4294967295,V=j+(I<<17&4294967295|I>>>15),I=A+(R^V&(j^R))+L[7]+4249261313&4294967295,A=V+(I<<22&4294967295|I>>>10),I=R+(j^A&(V^j))+L[8]+1770035416&4294967295,R=A+(I<<7&4294967295|I>>>25),I=j+(V^R&(A^V))+L[9]+2336552879&4294967295,j=R+(I<<12&4294967295|I>>>20),I=V+(A^j&(R^A))+L[10]+4294925233&4294967295,V=j+(I<<17&4294967295|I>>>15),I=A+(R^V&(j^R))+L[11]+2304563134&4294967295,A=V+(I<<22&4294967295|I>>>10),I=R+(j^A&(V^j))+L[12]+1804603682&4294967295,R=A+(I<<7&4294967295|I>>>25),I=j+(V^R&(A^V))+L[13]+4254626195&4294967295,j=R+(I<<12&4294967295|I>>>20),I=V+(A^j&(R^A))+L[14]+2792965006&4294967295,V=j+(I<<17&4294967295|I>>>15),I=A+(R^V&(j^R))+L[15]+1236535329&4294967295,A=V+(I<<22&4294967295|I>>>10),I=R+(V^j&(A^V))+L[1]+4129170786&4294967295,R=A+(I<<5&4294967295|I>>>27),I=j+(A^V&(R^A))+L[6]+3225465664&4294967295,j=R+(I<<9&4294967295|I>>>23),I=V+(R^A&(j^R))+L[11]+643717713&4294967295,V=j+(I<<14&4294967295|I>>>18),I=A+(j^R&(V^j))+L[0]+3921069994&4294967295,A=V+(I<<20&4294967295|I>>>12),I=R+(V^j&(A^V))+L[5]+3593408605&4294967295,R=A+(I<<5&4294967295|I>>>27),I=j+(A^V&(R^A))+L[10]+38016083&4294967295,j=R+(I<<9&4294967295|I>>>23),I=V+(R^A&(j^R))+L[15]+3634488961&4294967295,V=j+(I<<14&4294967295|I>>>18),I=A+(j^R&(V^j))+L[4]+3889429448&4294967295,A=V+(I<<20&4294967295|I>>>12),I=R+(V^j&(A^V))+L[9]+568446438&4294967295,R=A+(I<<5&4294967295|I>>>27),I=j+(A^V&(R^A))+L[14]+3275163606&4294967295,j=R+(I<<9&4294967295|I>>>23),I=V+(R^A&(j^R))+L[3]+4107603335&4294967295,V=j+(I<<14&4294967295|I>>>18),I=A+(j^R&(V^j))+L[8]+1163531501&4294967295,A=V+(I<<20&4294967295|I>>>12),I=R+(V^j&(A^V))+L[13]+2850285829&4294967295,R=A+(I<<5&4294967295|I>>>27),I=j+(A^V&(R^A))+L[2]+4243563512&4294967295,j=R+(I<<9&4294967295|I>>>23),I=V+(R^A&(j^R))+L[7]+1735328473&4294967295,V=j+(I<<14&4294967295|I>>>18),I=A+(j^R&(V^j))+L[12]+2368359562&4294967295,A=V+(I<<20&4294967295|I>>>12),I=R+(A^V^j)+L[5]+4294588738&4294967295,R=A+(I<<4&4294967295|I>>>28),I=j+(R^A^V)+L[8]+2272392833&4294967295,j=R+(I<<11&4294967295|I>>>21),I=V+(j^R^A)+L[11]+1839030562&4294967295,V=j+(I<<16&4294967295|I>>>16),I=A+(V^j^R)+L[14]+4259657740&4294967295,A=V+(I<<23&4294967295|I>>>9),I=R+(A^V^j)+L[1]+2763975236&4294967295,R=A+(I<<4&4294967295|I>>>28),I=j+(R^A^V)+L[4]+1272893353&4294967295,j=R+(I<<11&4294967295|I>>>21),I=V+(j^R^A)+L[7]+4139469664&4294967295,V=j+(I<<16&4294967295|I>>>16),I=A+(V^j^R)+L[10]+3200236656&4294967295,A=V+(I<<23&4294967295|I>>>9),I=R+(A^V^j)+L[13]+681279174&4294967295,R=A+(I<<4&4294967295|I>>>28),I=j+(R^A^V)+L[0]+3936430074&4294967295,j=R+(I<<11&4294967295|I>>>21),I=V+(j^R^A)+L[3]+3572445317&4294967295,V=j+(I<<16&4294967295|I>>>16),I=A+(V^j^R)+L[6]+76029189&4294967295,A=V+(I<<23&4294967295|I>>>9),I=R+(A^V^j)+L[9]+3654602809&4294967295,R=A+(I<<4&4294967295|I>>>28),I=j+(R^A^V)+L[12]+3873151461&4294967295,j=R+(I<<11&4294967295|I>>>21),I=V+(j^R^A)+L[15]+530742520&4294967295,V=j+(I<<16&4294967295|I>>>16),I=A+(V^j^R)+L[2]+3299628645&4294967295,A=V+(I<<23&4294967295|I>>>9),I=R+(V^(A|~j))+L[0]+4096336452&4294967295,R=A+(I<<6&4294967295|I>>>26),I=j+(A^(R|~V))+L[7]+1126891415&4294967295,j=R+(I<<10&4294967295|I>>>22),I=V+(R^(j|~A))+L[14]+2878612391&4294967295,V=j+(I<<15&4294967295|I>>>17),I=A+(j^(V|~R))+L[5]+4237533241&4294967295,A=V+(I<<21&4294967295|I>>>11),I=R+(V^(A|~j))+L[12]+1700485571&4294967295,R=A+(I<<6&4294967295|I>>>26),I=j+(A^(R|~V))+L[3]+2399980690&4294967295,j=R+(I<<10&4294967295|I>>>22),I=V+(R^(j|~A))+L[10]+4293915773&4294967295,V=j+(I<<15&4294967295|I>>>17),I=A+(j^(V|~R))+L[1]+2240044497&4294967295,A=V+(I<<21&4294967295|I>>>11),I=R+(V^(A|~j))+L[8]+1873313359&4294967295,R=A+(I<<6&4294967295|I>>>26),I=j+(A^(R|~V))+L[15]+4264355552&4294967295,j=R+(I<<10&4294967295|I>>>22),I=V+(R^(j|~A))+L[6]+2734768916&4294967295,V=j+(I<<15&4294967295|I>>>17),I=A+(j^(V|~R))+L[13]+1309151649&4294967295,A=V+(I<<21&4294967295|I>>>11),I=R+(V^(A|~j))+L[4]+4149444226&4294967295,R=A+(I<<6&4294967295|I>>>26),I=j+(A^(R|~V))+L[11]+3174756917&4294967295,j=R+(I<<10&4294967295|I>>>22),I=V+(R^(j|~A))+L[2]+718787259&4294967295,V=j+(I<<15&4294967295|I>>>17),I=A+(j^(V|~R))+L[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+j&4294967295}i.prototype.u=function(b,R){R===void 0&&(R=b.length);for(var A=R-this.blockSize,L=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=A;)o(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<R;)if(L[V++]=b.charCodeAt(j++),V==this.blockSize){o(this,L),V=0;break}}else for(;j<R;)if(L[V++]=b[j++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;var A=8*this.o;for(R=b.length-8;R<b.length;++R)b[R]=A&255,A/=256;for(this.u(b),b=Array(16),R=A=0;4>R;++R)for(var L=0;32>L;L+=8)b[A++]=this.g[R]>>>L&255;return b};function a(b,R){var A=h;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=R(b)}function c(b,R){this.h=R;for(var A=[],L=!0,V=b.length-1;0<=V;V--){var j=b[V]|0;L&&j==R||(A[V]=j,L=!1)}this.g=A}var h={};function p(b){return-128<=b&&128>b?a(b,function(R){return new c([R|0],0>R?-1:0)}):new c([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return x(y(-b));for(var R=[],A=1,L=0;b>=A;L++)R[L]=b/A|0,A*=4294967296;return new c(R,0)}function w(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return x(w(b.substring(1),R));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(R,8)),L=T,V=0;V<b.length;V+=8){var j=Math.min(8,b.length-V),I=parseInt(b.substring(V,V+j),R);8>j?(j=y(Math.pow(R,j)),L=L.j(j).add(y(I))):(L=L.j(A),L=L.add(y(I)))}return L}var T=p(0),S=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(D(this))return-x(this).m();for(var b=0,R=1,A=0;A<this.g.length;A++){var L=this.i(A);b+=(0<=L?L:4294967296+L)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k(this))return"0";if(D(this))return"-"+x(this).toString(b);for(var R=y(Math.pow(b,6)),A=this,L="";;){var V=Q(A,R).g;A=U(A,V.j(R));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=V,k(A))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function k(b){if(b.h!=0)return!1;for(var R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function D(b){return b.h==-1}n.l=function(b){return b=U(this,b),D(b)?-1:k(b)?0:1};function x(b){for(var R=b.g.length,A=[],L=0;L<R;L++)A[L]=~b.g[L];return new c(A,~b.h).add(S)}n.abs=function(){return D(this)?x(this):this},n.add=function(b){for(var R=Math.max(this.g.length,b.g.length),A=[],L=0,V=0;V<=R;V++){var j=L+(this.i(V)&65535)+(b.i(V)&65535),I=(j>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);L=I>>>16,j&=65535,I&=65535,A[V]=I<<16|j}return new c(A,A[A.length-1]&-2147483648?-1:0)};function U(b,R){return b.add(x(R))}n.j=function(b){if(k(this)||k(b))return T;if(D(this))return D(b)?x(this).j(x(b)):x(x(this).j(b));if(D(b))return x(this.j(x(b)));if(0>this.l(N)&&0>b.l(N))return y(this.m()*b.m());for(var R=this.g.length+b.g.length,A=[],L=0;L<2*R;L++)A[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<b.g.length;V++){var j=this.i(L)>>>16,I=this.i(L)&65535,le=b.i(V)>>>16,Ve=b.i(V)&65535;A[2*L+2*V]+=I*Ve,M(A,2*L+2*V),A[2*L+2*V+1]+=j*Ve,M(A,2*L+2*V+1),A[2*L+2*V+1]+=I*le,M(A,2*L+2*V+1),A[2*L+2*V+2]+=j*le,M(A,2*L+2*V+2)}for(L=0;L<R;L++)A[L]=A[2*L+1]<<16|A[2*L];for(L=R;L<2*R;L++)A[L]=0;return new c(A,0)};function M(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function H(b,R){this.g=b,this.h=R}function Q(b,R){if(k(R))throw Error("division by zero");if(k(b))return new H(T,T);if(D(b))return R=Q(x(b),R),new H(x(R.g),x(R.h));if(D(R))return R=Q(b,x(R)),new H(x(R.g),R.h);if(30<b.g.length){if(D(b)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var A=S,L=R;0>=L.l(b);)A=se(A),L=se(L);var V=ae(A,1),j=ae(L,1);for(L=ae(L,2),A=ae(A,2);!k(L);){var I=j.add(L);0>=I.l(b)&&(V=V.add(A),j=I),L=ae(L,1),A=ae(A,1)}return R=U(b,V.j(R)),new H(V,R)}for(V=T;0<=b.l(R);){for(A=Math.max(1,Math.floor(b.m()/R.m())),L=Math.ceil(Math.log(A)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=y(A),I=j.j(R);D(I)||0<I.l(b);)A-=L,j=y(A),I=j.j(R);k(j)&&(j=S),V=V.add(j),b=U(b,I)}return new H(V,b)}n.A=function(b){return Q(this,b).h},n.and=function(b){for(var R=Math.max(this.g.length,b.g.length),A=[],L=0;L<R;L++)A[L]=this.i(L)&b.i(L);return new c(A,this.h&b.h)},n.or=function(b){for(var R=Math.max(this.g.length,b.g.length),A=[],L=0;L<R;L++)A[L]=this.i(L)|b.i(L);return new c(A,this.h|b.h)},n.xor=function(b){for(var R=Math.max(this.g.length,b.g.length),A=[],L=0;L<R;L++)A[L]=this.i(L)^b.i(L);return new c(A,this.h^b.h)};function se(b){for(var R=b.g.length+1,A=[],L=0;L<R;L++)A[L]=b.i(L)<<1|b.i(L-1)>>>31;return new c(A,b.h)}function ae(b,R){var A=R>>5;R%=32;for(var L=b.g.length-A,V=[],j=0;j<L;j++)V[j]=0<R?b.i(j+A)>>>R|b.i(j+A+1)<<32-R:b.i(j+A);return new c(V,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Uw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,Hs=c}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bw,Cl,$w,Wc,Kf,zw,Ww,qw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var C=0;C<u.length-1;C++){var z=u[C];if(!(z in v))break e;v=v[z]}u=u[u.length-1],C=v[u],m=m(C),m!=C&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,C=!1,z={next:function(){if(!C&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return C=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,C),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function N(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function k(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(C,z,K){for(var oe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)oe[Qe-2]=arguments[Qe];return m.prototype[z].apply(C,oe)}}function D(u){const m=u.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=u[C];return v}return[]}function x(u,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(p(C)){const z=u.length||0,K=C.length||0;u.length=z+K;for(let oe=0;oe<K;oe++)u[z+oe]=C[oe]}else u.push(C)}}class U{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var se=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(u,m,v){for(const C in u)m.call(v,u[C],C,u)}function b(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let v,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(v in C)u[v]=C[v];for(let K=0;K<A.length;K++)v=A[K],Object.prototype.hasOwnProperty.call(C,v)&&(u[v]=C[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){h.setTimeout(()=>{throw u},0)}function I(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,v){const C=Ve.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var Ve=new U(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ie=!1,me=new le,ue=()=>{const u=h.Promise.resolve(void 0);De=()=>{u.then($)}};var $=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(v){j(v)}var m=Ve;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function be(u,m){if(ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(se){e:{try{Q(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}k(be,ve);var Me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ce(u,m,v,C,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=z,this.key=++ne,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Je(u){this.src=u,this.g={},this.h=0}Je.prototype.add=function(u,m,v,C,z){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var oe=yt(u,m,C,z);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new ce(m,this.src,K,!!C,z),m.fa=v,u.push(m)),m};function Tn(u,m){var v=m.type;if(v in u.g){var C=u.g[v],z=Array.prototype.indexOf.call(C,m,void 0),K;(K=0<=z)&&Array.prototype.splice.call(C,z,1),K&&(ke(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yt(u,m,v,C){for(var z=0;z<u.length;++z){var K=u[z];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==C)return z}return-1}var Gt="closure_lm_"+(1e6*Math.random()|0),Fr={};function ds(u,m,v,C,z){if(Array.isArray(m)){for(var K=0;K<m.length;K++)ds(u,m[K],v,C,z);return null}return v=Ca(v),u&&u[$e]?u.K(m,v,y(C)?!!C.capture:!!C,z):hs(u,m,v,!1,C,z)}function hs(u,m,v,C,z,K){if(!m)throw Error("Invalid event type");var oe=y(z)?!!z.capture:!!z,Qe=so(u);if(Qe||(u[Gt]=Qe=new Je(u)),v=Qe.add(m,v,C,oe,K),v.proxy)return v;if(C=du(),v.proxy=C,C.src=u,C.listener=v,u.addEventListener)Ne||(z=oe),z===void 0&&(z=!1),u.addEventListener(m.toString(),C,z);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function du(){function u(v){return m.call(u.src,u.listener,v)}const m=Sa;return u}function io(u,m,v,C,z){if(Array.isArray(m))for(var K=0;K<m.length;K++)io(u,m[K],v,C,z);else C=y(C)?!!C.capture:!!C,v=Ca(v),u&&u[$e]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=yt(K,v,C,z),-1<v&&(ke(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=so(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,v,C,z)),(v=-1<u?m[u]:null)&&jr(v))}function jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[$e])Tn(m.i,u);else{var v=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(v,C,u.capture):m.detachEvent?m.detachEvent(Ur(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=so(m))?(Tn(v,u),v.h==0&&(v.src=null,m[Gt]=null)):ke(u)}}}function Ur(u){return u in Fr?Fr[u]:Fr[u]="on"+u}function Sa(u,m){if(u.da)u=!0;else{m=new be(m,this);var v=u.listener,C=u.ha||u.src;u.fa&&jr(u),u=v.call(C,m)}return u}function so(u){return u=u[Gt],u instanceof Je?u:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function Ct(){Y.call(this),this.i=new Je(this),this.M=this,this.F=null}k(Ct,Y),Ct.prototype[$e]=!0,Ct.prototype.removeEventListener=function(u,m,v,C){io(this,u,m,v,C)};function Rt(u,m){var v,C=u.F;if(C)for(v=[];C;C=C.F)v.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new ve(m,u);else if(m instanceof ve)m.target=m.target||u;else{var z=m;m=new ve(C,u),L(m,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var oe=m.g=v[K];z=Br(oe,C,!0,m)&&z}if(oe=m.g=u,z=Br(oe,C,!0,m)&&z,z=Br(oe,C,!1,m)&&z,v)for(K=0;K<v.length;K++)oe=m.g=v[K],z=Br(oe,C,!1,m)&&z}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],C=0;C<v.length;C++)ke(v[C]);delete u.g[m],u.h--}}this.F=null},Ct.prototype.K=function(u,m,v,C){return this.i.add(String(u),m,!1,v,C)},Ct.prototype.L=function(u,m,v,C){return this.i.add(String(u),m,!0,v,C)};function Br(u,m,v,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,K=0;K<m.length;++K){var oe=m[K];if(oe&&!oe.da&&oe.capture==v){var Qe=oe.listener,kt=oe.ha||oe.src;oe.fa&&Tn(u.i,oe),z=Qe.call(kt,C)!==!1&&z}}return z&&!C.defaultPrevented}function Ra(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function _i(u){u.g=Ra(()=>{u.g=null,u.i&&(u.i=!1,_i(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fs extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(u){Y.call(this),this.h=u,this.g={}}k(ps,Y);var ka=[];function Aa(u){ae(u.g,function(m,v){this.g.hasOwnProperty(v)&&jr(m)},u),u.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Aa(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=h.JSON.stringify,xa=h.JSON.parse,Na=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function ms(){}ms.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function lo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ve.call(this,"d")}k(_r,ve);function uo(){ve.call(this,"c")}k(uo,ve);var vr={},ba=null;function gs(){return ba=ba||new Ct}vr.La="serverreachability";function Da(u){ve.call(this,vr.La,u)}k(Da,ve);function $r(u){const m=gs();Rt(m,new Da(m))}vr.STAT_EVENT="statevent";function La(u,m){ve.call(this,vr.STAT_EVENT,u),this.stat=m}k(La,ve);function _t(u){const m=gs();Rt(m,new La(m,u))}vr.Ma="timingevent";function co(u,m){ve.call(this,vr.Ma,u),this.size=m}k(co,ve);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function _s(u,m,v,C,z,K){u.info(function(){if(u.g)if(K)for(var oe="",Qe=K.split("&"),kt=0;kt<Qe.length;kt++){var ze=Qe[kt].split("=");if(1<ze.length){var bt=ze[0];ze=ze[1];var Et=bt.split("_");oe=2<=Et.length&&Et[1]=="type"?oe+(bt+"="+ze+"&"):oe+(bt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+m+`
`+v+`
`+oe})}function ho(u,m,v,C,z,K,oe){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+m+`
`+v+`
`+K+" "+oe})}function Qn(u,m,v,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zd(u,v)+(C?" "+C:"")})}function Oa(u,m){u.info(function(){return"TIMEOUT: "+m})}ys.prototype.info=function(){};function zd(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var C=v[u];if(!(2>C.length)){var z=C[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Pa(v)}catch{return m}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function vs(){}k(vs,ms),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},Yn=new vs;function Xn(u,m,v,C){this.j=u,this.i=m,this.l=v,this.R=C||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fu}function fu(){this.i=null,this.g="",this.h=!1}var Ma={},po={};function mo(u,m,v){u.L=1,u.v=Ii(Sn(m)),u.m=v,u.P=!0,Va(u,null)}function Va(u,m){u.F=Date.now(),Ze(u),u.A=Sn(u.v);var v=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),Ci(v.i,"t",C),u.C=0,v=u.j.J,u.h=new fu,u.g=Nu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new fs(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,C=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(ka[0]=z.toString()),z=ka);for(var K=0;K<z.length;K++){var oe=ds(v,z[K],C||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$r(),_s(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&cn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Et=cn(this.g);var m=this.g.Ba();const Vn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||Et!=4||m==7||(m==8||0>=Vn?$r(3):$r(2)),ws(this);var v=this.g.Z();this.X=v;t:if(pu(this)){var C=za(this.g);u="";var z=C.length,K=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),vi(this);var oe="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(K&&m==z-1)});C.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,ho(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,kt=this.g;if((Qe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Qe)){var ze=Qe;break t}}ze=null}if(v=ze)Qn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,v);else{this.o=!1,this.s=3,_t(12),On(this),vi(this);break e}}if(this.P){v=!0;let Rn;for(;!this.J&&this.C<oe.length;)if(Rn=Wd(this,oe),Rn==po){Et==4&&(this.s=4,_t(14),v=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Ma){this.s=4,_t(15),Qn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Qn(this.i,this.l,Rn,null),Fa(this,Rn);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||oe.length!=0||this.h.h||(this.s=1,_t(16),v=!1),this.o=this.o&&v,!v)Qn(this.i,this.l,oe,"[Invalid Chunked Response]"),On(this),vi(this);else if(0<oe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),qa(bt),bt.M=!0,_t(11))}}else Qn(this.i,this.l,oe,null),Fa(this,oe);Et==4&&On(this),this.o&&!this.J&&(Et==4?Ro(this.j,this):(this.o=!1,Ze(this)))}else Eo(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),On(this),vi(this)}}}catch{}finally{}};function pu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wd(u,m){var v=u.C,C=m.indexOf(`
`,v);return C==-1?po:(v=Number(m.substring(v,C)),isNaN(v)?Ma:(C+=1,C+v>m.length?po:(m=m.slice(C,C+v),u.C=C+v,m)))}Xn.prototype.cancel=function(){this.J=!0,On(this)};function Ze(u){u.S=Date.now()+u.I,mu(u,u.I)}function mu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Kn(S(u.ba,u),m)}function ws(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oa(this.i,this.A),this.L!=2&&($r(),_t(17)),On(this),this.s=2,vi(this)):mu(this,this.S-u)};function vi(u){u.j.G==0||u.J||Ro(u.j,u)}function On(u){ws(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Aa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||nn(v.h,u))){if(!u.K&&nn(v.h,u)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Co(v),nr(v);else break e;So(v),_t(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Kn(S(v.Za,v),6e3));if(1>=yu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gr(v,11)}else if((u.K||v.g==u)&&Co(v),!M(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let ze=z[m];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const bt=ze[3];bt!=null&&(v.la=bt,v.j.info("VER="+v.la));const Et=ze[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const Vn=ze[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(C=1.5*Vn,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Rn=u.g;if(Rn){const ks=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var K=C.h;K.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ja(K,K.h),K.h=null))}if(C.D){const Ao=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(C.ya=Ao,Xe(C.I,C.D,Ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var oe=u;if(C.qa=xu(C,C.J?C.ia:null,C.W),oe.K){_u(C.h,oe);var Qe=oe,kt=C.L;kt&&(Qe.I=kt),Qe.B&&(ws(Qe),Ze(Qe)),C.g=oe}else Rs(C);0<v.i.length&&Ir(v)}else ze[0]!="stop"&&ze[0]!="close"||Gr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Gr(v,7):Ft(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}$r(4)}catch{}}var gu=class{constructor(u,m){this.g=u,this.map=m}};function Es(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yu(u){return u.h?1:u.g?u.g.size:0}function nn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ja(u,m){u.g?u.g.add(m):u.h=m}function _u(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Es.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return D(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,C=0;C<v;C++)m.push(u[C]);return m}m=[],v=0;for(C in u)m[v++]=u[C];return m}function yo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const C in u)m[v++]=C;return m}}}function wi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=yo(u),C=go(u),z=C.length,K=0;K<z;K++)m.call(void 0,C[K],v&&v[K],u)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var C=u[v].indexOf("="),z=null;if(0<=C){var K=u[v].substring(0,C);z=u[v].substring(C+1)}else K=u[v];m(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function zr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof zr){this.h=u.h,Is(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.s),this.l=u.l;var m=u.i,v=new wr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ti(this,v),this.m=u.m}else u&&(m=String(u).match(Ts))?(this.h=!1,Is(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),Ei(this,m[4]),this.l=Ue(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}zr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Si(m,_o,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Si(m,_o,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Si(v,v.charAt(0)=="/"?Tu:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Si(v,Ua)),u.join("")};function Sn(u){return new zr(u)}function Is(u,m,v){u.j=v?Ue(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,v){m instanceof wr?(u.i=m,Er(u.i,u.h)):(v||(m=Si(m,Iu)),u.i=new wr(m,u.h))}function Xe(u,m,v){u.i.set(m,v)}function Ii(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Si(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Iu=/[#\?@]/g,Ua=/#/g;function wr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&qd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=wr.prototype,n.add=function(u,m){Vt(this),this.i=null,u=Mn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Jn(u,m){Vt(u),m=Mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zn(u,m){return Vt(u),m=Mn(u,m),u.g.has(m)}n.forEach=function(u,m){Vt(this),this.g.forEach(function(v,C){v.forEach(function(z){u.call(m,z,C,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const z=u[C];for(let K=0;K<z.length;K++)v.push(m[C])}return v},n.V=function(u){Vt(this);let m=[];if(typeof u=="string")Zn(this,u)&&(m=m.concat(this.g.get(Mn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Vt(this),this.i=null,u=Mn(this,u),Zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ci(u,m,v){Jn(u,m),0<v.length&&(u.i=null,u.g.set(Mn(u,m),D(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const K=encodeURIComponent(String(C)),oe=this.V(C);for(C=0;C<oe.length;C++){var z=K;oe[C]!==""&&(z+="="+encodeURIComponent(String(oe[C]))),u.push(z)}}return this.i=u.join("&")};function Mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Er(u,m){m&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(v,C){var z=C.toLowerCase();C!=z&&(Jn(this,C),Ci(this,z,v))},u)),u.j=m}function Hd(u,m){const v=new ys;if(h.Image){const C=new Image;C.onload=N(un,v,"TestLoadImage: loaded",!0,m,C),C.onerror=N(un,v,"TestLoadImage: error",!1,m,C),C.onabort=N(un,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=N(un,v,"TestLoadImage: timeout",!1,m,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function Su(u,m){const v=new ys,C=new AbortController,z=setTimeout(()=>{C.abort(),un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(K=>{clearTimeout(z),K.ok?un(v,"TestPingServer: ok",!0,m):un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),un(v,"TestPingServer: error",!1,m)})}function un(u,m,v,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(v)}catch{}}function Gd(){this.g=new Na}function Cu(u,m,v){const C=v||"";try{wi(u,function(z,K){let oe=z;y(z)&&(oe=Pa(z)),m.push(C+K+"="+encodeURIComponent(oe))})}catch(z){throw m.push(C+"type="+encodeURIComponent("_badmap")),z}}function Wr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Wr,ms),Wr.prototype.g=function(){return new Ss(this.l,this.j)},Wr.prototype.i=function(u){return function(){return u}}({});function Ss(u,m){Ct.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ss,Ct),n=Ss.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?er(this):tr(this),this.readyState==3&&Ru(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},n.Qa=function(u){this.g&&(this.response=u,er(this))},n.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qr(u){let m="";return ae(u,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function Ri(u,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=qr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Xe(u,m,v))}function st(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(st,Ct);var Kd=/^https?$/i,Ba=["POST","PUT"];n=st.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?ao(this.o):ao(Yn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Cs(this,K);return}if(u=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)v.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())v.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ba,m,void 0))||C||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of v)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Cs(this,K)}};function Cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,vo(u),Cn(u)}function vo(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),Cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||cn(u)!=4||u.Z()!=2)){if(u.u&&cn(u)==4)Ra(u.Ea,0,u);else if(Rt(u,"readystatechange"),cn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=oe===0){var z=String(u.D).match(Ts)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),C=!Kd.test(z?z.toLowerCase():"")}v=C}if(v)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var K=2<cn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",vo(u)}}finally{Cn(u)}}}}function Cn(u,m){if(u.g){wo(u);const v=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Rt(u,"ready");try{v.onreadystatechange=C}catch{}}}function wo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function cn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xa(m)}};function za(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(u){const m={};u=(u.g&&2<=cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(M(u[C]))continue;var v=V(u[C]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[z]||[];m[z]=K,K.push(v)}b(m,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Wa(u){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,u),this.cb=Tr("retryDelaySeedMs",1e4,u),this.Wa=Tr("forwardChannelMaxRetries",2,u),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(u&&u.concurrentRequestLimit),this.Da=new Gd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,C){_t(0),this.W=u,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=xu(this,null,this.W),Ir(this)};function Ft(u){if(To(u),u.G==3){var m=u.U++,v=Sn(u.I);if(Xe(v,"SID",u.K),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),Hr(u,v),m=new Xn(u,u.j,m),m.L=2,m.v=Ii(Sn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ze(m)}Pu(u)}function nr(u){u.g&&(qa(u),u.g.cancel(),u.g=null)}function To(u){nr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Ir(u){if(!In(u.h)&&!u.s){u.s=!0;var m=u.Ga;De||ue(),ie||(De(),ie=!0),me.add(m,u),u.B=0}}function Qd(u,m){return yu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Kn(S(u.Ga,u,m),Au(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Xn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=R(K),L(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ki(this,z,m),v=Sn(this.I),Xe(v,"RID",u),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Hr(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(qr(K)))+"&"+m:this.m&&Ri(v,this.m,K)),ja(this.h,z),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",m),Xe(v,"SID","null"),z.T=!0,mo(z,v,null)):mo(z,v,m),this.G=2}}else this.G==3&&(u?Io(this,u):this.i.length==0||In(this.h)||Io(this))};function Io(u,m){var v;m?v=m.l:v=u.U++;const C=Sn(u.I);Xe(C,"SID",u.K),Xe(C,"RID",v),Xe(C,"AID",u.T),Hr(u,C),u.m&&u.o&&Ri(C,u.m,u.o),v=new Xn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ki(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,v),mo(v,C,m)}function Hr(u,m){u.H&&ae(u.H,function(v,C){Xe(m,C,v)}),u.l&&wi({},function(v,C){Xe(m,C,v)})}function ki(u,m,v){v=Math.min(u.i.length,v);var C=u.l?S(u.l.Na,u.l,u):null;e:{var z=u.i;let K=-1;for(;;){const oe=["count="+v];K==-1?0<v?(K=z[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Qe=!0;for(let kt=0;kt<v;kt++){let ze=z[kt].g;const bt=z[kt].map;if(ze-=K,0>ze)K=Math.max(0,z[kt].g-100),Qe=!1;else try{Cu(bt,oe,"req"+ze+"_")}catch{C&&C(bt)}}if(Qe){C=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,C}function Rs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;De||ue(),ie||(De(),ie=!0),me.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Kn(S(u.Fa,u),Au(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Kn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),nr(this),ku(this))};function qa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function ku(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Sn(u.qa);Xe(m,"RID","rpc"),Xe(m,"SID",u.K),Xe(m,"AID",u.T),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(m,"TO",u.ja),Xe(m,"TYPE","xmlhttp"),Hr(u,m),u.m&&u.o&&Ri(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ii(Sn(m)),v.m=null,v.P=!0,Va(v,u)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),So(this),_t(19))};function Co(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ro(u,m){var v=null;if(u.g==m){Co(u),qa(u),u.g=null;var C=2}else if(nn(u.h,m))v=m.D,_u(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;C=gs(),Rt(C,new co(C,v)),Ir(u)}else Rs(u);else if(z=m.s,z==3||z==0&&0<m.X||!(C==1&&Qd(u,m)||C==2&&So(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Gr(u,5);break;case 4:Gr(u,10);break;case 3:Gr(u,6);break;default:Gr(u,2)}}}function Au(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Gr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),C=u.Xa;const z=!C;C=new zr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Is(C,"https"),Ii(C),z?Hd(C.toString(),v):Su(C.toString(),v)}else _t(2);u.G=0,u.l&&u.l.sa(m),Pu(u),To(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Pu(u){if(u.G=0,u.ka=[],u.l){const m=vu(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function xu(u,m,v){var C=v instanceof zr?Sn(v):new zr(v);if(C.g!="")m&&(C.g=m+"."+C.g),Ei(C,C.s);else{var z=h.location;C=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var K=new zr(null);C&&Is(K,C),m&&(K.g=m),z&&Ei(K,z),v&&(K.l=v),C=K}return v=u.D,m=u.ya,v&&m&&Xe(C,v,m),Xe(C,"VER",u.la),Hr(u,C),C}function Nu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new st(new Wr({eb:v})):new st(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}n=Ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ko(){}ko.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){Ct.call(this),this.g=new Wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!M(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Sr(this)}k(rn,Ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ft(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Pa(u),u=v);m.i.push(new gu(m.Ya++,u)),m.G==3&&Ir(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,rn.aa.N.call(this)};function bu(u){_r.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(bu,_r);function Du(){uo.call(this),this.status=1}k(Du,uo);function Sr(u){this.g=u}k(Sr,Ha),Sr.prototype.ua=function(){Rt(this.g,"a")},Sr.prototype.ta=function(u){Rt(this.g,new bu(u))},Sr.prototype.sa=function(u){Rt(this.g,new Du)},Sr.prototype.ra=function(){Rt(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,qw=function(){return new ko},Ww=function(){return gs()},zw=vr,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,Wc=fo,hu.COMPLETE="complete",$w=hu,lo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Cl=lo,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Bw=st}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Ep("@firebase/firestore");function Xo(){return Xs.logLevel}function he(n,...e){if(Xs.logLevel<=Fe.DEBUG){const t=e.map(Op);Xs.debug(`Firestore (${_a}): ${n}`,...t)}}function hi(n,...e){if(Xs.logLevel<=Fe.ERROR){const t=e.map(Op);Xs.error(`Firestore (${_a}): ${n}`,...t)}}function aa(n,...e){if(Xs.logLevel<=Fe.WARN){const t=e.map(Op);Xs.warn(`Firestore (${_a}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Ke(n,e){n||Re()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class $k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zk{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new Hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Zt(e)}}class Wk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Wk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new Hk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Kk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new xt(0,0))}static max(){return new Ae(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(),i===void 0?i=e.length-t:i>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends Ul{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ul{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return Qk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}function Yk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new ts(o,we.empty(),e)}function Xk(n){return new ts(n.readTime,n.key,-1)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Ae.min(),we.empty(),-1)}static max(){return new ts(Ae.max(),we.empty(),-1)}}function Jk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==Zk)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(w=>{c[y]=w,++h,h===a&&i(c)},w=>o(w))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function tA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Id.oe=-1;function Sd(n){return n==null}function sd(n){return n===0&&1/n==-1/0}function nA(n){return typeof n=="number"&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R_(e)),e=iA(n.get(t),e);return R_(e)}function iA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function R_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new $t(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,i,o,a){return this}insert(e,t,i){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(e){return new A_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class A_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Nt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Qw("Invalid base64 string: "+a):a}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const sA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=sA.exec(n);if(Ke(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cd(n){const e=n.mapValue.fields.__previous_value__;return Mp(e)?Cd(e):e}function Bl(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,i,o,a,c,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class $l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mp(n)?4:lA(n)?9007199254740991:aA(n)?10:11:Re()}function Or(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=ns(o.timestampValue),h=ns(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return wt(o.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return wt(o.integerValue)===wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=wt(o.doubleValue),h=wt(a.doubleValue);return c===h?sd(c)===sd(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(k_(c)!==k_(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Or(c[p],h[p])))return!1;return!0}(n,e);default:return Re()}}function zl(n,e){return(n.values||[]).find(t=>Or(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=wt(a.integerValue||a.doubleValue),p=wt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return P_(n.timestampValue,e.timestampValue);case 4:return P_(Bl(n),Bl(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(a,c){const h=rs(a),p=rs(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const w=Be(h[y],p[y]);if(w!==0)return w}return Be(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Be(wt(a.latitude),wt(c.latitude));return h!==0?h:Be(wt(a.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return x_(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,y,w;const T=a.fields||{},S=c.fields||{},N=(h=T.value)===null||h===void 0?void 0:h.arrayValue,k=(p=S.value)===null||p===void 0?void 0:p.arrayValue,D=Be(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((w=k==null?void 0:k.values)===null||w===void 0?void 0:w.length)||0);return D!==0?D:x_(N,k)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Dc.mapValue&&c===Dc.mapValue)return 0;if(a===Dc.mapValue)return 1;if(c===Dc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=Be(p[T],w[T]);if(S!==0)return S;const N=ua(h[p[T]],y[w[T]]);if(N!==0)return N}return Be(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Re()}}function P_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=ns(n),i=ns(e),o=Be(t.seconds,i.seconds);return o!==0?o:Be(t.nanos,i.nanos)}function x_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ua(t[o],i[o]);if(a)return a}return Be(t.length,i.length)}function ca(n){return Qf(n)}function Qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Qf(t.fields[c])}`;return o+"}"}(n.mapValue):Re()}function qc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(n);return e?16+qc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+qc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return us(i.fields,(a,c)=>{o+=a.length+qc(c)}),o}(n.mapValue);default:throw Re()}}function N_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yf(n){return!!n&&"integerValue"in n}function Vp(n){return!!n&&"arrayValue"in n}function b_(n){return!!n&&"nullValue"in n}function D_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hc(n){return!!n&&"mapValue"in n}function aA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return us(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Wt.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=xl(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){us(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new wn(xl(this.value))}}function Yw(n){const e=[];return us(n.fields,(t,i)=>{const o=new Wt([t]);if(Hc(i)){const a=Yw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new en(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,t,i,o){return new en(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new en(e,2,t,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.position=e,this.inclusive=t}}function L_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=ua(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function O_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function uA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class St extends Xw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new dA(e,t,i):t==="array-contains"?new pA(e,i):t==="in"?new mA(e,i):t==="not-in"?new gA(e,i):t==="array-contains-any"?new yA(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new hA(e,i):new fA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new fr(e,t)}matches(e){return Jw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jw(n){return n.op==="and"}function Zw(n){return cA(n)&&Jw(n)}function cA(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function Xf(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(Zw(n))return n.filters.map(e=>Xf(e)).join(",");{const e=n.filters.map(t=>Xf(t)).join(",");return`${n.op}(${e})`}}function e0(n,e){return n instanceof St?function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&Or(i.value,o.value)}(n,e):n instanceof fr?function(i,o){return o instanceof fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&e0(c,o.filters[h]),!0):!1}(n,e):void Re()}function t0(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof fr?function(t){return t.op.toString()+" {"+t.getFilters().map(t0).join(" ,")+"}"}(n):"Filter"}class dA extends St{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class hA extends St{constructor(e,t){super(e,"in",t),this.keys=n0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fA extends St{constructor(e,t){super(e,"not-in",t),this.keys=n0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class pA extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vp(t)&&zl(t.arrayValue,this.value)}}class mA extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zl(this.value.arrayValue,t)}}class gA extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zl(this.value.arrayValue,t)}}class yA extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function M_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new _A(n,e,t,i,o,a,c)}function Fp(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ca(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ca(i)).join(",")),e.ue=t}return e.ue}function jp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!e0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O_(n.startAt,e.startAt)&&O_(n.endAt,e.endAt)}function Jf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vA(n,e,t,i,o,a,c,h){return new ru(n,e,t,i,o,a,c,h)}function Up(n){return new ru(n)}function V_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.collectionGroup!==null}function Nl(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Nt(Wt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ad(a,i))}),t.has(Wt.keyField().canonicalString())||e.ce.push(new ad(Wt.keyField(),i))}return e.ce}function Dr(n){const e=Pe(n);return e.le||(e.le=wA(e,Nl(n))),e.le}function wA(n,e){if(n.limitType==="F")return M_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ad(o.field,a)});const t=n.endAt?new od(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new od(n.startAt.position,n.startAt.inclusive):null;return M_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zf(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return jp(Dr(n),Dr(e))&&n.limitType===e.limitType}function i0(n){return`${Fp(Dr(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>t0(o)).join(", ")}]`),Sd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ca(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ca(o)).join(",")),`Target(${i})`}(Dr(n))}; limitType=${n.limitType})`}function kd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const y=L_(c,h,p);return c.inclusive?y<=0:y<0}(i.startAt,Nl(i),o)||i.endAt&&!function(c,h,p){const y=L_(c,h,p);return c.inclusive?y>=0:y>0}(i.endAt,Nl(i),o))}(n,e)}function EA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s0(n){return(e,t)=>{let i=!1;for(const o of Nl(n)){const a=TA(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function TA(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),y=h.data.field(a);return p!==null&&y!==null?ua(p,y):Re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new ht(we.comparator);function fi(){return IA}const o0=new ht(we.comparator);function Rl(...n){let e=o0;for(const t of n)e=e.insert(t.key,t);return e}function a0(n){let e=o0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function qs(){return bl()}function l0(){return bl()}function bl(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const SA=new ht(we.comparator),CA=new Nt(we.comparator);function je(...n){let e=CA;for(const t of n)e=e.add(t);return e}const RA=new Nt(Be);function kA(){return RA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function u0(n){return{integerValue:""+n}}function AA(n,e){return nA(e)?u0(e):Bp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function PA(n,e,t){return n instanceof Wl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Mp(a)&&(a=Cd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof ql?d0(n,e):n instanceof Hl?h0(n,e):function(o,a){const c=c0(o,a),h=F_(c)+F_(o.Pe);return Yf(c)&&Yf(o.Pe)?u0(h):Bp(o.serializer,h)}(n,e)}function xA(n,e,t){return n instanceof ql?d0(n,e):n instanceof Hl?h0(n,e):t}function c0(n,e){return n instanceof ld?function(i){return Yf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Wl extends Ad{}class ql extends Ad{constructor(e){super(),this.elements=e}}function d0(n,e){const t=f0(e);for(const i of n.elements)t.some(o=>Or(o,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends Ad{constructor(e){super(),this.elements=e}}function h0(n,e){let t=f0(e);for(const i of n.elements)t=t.filter(o=>!Or(o,i));return{arrayValue:{values:t}}}class ld extends Ad{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function F_(n){return wt(n.integerValue||n.doubleValue)}function f0(n){return Vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t){this.field=e,this.transform=t}}function bA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ql&&o instanceof ql||i instanceof Hl&&o instanceof Hl?la(i.elements,o.elements,Or):i instanceof ld&&o instanceof ld?Or(i.Pe,o.Pe):i instanceof Wl&&o instanceof Wl}(n.transform,e.transform)}class DA{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pd{}function p0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $p(n.key,hr.none()):new iu(n.key,n.data,hr.none());{const t=n.data,i=wn.empty();let o=new Nt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new cs(n.key,i,new Dn(o.toArray()),hr.none())}}function LA(n,e,t){n instanceof iu?function(o,a,c){const h=o.value.clone(),p=U_(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(o,a,c){if(!Gc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=U_(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(m0(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Dl(n,e,t,i){return n instanceof iu?function(a,c,h,p){if(!Gc(a.precondition,c))return h;const y=a.value.clone(),w=B_(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof cs?function(a,c,h,p){if(!Gc(a.precondition,c))return h;const y=B_(a.fieldTransforms,p,c),w=c.data;return w.setAll(m0(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,h){return Gc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function OA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=c0(i.transform,o||null);a!=null&&(t===null&&(t=wn.empty()),t.set(i.field,a))}return t||null}function j_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&la(i,o,(a,c)=>bA(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class iu extends Pd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Pd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function m0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function U_(n,e,t){const i=new Map;Ke(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,xA(c,h,t[o]))}return i}function B_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,PA(a,c,e))}return i}class $p extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&LA(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=l0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=p0(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,i)=>j_(t,i))&&la(this.baseMutations,e.baseMutations,(t,i)=>j_(t,i))}}class zp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ke(e.mutations.length===i.length);let o=function(){return SA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new zp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,We;function UA(n){switch(n){default:return Re();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function g0(n){if(n===void 0)return hi("GRPC error has no .code"),J.UNKNOWN;switch(n){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Re()}}(We=It||(It={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Hs([4294967295,4294967295],0);function $_(n){const e=BA().encode(n),t=new Uw;return t.update(e),new Uint8Array(t.digest())}function z_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([o,a],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(i<0)throw new kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Hs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Hs.fromNumber(i)));return o.compare($A)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=$_(e),[i,o]=z_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Wp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=$_(e),[i,o]=z_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new xd(Ae.min(),o,new ht(Be),fi(),je())}}class su{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new su(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class y0{constructor(e,t){this.targetId=e,this.me=t}}class _0{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class W_{constructor(){this.fe=0,this.ge=q_(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Re()}}),new su(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=q_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zA{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ht(Be)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Jf(a))if(i===0){const c=new we(a.path);this.We(t,c,en.newNoDocument(c,Ae.min()))}else Ke(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=rs(i).toUint8Array()}catch(p){if(p instanceof Qw)return aa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Wp(c,o,a)}catch(p){return aa(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Jf(h.target)){const p=new we(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,en.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=je();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new xd(e,t,this.Ke,this.ke,i);return this.ke=fi(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ht(Be),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new W_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Nt(Be),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nt(Be),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new W_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Lc(){return new ht(we.comparator)}function q_(){return new ht(we.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},qA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class GA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(n,e){return n.useProto3Json||Sd(e)?e:{value:e}}function ud(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KA(n,e){return ud(n,e.toTimestamp())}function Lr(n){return Ke(!!n),Ae.fromTimestamp(function(t){const i=ns(t);return new xt(i.seconds,i.nanos)}(n))}function qp(n,e){return np(n,e).canonicalString()}function np(n,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function w0(n){const e=rt.fromString(n);return Ke(C0(e)),e}function rp(n,e){return qp(n.databaseId,e.path)}function xf(n,e){const t=w0(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(T0(t))}function E0(n,e){return qp(n.databaseId,e)}function QA(n){const e=w0(n);return e.length===4?rt.emptyPath():T0(e)}function ip(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T0(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function H_(n,e,t){return{name:rp(n,e),fields:t.value.mapValue.fields}}function YA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Ke(w===void 0||typeof w=="string"),Ht.fromBase64String(w||"")):(Ke(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Ht.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const w=y.code===void 0?J.UNKNOWN:g0(y.code);return new pe(w,y.message||"")}(c);t=new _0(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=xf(n,i.document.name),a=Lr(i.document.updateTime),c=i.document.createTime?Lr(i.document.createTime):Ae.min(),h=new wn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(o,a,c,h),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Kc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=xf(n,i.document),a=i.readTime?Lr(i.readTime):Ae.min(),c=en.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Kc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=xf(n,i.document),a=i.removedTargetIds||[];t=new Kc([],a,o,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new jA(o,a),h=i.targetId;t=new y0(h,c)}}return t}function XA(n,e){let t;if(e instanceof iu)t={update:H_(n,e.key,e.value)};else if(e instanceof $p)t={delete:rp(n,e.key)};else if(e instanceof cs)t={update:H_(n,e.key,e.data),updateMask:oP(e.fieldMask)};else{if(!(e instanceof MA))return Re();t={verify:rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Wl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ld)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Re()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:KA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function JA(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Lr(o.updateTime):Lr(a);return c.isEqual(Ae.min())&&(c=Lr(a)),new DA(c,o.transformResults||[])}(t,e))):[]}function ZA(n,e){return{documents:[E0(n,e.path)]}}function eP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E0(n,o);const a=function(y){if(y.length!==0)return S0(fr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(w=>function(S){return{field:Zo(S.field),direction:rP(S.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=tp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function tP(n){let e=QA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ke(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(T){const S=I0(T);return S instanceof fr&&Zw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(k){return new ad(ea(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(t.orderBy));let h=null;t.limit&&(h=function(T){let S;return S=typeof T=="object"?T.value:T,Sd(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,N=T.values||[];return new od(N,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,N=T.values||[];return new od(N,S)}(t.endAt)),vA(e,o,c,a,h,"F",p,y)}function nP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ea(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ea(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ea(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ea(t.unaryFilter.field);return St.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return St.create(ea(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fr.create(t.compositeFilter.filters.map(i=>I0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function rP(n){return WA[n]}function iP(n){return qA[n]}function sP(n){return HA[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function ea(n){return Wt.fromServerFormat(n.fieldPath)}function S0(n){return n instanceof St?function(t){if(t.op==="=="){if(D_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(b_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(D_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(b_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:iP(t.op),value:t.value}}}(n):n instanceof fr?function(t){const i=t.getFilters().map(o=>S0(o));return i.length===1?i[0]:{compositeFilter:{op:sP(t.op),filters:i}}}(n):Re()}function oP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function C0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,i,o,a=Ae.min(),c=Ae.min(),h=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.ht=e}}function lP(n){const e=tP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.ln=new cP}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ts.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class cP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Nt(rt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new da(0)}static Qn(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_([n,e],[t,i]){const o=Be(n,t);return o===0?Be(e,i):o}class dP{constructor(e){this.Gn=e,this.buffer=new Nt(K_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();K_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class fP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Id.oe);const i=new dP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(G_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Xo()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function pP(n,e){return new fP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Dl(i.mutation,o,Dn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Rl();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=fi();const c=bl(),h=function(){return bl()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof cs)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Dl(w.mutation,y,w.mutation.getFieldMask(),xt.now())):c.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>{var T;return h.set(y,new gP(w,(T=c.get(y))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new ht((c,h)=>c-h),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||Dn.empty();w=h.applyToLocalView(y,w),i.set(p,w);const T=(o.get(h.batchId)||je()).add(p);o=o.insert(h.batchId,T)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,T=l0();w.forEach(S=>{if(!a.has(S)){const N=p0(t.get(S),i.get(S));N!==null&&T.set(S,N),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(qs());let h=-1,p=a;return c.next(y=>X.forEach(y,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,je())).next(w=>({batchId:h,changes:a0(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=Rl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Rl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,p=>{const y=function(T,S){return new ru(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,en.newInvalidDocument(w)))});let h=Rl();return c.forEach((p,y)=>{const w=a.get(p);w!==void 0&&Dl(w.mutation,y,Dn.empty(),xt.now()),kd(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:lP(o.bundledQuery),readTime:Lr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.overlays=new ht(we.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=qs();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=qs(),a=t.length+1,c=new we(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ht((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=a.get(y.largestBatchId);w===null&&(w=qs(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=qs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=o)););return X.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new FA(t,i));let a=this.Er.get(t);a===void 0&&(a=je(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.dr=new Nt(Mt.Ar),this.Rr=new Nt(Mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Mt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Mt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new rt([])),i=new Mt(t,e),o=new Mt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new rt([])),i=new Mt(t,e),o=new Mt(t,e+1);let a=je();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Mt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Be(e.br,t.br)}static Vr(e,t){return Be(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Nt(Mt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VA(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new Mt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mt(t,0),o=new Mt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Be);return t.forEach(o=>{const a=new Mt(o,0),c=new Mt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const c=new Mt(new we(a),0);let h=new Nt(Be);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.br)),!0)},c),X.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const a=new Mt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Mt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.Nr=e,this.docs=function(){return new ht(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():en.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const c=t.path,h=new we(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Jk(Xk(w),i)<=0||(o.has(w.key)||kd(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Re()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new IP(this)}getSize(e){return X.resolve(this.size)}}class IP extends mP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.persistence=e,this.Br=new to(t=>Fp(t),jp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hp,this.targetCount=0,this.Qr=da.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new da(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Id(0),this.Ur=!1,this.Ur=!0,this.Wr=new wP,this.referenceDelegate=e(this),this.Gr=new SP(this),this.indexManager=new uP,this.remoteDocumentCache=function(o){return new TP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new aP(t),this.jr=new _P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new EP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new CP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class CP extends eA{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Zr=new Hp,this.Xr=null}static ei(e){return new Gp(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.ri=new to(i=>rA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=pP(this,t)}static ei(e,t){return new cd(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Ae.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Kp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return cS()?8:tA(tn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new RP;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Xo()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Xo()<=Fe.DEBUG&&he("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Xo()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):X.resolve())}Xi(e,t){if(V_(t))return X.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ep(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=je(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,h);return this.ss(t,y,c,p.readTime)?this.Xi(e,ep(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return V_(t)||o.isEqual(Ae.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?X.resolve(null):(Xo()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.os(e,c,t,Yk(o,-1)).next(h=>h))})}rs(e,t){let i=new Nt(s0(e));return t.forEach((o,a)=>{kd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Xo()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ts.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ht(Be),this.cs=new to(a=>Fp(a),jp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function PP(n,e,t,i){return new AP(n,e,t,i)}async function k0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=je();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:h}))})})}function xP(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,y,w){const T=y.batch,S=T.keys();let N=X.resolve();return S.forEach(k=>{N=N.next(()=>w.getEntry(p,k)).next(D=>{const x=y.docVersions.get(k);Ke(x!==null),D.version.compareTo(x)<0&&(T.applyToRemoteDocument(D,y),D.isValidDocument()&&(D.setReadTime(y.commitVersion),w.addEntry(D)))})}),N.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=je();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function A0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function NP(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;h.push(t.Gr.removeMatchingKeys(a,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,w.addedDocuments,T)));let N=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),o=o.insert(T,N),function(D,x,U){return D.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(S,N,w)&&h.push(t.Gr.updateTargetData(a,N))});let p=fi(),y=je();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(bP(a,c,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(Ae.min())){const w=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(w)}return X.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function bP(n,e,t){let i=je(),o=je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=fi();return t.forEach((h,p)=>{const y=a.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function DP(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LP(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Qi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function sp(n,e,t){const i=Pe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!wa(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Q_(n,e,t){const i=Pe(n);let o=Ae.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,w){const T=Pe(p),S=T.cs.get(w);return S!==void 0?X.resolve(T.us.get(S)):T.Gr.getTargetData(y,w)}(i,c,Dr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?a:je())).next(h=>(OP(i,EA(e),h),{documents:h,ds:a})))}function OP(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Y_{constructor(){this.activeTargetIds=kA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MP{constructor(){this._o=new Y_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Y_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Nf(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class UP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=Nf(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(t,p,y,o).then(w=>(he("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw aa("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=FP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Nf();return new Promise((c,h)=>{const p=new Bw;p.setWithCredentials(!0),p.listenOnce($w.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const w=p.getResponseJson();he(Jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),c(w);break;case Wc.TIMEOUT:he(Jt,`RPC '${e}' ${a} timed out`),h(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const T=p.getStatus();if(he(Jt,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const k=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(U)>=0?U:J.UNKNOWN}(N.status);h(new pe(k,N.message))}else h(new pe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{he(Jt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);he(Jt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Nf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qw(),h=Ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");he(Jt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let S=!1,N=!1;const k=new jP({Eo:x=>{N?he(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(S||(he(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),he(Jt,`RPC '${e}' stream ${o} sending:`,x),T.send(x))},Ao:()=>T.close()}),D=(x,U,M)=>{x.listen(U,H=>{try{M(H)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(T,Cl.EventType.OPEN,()=>{N||(he(Jt,`RPC '${e}' stream ${o} transport opened.`),k.So())}),D(T,Cl.EventType.CLOSE,()=>{N||(N=!0,he(Jt,`RPC '${e}' stream ${o} transport closed`),k.Do())}),D(T,Cl.EventType.ERROR,x=>{N||(N=!0,aa(Jt,`RPC '${e}' stream ${o} transport errored:`,x),k.Do(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),D(T,Cl.EventType.MESSAGE,x=>{var U;if(!N){const M=x.data[0];Ke(!!M);const H=M,Q=(H==null?void 0:H.error)||((U=H[0])===null||U===void 0?void 0:U.error);if(Q){he(Jt,`RPC '${e}' stream ${o} received error:`,Q);const se=Q.status;let ae=function(A){const L=It[A];if(L!==void 0)return g0(L)}(se),b=Q.message;ae===void 0&&(ae=J.INTERNAL,b="Unknown error status: "+se+" with message "+Q.message),N=!0,k.Do(new pe(ae,b)),T.close()}else he(Jt,`RPC '${e}' stream ${o} received:`,M),k.vo(M)}}),D(h,zw.STAT_EVENT,x=>{x.stat===Kf.PROXY?he(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===Kf.NOPROXY&&he(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new GA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t,i,o,a,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new P0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BP extends x0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=YA(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ae.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Lr(c.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=ip(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Jf(p)?{documents:ZA(a,p)}:{query:eP(a,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=v0(a,c.resumeToken);const y=tp(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=ud(a,c.snapshotVersion.toTimestamp());const y=tp(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=nP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=ip(this.serializer),t.removeTarget=e,this.c_(t)}}class $P extends x0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=JA(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=ip(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>XA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,np(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,np(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class WP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hi(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{no(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Pe(p);y.k_.add(4),await ou(y),y.K_.set("Unknown"),y.k_.delete(4),await bd(y)}(this))})}),this.K_=new WP(i,o)}}async function bd(n){if(no(n))for(const e of n.q_)await e(!0)}async function ou(n){for(const e of n.q_)await e(!1)}function N0(n,e){const t=Pe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Jp(t)?Xp(t):Ea(t).s_()&&Yp(t,e))}function Qp(n,e){const t=Pe(n),i=Ea(t);t.B_.delete(e),i.s_()&&b0(t,e),t.B_.size===0&&(i.s_()?i.a_():no(t)&&t.K_.set("Unknown"))}function Yp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).V_(e)}function b0(n,e){n.U_.xe(e),Ea(n).m_(e)}function Xp(n){n.U_=new zA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.K_.F_()}function Jp(n){return no(n)&&!Ea(n).i_()&&n.B_.size>0}function no(n){return Pe(n).k_.size===0}function D0(n){n.U_=void 0}async function HP(n){n.K_.set("Online")}async function GP(n){n.B_.forEach((e,t)=>{Yp(n,e)})}async function KP(n,e){D0(n),Jp(n)?(n.K_.O_(e),Xp(n)):n.K_.set("Unknown")}async function QP(n,e,t){if(n.K_.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await dd(n,i)}else if(e instanceof Kc?n.U_.$e(e):e instanceof y0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await A0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(y);w&&a.B_.set(y,w.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,y)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken(Ht.EMPTY_BYTE_STRING,w.snapshotVersion)),b0(a,p);const T=new Qi(w.target,p,y,w.sequenceNumber);Yp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await dd(n,i)}}async function dd(n,e,t){if(!wa(e))throw e;n.k_.add(1),await ou(n),n.K_.set("Offline"),t||(t=()=>A0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await bd(n)})}function L0(n,e){return e().catch(t=>dd(n,t,e))}async function Dd(n){const e=Pe(n),t=ss(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;YP(e);)try{const o=await DP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,XP(e,o)}catch(o){await dd(e,o)}O0(e)&&M0(e)}function YP(n){return no(n)&&n.L_.length<10}function XP(n,e){n.L_.push(e);const t=ss(n);t.s_()&&t.f_&&t.g_(e.mutations)}function O0(n){return no(n)&&!ss(n).i_()&&n.L_.length>0}function M0(n){ss(n).start()}async function JP(n){ss(n).w_()}async function ZP(n){const e=ss(n);for(const t of n.L_)e.g_(t.mutations)}async function ex(n,e,t){const i=n.L_.shift(),o=zp.from(i,e,t);await L0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Dd(n)}async function tx(n,e){e&&ss(n).f_&&await async function(i,o){if(function(c){return UA(c)&&c!==J.ABORTED}(o.code)){const a=i.L_.shift();ss(i).__(),await L0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Dd(i)}}(n,e),O0(n)&&M0(n)}async function J_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=no(t);t.k_.add(3),await ou(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bd(t)}async function nx(n,e){const t=Pe(n);e?(t.k_.delete(2),await bd(t)):e||(t.k_.add(2),await ou(t),t.K_.set("Unknown"))}function Ea(n){return n.W_||(n.W_=function(t,i,o){const a=Pe(t);return a.b_(),new BP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:HP.bind(null,n),mo:GP.bind(null,n),po:KP.bind(null,n),R_:QP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Jp(n)?Xp(n):n.K_.set("Unknown")):(await n.W_.stop(),D0(n))})),n.W_}function ss(n){return n.G_||(n.G_=function(t,i,o){const a=Pe(t);return a.b_(),new $P(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:JP.bind(null,n),po:tx.bind(null,n),p_:ZP.bind(null,n),y_:ex.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Dd(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Zp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,e){if(hi("AsyncQueue",`${e}: ${n}`),wa(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Rl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.z_=new ht(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ha{constructor(e,t,i,o,a,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ha(e,t,sa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ix{constructor(){this.queries=ev(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Pe(t),a=o.queries;o.queries=ev(),a.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function ev(){return new to(n=>i0(n),Rd)}async function V0(n,e){const t=Pe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new rx,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=em(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&tm(t)}async function F0(n,e){const t=Pe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function sx(n,e){const t=Pe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&tm(t)}function ox(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function tm(n){n.X_.forEach(e=>{e.next()})}var op,tv;(tv=op||(op={})).na="default",tv.Cache="cache";class j0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.key=e}}class B0{constructor(e){this.key=e}}class ax{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=s0(e),this.ma=new sa(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Z_,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),N=kd(this.query,T)?T:null,k=!!S&&this.mutatedKeys.has(S.key),D=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let x=!1;S&&N?S.data.isEqual(N.data)?k!==D&&(i.track({type:3,doc:N}),x=!0):this.ya(S,N)||(i.track({type:2,doc:N}),x=!0,(p&&this.Va(N,p)>0||y&&this.Va(N,y)<0)&&(h=!0)):!S&&N?(i.track({type:0,doc:N}),x=!0):S&&!N&&(i.track({type:1,doc:S}),x=!0,(p||y)&&(h=!0)),x&&(N?(c=c.add(N),a=D?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,T)=>function(N,k){const D=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return D(N)-D(k)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ha(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Z_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new B0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new U0(i))}),t}va(e){this.da=e.ds,this.Ra=je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ha.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class lx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ux{constructor(e){this.key=e,this.Fa=!1}}class cx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new to(h=>i0(h),Rd),this.Oa=new Map,this.Na=new Set,this.La=new ht(we.comparator),this.Ba=new Map,this.ka=new Hp,this.qa={},this.Qa=new Map,this.Ka=da.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dx(n,e,t=!0){const i=G0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await $0(i,e,t,!0),o}async function hx(n,e){const t=G0(n);await $0(t,e,!0,!1)}async function $0(n,e,t,i){const o=await LP(n.localStore,Dr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await fx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&N0(n.remoteStore,o),h}async function fx(n,e,t,i,o){n.Ua=(T,S,N)=>async function(D,x,U,M){let H=x.view.ga(U);H.ss&&(H=await Q_(D.localStore,x.query,!1).then(({documents:b})=>x.view.ga(b,H)));const Q=M&&M.targetChanges.get(x.targetId),se=M&&M.targetMismatches.get(x.targetId)!=null,ae=x.view.applyChanges(H,D.isPrimaryClient,Q,se);return rv(D,x.targetId,ae.ba),ae.snapshot}(n,T,S,N);const a=await Q_(n.localStore,e,!0),c=new ax(e,a.ds),h=c.ga(a.documents),p=su.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,p);rv(n,t,y.ba);const w=new lx(e,t,c);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function px(n,e,t){const i=Pe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!Rd(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Qp(i.remoteStore,o.targetId),ap(i,o.targetId)}).catch(va)):(ap(i,o.targetId),await sp(i.localStore,o.targetId,!0))}async function mx(n,e){const t=Pe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(t.remoteStore,i.targetId))}async function gx(n,e,t){const i=Ix(n);try{const o=await function(c,h){const p=Pe(c),y=xt.now(),w=h.reduce((N,k)=>N.add(k.key),je());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=fi(),D=je();return p.hs.getEntries(N,w).next(x=>{k=x,k.forEach((U,M)=>{M.isValidDocument()||(D=D.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,k)).next(x=>{T=x;const U=[];for(const M of h){const H=OA(M,T.get(M.key).overlayedDocument);H!=null&&U.push(new cs(M.key,H,Yw(H.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,U,h)}).next(x=>{S=x;const U=x.applyToLocalDocumentSet(T,D);return p.documentOverlayCache.saveOverlays(N,x.batchId,U)})}).then(()=>({batchId:S.batchId,changes:a0(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let y=c.qa[c.currentUser.toKey()];y||(y=new ht(Be)),y=y.insert(h,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await au(i,o.changes),await Dd(i.remoteStore)}catch(o){const a=em(o,"Failed to persist write");t.reject(a)}}async function z0(n,e){const t=Pe(n);try{const i=await NP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ke(c.Fa):o.removedDocuments.size>0&&(Ke(c.Fa),c.Fa=!1))}),await au(t,i,e)}catch(i){await va(i)}}function nv(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=Pe(c);p.onlineState=h;let y=!1;p.queries.forEach((w,T)=>{for(const S of T.J_)S.ea(h)&&(y=!0)}),y&&tm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yx(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new ht(we.comparator);c=c.insert(a,en.newNoDocument(a,Ae.min()));const h=je().add(a),p=new xd(Ae.min(),new Map,new ht(Be),c,h);await z0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),nm(i)}else await sp(i.localStore,e,!1).then(()=>ap(i,e,t)).catch(va)}async function _x(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await xP(t.localStore,e);q0(t,i,null),W0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await au(t,o)}catch(o){await va(o)}}async function vx(n,e,t){const i=Pe(n);try{const o=await function(c,h){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,h).next(T=>(Ke(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);q0(i,e,t),W0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await au(i,o)}catch(o){await va(o)}}function W0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function q0(n,e,t){const i=Pe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||H0(n,i)})}function H0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Qp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),nm(n))}function rv(n,e,t){for(const i of t)i instanceof U0?(n.ka.addReference(i.key,e),wx(n,i)):i instanceof B0?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||H0(n,i.key)):Re()}function wx(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),nm(n))}function nm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(rt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new ux(t)),n.La=n.La.insert(t,i),N0(n.remoteStore,new Qi(Dr(Up(t.path)),i,"TargetPurposeLimboResolution",Id.oe))}}async function au(n,e,t){const i=Pe(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Kp.zi(p.targetId,y);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const w=Pe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>X.forEach(y,S=>X.forEach(S.Wi,N=>w.persistence.referenceDelegate.addReference(T,S.targetId,N)).next(()=>X.forEach(S.Gi,N=>w.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))}catch(T){if(!wa(T))throw T;he("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const N=w.us.get(S),k=N.snapshotVersion,D=N.withLastLimboFreeSnapshotVersion(k);w.us=w.us.insert(S,D)}}}(i.localStore,a))}async function Ex(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await k0(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(p=>{p.reject(new pe(J.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(t,i.Ts)}}function Tx(n,e){const t=Pe(n),i=t.Ba.get(e);if(i&&i.Fa)return je().add(i.key);{let o=je();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function G0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yx.bind(null,e),e.Ma.R_=sx.bind(null,e.eventManager),e.Ma.Wa=ox.bind(null,e.eventManager),e}function Ix(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vx.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return PP(this.persistence,new kP,e.initialUser,this.serializer)}ja(e){return new R0(Gp.ei,this.serializer)}za(e){return new MP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class Sx extends hd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ke(this.persistence.referenceDelegate instanceof cd);const i=this.persistence.referenceDelegate.garbageCollector;return new hP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new R0(i=>cd.ei(i,t),this.serializer)}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,this.syncEngine),await nx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ix}()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),i=function(a){return new UP(a)}(e.databaseInfo);return function(a,c,h,p){return new zP(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new qP(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>nv(this.syncEngine,t,0),function(){return X_.p()?new X_:new VP}())}createSyncEngine(e,t){return function(o,a,c,h,p,y,w){const T=new cx(o,a,c,h,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Pe(o);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await ou(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=em(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await k0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Rx(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>J_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>J_(e.remoteStore,o)),n._onlineComponents=e}async function Rx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new hd)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Df(n,new Sx(void 0));return n._offlineComponents}async function Q0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await iv(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await iv(n,new lp))),n._onlineComponents}function kx(n){return Q0(n).then(e=>e.syncEngine)}async function Y0(n){const e=await Q0(n),t=e.eventManager;return t.onListen=dx.bind(null,e.syncEngine),t.onUnlisten=px.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mx.bind(null,e.syncEngine),t}function Ax(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,y){const w=new K0({next:S=>{w.eu(),c.enqueueAndForget(()=>F0(a,T));const N=S.docs.has(h);!N&&S.fromCache?y.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new j0(Up(h.path),w,{includeMetadataChanges:!0,ua:!0});return V0(a,T)}(await Y0(n),n.asyncQueue,e,t,i)),i.promise}function Px(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,y){const w=new K0({next:S=>{w.eu(),c.enqueueAndForget(()=>F0(a,T)),S.fromCache&&p.source==="server"?y.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new j0(h,w,{includeMetadataChanges:!0,ua:!0});return V0(a,T)}(await Y0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xx(n,e,t,i){if(e===!0&&i===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ov(n){if(!we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function av(n){if(we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function pi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ld(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Bk;switch(i.type){case"firstParty":return new qk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=sv.get(t);i&&(he("ComponentProvider","Removing Datastore"),sv.delete(t),i.terminate())}(this),Promise.resolve()}}function Nx(n,e,t,i={}){var o;const a=(n=pi(n,Od))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=Zt.MOCK_USER;else{h=Zv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zt(y)}n._authCredentials=new $k(new Hw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ji extends Ta{constructor(e,t,i){super(e,t,Up(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new we(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function zt(n,e,...t){if(n=it(n),J0("collection","path",e),n instanceof Od){const i=rt.fromString(e,...t);return av(i),new Ji(n,null,i)}{if(!(n instanceof En||n instanceof Ji))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return av(i),new Ji(n.firestore,null,i)}}function lu(n,e,...t){if(n=it(n),arguments.length===1&&(e=Gw.newId()),J0("doc","path",e),n instanceof Od){const i=rt.fromString(e,...t);return ov(i),new En(n,null,new we(i))}{if(!(n instanceof En||n instanceof Ji))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return ov(i),new En(n.firestore,n instanceof Ji?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new P0(this,"async_queue_retry"),this.fu=()=>{const i=bf();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ui;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Zp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ia extends Od{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function yi(n,e){const t=typeof n=="object"?n:Ip(),i=typeof n=="string"?n:"(default)",o=vd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Yv("firestore");a&&Nx(o,...a)}return o}function rm(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bx(n),n._firestoreClient}function bx(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,y,w){return new oA(h,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,X0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Cx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Ht.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^__.*__$/;class Lx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}class Z0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class om{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(eE(this.Mu)&&Dx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Ox{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nd(e)}$u(e,t,i,o=!1){return new om({Mu:e,methodName:t,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new Ox(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mx(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);um("Data must be an object, but it was:",c,i);const h=tE(i,c);let p,y;if(a.merge)p=new Dn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const S=up(e,T,t);if(!c.contains(S))throw new pe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rE(w,S)||w.push(S)}p=new Dn(w),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new Lx(new wn(h),p,y)}class Fd extends Vd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class lm extends Vd{_toFieldTransform(e){return new NA(e.path,new Wl)}isEqual(e){return e instanceof lm}}function Vx(n,e,t,i){const o=n.$u(1,e,t);um("Data must be an object, but it was:",o,i);const a=[],c=wn.empty();us(i,(p,y)=>{const w=cm(e,p,t);y=it(y);const T=o.Bu(w);if(y instanceof Fd)a.push(w);else{const S=uu(y,T);S!=null&&(a.push(w),c.set(w,S))}});const h=new Dn(a);return new Z0(c,h,o.fieldTransforms)}function Fx(n,e,t,i,o,a){const c=n.$u(1,e,t),h=[up(e,i,t)],p=[o];if(a.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(up(e,a[S])),p.push(a[S+1]);const y=[],w=wn.empty();for(let S=h.length-1;S>=0;--S)if(!rE(y,h[S])){const N=h[S];let k=p[S];k=it(k);const D=c.Bu(N);if(k instanceof Fd)y.push(N);else{const x=uu(k,D);x!=null&&(y.push(N),w.set(N,x))}}const T=new Dn(y);return new Z0(w,T,c.fieldTransforms)}function jx(n,e,t,i=!1){return uu(t,n.$u(i?4:3,e))}function uu(n,e){if(nE(n=it(n)))return um("Unsupported field value:",e,n),tE(n,e);if(n instanceof Vd)return function(i,o){if(!eE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let p=uu(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=it(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return AA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:ud(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ud(o.serializer,a)}}if(i instanceof im)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:v0(o.serializer,i._byteString)};if(i instanceof En){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sm)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return Bp(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Ld(i)}`)}(n,e)}function tE(n,e){const t={};return Kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(n,(i,o)=>{const a=uu(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function nE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof im||n instanceof fa||n instanceof En||n instanceof Vd||n instanceof sm)}function um(n,e,t){if(!nE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Ld(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function up(n,e,t){if((e=it(e))instanceof Md)return e._internalPath;if(typeof e=="string")return cm(n,e);throw fd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ux=new RegExp("[~\\*/\\[\\]]");function cm(n,e,t){if(e.search(Ux)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Md(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fd(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,h+n+p)}function rE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bx extends iE{data(){return super.data()}}function dm(n,e){return typeof e=="string"?cm(n,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class zx extends hm{}function xr(n,e,...t){let i=[];e instanceof hm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof fm).length,h=a.filter(p=>p instanceof jd).length;if(c>1||c>0&&h>0)throw new pe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class jd extends zx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new jd(e,t,i)}_apply(e){const t=this._parse(e);return sE(e._query,t),new Ta(e.firestore,e.converter,Zf(e._query,t))}_parse(e){const t=am(e.firestore);return function(a,c,h,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){dv(T,w);const N=[];for(const k of T)N.push(cv(p,a,k));S={arrayValue:{values:N}}}else S=cv(p,a,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||dv(T,w),S=jx(h,c,T,w==="in"||w==="not-in");return St.create(y,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bn(n,e,t){const i=e,o=dm("where",n);return jd._create(o,i,t)}class fm extends hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)sE(c,p),c=Zf(c,p)}(e._query,t),new Ta(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cv(n,e,t){if(typeof(t=it(t))=="string"){if(t==="")throw new pe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&t.indexOf("/")!==-1)throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!we.isDocumentKey(i))throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return N_(n,new we(i))}if(t instanceof En)return N_(n,t._key);throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(t)}.`)}function dv(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sE(n,e){const t=function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Wx{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return us(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>wt(c.doubleValue));return new sm(a)}convertGeoPoint(e){return new im(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ke(C0(i));const o=new $l(i.get(1),i.get(3)),a=new we(i.popFirst(5));return o.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oE extends iE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qc extends oE{data(e={}){return super.data(e)}}class Hx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qc(this._firestore,this._userDataWriter,i.key,i,new Al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new Qc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Qc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:Gx(h.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){n=pi(n,En);const e=pi(n.firestore,Ia);return Ax(rm(e),n._key).then(t=>Qx(e,n,t))}class aE extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function vn(n){n=pi(n,Ta);const e=pi(n.firestore,Ia),t=rm(e),i=new aE(e);return $x(n._query),Px(t,n._query).then(o=>new Hx(e,i,n,o))}function Gl(n,e,t,...i){n=pi(n,En);const o=pi(n.firestore,Ia),a=am(o);let c;return c=typeof(e=it(e))=="string"||e instanceof Md?Fx(a,"updateDoc",n._key,e,t,i):Vx(a,"updateDoc",n._key,e),gm(o,[c.toMutation(n._key,hr.exists(!0))])}function Kx(n){return gm(pi(n.firestore,Ia),[new $p(n._key,hr.none())])}function mm(n,e){const t=pi(n.firestore,Ia),i=lu(n),o=qx(n.converter,e);return gm(t,[Mx(am(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,hr.exists(!1))]).then(()=>i)}function gm(n,e){return function(i,o){const a=new ui;return i.asyncQueue.enqueueAndForget(async()=>gx(await kx(i),o,a)),a.promise}(rm(n),e)}function Qx(n,e,t){const i=t.docs.get(e._key),o=new aE(n);return new oE(n,o,e._key,i,new Al(t.hasPendingWrites,t.fromCache),e.converter)}function lE(){return new lm("serverTimestamp")}(function(e,t=!0){(function(o){_a=o})(eo),Ks(new es("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Ia(new zk(i.getProvider("auth-internal")),new Gk(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Nr(C_,"4.7.5",e),Nr(C_,"4.7.5","esm2017")})();const Yx={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};ga(Yx);const Xx=()=>{const n=as(),[e,t]=O.useState(null),[i,o]=O.useState(null),[a,c]=O.useState(!1),[h,p]=O.useState([]),[y,w]=O.useState([]),[T,S]=O.useState(null);O.useState(!1);const N=Vr(),k=yi();O.useEffect(()=>{const b=N.onAuthStateChanged(async A=>{if(t(A),A){const L=A.email,V=await D(L);o(V),n("/dashboard",{state:{userData:V}})}});return(async()=>{try{if("NDEFReader"in window){const A=await window.NDEFReader;A&&(A.abort(),console.log("Existing NFC reader cleaned up"))}}catch(A){console.error("Error cleaning up NFC reader:",A)}})(),()=>{b(),T&&T.abort()}},[]),O.useEffect(()=>{(async()=>{try{const A=(await vn(zt(k,"RegisteredTeacher"))).docs.map(j=>j.data().name).slice(0,5);p(A);const V=(await vn(zt(k,"RegisteredStudent"))).docs.map(j=>j.data().name).slice(0,5);w(V)}catch(R){console.error("Error fetching registered users:",R)}})()},[k]);const D=async b=>{try{const R=xr(zt(k,"RegisteredAdmin"),bn("email","==",b)),A=await vn(R);if(!A.empty)return A.docs[0].data();const L=xr(zt(k,"RegisteredTeacher"),bn("email","==",b)),V=await vn(L);if(!V.empty)return V.docs[0].data();const j=xr(zt(k,"RegisteredStudent"),bn("email","==",b)),I=await vn(j);return I.empty?null:I.docs[0].data()}catch(R){return console.error("Error fetching user data:",R),null}},x=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},U=()=>{c(!1),n("/dashboard",{state:{userData:i}})},M=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},H=()=>{c(!a)},Q=async()=>{try{T&&T.abort(),await jl(N),console.log("User signed out successfully"),n("/login")}catch(b){console.error("Error signing out:",b)}},se=["Scanner-001","Scanner-002","Scanner-003"],ae=(i==null?void 0:i.position)==="Student";return _.jsxs(_.Fragment,{children:[_.jsx("button",{className:Ie.hamburgerBtn,onClick:H,children:a?_.jsx(yd,{size:24}):_.jsx(GI,{size:24})}),_.jsxs("div",{className:`${Ie.sidebar} ${a?Ie.sidebarOpen:""}`,children:[_.jsx("div",{className:Ie.profileSection,children:e&&i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:Ie.avatar,children:_.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),_.jsxs("div",{className:Ie.userInfo,children:[_.jsx("h3",{children:i.name}),_.jsx("p",{children:e.email}),_.jsx("br",{}),_.jsx("span",{children:i.position})]})]})}),_.jsx("nav",{className:Ie.navigation,children:_.jsxs("ul",{className:Ie.navList,children:[_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:U,children:[_.jsx(qI,{size:20}),_.jsx("span",{children:"Dashboard"})]})}),ae?_.jsxs(_.Fragment,{children:[_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ac,{size:20}),_.jsx("span",{children:"Event Attendance"})]})}),_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ac,{size:20}),_.jsx("span",{children:"Room Attendance"})]})}),_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ac,{size:20}),_.jsx("span",{children:"Membership Attendance"})]})})]}):_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{onClick:x,className:Ie.navLink,style:{cursor:"pointer"},children:[_.jsx(VI,{size:20}),_.jsx("span",{children:"Create Event"})]})}),!ae&&_.jsxs(_.Fragment,{children:[_.jsxs(Wi,{to:"/dashboard/event-list",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(UI,{size:20}),_.jsx("span",{children:"Event List"})]}),_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ac,{size:20}),_.jsx("span",{children:"Archive"})]})}),_.jsxs("li",{className:Ie.navItem,children:[_.jsxs(Wi,{to:"/dashboard/registered-students",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(ta,{size:20}),_.jsx("span",{children:"Registered Students"})]}),_.jsx("ul",{className:Ie.dropdown,children:y.map((b,R)=>_.jsx("li",{className:Ie.dropdownItem,children:b},R))})]}),_.jsxs("li",{className:Ie.navItem,children:[_.jsxs(Wi,{to:"/dashboard/registered-teachers",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(ta,{size:20}),_.jsx("span",{children:"Registered Teacher"})]}),_.jsx("ul",{className:Ie.dropdown,children:h.map((b,R)=>_.jsx("li",{className:Ie.dropdownItem,children:b},R))})]}),_.jsx("li",{className:Ie.navItem,children:_.jsxs(Wi,{to:"/dashboard/teacher-registration",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(ta,{size:20}),_.jsx("span",{children:"Teacher Registration"})]})}),_.jsx("li",{className:Ie.navItem,children:_.jsxs(Wi,{to:"/dashboard/student-registration",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(ta,{size:20}),_.jsx("span",{children:"Student Registration"})]})}),_.jsx("li",{className:Ie.navItem,children:_.jsxs(Wi,{to:"/dashboard/nfc-reader",className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ky,{size:20}),_.jsx("span",{children:"NFC Reader"})]})}),_.jsxs("li",{className:Ie.navItem,children:[_.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[_.jsx(Ky,{size:20}),_.jsx("span",{children:"ESP32 NFC Scanners"})]}),_.jsx("ul",{className:Ie.dropdown,children:se.map((b,R)=>_.jsx("li",{className:Ie.dropdownItem,children:b},R))})]})]}),_.jsx("li",{className:Ie.navItem,children:_.jsxs("div",{className:Ie.navLink,onClick:M,children:[_.jsx(zI,{size:20}),_.jsx("span",{children:"File Manager"})]})})]})}),_.jsxs("button",{className:Ie.logoutBtn,onClick:Q,children:[_.jsx(HI,{size:20}),_.jsx("span",{children:"Logout"})]})]}),a&&_.jsx("div",{className:Ie.overlay,onClick:H})]})};function Jx(){var i;const n=gr(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return _.jsxs("div",{className:Ie.dashboardContainer,children:[_.jsx(Xx,{}),_.jsx("main",{className:Ie.mainContent,children:t?_.jsxs("div",{className:Ie.welcomeContainer,children:[_.jsxs("h1",{className:Ie.welcomeTitle,children:["Welcome",_.jsx("br",{})," ",_.jsx("span",{children:e==null?void 0:e.name})]}),_.jsx("p",{className:Ie.welcomeText,children:"Select an option from the sidebar to get started"})]}):_.jsx(b1,{})})]})}const Zx="_container_1vton_5",eN="_card_1vton_17",tN="_cardHeader_1vton_33",nN="_cardTitle_1vton_45",rN="_form_1vton_59",iN="_formGrid_1vton_69",sN="_formGroup_1vton_93",oN="_label_1vton_105",aN="_input_1vton_117",lN="_select_1vton_119",uN="_button_1vton_165",cN="_tableContainer_1vton_215",dN="_table_1vton_215",hN="_status_1vton_273",fN="_statusPending_1vton_289",pN="_statusOngoing_1vton_299",mN="_statusCompleted_1vton_309",gN="_error_1vton_321",yN="_inputError_1vton_333",Le={container:Zx,card:eN,cardHeader:tN,cardTitle:nN,form:rN,formGrid:iN,formGroup:sN,label:oN,input:aN,select:lN,button:uN,tableContainer:cN,table:dN,status:hN,statusPending:fN,statusOngoing:pN,statusCompleted:mN,error:gN,inputError:yN},_N="_buttons_85dii_1",vN="_add_85dii_77",wN="_archive_85dii_77",EN="_logout_85dii_77",TN="_progress_85dii_77",IN="_filemanager_85dii_77",SN="_new_event_85dii_77",qt={buttons:_N,add:vN,archive:wN,logout:EN,progress:TN,filemanager:IN,new_event:SN},CN=()=>{const n=gr(),{userData:e}=n.state||{},t=yi(),[i,o]=O.useState(""),[a,c]=O.useState("unlimited"),[h,p]=O.useState(""),[y,w]=O.useState(""),[T,S]=O.useState("event"),[N,k]=O.useState(""),[D,x]=O.useState("pending"),[U,M]=O.useState(""),[H,Q]=O.useState(""),[se,ae]=O.useState(""),[b,R]=O.useState(""),A=["ESP32-001","ESP32-002","ESP32-003"],L=async j=>{j.preventDefault();try{const I={eventName:i,entryLimit:a,maxEntries:a==="limited"?parseInt(h):null,locations:y,purpose:T,selectedEsp32:N,status:D,startDate:U,startTime:H,endDate:se,endTime:b,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},le=await mm(zt(t,"PendingEvent"),I);await Gl(le,{docId:le.id}),console.log("Event created with ID: ",le.id),alert("Event created successfully!"),V()}catch(I){console.error("Error creating event: ",I),alert("Error creating event. Please try again.")}},V=()=>{o(""),c("unlimited"),p(""),w(""),S("event"),k(""),x("pending"),M(""),Q(""),ae(""),R("")};return _.jsx("div",{className:Le.container,children:_.jsxs("div",{className:Le.card,children:[_.jsx("div",{className:Le.cardHeader,children:_.jsx("h2",{className:Le.cardTitle,children:"Create New Event"})}),_.jsxs("form",{className:Le.form,onSubmit:L,children:[_.jsxs("div",{className:Le.formGrid,children:[_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Event Name"}),_.jsx("input",{type:"text",className:Le.input,value:i,onChange:j=>o(j.target.value),placeholder:"Enter event name"})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Entry Limit"}),_.jsxs("select",{className:Le.select,value:a,name:"Entry Limit",onChange:j=>c(j.target.value),children:[_.jsx("option",{value:"unlimited",children:"Unlimited"}),_.jsx("option",{value:"limited",children:"Limited"})]})]}),a==="limited"&&_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Maximum Entries"}),_.jsx("input",{type:"number",className:Le.input,value:h,onChange:j=>p(j.target.value),placeholder:"Enter maximum entries"})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Location"}),_.jsx("input",{type:"text",className:Le.input,value:y,onChange:j=>w(j.target.value),placeholder:"Enter location"})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Purpose"}),_.jsxs("select",{className:Le.select,value:T,name:"Purpose",onChange:j=>S(j.target.value),children:[_.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),_.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"}),_.jsx("option",{value:"room",name:"Purpose",children:"Room Attendance"})]})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"ESP32 Device"}),_.jsx("select",{className:Le.select,value:N,name:"ESP32 Device",onChange:j=>k(j.target.value),children:A.map(j=>_.jsx("option",{value:j,children:j},j))})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Status"}),_.jsxs("select",{className:Le.select,value:D,name:"Status",onChange:j=>x(j.target.value),children:[_.jsx("option",{value:"pending",name:"Status",children:"Pending"}),_.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"}),_.jsx("option",{value:"completed",name:"Status",children:"Completed"}),_.jsx("option",{value:"pause",name:"Status",children:"Pause"}),_.jsx("option",{value:"continued",name:"Status",children:"Continued"})]})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Start Date"}),_.jsx("input",{type:"date",className:Le.input,value:U,name:"Start Date",onChange:j=>M(j.target.value)})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"Start Time"}),_.jsx("input",{type:"time",className:Le.input,value:H,name:"Start Time",onChange:j=>Q(j.target.value)})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"End Date"}),_.jsx("input",{type:"date",className:Le.input,value:se,name:"End Date",onChange:j=>ae(j.target.value)})]}),_.jsxs("div",{className:Le.formGroup,children:[_.jsx("label",{className:Le.label,children:"End Time"}),_.jsx("input",{type:"time",className:Le.input,value:b,name:"End Time",onChange:j=>R(j.target.value)})]})]}),_.jsx("button",{type:"submit",className:qt.buttons,name:"Create Event Submit",children:_.jsx("span",{children:"Create Event"})})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebasestorage.googleapis.com",cE="storageBucket",RN=2*60*1e3,kN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Mr{constructor(e,t,i=0){super(Lf(e),`Firebase Storage: ${t} (${Lf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Lf(n){return"storage/"+n}function ym(){const n="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,n)}function AN(n){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PN(n){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,n)}function NN(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bN(n){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function DN(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LN(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function ON(n){return new gt(pt.INVALID_URL,"Invalid URL '"+n+"'.")}function MN(n){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function VN(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cE+"' property when initializing the app?")}function FN(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jN(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UN(n){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(n){return new gt(pt.INVALID_ARGUMENT,n)}function dE(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function BN(n){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(n,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vl(n){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ln.makeFromUrl(e,t)}catch{return new ln(e,"")}if(i.path==="")return i;throw MN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(Q){Q.path_=decodeURIComponent(Q.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${w}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},D=t===uE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",U=new RegExp(`^https?://${D}/${o}/${x}`,"i"),H=[{regex:h,indices:p,postModify:a},{regex:N,indices:k,postModify:y},{regex:U,indices:{bucket:1,path:2},postModify:y}];for(let Q=0;Q<H.length;Q++){const se=H[Q],ae=se.regex.exec(e);if(ae){const b=ae[se.indices.bucket];let R=ae[se.indices.path];R||(R=""),i=new ln(b,R),se.postModify(i);break}}if(i==null)throw ON(e);return i}}class $N{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n,e,t){let i=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let y=!1;function w(...x){y||(y=!0,e.apply(null,x))}function T(x){o=setTimeout(()=>{o=null,n(N,p())},x)}function S(){a&&clearTimeout(a)}function N(x,...U){if(y){S();return}if(x){S(),w.call(null,x,...U);return}if(p()||c){S(),w.call(null,x,...U);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,T(H)}let k=!1;function D(x){k||(k=!0,S(),!y&&(o!==null?(x||(h=2),clearTimeout(o),T(0)):x||(h=1)))}return T(0),a=setTimeout(()=>{c=!0,D(!0)},t),D}function WN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){return n!==void 0}function HN(n){return typeof n=="object"&&!Array.isArray(n)}function _m(n){return typeof n=="string"||n instanceof String}function hv(n){return vm()&&n instanceof Blob}function vm(){return typeof Blob<"u"}function dp(n,e,t,i){if(i<e)throw cp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw cp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function hE(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Gs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Gs||(Gs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,i,o,a,c,h,p,y,w,T,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=T,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,k)=>{this.resolve_=N,this.reject_=k,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Mc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,y=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===Gs.NO_ERROR,p=a.getStatus();if(!h||GN(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===Gs.ABORT;i(!1,new Mc(!1,null,w));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new Mc(y,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());qN(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=ym();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?dE():LN();c(p)}else{const p=DN();c(p)}};this.canceled_?t(!1,new Mc(!1,null,!0)):this.backoffId_=zN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function QN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function YN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function JN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ZN(n,e,t,i,o,a,c=!0){const h=hE(n.urlParams),p=n.url+h,y=Object.assign({},n.headers);return XN(y,e),QN(y,t),YN(y,a),JN(y,i),new KN(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t2(...n){const e=e2();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(vm())return new Blob(n);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){if(typeof atob>"u")throw UN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Of{constructor(e,t){this.data=e,this.contentType=t||null}}function fE(n,e){switch(n){case cr.RAW:return new Of(pE(e));case cr.BASE64:case cr.BASE64URL:return new Of(mE(n,e));case cr.DATA_URL:return new Of(s2(e),o2(e))}throw ym()}function pE(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,c=n.charCodeAt(++t);i=65536|(a&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function i2(n){let e;try{e=decodeURIComponent(n)}catch{throw Ll(cr.DATA_URL,"Malformed data URL.")}return pE(e)}function mE(n,e){switch(n){case cr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=r2(e)}catch(o){throw o.message.includes("polyfill")?o:Ll(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class gE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ll(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=a2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function s2(n){const e=new gE(n);return e.base64?mE(cr.BASE64,e.rest):i2(e.rest)}function o2(n){return new gE(n).contentType}function a2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){let i=0,o="";hv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(hv(this.data_)){const i=this.data_,o=n2(i,e,t);return o===null?null:new Ki(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ki(i,!0)}}static getBlob(...e){if(vm()){const t=e.map(i=>i instanceof Ki?i.data_:i);return new Ki(t2.apply(null,t))}else{const t=e.map(c=>_m(c)?fE(cr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new Ki(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n){let e;try{e=JSON.parse(n)}catch{return null}return HN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function u2(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function yE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n,e){return e}class an{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||c2}}let Vc=null;function d2(n){return!_m(n)||n.length<2?n:yE(n)}function _E(){if(Vc)return Vc;const n=[];n.push(new an("bucket")),n.push(new an("generation")),n.push(new an("metageneration")),n.push(new an("name","fullPath",!0));function e(a,c){return d2(c)}const t=new an("name");t.xform=e,n.push(t);function i(a,c){return c!==void 0?Number(c):c}const o=new an("size");return o.xform=i,n.push(o),n.push(new an("timeCreated")),n.push(new an("updated")),n.push(new an("md5Hash",null,!0)),n.push(new an("cacheControl",null,!0)),n.push(new an("contentDisposition",null,!0)),n.push(new an("contentEncoding",null,!0)),n.push(new an("contentLanguage",null,!0)),n.push(new an("contentType",null,!0)),n.push(new an("metadata","customMetadata",!0)),Vc=n,Vc}function h2(n,e){function t(){const i=n.bucket,o=n.fullPath,a=new ln(i,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function f2(n,e,t){const i={};i.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return h2(i,n),i}function vE(n,e,t){const i=wm(e);return i===null?null:f2(n,i,t)}function p2(n,e,t,i){const o=wm(e);if(o===null||!_m(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(y=>{const w=n.bucket,T=n.fullPath,S="/b/"+c(w)+"/o/"+c(T),N=cu(S,t,i),k=hE({alt:"media",token:y});return N+k})[0]}function m2(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="prefixes",pv="items";function g2(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[fv])for(const o of t[fv]){const a=o.replace(/\/$/,""),c=n._makeStorageReference(new ln(e,a));i.prefixes.push(c)}if(t[pv])for(const o of t[pv]){const a=n._makeStorageReference(new ln(e,o.name));i.items.push(a)}return i}function y2(n,e,t){const i=wm(t);return i===null?null:g2(n,e,i)}class Ud{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){if(!n)throw ym()}function _2(n,e){function t(i,o){const a=vE(n,o,e);return Em(a!==null),a}return t}function v2(n,e){function t(i,o){const a=y2(n,e,o);return Em(a!==null),a}return t}function w2(n,e){function t(i,o){const a=vE(n,o,e);return Em(a!==null),p2(a,o,n.host,n._protocol)}return t}function Tm(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=NN():o=xN():t.getStatus()===402?o=PN(n.bucket):t.getStatus()===403?o=bN(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function wE(n){const e=Tm(n);function t(i,o){let a=e(i,o);return i.getStatus()===404&&(a=AN(n.path)),a.serverResponse=o.serverResponse,a}return t}function E2(n,e,t,i,o){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),o&&(a.maxResults=o);const c=e.bucketOnlyServerUrl(),h=cu(c,n.host,n._protocol),p="GET",y=n.maxOperationRetryTime,w=new Ud(h,p,v2(n,e.bucket),y);return w.urlParams=a,w.errorHandler=Tm(e),w}function T2(n,e,t){const i=e.fullServerUrl(),o=cu(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,h=new Ud(o,a,w2(n,t),c);return h.errorHandler=wE(e),h}function I2(n,e){const t=e.fullServerUrl(),i=cu(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function c(p,y){}const h=new Ud(i,o,c,a);return h.successCodes=[200,204],h.errorHandler=wE(e),h}function S2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function C2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=S2(null,e)),i}function R2(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let H="";for(let Q=0;Q<2;Q++)H=H+Math.random().toString().slice(2);return H}const p=h();c["Content-Type"]="multipart/related; boundary="+p;const y=C2(e,i,o),w=m2(y,t),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+p+"--",N=Ki.getBlob(T,i,S);if(N===null)throw FN();const k={name:y.fullPath},D=cu(a,n.host,n._protocol),x="POST",U=n.maxUploadRetryTime,M=new Ud(D,x,_2(n,t),U);return M.urlParams=k,M.headers=c,M.body=N.uploadData(),M.errorHandler=Tm(e),M}class k2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class A2 extends k2{initXhr(){this.xhr_.responseType="text"}}function Bd(){return new A2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this._service=e,t instanceof ln?this._location=t:this._location=ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Js(e,t)}get root(){const e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yE(this._location.path)}get storage(){return this._service}get parent(){const e=l2(this._location.path);if(e===null)return null;const t=new ln(this._location.bucket,e);return new Js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BN(e)}}function EE(n,e,t){n._throwIfRoot("uploadBytes");const i=R2(n.storage,n._location,_E(),new Ki(e,!0),t);return n.storage.makeRequestWithTokens(i,Bd).then(o=>({metadata:o,ref:n}))}function P2(n,e,t=cr.RAW,i){n._throwIfRoot("uploadString");const o=fE(t,e),a=Object.assign({},i);return a.contentType==null&&o.contentType!=null&&(a.contentType=o.contentType),EE(n,o.data,a)}function x2(n){const e={prefixes:[],items:[]};return TE(n,e).then(()=>e)}async function TE(n,e,t){const o=await N2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await TE(n,e,o.nextPageToken)}function N2(n,e){e!=null&&typeof e.maxResults=="number"&&dp("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=E2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Bd)}function b2(n){n._throwIfRoot("getDownloadURL");const e=T2(n.storage,n._location,_E());return n.storage.makeRequestWithTokens(e,Bd).then(t=>{if(t===null)throw jN();return t})}function D2(n){n._throwIfRoot("deleteObject");const e=I2(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Bd)}function L2(n,e){const t=u2(n._location.path,e),i=new ln(n._location.bucket,t);return new Js(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n){return/^[A-Za-z]+:\/\//.test(n)}function M2(n,e){return new Js(n,e)}function IE(n,e){if(n instanceof Im){const t=n;if(t._bucket==null)throw VN();const i=new Js(t,t._bucket);return e!=null?IE(i,e):i}else return e!==void 0?L2(n,e):n}function V2(n,e){if(e&&O2(e)){if(n instanceof Im)return M2(n,e);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return IE(n,e)}function mv(n,e){const t=e==null?void 0:e[cE];return t==null?null:ln.makeFromBucketSpec(t,n)}function F2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Zv(o,n.app.options.projectId))}class Im{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=uE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RN,this._maxUploadRetryTime=kN,this._requests=new Set,o!=null?this._bucket=ln.makeFromBucketSpec(o,this._host):this._bucket=mv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=mv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new $N(dE());{const c=ZN(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const gv="@firebase/storage",yv="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="storage";function zs(n,e,t){return n=it(n),EE(n,e,t)}function j2(n,e,t,i){return n=it(n),P2(n,e,t,i)}function oa(n){return n=it(n),x2(n)}function oi(n){return n=it(n),b2(n)}function wl(n){return n=it(n),D2(n)}function Bt(n,e){return n=it(n),V2(n,e)}function ro(n=Ip(),e){n=it(n);const i=vd(n,SE).getImmediate({identifier:e}),o=Yv("storage");return o&&U2(i,...o),i}function U2(n,e,t,i={}){F2(n,e,t,i)}function B2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Im(t,i,o,e,eo)}function $2(){Ks(new es(SE,B2,"PUBLIC").setMultipleInstances(!0)),Nr(gv,yv,""),Nr(gv,yv,"esm2017")}$2();const z2="_container_rixh2_3",W2="_form_rixh2_17",q2="_nfcButton_rixh2_47",H2="_scanButton_rixh2_47",G2="_scannerContainer_rixh2_65",K2="_scanner_rixh2_65",Q2="_modalOverlay_rixh2_95",Y2="_modalContent_rixh2_123",X2="_status_rixh2_147",J2="_statusWarning_rixh2_165",Z2="_statusInfo_rixh2_179",eb="_statusSuccess_rixh2_193",tb="_statusError_rixh2_207",nb="_pulse_rixh2_1",rb="_reader_rixh2_293",Wn={container:z2,form:W2,nfcButton:q2,scanButton:H2,scannerContainer:G2,scanner:K2,modalOverlay:Q2,modalContent:Y2,status:X2,statusWarning:J2,statusInfo:Z2,statusSuccess:eb,statusError:tb,"animate-pulse":"_animate-pulse_rixh2_245",pulse:nb,reader:rb},ib={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Sm=ga(ib),_v=yi(Sm),sb=ro(Sm),ob=Vr(Sm),ab=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Wn.statusWarning;case"error":return Wn.statusError;case"success":return Wn.statusSuccess;default:return Wn.statusInfo}};return _.jsx("div",{className:Wn.modalOverlay,children:_.jsx("div",{className:Wn.modalContent,children:_.jsx("div",{className:`${Wn.status} ${i()} ${t?Wn["animate-pulse"]:""}`,children:n})})})},lb=()=>{const[n,e]=O.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[t,i]=O.useState(null),[o,a]=O.useState("capture"),[c,h]=O.useState(!1),[p,y]=O.useState(""),[w,T]=O.useState(null),[S,N]=O.useState("info"),[k,D]=O.useState(null),x=O.useRef(null),U=O.useRef(null),M=(I,le="info")=>{y(I),N(le)};O.useEffect(()=>()=>{w&&w.abort()},[w]);const H=I=>{const le=I.target.files[0];i(le)},Q=I=>{a(I),i(null),x.current&&(x.current.value=""),U.current&&(U.current.value="")},se=async()=>{try{const I=await kw(ob,n.email,n.upass);return await Aw(I.user),I.user}catch(I){switch(I.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw I}}},ae=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{y("Waiting for NFC tag...");const I=new NDEFReader;T(I),await I.scan();const le=await new Promise((Ve,xe)=>{const De=async ie=>{try{const me=ie.serialNumber;if(!await L(me)){xe(new Error("Unauthorized NFC tag"));return}I.removeEventListener("reading",De),Ve(me)}catch(me){xe(me)}};I.addEventListener("reading",De),setTimeout(()=>{I.removeEventListener("reading",De),xe(new Error("NFC tag read timeout"))},3e4)});return D(le),M("NFC tag detected successfully","success"),le}catch(I){throw M(I.message,"error"),I}finally{w&&(w.abort(),T(null))}},b=async()=>{const I=Vr(),le=as();try{await jl(I),console.log("User signed out successfully"),setTimeout(()=>{le("/login")},2e3)}catch(Ve){console.error("Error signing out:",Ve)}},R=async()=>{if(!t)return null;try{M("Uploading selfie...","info");const I=n.email.replace(/[@.]/g,"_"),le=Bt(sb,`users/${I}/profile/${t.name}`),Ve=await zs(le,t),xe=await oi(Ve.ref);return M("Selfie uploaded successfully!","success"),xe}catch(I){throw M("Failed to upload selfie: "+I.message,"error"),I}},A=async()=>{try{h(!0);const I=await R();M("Saving your registration details...","info");const Ve={...n,nfcSerialNumber:k,selfieUrl:I,position:"Student",createdAt:lE()},xe=await mm(zt(_v,"RegisteredStudent"),Ve);await Gl(xe,{currentnfcId:xe.id}),M("Registration details saved successfully!","success"),M("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(xe.id)}]}),M("NFC tag written successfully!","success"),M("Creating your account...","info");const ie=await se();return await Gl(xe,{firebaseUserId:ie.uid}),M("Registration completed! Please check your email for verification.","success"),await b(),setTimeout(()=>{M(""),V()},5e3),xe.id}catch(I){console.error("Registration Error:",I);let le="Registration failed: ";throw I.code==="auth/email-already-in-use"?le="This email is already registered. Please use a different email.":I.code==="not-found"?le="NFC tag not found. Please try again.":I.code==="network-error"?le="Network connection issue. Please check your internet connection.":le+=I.message,M(le,"error"),I}finally{h(!1)}},L=async I=>{try{const le=lu(_v,"Toregistered",I);return(await pm(le)).exists()}catch(le){return console.error("NFC Authorization Check Error:",le),!1}},V=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),i(null),y(""),D(null),x.current&&(x.current.value="")},j=async I=>{if(I.preventDefault(),!("NDEFReader"in window)){M("NFC is not supported on this device","warning");return}try{if(M("Waiting for NFC tag... Please place your card","info"),await ae(),M("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){D(null),M("");return}await A()}catch(le){console.error("Registration Error:",le),M("Registration process failed: "+le.message,"error")}};return _.jsxs("div",{className:Wn.container,children:[_.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||p)&&_.jsx(ab,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?S:"warning",isProcessing:c}),_.jsxs("form",{onSubmit:j,className:Wn.form,children:[_.jsx("input",{type:"text",placeholder:"Student Name",value:n.name,onChange:I=>e({...n,name:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:I=>e({...n,email:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:I=>e({...n,course:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:I=>e({...n,studentId:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:I=>e({...n,upass:I.target.value}),required:!0,disabled:c}),_.jsxs("select",{value:n.campus,onChange:I=>e({...n,campus:I.target.value}),required:!0,disabled:c,children:[_.jsx("option",{value:"",children:"Select Campus"}),_.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),_.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),_.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),_.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),_.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),_.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),_.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),_.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),_.jsxs("div",{className:Wn.uploadOptionContainer,children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",ref:x,onChange:H,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),_.jsx("button",{type:"button",onClick:()=>x.current.click(),className:qt.buttons,disabled:c,children:"Take Profile Picture"})]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",ref:U,onChange:H,accept:"image/*",style:{display:"none"},disabled:c}),_.jsx("button",{type:"button",onClick:()=>U.current.click(),className:qt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&_.jsxs("p",{children:["Selected Image: ",t.name,_.jsx("button",{type:"button",onClick:()=>i(null),className:Wn.clearImageButton,disabled:c,children:"Clear"})]}),_.jsx("button",{type:"submit",className:`${qt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:k?"Complete Registration":"Scan NFC Tag"})]})]})},ub="_container_avr77_1",cb="_status_avr77_33",db="_reading_avr77_51",hb="_pulse_avr77_1",fb="_error_avr77_59",pb="_studentInfo_avr77_77",mb="_infoGrid_avr77_107",gb="_infoRow_avr77_117",yb="_selfie_avr77_149",_b="_controls_avr77_171",vb="_button_avr77_185",wb="_readButton_avr77_213",Eb="_resetButton_avr77_231",xn={container:ub,status:cb,reading:db,pulse:hb,error:fb,studentInfo:pb,infoGrid:mb,infoRow:gb,selfie:yb,controls:_b,button:vb,readButton:wb,resetButton:Eb},Tb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Ib=ga(Tb),Sb=yi(Ib),Cb=()=>{const[n,e]=O.useState(null),[t,i]=O.useState(""),[o,a]=O.useState(!1),[c,h]=O.useState(null),p=async()=>{try{a(!0),i("Waiting for NFC card..."),h(null);const w=new NDEFReader;await w.scan(),w.addEventListener("reading",async({message:T})=>{try{const S=T.records.find(x=>x.recordType==="text");if(!S)throw new Error("Invalid NFC card: No student data found");const N=new TextDecoder().decode(S.data);i("Retrieving student data...");const k=lu(Sb,"RegisteredStudent",N),D=await pm(k);if(D.exists()){const x=D.data();e(x),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(S){h(S.message),e(null)}finally{a(!1),w.stop()}})}catch(w){h(w.message),a(!1)}},y=()=>{e(null),i(""),h(null),a(!1)};return _.jsxs("div",{className:xn.container,children:[_.jsx("h1",{children:"Student NFC Reader"}),t&&_.jsx("div",{className:`${xn.status} ${o?xn.reading:""}`,children:t}),c&&_.jsx("div",{className:xn.error,children:c}),n&&_.jsxs("div",{className:xn.studentInfo,children:[_.jsx("h2",{children:"Student Information"}),_.jsxs("div",{className:xn.infoGrid,children:[_.jsxs("div",{className:xn.infoRow,children:[_.jsx("span",{children:"Name:"}),_.jsx("span",{children:n.studentName})]}),_.jsxs("div",{className:xn.infoRow,children:[_.jsx("span",{children:"Student ID:"}),_.jsx("span",{children:n.studentId})]}),_.jsxs("div",{className:xn.infoRow,children:[_.jsx("span",{children:"Email:"}),_.jsx("span",{children:n.email})]}),_.jsxs("div",{className:xn.infoRow,children:[_.jsx("span",{children:"Course:"}),_.jsx("span",{children:n.course})]}),_.jsxs("div",{className:xn.infoRow,children:[_.jsx("span",{children:"Campus:"}),_.jsx("span",{children:n.campus})]}),n.selfieUrl&&_.jsx("div",{className:xn.selfie,children:_.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),_.jsxs("div",{className:xn.controls,children:[_.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${qt.buttons} ${qt.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&_.jsx("button",{onClick:y,className:`${qt.buttons} ${qt.buttons}`,children:"Clear & Scan New Card"})]})]})},Rb="_login_container_158dy_9",kb="_login_card_158dy_31",Ab="_login_title_158dy_49",Pb="_login_form_158dy_67",xb="_form_group_158dy_79",Nb="_login_input_158dy_89",bb="_login_button_158dy_121",Db="_error_message_158dy_167",Lb="_divider_158dy_185",Ob="_google_button_158dy_233",Mb="_google_icon_158dy_285",yn={login_container:Rb,login_card:kb,login_title:Ab,login_form:Pb,form_group:xb,login_input:Nb,login_button:bb,error_message:Db,divider:Lb,google_button:Ob,google_icon:Mb},Vb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Fb=ga(Vb),jb=new ni,Us=Vr(),Qo=yi(Fb),Ub=()=>{const[n,e]=O.useState(""),[t,i]=O.useState(""),[o,a]=O.useState(""),[c,h]=O.useState(!1),[p,y]=O.useState(!1),[w,T]=O.useState(null),[S,N]=O.useState(!1),k=as();O.useEffect(()=>{let H=null;return(async()=>{if(!S)if("NDEFReader"in window)try{const se=new window.NDEFReader;await se.scan(),y(!0),T(se),H=se,se.onreading=async({message:ae})=>{try{const b=ae.records.find(A=>A.recordType==="text");if(!b)throw new Error("Invalid NFC card: No user data found");const R=new TextDecoder().decode(b.data);try{const A=await D(R);A?(localStorage.setItem("userRole",A),N(!0),k("/dashboard")):a("NFC card is not registered in the system.")}catch(A){console.error("Authentication error:",A),a("Failed to authenticate with NFC card.")}}catch(b){console.error("Error processing NFC card:",b),a("Failed to process NFC card.")}},se.onerror=ae=>{console.error("NFC read error:",ae),a("Error reading NFC card.")}}catch(se){console.error("Error setting up NFC:",se),y(!1)}else y(!1)})(),()=>{var se;if(H)try{H.abort(),(se=H.removeAllListeners)==null||se.call(H),T(null),y(!1)}catch(ae){console.error("Error cleaning up NFC reader:",ae)}}},[S]);const D=async(H,Q)=>{try{const se=xr(zt(Qo,"RegisteredAdmin"),bn("currentnfcId","==",H),bn("email","==",Q)),ae=await vn(se);if(!ae.empty){const V=ae.docs[0].data();return await xc(Us,V.email,V.upass),"admin"}const b=xr(zt(Qo,"RegisteredTeacher"),bn("currentnfcId","==",H),bn("email","==",Q)),R=await vn(b);if(!R.empty){const V=R.docs[0].data();return await xc(Us,V.email,V.upass),"teacher"}const A=xr(zt(Qo,"RegisteredStudent"),bn("currentnfcId","==",H),bn("email","==",Q)),L=await vn(A);if(!L.empty){const V=L.docs[0].data();return await xc(Us,V.email,V.upass),"student"}return null}catch(se){throw console.error("Error checking user role by NFC:",se),se}},x=async H=>{try{const Q=xr(zt(Qo,"RegisteredAdmin"),bn("email","==",H));if(!(await vn(Q)).empty)return"admin";const ae=xr(zt(Qo,"RegisteredTeacher"),bn("email","==",H));if(!(await vn(ae)).empty)return"teacher";const R=xr(zt(Qo,"RegisteredStudent"),bn("email","==",H));return(await vn(R)).empty?null:"student"}catch(Q){return console.error("Error checking user role:",Q),null}},U=async H=>{H.preventDefault(),h(!0),a("");try{const Q=await xc(Us,n,t),se=await x(Q.user.email);se?(localStorage.setItem("userRole",se),N(!0),k("/dashboard")):(await jl(Us),alert("Access denied. You are not registered as an admin, teacher, or student."),a("Access denied. Please contact your administrator."))}catch(Q){a(Q.message)}finally{h(!1)}},M=async()=>{h(!0),a("");try{const H=await QR(Us,jb),Q=await x(H.user.email);Q?(localStorage.setItem("userRole",Q),N(!0),k("/dashboard")):(await jl(Us),alert("Access denied. You are not registered as an admin, teacher, or student."),a("Access denied. Please contact your administrator."))}catch(H){a(H.message)}finally{h(!1)}};return _.jsx("div",{className:yn.login_container,children:_.jsxs("div",{className:yn.login_card,children:[_.jsx("h1",{className:yn.login_title,children:"Login"}),p&&_.jsx("div",{className:yn.nfc_status,children:_.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),_.jsxs("form",{onSubmit:U,className:yn.login_form,children:[_.jsx("div",{className:yn.form_group,children:_.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:H=>e(H.target.value),required:!0,className:yn.login_input})}),_.jsx("div",{className:yn.form_group,children:_.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:H=>i(H.target.value),required:!0,className:yn.login_input})}),o&&_.jsx("div",{className:yn.error_message,children:o}),_.jsx("button",{type:"submit",className:yn.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),_.jsx("div",{className:yn.divider,children:_.jsx("span",{children:"Or continue with"})}),_.jsxs("button",{type:"button",onClick:M,disabled:c,className:yn.google_button,children:[_.jsx("svg",{className:yn.google_icon,viewBox:"0 0 24 24",children:_.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},Bb="_event_list_container_15dvt_1",$b="_events_grid_15dvt_23",zb="_event_card_15dvt_33",Wb="_card_header_15dvt_49",qb="_card_basic_info_15dvt_69",Hb="_card_details_15dvt_93",Gb="_event_info_15dvt_101",Kb="_table_container_15dvt_125",Qb="_action_buttons_15dvt_169",Yb="_edit_btn_15dvt_179",Xb="_delete_btn_15dvt_179",Pr={event_list_container:Bb,events_grid:$b,event_card:zb,card_header:Wb,card_basic_info:qb,card_details:Hb,event_info:Gb,table_container:Kb,action_buttons:Qb,edit_btn:Yb,delete_btn:Xb},Jb=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(null),o=as(),a=yi(),c=Vr();O.useEffect(()=>{h()},[]);const h=async()=>{try{const S=c.currentUser;if(!S)return;const N=zt(a,"PendingEvent"),k=xr(N,bn("createdBy","==",S.email)),x=(await vn(k)).docs.map(U=>({id:U.id,...U.data()}));e(x)}catch(S){console.error("Error fetching events:",S)}},p=S=>S?S.toDate?S.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(S).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",y=S=>{o(`/dashboard/edit-event/${S}`)},w=async S=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Kx(lu(a,"events",S)),h()}catch(N){console.error("Error deleting event:",N)}},T=S=>{i(t===S?null:S)};return _.jsxs("div",{className:Pr.event_list_container,children:[_.jsx("h2",{children:"Event List"}),_.jsx("div",{className:Pr.events_grid,children:n.map(S=>{var N;return _.jsxs("div",{className:`${Pr.event_card} ${t===S.id?"expanded":""}`,children:[_.jsxs("div",{className:Pr.card_header,onClick:()=>T(S.id),children:[_.jsxs("div",{className:Pr.card_basic_info,children:[_.jsx("h3",{children:S.eventName}),_.jsxs("p",{children:["ID: ",S.id]}),_.jsxs("p",{children:["Created: ",p(S.createdAt)]})]}),t===S.id?_.jsx(jI,{}):_.jsx(FI,{})]}),t===S.id&&_.jsxs("div",{className:Pr.card_details,children:[_.jsxs("div",{className:Pr.event_info,children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Location:"})," ",S.locations]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Description:"})," ",S.description]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Start Time:"})," ",S.startTime]}),_.jsxs("p",{children:[_.jsx("strong",{children:"End Time:"})," ",S.endTime]})]}),_.jsx("div",{className:Pr.table_container,children:_.jsxs("table",{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"STUDENT ID"}),_.jsx("th",{children:"STUDENT NAME"}),_.jsx("th",{children:"COURSE"}),_.jsx("th",{children:"CAMPUS"}),_.jsx("th",{children:"DATE"}),_.jsx("th",{children:"ACTIONS"})]})}),_.jsx("tbody",{children:(N=S.attendees)==null?void 0:N.map((k,D)=>_.jsxs("tr",{children:[_.jsx("td",{children:k.studentId}),_.jsx("td",{children:k.name}),_.jsx("td",{children:k.course}),_.jsx("td",{children:k.campus}),_.jsx("td",{children:p(k.dateAttended)}),_.jsxs("td",{className:"action-buttons",children:[_.jsx("button",{onClick:()=>y(S.id),className:Pr.edit_btn,children:_.jsx(KI,{size:16})}),_.jsx("button",{onClick:()=>w(S.id),className:Pr.delete_btn,children:_.jsx(wp,{size:16})})]})]},D))})]})})]})]},S.id)})})]})},Zb="_fileManager_c4lw2_5",eD="_header_c4lw2_17",tD="_actions_c4lw2_45",nD="_navigation_c4lw2_55",rD="_backButton_c4lw2_77",iD="_currentPath_c4lw2_109",sD="_content_c4lw2_121",oD="_item_c4lw2_141",aD="_itemContent_c4lw2_171",lD="_actionButton_c4lw2_195",uD="_dropdownMenu_c4lw2_229",cD="_deleteButton_c4lw2_283",dD="_modal_c4lw2_301",hD="_modalContent_c4lw2_327",fD="_modalHeader_c4lw2_351",pD="_closeButton_c4lw2_379",mD="_modalNavigation_c4lw2_405",gD="_folderList_c4lw2_423",yD="_folderItem_c4lw2_443",_D="_folderContent_c4lw2_473",vD="_modalActions_c4lw2_485",wD="_cancelButton_c4lw2_503",ED="_authContainer_c4lw2_521",TD="_authMethods_c4lw2_539",ID="_passwordAuth_c4lw2_553",SD="_passwordInput_c4lw2_563",CD="_nfcAuth_c4lw2_579",RD="_error_c4lw2_587",Ge={fileManager:Zb,header:eD,actions:tD,navigation:nD,backButton:rD,currentPath:iD,content:sD,item:oD,itemContent:aD,actionButton:lD,dropdownMenu:uD,deleteButton:cD,modal:dD,modalContent:hD,modalHeader:fD,closeButton:pD,modalNavigation:mD,folderList:gD,folderItem:yD,folderContent:_D,modalActions:vD,cancelButton:wD,authContainer:ED,authMethods:TD,passwordAuth:ID,passwordInput:SD,nfcAuth:CD,error:RD},CE=6048e5,kD=864e5,vv=Symbol.for("constructDateFrom");function os(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&vv in n?n[vv](e):n instanceof Date?new n.constructor(e):new Date(e)}function yr(n,e){return os(e||n,n)}let AD={};function $d(){return AD}function Kl(n,e){var h,p,y,w;const t=$d(),i=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((w=(y=t.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,o=yr(n,e==null?void 0:e.in),a=o.getDay(),c=(a<i?7:0)+a-i;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function pd(n,e){return Kl(n,{...e,weekStartsOn:1})}function RE(n,e){const t=yr(n,e==null?void 0:e.in),i=t.getFullYear(),o=os(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const a=pd(o),c=os(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=pd(c);return t.getTime()>=a.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function wv(n){const e=yr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function PD(n,...e){const t=os.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function Ev(n,e){const t=yr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function xD(n,e,t){const[i,o]=PD(t==null?void 0:t.in,n,e),a=Ev(i),c=Ev(o),h=+a-wv(a),p=+c-wv(c);return Math.round((h-p)/kD)}function ND(n,e){const t=RE(n,e),i=os(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),pd(i)}function bD(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function DD(n){return!(!bD(n)&&typeof n!="number"||isNaN(+yr(n)))}function LD(n,e){const t=yr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const OD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MD=(n,e,t)=>{let i;const o=OD[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Mf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const VD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UD={date:Mf({formats:VD,defaultWidth:"full"}),time:Mf({formats:FD,defaultWidth:"full"}),dateTime:Mf({formats:jD,defaultWidth:"full"})},BD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$D=(n,e,t,i)=>BD[n];function El(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):c;o=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[c]}const a=n.argumentCallback?n.argumentCallback(e):e;return o[a]}}const zD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QD=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},YD={ordinalNumber:QD,era:El({values:zD,defaultWidth:"wide"}),quarter:El({values:WD,defaultWidth:"wide",argumentCallback:n=>n-1}),month:El({values:qD,defaultWidth:"wide"}),day:El({values:HD,defaultWidth:"wide"}),dayPeriod:El({values:GD,defaultWidth:"wide",formattingValues:KD,defaultFormattingWidth:"wide"})};function Tl(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],a=e.match(o);if(!a)return null;const c=a[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?JD(h,T=>T.test(c)):XD(h,T=>T.test(c));let y;y=n.valueCallback?n.valueCallback(p):p,y=t.valueCallback?t.valueCallback(y):y;const w=e.slice(c.length);return{value:y,rest:w}}}function XD(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function JD(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function ZD(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],a=e.match(n.parsePattern);if(!a)return null;let c=n.valueCallback?n.valueCallback(a[0]):a[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}const eL=/^(\d+)(th|st|nd|rd)?/i,tL=/\d+/i,nL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rL={any:[/^b/i,/^(a|c)/i]},iL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sL={any:[/1/i,/2/i,/3/i,/4/i]},oL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hL={ordinalNumber:ZD({matchPattern:eL,parsePattern:tL,valueCallback:n=>parseInt(n,10)}),era:Tl({matchPatterns:nL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:iL,defaultMatchWidth:"wide",parsePatterns:sL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Tl({matchPatterns:oL,defaultMatchWidth:"wide",parsePatterns:aL,defaultParseWidth:"any"}),day:Tl({matchPatterns:lL,defaultMatchWidth:"wide",parsePatterns:uL,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:cL,defaultMatchWidth:"any",parsePatterns:dL,defaultParseWidth:"any"})},fL={code:"en-US",formatDistance:MD,formatLong:UD,formatRelative:$D,localize:YD,match:hL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pL(n,e){const t=yr(n,e==null?void 0:e.in);return xD(t,LD(t))+1}function mL(n,e){const t=yr(n,e==null?void 0:e.in),i=+pd(t)-+ND(t);return Math.round(i/CE)+1}function kE(n,e){var w,T,S,N;const t=yr(n,e==null?void 0:e.in),i=t.getFullYear(),o=$d(),a=(e==null?void 0:e.firstWeekContainsDate)??((T=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:T.firstWeekContainsDate)??o.firstWeekContainsDate??((N=(S=o.locale)==null?void 0:S.options)==null?void 0:N.firstWeekContainsDate)??1,c=os((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,a),c.setHours(0,0,0,0);const h=Kl(c,e),p=os((e==null?void 0:e.in)||n,0);p.setFullYear(i,0,a),p.setHours(0,0,0,0);const y=Kl(p,e);return+t>=+h?i+1:+t>=+y?i:i-1}function gL(n,e){var h,p,y,w;const t=$d(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((w=(y=t.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,o=kE(n,e),a=os((e==null?void 0:e.in)||n,0);return a.setFullYear(o,0,i),a.setHours(0,0,0,0),Kl(a,e)}function yL(n,e){const t=yr(n,e==null?void 0:e.in),i=+Kl(t,e)-+gL(t,e);return Math.round(i/CE)+1}function Ye(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const zi={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return Ye(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ye(t+1,2)},d(n,e){return Ye(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ye(n.getHours()%12||12,e.length)},H(n,e){return Ye(n.getHours(),e.length)},m(n,e){return Ye(n.getMinutes(),e.length)},s(n,e){return Ye(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return Ye(o,e.length)}},Yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tv={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return zi.y(n,e)},Y:function(n,e,t,i){const o=kE(n,i),a=o>0?o:1-o;if(e==="YY"){const c=a%100;return Ye(c,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Ye(a,e.length)},R:function(n,e){const t=RE(n);return Ye(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ye(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ye(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ye(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return zi.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ye(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=yL(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ye(o,e.length)},I:function(n,e,t){const i=mL(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):zi.d(n,e)},D:function(n,e,t){const i=pL(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Ye(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ye(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ye(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Ye(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=Yo.noon:i===0?o=Yo.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=Yo.evening:i>=12?o=Yo.afternoon:i>=4?o=Yo.morning:o=Yo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return zi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):zi.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):zi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):zi.s(n,e)},S:function(n,e){return zi.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Sv(i);case"XXXX":case"XX":return $s(i);case"XXXXX":case"XXX":default:return $s(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return Sv(i);case"xxxx":case"xx":return $s(i);case"xxxxx":case"xxx":default:return $s(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Iv(i,":");case"OOOO":default:return"GMT"+$s(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Iv(i,":");case"zzzz":default:return"GMT"+$s(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return Ye(i,e.length)},T:function(n,e,t){return Ye(+n,e.length)}};function Iv(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),a=i%60;return a===0?t+String(o):t+String(o)+e+Ye(a,2)}function Sv(n,e){return n%60===0?(n>0?"-":"+")+Ye(Math.abs(n)/60,2):$s(n,e)}function $s(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Ye(Math.trunc(i/60),2),a=Ye(i%60,2);return t+o+e+a}const Cv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AE=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_L=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return Cv(n,e);let a;switch(i){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Cv(i,e)).replace("{{time}}",AE(o,e))},vL={p:AE,P:_L},wL=/^D+$/,EL=/^Y+$/,TL=["D","DD","YY","YYYY"];function IL(n){return wL.test(n)}function SL(n){return EL.test(n)}function CL(n,e,t){const i=RL(n,e,t);if(console.warn(i),TL.includes(n))throw new RangeError(i)}function RL(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PL=/^'([^]*?)'?$/,xL=/''/g,NL=/[a-zA-Z]/;function Rv(n,e,t){var w,T,S,N;const i=$d(),o=i.locale??fL,a=i.firstWeekContainsDate??((T=(w=i.locale)==null?void 0:w.options)==null?void 0:T.firstWeekContainsDate)??1,c=i.weekStartsOn??((N=(S=i.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??0,h=yr(n,t==null?void 0:t.in);if(!DD(h))throw new RangeError("Invalid time value");let p=e.match(AL).map(k=>{const D=k[0];if(D==="p"||D==="P"){const x=vL[D];return x(k,o.formatLong)}return k}).join("").match(kL).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const D=k[0];if(D==="'")return{isToken:!1,value:bL(k)};if(Tv[D])return{isToken:!0,value:k};if(D.match(NL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:k}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const y={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return p.map(k=>{if(!k.isToken)return k.value;const D=k.value;(SL(D)||IL(D))&&CL(D,e,String(n));const x=Tv[D[0]];return x(h,D,o.localize,y)}).join("")}function bL(n){const e=n.match(PL);return e?e[1].replace(xL,"'"):n}const PE=({children:n,currentPath:e,userData:t})=>{const i=Vr(),o=ro(),[a,c]=O.useState([]),h=T=>T.replace(/[@.]/g,"_"),p=async()=>{if(!i.currentUser||a.length===0)return;const T=h(i.currentUser.email),S=Rv(new Date,"yyyy-MM-dd"),N=`users/${T}/process_log/${S}_activity.txt`,k=Bt(o,N);try{let D="";try{const M=await oi(k);D=await(await fetch(M)).text()}catch{console.log("Creating new log file for today")}const x=a.join(`
`),U=D?`${D}
${x}`:x;await j2(k,U,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),c([])}catch(D){console.error("Error saving logs:",D)}},y=T=>{if(!i.currentUser)return;const S=`[${Rv(new Date,"yyyy-MM-dd HH:mm:ss")}] ${T}`;c(N=>[...N,S])},w=T=>{if(T.type==="file"){const k=T.files;return k&&k.length>0?Array.from(k).map(D=>`${D.name} (${(D.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const S=T.querySelector("span");if(S)return S.textContent.trim();const N=T.querySelector("span");if(N)return N.textContent.trim();if(T.tagName.toLowerCase()==="a")return T.getAttribute("to")||T.getAttribute("href")||"Link";if(T.tagName.toLowerCase()==="input"){const k=T.getAttribute("placeholder");if(k)return`Input: ${k}`;const D=T.getAttribute("name");if(D)return`Input: ${D}`;const x=document.querySelector(`label[for="${T.id}"]`);if(x)return`Input: ${x.textContent.trim()}`}if(T.tagName.toLowerCase()==="select"){const k=T.getAttribute("name");if(k)return`Select: ${k}`}return T.className||T.tagName.toLowerCase()};return O.useEffect(()=>{const T=setInterval(p,6e4);return()=>{clearInterval(T),p()}},[a]),O.useEffect(()=>{const T=k=>{var U;const D=k.target,x=D.closest(".styles_navItem__");if(x){const M=w(x);let H="Sidebar Navigation";M.includes("Dashboard")?H="Dashboard Navigation":M.includes("Create Event")?H="Event Creation":M.includes("Event List")?H="Event Listing":M.includes("Registered Students")?H="Student Management":M.includes("Registered Teacher")?H="Teacher Management":M.includes("Teacher Registration")?H="Teacher Registration":M.includes("Student Registration")?H="Student Registration":M.includes("NFC Reader")?H="NFC Management":M.includes("File Manager")?H="File Management":M.includes("Logout")&&(H="Authentication");const Q=`${H}: Clicked "${M}"`;y(Q)}if(["button","div","li","a"].includes(D.tagName.toLowerCase())){(U=D.textContent)==null||U.trim().toLowerCase();const M=w(D),H=`Clicked on ${D.tagName.toLowerCase()}: ${M}`;y(H)}},S=k=>{const D=k.target;if(["input","textarea","select"].includes(D.tagName.toLowerCase())){const U=`Input value in ${w(D)} - Final Value: ${D.value}`;y(U)}},N=k=>{const D=k.target,x=D.getAttribute("name"),U=D.getAttribute("id"),M=`Form submitted${x?` - Form Name: "${x}"`:U?` - Form ID: "${U}"`:""}`;y(M),p()};return document.addEventListener("click",T),document.addEventListener("blur",S,!0),document.addEventListener("submit",N),()=>{document.removeEventListener("click",T),document.removeEventListener("blur",S,!0),document.removeEventListener("submit",N)}},[i.currentUser]),O.useEffect(()=>{const T=U=>{const M=U.target.files[0];if(!M)return;const H=`${e}/${M.name}`,Q=`File Upload: "${M.name}" (${(M.size/1024).toFixed(2)} KB) to "${H}"`;y(Q)},S=U=>{const M=`${e}/${U}`,H=`Created Folder: "${U}" at "${M}"`;y(H)},N=(U,M)=>{const H=`${e}/${U.name}`,Q=`Moved ${U.type}: "${U.name}" from "${H}" to "${M}"`;y(Q)},k=(U,M)=>{const H=`${e}/${U.name}`,Q=`Copied ${U.type}: "${U.name}" from "${H}" to "${M}"`;y(Q)},D=U=>{const M=`${e}/${U.name}`,H=`Deleted ${U.type}: "${U.name}" from "${M}"`;y(H)},x=(U,M)=>{`${e}${U.name}`;const H=`Renamed ${U.type}: from "${U.name}" to "${M}" at path "${e}"`;y(H)};return window.userActionLogger={onFileUpload:T,onCreateFolder:S,onMove:N,onCopy:k,onDelete:D,onRename:x},()=>{delete window.userActionLogger}},[e,t]),_.jsx(_.Fragment,{children:n})},DL=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:a})=>{const c=O.useRef(null);return O.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[e]),n?_.jsxs("div",{className:Ge.dropdownMenu,ref:c,children:[_.jsx("button",{onClick:t,children:"Move"}),_.jsx("button",{onClick:i,children:"Copy"}),_.jsx("button",{onClick:a,children:"Rename"}),_.jsx("button",{onClick:o,className:Ge.deleteButton,children:"Delete"})]}):null},LL=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:a,onSelect:c})=>{const[h,p]=O.useState([]),[y,w]=O.useState(""),T=ro(),[S,N]=O.useState(null);O.useEffect(()=>{if(n){const U=`users/${i.email.replace("@","_").replace(".","_")}`;w(U),k(U)}},[n,i]);const k=async U=>{try{const M=Bt(T,U),Q=(await oa(M)).prefixes.map(se=>({name:se.name,fullPath:`${U}/${se.name}`}));p(Q)}catch(M){console.error("Error listing folders:",M)}},D=U=>{S&&N(S),w(U),k(U)},x=()=>{const U=`users/${i.email.replace("@","_").replace(".","_")}`,M=y.split("/").slice(0,-1).join("/");M.startsWith(U)&&(w(M),k(M))};return n?_.jsx("div",{className:Ge.modal,children:_.jsxs("div",{className:Ge.modalContent,children:[_.jsxs("div",{className:Ge.modalHeader,children:[_.jsx("h3",{children:"Select Destination Folder"}),_.jsx("button",{onClick:e,className:Ge.closeButton,children:_.jsx(yd,{size:20})})]}),_.jsxs("div",{className:Ge.modalNavigation,children:[_.jsxs("button",{onClick:x,className:Ge.backButton,children:[_.jsx($v,{size:20}),"Back"]}),_.jsx("span",{className:Ge.currentPath,children:y})]}),_.jsx("div",{className:Ge.folderList,children:h.map(U=>_.jsx("div",{className:Ge.folderItem,children:_.jsxs("div",{className:Ge.folderContent,onClick:()=>D(U.fullPath),children:[_.jsx(Wv,{size:24}),_.jsx("span",{children:U.name})]})},U.fullPath))}),_.jsxs("div",{className:Ge.modalActions,children:[_.jsx("button",{onClick:()=>{c(y)},className:qt.buttons,children:"Select This Folder"}),_.jsx("button",{onClick:e,className:`${qt.buttons} ${Ge.cancelButton}`,children:"Cancel"})]})]})}):null},OL=()=>{var $e;const[n,e]=O.useState(!1),[t,i]=O.useState(""),[o,a]=O.useState(""),[c,h]=O.useState(""),[p,y]=O.useState([]),[w,T]=O.useState([]),[S,N]=O.useState(!1),k=gr();as();const D=ro(),[x,U]=O.useState(null),[M,H]=O.useState({x:0,y:0}),Q=($e=k.state)==null?void 0:$e.userData,[se,ae]=O.useState(!1),[b,R]=O.useState(null),[A,L]=O.useState(null);O.useEffect(()=>{"NDEFReader"in window&&N(!0)},[]),O.useEffect(()=>{if(n&&Q){const ne=`users/${Q.email.replace("@","_").replace(".","_")}`;h(ne),I(ne)}},[n,Q]);const V=()=>{t===(Q==null?void 0:Q.upass)?(e(!0),a("")):a("Invalid password")},j=async()=>{try{const ne=new NDEFReader;await ne.scan(),ne.addEventListener("reading",({serialNumber:ce})=>{ce===(Q==null?void 0:Q.currentnfcId)?(e(!0),a("")):a("Invalid NFC card")})}catch(ne){a("Error reading NFC: "+ne.message)}},I=async ne=>{try{const ce=Bt(D,ne),ke=await oa(ce),Je=ke.items.map(async Gt=>{const Fr=await oi(Gt);return{name:Gt.name,url:Fr,type:"file"}}),Tn=ke.prefixes.filter(Gt=>Gt.name!=="process_log").map(Gt=>({name:Gt.name,type:"folder"})),yt=await Promise.all(Je);y(yt),T(Tn)}catch(ce){console.error("Error listing files:",ce)}},le=async ne=>{const ce=ne.target.files[0];if(ce)try{const ke=Bt(D,`${c}/${ce.name}`);await zs(ke,ce),window.userActionLogger&&window.userActionLogger.onFileUpload(ne),await I(c)}catch(ke){console.error("Error uploading file:",ke)}},Ve=async()=>{const ne=prompt("Enter folder name:");if(!ne)return;const ce=Bt(D,`${c}/${ne}/.placeholder`),ke=new Blob([""],{type:"text/plain"});await zs(ce,ke),window.userActionLogger&&window.userActionLogger.onCreateFolder(ne),await I(c)},xe=ne=>{const ce=`${c}/${ne}`;h(ce),I(ce)},De=()=>{const ne=c.split("/").slice(0,-1).join("/");ne.startsWith(`users/${Q.email.replace("@","_").replace(".","_")}`)&&(h(ne),I(ne))};if(!n)return _.jsxs("div",{className:Ge.authContainer,children:[_.jsx("h2",{children:"Authentication Required"}),_.jsxs("div",{className:Ge.authMethods,children:[_.jsxs("div",{className:Ge.passwordAuth,children:[_.jsx("input",{type:"password",value:t,onChange:ne=>i(ne.target.value),placeholder:"Enter password",className:Ge.passwordInput}),_.jsx("button",{onClick:V,className:qt.buttons,children:"Submit"})]}),S&&_.jsx("div",{className:Ge.nfcAuth,children:_.jsx("button",{onClick:j,className:qt.buttons,children:"Authenticate with NFC"})})]}),o&&_.jsx("p",{className:Ge.error,children:o})]});const ie=(ne,ce)=>{ne.preventDefault(),ne.stopPropagation();const ke=ne.currentTarget.getBoundingClientRect();H({x:ke.left,y:ke.bottom}),U(ce),L(ce)},me=async()=>{if(!A){alert("Please select an item to move"),console.log(A);return}R("move"),ae(!0)},ue=async()=>{if(!A){alert("Please select an item to copy"),console.log(A);return}R("copy"),ae(!0)},$=async()=>{if(x)try{const ne=`${c}/${x.name}`,ce=Bt(D,ne);x.type==="file"?await wl(ce):await Y(ne),window.userActionLogger&&window.userActionLogger.onDelete(x),await I(c)}catch(ne){console.error("Error deleting item:",ne),alert(`Failed to delete ${x.name}. ${ne.message}`)}},Y=async ne=>{try{const ce=Bt(D,ne),ke=await oa(ce);for(const Je of ke.items)await wl(Je);for(const Je of ke.prefixes)await Y(`${ne}/${Je.name}`)}catch(ce){throw console.error("Error deleting folder:",ce),ce}},ve=async()=>{if(!x)return;const ne=prompt("Enter new name:",x.name);if(!(!ne||ne===x.name))try{const ce=Bt(D,`${c}/${x.name}`),ke=Bt(D,`${c}/${ne}`);if(x.type==="file"){const Je=await oi(ce),yt=await(await fetch(Je)).blob();await zs(ke,yt),await wl(ce)}window.userActionLogger&&window.userActionLogger.onRename(x,ne),await I(c)}catch(ce){console.error("Error renaming item:",ce)}},Ne=async ne=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:A,currentPath:c,destinationPath:ne,operation:b}),!A){console.error("No item selected"),alert("Please select an item to move or copy"),ae(!1);return}try{const ce=Bt(D,`${c}/${A.name}`),ke=Bt(D,`${ne}/${A.name}`);if(A.type==="file"){const Je=await oi(ce),yt=await(await fetch(Je)).blob();await zs(ke,yt),b==="move"&&await wl(ce)}else await be(`${c}/${A.name}`,`${ne}/${A.name}`,b==="move");window.userActionLogger&&(b==="move"?window.userActionLogger.onMove(A,ne):b==="copy"&&window.userActionLogger.onCopy(A,ne)),ae(!1),R(null),await I(c)}catch(ce){console.error(`Error ${b}ing item:`,ce),alert(`Failed to ${b} item: ${ce.message}`),ae(!1),R(null)}},be=async(ne,ce,ke=!1)=>{try{const Je=Bt(D,ne),Tn=await oa(Je);for(const yt of Tn.items){const Gt=await oi(yt),ds=await(await fetch(Gt)).blob(),hs=Bt(D,`${ce}/${yt.name}`);await zs(hs,ds),ke&&await wl(yt)}for(const yt of Tn.prefixes)await be(`${ne}/${yt.name}`,`${ce}/${yt.name}`,ke)}catch(Je){throw console.error("Error copying folder:",Je),Je}},Me=(ne,ce)=>_.jsxs("div",{className:Ge.item,onClick:ke=>{ke.target.closest(`.${Ge.actionButton}`)||ke.target.closest(`.${Ge.dropdownMenu}`)||(ce==="folder"?xe(ne.name):window.open(ne.url,"_blank"))},children:[_.jsxs("div",{className:Ge.itemContent,children:[ce==="folder"?_.jsx(Wv,{size:24}):_.jsx($I,{size:24}),_.jsx("span",{children:ne.name})]}),_.jsx("button",{className:Ge.actionButton,onClick:ke=>{ke.stopPropagation();const Je={...ne,type:ce};ie(ke,Je)},children:_.jsx(BI,{size:16})}),(x==null?void 0:x.name)===ne.name&&_.jsx(DL,{isOpen:!0,onClose:()=>{U(null)},onMove:me,onCopy:ue,onDelete:$,onRename:ve})]},`${ce}-${ne.name}`);return _.jsx(PE,{currentPath:c,userData:Q,children:_.jsxs("div",{className:Ge.fileManager,children:[_.jsxs("div",{className:Ge.header,children:[_.jsx("h2",{children:"File Manager"}),_.jsxs("div",{className:Ge.actions,children:[c===`users/${Q.email.replace("@","_").replace(".","_")}`&&_.jsxs("button",{onClick:Ve,className:qt.buttons,children:[_.jsx(WI,{size:20}),"New Folder"]}),_.jsxs("label",{className:qt.buttons,children:[_.jsx(QI,{size:20}),"Upload File",_.jsx("input",{type:"file",onChange:le,style:{display:"none"}})]})]})]}),_.jsxs("div",{className:Ge.navigation,children:[_.jsxs("button",{onClick:De,className:Ge.backButton,children:[_.jsx($v,{size:20}),"Back"]}),_.jsx("span",{className:Ge.currentPath,children:c})]}),_.jsxs("div",{className:Ge.content,children:[w.map(ne=>Me(ne,"folder")),p.map(ne=>Me(ne,"file"))]}),_.jsx(LL,{isOpen:se,onClose:()=>{ae(!1),R(null)},currentPath:c,userData:Q,selectedItem:A,operation:b,onSelect:Ne})]})})},ML="_container_9esca_3",VL="_form_9esca_17",FL="_nfcButton_9esca_47",jL="_scanButton_9esca_47",UL="_scannerContainer_9esca_65",BL="_scanner_9esca_65",$L="_modalOverlay_9esca_95",zL="_modalContent_9esca_123",WL="_status_9esca_147",qL="_statusWarning_9esca_165",HL="_statusInfo_9esca_179",GL="_statusSuccess_9esca_193",KL="_statusError_9esca_207",QL="_pulse_9esca_1",YL="_reader_9esca_293",XL="_uploadOptionContainer_9esca_303",JL="_clearImageButton_9esca_317",qn={container:ML,form:VL,nfcButton:FL,scanButton:jL,scannerContainer:UL,scanner:BL,modalOverlay:$L,modalContent:zL,status:WL,statusWarning:qL,statusInfo:HL,statusSuccess:GL,statusError:KL,"animate-pulse":"_animate-pulse_9esca_245",pulse:QL,reader:YL,uploadOptionContainer:XL,clearImageButton:JL},ZL={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Cm=ga(ZL),kv=yi(Cm),eO=ro(Cm),tO=Vr(Cm),nO=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return qn.statusWarning;case"error":return qn.statusError;case"success":return qn.statusSuccess;default:return qn.statusInfo}};return _.jsx("div",{className:qn.modalOverlay,children:_.jsx("div",{className:qn.modalContent,children:_.jsx("div",{className:`${qn.status} ${i()} ${t?qn["animate-pulse"]:""}`,children:n})})})},rO=()=>{const[n,e]=O.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[t,i]=O.useState(null),[o,a]=O.useState("capture"),[c,h]=O.useState(!1),[p,y]=O.useState(""),[w,T]=O.useState(null),[S,N]=O.useState("info"),[k,D]=O.useState(null),x=O.useRef(null),U=O.useRef(null),M=(I,le="info")=>{y(I),N(le)};O.useEffect(()=>()=>{w&&w.abort()},[w]);const H=I=>{const le=I.target.files[0];i(le)},Q=I=>{a(I),i(null),x.current&&(x.current.value=""),U.current&&(U.current.value="")},se=async()=>{try{const I=await kw(tO,n.email,n.upass);return await Aw(I.user),I.user}catch(I){switch(I.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw I}}},ae=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{y("Waiting for NFC tag...");const I=new NDEFReader;T(I),await I.scan();const le=await new Promise((Ve,xe)=>{const De=async ie=>{try{const me=ie.serialNumber;if(!await L(me)){xe(new Error("Unauthorized NFC tag"));return}I.removeEventListener("reading",De),Ve(me)}catch(me){xe(me)}};I.addEventListener("reading",De),setTimeout(()=>{I.removeEventListener("reading",De),xe(new Error("NFC tag read timeout"))},3e4)});return D(le),M("NFC tag detected successfully","success"),le}catch(I){throw M(I.message,"error"),I}finally{w&&(w.abort(),T(null))}},b=async()=>{const I=Vr(),le=as();try{await jl(I),console.log("User signed out successfully"),setTimeout(()=>{le("/login")},2e3)}catch(Ve){console.error("Error signing out:",Ve)}},R=async()=>{if(!t)return null;try{M("Uploading selfie...","info");const I=n.email.replace(/[@.]/g,"_"),le=Bt(eO,`users/${I}/profile/${t.name}`),Ve=await zs(le,t),xe=await oi(Ve.ref);return M("Selfie uploaded successfully!","success"),xe}catch(I){throw M("Failed to upload selfie: "+I.message,"error"),I}},A=async()=>{try{h(!0);const I=await R();M("Saving your registration details...","info");const Ve={...n,nfcSerialNumber:k,selfieUrl:I,position:"Teacher",createdAt:lE()},xe=await mm(zt(kv,"RegisteredTeacher"),Ve);await Gl(xe,{currentnfcId:xe.id}),M("Registration details saved successfully!","success"),M("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(xe.id)}]}),M("NFC tag written successfully!","success"),M("Creating your account...","info");const ie=await se();return await Gl(xe,{firebaseUserId:ie.uid}),M("Registration completed! Please check your email for verification.","success"),await b(),setTimeout(()=>{M(""),V()},5e3),xe.id}catch(I){console.error("Registration Error:",I);let le="Registration failed: ";throw I.code==="auth/email-already-in-use"?le="This email is already registered. Please use a different email.":I.code==="not-found"?le="NFC tag not found. Please try again.":I.code==="network-error"?le="Network connection issue. Please check your internet connection.":le+=I.message,M(le,"error"),I}finally{h(!1)}},L=async I=>{try{const le=lu(kv,"Toregistered",I);return(await pm(le)).exists()}catch(le){return console.error("NFC Authorization Check Error:",le),!1}},V=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),i(null),y(""),D(null),x.current&&(x.current.value="")},j=async I=>{if(I.preventDefault(),!("NDEFReader"in window)){M("NFC is not supported on this device","warning");return}try{if(M("Waiting for NFC tag... Please place your card","info"),await ae(),M("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){D(null),M("");return}await A()}catch(le){console.error("Registration Error:",le),M("Registration process failed: "+le.message,"error")}};return _.jsxs("div",{className:qn.container,children:[_.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||p)&&_.jsx(nO,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?S:"warning",isProcessing:c}),_.jsxs("form",{onSubmit:j,className:qn.form,children:[_.jsx("input",{type:"text",placeholder:"Teacher Name",value:n.name,onChange:I=>e({...n,name:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:I=>e({...n,email:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"text",placeholder:"Teacher ID",value:n.teacherId,onChange:I=>e({...n,teacherId:I.target.value}),required:!0,disabled:c}),_.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:I=>e({...n,upass:I.target.value}),required:!0,disabled:c}),_.jsxs("select",{value:n.campus,onChange:I=>e({...n,campus:I.target.value}),required:!0,disabled:c,children:[_.jsx("option",{value:"",children:"Select Campus"}),_.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),_.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),_.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),_.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),_.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),_.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),_.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),_.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),_.jsxs("div",{className:qn.uploadOptionContainer,children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",ref:x,onChange:H,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),_.jsx("button",{type:"button",onClick:()=>x.current.click(),className:qt.buttons,disabled:c,children:"Take Profile Picture"})]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",ref:U,onChange:H,accept:"image/*",style:{display:"none"},disabled:c}),_.jsx("button",{type:"button",onClick:()=>U.current.click(),className:qt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&_.jsxs("p",{children:["Selected Image: ",t.name,_.jsx("button",{type:"button",onClick:()=>i(null),className:qn.clearImageButton,disabled:c,children:"Clear"})]}),_.jsx("button",{type:"submit",className:`${qt.buttons} ${c?"animate-pulse":""}`,disabled:!n.teacherId||!t||c||!("NDEFReader"in window),children:k?"Complete Registration":"Scan NFC Tag"})]})]})},iO="_registeredUsersContainer_1u027_1",sO="_header_1u027_9",oO="_tableContainer_1u027_29",aO="_usersTable_1u027_37",lO="_actionButtons_1u027_71",uO="_viewLogsButton_1u027_101",cO="_editButton_1u027_117",dO="_deleteButton_1u027_133",hO="_loadingContainer_1u027_149",fO="_errorContainer_1u027_151",pO="_noUsersContainer_1u027_153",mO="_modalOverlay_1u027_165",gO="_modalContent_1u027_191",yO="_logViewerContainer_1u027_211",_O="_logViewerHeader_1u027_223",vO="_closeButton_1u027_249",wO="_logsList_1u027_273",EO="_logEntry_1u027_285",TO="_logContent_1u027_313",IO="_logLoading_1u027_335",SO="_logError_1u027_337",CO="_noLogsMessage_1u027_339",ct={registeredUsersContainer:iO,header:sO,tableContainer:oO,usersTable:aO,actionButtons:lO,viewLogsButton:uO,editButton:cO,deleteButton:dO,loadingContainer:hO,errorContainer:fO,noUsersContainer:pO,modalOverlay:mO,modalContent:gO,logViewerContainer:yO,logViewerHeader:_O,closeButton:vO,logsList:wO,logEntry:EO,logContent:TO,logLoading:IO,logError:SO,noLogsMessage:CO},RO=({email:n,onClose:e})=>{const[t,i]=O.useState([]),[o,a]=O.useState(!0),[c,h]=O.useState(null);Vr();const p=ro(),y=w=>w.replace(/[@.]/g,"_");return O.useEffect(()=>{(async()=>{try{a(!0);const T=y(n),S=Bt(p,`users/${T}/process_log`),k=(await oa(S)).items.map(async U=>{const M=await oi(U),Q=await(await fetch(M)).text(),se=U.name.split("/").pop();return{timestamp:se.replace(".txt",""),content:Q,filename:se}}),x=(await Promise.all(k)).sort((U,M)=>M.timestamp.localeCompare(U.timestamp));i(x),h(null)}catch(T){console.error("Error fetching logs:",T),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),o?_.jsx("div",{className:ct.logLoading,children:"Loading logs..."}):c?_.jsx("div",{className:ct.logError,children:c}):_.jsxs("div",{className:ct.logViewerContainer,children:[_.jsxs("div",{className:ct.logViewerHeader,children:[_.jsxs("h2",{children:["User Activity Logs for ",n]}),_.jsx("button",{onClick:e,className:ct.closeButton,children:_.jsx(yd,{size:24})})]}),t.length===0?_.jsx("p",{className:ct.noLogsMessage,children:"No logs found"}):_.jsx("div",{className:ct.logsList,children:t.map((w,T)=>_.jsxs("div",{className:ct.logEntry,children:[_.jsxs("h3",{children:["Log from ",w.timestamp]}),_.jsx("pre",{className:ct.logContent,children:w.content})]},T))})]})},kO=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(!0),[o,a]=O.useState(null),[c,h]=O.useState(null),[p,y]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const D=yi(),U=(await vn(zt(D,"RegisteredTeacher"))).docs.map(M=>({id:M.id,...M.data()}));e(U),i(!1)}catch(D){console.error("Error fetching registered teachers:",D),a("Failed to load teachers"),i(!1)}})()},[]);const w=k=>{h(k),y(!0)},T=k=>{console.log("Edit teacher:",k)},S=k=>{console.log("Delete teacher:",k)},N=()=>{y(!1),h(null)};return t?_.jsx("div",{className:ct.loadingContainer,children:"Loading teachers..."}):o?_.jsx("div",{className:ct.errorContainer,children:o}):_.jsxs("div",{className:ct.registeredUsersContainer,children:[_.jsxs("div",{className:ct.header,children:[_.jsx(ta,{size:24}),_.jsx("h2",{children:"Registered Teachers"})]}),_.jsx("div",{className:ct.tableContainer,children:_.jsxs("table",{className:ct.usersTable,children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Teacher ID"}),_.jsx("th",{children:"Name"}),_.jsx("th",{children:"Email"}),_.jsx("th",{children:"NFC CARD"}),_.jsx("th",{children:"Campus"}),_.jsx("th",{children:"Date Added"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:n.map(k=>_.jsxs("tr",{className:ct.teacherRow,children:[_.jsx("td",{children:k.teacherId}),_.jsx("td",{children:k.name}),_.jsx("td",{children:k.email}),_.jsx("td",{children:k.currentnfcId}),_.jsx("td",{children:k.campus}),_.jsx("td",{children:new Date(k.createdAt*1e3).toLocaleString()}),_.jsx("td",{children:_.jsxs("div",{className:ct.actionButtons,children:[_.jsx("button",{onClick:()=>w(k),className:ct.viewLogsButton,title:"View Logs",children:_.jsx(zv,{size:18})}),_.jsx("button",{onClick:()=>T(k),className:ct.editButton,title:"Edit",children:_.jsx(qv,{size:18})}),_.jsx("button",{onClick:()=>S(k),className:ct.deleteButton,title:"Delete",children:_.jsx(wp,{size:18})})]})})]},k.id))})]})}),n.length===0&&_.jsx("div",{className:ct.noUsersContainer,children:"No registered teachers found."}),p&&c&&_.jsx("div",{className:ct.modalOverlay,children:_.jsx("div",{className:ct.modalContent,children:_.jsx(RO,{email:c.email,onClose:N})})})]})},AO="_registeredUsersContainer_ixiei_1",PO="_header_ixiei_9",xO="_tableContainer_ixiei_29",NO="_usersTable_ixiei_37",bO="_actionButtons_ixiei_71",DO="_viewLogsButton_ixiei_101",LO="_editButton_ixiei_117",OO="_deleteButton_ixiei_133",MO="_loadingContainer_ixiei_149",VO="_errorContainer_ixiei_151",FO="_noUsersContainer_ixiei_153",jO="_modalOverlay_ixiei_165",UO="_modalContent_ixiei_191",BO="_logViewerContainer_ixiei_211",$O="_logViewerHeader_ixiei_223",zO="_closeButton_ixiei_249",WO="_logsList_ixiei_273",qO="_logEntry_ixiei_285",HO="_logContent_ixiei_313",GO="_logLoading_ixiei_335",KO="_logError_ixiei_337",QO="_noLogsMessage_ixiei_339",dt={registeredUsersContainer:AO,header:PO,tableContainer:xO,usersTable:NO,actionButtons:bO,viewLogsButton:DO,editButton:LO,deleteButton:OO,loadingContainer:MO,errorContainer:VO,noUsersContainer:FO,modalOverlay:jO,modalContent:UO,logViewerContainer:BO,logViewerHeader:$O,closeButton:zO,logsList:WO,logEntry:qO,logContent:HO,logLoading:GO,logError:KO,noLogsMessage:QO},YO=({email:n,onClose:e})=>{const[t,i]=O.useState([]),[o,a]=O.useState(!0),[c,h]=O.useState(null);Vr();const p=ro(),y=w=>w.replace(/[@.]/g,"_");return O.useEffect(()=>{(async()=>{try{a(!0);const T=y(n),S=Bt(p,`users/${T}/process_log`),k=(await oa(S)).items.map(async U=>{const M=await oi(U),Q=await(await fetch(M)).text(),se=U.name.split("/").pop();return{timestamp:se.replace(".txt",""),content:Q,filename:se}}),x=(await Promise.all(k)).sort((U,M)=>M.timestamp.localeCompare(U.timestamp));i(x),h(null)}catch(T){console.error("Error fetching logs:",T),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),o?_.jsx("div",{className:dt.logLoading,children:"Loading logs..."}):c?_.jsx("div",{className:dt.logError,children:c}):_.jsxs("div",{className:dt.logViewerContainer,children:[_.jsxs("div",{className:dt.logViewerHeader,children:[_.jsxs("h2",{children:["User Activity Logs for ",n]}),_.jsx("button",{onClick:e,className:dt.closeButton,children:_.jsx(yd,{size:24})})]}),t.length===0?_.jsx("p",{className:dt.noLogsMessage,children:"No logs found"}):_.jsx("div",{className:dt.logsList,children:t.map((w,T)=>_.jsxs("div",{className:dt.logEntry,children:[_.jsxs("h3",{children:["Log from ",w.timestamp]}),_.jsx("pre",{className:dt.logContent,children:w.content})]},T))})]})},XO=()=>{const[n,e]=O.useState([]),[t,i]=O.useState(!0),[o,a]=O.useState(null),[c,h]=O.useState(null),[p,y]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const D=yi(),U=(await vn(zt(D,"RegisteredStudent"))).docs.map(M=>({id:M.id,...M.data()}));e(U),i(!1)}catch(D){console.error("Error fetching registered teachers:",D),a("Failed to load teachers"),i(!1)}})()},[]);const w=k=>{h(k),y(!0)},T=k=>{console.log("Edit student:",k)},S=k=>{console.log("Delete teacher:",k)},N=()=>{y(!1),h(null)};return t?_.jsx("div",{className:dt.loadingContainer,children:"Loading students..."}):o?_.jsx("div",{className:dt.errorContainer,children:o}):_.jsxs("div",{className:dt.registeredUsersContainer,children:[_.jsxs("div",{className:dt.header,children:[_.jsx(ta,{size:24}),_.jsx("h2",{children:"Registered Student"})]}),_.jsx("div",{className:dt.tableContainer,children:_.jsxs("table",{className:dt.usersTable,children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Student ID"}),_.jsx("th",{children:"Name"}),_.jsx("th",{children:"Email"}),_.jsx("th",{children:"NFC CARD"}),_.jsx("th",{children:"Campus"}),_.jsx("th",{children:"Date Added"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:n.map(k=>_.jsxs("tr",{className:dt.studentRow,children:[_.jsx("td",{children:k.studentId}),_.jsx("td",{children:k.name}),_.jsx("td",{children:k.email}),_.jsx("td",{children:k.currentnfcId}),_.jsx("td",{children:k.campus}),_.jsx("td",{children:new Date(k.createdAt*1e3).toLocaleString()}),_.jsx("td",{children:_.jsxs("div",{className:dt.actionButtons,children:[_.jsx("button",{onClick:()=>w(k),className:dt.viewLogsButton,title:"View Logs",children:_.jsx(zv,{size:18})}),_.jsx("button",{onClick:()=>T(k),className:dt.editButton,title:"Edit",children:_.jsx(qv,{size:18})}),_.jsx("button",{onClick:()=>S(k),className:dt.deleteButton,title:"Delete",children:_.jsx(wp,{size:18})})]})})]},k.id))})]})}),n.length===0&&_.jsx("div",{className:dt.noUsersContainer,children:"No registered students found."}),p&&c&&_.jsx("div",{className:dt.modalOverlay,children:_.jsx("div",{className:dt.modalContent,children:_.jsx(YO,{email:c.email,onClose:N})})})]})};function JO(){return _.jsx(PE,{children:_.jsx(iI,{children:_.jsxs(L1,{children:[_.jsx(Nn,{path:"/",element:_.jsx(Hy,{to:"/login",replace:!0})}),_.jsx(Nn,{path:"/login",element:_.jsx(Ub,{})}),_.jsxs(Nn,{path:"/dashboard/*",element:_.jsx(Jx,{}),children:[_.jsx(Nn,{path:"create-event",element:_.jsx(CN,{})}),_.jsx(Nn,{path:"registered-teachers",element:_.jsx(kO,{})}),_.jsx(Nn,{path:"registered-students",element:_.jsx(XO,{})}),_.jsx(Nn,{path:"teacher-registration",element:_.jsx(rO,{})}),_.jsx(Nn,{path:"student-registration",element:_.jsx(lb,{})}),_.jsx(Nn,{path:"nfc-reader",element:_.jsx(Cb,{})}),_.jsx(Nn,{path:"event-list",element:_.jsx(Jb,{})}),_.jsx(Nn,{path:"file-manager",element:_.jsx(OL,{})})]}),_.jsx(Nn,{path:"*",element:_.jsx(Hy,{to:"/login",replace:!0})})]})})})}const ZO=document.getElementById("root"),eM=BT.createRoot(ZO);eM.render(_.jsx(JO,{}));
