(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var jc={exports:{}},Wo={},$c={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function R_(){if(mp)return Te;mp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,X={};function z(x,$,oe){this.props=x,this.context=$,this.refs=X,this.updater=oe||b}z.prototype.isReactComponent={},z.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function me(){}me.prototype=z.prototype;function pe(x,$,oe){this.props=x,this.context=$,this.refs=X,this.updater=oe||b}var ae=pe.prototype=new me;ae.constructor=pe,K(ae,z.prototype),ae.isPureReactComponent=!0;var de=Array.isArray,Be=Object.prototype.hasOwnProperty,Ie={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(x,$,oe){var Ee,we={},Ce=null,xe=null;if($!=null)for(Ee in $.ref!==void 0&&(xe=$.ref),$.key!==void 0&&(Ce=""+$.key),$)Be.call($,Ee)&&!k.hasOwnProperty(Ee)&&(we[Ee]=$[Ee]);var Oe=arguments.length-2;if(Oe===1)we.children=oe;else if(1<Oe){for(var be=Array(Oe),gt=0;gt<Oe;gt++)be[gt]=arguments[gt+2];we.children=be}if(x&&x.defaultProps)for(Ee in Oe=x.defaultProps,Oe)we[Ee]===void 0&&(we[Ee]=Oe[Ee]);return{$$typeof:i,type:x,key:Ce,ref:xe,props:we,_owner:Ie.current}}function A(x,$){return{$$typeof:i,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function P(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return $[oe]})}var O=/\/+/g;function S(x,$){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):$.toString(36)}function tt(x,$,oe,Ee,we){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(Ce){case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case i:case e:xe=!0}}if(xe)return xe=x,we=we(xe),x=Ee===""?"."+S(xe,0):Ee,de(we)?(oe="",x!=null&&(oe=x.replace(O,"$&/")+"/"),tt(we,$,oe,"",function(gt){return gt})):we!=null&&(P(we)&&(we=A(we,oe+(!we.key||xe&&xe.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+x)),$.push(we)),1;if(xe=0,Ee=Ee===""?".":Ee+":",de(x))for(var Oe=0;Oe<x.length;Oe++){Ce=x[Oe];var be=Ee+S(Ce,Oe);xe+=tt(Ce,$,oe,be,we)}else if(be=V(x),typeof be=="function")for(x=be.call(x),Oe=0;!(Ce=x.next()).done;)Ce=Ce.value,be=Ee+S(Ce,Oe++),xe+=tt(Ce,$,oe,be,we);else if(Ce==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return xe}function kt(x,$,oe){if(x==null)return x;var Ee=[],we=0;return tt(x,Ee,"","",function(Ce){return $.call(oe,Ce,we++)}),Ee}function Dt(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Fe={current:null},J={transition:null},le={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ie};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:kt,forEach:function(x,$,oe){kt(x,function(){$.apply(this,arguments)},oe)},count:function(x){var $=0;return kt(x,function(){$++}),$},toArray:function(x){return kt(x,function($){return $})||[]},only:function(x){if(!P(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Te.Component=z,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=pe,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Te.act=ee,Te.cloneElement=function(x,$,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ee=K({},x.props),we=x.key,Ce=x.ref,xe=x._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,xe=Ie.current),$.key!==void 0&&(we=""+$.key),x.type&&x.type.defaultProps)var Oe=x.type.defaultProps;for(be in $)Be.call($,be)&&!k.hasOwnProperty(be)&&(Ee[be]=$[be]===void 0&&Oe!==void 0?Oe[be]:$[be])}var be=arguments.length-2;if(be===1)Ee.children=oe;else if(1<be){Oe=Array(be);for(var gt=0;gt<be;gt++)Oe[gt]=arguments[gt+2];Ee.children=Oe}return{$$typeof:i,type:x.type,key:we,ref:Ce,props:Ee,_owner:xe}},Te.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},Te.createElement=T,Te.createFactory=function(x){var $=T.bind(null,x);return $.type=x,$},Te.createRef=function(){return{current:null}},Te.forwardRef=function(x){return{$$typeof:m,render:x}},Te.isValidElement=P,Te.lazy=function(x){return{$$typeof:I,_payload:{_status:-1,_result:x},_init:Dt}},Te.memo=function(x,$){return{$$typeof:E,type:x,compare:$===void 0?null:$}},Te.startTransition=function(x){var $=J.transition;J.transition={};try{x()}finally{J.transition=$}},Te.unstable_act=ee,Te.useCallback=function(x,$){return Fe.current.useCallback(x,$)},Te.useContext=function(x){return Fe.current.useContext(x)},Te.useDebugValue=function(){},Te.useDeferredValue=function(x){return Fe.current.useDeferredValue(x)},Te.useEffect=function(x,$){return Fe.current.useEffect(x,$)},Te.useId=function(){return Fe.current.useId()},Te.useImperativeHandle=function(x,$,oe){return Fe.current.useImperativeHandle(x,$,oe)},Te.useInsertionEffect=function(x,$){return Fe.current.useInsertionEffect(x,$)},Te.useLayoutEffect=function(x,$){return Fe.current.useLayoutEffect(x,$)},Te.useMemo=function(x,$){return Fe.current.useMemo(x,$)},Te.useReducer=function(x,$,oe){return Fe.current.useReducer(x,$,oe)},Te.useRef=function(x){return Fe.current.useRef(x)},Te.useState=function(x){return Fe.current.useState(x)},Te.useSyncExternalStore=function(x,$,oe){return Fe.current.useSyncExternalStore(x,$,oe)},Te.useTransition=function(){return Fe.current.useTransition()},Te.version="18.3.1",Te}var gp;function Sh(){return gp||(gp=1,$c.exports=R_()),$c.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function C_(){if(yp)return Wo;yp=1;var i=Sh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,E){var I,D={},V=null,b=null;E!==void 0&&(V=""+E),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(b=y.ref);for(I in y)s.call(y,I)&&!c.hasOwnProperty(I)&&(D[I]=y[I]);if(m&&m.defaultProps)for(I in y=m.defaultProps,y)D[I]===void 0&&(D[I]=y[I]);return{$$typeof:e,type:m,key:V,ref:b,props:D,_owner:a.current}}return Wo.Fragment=n,Wo.jsx=f,Wo.jsxs=f,Wo}var _p;function P_(){return _p||(_p=1,jc.exports=C_()),jc.exports}var Xe=P_(),Ko=Sh(),Nl={},qc={exports:{}},Xt={},Hc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function k_(){return vp||(vp=1,function(i){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var x=ee-1>>>1,$=J[x];if(0<a($,le))J[x]=le,J[ee]=$,ee=x;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var x=0,$=J.length,oe=$>>>1;x<oe;){var Ee=2*(x+1)-1,we=J[Ee],Ce=Ee+1,xe=J[Ce];if(0>a(we,ee))Ce<$&&0>a(xe,we)?(J[x]=xe,J[Ce]=ee,x=Ce):(J[x]=we,J[Ee]=ee,x=Ee);else if(Ce<$&&0>a(xe,ee))J[x]=xe,J[Ce]=ee,x=Ce;else break e}}return le}function a(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],E=[],I=1,D=null,V=3,b=!1,K=!1,X=!1,z=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(J){for(var le=n(E);le!==null;){if(le.callback===null)s(E);else if(le.startTime<=J)s(E),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(E)}}function de(J){if(X=!1,ae(J),!K)if(n(y)!==null)K=!0,Dt(Be);else{var le=n(E);le!==null&&Fe(de,le.startTime-J)}}function Be(J,le){K=!1,X&&(X=!1,me(T),T=-1),b=!0;var ee=V;try{for(ae(le),D=n(y);D!==null&&(!(D.expirationTime>le)||J&&!N());){var x=D.callback;if(typeof x=="function"){D.callback=null,V=D.priorityLevel;var $=x(D.expirationTime<=le);le=i.unstable_now(),typeof $=="function"?D.callback=$:D===n(y)&&s(y),ae(le)}else s(y);D=n(y)}if(D!==null)var oe=!0;else{var Ee=n(E);Ee!==null&&Fe(de,Ee.startTime-le),oe=!1}return oe}finally{D=null,V=ee,b=!1}}var Ie=!1,k=null,T=-1,A=5,P=-1;function N(){return!(i.unstable_now()-P<A)}function O(){if(k!==null){var J=i.unstable_now();P=J;var le=!0;try{le=k(!0,J)}finally{le?S():(Ie=!1,k=null)}}else Ie=!1}var S;if(typeof pe=="function")S=function(){pe(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,S=function(){kt.postMessage(null)}}else S=function(){z(O,0)};function Dt(J){k=J,Ie||(Ie=!0,S())}function Fe(J,le){T=z(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){K||b||(K=!0,Dt(Be))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(V){case 1:case 2:case 3:var le=3;break;default:le=V}var ee=V;V=le;try{return J()}finally{V=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=V;V=J;try{return le()}finally{V=ee}},i.unstable_scheduleCallback=function(J,le,ee){var x=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?x+ee:x):ee=x,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,J={id:I++,callback:le,priorityLevel:J,startTime:ee,expirationTime:$,sortIndex:-1},ee>x?(J.sortIndex=ee,e(E,J),n(y)===null&&J===n(E)&&(X?(me(T),T=-1):X=!0,Fe(de,ee-x))):(J.sortIndex=$,e(y,J),K||b||(K=!0,Dt(Be))),J},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(J){var le=V;return function(){var ee=V;V=le;try{return J.apply(this,arguments)}finally{V=ee}}}}(Wc)),Wc}var Ep;function D_(){return Ep||(Ep=1,Hc.exports=k_()),Hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function N_(){if(wp)return Xt;wp=1;var i=Sh(),e=D_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},D={};function V(t){return y.call(D,t)?!0:y.call(I,t)?!1:E.test(t)?D[t]=!0:(I[t]=!0,!1)}function b(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,r,o,u){if(r===null||typeof r>"u"||b(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(me,pe);z[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(me,pe);z[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(me,pe);z[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function ae(t,r,o,u){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,h,u)&&(o=null),u||h===null?V(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,x;function $(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var oe=!1;function Ee(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,w=p.length-1;1<=_&&0<=w&&h[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(h[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||h[_]!==p[w]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function we(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ie:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Dt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=gt(t))}function ji(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ri(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $i(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&ae(t,"checked",r,!1)}function Js(t,r){Ys(t,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?qi(t,r.type,o):r.hasOwnProperty("defaultValue")&&qi(t,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ga(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function qi(t,r,o){(r!=="number"||Er(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Oe(o)}}function Wi(t,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ii[r]=ii[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ii.hasOwnProperty(t)&&ii[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=no(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var io=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,an=null,Ln=null;function Gi(t){if(t=No(t)){if(typeof Ki!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Wa(r),Ki(t.stateNode,t.type,r))}}function Mn(t){an?Ln?Ln.push(t):Ln=[t]:an=t}function ao(){if(an){var t=an,r=Ln;if(Ln=an=null,Gi(t),r)for(t=0;t<r.length;t++)Gi(r[t])}}function ai(t,r){return t(r)}function lo(){}var tr=!1;function uo(t,r,o){if(tr)return t(r,o);tr=!0;try{return ai(t,r,o)}finally{tr=!1,(an!==null||Ln!==null)&&(lo(),ao())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Wa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Xi=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Xi=!1}function li(t,r,o,u,h,p,_,w,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(H){this.onError(H)}}var ui=!1,Yi=null,En=!1,co=null,gu={onError:function(t){ui=!0,Yi=t}};function Ji(t,r,o,u,h,p,_,w,R){ui=!1,Yi=null,li.apply(gu,arguments)}function ya(t,r,o,u,h,p,_,w,R){if(Ji.apply(this,arguments),ui){if(ui){var U=Yi;ui=!1,Yi=null}else throw Error(n(198));En||(En=!0,co=U)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ci(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function _a(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return Tn(h),t;if(p===u)return Tn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,w=h.child;w;){if(w===o){_=!0,o=h,u=p;break}if(w===u){_=!0,u=h,o=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===o){_=!0,o=p,u=h;break}if(w===u){_=!0,u=p,o=h;break}w=w.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=_a(t),t!==null?Zi(t):null}function Zi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zi(t);if(r!==null)return r;t=t.sibling}return null}var es=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,va=e.unstable_shouldYield,yu=e.unstable_requestPaint,ze=e.unstable_now,Ea=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,po=e.unstable_LowPriority,wa=e.unstable_IdlePriority,fi=null,Jt=null;function Ta(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Sa,mo=Math.log,Ia=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-(mo(t)/Ia|0)|0}var ts=64,ns=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var w=_&~h;w!==0?u=Ir(w):(p&=_,p!==0&&(u=Ir(p)))}else _=o&~h,_!==0?u=Ir(_):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function _u(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),w=1<<_,R=h[_];R===-1?(!(w&o)||w&u)&&(h[_]=_u(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pi(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function Sr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ar(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Rr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Aa,rs,Ra,Ca,Pa,go=!1,Fn=[],Tt=null,In=null,Sn=null,Pr=new Map,un=new Map,Un=[],vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function $t(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=No(r),r!==null&&rs(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Eu(t,r,o,u,h){switch(r){case"focusin":return Tt=$t(Tt,t,r,o,u,h),!0;case"dragenter":return In=$t(In,t,r,o,u,h),!0;case"mouseover":return Sn=$t(Sn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Pr.set(p,$t(Pr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,un.set(p,$t(un.get(p)||null,t,r,o,u,h)),!0}return!1}function Da(t){var r=vi(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=ci(o),r!==null){t.blockedOn=r,Pa(t.priority,function(){Ra(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=is(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);oi=u,o.target.dispatchEvent(u),oi=null}else return r=No(o),r!==null&&rs(r),t.blockedOn=o,!1;r.shift()}return!0}function mi(t,r,o){rr(t)&&o.delete(r)}function Na(){go=!1,Tt!==null&&rr(Tt)&&(Tt=null),In!==null&&rr(In)&&(In=null),Sn!==null&&rr(Sn)&&(Sn=null),Pr.forEach(mi),un.forEach(mi)}function An(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Na)))}function Rn(t){function r(h){return An(h,t)}if(0<Fn.length){An(Fn[0],t);for(var o=1;o<Fn.length;o++){var u=Fn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&An(Tt,t),In!==null&&An(In,t),Sn!==null&&An(Sn,t),Pr.forEach(r),un.forEach(r),o=0;o<Un.length;o++)u=Un[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Un.length&&(o=Un[0],o.blockedOn===null);)Da(o),o.blockedOn===null&&Un.shift()}var ir=de.ReactCurrentBatchConfig,kr=!0;function He(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=1,yo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function wu(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=4,yo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function yo(t,r,o,u){if(kr){var h=is(t,r,o,u);if(h===null)Vu(t,r,u,gi,o),ka(t,u);else if(Eu(h,t,r,o,u))u.stopPropagation();else if(ka(t,u),r&4&&-1<vu.indexOf(t)){for(;h!==null;){var p=No(h);if(p!==null&&Aa(p),p=is(t,r,o,u),p===null&&Vu(t,r,u,gi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vu(t,r,u,null,o)}}var gi=null;function is(t,r,o,u){if(gi=null,t=Qi(u),t=vi(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ci(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return gi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ea()){case hi:return 1;case Tr:return 4;case ln:case po:return 16;case wa:return 536870912;default:return 16}default:return 16}}var en=null,ss=null,qt=null;function vo(){if(qt)return qt;var t,r=ss,o=r.length,u,h="value"in en?en.value:en.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return qt=h.slice(t,1<u?1-u:void 0)}function os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bn(){return!0}function Eo(){return!1}function It(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bn:Eo,this.isPropagationStopped=Eo,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=It(Cn),bn=ee({},Cn,{view:0,detail:0}),Tu=It(bn),ls,sr,Dr,yi=ee({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(ls=t.screenX-Dr.screenX,sr=t.screenY-Dr.screenY):sr=ls=0,Dr=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),us=It(yi),wo=ee({},yi,{dataTransfer:0}),Va=It(wo),cs=ee({},bn,{relatedTarget:0}),hs=It(cs),xa=ee({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=It(xa),Oa=ee({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),La=It(Oa),Ma=ee({},Cn,{data:0}),To=It(Ma),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fa[t])?!!r[t]:!1}function zn(){return Ua}var l=ee({},bn,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),g=ee({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=It(g),L=ee({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),B=It(L),Y=ee({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=It(Y),ct=ee({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=It(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var tn=m&&"TextEvent"in window&&!cn,_i=m&&(!st||cn&&8<cn&&11>=cn),ds=" ",uf=!1;function cf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function Iy(t,r){switch(t){case"compositionend":return hf(r);case"keypress":return r.which!==32?null:(uf=!0,ds);case"textInput":return t=r.data,t===ds&&uf?null:t;default:return null}}function Sy(t,r){if(ps)return t==="compositionend"||!st&&cf(t,r)?(t=vo(),qt=ss=en=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ay[t.type]:r==="textarea"}function df(t,r,o,u){Mn(u),r=$a(r,"onChange"),0<r.length&&(o=new as("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Io=null,So=null;function Ry(t){Nf(t,0)}function Ba(t){var r=vs(t);if(ji(r))return t}function Cy(t,r){if(t==="change")return r}var pf=!1;if(m){var Iu;if(m){var Su="oninput"in document;if(!Su){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Su=typeof mf.oninput=="function"}Iu=Su}else Iu=!1;pf=Iu&&(!document.documentMode||9<document.documentMode)}function gf(){Io&&(Io.detachEvent("onpropertychange",yf),So=Io=null)}function yf(t){if(t.propertyName==="value"&&Ba(So)){var r=[];df(r,So,t,Qi(t)),uo(Ry,r)}}function Py(t,r,o){t==="focusin"?(gf(),Io=r,So=o,Io.attachEvent("onpropertychange",yf)):t==="focusout"&&gf()}function ky(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ba(So)}function Dy(t,r){if(t==="click")return Ba(r)}function Ny(t,r){if(t==="input"||t==="change")return Ba(r)}function Vy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Vy;function Ao(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Pn(t[h],r[h]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,r){var o=_f(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_f(o)}}function Ef(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ef(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wf(){for(var t=window,r=Er();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Er(t.document)}return r}function Au(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function xy(t){var r=wf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Ef(o.ownerDocument.documentElement,o)){if(u!==null&&Au(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=vf(o,p);var _=vf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Oy=m&&"documentMode"in document&&11>=document.documentMode,ms=null,Ru=null,Ro=null,Cu=!1;function Tf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cu||ms==null||ms!==Er(u)||(u=ms,"selectionStart"in u&&Au(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Ao(Ro,u)||(Ro=u,u=$a(Ru,"onSelect"),0<u.length&&(r=new as("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ms)))}function ba(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var gs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Pu={},If={};m&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function za(t){if(Pu[t])return Pu[t];if(!gs[t])return t;var r=gs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in If)return Pu[t]=r[o];return t}var Sf=za("animationend"),Af=za("animationiteration"),Rf=za("animationstart"),Cf=za("transitionend"),Pf=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,r){Pf.set(t,r),c(r,[t])}for(var ku=0;ku<kf.length;ku++){var Du=kf[ku],Ly=Du.toLowerCase(),My=Du[0].toUpperCase()+Du.slice(1);Nr(Ly,"on"+My)}Nr(Sf,"onAnimationEnd"),Nr(Af,"onAnimationIteration"),Nr(Rf,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Df(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ya(u,r,void 0,t),t.currentTarget=null}function Nf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;Df(h,w,U),p=R}else for(_=0;_<u.length;_++){if(w=u[_],R=w.instance,U=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;Df(h,w,U),p=R}}}if(En)throw t=co,En=!1,co=null,t}function $e(t,r){var o=r[Uu];o===void 0&&(o=r[Uu]=new Set);var u=t+"__bubble";o.has(u)||(Vf(r,t,2,!1),o.add(u))}function Nu(t,r,o){var u=0;r&&(u|=4),Vf(o,t,u,r)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[ja]){t[ja]=!0,s.forEach(function(o){o!=="selectionchange"&&(Fy.has(o)||Nu(o,!1,t),Nu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ja]||(r[ja]=!0,Nu("selectionchange",!1,r))}}function Vf(t,r,o,u){switch(_o(r)){case 1:var h=He;break;case 4:h=wu;break;default:h=yo}o=h.bind(null,r,o,t),h=void 0,!Xi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Vu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;w!==null;){if(_=vi(w),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}w=w.parentNode}}u=u.return}uo(function(){var U=p,H=Qi(o),W=[];e:{var q=Pf.get(t);if(q!==void 0){var Z=as,re=t;switch(t){case"keypress":if(os(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=hs;break;case"focusout":re="blur",Z=hs;break;case"beforeblur":case"afterblur":Z=hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=B;break;case Sf:case Af:case Rf:Z=or;break;case Cf:Z=Me;break;case"scroll":Z=Tu;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var ie=(r&4)!==0,rt=!ie&&t==="scroll",M=ie?q!==null?q+"Capture":null:q;ie=[];for(var C=U,F;C!==null;){F=C;var G=F.stateNode;if(F.tag===5&&G!==null&&(F=G,M!==null&&(G=nt(C,M),G!=null&&ie.push(ko(C,G,F)))),rt)break;C=C.return}0<ie.length&&(q=new Z(q,re,null,o,H),W.push({event:q,listeners:ie}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==oi&&(re=o.relatedTarget||o.fromElement)&&(vi(re)||re[ar]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=U,re=re?vi(re):null,re!==null&&(rt=wn(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=U),Z!==re)){if(ie=us,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,G="onPointerLeave",M="onPointerEnter",C="pointer"),rt=Z==null?q:vs(Z),F=re==null?q:vs(re),q=new ie(G,C+"leave",Z,o,H),q.target=rt,q.relatedTarget=F,G=null,vi(H)===U&&(ie=new ie(M,C+"enter",re,o,H),ie.target=F,ie.relatedTarget=rt,G=ie),rt=G,Z&&re)t:{for(ie=Z,M=re,C=0,F=ie;F;F=ys(F))C++;for(F=0,G=M;G;G=ys(G))F++;for(;0<C-F;)ie=ys(ie),C--;for(;0<F-C;)M=ys(M),F--;for(;C--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ys(ie),M=ys(M)}ie=null}else ie=null;Z!==null&&xf(W,q,Z,ie,!1),re!==null&&rt!==null&&xf(W,rt,re,ie,!0)}}e:{if(q=U?vs(U):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var se=Cy;else if(ff(q))if(pf)se=Ny;else{se=ky;var ce=Py}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(se=Dy);if(se&&(se=se(t,U))){df(W,se,o,H);break e}ce&&ce(t,q,U),t==="focusout"&&(ce=q._wrapperState)&&ce.controlled&&q.type==="number"&&qi(q,"number",q.value)}switch(ce=U?vs(U):window,t){case"focusin":(ff(ce)||ce.contentEditable==="true")&&(ms=ce,Ru=U,Ro=null);break;case"focusout":Ro=Ru=ms=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Tf(W,o,H);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Tf(W,o,H)}var he;if(st)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ps?cf(t,o)&&(ge="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(_i&&o.locale!=="ko"&&(ps||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ps&&(he=vo()):(en=H,ss="value"in en?en.value:en.textContent,ps=!0)),ce=$a(U,ge),0<ce.length&&(ge=new To(ge,t,null,o,H),W.push({event:ge,listeners:ce}),he?ge.data=he:(he=hf(o),he!==null&&(ge.data=he)))),(he=tn?Iy(t,o):Sy(t,o))&&(U=$a(U,"onBeforeInput"),0<U.length&&(H=new To("onBeforeInput","beforeinput",null,o,H),W.push({event:H,listeners:U}),H.data=he))}Nf(W,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function $a(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(ko(t,p,h)),p=nt(t,r),p!=null&&u.push(ko(t,p,h))),t=t.return}return u}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var w=o,R=w.alternate,U=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&U!==null&&(w=U,h?(R=nt(o,p),R!=null&&_.unshift(ko(o,R,w))):h||(R=nt(o,p),R!=null&&_.push(ko(o,R,w)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Uy=/\r\n?/g,By=/\u0000|\uFFFD/g;function Of(t){return(typeof t=="string"?t:""+t).replace(Uy,`
`).replace(By,"")}function qa(t,r,o){if(r=Of(r),Of(t)!==r&&o)throw Error(n(425))}function Ha(){}var xu=null,Ou=null;function Lu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mu=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(jy)}:Mu;function jy(t){setTimeout(function(){throw t})}function Fu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Rn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Rn(r)}function Vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Mf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),jn="__reactFiber$"+_s,Do="__reactProps$"+_s,ar="__reactContainer$"+_s,Uu="__reactEvents$"+_s,$y="__reactListeners$"+_s,qy="__reactHandles$"+_s;function vi(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Mf(t);t!==null;){if(o=t[jn])return o;t=Mf(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[jn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Wa(t){return t[Do]||null}var Bu=[],Es=-1;function xr(t){return{current:t}}function qe(t){0>Es||(t.current=Bu[Es],Bu[Es]=null,Es--)}function je(t,r){Es++,Bu[Es]=t.current,t.current=r}var Or={},Nt=xr(Or),Ht=xr(!1),Ei=Or;function ws(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Wt(t){return t=t.childContextTypes,t!=null}function Qa(){qe(Ht),qe(Nt)}function Ff(t,r,o){if(Nt.current!==Or)throw Error(n(168));je(Nt,r),je(Ht,o)}function Uf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return ee({},o,u)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,Ei=Nt.current,je(Nt,t),je(Ht,Ht.current),!0}function Bf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Uf(t,r,Ei),u.__reactInternalMemoizedMergedChildContext=t,qe(Ht),qe(Nt),je(Nt,t)):qe(Ht),je(Ht,o)}var lr=null,Ga=!1,bu=!1;function bf(t){lr===null?lr=[t]:lr.push(t)}function Hy(t){Ga=!0,bf(t)}function Lr(){if(!bu&&lr!==null){bu=!0;var t=0,r=Ae;try{var o=lr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,Ga=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),es(hi,Lr),h}finally{Ae=r,bu=!1}}return null}var Ts=[],Is=0,Xa=null,Ya=0,hn=[],fn=0,wi=null,ur=1,cr="";function Ti(t,r){Ts[Is++]=Ya,Ts[Is++]=Xa,Xa=t,Ya=r}function zf(t,r,o){hn[fn++]=ur,hn[fn++]=cr,hn[fn++]=wi,wi=t;var u=ur;t=cr;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,ur=1<<32-Ut(r)+h|o<<h|u,cr=p+t}else ur=1<<p|o<<h|u,cr=t}function zu(t){t.return!==null&&(Ti(t,1),zf(t,1,0))}function ju(t){for(;t===Xa;)Xa=Ts[--Is],Ts[Is]=null,Ya=Ts[--Is],Ts[Is]=null;for(;t===wi;)wi=hn[--fn],hn[fn]=null,cr=hn[--fn],hn[fn]=null,ur=hn[--fn],hn[fn]=null}var nn=null,rn=null,We=!1,kn=null;function jf(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function $f(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,nn=t,rn=Vr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,nn=t,rn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=wi!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,nn=t,rn=null,!0):!1;default:return!1}}function $u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(We){var r=rn;if(r){var o=r;if(!$f(t,r)){if($u(t))throw Error(n(418));r=Vr(o.nextSibling);var u=nn;r&&$f(t,r)?jf(u,o):(t.flags=t.flags&-4097|2,We=!1,nn=t)}}else{if($u(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,nn=t}}}function qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Ja(t){if(t!==nn)return!1;if(!We)return qf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Lu(t.type,t.memoizedProps)),r&&(r=rn)){if($u(t))throw Hf(),Error(n(418));for(;r;)jf(t,r),r=Vr(r.nextSibling)}if(qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){rn=Vr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}rn=null}}else rn=nn?Vr(t.stateNode.nextSibling):null;return!0}function Hf(){for(var t=rn;t;)t=Vr(t.nextSibling)}function Ss(){rn=nn=null,We=!1}function Hu(t){kn===null?kn=[t]:kn.push(t)}var Wy=de.ReactCurrentBatchConfig;function Vo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var w=h.refs;_===null?delete w[p]:w[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Za(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Wf(t){var r=t._init;return r(t._payload)}function Qf(t){function r(M,C){if(t){var F=M.deletions;F===null?(M.deletions=[C],M.flags|=16):F.push(C)}}function o(M,C){if(!t)return null;for(;C!==null;)r(M,C),C=C.sibling;return null}function u(M,C){for(M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function h(M,C){return M=$r(M,C),M.index=0,M.sibling=null,M}function p(M,C,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<C?(M.flags|=2,C):F):(M.flags|=2,C)):(M.flags|=1048576,C)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,C,F,G){return C===null||C.tag!==6?(C=Mc(F,M.mode,G),C.return=M,C):(C=h(C,F),C.return=M,C)}function R(M,C,F,G){var se=F.type;return se===k?H(M,C,F.props.children,G,F.key):C!==null&&(C.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Dt&&Wf(se)===C.type)?(G=h(C,F.props),G.ref=Vo(M,C,F),G.return=M,G):(G=Il(F.type,F.key,F.props,null,M.mode,G),G.ref=Vo(M,C,F),G.return=M,G)}function U(M,C,F,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==F.containerInfo||C.stateNode.implementation!==F.implementation?(C=Fc(F,M.mode,G),C.return=M,C):(C=h(C,F.children||[]),C.return=M,C)}function H(M,C,F,G,se){return C===null||C.tag!==7?(C=Di(F,M.mode,G,se),C.return=M,C):(C=h(C,F),C.return=M,C)}function W(M,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Mc(""+C,M.mode,F),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Be:return F=Il(C.type,C.key,C.props,null,M.mode,F),F.ref=Vo(M,null,C),F.return=M,F;case Ie:return C=Fc(C,M.mode,F),C.return=M,C;case Dt:var G=C._init;return W(M,G(C._payload),F)}if(Jn(C)||le(C))return C=Di(C,M.mode,F,null),C.return=M,C;Za(M,C)}return null}function q(M,C,F,G){var se=C!==null?C.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return se!==null?null:w(M,C,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Be:return F.key===se?R(M,C,F,G):null;case Ie:return F.key===se?U(M,C,F,G):null;case Dt:return se=F._init,q(M,C,se(F._payload),G)}if(Jn(F)||le(F))return se!==null?null:H(M,C,F,G,null);Za(M,F)}return null}function Z(M,C,F,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return M=M.get(F)||null,w(C,M,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Be:return M=M.get(G.key===null?F:G.key)||null,R(C,M,G,se);case Ie:return M=M.get(G.key===null?F:G.key)||null,U(C,M,G,se);case Dt:var ce=G._init;return Z(M,C,F,ce(G._payload),se)}if(Jn(G)||le(G))return M=M.get(F)||null,H(C,M,G,se,null);Za(C,G)}return null}function re(M,C,F,G){for(var se=null,ce=null,he=C,ge=C=0,Et=null;he!==null&&ge<F.length;ge++){he.index>ge?(Et=he,he=null):Et=he.sibling;var Ve=q(M,he,F[ge],G);if(Ve===null){he===null&&(he=Et);break}t&&he&&Ve.alternate===null&&r(M,he),C=p(Ve,C,ge),ce===null?se=Ve:ce.sibling=Ve,ce=Ve,he=Et}if(ge===F.length)return o(M,he),We&&Ti(M,ge),se;if(he===null){for(;ge<F.length;ge++)he=W(M,F[ge],G),he!==null&&(C=p(he,C,ge),ce===null?se=he:ce.sibling=he,ce=he);return We&&Ti(M,ge),se}for(he=u(M,he);ge<F.length;ge++)Et=Z(he,M,ge,F[ge],G),Et!==null&&(t&&Et.alternate!==null&&he.delete(Et.key===null?ge:Et.key),C=p(Et,C,ge),ce===null?se=Et:ce.sibling=Et,ce=Et);return t&&he.forEach(function(qr){return r(M,qr)}),We&&Ti(M,ge),se}function ie(M,C,F,G){var se=le(F);if(typeof se!="function")throw Error(n(150));if(F=se.call(F),F==null)throw Error(n(151));for(var ce=se=null,he=C,ge=C=0,Et=null,Ve=F.next();he!==null&&!Ve.done;ge++,Ve=F.next()){he.index>ge?(Et=he,he=null):Et=he.sibling;var qr=q(M,he,Ve.value,G);if(qr===null){he===null&&(he=Et);break}t&&he&&qr.alternate===null&&r(M,he),C=p(qr,C,ge),ce===null?se=qr:ce.sibling=qr,ce=qr,he=Et}if(Ve.done)return o(M,he),We&&Ti(M,ge),se;if(he===null){for(;!Ve.done;ge++,Ve=F.next())Ve=W(M,Ve.value,G),Ve!==null&&(C=p(Ve,C,ge),ce===null?se=Ve:ce.sibling=Ve,ce=Ve);return We&&Ti(M,ge),se}for(he=u(M,he);!Ve.done;ge++,Ve=F.next())Ve=Z(he,M,ge,Ve.value,G),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?ge:Ve.key),C=p(Ve,C,ge),ce===null?se=Ve:ce.sibling=Ve,ce=Ve);return t&&he.forEach(function(A_){return r(M,A_)}),We&&Ti(M,ge),se}function rt(M,C,F,G){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Be:e:{for(var se=F.key,ce=C;ce!==null;){if(ce.key===se){if(se=F.type,se===k){if(ce.tag===7){o(M,ce.sibling),C=h(ce,F.props.children),C.return=M,M=C;break e}}else if(ce.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Dt&&Wf(se)===ce.type){o(M,ce.sibling),C=h(ce,F.props),C.ref=Vo(M,ce,F),C.return=M,M=C;break e}o(M,ce);break}else r(M,ce);ce=ce.sibling}F.type===k?(C=Di(F.props.children,M.mode,G,F.key),C.return=M,M=C):(G=Il(F.type,F.key,F.props,null,M.mode,G),G.ref=Vo(M,C,F),G.return=M,M=G)}return _(M);case Ie:e:{for(ce=F.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===F.containerInfo&&C.stateNode.implementation===F.implementation){o(M,C.sibling),C=h(C,F.children||[]),C.return=M,M=C;break e}else{o(M,C);break}else r(M,C);C=C.sibling}C=Fc(F,M.mode,G),C.return=M,M=C}return _(M);case Dt:return ce=F._init,rt(M,C,ce(F._payload),G)}if(Jn(F))return re(M,C,F,G);if(le(F))return ie(M,C,F,G);Za(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,C!==null&&C.tag===6?(o(M,C.sibling),C=h(C,F),C.return=M,M=C):(o(M,C),C=Mc(F,M.mode,G),C.return=M,M=C),_(M)):o(M,C)}return rt}var As=Qf(!0),Kf=Qf(!1),el=xr(null),tl=null,Rs=null,Wu=null;function Qu(){Wu=Rs=tl=null}function Ku(t){var r=el.current;qe(el),t._currentValue=r}function Gu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Cs(t,r){tl=t,Wu=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Qt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(Wu!==t)if(t={context:t,memoizedValue:r,next:null},Rs===null){if(tl===null)throw Error(n(308));Rs=t,tl.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return r}var Ii=null;function Xu(t){Ii===null?Ii=[t]:Ii.push(t)}function Gf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Xu(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,Xu(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function nl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}function Yf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function rl(t,r,o,u){var h=t.updateQueue;Mr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,_===null?p=U:_.next=U,_=R;var H=t.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==_&&(w===null?H.firstBaseUpdate=U:w.next=U,H.lastBaseUpdate=R))}if(p!==null){var W=h.baseState;_=0,H=U=R=null,w=p;do{var q=w.lane,Z=w.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch(q=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){W=re.call(Z,W,q);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,q=typeof re=="function"?re.call(Z,W,q):re,q==null)break e;W=ee({},W,q);break e;case 2:Mr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[w]:q.push(w))}else Z={eventTime:Z,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(U=H=Z,R=W):H=H.next=Z,_|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=W),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ri|=_,t.lanes=_,t.memoizedState=W}}function Jf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var xo={},$n=xr(xo),Oo=xr(xo),Lo=xr(xo);function Si(t){if(t===xo)throw Error(n(174));return t}function Ju(t,r){switch(je(Lo,r),je(Oo,t),je($n,xo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe($n),je($n,r)}function Ps(){qe($n),qe(Oo),qe(Lo)}function Zf(t){Si(Lo.current);var r=Si($n.current),o=ut(r,t.type);r!==o&&(je(Oo,t),je($n,o))}function Zu(t){Oo.current===t&&(qe($n),qe(Oo))}var Ke=xr(0);function il(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ec=[];function tc(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var sl=de.ReactCurrentDispatcher,nc=de.ReactCurrentBatchConfig,Ai=0,Ge=null,ht=null,_t=null,ol=!1,Mo=!1,Fo=0,Qy=0;function Vt(){throw Error(n(321))}function rc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function ic(t,r,o,u,h,p){if(Ai=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,sl.current=t===null||t.memoizedState===null?Yy:Jy,t=o(u,h),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,sl.current=Zy,t=o(u,h)}while(Mo)}if(sl.current=ul,r=ht!==null&&ht.next!==null,Ai=0,_t=ht=Ge=null,ol=!1,r)throw Error(n(300));return t}function sc(){var t=Fo!==0;return Fo=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=t:_t=_t.next=t,_t}function pn(){if(ht===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Ge.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Ge.memoizedState=_t=t:_t=_t.next=t}return _t}function Uo(t,r){return typeof r=="function"?r(t):r}function oc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=_=null,R=null,U=p;do{var H=U.lane;if((Ai&H)===H)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var W={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(w=R=W,_=u):R=R.next=W,Ge.lanes|=H,Ri|=H}U=U.next}while(U!==null&&U!==p);R===null?_=u:R.next=w,Pn(u,r.memoizedState)||(Qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ge.lanes|=p,Ri|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ac(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Pn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function ed(){}function td(t,r){var o=Ge,u=pn(),h=r(),p=!Pn(u.memoizedState,h);if(p&&(u.memoizedState=h,Qt=!0),u=u.queue,lc(id.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Bo(9,rd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Ai&30||nd(o,r,h)}return h}function nd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function rd(t,r,o,u){r.value=o,r.getSnapshot=u,sd(r)&&od(t)}function id(t,r,o){return o(function(){sd(r)&&od(t)})}function sd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function od(t){var r=hr(t,1);r!==null&&xn(r,t,1,-1)}function ad(t){var r=qn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},r.queue=t,t=t.dispatch=Xy.bind(null,Ge,t),[r.memoizedState,t]}function Bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function ld(){return pn().memoizedState}function al(t,r,o,u){var h=qn();Ge.flags|=t,h.memoizedState=Bo(1|r,o,void 0,u===void 0?null:u)}function ll(t,r,o,u){var h=pn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,u!==null&&rc(u,_.deps)){h.memoizedState=Bo(r,o,p,u);return}}Ge.flags|=t,h.memoizedState=Bo(1|r,o,p,u)}function ud(t,r){return al(8390656,8,t,r)}function lc(t,r){return ll(2048,8,t,r)}function cd(t,r){return ll(4,2,t,r)}function hd(t,r){return ll(4,4,t,r)}function fd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function dd(t,r,o){return o=o!=null?o.concat([t]):null,ll(4,4,fd.bind(null,r,t),o)}function uc(){}function pd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function md(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function gd(t,r,o){return Ai&21?(Pn(o,r)||(o=pi(),Ge.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o)}function Ky(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=nc.transition;nc.transition={};try{t(!1),r()}finally{Ae=o,nc.transition=u}}function yd(){return pn().memoizedState}function Gy(t,r,o){var u=zr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},_d(t))vd(r,o);else if(o=Gf(t,r,o,u),o!==null){var h=zt();xn(o,t,u,h),Ed(o,r,u)}}function Xy(t,r,o){var u=zr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(_d(t))vd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,w=p(_,o);if(h.hasEagerState=!0,h.eagerState=w,Pn(w,_)){var R=r.interleaved;R===null?(h.next=h,Xu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Gf(t,r,h,u),o!==null&&(h=zt(),xn(o,t,u,h),Ed(o,r,u))}}function _d(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function vd(t,r){Mo=ol=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Ed(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}var ul={readContext:dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Yy={readContext:dn,useCallback:function(t,r){return qn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:ud,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,al(4194308,4,fd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return al(4194308,4,t,r)},useInsertionEffect:function(t,r){return al(4,2,t,r)},useMemo:function(t,r){var o=qn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Gy.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=qn();return t={current:t},r.memoizedState=t},useState:ad,useDebugValue:uc,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=ad(!1),r=t[0];return t=Ky.bind(null,t[1]),qn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ge,h=qn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Ai&30||nd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ud(id.bind(null,u,p,t),[t]),u.flags|=2048,Bo(9,rd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=qn(),r=vt.identifierPrefix;if(We){var o=cr,u=ur;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Qy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Jy={readContext:dn,useCallback:pd,useContext:dn,useEffect:lc,useImperativeHandle:dd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:oc,useRef:ld,useState:function(){return oc(Uo)},useDebugValue:uc,useDeferredValue:function(t){var r=pn();return gd(r,ht.memoizedState,t)},useTransition:function(){var t=oc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:ed,useSyncExternalStore:td,useId:yd,unstable_isNewReconciler:!1},Zy={readContext:dn,useCallback:pd,useContext:dn,useEffect:lc,useImperativeHandle:dd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:ac,useRef:ld,useState:function(){return ac(Uo)},useDebugValue:uc,useDeferredValue:function(t){var r=pn();return ht===null?r.memoizedState=t:gd(r,ht.memoizedState,t)},useTransition:function(){var t=ac(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:ed,useSyncExternalStore:td,useId:yd,unstable_isNewReconciler:!1};function Dn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function cc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var cl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=zr(t),p=fr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(xn(r,t,h,u),nl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=zr(t),p=fr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(xn(r,t,h,u),nl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=zr(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Fr(t,h,u),r!==null&&(xn(r,t,u,o),nl(r,t,u))}};function wd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Ao(o,u)||!Ao(h,p):!0}function Td(t,r,o){var u=!1,h=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(h=Wt(r)?Ei:Nt.current,u=r.contextTypes,p=(u=u!=null)?ws(t,h):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=cl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Id(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&cl.enqueueReplaceState(r,r.state,null)}function hc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Yu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=dn(p):(p=Wt(r)?Ei:Nt.current,h.context=ws(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(cc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&cl.enqueueReplaceState(h,h.state,null),rl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function fc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function Sd(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){yl||(yl=!0,Pc=u),dc(t,r)},o}function Ad(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){dc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){dc(t,r),typeof u!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Rd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new e_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=p_.bind(null,t,r,o),r.then(t,t))}function Cd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Pd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Fr(o,r,1))),o.lanes|=1),t)}var t_=de.ReactCurrentOwner,Qt=!1;function bt(t,r,o,u){r.child=t===null?Kf(r,null,o,u):As(r,t.child,o,u)}function kd(t,r,o,u,h){o=o.render;var p=r.ref;return Cs(r,h),u=ic(t,r,o,u,p,h),o=sc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(We&&o&&zu(r),r.flags|=1,bt(t,r,u,h),r.child)}function Dd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Nd(t,r,p,u,h)):(t=Il(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ao,o(_,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=$r(p,u),t.ref=r.ref,t.return=r,r.child=t}function Nd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Ao(p,u)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Qt=!0);else return r.lanes=t.lanes,dr(t,r,h)}return pc(t,r,o,u,h)}function Vd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ns,sn),sn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Ns,sn),sn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,je(Ns,sn),sn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,je(Ns,sn),sn|=u;return bt(t,r,h,o),r.child}function xd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function pc(t,r,o,u,h){var p=Wt(o)?Ei:Nt.current;return p=ws(r,p),Cs(r,h),o=ic(t,r,o,u,p,h),u=sc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(We&&u&&zu(r),r.flags|=1,bt(t,r,o,h),r.child)}function Od(t,r,o,u,h){if(Wt(o)){var p=!0;Ka(r)}else p=!1;if(Cs(r,h),r.stateNode===null)fl(t,r),Td(r,o,u),hc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,w=r.memoizedProps;_.props=w;var R=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=dn(U):(U=Wt(o)?Ei:Nt.current,U=ws(r,U));var H=o.getDerivedStateFromProps,W=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||R!==U)&&Id(r,_,u,U),Mr=!1;var q=r.memoizedState;_.state=q,rl(r,u,_,h),R=r.memoizedState,w!==u||q!==R||Ht.current||Mr?(typeof H=="function"&&(cc(r,o,H,u),R=r.memoizedState),(w=Mr||wd(r,o,w,u,q,R,U))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=U,u=w):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Xf(t,r),w=r.memoizedProps,U=r.type===r.elementType?w:Dn(r.type,w),_.props=U,W=r.pendingProps,q=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=dn(R):(R=Wt(o)?Ei:Nt.current,R=ws(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==W||q!==R)&&Id(r,_,u,R),Mr=!1,q=r.memoizedState,_.state=q,rl(r,u,_,h);var re=r.memoizedState;w!==W||q!==re||Ht.current||Mr?(typeof Z=="function"&&(cc(r,o,Z,u),re=r.memoizedState),(U=Mr||wd(r,o,U,u,q,re,R)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,re,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,re,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),_.props=u,_.state=re,_.context=R,u=U):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return mc(t,r,o,u,p,h)}function mc(t,r,o,u,h,p){xd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Bf(r,o,!1),dr(t,r,p);u=r.stateNode,t_.current=r;var w=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=As(r,t.child,null,p),r.child=As(r,null,w,p)):bt(t,r,w,p),r.memoizedState=u.state,h&&Bf(r,o,!0),r.child}function Ld(t){var r=t.stateNode;r.pendingContext?Ff(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Ff(t,r.context,!1),Ju(t,r.containerInfo)}function Md(t,r,o,u,h){return Ss(),Hu(h),r.flags|=256,bt(t,r,o,u),r.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fd(t,r,o){var u=r.pendingProps,h=Ke.current,p=!1,_=(r.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Ke,h&1),t===null)return qu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Sl(_,u,0,null),t=Di(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=yc(o),r.memoizedState=gc,t):_c(r,_));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return n_(t,r,_,u,w,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=$r(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=$r(w,p):(p=Di(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?yc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=gc,u}return p=t.child,t=p.sibling,u=$r(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function _c(t,r){return r=Sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function hl(t,r,o,u){return u!==null&&Hu(u),As(r,t.child,null,o),t=_c(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function n_(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=fc(Error(n(422))),hl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Sl({mode:"visible",children:u.children},h,0,null),p=Di(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&As(r,t.child,null,_),r.child.memoizedState=yc(_),r.memoizedState=gc,p);if(!(r.mode&1))return hl(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=fc(p,u,void 0),hl(t,r,_,u)}if(w=(_&t.childLanes)!==0,Qt||w){if(u=vt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,hr(t,h),xn(u,t,h,-1))}return Oc(),u=fc(Error(n(421))),hl(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=m_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,rn=Vr(h.nextSibling),nn=r,We=!0,kn=null,t!==null&&(hn[fn++]=ur,hn[fn++]=cr,hn[fn++]=wi,ur=t.id,cr=t.overflow,wi=r),r=_c(r,u.children),r.flags|=4096,r)}function Ud(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Gu(t.return,r,o)}function vc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Bd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(bt(t,r,u.children,o),u=Ke.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,o,r);else if(t.tag===19)Ud(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Ke,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&il(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),vc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&il(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}vc(r,!0,o,null,p);break;case"together":vc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=$r(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function r_(t,r,o){switch(r.tag){case 3:Ld(r),Ss();break;case 5:Zf(r);break;case 1:Wt(r.type)&&Ka(r);break;case 4:Ju(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(el,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(Ke,Ke.current&1),r.flags|=128,null):o&r.child.childLanes?Fd(t,r,o):(je(Ke,Ke.current&1),t=dr(t,r,o),t!==null?t.sibling:null);je(Ke,Ke.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Bd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Ke,Ke.current),u)break;return null;case 22:case 23:return r.lanes=0,Vd(t,r,o)}return dr(t,r,o)}var bd,Ec,zd,jd;bd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ec=function(){},zd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Si($n.current);var p=null;switch(o){case"input":h=ri(t,h),u=ri(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Zs(t,h),u=Zs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ha)}so(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(_ in w)w.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(w=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==w&&(R!=null||w!=null))if(U==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&w[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&$e("scroll",t),p||w===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},jd=function(t,r,o,u){o!==u&&(r.flags|=4)};function bo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function xt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function i_(t,r,o){var u=r.pendingProps;switch(ju(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return Wt(r.type)&&Qa(),xt(r),null;case 3:return u=r.stateNode,Ps(),qe(Ht),qe(Nt),tc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kn!==null&&(Nc(kn),kn=null))),Ec(t,r),xt(r),null;case 5:Zu(r);var h=Si(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)zd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return xt(r),null}if(t=Si($n.current),Ja(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[Do]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Co.length;h++)$e(Co[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":$i(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Hi(u,p),$e("invalid",u)}so(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Yn(u),ga(u,p,!0);break;case"textarea":Yn(u),eo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ha)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[jn]=r,t[Do]=u,bd(t,r,!1,!1),r.stateNode=t;e:{switch(_=oo(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Co.length;h++)$e(Co[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":$i(t,u),h=ri(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Hi(t,u),h=Zs(t,u),$e("invalid",t);break;default:h=u}so(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?ro(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&to(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&wr(t,R):typeof R=="number"&&wr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&ae(t,p,R,_))}switch(o){case"input":Yn(t),ga(t,u,!1);break;case"textarea":Yn(t),eo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Zn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Zn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ha)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return xt(r),null;case 6:if(t&&r.stateNode!=null)jd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Lo.current),Si($n.current),Ja(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=nn,t!==null))switch(t.tag){case 3:qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return xt(r),null;case 13:if(qe(Ke),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&rn!==null&&r.mode&1&&!(r.flags&128))Hf(),Ss(),r.flags|=98560,p=!1;else if(p=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else Ss(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;xt(r),p=!1}else kn!==null&&(Nc(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ke.current&1?ft===0&&(ft=3):Oc())),r.updateQueue!==null&&(r.flags|=4),xt(r),null);case 4:return Ps(),Ec(t,r),t===null&&Po(r.stateNode.containerInfo),xt(r),null;case 10:return Ku(r.type._context),xt(r),null;case 17:return Wt(r.type)&&Qa(),xt(r),null;case 19:if(qe(Ke),p=r.memoizedState,p===null)return xt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)bo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=il(t),_!==null){for(r.flags|=128,bo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(Ke,Ke.current&1|2),r.child}t=t.sibling}p.tail!==null&&ze()>Vs&&(r.flags|=128,u=!0,bo(p,!1),r.lanes=4194304)}else{if(!u)if(t=il(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),bo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return xt(r),null}else 2*ze()-p.renderingStartTime>Vs&&o!==1073741824&&(r.flags|=128,u=!0,bo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ze(),r.sibling=null,o=Ke.current,je(Ke,u?o&1|2:o&1),r):(xt(r),null);case 22:case 23:return xc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?sn&1073741824&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function s_(t,r){switch(ju(r),r.tag){case 1:return Wt(r.type)&&Qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ps(),qe(Ht),qe(Nt),tc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Zu(r),null;case 13:if(qe(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ss()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ke),null;case 4:return Ps(),null;case 10:return Ku(r.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var dl=!1,Ot=!1,o_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ds(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function wc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var $d=!1;function a_(t,r){if(xu=kr,t=wf(),Au(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,w=-1,R=-1,U=0,H=0,W=t,q=null;t:for(;;){for(var Z;W!==o||h!==0&&W.nodeType!==3||(w=_+h),W!==p||u!==0&&W.nodeType!==3||(R=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Z=W.firstChild)!==null;)q=W,W=Z;for(;;){if(W===t)break t;if(q===o&&++U===h&&(w=_),q===p&&++H===u&&(R=_),(Z=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ou={focusedElem:t,selectionRange:o},kr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,rt=re.memoizedState,M=r.stateNode,C=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Dn(r.type,ie),rt);M.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Je(r,r.return,G)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=$d,$d=!1,re}function zo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&wc(r,o,p)}h=h.next}while(h!==u)}}function pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Tc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function qd(t){var r=t.alternate;r!==null&&(t.alternate=null,qd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[Do],delete r[Uu],delete r[$y],delete r[qy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hd(t){return t.tag===5||t.tag===3||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ha));else if(u!==4&&(t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}function Sc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Sc(t,r,o),t=t.sibling;t!==null;)Sc(t,r,o),t=t.sibling}var St=null,Nn=!1;function Ur(t,r,o){for(o=o.child;o!==null;)Qd(t,r,o),o=o.sibling}function Qd(t,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Ot||Ds(o,r);case 6:var u=St,h=Nn;St=null,Ur(t,r,o),St=u,Nn=h,St!==null&&(Nn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Nn?(t=St,o=o.stateNode,t.nodeType===8?Fu(t.parentNode,o):t.nodeType===1&&Fu(t,o),Rn(t)):Fu(St,o.stateNode));break;case 4:u=St,h=Nn,St=o.stateNode.containerInfo,Nn=!0,Ur(t,r,o),St=u,Nn=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&wc(o,r,_),h=h.next}while(h!==u)}Ur(t,r,o);break;case 1:if(!Ot&&(Ds(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Je(o,r,w)}Ur(t,r,o);break;case 21:Ur(t,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,Ur(t,r,o),Ot=u):Ur(t,r,o);break;default:Ur(t,r,o)}}function Kd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new o_),r.forEach(function(u){var h=g_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 5:St=w.stateNode,Nn=!1;break e;case 3:St=w.stateNode.containerInfo,Nn=!0;break e;case 4:St=w.stateNode.containerInfo,Nn=!0;break e}w=w.return}if(St===null)throw Error(n(160));Qd(p,_,h),St=null,Nn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Je(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Gd(r,t),r=r.sibling}function Gd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),Hn(t),u&4){try{zo(3,t,t.return),pl(3,t)}catch(ie){Je(t,t.return,ie)}try{zo(5,t,t.return)}catch(ie){Je(t,t.return,ie)}}break;case 1:Vn(r,t),Hn(t),u&512&&o!==null&&Ds(o,o.return);break;case 5:if(Vn(r,t),Hn(t),u&512&&o!==null&&Ds(o,o.return),t.flags&32){var h=t.stateNode;try{wr(h,"")}catch(ie){Je(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),oo(w,_);var U=oo(w,p);for(_=0;_<R.length;_+=2){var H=R[_],W=R[_+1];H==="style"?ro(h,W):H==="dangerouslySetInnerHTML"?to(h,W):H==="children"?wr(h,W):ae(h,H,W,U)}switch(w){case"input":Js(h,p);break;case"textarea":Wi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Zn(h,!!p.multiple,Z,!1):q!==!!p.multiple&&(p.defaultValue!=null?Zn(h,!!p.multiple,p.defaultValue,!0):Zn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Do]=p}catch(ie){Je(t,t.return,ie)}}break;case 6:if(Vn(r,t),Hn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Je(t,t.return,ie)}}break;case 3:if(Vn(r,t),Hn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(ie){Je(t,t.return,ie)}break;case 4:Vn(r,t),Hn(t);break;case 13:Vn(r,t),Hn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Cc=ze())),u&4&&Kd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Ot=(U=Ot)||H,Vn(r,t),Ot=U):Vn(r,t),Hn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&t.mode&1)for(ne=t,H=t.child;H!==null;){for(W=ne=H;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:zo(4,q,q.return);break;case 1:Ds(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Je(u,o,ie)}}break;case 5:Ds(q,q.return);break;case 22:if(q.memoizedState!==null){Jd(W);continue}}Z!==null?(Z.return=q,ne=Z):Jd(W)}H=H.sibling}e:for(H=null,W=t;;){if(W.tag===5){if(H===null){H=W;try{h=W.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=W.stateNode,R=W.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=no("display",_))}catch(ie){Je(t,t.return,ie)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(ie){Je(t,t.return,ie)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Vn(r,t),Hn(t),u&4&&Kd(t);break;case 21:break;default:Vn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Hd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wr(h,""),u.flags&=-33);var p=Wd(t);Sc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,w=Wd(t);Ic(t,w,_);break;default:throw Error(n(161))}}catch(R){Je(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function l_(t,r,o){ne=t,Xd(t)}function Xd(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||dl;if(!_){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Ot;w=dl;var U=Ot;if(dl=_,(Ot=R)&&!U)for(ne=h;ne!==null;)_=ne,R=_.child,_.tag===22&&_.memoizedState!==null?Zd(h):R!==null?(R.return=_,ne=R):Zd(h);for(;p!==null;)ne=p,Xd(p),p=p.sibling;ne=h,dl=w,Ot=U}Yd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Yd(t)}}function Yd(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ot||pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Dn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Jf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Jf(r,_,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&Rn(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&Tc(r)}catch(q){Je(r,r.return,q)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Jd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Zd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{pl(4,r)}catch(R){Je(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Je(r,h,R)}}var p=r.return;try{Tc(r)}catch(R){Je(r,p,R)}break;case 5:var _=r.return;try{Tc(r)}catch(R){Je(r,_,R)}}}catch(R){Je(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var u_=Math.ceil,ml=de.ReactCurrentDispatcher,Ac=de.ReactCurrentOwner,mn=de.ReactCurrentBatchConfig,Ne=0,vt=null,ot=null,At=0,sn=0,Ns=xr(0),ft=0,jo=null,Ri=0,gl=0,Rc=0,$o=null,Kt=null,Cc=0,Vs=1/0,pr=null,yl=!1,Pc=null,Br=null,_l=!1,br=null,vl=0,qo=0,kc=null,El=-1,wl=0;function zt(){return Ne&6?ze():El!==-1?El:El=ze()}function zr(t){return t.mode&1?Ne&2&&At!==0?At&-At:Wy.transition!==null?(wl===0&&(wl=pi()),wl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function xn(t,r,o,u){if(50<qo)throw qo=0,kc=null,Error(n(185));Ar(t,o,u),(!(Ne&2)||t!==vt)&&(t===vt&&(!(Ne&2)&&(gl|=o),ft===4&&jr(t,At)),Gt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(Vs=ze()+500,Ga&&Lr()))}function Gt(t,r){var o=t.callbackNode;nr(t,r);var u=di(t,t===vt?At:0);if(u===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?Hy(tp.bind(null,t)):bf(tp.bind(null,t)),zy(function(){!(Ne&6)&&Lr()}),o=null;else{switch(Cr(u)){case 1:o=hi;break;case 4:o=Tr;break;case 16:o=ln;break;case 536870912:o=wa;break;default:o=ln}o=up(o,ep.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function ep(t,r){if(El=-1,wl=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(xs()&&t.callbackNode!==o)return null;var u=di(t,t===vt?At:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Tl(t,u);else{r=u;var h=Ne;Ne|=2;var p=rp();(vt!==t||At!==r)&&(pr=null,Vs=ze()+500,Pi(t,r));do try{f_();break}catch(w){np(t,w)}while(!0);Qu(),ml.current=p,Ne=h,ot!==null?r=0:(vt=null,At=0,r=ft)}if(r!==0){if(r===2&&(h=Zt(t),h!==0&&(u=h,r=Dc(t,h))),r===1)throw o=jo,Pi(t,0),jr(t,u),Gt(t,ze()),o;if(r===6)jr(t,u);else{if(h=t.current.alternate,!(u&30)&&!c_(h)&&(r=Tl(t,u),r===2&&(p=Zt(t),p!==0&&(u=p,r=Dc(t,p))),r===1))throw o=jo,Pi(t,0),jr(t,u),Gt(t,ze()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ki(t,Kt,pr);break;case 3:if(jr(t,u),(u&130023424)===u&&(r=Cc+500-ze(),10<r)){if(di(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Mu(ki.bind(null,t,Kt,pr),r);break}ki(t,Kt,pr);break;case 4:if(jr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ut(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*u_(u/1960))-u,10<u){t.timeoutHandle=Mu(ki.bind(null,t,Kt,pr),u);break}ki(t,Kt,pr);break;case 5:ki(t,Kt,pr);break;default:throw Error(n(329))}}}return Gt(t,ze()),t.callbackNode===o?ep.bind(null,t):null}function Dc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(Pi(t,r).flags|=256),t=Tl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Nc(r)),t}function Nc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function c_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Pn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~Rc,r&=~gl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function tp(t){if(Ne&6)throw Error(n(327));xs();var r=di(t,0);if(!(r&1))return Gt(t,ze()),null;var o=Tl(t,r);if(t.tag!==0&&o===2){var u=Zt(t);u!==0&&(r=u,o=Dc(t,u))}if(o===1)throw o=jo,Pi(t,0),jr(t,r),Gt(t,ze()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ki(t,Kt,pr),Gt(t,ze()),null}function Vc(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Vs=ze()+500,Ga&&Lr())}}function Ci(t){br!==null&&br.tag===0&&!(Ne&6)&&xs();var r=Ne;Ne|=1;var o=mn.transition,u=Ae;try{if(mn.transition=null,Ae=1,t)return t()}finally{Ae=u,mn.transition=o,Ne=r,!(Ne&6)&&Lr()}}function xc(){sn=Ns.current,qe(Ns)}function Pi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,by(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(ju(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Qa();break;case 3:Ps(),qe(Ht),qe(Nt),tc();break;case 5:Zu(u);break;case 4:Ps();break;case 13:qe(Ke);break;case 19:qe(Ke);break;case 10:Ku(u.type._context);break;case 22:case 23:xc()}o=o.return}if(vt=t,ot=t=$r(t.current,null),At=sn=r,ft=0,jo=null,Rc=gl=Ri=0,Kt=$o=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ii=null}return t}function np(t,r){do{var o=ot;try{if(Qu(),sl.current=ul,ol){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ol=!1}if(Ai=0,_t=ht=Ge=null,Mo=!1,Fo=0,Ac.current=null,o===null||o.return===null){ft=1,jo=r,ot=null;break}e:{var p=t,_=o.return,w=o,R=r;if(r=At,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,H=w,W=H.tag;if(!(H.mode&1)&&(W===0||W===11||W===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Cd(_);if(Z!==null){Z.flags&=-257,Pd(Z,_,w,p,r),Z.mode&1&&Rd(p,U,r),r=Z,R=U;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){Rd(p,U,r),Oc();break e}R=Error(n(426))}}else if(We&&w.mode&1){var rt=Cd(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Pd(rt,_,w,p,r),Hu(ks(R,w));break e}}p=R=ks(R,w),ft!==4&&(ft=2),$o===null?$o=[p]:$o.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Sd(p,R,r);Yf(p,M);break e;case 1:w=R;var C=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Br===null||!Br.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=Ad(p,w,r);Yf(p,G);break e}}p=p.return}while(p!==null)}sp(o)}catch(se){r=se,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function rp(){var t=ml.current;return ml.current=ul,t===null?ul:t}function Oc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Ri&268435455)&&!(gl&268435455)||jr(vt,At)}function Tl(t,r){var o=Ne;Ne|=2;var u=rp();(vt!==t||At!==r)&&(pr=null,Pi(t,r));do try{h_();break}catch(h){np(t,h)}while(!0);if(Qu(),Ne=o,ml.current=u,ot!==null)throw Error(n(261));return vt=null,At=0,ft}function h_(){for(;ot!==null;)ip(ot)}function f_(){for(;ot!==null&&!va();)ip(ot)}function ip(t){var r=lp(t.alternate,t,sn);t.memoizedProps=t.pendingProps,r===null?sp(t):ot=r,Ac.current=null}function sp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=s_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=i_(o,r,sn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function ki(t,r,o){var u=Ae,h=mn.transition;try{mn.transition=null,Ae=1,d_(t,r,o,u)}finally{mn.transition=h,Ae=u}return null}function d_(t,r,o,u){do xs();while(br!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===vt&&(ot=vt=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||_l||(_l=!0,up(ln,function(){return xs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=mn.transition,mn.transition=null;var _=Ae;Ae=1;var w=Ne;Ne|=4,Ac.current=null,a_(t,o),Gd(o,t),xy(Ou),kr=!!xu,Ou=xu=null,t.current=o,l_(o),yu(),Ne=w,Ae=_,mn.transition=p}else t.current=o;if(_l&&(_l=!1,br=t,vl=h),p=t.pendingLanes,p===0&&(Br=null),Ta(o.stateNode),Gt(t,ze()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(yl)throw yl=!1,t=Pc,Pc=null,t;return vl&1&&t.tag!==0&&xs(),p=t.pendingLanes,p&1?t===kc?qo++:(qo=0,kc=t):qo=0,Lr(),null}function xs(){if(br!==null){var t=Cr(vl),r=mn.transition,o=Ae;try{if(mn.transition=null,Ae=16>t?16:t,br===null)var u=!1;else{if(t=br,br=null,vl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,ne=t.current;ne!==null;){var p=ne,_=p.child;if(ne.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var U=w[R];for(ne=U;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:zo(8,H,p)}var W=H.child;if(W!==null)W.return=H,ne=W;else for(;ne!==null;){H=ne;var q=H.sibling,Z=H.return;if(qd(H),H===U){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:zo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var C=t.current;for(ne=C;ne!==null;){_=ne;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,ne=F;else e:for(_=C;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:pl(9,w)}}catch(se){Je(w,w.return,se)}if(w===_){ne=null;break e}var G=w.sibling;if(G!==null){G.return=w.return,ne=G;break e}ne=w.return}}if(Ne=h,Lr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(fi,t)}catch{}u=!0}return u}finally{Ae=o,mn.transition=r}}return!1}function op(t,r,o){r=ks(o,r),r=Sd(t,r,1),t=Fr(t,r,1),r=zt(),t!==null&&(Ar(t,1,r),Gt(t,r))}function Je(t,r,o){if(t.tag===3)op(t,t,o);else for(;r!==null;){if(r.tag===3){op(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Br===null||!Br.has(u))){t=ks(o,t),t=Ad(r,t,1),r=Fr(r,t,1),t=zt(),r!==null&&(Ar(r,1,t),Gt(r,t));break}}r=r.return}}function p_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(At&o)===o&&(ft===4||ft===3&&(At&130023424)===At&&500>ze()-Cc?Pi(t,0):Rc|=o),Gt(t,r)}function ap(t,r){r===0&&(t.mode&1?(r=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):r=1);var o=zt();t=hr(t,r),t!==null&&(Ar(t,r,o),Gt(t,o))}function m_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),ap(t,o)}function g_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),ap(t,o)}var lp;lp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Qt=!1,r_(t,r,o);Qt=!!(t.flags&131072)}else Qt=!1,We&&r.flags&1048576&&zf(r,Ya,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;fl(t,r),t=r.pendingProps;var h=ws(r,Nt.current);Cs(r,o),h=ic(null,r,u,t,h,o);var p=sc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(u)?(p=!0,Ka(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Yu(r),h.updater=cl,r.stateNode=h,h._reactInternals=r,hc(r,u,t,o),r=mc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&zu(r),bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(fl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=__(u),t=Dn(u,t),h){case 0:r=pc(null,r,u,t,o);break e;case 1:r=Od(null,r,u,t,o);break e;case 11:r=kd(null,r,u,t,o);break e;case 14:r=Dd(null,r,u,Dn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),pc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Od(t,r,u,h,o);case 3:e:{if(Ld(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Xf(t,r),rl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=ks(Error(n(423)),r),r=Md(t,r,u,o,h);break e}else if(u!==h){h=ks(Error(n(424)),r),r=Md(t,r,u,o,h);break e}else for(rn=Vr(r.stateNode.containerInfo.firstChild),nn=r,We=!0,kn=null,o=Kf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ss(),u===h){r=dr(t,r,o);break e}bt(t,r,u,o)}r=r.child}return r;case 5:return Zf(r),t===null&&qu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Lu(u,h)?_=null:p!==null&&Lu(u,p)&&(r.flags|=32),xd(t,r),bt(t,r,_,o),r.child;case 6:return t===null&&qu(r),null;case 13:return Fd(t,r,o);case 4:return Ju(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=As(r,null,u,o):bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),kd(t,r,u,h,o);case 7:return bt(t,r,r.pendingProps,o),r.child;case 8:return bt(t,r,r.pendingProps.children,o),r.child;case 12:return bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,je(el,u._currentValue),u._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===h.children&&!Ht.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=fr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?R.next=R:(R.next=H.next,H.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Gu(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,w=_.alternate,w!==null&&(w.lanes|=o),Gu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Cs(r,o),h=dn(h),u=u(h),r.flags|=1,bt(t,r,u,o),r.child;case 14:return u=r.type,h=Dn(u,r.pendingProps),h=Dn(u.type,h),Dd(t,r,u,h,o);case 15:return Nd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),fl(t,r),r.tag=1,Wt(u)?(t=!0,Ka(r)):t=!1,Cs(r,o),Td(r,u,h),hc(r,u,h,o),mc(null,r,u,!0,t,o);case 19:return Bd(t,r,o);case 22:return Vd(t,r,o)}throw Error(n(156,r.tag))};function up(t,r){return es(t,r)}function y_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new y_(t,r,o,u)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function __(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function $r(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Il(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Lc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return Di(o.children,h,p,r);case T:_=8,h|=8;break;case A:return t=gn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=gn(13,o,r,h),t.elementType=S,t.lanes=p,t;case tt:return t=gn(19,o,r,h),t.elementType=tt,t.lanes=p,t;case Fe:return Sl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case N:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case Dt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Di(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function Sl(t,r,o,u){return t=gn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Mc(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function Fc(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function v_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sr(0),this.expirationTimes=Sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Uc(t,r,o,u,h,p,_,w,R){return t=new v_(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(p),t}function E_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function cp(t){if(!t)return Or;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return Uf(t,o,r)}return r}function hp(t,r,o,u,h,p,_,w,R){return t=Uc(o,u,!0,t,h,p,_,w,R),t.context=cp(null),o=t.current,u=zt(),h=zr(o),p=fr(u,h),p.callback=r??null,Fr(o,p,h),t.current.lanes=h,Ar(t,h,u),Gt(t,u),t}function Al(t,r,o,u){var h=r.current,p=zt(),_=zr(h);return o=cp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Fr(h,r,_),t!==null&&(xn(t,h,_,p),nl(t,h,_)),_}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Bc(t,r){fp(t,r),(t=t.alternate)&&fp(t,r)}function w_(){return null}var dp=typeof reportError=="function"?reportError:function(t){console.error(t)};function bc(t){this._internalRoot=t}Cl.prototype.render=bc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Al(t,r,null,null)},Cl.prototype.unmount=bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ci(function(){Al(null,t,null,null)}),r[ar]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ca();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Un.length&&r!==0&&r<Un[o].priority;o++);Un.splice(o,0,t),o===0&&Da(t)}};function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pp(){}function T_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Rl(_);p.call(U)}}var _=hp(r,u,t,0,null,!1,!1,"",pp);return t._reactRootContainer=_,t[ar]=_.current,Po(t.nodeType===8?t.parentNode:t),Ci(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=Rl(R);w.call(U)}}var R=Uc(t,0,!1,null,null,!1,!1,"",pp);return t._reactRootContainer=R,t[ar]=R.current,Po(t.nodeType===8?t.parentNode:t),Ci(function(){Al(r,R,o,u)}),R}function kl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var w=h;h=function(){var R=Rl(_);w.call(R)}}Al(r,_,t,h)}else _=T_(o,r,t,h,u);return Rl(_)}Aa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Rr(r,o|1),Gt(r,ze()),!(Ne&6)&&(Vs=ze()+500,Lr()))}break;case 13:Ci(function(){var u=hr(t,1);if(u!==null){var h=zt();xn(u,t,1,h)}}),Bc(t,1)}},rs=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=zt();xn(r,t,134217728,o)}Bc(t,134217728)}},Ra=function(t){if(t.tag===13){var r=zr(t),o=hr(t,r);if(o!==null){var u=zt();xn(o,t,r,u)}Bc(t,r)}},Ca=function(){return Ae},Pa=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},Ki=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Wa(u);if(!h)throw Error(n(90));ji(u),Js(u,h)}}}break;case"textarea":Wi(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},ai=Vc,lo=Ci;var I_={usingClientEntryPoint:!1,Events:[No,vs,Wa,Mn,ao,Vc]},Ho={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||w_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{fi=Dl.inject(S_),Jt=Dl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_,Xt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(r))throw Error(n(200));return E_(t,r,null,o)},Xt.createRoot=function(t,r){if(!zc(t))throw Error(n(299));var o=!1,u="",h=dp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Uc(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,Po(t.nodeType===8?t.parentNode:t),new bc(r)},Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Xt.flushSync=function(t){return Ci(t)},Xt.hydrate=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!0,o)},Xt.hydrateRoot=function(t,r,o){if(!zc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=dp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=hp(r,null,t,1,o??null,h,!1,p,_),t[ar]=r.current,Po(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Cl(r)},Xt.render=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!1,o)},Xt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(n(40));return t._reactRootContainer?(Ci(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Xt.unstable_batchedUpdates=Vc,Xt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Pl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return kl(t,r,o,!1,u)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Tp;function V_(){if(Tp)return qc.exports;Tp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qc.exports=N_(),qc.exports}var Ip;function x_(){if(Ip)return Nl;Ip=1;var i=V_();return Nl.createRoot=i.createRoot,Nl.hydrateRoot=i.hydrateRoot,Nl}var O_=x_(),Sp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},L_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,E=y?i[a+2]:0,I=c>>2,D=(c&3)<<4|m>>4;let V=(m&15)<<2|E>>6,b=E&63;y||(b=64,f||(V=64)),s.push(n[I],n[D],n[V],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Am(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):L_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const D=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||D==null)throw new M_;const V=c<<2|m>>4;if(s.push(V),E!==64){const b=m<<4&240|E>>2;if(s.push(b),D!==64){const K=E<<6&192|D;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class M_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F_=function(i){const e=Am(i);return Rm.encodeByteArray(e,!0)},Hl=function(i){return F_(i).replace(/\./g,"")},U_=function(i){try{return Rm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=()=>B_().__FIREBASE_DEFAULTS__,z_=()=>{if(typeof process>"u"||typeof Sp>"u")return;const i=Sp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},j_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&U_(i[1]);return e&&JSON.parse(e)},Ah=()=>{try{return b_()||z_()||j_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$_=i=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Cm=i=>{const e=$_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Pm=()=>{var i;return(i=Ah())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W_(){var i;const e=(i=Ah())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q_(){return!W_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K_(){try{return typeof indexedDB=="object"}catch{return!1}}function G_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="FirebaseError";class Fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=X_,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dm.prototype.create)}}class Dm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?Y_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Fi(a,m,s)}}function Y_(i,e){return i.replace(J_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const J_=/\{\$([^}]+)}/g;function rh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Ap(c)&&Ap(f)){if(!rh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ap(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(i){return i&&i._delegate?i._delegate:i}class Bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new q_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tv(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ev(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ev(i){return i===Ni?void 0:i}function tv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const rv={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},iv=De.INFO,sv={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},ov=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=sv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=iv,this._logHandler=ov,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const av=(i,e)=>e.some(n=>i instanceof n);let Rp,Cp;function lv(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uv(){return Cp||(Cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,ih=new WeakMap,xm=new WeakMap,Qc=new WeakMap,Rh=new WeakMap;function cv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Vm.set(n,i)}).catch(()=>{}),Rh.set(e,i),e}function hv(i){if(ih.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ih.set(i,e)}let sh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ih.get(i);if(e==="objectStoreNames")return i.objectStoreNames||xm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fv(i){sh=i(sh)}function dv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Kc(this),e,...n);return xm.set(s,e.sort?e.sort():[e]),Qr(s)}:uv().includes(i)?function(...e){return i.apply(Kc(this),e),Qr(Vm.get(this))}:function(...e){return Qr(i.apply(Kc(this),e))}}function pv(i){return typeof i=="function"?dv(i):(i instanceof IDBTransaction&&hv(i),av(i,lv())?new Proxy(i,sh):i)}function Qr(i){if(i instanceof IDBRequest)return cv(i);if(Qc.has(i))return Qc.get(i);const e=pv(i);return e!==i&&(Qc.set(i,e),Rh.set(e,i)),e}const Kc=i=>Rh.get(i);function mv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Qr(f.result),y.oldVersion,y.newVersion,Qr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const gv=["get","getKey","getAll","getAllKeys","count"],yv=["put","add","delete","clear"],Gc=new Map;function Pp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gc.get(e))return Gc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=yv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||gv.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&y.done]))[0]};return Gc.set(e,c),c}fv(i=>({...i,get:(e,n,s)=>Pp(e,n)||i.get(e,n,s),has:(e,n)=>!!Pp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oh="@firebase/app",kp="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Nm("@firebase/app"),Ev="@firebase/app-compat",wv="@firebase/analytics-compat",Tv="@firebase/analytics",Iv="@firebase/app-check-compat",Sv="@firebase/app-check",Av="@firebase/auth",Rv="@firebase/auth-compat",Cv="@firebase/database",Pv="@firebase/data-connect",kv="@firebase/database-compat",Dv="@firebase/functions",Nv="@firebase/functions-compat",Vv="@firebase/installations",xv="@firebase/installations-compat",Ov="@firebase/messaging",Lv="@firebase/messaging-compat",Mv="@firebase/performance",Fv="@firebase/performance-compat",Uv="@firebase/remote-config",Bv="@firebase/remote-config-compat",bv="@firebase/storage",zv="@firebase/storage-compat",jv="@firebase/firestore",$v="@firebase/vertexai",qv="@firebase/firestore-compat",Hv="firebase",Wv="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="[DEFAULT]",Qv={[oh]:"fire-core",[Ev]:"fire-core-compat",[Tv]:"fire-analytics",[wv]:"fire-analytics-compat",[Sv]:"fire-app-check",[Iv]:"fire-app-check-compat",[Av]:"fire-auth",[Rv]:"fire-auth-compat",[Cv]:"fire-rtdb",[Pv]:"fire-data-connect",[kv]:"fire-rtdb-compat",[Dv]:"fire-fn",[Nv]:"fire-fn-compat",[Vv]:"fire-iid",[xv]:"fire-iid-compat",[Ov]:"fire-fcm",[Lv]:"fire-fcm-compat",[Mv]:"fire-perf",[Fv]:"fire-perf-compat",[Uv]:"fire-rc",[Bv]:"fire-rc-compat",[bv]:"fire-gcs",[zv]:"fire-gcs-compat",[jv]:"fire-fst",[qv]:"fire-fst-compat",[$v]:"fire-vertex","fire-js":"fire-js",[Hv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,Kv=new Map,lh=new Map;function Dp(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ra(i){const e=i.name;if(lh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;lh.set(e,i);for(const n of Wl.values())Dp(n,i);for(const n of Kv.values())Dp(n,i);return!0}function Om(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Dm("app","Firebase",Gv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=Wv;function Mm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ah,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=Pm()),!n)throw Kr.create("no-options");const c=Wl.get(a);if(c){if(rh(n,c.options)&&rh(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const f=new nv(a);for(const y of lh.values())f.addComponent(y);const m=new Xv(n,s,f);return Wl.set(a,m),m}function Fm(i=ah){const e=Wl.get(i);if(!e&&i===ah&&Pm())return Mm();if(!e)throw Kr.create("no-app",{appName:i});return e}function Gr(i,e,n){var s;let a=(s=Qv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}ra(new Bs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firebase-heartbeat-database",Jv=1,ia="firebase-heartbeat-store";let Xc=null;function Um(){return Xc||(Xc=mv(Yv,Jv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),Xc}async function Zv(i){try{const n=(await Um()).transaction(ia),s=await n.objectStore(ia).get(Bm(i));return await n.done,s}catch(e){if(e instanceof Fi)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Np(i,e){try{const s=(await Um()).transaction(ia,"readwrite");await s.objectStore(ia).put(e,Bm(i)),await s.done}catch(n){if(n instanceof Fi)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function Bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=1024,t0=30*24*60*60*1e3;class n0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=t0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:s,unsentEntries:a}=r0(this._heartbeatsCache.heartbeats),c=Hl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function r0(i,e=e0){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),xp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class i0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K_()?G_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xp(i){return Hl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i){ra(new Bs("platform-logger",e=>new _v(e),"PRIVATE")),ra(new Bs("heartbeat",e=>new n0(e),"PRIVATE")),Gr(oh,kp,i),Gr(oh,kp,"esm2017"),Gr("fire-js","")}s0("");var o0="firebase",a0="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(o0,a0,"app");var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,bm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(P,N,O){for(var S=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)S[tt-2]=arguments[tt];return T.prototype[N].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)P[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],N=k.g[2];var O=k.g[3],S=T+(O^A&(N^O))+P[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=O+(N^T&(A^N))+P[1]+3905402710&4294967295,O=T+(S<<12&4294967295|S>>>20),S=N+(A^O&(T^A))+P[2]+606105819&4294967295,N=O+(S<<17&4294967295|S>>>15),S=A+(T^N&(O^T))+P[3]+3250441966&4294967295,A=N+(S<<22&4294967295|S>>>10),S=T+(O^A&(N^O))+P[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(N^T&(A^N))+P[5]+1200080426&4294967295,O=T+(S<<12&4294967295|S>>>20),S=N+(A^O&(T^A))+P[6]+2821735955&4294967295,N=O+(S<<17&4294967295|S>>>15),S=A+(T^N&(O^T))+P[7]+4249261313&4294967295,A=N+(S<<22&4294967295|S>>>10),S=T+(O^A&(N^O))+P[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(N^T&(A^N))+P[9]+2336552879&4294967295,O=T+(S<<12&4294967295|S>>>20),S=N+(A^O&(T^A))+P[10]+4294925233&4294967295,N=O+(S<<17&4294967295|S>>>15),S=A+(T^N&(O^T))+P[11]+2304563134&4294967295,A=N+(S<<22&4294967295|S>>>10),S=T+(O^A&(N^O))+P[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=O+(N^T&(A^N))+P[13]+4254626195&4294967295,O=T+(S<<12&4294967295|S>>>20),S=N+(A^O&(T^A))+P[14]+2792965006&4294967295,N=O+(S<<17&4294967295|S>>>15),S=A+(T^N&(O^T))+P[15]+1236535329&4294967295,A=N+(S<<22&4294967295|S>>>10),S=T+(N^O&(A^N))+P[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^N&(T^A))+P[6]+3225465664&4294967295,O=T+(S<<9&4294967295|S>>>23),S=N+(T^A&(O^T))+P[11]+643717713&4294967295,N=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(N^O))+P[0]+3921069994&4294967295,A=N+(S<<20&4294967295|S>>>12),S=T+(N^O&(A^N))+P[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^N&(T^A))+P[10]+38016083&4294967295,O=T+(S<<9&4294967295|S>>>23),S=N+(T^A&(O^T))+P[15]+3634488961&4294967295,N=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(N^O))+P[4]+3889429448&4294967295,A=N+(S<<20&4294967295|S>>>12),S=T+(N^O&(A^N))+P[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^N&(T^A))+P[14]+3275163606&4294967295,O=T+(S<<9&4294967295|S>>>23),S=N+(T^A&(O^T))+P[3]+4107603335&4294967295,N=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(N^O))+P[8]+1163531501&4294967295,A=N+(S<<20&4294967295|S>>>12),S=T+(N^O&(A^N))+P[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=O+(A^N&(T^A))+P[2]+4243563512&4294967295,O=T+(S<<9&4294967295|S>>>23),S=N+(T^A&(O^T))+P[7]+1735328473&4294967295,N=O+(S<<14&4294967295|S>>>18),S=A+(O^T&(N^O))+P[12]+2368359562&4294967295,A=N+(S<<20&4294967295|S>>>12),S=T+(A^N^O)+P[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^N)+P[8]+2272392833&4294967295,O=T+(S<<11&4294967295|S>>>21),S=N+(O^T^A)+P[11]+1839030562&4294967295,N=O+(S<<16&4294967295|S>>>16),S=A+(N^O^T)+P[14]+4259657740&4294967295,A=N+(S<<23&4294967295|S>>>9),S=T+(A^N^O)+P[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^N)+P[4]+1272893353&4294967295,O=T+(S<<11&4294967295|S>>>21),S=N+(O^T^A)+P[7]+4139469664&4294967295,N=O+(S<<16&4294967295|S>>>16),S=A+(N^O^T)+P[10]+3200236656&4294967295,A=N+(S<<23&4294967295|S>>>9),S=T+(A^N^O)+P[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^N)+P[0]+3936430074&4294967295,O=T+(S<<11&4294967295|S>>>21),S=N+(O^T^A)+P[3]+3572445317&4294967295,N=O+(S<<16&4294967295|S>>>16),S=A+(N^O^T)+P[6]+76029189&4294967295,A=N+(S<<23&4294967295|S>>>9),S=T+(A^N^O)+P[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=O+(T^A^N)+P[12]+3873151461&4294967295,O=T+(S<<11&4294967295|S>>>21),S=N+(O^T^A)+P[15]+530742520&4294967295,N=O+(S<<16&4294967295|S>>>16),S=A+(N^O^T)+P[2]+3299628645&4294967295,A=N+(S<<23&4294967295|S>>>9),S=T+(N^(A|~O))+P[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~N))+P[7]+1126891415&4294967295,O=T+(S<<10&4294967295|S>>>22),S=N+(T^(O|~A))+P[14]+2878612391&4294967295,N=O+(S<<15&4294967295|S>>>17),S=A+(O^(N|~T))+P[5]+4237533241&4294967295,A=N+(S<<21&4294967295|S>>>11),S=T+(N^(A|~O))+P[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~N))+P[3]+2399980690&4294967295,O=T+(S<<10&4294967295|S>>>22),S=N+(T^(O|~A))+P[10]+4293915773&4294967295,N=O+(S<<15&4294967295|S>>>17),S=A+(O^(N|~T))+P[1]+2240044497&4294967295,A=N+(S<<21&4294967295|S>>>11),S=T+(N^(A|~O))+P[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~N))+P[15]+4264355552&4294967295,O=T+(S<<10&4294967295|S>>>22),S=N+(T^(O|~A))+P[6]+2734768916&4294967295,N=O+(S<<15&4294967295|S>>>17),S=A+(O^(N|~T))+P[13]+1309151649&4294967295,A=N+(S<<21&4294967295|S>>>11),S=T+(N^(A|~O))+P[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=O+(A^(T|~N))+P[11]+3174756917&4294967295,O=T+(S<<10&4294967295|S>>>22),S=N+(T^(O|~A))+P[2]+718787259&4294967295,N=O+(S<<15&4294967295|S>>>17),S=A+(O^(N|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,P=this.B,N=this.h,O=0;O<T;){if(N==0)for(;O<=A;)a(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<T;)if(P[N++]=k.charCodeAt(O++),N==this.blockSize){a(this,P),N=0;break}}else for(;O<T;)if(P[N++]=k[O++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)k[A++]=this.g[T]>>>P&255;return k};function c(k,T){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],P=!0,N=k.length-1;0<=N;N--){var O=k[N]|0;P&&O==T||(A[N]=O,P=!1)}this.g=A}var m={};function y(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return D;if(0>k)return z(E(-k));for(var T=[],A=1,P=0;k>=A;P++)T[P]=k/A|0,A*=4294967296;return new f(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return z(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),P=D,N=0;N<k.length;N+=8){var O=Math.min(8,k.length-N),S=parseInt(k.substring(N,N+O),T);8>O?(O=E(Math.pow(T,O)),P=P.j(O).add(E(S))):(P=P.j(A),P=P.add(E(S)))}return P}var D=y(0),V=y(1),b=y(16777216);i=f.prototype,i.m=function(){if(X(this))return-z(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(K(this))return"0";if(X(this))return"-"+z(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,P="";;){var N=de(A,T).g;A=me(A,N.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=N,K(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function K(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function X(k){return k.h==-1}i.l=function(k){return k=me(this,k),X(k)?-1:K(k)?0:1};function z(k){for(var T=k.g.length,A=[],P=0;P<T;P++)A[P]=~k.g[P];return new f(A,~k.h).add(V)}i.abs=function(){return X(this)?z(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0,N=0;N<=T;N++){var O=P+(this.i(N)&65535)+(k.i(N)&65535),S=(O>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);P=S>>>16,O&=65535,S&=65535,A[N]=S<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function me(k,T){return k.add(z(T))}i.j=function(k){if(K(this)||K(k))return D;if(X(this))return X(k)?z(this).j(z(k)):z(z(this).j(k));if(X(k))return z(this.j(z(k)));if(0>this.l(b)&&0>k.l(b))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<k.g.length;N++){var O=this.i(P)>>>16,S=this.i(P)&65535,tt=k.i(N)>>>16,kt=k.i(N)&65535;A[2*P+2*N]+=S*kt,pe(A,2*P+2*N),A[2*P+2*N+1]+=O*kt,pe(A,2*P+2*N+1),A[2*P+2*N+1]+=S*tt,pe(A,2*P+2*N+1),A[2*P+2*N+2]+=O*tt,pe(A,2*P+2*N+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new f(A,0)};function pe(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ae(k,T){this.g=k,this.h=T}function de(k,T){if(K(T))throw Error("division by zero");if(K(k))return new ae(D,D);if(X(k))return T=de(z(k),T),new ae(z(T.g),z(T.h));if(X(T))return T=de(k,z(T)),new ae(z(T.g),T.h);if(30<k.g.length){if(X(k)||X(T))throw Error("slowDivide_ only works with positive integers.");for(var A=V,P=T;0>=P.l(k);)A=Be(A),P=Be(P);var N=Ie(A,1),O=Ie(P,1);for(P=Ie(P,2),A=Ie(A,2);!K(P);){var S=O.add(P);0>=S.l(k)&&(N=N.add(A),O=S),P=Ie(P,1),A=Ie(A,1)}return T=me(k,N.j(T)),new ae(N,T)}for(N=D;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=E(A),S=O.j(T);X(S)||0<S.l(k);)A-=P,O=E(A),S=O.j(T);K(O)&&(O=V),N=N.add(O),k=me(k,S)}return new ae(N,k)}i.A=function(k){return de(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&k.i(P);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|k.i(P);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^k.i(P);return new f(A,this.h^k.h)};function Be(k){for(var T=k.g.length+1,A=[],P=0;P<T;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(A,k.h)}function Ie(k,T){var A=T>>5;T%=32;for(var P=k.g.length-A,N=[],O=0;O<P;O++)N[O]=0<T?k.i(O+A)>>>T|k.i(O+A+1)<<32-T:k.i(O+A);return new f(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,xi=f}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zm,Go,jm,bl,uh,$m,qm,Hm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in g))break e;g=g[L]}l=l[l.length-1],v=g[l],d=d(v),d!=v&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,v=!1,L={next:function(){if(!v&&g<l.length){var B=g++;return{value:d(B,l[B]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,g){return l.call.apply(l.bind,arguments)}function D(l,d,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function V(l,d,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:D,V.apply(null,arguments)}function b(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function K(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,L,B){for(var Y=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Y[Me-2]=arguments[Me];return d.prototype[L].apply(v,Y)}}function X(l){const d=l.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=l[v];return g}return[]}function z(l,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(y(v)){const L=l.length||0,B=v.length||0;l.length=L+B;for(let Y=0;Y<B;Y++)l[L+Y]=v[Y]}else l.push(v)}}class me{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function pe(l){return/^[\s\xa0]*$/.test(l)}function ae(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Be=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Ie(l,d,g){for(const v in l)d.call(g,l[v],v,l)}function k(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function T(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)l[g]=v[g];for(let B=0;B<A.length;B++)g=A[B],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function O(l){m.setTimeout(()=>{throw l},0)}function S(){var l=le;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,g){const v=kt.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var kt=new me(()=>new Dt,l=>l.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,le=new tt,ee=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(x)}};var x=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){O(g)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function we(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Be){e:{try{de(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}K(we,oe);var Ce={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function be(l,d,g,v,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=L,this.key=++Oe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,d,g,v,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var Y=Er(l,d,v,L);return-1<Y?(d=l[Y],g||(d.fa=!1)):(d=new be(d,this.src,B,!!v,L),d.fa=g,l.push(d)),d};function ji(l,d){var g=d.type;if(g in l.g){var v=l.g[g],L=Array.prototype.indexOf.call(v,d,void 0),B;(B=0<=L)&&Array.prototype.splice.call(v,L,1),B&&(gt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Er(l,d,g,v){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==d&&B.capture==!!g&&B.ha==v)return L}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),$i={};function Ys(l,d,g,v,L){if(Array.isArray(d)){for(var B=0;B<d.length;B++)Ys(l,d[B],g,v,L);return null}return g=eo(g),l&&l[xe]?l.K(d,g,E(v)?!!v.capture:!!v,L):Js(l,d,g,!1,v,L)}function Js(l,d,g,v,L,B){if(!d)throw Error("Invalid event type");var Y=E(L)?!!L.capture:!!L,Me=Hi(l);if(Me||(l[ri]=Me=new Yn(l)),g=Me.add(d,g,v,Y,B),g.proxy)return g;if(v=ga(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ee||(L=Y),L===void 0&&(L=!1),l.addEventListener(d.toString(),v,L);else if(l.attachEvent)l.attachEvent(Zn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function l(g){return d.call(l.src,l.listener,g)}const d=Zs;return l}function qi(l,d,g,v,L){if(Array.isArray(d))for(var B=0;B<d.length;B++)qi(l,d[B],g,v,L);else v=E(v)?!!v.capture:!!v,g=eo(g),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(B=l.g[d],g=Er(B,g,v,L),-1<g&&(gt(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete l.g[d],l.h--)))):l&&(l=Hi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Er(d,g,v,L)),(g=-1<l?d[l]:null)&&Jn(g))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])ji(d.i,l);else{var g=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(g,v,l.capture):d.detachEvent?d.detachEvent(Zn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Hi(d))?(ji(g,l),g.h==0&&(g.src=null,d[ri]=null)):gt(l)}}}function Zn(l){return l in $i?$i[l]:$i[l]="on"+l}function Zs(l,d){if(l.da)l=!0;else{d=new we(d,this);var g=l.listener,v=l.ha||l.src;l.fa&&Jn(l),l=g.call(v,d)}return l}function Hi(l){return l=l[ri],l instanceof Yn?l:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[Wi]||(l[Wi]=function(d){return l.handleEvent(d)}),l[Wi])}function lt(){$.call(this),this.i=new Yn(this),this.M=this,this.F=null}K(lt,$),lt.prototype[xe]=!0,lt.prototype.removeEventListener=function(l,d,g,v){qi(this,l,d,g,v)};function ut(l,d){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var L=d;d=new oe(v,l),P(d,L)}if(L=!0,g)for(var B=g.length-1;0<=B;B--){var Y=d.g=g[B];L=er(Y,v,!0,d)&&L}if(Y=d.g=l,L=er(Y,v,!0,d)&&L,L=er(Y,v,!1,d)&&L,g)for(B=0;B<g.length;B++)Y=d.g=g[B],L=er(Y,v,!1,d)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],v=0;v<g.length;v++)gt(g[v]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,v){return this.i.add(String(l),d,!1,g,v)},lt.prototype.L=function(l,d,g,v){return this.i.add(String(l),d,!0,g,v)};function er(l,d,g,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,B=0;B<d.length;++B){var Y=d[B];if(Y&&!Y.da&&Y.capture==g){var Me=Y.listener,ct=Y.ha||Y.src;Y.fa&&ji(l.i,Y),L=Me.call(ct,v)!==!1&&L}}return L&&!v.defaultPrevented}function to(l,d,g){if(typeof l=="function")g&&(l=V(l,g));else if(l&&typeof l.handleEvent=="function")l=V(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function wr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ii extends ${constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(l){$.call(this),this.h=l,this.g={}}K(si,$);var no=[];function ro(l){Ie(l.g,function(d,g){this.g.hasOwnProperty(g)&&Jn(d)},l),l.g={}}si.prototype.N=function(){si.aa.N.call(this),ro(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function oi(){}oi.prototype.h=null;function Qi(l){return l.h||(l.h=l.i())}function Ki(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){oe.call(this,"d")}K(Ln,oe);function Gi(){oe.call(this,"c")}K(Gi,oe);var Mn={},ao=null;function ai(){return ao=ao||new lt}Mn.La="serverreachability";function lo(l){oe.call(this,Mn.La,l)}K(lo,oe);function tr(l){const d=ai();ut(d,new lo(d))}Mn.STAT_EVENT="statevent";function uo(l,d){oe.call(this,Mn.STAT_EVENT,l),this.stat=d}K(uo,oe);function nt(l){const d=ai();ut(d,new uo(d,l))}Mn.Ma="timingevent";function Xi(l,d){oe.call(this,Mn.Ma,l),this.size=d}K(Xi,oe);function vn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(l,d,g,v,L,B){l.info(function(){if(l.g)if(B)for(var Y="",Me=B.split("&"),ct=0;ct<Me.length;ct++){var Pe=Me[ct].split("=");if(1<Pe.length){var yt=Pe[0];Pe=Pe[1];var st=yt.split("_");Y=2<=st.length&&st[1]=="type"?Y+(yt+"="+Pe+"&"):Y+(yt+"=redacted&")}}else Y=null;else Y=B;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+g+`
`+Y})}function Yi(l,d,g,v,L,B,Y){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+g+`
`+B+" "+Y})}function En(l,d,g,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+gu(l,g)+(v?" "+v:"")})}function co(l,d){l.info(function(){return"TIMEOUT: "+d})}li.prototype.info=function(){};function gu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return io(g)}catch{return d}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function ci(){}K(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},wn=new ci;function Tn(l,d,g,v){this.j=l,this.i=d,this.l=g,this.R=v||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var ho={},Zi={};function es(l,d,g){l.L=1,l.v=Rr(Zt(d)),l.m=g,l.P=!0,fo(l,null)}function fo(l,d){l.F=Date.now(),ze(l),l.A=Zt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Pr(g.i,"t",v),l.C=0,g=l.j.J,l.h=new _a,l.g=Ma(l.j,g?d:null,!l.m),0<l.O&&(l.M=new ii(V(l.Y,l,l.g),l.O)),d=l.U,g=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(no[0]=L.toString()),L=no);for(var B=0;B<L.length;B++){var Y=Ys(g,L[B],v||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),tr(),ui(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const d=this.M;d&&qt(l)==3?d.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const st=qt(this.g);var d=this.g.Ba();const cn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||st!=4||d==7||(d==8||0>=cn?tr(3):tr(2)),hi(this);var g=this.g.Z();this.X=g;t:if(va(this)){var v=vo(this.g);l="";var L=v.length,B=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Tr(this);var Y="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(B&&d==L-1)});v.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,Yi(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ct=this.g;if((Me=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Me)){var Pe=Me;break t}}Pe=null}if(g=Pe)En(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,g);else{this.o=!1,this.s=3,nt(12),ln(this),Tr(this);break e}}if(this.P){g=!0;let tn;for(;!this.J&&this.C<Y.length;)if(tn=yu(this,Y),tn==Zi){st==4&&(this.s=4,nt(14),g=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ho){this.s=4,nt(15),En(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else En(this.i,this.l,tn,null),po(this,tn);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Y.length!=0||this.h.h||(this.s=1,nt(16),g=!1),this.o=this.o&&g,!g)En(this.i,this.l,Y,"[Invalid Chunked Response]"),ln(this),Tr(this);else if(0<Y.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),wo(yt),yt.M=!0,nt(11))}}else En(this.i,this.l,Y,null),po(this,Y);st==4&&ln(this),this.o&&!this.J&&(st==4?hs(this.j,this):(this.o=!1,ze(this)))}else os(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),ln(this),Tr(this)}}}catch{}finally{}};function va(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yu(l,d){var g=l.C,v=d.indexOf(`
`,g);return v==-1?Zi:(g=Number(d.substring(g,v)),isNaN(g)?ho:(v+=1,v+g>d.length?Zi:(d=d.slice(v,v+g),l.C=v+g,d)))}Tn.prototype.cancel=function(){this.J=!0,ln(this)};function ze(l){l.S=Date.now()+l.I,Ea(l,l.I)}function Ea(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(V(l.ba,l),d)}function hi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(tr(),nt(17)),ln(this),this.s=2,Tr(this)):Ea(this,this.S-l)};function Tr(l){l.j.G==0||l.J||hs(l.j,l)}function ln(l){hi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ro(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function po(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ut(g.h,l))){if(!l.K&&Ut(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)cs(g),Cn(g);else break e;us(g),nt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=vn(V(g.Za,g),6e3));if(1>=Ta(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else or(g,11)}else if((l.K||g.g==l)&&cs(g),!pe(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Pe=L[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const yt=Pe[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const st=Pe[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const cn=Pe[5];cn!=null&&typeof cn=="number"&&0<cn&&(v=1.5*cn,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const tn=l.g;if(tn){const _i=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var B=v.h;B.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(mo(B,B.h),B.h=null))}if(v.D){const ds=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(v.ya=ds,Ue(v.I,v.D,ds))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Y=l;if(v.qa=La(v,v.J?v.ia:null,v.W),Y.K){Ia(v.h,Y);var Me=Y,ct=v.L;ct&&(Me.I=ct),Me.B&&(hi(Me),ze(Me)),v.g=Y}else yi(v);0<g.i.length&&bn(g)}else Pe[0]!="stop"&&Pe[0]!="close"||or(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?or(g,7):It(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}tr(4)}catch{}}var wa=class{constructor(l,d){this.g=l,this.map=d}};function fi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ta(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function mo(l,d){l.g?l.g.add(d):l.h=d}function Ia(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}fi.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return X(l.i)}function ts(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,v=0;v<g;v++)d.push(l[v]);return d}d=[],g=0;for(v in l)d[g++]=l[v];return d}function ns(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const v in l)d[g++]=v;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=ns(l),v=ts(l),L=v.length,B=0;B<L;B++)d.call(void 0,v[B],g&&g[B],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _u(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),L=null;if(0<=v){var B=l[g].substring(0,v);L=l[g].substring(v+1)}else B=l[g];d(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,pi(this,l.j),this.o=l.o,this.g=l.g,Sr(this,l.s),this.l=l.l;var d=l.i,g=new Fn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Ar(this,g),this.m=l.m}else l&&(d=String(l).match(di))?(this.h=!1,pi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),Sr(this,d[4]),this.l=Ae(d[5]||"",!0),Ar(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}nr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Cr(d,rs,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Cr(d,rs,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Cr(g,g.charAt(0)=="/"?Ca:Ra,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Cr(g,go)),l.join("")};function Zt(l){return new nr(l)}function pi(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Sr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ar(l,d,g){d instanceof Fn?(l.i=d,Un(l.i,l.h)):(g||(d=Cr(d,Pa)),l.i=new Fn(d,l.h))}function Ue(l,d,g){l.i.set(d,g)}function Rr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Aa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Aa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var rs=/[#\/\?@]/g,Ra=/[#\?:]/g,Ca=/[#\?]/g,Pa=/[#\?@]/g,go=/#/g;function Fn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&_u(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Fn.prototype,i.add=function(l,d){Tt(this),this.i=null,l=un(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function In(l,d){Tt(l),d=un(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Sn(l,d){return Tt(l),d=un(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(g,v){g.forEach(function(L){l.call(d,L,v,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const L=l[v];for(let B=0;B<L.length;B++)g.push(d[v])}return g},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Sn(this,l)&&(d=d.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=un(this,l),Sn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Pr(l,d,g){In(l,d),0<g.length&&(l.i=null,l.g.set(un(l,d),X(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const B=encodeURIComponent(String(v)),Y=this.V(v);for(v=0;v<Y.length;v++){var L=B;Y[v]!==""&&(L+="="+encodeURIComponent(String(Y[v]))),l.push(L)}}return this.i=l.join("&")};function un(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Un(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(In(this,v),Pr(this,L,g))},l)),l.j=d}function vu(l,d){const g=new li;if(m.Image){const v=new Image;v.onload=b($t,g,"TestLoadImage: loaded",!0,d,v),v.onerror=b($t,g,"TestLoadImage: error",!1,d,v),v.onabort=b($t,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=b($t,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function ka(l,d){const g=new li,v=new AbortController,L=setTimeout(()=>{v.abort(),$t(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(B=>{clearTimeout(L),B.ok?$t(g,"TestPingServer: ok",!0,d):$t(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),$t(g,"TestPingServer: error",!1,d)})}function $t(l,d,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function Eu(){this.g=new oo}function Da(l,d,g){const v=g||"";try{Ir(l,function(L,B){let Y=L;E(L)&&(Y=io(L)),d.push(v+B+"="+encodeURIComponent(Y))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}K(rr,oi),rr.prototype.g=function(){return new mi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function mi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(mi,lt),i=mi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Na(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Na(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?An(this):Rn(this),this.readyState==3&&Na(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},i.Qa=function(l){this.g&&(this.response=l,An(this))},i.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let d="";return Ie(l,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function kr(l,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=ir(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,d,g))}function He(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(He,lt);var wu=/^https?$/i,yo=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Qi(this.o):Qi(wn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(B){gi(this,B);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const B of v.keys())g.set(B,v.get(B));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,d,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Y]of g)this.g.setRequestHeader(B,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){gi(this,B)}};function gi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,is(l),en(l)}function is(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),en(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof f<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)to(l.Ea,0,l);else if(ut(l,"readystatechange"),qt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=Y===0){var L=String(l.D).match(di)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!wu.test(L?L.toLowerCase():"")}g=v}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var B=2<qt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",is(l)}}finally{en(l)}}}}function en(l,d){if(l.g){ss(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=v}catch{}}}function ss(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),so(d)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function os(l){const d={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(pe(l[v]))continue;var g=N(l[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=d[L]||[];d[L]=B,B.push(g)}k(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Eo(l){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(l&&l.concurrentRequestLimit),this.Da=new Eu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,v){nt(0),this.W=l,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=La(this,null,this.W),bn(this)};function It(l){if(as(l),l.G==3){var d=l.U++,g=Zt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",d),Ue(g,"TYPE","terminate"),sr(l,g),d=new Tn(l,l.j,d),d.L=2,d.v=Rr(Zt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ma(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ze(d)}Oa(l)}function Cn(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function as(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),cs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function bn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.B=0}}function Tu(l,d){return Ta(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(V(l.Ga,l,d),xa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Tn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Dr(this,L,d),g=Zt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),sr(this,g),B&&(this.O?d="headers="+encodeURIComponent(String(ir(B)))+"&"+d:this.m&&kr(g,this.m,B)),mo(this.h,L),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",d),Ue(g,"SID","null"),L.T=!0,es(L,g,null)):es(L,g,d),this.G=2}}else this.G==3&&(l?ls(this,l):this.i.length==0||Jt(this.h)||ls(this))};function ls(l,d){var g;d?g=d.l:g=l.U++;const v=Zt(l.I);Ue(v,"SID",l.K),Ue(v,"RID",g),Ue(v,"AID",l.T),sr(l,v),l.m&&l.o&&kr(v,l.m,l.o),g=new Tn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Dr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,g),es(g,v,d)}function sr(l,d){l.H&&Ie(l.H,function(g,v){Ue(d,v,g)}),l.l&&Ir({},function(g,v){Ue(d,v,g)})}function Dr(l,d,g){g=Math.min(l.i.length,g);var v=l.l?V(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const Y=["count="+g];B==-1?0<g?(B=L[0].g,Y.push("ofs="+B)):B=0:Y.push("ofs="+B);let Me=!0;for(let ct=0;ct<g;ct++){let Pe=L[ct].g;const yt=L[ct].map;if(Pe-=B,0>Pe)B=Math.max(0,L[ct].g-100),Me=!1;else try{Da(yt,Y,"req"+Pe+"_")}catch{v&&v(yt)}}if(Me){v=Y.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,v}function yi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.v=0}}function us(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(V(l.Fa,l),xa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(V(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Cn(this),Va(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Va(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Zt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),sr(l,d),l.m&&l.o&&kr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Rr(Zt(d)),g.m=null,g.P=!0,fo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),us(this),nt(19))};function cs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function hs(l,d){var g=null;if(l.g==d){cs(l),wo(l),l.g=null;var v=2}else if(Ut(l.h,d))g=d.D,Ia(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;v=ai(),ut(v,new Xi(v,g)),bn(l)}else yi(l);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&Tu(l,d)||v==2&&us(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function xa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function or(l,d){if(l.j.info("Error code "+d),d==2){var g=V(l.fb,l),v=l.Xa;const L=!v;v=new nr(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pi(v,"https"),Rr(v),L?vu(v.toString(),g):ka(v.toString(),g)}else nt(2);l.G=0,l.l&&l.l.sa(d),Oa(l),as(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Oa(l){if(l.G=0,l.ka=[],l.l){const d=Sa(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,X(l.i),l.i.length=0),l.l.ra()}}function La(l,d,g){var v=g instanceof nr?Zt(g):new nr(g);if(v.g!="")d&&(v.g=d+"."+v.g),Sr(v,v.s);else{var L=m.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var B=new nr(null);v&&pi(B,v),d&&(B.g=d),L&&Sr(B,L),g&&(B.l=g),v=B}return g=l.D,d=l.ya,g&&d&&Ue(v,g,d),Ue(v,"VER",l.la),sr(l,v),v}function Ma(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new He(new rr({eb:g})):new He(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,d){return new Bt(l,d)};function Bt(l,d){lt.call(this),this.g=new Eo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!pe(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!pe(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}K(Bt,lt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){It(this.g)},Bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=io(l),l=g);d.i.push(new wa(d.Ya++,l)),d.G==3&&bn(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,Bt.aa.N.call(this)};function Fa(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}K(Fa,Ln);function Ua(){Gi.call(this),this.status=1}K(Ua,Gi);function zn(l){this.g=l}K(zn,To),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new Fa(l))},zn.prototype.sa=function(l){ut(this.g,new Ua)},zn.prototype.ra=function(){ut(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Hm=function(){return new fs},qm=function(){return ai()},$m=Mn,uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,bl=Ji,ya.COMPLETE="complete",jm=ya,Ki.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Go=Ki,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,zm=He}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const Lp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Nm("@firebase/firestore");function Os(){return Li.logLevel}function te(i,...e){if(Li.logLevel<=De.DEBUG){const n=e.map(Ch);Li.debug(`Firestore (${Qs}): ${i}`,...n)}}function _r(i,...e){if(Li.logLevel<=De.ERROR){const n=e.map(Ch);Li.error(`Firestore (${Qs}): ${i}`,...n)}}function bs(i,...e){if(Li.logLevel<=De.WARN){const n=e.map(Ch);Li.warn(`Firestore (${Qs}): ${i}`,...n)}}function Ch(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function Le(i,e){i||ye()}function ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class u0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c0{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string"),new Wm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Mt(e)}}class h0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class f0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new h0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new d0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=m0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new pt(0,0))}static max(){return new _e(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(),s===void 0?s=e.length-n:s>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends sa{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const g0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends sa{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return g0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Qe.fromString(e))}static fromName(e){return new fe(Qe.fromString(e).popFirst(5))}static empty(){return new fe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Qe(e.slice()))}}function y0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Jr(a,fe.empty(),e)}function _0(i){return new Jr(i.readTime,i.key,-1)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(_e.min(),fe.empty(),-1)}static max(){return new Jr(_e.max(),fe.empty(),-1)}}function v0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==E0)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(a=>a?j.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new j((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next(I=>{f[E]=I,++m,m===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new j((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function T0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ru.oe=-1;function iu(i){return i==null}function Ql(i){return i===0&&1/i==-1/0}function I0(i){return typeof i=="number"&&Number.isInteger(i)&&!Ql(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mp(e)),e=A0(i.get(n),e);return Mp(e)}function A0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Mp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ui(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Km(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xl(this.root,e,this.comparator,!0)}}class xl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new On([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gm("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const R0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Le(!!i),typeof i=="string"){let e=0;const n=R0.exec(i);if(Le(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ei(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function su(i){const e=i.mapValue.fields.__previous_value__;return Ph(e)?su(e):e}function oa(i){const e=Zr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,a,c,f,m,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=E}}class aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ph(i)?4:k0(i)?9007199254740991:P0(i)?10:11:ye()}function Gn(i,e){if(i===e)return!0;const n=ti(i);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return oa(i).isEqual(oa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Zr(a.timestampValue),m=Zr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ei(a.bytesValue).isEqual(ei(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),m=it(c.doubleValue);return f===m?Ql(f)===Ql(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Fp(f)!==Fp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Gn(f[y],m[y])))return!1;return!0}(i,e);default:return ye()}}function la(i,e){return(i.values||[]).find(n=>Gn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=ti(i),s=ti(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),y=it(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Bp(i.timestampValue,e.timestampValue);case 4:return Bp(oa(i),oa(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,f){const m=ei(c),y=ei(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let E=0;E<m.length&&E<y.length;E++){const I=Re(m[E],y[E]);if(I!==0)return I}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Re(it(c.latitude),it(f.latitude));return m!==0?m:Re(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return bp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,E,I;const D=c.fields||{},V=f.fields||{},b=(m=D.value)===null||m===void 0?void 0:m.arrayValue,K=(y=V.value)===null||y===void 0?void 0:y.arrayValue,X=Re(((E=b==null?void 0:b.values)===null||E===void 0?void 0:E.length)||0,((I=K==null?void 0:K.values)===null||I===void 0?void 0:I.length)||0);return X!==0?X:bp(b,K)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ol.mapValue&&f===Ol.mapValue)return 0;if(c===Ol.mapValue)return 1;if(f===Ol.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),E=f.fields||{},I=Object.keys(E);y.sort(),I.sort();for(let D=0;D<y.length&&D<I.length;++D){const V=Re(y[D],I[D]);if(V!==0)return V;const b=js(m[y[D]],E[I[D]]);if(b!==0)return b}return Re(y.length,I.length)}(i.mapValue,e.mapValue);default:throw ye()}}function Bp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=Zr(i),s=Zr(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function bp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=js(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function $s(i){return ch(i)}function ch(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ei(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return fe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ch(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ch(n.fields[f])}`;return a+"}"}(i.mapValue):ye()}function zl(i){switch(ti(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=su(i);return e?16+zl(e):16;case 5:return 2*i.stringValue.length;case 6:return ei(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+zl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ui(s.fields,(c,f)=>{a+=c.length+zl(f)}),a}(i.mapValue);default:throw ye()}}function hh(i){return!!i&&"integerValue"in i}function kh(i){return!!i&&"arrayValue"in i}function zp(i){return!!i&&"nullValue"in i}function jp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jl(i){return!!i&&"mapValue"in i}function P0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ui(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function k0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Jo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];jl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ui(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new yn(Jo(this.value))}}function Xm(i){const e=[];return Ui(i.fields,(n,s)=>{const a=new Ct([n]);if(jl(s)){const c=Xm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,_e.min(),_e.min(),_e.min(),yn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,_e.min(),_e.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,_e.min(),_e.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function $p(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=fe.comparator(fe.fromName(f.referenceValue),n.key):s=js(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function qp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function D0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{}class dt extends Ym{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new V0(e,n,s):n==="array-contains"?new L0(e,s):n==="in"?new M0(e,s):n==="not-in"?new F0(e,s):n==="array-contains-any"?new U0(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new x0(e,s):new O0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Ym{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return Jm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jm(i){return i.op==="and"}function Zm(i){return N0(i)&&Jm(i)}function N0(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function fh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(Zm(i))return i.filters.map(e=>fh(e)).join(",");{const e=i.filters.map(n=>fh(n)).join(",");return`${i.op}(${e})`}}function eg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Gn(s.value,a.value)}(i,e):i instanceof Xn?function(s,a){return a instanceof Xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&eg(f,a.filters[m]),!0):!1}(i,e):void ye()}function tg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(tg).join(" ,")+"}"}(i):"Filter"}class V0 extends dt{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class x0 extends dt{constructor(e,n){super(e,"in",n),this.keys=ng("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O0 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=ng("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ng(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>fe.fromName(s.referenceValue))}class L0 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kh(n)&&la(n.arrayValue,this.value)}}class M0 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class F0 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class U0 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>la(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Hp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new B0(i,e,n,s,a,c,f)}function Dh(i){const e=ve(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function Nh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!D0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!eg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qp(i.startAt,e.startAt)&&qp(i.endAt,e.endAt)}function dh(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b0(i,e,n,s,a,c,f,m){return new ou(i,e,n,s,a,c,f,m)}function Vh(i){return new ou(i)}function Wp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function z0(i){return i.collectionGroup!==null}function Zo(i){const e=ve(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new mt(Ct.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Gl(c,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new Gl(Ct.keyField(),s))}return e.ce}function Qn(i){const e=ve(i);return e.le||(e.le=j0(e,Zo(i))),e.le}function j0(i,e){if(i.limitType==="F")return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Gl(a.field,c)});const n=i.endAt?new Kl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kl(i.startAt.position,i.startAt.inclusive):null;return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ph(i,e,n){return new ou(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function au(i,e){return Nh(Qn(i),Qn(e))&&i.limitType===e.limitType}function rg(i){return`${Dh(Qn(i))}|lt:${i.limitType}`}function Ls(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>tg(a)).join(", ")}]`),iu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function lu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):fe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const E=$p(f,m,y);return f.inclusive?E<=0:E<0}(s.startAt,Zo(s),a)||s.endAt&&!function(f,m,y){const E=$p(f,m,y);return f.inclusive?E>=0:E>0}(s.endAt,Zo(s),a))}(i,e)}function $0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ig(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=q0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function q0(i,e,n){const s=i.field.isKeyField()?fe.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),E=m.data.field(c);return y!==null&&E!==null?js(y,E):ye()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Km(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Ye(fe.comparator);function vr(){return H0}const sg=new Ye(fe.comparator);function Xo(...i){let e=sg;for(const n of i)e=e.insert(n.key,n);return e}function og(i){let e=sg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return ea()}function ag(){return ea()}function ea(){return new Bi(i=>i.toString(),(i,e)=>i.isEqual(e))}const W0=new Ye(fe.comparator),Q0=new mt(fe.comparator);function Se(...i){let e=Q0;for(const n of i)e=e.add(n);return e}const K0=new mt(Re);function G0(){return K0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function lg(i){return{integerValue:""+i}}function X0(i,e){return I0(e)?lg(e):xh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function Y0(i,e,n){return i instanceof ua?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Ph(c)&&(c=su(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ca?cg(i,e):i instanceof ha?hg(i,e):function(a,c){const f=ug(a,c),m=Qp(f)+Qp(a.Pe);return hh(f)&&hh(a.Pe)?lg(m):xh(a.serializer,m)}(i,e)}function J0(i,e,n){return i instanceof ca?cg(i,e):i instanceof ha?hg(i,e):n}function ug(i,e){return i instanceof Xl?function(s){return hh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class ua extends uu{}class ca extends uu{constructor(e){super(),this.elements=e}}function cg(i,e){const n=fg(e);for(const s of i.elements)n.some(a=>Gn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ha extends uu{constructor(e){super(),this.elements=e}}function hg(i,e){let n=fg(e);for(const s of i.elements)n=n.filter(a=>!Gn(a,s));return{arrayValue:{values:n}}}class Xl extends uu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qp(i){return it(i.integerValue||i.doubleValue)}function fg(i){return kh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.field=e,this.transform=n}}function eE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ca&&a instanceof ca||s instanceof ha&&a instanceof ha?zs(s.elements,a.elements,Gn):s instanceof Xl&&a instanceof Xl?Gn(s.Pe,a.Pe):s instanceof ua&&a instanceof ua}(i.transform,e.transform)}class tE{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $l(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cu{}function dg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new mg(i.key,mr.none()):new fa(i.key,i.data,mr.none());{const n=i.data,s=yn.empty();let a=new mt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new bi(i.key,s,new On(a.toArray()),mr.none())}}function nE(i,e,n){i instanceof fa?function(a,c,f){const m=a.value.clone(),y=Gp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof bi?function(a,c,f){if(!$l(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Gp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(pg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof fa?function(c,f,m,y){if(!$l(c.precondition,f))return m;const E=c.value.clone(),I=Xp(c.fieldTransforms,y,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof bi?function(c,f,m,y){if(!$l(c.precondition,f))return m;const E=Xp(c.fieldTransforms,y,f),I=f.data;return I.setAll(pg(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(D=>D.field))}(i,e,n,s):function(c,f,m){return $l(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function rE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=ug(s.transform,a||null);c!=null&&(n===null&&(n=yn.empty()),n.set(s.field,c))}return n||null}function Kp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zs(s,a,(c,f)=>eE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fa extends cu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bi extends cu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Gp(i,e,n){const s=new Map;Le(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,J0(f,m,n[a]))}return s}function Xp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Y0(c,f,e))}return s}class mg extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iE extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&nE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ag();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=dg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,s)=>Kp(n,s))&&zs(this.baseMutations,e.baseMutations,(n,s)=>Kp(n,s))}}class Oh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Le(e.mutations.length===s.length);let a=function(){return W0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Oh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function lE(i){switch(i){default:return ye();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function gg(i){if(i===void 0)return _r("GRPC error has no .code"),Q.UNKNOWN;switch(i){case at.OK:return Q.OK;case at.CANCELLED:return Q.CANCELLED;case at.UNKNOWN:return Q.UNKNOWN;case at.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case at.INTERNAL:return Q.INTERNAL;case at.UNAVAILABLE:return Q.UNAVAILABLE;case at.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case at.NOT_FOUND:return Q.NOT_FOUND;case at.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case at.ABORTED:return Q.ABORTED;case at.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case at.DATA_LOSS:return Q.DATA_LOSS;default:return ye()}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new xi([4294967295,4294967295],0);function Yp(i){const e=uE().encode(i),n=new bm;return n.update(e),new Uint8Array(n.digest())}function Jp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xi([n,s],0),new xi([a,c],0)]}class Lh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(s<0)throw new Yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=xi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(xi.fromNumber(s)));return a.compare(cE)===1&&(a=new xi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Yp(e),[s,a]=Jp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Lh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Yp(e),[s,a]=Jp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hu(_e.min(),a,new Ye(Re),vr(),Se())}}class da{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new da(s,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class yg{constructor(e,n){this.targetId=e,this.me=n}}class _g{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Zp{constructor(){this.fe=0,this.ge=em(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),s=Se();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ye()}}),new da(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=em()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hE{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=Ll(),this.Qe=Ll(),this.Ke=new Ye(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(dh(c))if(s===0){const f=new fe(c.path);this.We(n,f,Ft.newNoDocument(f,_e.min()))}else Le(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=ei(s).toUint8Array()}catch(y){if(y instanceof Gm)return bs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Lh(f,a,c)}catch(y){return bs(y instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&dh(m.target)){const y=new fe(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ft.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Se();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const E=this.Ye(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new hu(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=Ll(),this.Qe=Ll(),this.Ke=new Ye(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Zp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Zp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ll(){return new Ye(fe.comparator)}function em(){return new Ye(fe.comparator)}const fE={asc:"ASCENDING",desc:"DESCENDING"},dE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pE={and:"AND",or:"OR"};class mE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mh(i,e){return i.useProto3Json||iu(e)?e:{value:e}}function Yl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gE(i,e){return Yl(i,e.toTimestamp())}function Kn(i){return Le(!!i),_e.fromTimestamp(function(n){const s=Zr(n);return new pt(s.seconds,s.nanos)}(i))}function Mh(i,e){return gh(i,e).canonicalString()}function gh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Eg(i){const e=Qe.fromString(i);return Le(Ag(e)),e}function yh(i,e){return Mh(i.databaseId,e.path)}function Yc(i,e){const n=Eg(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new fe(Tg(n))}function wg(i,e){return Mh(i.databaseId,e)}function yE(i){const e=Eg(i);return e.length===4?Qe.emptyPath():Tg(e)}function _h(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tg(i){return Le(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function tm(i,e,n){return{name:yh(i,e),fields:n.value.mapValue.fields}}function _E(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(Le(I===void 0||typeof I=="string"),Pt.fromBase64String(I||"")):(Le(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Pt.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const I=E.code===void 0?Q.UNKNOWN:gg(E.code);return new ue(I,E.message||"")}(f);n=new _g(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Yc(i,s.document.name),c=Kn(s.document.updateTime),f=s.document.createTime?Kn(s.document.createTime):_e.min(),m=new yn({mapValue:{fields:s.document.fields}}),y=Ft.newFoundDocument(a,c,f,m),E=s.targetIds||[],I=s.removedTargetIds||[];n=new ql(E,I,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Yc(i,s.document),c=s.readTime?Kn(s.readTime):_e.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new ql([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Yc(i,s.document),c=s.removedTargetIds||[];n=new ql([],c,a,null)}else{if(!("filter"in e))return ye();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new aE(a,c),m=s.targetId;n=new yg(m,f)}}return n}function vE(i,e){let n;if(e instanceof fa)n={update:tm(i,e.key,e.value)};else if(e instanceof mg)n={delete:yh(i,e.key)};else if(e instanceof bi)n={update:tm(i,e.key,e.data),updateMask:PE(e.fieldMask)};else{if(!(e instanceof iE))return ye();n={verify:yh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof ua)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ca)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ha)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw ye()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:gE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye()}(i,e.precondition)),n}function EE(i,e){return i&&i.length>0?(Le(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Kn(a.updateTime):Kn(c);return f.isEqual(_e.min())&&(f=Kn(c)),new tE(f,a.transformResults||[])}(n,e))):[]}function wE(i,e){return{documents:[wg(i,e.path)]}}function TE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=wg(i,a);const c=function(E){if(E.length!==0)return Sg(Xn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(I=>function(V){return{field:Ms(V.field),direction:AE(V.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function IE(i){let e=yE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Le(s===1);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(D){const V=Ig(D);return V instanceof Xn&&Zm(V)?V.getFilters():[V]}(n.where));let f=[];n.orderBy&&(f=function(D){return D.map(V=>function(K){return new Gl(Fs(K.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(V))}(n.orderBy));let m=null;n.limit&&(m=function(D){let V;return V=typeof D=="object"?D.value:D,iu(V)?null:V}(n.limit));let y=null;n.startAt&&(y=function(D){const V=!!D.before,b=D.values||[];return new Kl(b,V)}(n.startAt));let E=null;return n.endAt&&(E=function(D){const V=!D.before,b=D.values||[];return new Kl(b,V)}(n.endAt)),b0(e,a,f,c,m,"F",y,E)}function SE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ig(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fs(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fs(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fs(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Fs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>Ig(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(i):ye()}function AE(i){return fE[i]}function RE(i){return dE[i]}function CE(i){return pE[i]}function Ms(i){return{fieldPath:i.canonicalString()}}function Fs(i){return Ct.fromServerFormat(i.fieldPath)}function Sg(i){return i instanceof dt?function(n){if(n.op==="=="){if(jp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(zp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(zp(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:RE(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(a=>Sg(a));return s.length===1?s[0]:{compositeFilter:{op:CE(n.op),filters:s}}}(i):ye()}function PE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ag(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Pt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.ht=e}}function DE(i){const e=IE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.ln=new VE}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Jr.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class VE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qs(0)}static Qn(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class xE{constructor(e){this.Gn=e,this.buffer=new mt(rm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Yn(3e5)})}}class LE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(ru.oe);const s=new xE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(nm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),a=this.params.maximumSequenceNumbersToCollect):a=D,f=Date.now(),this.nthSequenceNumber(e,a))).next(D=>(s=D,m=Date.now(),this.removeTargets(e,s,n))).next(D=>(c=D,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(E=Date.now(),Os()<=De.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${D} documents in `+(E-y)+`ms
Total Duration: ${E-I}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:D})))}}function ME(i,e){return new LE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,On.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Se()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Se()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Xo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Se()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=vr();const f=ea(),m=function(){return ea()}();return n.forEach((y,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof bi)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),ta(I.mutation,E,I.mutation.getFieldMask(),pt.now())):f.set(E.key,On.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,I)=>f.set(E,I)),n.forEach((E,I)=>{var D;return m.set(E,new UE(I,(D=f.get(E))!==null&&D!==void 0?D:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new Ye((f,m)=>f-m),c=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let I=s.get(y)||On.empty();I=m.applyToLocalView(E,I),s.set(y,I);const D=(a.get(m.batchId)||Se()).add(y);a=a.insert(m.batchId,D)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,I=y.value,D=ag();I.forEach(V=>{if(!c.has(V)){const b=dg(n.get(V),s.get(V));b!==null&&D.set(V,b),c=c.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,D))}return j.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return fe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):j.resolve(Vi());let m=-1,y=c;return f.next(E=>j.forEach(E,(I,D)=>(m<D.largestBatchId&&(m=D.largestBatchId),c.get(I)?j.resolve():this.remoteDocumentCache.getEntry(e,I).next(V=>{y=y.insert(I,V)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,Se())).next(I=>({batchId:m,changes:og(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(s=>{let a=Xo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Xo();return this.indexManager.getCollectionParents(e,c).next(m=>j.forEach(m,y=>{const E=function(D,V){return new ou(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((D,V)=>{f=f.insert(D,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Ft.newInvalidDocument(I)))});let m=Xo();return f.forEach((y,E)=>{const I=c.get(y);I!==void 0&&ta(I.mutation,E,On.empty(),pt.now()),lu(n,E)&&(m=m.insert(y,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:DE(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.overlays=new Ye(fe.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return j.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const a=Vi(),c=n.length+1,f=new fe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return j.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((E,I)=>E-I);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Vi(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const m=Vi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,I)=>m.set(E,I)),!(m.size()>=a)););return j.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new oE(n,s));let c=this.Er.get(n);c===void 0&&(c=Se(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new fe(new Qe([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new fe(new Qe([])),s=new wt(n,e),a=new wt(n,e+1);let c=Se();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return fe.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sE(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(f)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(Re);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),j.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;fe.isDocumentKey(c)||(c=c.child(""));const f=new wt(new fe(c),0);let m=new mt(Re);return this.vr.forEachWhile(y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(y.br)),!0)},f),j.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Le(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return j.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.Nr=e,this.docs=function(){return new Ye(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const f=n.path,m=new fe(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:E,value:{document:I}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||v0(_0(I),s)<=0||(a.has(I.key)||lu(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ye()}Lr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new HE(this)}getSize(e){return j.resolve(this.size)}}class HE extends FE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.persistence=e,this.Br=new Bi(n=>Dh(n),Nh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fh,this.targetCount=0,this.Qr=qs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ru(0),this.Ur=!1,this.Ur=!0,this.Wr=new jE,this.referenceDelegate=e(this),this.Gr=new WE(this),this.indexManager=new NE,this.remoteDocumentCache=function(a){return new qE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new kE(n),this.jr=new bE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new $E(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new QE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return j.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class QE extends w0{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Zr=new Fh,this.Xr=null}static ei(e){return new Uh(e)}get ti(){if(this.Xr)return this.Xr;throw ye()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,s=>{const a=fe.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jl{constructor(e,n){this.persistence=e,this.ri=new Bi(s=>S0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=ME(this,n)}static ei(e,n){return new Jl(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?j.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zl(e.data.value)),n}ir(e,n,s){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return j.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Se(),a=Se();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Bh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Q_()?8:T0(H_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new KE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Os()<=De.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Os()<=De.DEBUG&&te("QueryEngine","Query:",Ls(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Os()<=De.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):j.resolve())}Xi(e,n){if(Wp(n))return j.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ph(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Se(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const E=this.rs(n,m);return this.ss(n,E,f,y.readTime)?this.Xi(e,ph(n,null,"F")):this.os(e,E,n,y)}))})))}es(e,n,s,a){return Wp(n)||a.isEqual(_e.min())?j.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?j.resolve(null):(Os()<=De.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ls(n)),this.os(e,f,n,y0(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(ig(e));return n.forEach((a,c)=>{lu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Os()<=De.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Zi.getDocumentsMatchingQuery(e,n,Jr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ye(Re),this.cs=new Bi(c=>Dh(c),Nh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function YE(i,e,n,s){return new XE(i,e,n,s)}async function Cg(i,e){const n=ve(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Se();for(const E of a){f.push(E.batchId);for(const I of E.mutations)y=y.add(I.key)}for(const E of c){m.push(E.batchId);for(const I of E.mutations)y=y.add(I.key)}return n.localDocuments.getDocuments(s,y).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:m}))})})}function JE(i,e){const n=ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,E,I){const D=E.batch,V=D.keys();let b=j.resolve();return V.forEach(K=>{b=b.next(()=>I.getEntry(y,K)).next(X=>{const z=E.docVersions.get(K);Le(z!==null),X.version.compareTo(z)<0&&(D.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),I.addEntry(X)))})}),b.next(()=>m.mutationQueue.removeMutationBatch(y,D))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Se();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(y=y.add(m.batch.mutations[E].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Pg(i){const e=ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function ZE(i,e){const n=ve(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((I,D)=>{const V=a.get(D);if(!V)return;m.push(n.Gr.removeMatchingKeys(c,I.removedDocuments,D).next(()=>n.Gr.addMatchingKeys(c,I.addedDocuments,D)));let b=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(D)!==null?b=b.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):I.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(I.resumeToken,s)),a=a.insert(D,b),function(X,z,me){return X.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0}(V,b,I)&&m.push(n.Gr.updateTargetData(c,b))});let y=vr(),E=Se();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),m.push(ew(c,f,e.documentUpdates).next(I=>{y=I.Is,E=I.Es})),!s.isEqual(_e.min())){const I=n.Gr.getLastRemoteSnapshotVersion(c).next(D=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(I)}return j.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.us=a,c))}function ew(i,e,n){let s=Se(),a=Se();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=vr();return n.forEach((m,y)=>{const E=c.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{Is:f,Es:a}})}function tw(i,e){const n=ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nw(i,e){const n=ve(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,j.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function vh(i,e,n){const s=ve(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Gs(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function im(i,e,n){const s=ve(i);let a=_e.min(),c=Se();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,E,I){const D=ve(y),V=D.cs.get(I);return V!==void 0?j.resolve(D.us.get(V)):D.Gr.getTargetData(E,I)}(s,f,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Se())).next(m=>(rw(s,$0(e),m),{documents:m,ds:c})))}function rw(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class sm{constructor(){this.activeTargetIds=G0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iw{constructor(){this._o=new sm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function Jc(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class lw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Jc(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,f),this.Bo(n,y,E,a).then(I=>(te("RestConnection",`Received RPC '${n}' ${m}: `,I),I),I=>{throw bs("RestConnection",`RPC '${n}' ${m} failed with error: `,I,"url: ",y,"request:",a),I})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=ow[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Jc();return new Promise((f,m)=>{const y=new zm;y.setWithCredentials(!0),y.listenOnce(jm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case bl.NO_ERROR:const I=y.getResponseJson();te(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case bl.TIMEOUT:te(Lt,`RPC '${e}' ${c} timed out`),m(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:const D=y.getStatus();if(te(Lt,`RPC '${e}' ${c} failed with status:`,D,"response text:",y.getResponseText()),D>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const b=V==null?void 0:V.error;if(b&&b.status&&b.message){const K=function(z){const me=z.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(me)>=0?me:Q.UNKNOWN}(b.status);m(new ue(K,b.message))}else m(new ue(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{te(Lt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(Lt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Jc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Hm(),m=qm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const I=c.join("");te(Lt,`Creating RPC '${e}' stream ${a}: ${I}`,y);const D=f.createWebChannel(I,y);let V=!1,b=!1;const K=new aw({Eo:z=>{b?te(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(V||(te(Lt,`Opening RPC '${e}' stream ${a} transport.`),D.open(),V=!0),te(Lt,`RPC '${e}' stream ${a} sending:`,z),D.send(z))},Ao:()=>D.close()}),X=(z,me,pe)=>{z.listen(me,ae=>{try{pe(ae)}catch(de){setTimeout(()=>{throw de},0)}})};return X(D,Go.EventType.OPEN,()=>{b||(te(Lt,`RPC '${e}' stream ${a} transport opened.`),K.So())}),X(D,Go.EventType.CLOSE,()=>{b||(b=!0,te(Lt,`RPC '${e}' stream ${a} transport closed`),K.Do())}),X(D,Go.EventType.ERROR,z=>{b||(b=!0,bs(Lt,`RPC '${e}' stream ${a} transport errored:`,z),K.Do(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),X(D,Go.EventType.MESSAGE,z=>{var me;if(!b){const pe=z.data[0];Le(!!pe);const ae=pe,de=(ae==null?void 0:ae.error)||((me=ae[0])===null||me===void 0?void 0:me.error);if(de){te(Lt,`RPC '${e}' stream ${a} received error:`,de);const Be=de.status;let Ie=function(A){const P=at[A];if(P!==void 0)return gg(P)}(Be),k=de.message;Ie===void 0&&(Ie=Q.INTERNAL,k="Unknown error status: "+Be+" with message "+de.message),b=!0,K.Do(new ue(Ie,k)),D.close()}else te(Lt,`RPC '${e}' stream ${a} received:`,pe),K.vo(pe)}}),X(m,$m.STAT_EVENT,z=>{z.stat===uh.PROXY?te(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===uh.NOPROXY&&te(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{K.bo()},0),K}}function Zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){return new mE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new kg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ue(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uw extends Dg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=_E(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Kn(f.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=_h(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=dh(y)?{documents:wE(c,y)}:{query:TE(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=vg(c,f.resumeToken);const E=mh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=Yl(c,f.snapshotVersion.toTimestamp());const E=mh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=SE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=_h(this.serializer),n.removeTarget=e,this.c_(n)}}class cw extends Dg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=EE(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=_h(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vE(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,gh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Q.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,gh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(Q.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class fw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_r(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{zi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const E=ve(y);E.k_.add(4),await pa(E),E.K_.set("Unknown"),E.k_.delete(4),await du(E)}(this))})}),this.K_=new fw(s,a)}}async function du(i){if(zi(i))for(const e of i.q_)await e(!0)}async function pa(i){for(const e of i.q_)await e(!1)}function Ng(i,e){const n=ve(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),$h(n)?jh(n):Xs(n).s_()&&zh(n,e))}function bh(i,e){const n=ve(i),s=Xs(n);n.B_.delete(e),s.s_()&&Vg(n,e),n.B_.size===0&&(s.s_()?s.a_():zi(n)&&n.K_.set("Unknown"))}function zh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).V_(e)}function Vg(i,e){i.U_.xe(e),Xs(i).m_(e)}function jh(i){i.U_=new hE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.K_.F_()}function $h(i){return zi(i)&&!Xs(i).i_()&&i.B_.size>0}function zi(i){return ve(i).k_.size===0}function xg(i){i.U_=void 0}async function pw(i){i.K_.set("Online")}async function mw(i){i.B_.forEach((e,n)=>{zh(i,e)})}async function gw(i,e){xg(i),$h(i)?(i.K_.O_(e),jh(i)):i.K_.set("Unknown")}async function yw(i,e,n){if(i.K_.set("Online"),e instanceof _g&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zl(i,s)}else if(e instanceof ql?i.U_.$e(e):e instanceof yg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await Pg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const I=c.B_.get(E);I&&c.B_.set(E,I.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,E)=>{const I=c.B_.get(y);if(!I)return;c.B_.set(y,I.withResumeToken(Pt.EMPTY_BYTE_STRING,I.snapshotVersion)),Vg(c,y);const D=new Wr(I.target,y,E,I.sequenceNumber);zh(c,D)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Zl(i,s)}}async function Zl(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await pa(i),i.K_.set("Offline"),n||(n=()=>Pg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await du(i)})}function Og(i,e){return e().catch(n=>Zl(i,n,e))}async function pu(i){const e=ve(i),n=ni(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_w(e);)try{const a=await tw(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,vw(e,a)}catch(a){await Zl(e,a)}Lg(e)&&Mg(e)}function _w(i){return zi(i)&&i.L_.length<10}function vw(i,e){i.L_.push(e);const n=ni(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Lg(i){return zi(i)&&!ni(i).i_()&&i.L_.length>0}function Mg(i){ni(i).start()}async function Ew(i){ni(i).w_()}async function ww(i){const e=ni(i);for(const n of i.L_)e.g_(n.mutations)}async function Tw(i,e,n){const s=i.L_.shift(),a=Oh.from(s,e,n);await Og(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await pu(i)}async function Iw(i,e){e&&ni(i).f_&&await async function(s,a){if(function(f){return lE(f)&&f!==Q.ABORTED}(a.code)){const c=s.L_.shift();ni(s).__(),await Og(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await pu(s)}}(i,e),Lg(i)&&Mg(i)}async function am(i,e){const n=ve(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=zi(n);n.k_.add(3),await pa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await du(n)}async function Sw(i,e){const n=ve(i);e?(n.k_.delete(2),await du(n)):e||(n.k_.add(2),await pa(n),n.K_.set("Unknown"))}function Xs(i){return i.W_||(i.W_=function(n,s,a){const c=ve(n);return c.b_(),new uw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:pw.bind(null,i),mo:mw.bind(null,i),po:gw.bind(null,i),R_:yw.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),$h(i)?jh(i):i.K_.set("Unknown")):(await i.W_.stop(),xg(i))})),i.W_}function ni(i){return i.G_||(i.G_=function(n,s,a){const c=ve(n);return c.b_(),new cw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ew.bind(null,i),po:Iw.bind(null,i),p_:ww.bind(null,i),y_:Tw.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await pu(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new qh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hh(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Gs(i))return new ue(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=Xo(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.z_=new Ye(fe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ye():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,f,m,y,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Hs(e,n,Us.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Rw{constructor(){this.queries=um(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=ve(n),c=a.queries;a.queries=um(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function um(){return new Bi(i=>rg(i),au)}async function Cw(i,e){const n=ve(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new Aw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Hh(f,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Wh(n)}async function Pw(i,e){const n=ve(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kw(i,e){const n=ve(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Wh(n)}function Dw(i,e,n){const s=ve(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Wh(i){i.X_.forEach(e=>{e.next()})}var Eh,cm;(cm=Eh||(Eh={})).na="default",cm.Cache="cache";class Nw{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Eh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class Vw{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Se(),this.mutatedKeys=Se(),this.Va=ig(e),this.ma=new Us(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new lm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,D)=>{const V=a.get(I),b=lu(this.query,D)?D:null,K=!!V&&this.mutatedKeys.has(V.key),X=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let z=!1;V&&b?V.data.isEqual(b.data)?K!==X&&(s.track({type:3,doc:b}),z=!0):this.ya(V,b)||(s.track({type:2,doc:b}),z=!0,(y&&this.Va(b,y)>0||E&&this.Va(b,E)<0)&&(m=!0)):!V&&b?(s.track({type:0,doc:b}),z=!0):V&&!b&&(s.track({type:1,doc:V}),z=!0,(y||E)&&(m=!0)),z&&(b?(f=f.add(b),c=X?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((I,D)=>function(b,K){const X=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return X(b)-X(K)}(I.type,D.type)||this.Va(I.doc,D.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,E=y!==this.Aa;return this.Aa=y,f.length!==0||E?{snapshot:new Hs(this.query,e.ma,c,f,e.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Se(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Ug(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Fg(s))}),n}va(e){this.da=e.ds,this.Ra=Se();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Hs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Ow{constructor(e){this.key=e,this.Fa=!1}}class Lw{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Bi(m=>rg(m),au),this.Oa=new Map,this.Na=new Set,this.La=new Ye(fe.comparator),this.Ba=new Map,this.ka=new Fh,this.qa={},this.Qa=new Map,this.Ka=qs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Mw(i,e,n=!0){const s=qg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Bg(s,e,n,!0),a}async function Fw(i,e){const n=qg(i);await Bg(n,e,!0,!1)}async function Bg(i,e,n,s){const a=await nw(i.localStore,Qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await Uw(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ng(i.remoteStore,a),m}async function Uw(i,e,n,s,a){i.Ua=(D,V,b)=>async function(X,z,me,pe){let ae=z.view.ga(me);ae.ss&&(ae=await im(X.localStore,z.query,!1).then(({documents:k})=>z.view.ga(k,ae)));const de=pe&&pe.targetChanges.get(z.targetId),Be=pe&&pe.targetMismatches.get(z.targetId)!=null,Ie=z.view.applyChanges(ae,X.isPrimaryClient,de,Be);return fm(X,z.targetId,Ie.ba),Ie.snapshot}(i,D,V,b);const c=await im(i.localStore,e,!0),f=new Vw(e,c.ds),m=f.ga(c.documents),y=da.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(m,i.isPrimaryClient,y);fm(i,n,E.ba);const I=new xw(e,n,f);return i.xa.set(e,I),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function Bw(i,e,n){const s=ve(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!au(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await vh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&bh(s.remoteStore,a.targetId),wh(s,a.targetId)}).catch(Ks)):(wh(s,a.targetId),await vh(s.localStore,a.targetId,!0))}async function bw(i,e){const n=ve(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bh(n.remoteStore,s.targetId))}async function zw(i,e,n){const s=Kw(i);try{const a=await function(f,m){const y=ve(f),E=pt.now(),I=m.reduce((b,K)=>b.add(K.key),Se());let D,V;return y.persistence.runTransaction("Locally write mutations","readwrite",b=>{let K=vr(),X=Se();return y.hs.getEntries(b,I).next(z=>{K=z,K.forEach((me,pe)=>{pe.isValidDocument()||(X=X.add(me))})}).next(()=>y.localDocuments.getOverlayedDocuments(b,K)).next(z=>{D=z;const me=[];for(const pe of m){const ae=rE(pe,D.get(pe.key).overlayedDocument);ae!=null&&me.push(new bi(pe.key,ae,Xm(ae.value.mapValue),mr.exists(!0)))}return y.mutationQueue.addMutationBatch(b,E,me,m)}).next(z=>{V=z;const me=z.applyToLocalDocumentSet(D,X);return y.documentOverlayCache.saveOverlays(b,z.batchId,me)})}).then(()=>({batchId:V.batchId,changes:og(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let E=f.qa[f.currentUser.toKey()];E||(E=new Ye(Re)),E=E.insert(m,y),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await ma(s,a.changes),await pu(s.remoteStore)}catch(a){const c=Hh(a,"Failed to persist write");n.reject(c)}}async function bg(i,e){const n=ve(i);try{const s=await ZE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Le(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Le(f.Fa):a.removedDocuments.size>0&&(Le(f.Fa),f.Fa=!1))}),await ma(n,s,e)}catch(s){await Ks(s)}}function hm(i,e,n){const s=ve(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=ve(f);y.onlineState=m;let E=!1;y.queries.forEach((I,D)=>{for(const V of D.J_)V.ea(m)&&(E=!0)}),E&&Wh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jw(i,e,n){const s=ve(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Ye(fe.comparator);f=f.insert(c,Ft.newNoDocument(c,_e.min()));const m=Se().add(c),y=new hu(_e.min(),new Map,new Ye(Re),f,m);await bg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),Qh(s)}else await vh(s.localStore,e,!1).then(()=>wh(s,e,n)).catch(Ks)}async function $w(i,e){const n=ve(i),s=e.batch.batchId;try{const a=await JE(n.localStore,e);jg(n,s,null),zg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ma(n,a)}catch(a){await Ks(a)}}async function qw(i,e,n){const s=ve(i);try{const a=await function(f,m){const y=ve(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return y.mutationQueue.lookupMutationBatch(E,m).next(D=>(Le(D!==null),I=D.keys(),y.mutationQueue.removeMutationBatch(E,D))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,I,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>y.localDocuments.getDocuments(E,I))})}(s.localStore,e);jg(s,e,n),zg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ma(s,a)}catch(a){await Ks(a)}}function zg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function jg(i,e,n){const s=ve(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function wh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||$g(i,s)})}function $g(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(bh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Qh(i))}function fm(i,e,n){for(const s of n)s instanceof Fg?(i.ka.addReference(s.key,e),Hw(i,s)):s instanceof Ug?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||$g(i,s.key)):ye()}function Hw(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Qh(i))}function Qh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new fe(Qe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new Ow(n)),i.La=i.La.insert(n,s),Ng(i.remoteStore,new Wr(Qn(Vh(n.path)),s,"TargetPurposeLimboResolution",ru.oe))}}async function ma(i,e,n){const s=ve(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const D=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(y.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(y.targetId,D?"current":"not-current")}if(E){a.push(E);const D=Bh.zi(y.targetId,E);c.push(D)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,E){const I=ve(y);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>j.forEach(E,V=>j.forEach(V.Wi,b=>I.persistence.referenceDelegate.addReference(D,V.targetId,b)).next(()=>j.forEach(V.Gi,b=>I.persistence.referenceDelegate.removeReference(D,V.targetId,b)))))}catch(D){if(!Gs(D))throw D;te("LocalStore","Failed to update sequence numbers: "+D)}for(const D of E){const V=D.targetId;if(!D.fromCache){const b=I.us.get(V),K=b.snapshotVersion,X=b.withLastLimboFreeSnapshotVersion(K);I.us=I.us.insert(V,X)}}}(s.localStore,c))}async function Ww(i,e){const n=ve(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await Cg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ue(Q.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ma(n,s.Ts)}}function Qw(i,e){const n=ve(i),s=n.Ba.get(e);if(s&&s.Fa)return Se().add(s.key);{let a=Se();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function qg(i){const e=ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jw.bind(null,e),e.Ma.R_=kw.bind(null,e.eventManager),e.Ma.Wa=Dw.bind(null,e.eventManager),e}function Kw(i){const e=ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$w.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qw.bind(null,e),e}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return YE(this.persistence,new GE,e.initialUser,this.serializer)}ja(e){return new Rg(Uh.ei,this.serializer)}za(e){return new iw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class Gw extends eu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Le(this.persistence.referenceDelegate instanceof Jl);const s=this.persistence.referenceDelegate.garbageCollector;return new OE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Rg(s=>Jl.ei(s,n),this.serializer)}}class Th{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ww.bind(null,this.syncEngine),await Sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rw}()}createDatastore(e){const n=fu(e.databaseInfo.databaseId),s=function(c){return new lw(c)}(e.databaseInfo);return function(c,f,m,y){return new hw(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new dw(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hm(this.syncEngine,n,0),function(){return om.p()?new om:new sw}())}createSyncEngine(e,n){return function(a,c,f,m,y,E,I){const D=new Lw(a,c,f,m,y,E);return I&&(D.$a=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=ve(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await pa(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Th.provider={build:()=>new Th};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function eh(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Cg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Jw(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>am(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>am(e.remoteStore,a)),i._onlineComponents=e}async function Jw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await eh(i,new eu)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await eh(i,new Gw(void 0));return i._offlineComponents}async function Hg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await dm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await dm(i,new Th))),i._onlineComponents}function Zw(i){return Hg(i).then(e=>e.syncEngine)}async function e1(i){const e=await Hg(i),n=e.eventManager;return n.onListen=Mw.bind(null,e.syncEngine),n.onUnlisten=Bw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bw.bind(null,e.syncEngine),n}function t1(i,e,n={}){const s=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,E){const I=new Xw({next:V=>{I.eu(),f.enqueueAndForget(()=>Pw(c,D));const b=V.docs.has(m);!b&&V.fromCache?E.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&V.fromCache&&y&&y.source==="server"?E.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(V)},error:V=>E.reject(V)}),D=new Nw(Vh(m.path),I,{includeMetadataChanges:!0,ua:!0});return Cw(c,D)}(await e1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function n1(i,e,n,s){if(e===!0&&s===!0)throw new ue(Q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mm(i){if(!fe.isDocumentKey(i))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gm(i){if(fe.isDocumentKey(i))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye()}function tu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(i);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new l0;switch(s.type){case"firstParty":return new f0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pm.get(n);s&&(te("ComponentProvider","Removing Datastore"),pm.delete(n),s.terminate())}(this),Promise.resolve()}}function r1(i,e,n,s={}){var a;const c=(i=tu(i,mu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Mt.MOCK_USER;else{m=km(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mt(E)}i._authCredentials=new u0(new Wm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class _n{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Yr extends Gh{constructor(e,n,s){super(e,n,Vh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new fe(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function i1(i,e,...n){if(i=gr(i),Qg("collection","path",e),i instanceof mu){const s=Qe.fromString(e,...n);return gm(s),new Yr(i,null,s)}{if(!(i instanceof _n||i instanceof Yr))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return gm(s),new Yr(i.firestore,null,s)}}function Kg(i,e,...n){if(i=gr(i),arguments.length===1&&(e=Qm.newId()),Qg("doc","path",e),i instanceof mu){const s=Qe.fromString(e,...n);return mm(s),new _n(i,null,new fe(s))}{if(!(i instanceof _n||i instanceof Yr))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return mm(s),new _n(i.firestore,i instanceof Yr?i.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new kg(this,"async_queue_retry"),this.fu=()=>{const s=Zc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Xr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw _r("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=qh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&ye()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Xh extends mu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _m,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,await e}}}function s1(i,e){const n=typeof i=="object"?i:Fm(),s=typeof i=="string"?i:"(default)",a=Om(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Cm("firestore");c&&r1(a,...c)}return a}function Gg(i){if(i._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||o1(i),i._firestoreClient}function o1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,E,I){return new C0(m,y,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,Wg(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new Yw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pt.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=/^__.*__$/;class l1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}function Xg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class tf{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return nu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Xg(this.Mu)&&a1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class u1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||fu(e)}$u(e,n,s,a=!1){return new tf({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c1(i){const e=i._freezeSettings(),n=fu(i._databaseId);return new u1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function h1(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);ey("Data must be an object, but it was:",f,s);const m=Jg(s,f);let y,E;if(c.merge)y=new On(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const D of c.mergeFields){const V=f1(e,D,n);if(!f.contains(V))throw new ue(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);p1(I,V)||I.push(V)}y=new On(I),E=f.fieldTransforms.filter(D=>y.covers(D.field))}else y=null,E=f.fieldTransforms;return new l1(new yn(m),y,E)}class nf extends Jh{_toFieldTransform(e){return new Z0(e.path,new ua)}isEqual(e){return e instanceof nf}}function Yg(i,e){if(Zg(i=gr(i)))return ey("Unsupported field value:",e,i),Jg(i,e);if(i instanceof Jh)return function(s,a){if(!Xg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=Yg(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=gr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return X0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:Yl(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yl(a.serializer,c)}}if(s instanceof Zh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:vg(a.serializer,s._byteString)};if(s instanceof _n){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ef)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return xh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Kh(s)}`)}(i,e)}function Jg(i,e){const n={};return Km(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(i,(s,a)=>{const c=Yg(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Zg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof Zh||i instanceof Ws||i instanceof _n||i instanceof Jh||i instanceof ef)}function ey(i,e,n){if(!Zg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Kh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function f1(i,e,n){if((e=gr(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return ty(i,e);throw nu("Field path arguments must be of type string or ",i,!1,void 0,n)}const d1=new RegExp("[~\\*/\\[\\]]");function ty(i,e,n){if(e.search(d1)>=0)throw nu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw nu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function nu(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ue(Q.INVALID_ARGUMENT,m+i+y)}function p1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m1 extends ny{data(){return super.data()}}function ry(i,e){return typeof e=="string"?ty(i,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}class g1{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ui(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>it(f.doubleValue));return new ef(c)}convertGeoPoint(e){return new Zh(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=su(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Le(Ag(s));const a=new aa(s.get(1),s.get(3)),c=new fe(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iy extends ny{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new v1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ry("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class v1 extends iy{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i){i=tu(i,_n);const e=tu(i.firestore,Xh);return t1(Gg(e),i._key).then(n=>S1(e,i,n))}class w1 extends g1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function T1(i,e){const n=tu(i.firestore,Xh),s=Kg(i),a=y1(i.converter,e);return I1(n,[h1(c1(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,mr.exists(!1))]).then(()=>s)}function I1(i,e){return function(s,a){const c=new Xr;return s.asyncQueue.enqueueAndForget(async()=>zw(await Zw(s),a,c)),c.promise}(Gg(i),e)}function S1(i,e,n){const s=n.docs.get(e._key),a=new w1(i);return new iy(i,a,e._key,s,new _1(n.hasPendingWrites,n.fromCache),e.converter)}function A1(){return new nf("serverTimestamp")}(function(e,n=!0){(function(a){Qs=a})(Lm),ra(new Bs("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Xh(new c0(s.getProvider("auth-internal")),new p0(s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(E.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Gr(Lp,"4.7.5",e),Gr(Lp,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="firebasestorage.googleapis.com",oy="storageBucket",R1=2*60*1e3,C1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Fi{constructor(e,n,s=0){super(th(e),`Firebase Storage: ${n} (${th(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return th(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function th(i){return"storage/"+i}function rf(){const i="An unknown error occurred, please check the error payload for server response.";return new et(Ze.UNKNOWN,i)}function P1(i){return new et(Ze.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function k1(i){return new et(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function D1(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ze.UNAUTHENTICATED,i)}function N1(){return new et(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V1(i){return new et(Ze.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function x1(){return new et(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O1(){return new et(Ze.CANCELED,"User canceled the upload/download.")}function L1(i){return new et(Ze.INVALID_URL,"Invalid URL '"+i+"'.")}function M1(i){return new et(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function F1(){return new et(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oy+"' property when initializing the app?")}function U1(){return new et(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B1(){return new et(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b1(i){return new et(Ze.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ih(i){return new et(Ze.INVALID_ARGUMENT,i)}function ay(){return new et(Ze.APP_DELETED,"The Firebase app was deleted.")}function z1(i){return new et(Ze.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function na(i,e){return new et(Ze.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Qo(i){throw new et(Ze.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=on.makeFromUrl(e,n)}catch{return new on(e,"")}if(s.path==="")return s;throw M1(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function c(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+a+f,"i"),y={bucket:1,path:3};function E(de){de.path_=decodeURIComponent(de.path)}const I="v[A-Za-z0-9_]+",D=n.replace(/[.]/g,"\\."),V="(/([^?#]*).*)?$",b=new RegExp(`^https?://${D}/${I}/b/${a}/o${V}`,"i"),K={bucket:1,path:3},X=n===sy?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",me=new RegExp(`^https?://${X}/${a}/${z}`,"i"),ae=[{regex:m,indices:y,postModify:c},{regex:b,indices:K,postModify:E},{regex:me,indices:{bucket:1,path:2},postModify:E}];for(let de=0;de<ae.length;de++){const Be=ae[de],Ie=Be.regex.exec(e);if(Ie){const k=Ie[Be.indices.bucket];let T=Ie[Be.indices.path];T||(T=""),s=new on(k,T),Be.postModify(s);break}}if(s==null)throw L1(e);return s}}class j1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i,e,n){let s=1,a=null,c=null,f=!1,m=0;function y(){return m===2}let E=!1;function I(...z){E||(E=!0,e.apply(null,z))}function D(z){a=setTimeout(()=>{a=null,i(b,y())},z)}function V(){c&&clearTimeout(c)}function b(z,...me){if(E){V();return}if(z){V(),I.call(null,z,...me);return}if(y()||f){V(),I.call(null,z,...me);return}s<64&&(s*=2);let ae;m===1?(m=2,ae=0):ae=(s+Math.random())*1e3,D(ae)}let K=!1;function X(z){K||(K=!0,V(),!E&&(a!==null?(z||(m=2),clearTimeout(a),D(0)):z||(m=1)))}return D(0),c=setTimeout(()=>{f=!0,X(!0)},n),X}function q1(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(i){return i!==void 0}function W1(i){return typeof i=="object"&&!Array.isArray(i)}function sf(i){return typeof i=="string"||i instanceof String}function vm(i){return of()&&i instanceof Blob}function of(){return typeof Blob<"u"}function Em(i,e,n,s){if(s<e)throw Ih(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Ih(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function ly(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const a=e(s)+"="+e(i[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Oi;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Oi||(Oi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i,e){const n=i>=500&&i<600,a=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||a||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,a,c,f,m,y,E,I,D,V=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=E,this.progressCallback_=I,this.connectionFactory_=D,this.retry=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,K)=>{this.resolve_=b,this.reject_=K,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Fl(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const y=m.loaded,E=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,E)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===Oi.NO_ERROR,y=c.getStatus();if(!m||Q1(y,this.additionalRetryCodes_)&&this.retry){const I=c.getErrorCode()===Oi.ABORT;s(!1,new Fl(!1,null,I));return}const E=this.successCodes_.indexOf(y)!==-1;s(!0,new Fl(E,c))})},n=(s,a)=>{const c=this.resolve_,f=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());H1(y)?c(y):c()}catch(y){f(y)}else if(m!==null){const y=rf();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(a.canceled){const y=this.appDelete_?ay():O1();f(y)}else{const y=x1();f(y)}};this.canceled_?n(!1,new Fl(!1,null,!0)):this.backoffId_=$1(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fl{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function G1(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function X1(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y1(i,e){e&&(i["X-Firebase-GMPID"]=e)}function J1(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Z1(i,e,n,s,a,c,f=!0){const m=ly(i.urlParams),y=i.url+m,E=Object.assign({},i.headers);return Y1(E,e),G1(E,n),X1(E,c),J1(E,s),new K1(y,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tT(...i){const e=eT();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(of())return new Blob(i);throw new et(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nT(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i){if(typeof atob>"u")throw b1("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nh{constructor(e,n){this.data=e,this.contentType=n||null}}function iT(i,e){switch(i){case Wn.RAW:return new nh(uy(e));case Wn.BASE64:case Wn.BASE64URL:return new nh(cy(i,e));case Wn.DATA_URL:return new nh(oT(e),aT(e))}throw rf()}function uy(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,f=i.charCodeAt(++n);s=65536|(c&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function sT(i){let e;try{e=decodeURIComponent(i)}catch{throw na(Wn.DATA_URL,"Malformed data URL.")}return uy(e)}function cy(i,e){switch(i){case Wn.BASE64:{const a=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(a||c)throw na(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wn.BASE64URL:{const a=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(a||c)throw na(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rT(e)}catch(a){throw a.message.includes("polyfill")?a:na(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class hy{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw na(Wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=lT(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oT(i){const e=new hy(i);return e.base64?cy(Wn.BASE64,e.rest):sT(e.rest)}function aT(i){return new hy(i).contentType}function lT(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){let s=0,a="";vm(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(vm(this.data_)){const s=this.data_,a=nT(s,e,n);return a===null?null:new Hr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(s,!0)}}static getBlob(...e){if(of()){const n=e.map(s=>s instanceof Hr?s.data_:s);return new Hr(tT.apply(null,n))}else{const n=e.map(f=>sf(f)?iT(Wn.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const a=new Uint8Array(s);let c=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)a[c++]=f[m]}),new Hr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(i){let e;try{e=JSON.parse(i)}catch{return null}return W1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function cT(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function dy(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i,e){return e}class jt{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||hT}}let Ul=null;function fT(i){return!sf(i)||i.length<2?i:dy(i)}function py(){if(Ul)return Ul;const i=[];i.push(new jt("bucket")),i.push(new jt("generation")),i.push(new jt("metageneration")),i.push(new jt("name","fullPath",!0));function e(c,f){return fT(f)}const n=new jt("name");n.xform=e,i.push(n);function s(c,f){return f!==void 0?Number(f):f}const a=new jt("size");return a.xform=s,i.push(a),i.push(new jt("timeCreated")),i.push(new jt("updated")),i.push(new jt("md5Hash",null,!0)),i.push(new jt("cacheControl",null,!0)),i.push(new jt("contentDisposition",null,!0)),i.push(new jt("contentEncoding",null,!0)),i.push(new jt("contentLanguage",null,!0)),i.push(new jt("contentType",null,!0)),i.push(new jt("metadata","customMetadata",!0)),Ul=i,Ul}function dT(i,e){function n(){const s=i.bucket,a=i.fullPath,c=new on(s,a);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function pT(i,e,n){const s={};s.type="file";const a=n.length;for(let c=0;c<a;c++){const f=n[c];s[f.local]=f.xform(s,e[f.server])}return dT(s,i),s}function my(i,e,n){const s=fy(e);return s===null?null:pT(i,s,n)}function mT(i,e,n,s){const a=fy(e);if(a===null||!sf(a.downloadTokens))return null;const c=a.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(E=>{const I=i.bucket,D=i.fullPath,V="/b/"+f(I)+"/o/"+f(D),b=af(V,n,s),K=ly({alt:"media",token:E});return b+K})[0]}function gT(i,e){const n={},s=e.length;for(let a=0;a<s;a++){const c=e[a];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class gy{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(i){if(!i)throw rf()}function yT(i,e){function n(s,a){const c=my(i,a,e);return yy(c!==null),c}return n}function _T(i,e){function n(s,a){const c=my(i,a,e);return yy(c!==null),mT(c,a,i.host,i._protocol)}return n}function _y(i){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=N1():a=D1():n.getStatus()===402?a=k1(i.bucket):n.getStatus()===403?a=V1(i.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function vT(i){const e=_y(i);function n(s,a){let c=e(s,a);return s.getStatus()===404&&(c=P1(i.path)),c.serverResponse=a.serverResponse,c}return n}function ET(i,e,n){const s=e.fullServerUrl(),a=af(s,i.host,i._protocol),c="GET",f=i.maxOperationRetryTime,m=new gy(a,c,_T(i,n),f);return m.errorHandler=vT(e),m}function wT(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function TT(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=wT(null,e)),s}function IT(i,e,n,s,a){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ae="";for(let de=0;de<2;de++)ae=ae+Math.random().toString().slice(2);return ae}const y=m();f["Content-Type"]="multipart/related; boundary="+y;const E=TT(e,s,a),I=gT(E,n),D="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+I+`\r
--`+y+`\r
Content-Type: `+E.contentType+`\r
\r
`,V=`\r
--`+y+"--",b=Hr.getBlob(D,s,V);if(b===null)throw U1();const K={name:E.fullPath},X=af(c,i.host,i._protocol),z="POST",me=i.maxUploadRetryTime,pe=new gy(X,z,yT(i,n),me);return pe.urlParams=K,pe.headers=f,pe.body=b.uploadData(),pe.errorHandler=_y(e),pe}class ST{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a){if(this.sent_)throw Qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AT extends ST{initXhr(){this.xhr_.responseType="text"}}function vy(){return new AT}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mi(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dy(this._location.path)}get storage(){return this._service}get parent(){const e=uT(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new Mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw z1(e)}}function RT(i,e,n){i._throwIfRoot("uploadBytes");const s=IT(i.storage,i._location,py(),new Hr(e,!0),n);return i.storage.makeRequestWithTokens(s,vy).then(a=>({metadata:a,ref:i}))}function CT(i){i._throwIfRoot("getDownloadURL");const e=ET(i.storage,i._location,py());return i.storage.makeRequestWithTokens(e,vy).then(n=>{if(n===null)throw B1();return n})}function PT(i,e){const n=cT(i._location.path,e),s=new on(i._location.bucket,n);return new Mi(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(i){return/^[A-Za-z]+:\/\//.test(i)}function DT(i,e){return new Mi(i,e)}function Ey(i,e){if(i instanceof lf){const n=i;if(n._bucket==null)throw F1();const s=new Mi(n,n._bucket);return e!=null?Ey(s,e):s}else return e!==void 0?PT(i,e):i}function NT(i,e){if(e&&kT(e)){if(i instanceof lf)return DT(i,e);throw Ih("To use ref(service, url), the first argument must be a Storage instance.")}else return Ey(i,e)}function wm(i,e){const n=e==null?void 0:e[oy];return n==null?null:on.makeFromBucketSpec(n,i)}function VT(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:a}=s;a&&(i._overrideAuthToken=typeof a=="string"?a:km(a,i.app.options.projectId))}class lf{constructor(e,n,s,a,c){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=c,this._bucket=null,this._host=sy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R1,this._maxUploadRetryTime=C1,this._requests=new Set,a!=null?this._bucket=on.makeFromBucketSpec(a,this._host):this._bucket=wm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=wm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Em("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Em("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mi(this,e)}_makeRequest(e,n,s,a,c=!0){if(this._deleted)return new j1(ay());{const f=Z1(e,this._appId,s,a,n,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Tm="@firebase/storage",Im="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="storage";function xT(i,e,n){return i=gr(i),RT(i,e,n)}function OT(i){return i=gr(i),CT(i)}function LT(i,e){return i=gr(i),NT(i,e)}function MT(i=Fm(),e){i=gr(i);const s=Om(i,wy).getImmediate({identifier:e}),a=Cm("storage");return a&&FT(s,...a),s}function FT(i,e,n,s={}){VT(i,e,n,s)}function UT(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new lf(n,s,a,e,Lm)}function BT(){ra(new Bs(wy,UT,"PUBLIC").setMultipleInstances(!0)),Gr(Tm,Im,""),Gr(Tm,Im,"esm2017")}BT();const bT="_container_1c34l_1",zT="_form_1c34l_15",jT="_nfcButton_1c34l_39",$T="_scanButton_1c34l_39",qT="_selfieButton_1c34l_39",HT="_submitButton_1c34l_39",WT="_scannerContainer_1c34l_65",QT="_scanner_1c34l_65",Bl={container:bT,form:zT,nfcButton:jT,scanButton:$T,selfieButton:qT,submitButton:HT,scannerContainer:WT,scanner:QT},KT={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Ty=Mm(KT),Sm=s1(Ty),GT=MT(Ty),XT=()=>{const[i,e]=Ko.useState({studentName:"",email:"",course:"",campus:"",studentId:""}),[n,s]=Ko.useState(null),[a,c]=Ko.useState(!1),f=Ko.useRef(null),m=V=>{const b=V.target.files[0];s(b)},y=async()=>{if(!n)return null;const V=i.email.replace(/[@.]/g,"_"),b=LT(GT,`users/${V}/profile/${n.name}`),K=await xT(b,n);return await OT(K.ref)},E=async()=>{if(!("NDEFReader"in window)||!("NDEFWriter"in window))throw new Error("NFC is not supported on this device");try{c(!0);const V=new window.NDEFReader;return await V.scan(),new Promise((b,K)=>{V.addEventListener("reading",async({serialNumber:X})=>{try{if(!await I(X)){K(new Error("Unauthorized NFC tag"));return}const me=await y(),pe={...i,nfcSerialNumber:X,selfieUrl:me,createdAt:A1()},ae=await T1(i1(Sm,"RegisteredStudent"),pe);await new window.NDEFWriter().write({records:[{recordType:"text",data:ae.id}]}),b(ae.id)}catch(z){K(z)}})})}catch(V){throw V}},I=async V=>{try{const b=Kg(Sm,"Toregistered",V);return(await E1(b)).exists()}catch(b){return console.error("NFC Authorization Check Error:",b),!1}},D=async V=>{if(V.preventDefault(),!!window.confirm("Approach NFC tag to complete registration"))try{const b=await E();alert(`Registration successful! Document ID: ${b}`),e({studentName:"",email:"",course:"",campus:"",studentId:""}),s(null)}catch(b){console.error("Registration Error:",b),alert("Registration failed: "+b.message)}finally{c(!1)}};return Xe.jsxs("div",{className:Bl.container,children:[Xe.jsx("h1",{children:"Student Registration"}),Xe.jsxs("form",{onSubmit:D,className:Bl.form,children:[Xe.jsx("input",{type:"text",placeholder:"Student Name",value:i.studentName,onChange:V=>e({...i,studentName:V.target.value}),required:!0}),Xe.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:V=>e({...i,email:V.target.value}),required:!0}),Xe.jsx("input",{type:"text",placeholder:"Course",value:i.course,onChange:V=>e({...i,course:V.target.value}),required:!0}),Xe.jsxs("select",{value:i.campus,onChange:V=>e({...i,campus:V.target.value}),required:!0,children:[Xe.jsx("option",{value:"",children:"Select Campus"}),Xe.jsx("option",{value:"Main",children:"Main Campus"}),Xe.jsx("option",{value:"North",children:"North Campus"}),Xe.jsx("option",{value:"Online",children:"Online Campus"})]}),Xe.jsx("input",{type:"text",placeholder:"Student ID",value:i.studentId,onChange:V=>e({...i,studentId:V.target.value}),required:!0}),n?Xe.jsxs("p",{children:["Selfie Captured: ",n.name]}):Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("input",{type:"file",ref:f,onChange:m,accept:"image/*",capture:"user",style:{display:"none"}}),Xe.jsx("button",{type:"button",onClick:()=>f.current.click(),className:Bl.selfieButton,children:"Take Selfie"})]}),Xe.jsx("button",{type:"submit",className:Bl.submitButton,disabled:!i.studentId||!n||a,children:a?"Saving...":"Complete Registration with NFC"})]})]})};function YT(){return Xe.jsx(Xe.Fragment,{children:Xe.jsx(XT,{})})}O_.createRoot(document.getElementById("root")).render(Xe.jsx(Ko.StrictMode,{children:Xe.jsx(YT,{})}));
