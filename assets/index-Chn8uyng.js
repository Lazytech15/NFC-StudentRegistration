(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},of={},i_={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function BU(){if(UP)return Ke;UP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function v(W,Y,le){this.props=W,this.context=Y,this.refs=E,this.updater=le||_}v.prototype.isReactComponent={},v.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},v.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=v.prototype;function A(W,Y,le){this.props=W,this.context=Y,this.refs=E,this.updater=le||_}var N=A.prototype=new P;N.constructor=A,w(N,v.prototype),N.isPureReactComponent=!0;var D=Array.isArray,O=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(W,Y,le){var be,Ce={},Le=null,Ge=null;if(Y!=null)for(be in Y.ref!==void 0&&(Ge=Y.ref),Y.key!==void 0&&(Le=""+Y.key),Y)O.call(Y,be)&&!C.hasOwnProperty(be)&&(Ce[be]=Y[be]);var he=arguments.length-2;if(he===1)Ce.children=le;else if(1<he){for(var ae=Array(he),ve=0;ve<he;ve++)ae[ve]=arguments[ve+2];Ce.children=ae}if(W&&W.defaultProps)for(be in he=W.defaultProps,he)Ce[be]===void 0&&(Ce[be]=he[be]);return{$$typeof:t,type:W,key:Le,ref:Ge,props:Ce,_owner:M.current}}function j(W,Y){return{$$typeof:t,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(le){return Y[le]})}var V=/\/+/g;function I(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Y.toString(36)}function z(W,Y,le,be,Ce){var Le=typeof W;(Le==="undefined"||Le==="boolean")&&(W=null);var Ge=!1;if(W===null)Ge=!0;else switch(Le){case"string":case"number":Ge=!0;break;case"object":switch(W.$$typeof){case t:case e:Ge=!0}}if(Ge)return Ge=W,Ce=Ce(Ge),W=be===""?"."+I(Ge,0):be,D(Ce)?(le="",W!=null&&(le=W.replace(V,"$&/")+"/"),z(Ce,Y,le,"",function(ve){return ve})):Ce!=null&&(F(Ce)&&(Ce=j(Ce,le+(!Ce.key||Ge&&Ge.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+W)),Y.push(Ce)),1;if(Ge=0,be=be===""?".":be+":",D(W))for(var he=0;he<W.length;he++){Le=W[he];var ae=be+I(Le,he);Ge+=z(Le,Y,le,ae,Ce)}else if(ae=y(W),typeof ae=="function")for(W=ae.call(W),he=0;!(Le=W.next()).done;)Le=Le.value,ae=be+I(Le,he++),Ge+=z(Le,Y,le,ae,Ce);else if(Le==="object")throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ge}function G(W,Y,le){if(W==null)return W;var be=[],Ce=0;return z(W,be,"","",function(Le){return Y.call(le,Le,Ce++)}),be}function Q(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(le){(W._status===0||W._status===-1)&&(W._status=1,W._result=le)},function(le){(W._status===0||W._status===-1)&&(W._status=2,W._result=le)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var te={current:null},X={transition:null},ie={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:G,forEach:function(W,Y,le){G(W,function(){Y.apply(this,arguments)},le)},count:function(W){var Y=0;return G(W,function(){Y++}),Y},toArray:function(W){return G(W,function(Y){return Y})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ke.Component=v,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=A,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ke.act=ne,Ke.cloneElement=function(W,Y,le){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var be=w({},W.props),Ce=W.key,Le=W.ref,Ge=W._owner;if(Y!=null){if(Y.ref!==void 0&&(Le=Y.ref,Ge=M.current),Y.key!==void 0&&(Ce=""+Y.key),W.type&&W.type.defaultProps)var he=W.type.defaultProps;for(ae in Y)O.call(Y,ae)&&!C.hasOwnProperty(ae)&&(be[ae]=Y[ae]===void 0&&he!==void 0?he[ae]:Y[ae])}var ae=arguments.length-2;if(ae===1)be.children=le;else if(1<ae){he=Array(ae);for(var ve=0;ve<ae;ve++)he[ve]=arguments[ve+2];be.children=he}return{$$typeof:t,type:W.type,key:Ce,ref:Le,props:be,_owner:Ge}},Ke.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ke.createElement=R,Ke.createFactory=function(W){var Y=R.bind(null,W);return Y.type=W,Y},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(W){return{$$typeof:l,render:W}},Ke.isValidElement=F,Ke.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:Q}},Ke.memo=function(W,Y){return{$$typeof:f,type:W,compare:Y===void 0?null:Y}},Ke.startTransition=function(W){var Y=X.transition;X.transition={};try{W()}finally{X.transition=Y}},Ke.unstable_act=ne,Ke.useCallback=function(W,Y){return te.current.useCallback(W,Y)},Ke.useContext=function(W){return te.current.useContext(W)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(W){return te.current.useDeferredValue(W)},Ke.useEffect=function(W,Y){return te.current.useEffect(W,Y)},Ke.useId=function(){return te.current.useId()},Ke.useImperativeHandle=function(W,Y,le){return te.current.useImperativeHandle(W,Y,le)},Ke.useInsertionEffect=function(W,Y){return te.current.useInsertionEffect(W,Y)},Ke.useLayoutEffect=function(W,Y){return te.current.useLayoutEffect(W,Y)},Ke.useMemo=function(W,Y){return te.current.useMemo(W,Y)},Ke.useReducer=function(W,Y,le){return te.current.useReducer(W,Y,le)},Ke.useRef=function(W){return te.current.useRef(W)},Ke.useState=function(W){return te.current.useState(W)},Ke.useSyncExternalStore=function(W,Y,le){return te.current.useSyncExternalStore(W,Y,le)},Ke.useTransition=function(){return te.current.useTransition()},Ke.version="18.3.1",Ke}var BP;function yx(){return BP||(BP=1,i_.exports=BU()),i_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function qU(){if(qP)return of;qP=1;var t=yx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,f){var h,p={},y=null,_=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:_,props:p,_owner:i.current}}return of.Fragment=n,of.jsx=a,of.jsxs=a,of}var zP;function zU(){return zP||(zP=1,r_.exports=qU()),r_.exports}var x=zU(),U=yx();const J=At(U);var xp={},o_={exports:{}},cr={},a_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function WU(){return WP||(WP=1,function(t){function e(X,ie){var ne=X.length;X.push(ie);e:for(;0<ne;){var W=ne-1>>>1,Y=X[W];if(0<i(Y,ie))X[W]=ie,X[ne]=Y,ne=W;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ie=X[0],ne=X.pop();if(ne!==ie){X[0]=ne;e:for(var W=0,Y=X.length,le=Y>>>1;W<le;){var be=2*(W+1)-1,Ce=X[be],Le=be+1,Ge=X[Le];if(0>i(Ce,ne))Le<Y&&0>i(Ge,Ce)?(X[W]=Ge,X[Le]=ne,W=Le):(X[W]=Ce,X[be]=ne,W=be);else if(Le<Y&&0>i(Ge,ne))X[W]=Ge,X[Le]=ne,W=Le;else break e}}return ie}function i(X,ie){var ne=X.sortIndex-ie.sortIndex;return ne!==0?ne:X.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],f=[],h=1,p=null,y=3,_=!1,w=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=X)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function D(X){if(E=!1,N(X),!w)if(n(c)!==null)w=!0,Q(O);else{var ie=n(f);ie!==null&&te(D,ie.startTime-X)}}function O(X,ie){w=!1,E&&(E=!1,P(R),R=-1),_=!0;var ne=y;try{for(N(ie),p=n(c);p!==null&&(!(p.expirationTime>ie)||X&&!L());){var W=p.callback;if(typeof W=="function"){p.callback=null,y=p.priorityLevel;var Y=W(p.expirationTime<=ie);ie=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(c)&&r(c),N(ie)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var be=n(f);be!==null&&te(D,be.startTime-ie),le=!1}return le}finally{p=null,y=ne,_=!1}}var M=!1,C=null,R=-1,j=5,F=-1;function L(){return!(t.unstable_now()-F<j)}function V(){if(C!==null){var X=t.unstable_now();F=X;var ie=!0;try{ie=C(!0,X)}finally{ie?I():(M=!1,C=null)}}else M=!1}var I;if(typeof A=="function")I=function(){A(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=V,I=function(){G.postMessage(null)}}else I=function(){v(V,0)};function Q(X){C=X,M||(M=!0,I())}function te(X,ie){R=v(function(){X(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,Q(O))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ne=y;y=ie;try{return X()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=y;y=X;try{return ie()}finally{y=ne}},t.unstable_scheduleCallback=function(X,ie,ne){var W=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,X={id:h++,callback:ie,priorityLevel:X,startTime:ne,expirationTime:Y,sortIndex:-1},ne>W?(X.sortIndex=ne,e(f,X),n(c)===null&&X===n(f)&&(E?(P(R),R=-1):E=!0,te(D,ne-W))):(X.sortIndex=Y,e(c,X),w||_||(w=!0,Q(O))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var ie=y;return function(){var ne=y;y=ie;try{return X.apply(this,arguments)}finally{y=ne}}}}(s_)),s_}var HP;function HU(){return HP||(HP=1,a_.exports=WU()),a_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP;function GU(){if(GP)return cr;GP=1;var t=yx(),e=HU();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,u){a(s,u),a(s+"Capture",u)}function a(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function _(s,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,u,d,g){if(u===null||typeof u>"u"||_(s,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(s,u,d,g,b,T,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=s,this.type=u,this.sanitizeURL=T,this.removeEmptyString=$}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){v[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];v[u]=new E(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){v[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){v[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){v[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){v[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){v[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){v[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){v[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),v.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,u,d,g){var b=v.hasOwnProperty(u)?v[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,d,b,g)&&(d=null),g||b===null?y(u)&&(d===null?s.removeAttribute(u):s.setAttribute(u,""+d)):b.mustUseProperty?s[b.propertyName]=d===null?b.type===3?!1:"":d:(u=b.attributeName,g=b.attributeNamespace,d===null?s.removeAttribute(u):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?s.setAttributeNS(g,u,d):s.setAttribute(u,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,W;function Y(s){if(W===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+s}var le=!1;function be(s,u){if(!s||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(oe){var g=oe}Reflect.construct(s,[],u)}else{try{u.call()}catch(oe){g=oe}s.call(u.prototype)}else{try{throw Error()}catch(oe){g=oe}s()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var b=oe.stack.split(`
`),T=g.stack.split(`
`),$=b.length-1,q=T.length-1;1<=$&&0<=q&&b[$]!==T[q];)q--;for(;1<=$&&0<=q;$--,q--)if(b[$]!==T[q]){if($!==1||q!==1)do if($--,q--,0>q||b[$]!==T[q]){var H=`
`+b[$].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=$&&0<=q);break}}}finally{le=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ce(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case M:return"Portal";case j:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return u=s.displayName||null,u!==null?u:Le(s.type)||"Memo";case Q:u=s._payload,s=s._init;try{return Le(s(u))}catch{}}return null}function Ge(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function he(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ae(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ve(s){var u=ae(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),g=""+s[u];if(!s.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,T=d.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,T.call(this,$)}}),Object.defineProperty(s,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ae(s){s._valueTracker||(s._valueTracker=ve(s))}function de(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=ae(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function ze(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function je(s,u){var d=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ht(s,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=he(u.value!=null?u.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function _t(s,u){u=u.checked,u!=null&&N(s,"checked",u,!1)}function Ut(s,u){_t(s,u);var d=he(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?gr(s,u.type,d):u.hasOwnProperty("defaultValue")&&gr(s,u.type,he(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function mr(s,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,d||u===s.value||(s.value=u),s.defaultValue=u}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function gr(s,u,d){(u!=="number"||ze(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var nr=Array.isArray;function Sn(s,u,d,g){if(s=s.options,u){u={};for(var b=0;b<d.length;b++)u["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=u.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&g&&(s[d].defaultSelected=!0)}else{for(d=""+he(d),u=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}u!==null||s[b].disabled||(u=s[b])}u!==null&&(u.selected=!0)}}function yr(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Di(s,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(nr(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}s._wrapperState={initialValue:he(d)}}function ao(s,u){var d=he(u.value),g=he(u.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),u.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function Qo(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function rn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?rn(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var so,pc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,b){MSApp.execUnsafeLocalFunction(function(){return s(u,d,g,b)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=so.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Jo(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ss=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(s){ss.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),as[u]=as[s]})});function mc(s,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||as.hasOwnProperty(s)&&as[s]?(""+u).trim():u+"px"}function gc(s,u){s=s.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=mc(d,u[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,b):s[d]=b}}var yc=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(s,u){if(u){if(yc[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function _c(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function hu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pu=null,kr=null,Li=null;function mu(s){if(s=qc(s)){if(typeof pu!="function")throw Error(n(280));var u=s.stateNode;u&&(u=Lh(u),pu(s.stateNode,s.type,u))}}function $i(s){kr?Li?Li.push(s):Li=[s]:kr=s}function wc(){if(kr){var s=kr,u=Li;if(Li=kr=null,mu(s),u)for(s=0;s<u.length;s++)mu(u[s])}}function ls(s,u){return s(u)}function bc(){}var uo=!1;function Ec(s,u,d){if(uo)return s(u,d);uo=!0;try{return ls(s,u,d)}finally{uo=!1,(kr!==null||Li!==null)&&(bc(),wc())}}function Gt(s,u){var d=s.stateNode;if(d===null)return null;var g=Lh(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var gu=!1;if(l)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){gu=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{gu=!1}function cs(s,u,d,g,b,T,$,q,H){var oe=Array.prototype.slice.call(arguments,3);try{u.apply(d,oe)}catch(me){this.onError(me)}}var fs=!1,yu=null,ii=!1,xc=null,Ry={onError:function(s){fs=!0,yu=s}};function vu(s,u,d,g,b,T,$,q,H){fs=!1,yu=null,cs.apply(Ry,arguments)}function uh(s,u,d,g,b,T,$,q,H){if(vu.apply(this,arguments),fs){if(fs){var oe=yu;fs=!1,yu=null}else throw Error(n(198));ii||(ii=!0,xc=oe)}}function oi(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function ds(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function ai(s){if(oi(s)!==s)throw Error(n(188))}function lh(s){var u=s.alternate;if(!u){if(u=oi(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,g=u;;){var b=d.return;if(b===null)break;var T=b.alternate;if(T===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===d)return ai(b),s;if(T===g)return ai(b),u;T=T.sibling}throw Error(n(188))}if(d.return!==g.return)d=b,g=T;else{for(var $=!1,q=b.child;q;){if(q===d){$=!0,d=b,g=T;break}if(q===g){$=!0,g=b,d=T;break}q=q.sibling}if(!$){for(q=T.child;q;){if(q===d){$=!0,d=T,g=b;break}if(q===g){$=!0,g=T,d=b;break}q=q.sibling}if(!$)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function Sc(s){return s=lh(s),s!==null?_u(s):null}function _u(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=_u(s);if(u!==null)return u;s=s.sibling}return null}var wu=e.unstable_scheduleCallback,Tc=e.unstable_cancelCallback,ch=e.unstable_shouldYield,ky=e.unstable_requestPaint,Et=e.unstable_now,fh=e.unstable_getCurrentPriorityLevel,hs=e.unstable_ImmediatePriority,Zo=e.unstable_UserBlockingPriority,Nr=e.unstable_NormalPriority,Ac=e.unstable_LowPriority,dh=e.unstable_IdlePriority,ps=null,vr=null;function hh(s){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(ps,s,void 0,(s.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:mh,Pc=Math.log,ph=Math.LN2;function mh(s){return s>>>=0,s===0?32:31-(Pc(s)/ph|0)|0}var bu=64,Eu=4194304;function ea(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ms(s,u){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,T=s.pingedLanes,$=d&268435455;if($!==0){var q=$&~b;q!==0?g=ea(q):(T&=$,T!==0&&(g=ea(T)))}else $=d&~b,$!==0?g=ea($):T!==0&&(g=ea(T));if(g===0)return 0;if(u!==0&&u!==g&&!(u&b)&&(b=g&-g,T=u&-u,b>=T||b===16&&(T&4194240)!==0))return u;if(g&4&&(g|=d&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=g;0<u;)d=31-Hn(u),b=1<<d,g|=s[d],u&=~b;return g}function Ny(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,T=s.pendingLanes;0<T;){var $=31-Hn(T),q=1<<$,H=b[$];H===-1?(!(q&d)||q&g)&&(b[$]=Ny(q,u)):H<=u&&(s.expiredLanes|=q),T&=~q}}function _r(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function gs(){var s=bu;return bu<<=1,!(bu&4194240)&&(bu=64),s}function ta(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function na(s,u,d){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Hn(u),s[u]=d}function wt(s,u){var d=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var b=31-Hn(d),T=1<<b;u[b]=0,g[b]=-1,s[b]=-1,d&=~T}}function ra(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-Hn(d),b=1<<g;b&u|s[g]&u&&(s[g]|=u),d&=~b}}var et=0;function ia(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var gh,xu,yh,vh,_h,Ic=!1,Fi=[],Tn=null,si=null,ui=null,oa=new Map,jr=new Map,Vi=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(s,u){switch(s){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":oa.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(u.pointerId)}}function rr(s,u,d,g,b,T){return s===null||s.nativeEvent!==T?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[b]},u!==null&&(u=qc(u),u!==null&&xu(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),s)}function My(s,u,d,g,b){switch(u){case"focusin":return Tn=rr(Tn,s,u,d,g,b),!0;case"dragenter":return si=rr(si,s,u,d,g,b),!0;case"mouseover":return ui=rr(ui,s,u,d,g,b),!0;case"pointerover":var T=b.pointerId;return oa.set(T,rr(oa.get(T)||null,s,u,d,g,b)),!0;case"gotpointercapture":return T=b.pointerId,jr.set(T,rr(jr.get(T)||null,s,u,d,g,b)),!0}return!1}function bh(s){var u=bs(s.target);if(u!==null){var d=oi(u);if(d!==null){if(u=d.tag,u===13){if(u=ds(d),u!==null){s.blockedOn=u,_h(s.priority,function(){yh(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function co(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=Su(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);us=g,d.target.dispatchEvent(g),us=null}else return u=qc(d),u!==null&&xu(u),s.blockedOn=d,!1;u.shift()}return!0}function ys(s,u,d){co(s)&&d.delete(u)}function Eh(){Ic=!1,Tn!==null&&co(Tn)&&(Tn=null),si!==null&&co(si)&&(si=null),ui!==null&&co(ui)&&(ui=null),oa.forEach(ys),jr.forEach(ys)}function li(s,u){s.blockedOn===u&&(s.blockedOn=null,Ic||(Ic=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eh)))}function ci(s){function u(b){return li(b,s)}if(0<Fi.length){li(Fi[0],s);for(var d=1;d<Fi.length;d++){var g=Fi[d];g.blockedOn===s&&(g.blockedOn=null)}}for(Tn!==null&&li(Tn,s),si!==null&&li(si,s),ui!==null&&li(ui,s),oa.forEach(u),jr.forEach(u),d=0;d<Vi.length;d++)g=Vi[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<Vi.length&&(d=Vi[0],d.blockedOn===null);)bh(d),d.blockedOn===null&&Vi.shift()}var fo=D.ReactCurrentBatchConfig,aa=!0;function Rt(s,u,d,g){var b=et,T=fo.transition;fo.transition=null;try{et=1,Cc(s,u,d,g)}finally{et=b,fo.transition=T}}function Dy(s,u,d,g){var b=et,T=fo.transition;fo.transition=null;try{et=4,Cc(s,u,d,g)}finally{et=b,fo.transition=T}}function Cc(s,u,d,g){if(aa){var b=Su(s,u,d,g);if(b===null)Gy(s,u,g,vs,d),wh(s,g);else if(My(b,s,u,d,g))g.stopPropagation();else if(wh(s,g),u&4&&-1<jy.indexOf(s)){for(;b!==null;){var T=qc(b);if(T!==null&&gh(T),T=Su(s,u,d,g),T===null&&Gy(s,u,g,vs,d),T===b)break;b=T}b!==null&&g.stopPropagation()}else Gy(s,u,g,null,d)}}var vs=null;function Su(s,u,d,g){if(vs=null,s=hu(g),s=bs(s),s!==null)if(u=oi(s),u===null)s=null;else if(d=u.tag,d===13){if(s=ds(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return vs=s,null}function Oc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fh()){case hs:return 1;case Zo:return 4;case Nr:case Ac:return 16;case dh:return 536870912;default:return 16}default:return 16}}var wr=null,Tu=null,ir=null;function Rc(){if(ir)return ir;var s,u=Tu,d=u.length,g,b="value"in wr?wr.value:wr.textContent,T=b.length;for(s=0;s<d&&u[s]===b[s];s++);var $=d-s;for(g=1;g<=$&&u[d-g]===b[T-g];g++);return ir=b.slice(s,1<g?1-g:void 0)}function Au(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Ui(){return!0}function kc(){return!1}function An(s){function u(d,g,b,T,$){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(d=s[q],this[q]=d?d(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ui:kc,this.isPropagationStopped=kc,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),u}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=An(fi),Bi=ne({},fi,{view:0,detail:0}),Ly=An(Bi),Iu,ho,sa,_s=ne({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==sa&&(sa&&s.type==="mousemove"?(Iu=s.screenX-sa.screenX,ho=s.screenY-sa.screenY):ho=Iu=0,sa=s),Iu)},movementY:function(s){return"movementY"in s?s.movementY:ho}}),Cu=An(_s),Nc=ne({},_s,{dataTransfer:0}),xh=An(Nc),Ou=ne({},Bi,{relatedTarget:0}),Ru=An(Ou),Sh=ne({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),po=An(Sh),Th=ne({},fi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ah=An(Th),Ph=ne({},fi,{data:0}),jc=An(Ph),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Ih[s])?!!u[s]:!1}function qi(){return Ch}var m=ne({},Bi,{key:function(s){if(s.key){var u=ku[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Au(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(s){return s.type==="keypress"?Au(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Au(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),S=An(m),k=ne({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=An(k),Z=ne({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),se=An(Z),we=ne({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=An(we),an=ne({},_s,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=An(an),mn=[9,13,27,32],Qt=l&&"CompositionEvent"in window,Mr=null;l&&"documentMode"in document&&(Mr=document.documentMode);var br=l&&"TextEvent"in window&&!Mr,ws=l&&(!Qt||Mr&&8<Mr&&11>=Mr),Nu=" ",MT=!1;function DT(s,u){switch(s){case"keyup":return mn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LT(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ju=!1;function F4(s,u){switch(s){case"compositionend":return LT(u);case"keypress":return u.which!==32?null:(MT=!0,Nu);case"textInput":return s=u.data,s===Nu&&MT?null:s;default:return null}}function V4(s,u){if(ju)return s==="compositionend"||!Qt&&DT(s,u)?(s=Rc(),ir=Tu=wr=null,ju=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ws&&u.locale!=="ko"?null:u.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $T(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!U4[s.type]:u==="textarea"}function FT(s,u,d,g){$i(g),u=jh(u,"onChange"),0<u.length&&(d=new Pu("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var Mc=null,Dc=null;function B4(s){rA(s,0)}function Oh(s){var u=Fu(s);if(de(u))return s}function q4(s,u){if(s==="change")return u}var VT=!1;if(l){var $y;if(l){var Fy="oninput"in document;if(!Fy){var UT=document.createElement("div");UT.setAttribute("oninput","return;"),Fy=typeof UT.oninput=="function"}$y=Fy}else $y=!1;VT=$y&&(!document.documentMode||9<document.documentMode)}function BT(){Mc&&(Mc.detachEvent("onpropertychange",qT),Dc=Mc=null)}function qT(s){if(s.propertyName==="value"&&Oh(Dc)){var u=[];FT(u,Dc,s,hu(s)),Ec(B4,u)}}function z4(s,u,d){s==="focusin"?(BT(),Mc=u,Dc=d,Mc.attachEvent("onpropertychange",qT)):s==="focusout"&&BT()}function W4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Oh(Dc)}function H4(s,u){if(s==="click")return Oh(u)}function G4(s,u){if(s==="input"||s==="change")return Oh(u)}function K4(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var di=typeof Object.is=="function"?Object.is:K4;function Lc(s,u){if(di(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!c.call(u,b)||!di(s[b],u[b]))return!1}return!0}function zT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function WT(s,u){var d=zT(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=zT(d)}}function HT(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?HT(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function GT(){for(var s=window,u=ze();u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=ze(s.document)}return u}function Vy(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function Y4(s){var u=GT(),d=s.focusedElem,g=s.selectionRange;if(u!==d&&d&&d.ownerDocument&&HT(d.ownerDocument.documentElement,d)){if(g!==null&&Vy(d)){if(u=g.start,s=g.end,s===void 0&&(s=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(s,d.value.length);else if(s=(u=d.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var b=d.textContent.length,T=Math.min(g.start,b);g=g.end===void 0?T:Math.min(g.end,b),!s.extend&&T>g&&(b=g,g=T,T=b),b=WT(d,T);var $=WT(d,g);b&&$&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),s.removeAllRanges(),T>g?(s.addRange(u),s.extend($.node,$.offset)):(u.setEnd($.node,$.offset),s.addRange(u)))}}for(u=[],s=d;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)s=u[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var X4=l&&"documentMode"in document&&11>=document.documentMode,Mu=null,Uy=null,$c=null,By=!1;function KT(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;By||Mu==null||Mu!==ze(g)||(g=Mu,"selectionStart"in g&&Vy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$c&&Lc($c,g)||($c=g,g=jh(Uy,"onSelect"),0<g.length&&(u=new Pu("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=Mu)))}function Rh(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Du={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},qy={},YT={};l&&(YT=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function kh(s){if(qy[s])return qy[s];if(!Du[s])return s;var u=Du[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in YT)return qy[s]=u[d];return s}var XT=kh("animationend"),QT=kh("animationiteration"),JT=kh("animationstart"),ZT=kh("transitionend"),eA=new Map,tA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(s,u){eA.set(s,u),o(u,[s])}for(var zy=0;zy<tA.length;zy++){var Wy=tA[zy],Q4=Wy.toLowerCase(),J4=Wy[0].toUpperCase()+Wy.slice(1);ua(Q4,"on"+J4)}ua(XT,"onAnimationEnd"),ua(QT,"onAnimationIteration"),ua(JT,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(ZT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function nA(s,u,d){var g=s.type||"unknown-event";s.currentTarget=d,uh(g,u,void 0,s),s.currentTarget=null}function rA(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],b=g.event;g=g.listeners;e:{var T=void 0;if(u)for(var $=g.length-1;0<=$;$--){var q=g[$],H=q.instance,oe=q.currentTarget;if(q=q.listener,H!==T&&b.isPropagationStopped())break e;nA(b,q,oe),T=H}else for($=0;$<g.length;$++){if(q=g[$],H=q.instance,oe=q.currentTarget,q=q.listener,H!==T&&b.isPropagationStopped())break e;nA(b,q,oe),T=H}}}if(ii)throw s=xc,ii=!1,xc=null,s}function Pt(s,u){var d=u[Zy];d===void 0&&(d=u[Zy]=new Set);var g=s+"__bubble";d.has(g)||(iA(u,s,2,!1),d.add(g))}function Hy(s,u,d){var g=0;u&&(g|=4),iA(d,s,g,u)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function Vc(s){if(!s[Nh]){s[Nh]=!0,r.forEach(function(d){d!=="selectionchange"&&(Z4.has(d)||Hy(d,!1,s),Hy(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Nh]||(u[Nh]=!0,Hy("selectionchange",!1,u))}}function iA(s,u,d,g){switch(Oc(u)){case 1:var b=Rt;break;case 4:b=Dy;break;default:b=Cc}d=b.bind(null,u,d,s),b=void 0,!gu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(u,d,{capture:!0,passive:b}):s.addEventListener(u,d,!0):b!==void 0?s.addEventListener(u,d,{passive:b}):s.addEventListener(u,d,!1)}function Gy(s,u,d,g,b){var T=g;if(!(u&1)&&!(u&2)&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var q=g.stateNode.containerInfo;if(q===b||q.nodeType===8&&q.parentNode===b)break;if($===4)for($=g.return;$!==null;){var H=$.tag;if((H===3||H===4)&&(H=$.stateNode.containerInfo,H===b||H.nodeType===8&&H.parentNode===b))return;$=$.return}for(;q!==null;){if($=bs(q),$===null)return;if(H=$.tag,H===5||H===6){g=T=$;continue e}q=q.parentNode}}g=g.return}Ec(function(){var oe=T,me=hu(d),ge=[];e:{var pe=eA.get(s);if(pe!==void 0){var Ee=Pu,Oe=s;switch(s){case"keypress":if(Au(d)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":Oe="focus",Ee=Ru;break;case"focusout":Oe="blur",Ee=Ru;break;case"beforeblur":case"afterblur":Ee=Ru;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=se;break;case XT:case QT:case JT:Ee=po;break;case ZT:Ee=pt;break;case"scroll":Ee=Ly;break;case"wheel":Ee=nt;break;case"copy":case"cut":case"paste":Ee=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Re=(u&4)!==0,Kt=!Re&&s==="scroll",ee=Re?pe!==null?pe+"Capture":null:pe;Re=[];for(var K=oe,re;K!==null;){re=K;var ye=re.stateNode;if(re.tag===5&&ye!==null&&(re=ye,ee!==null&&(ye=Gt(K,ee),ye!=null&&Re.push(Uc(K,ye,re)))),Kt)break;K=K.return}0<Re.length&&(pe=new Ee(pe,Oe,null,d,me),ge.push({event:pe,listeners:Re}))}}if(!(u&7)){e:{if(pe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",pe&&d!==us&&(Oe=d.relatedTarget||d.fromElement)&&(bs(Oe)||Oe[mo]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Oe=d.relatedTarget||d.toElement,Ee=oe,Oe=Oe?bs(Oe):null,Oe!==null&&(Kt=oi(Oe),Oe!==Kt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ee=null,Oe=oe),Ee!==Oe)){if(Re=Cu,ye="onMouseLeave",ee="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Re=B,ye="onPointerLeave",ee="onPointerEnter",K="pointer"),Kt=Ee==null?pe:Fu(Ee),re=Oe==null?pe:Fu(Oe),pe=new Re(ye,K+"leave",Ee,d,me),pe.target=Kt,pe.relatedTarget=re,ye=null,bs(me)===oe&&(Re=new Re(ee,K+"enter",Oe,d,me),Re.target=re,Re.relatedTarget=Kt,ye=Re),Kt=ye,Ee&&Oe)t:{for(Re=Ee,ee=Oe,K=0,re=Re;re;re=Lu(re))K++;for(re=0,ye=ee;ye;ye=Lu(ye))re++;for(;0<K-re;)Re=Lu(Re),K--;for(;0<re-K;)ee=Lu(ee),re--;for(;K--;){if(Re===ee||ee!==null&&Re===ee.alternate)break t;Re=Lu(Re),ee=Lu(ee)}Re=null}else Re=null;Ee!==null&&oA(ge,pe,Ee,Re,!1),Oe!==null&&Kt!==null&&oA(ge,Kt,Oe,Re,!0)}}e:{if(pe=oe?Fu(oe):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var ke=q4;else if($T(pe))if(VT)ke=G4;else{ke=W4;var Me=z4}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(ke=H4);if(ke&&(ke=ke(s,oe))){FT(ge,ke,d,me);break e}Me&&Me(s,pe,oe),s==="focusout"&&(Me=pe._wrapperState)&&Me.controlled&&pe.type==="number"&&gr(pe,"number",pe.value)}switch(Me=oe?Fu(oe):window,s){case"focusin":($T(Me)||Me.contentEditable==="true")&&(Mu=Me,Uy=oe,$c=null);break;case"focusout":$c=Uy=Mu=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,KT(ge,d,me);break;case"selectionchange":if(X4)break;case"keydown":case"keyup":KT(ge,d,me)}var De;if(Qt)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ju?DT(s,d)&&(Ve="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(ws&&d.locale!=="ko"&&(ju||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ju&&(De=Rc()):(wr=me,Tu="value"in wr?wr.value:wr.textContent,ju=!0)),Me=jh(oe,Ve),0<Me.length&&(Ve=new jc(Ve,s,null,d,me),ge.push({event:Ve,listeners:Me}),De?Ve.data=De:(De=LT(d),De!==null&&(Ve.data=De)))),(De=br?F4(s,d):V4(s,d))&&(oe=jh(oe,"onBeforeInput"),0<oe.length&&(me=new jc("onBeforeInput","beforeinput",null,d,me),ge.push({event:me,listeners:oe}),me.data=De))}rA(ge,u)})}function Uc(s,u,d){return{instance:s,listener:u,currentTarget:d}}function jh(s,u){for(var d=u+"Capture",g=[];s!==null;){var b=s,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=Gt(s,d),T!=null&&g.unshift(Uc(s,T,b)),T=Gt(s,u),T!=null&&g.push(Uc(s,T,b))),s=s.return}return g}function Lu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function oA(s,u,d,g,b){for(var T=u._reactName,$=[];d!==null&&d!==g;){var q=d,H=q.alternate,oe=q.stateNode;if(H!==null&&H===g)break;q.tag===5&&oe!==null&&(q=oe,b?(H=Gt(d,T),H!=null&&$.unshift(Uc(d,H,q))):b||(H=Gt(d,T),H!=null&&$.push(Uc(d,H,q)))),d=d.return}$.length!==0&&s.push({event:u,listeners:$})}var eU=/\r\n?/g,tU=/\u0000|\uFFFD/g;function aA(s){return(typeof s=="string"?s:""+s).replace(eU,`
`).replace(tU,"")}function Mh(s,u,d){if(u=aA(u),aA(s)!==u&&d)throw Error(n(425))}function Dh(){}var Ky=null,Yy=null;function Xy(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,nU=typeof clearTimeout=="function"?clearTimeout:void 0,sA=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof sA<"u"?function(s){return sA.resolve(null).then(s).catch(iU)}:Qy;function iU(s){setTimeout(function(){throw s})}function Jy(s,u){var d=u,g=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){s.removeChild(b),ci(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);ci(u)}function la(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function uA(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return s;u--}else d==="/$"&&u++}s=s.previousSibling}return null}var $u=Math.random().toString(36).slice(2),zi="__reactFiber$"+$u,Bc="__reactProps$"+$u,mo="__reactContainer$"+$u,Zy="__reactEvents$"+$u,oU="__reactListeners$"+$u,aU="__reactHandles$"+$u;function bs(s){var u=s[zi];if(u)return u;for(var d=s.parentNode;d;){if(u=d[mo]||d[zi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=uA(s);s!==null;){if(d=s[zi])return d;s=uA(s)}return u}s=d,d=s.parentNode}return null}function qc(s){return s=s[zi]||s[mo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fu(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Lh(s){return s[Bc]||null}var ev=[],Vu=-1;function ca(s){return{current:s}}function It(s){0>Vu||(s.current=ev[Vu],ev[Vu]=null,Vu--)}function xt(s,u){Vu++,ev[Vu]=s.current,s.current=u}var fa={},Dn=ca(fa),or=ca(!1),Es=fa;function Uu(s,u){var d=s.type.contextTypes;if(!d)return fa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in d)b[T]=u[T];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=b),b}function ar(s){return s=s.childContextTypes,s!=null}function $h(){It(or),It(Dn)}function lA(s,u,d){if(Dn.current!==fa)throw Error(n(168));xt(Dn,u),xt(or,d)}function cA(s,u,d){var g=s.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(n(108,Ge(s)||"Unknown",b));return ne({},d,g)}function Fh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fa,Es=Dn.current,xt(Dn,s),xt(or,or.current),!0}function fA(s,u,d){var g=s.stateNode;if(!g)throw Error(n(169));d?(s=cA(s,u,Es),g.__reactInternalMemoizedMergedChildContext=s,It(or),It(Dn),xt(Dn,s)):It(or),xt(or,d)}var go=null,Vh=!1,tv=!1;function dA(s){go===null?go=[s]:go.push(s)}function sU(s){Vh=!0,dA(s)}function da(){if(!tv&&go!==null){tv=!0;var s=0,u=et;try{var d=go;for(et=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}go=null,Vh=!1}catch(b){throw go!==null&&(go=go.slice(s+1)),wu(hs,da),b}finally{et=u,tv=!1}}return null}var Bu=[],qu=0,Uh=null,Bh=0,Dr=[],Lr=0,xs=null,yo=1,vo="";function Ss(s,u){Bu[qu++]=Bh,Bu[qu++]=Uh,Uh=s,Bh=u}function hA(s,u,d){Dr[Lr++]=yo,Dr[Lr++]=vo,Dr[Lr++]=xs,xs=s;var g=yo;s=vo;var b=32-Hn(g)-1;g&=~(1<<b),d+=1;var T=32-Hn(u)+b;if(30<T){var $=b-b%5;T=(g&(1<<$)-1).toString(32),g>>=$,b-=$,yo=1<<32-Hn(u)+b|d<<b|g,vo=T+s}else yo=1<<T|d<<b|g,vo=s}function nv(s){s.return!==null&&(Ss(s,1),hA(s,1,0))}function rv(s){for(;s===Uh;)Uh=Bu[--qu],Bu[qu]=null,Bh=Bu[--qu],Bu[qu]=null;for(;s===xs;)xs=Dr[--Lr],Dr[Lr]=null,vo=Dr[--Lr],Dr[Lr]=null,yo=Dr[--Lr],Dr[Lr]=null}var Er=null,xr=null,kt=!1,hi=null;function pA(s,u){var d=Ur(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=s,u=s.deletions,u===null?(s.deletions=[d],s.flags|=16):u.push(d)}function mA(s,u){switch(s.tag){case 5:var d=s.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Er=s,xr=la(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Er=s,xr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=xs!==null?{id:yo,overflow:vo}:null,s.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=Ur(18,null,null,0),d.stateNode=u,d.return=s,s.child=d,Er=s,xr=null,!0):!1;default:return!1}}function iv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ov(s){if(kt){var u=xr;if(u){var d=u;if(!mA(s,u)){if(iv(s))throw Error(n(418));u=la(d.nextSibling);var g=Er;u&&mA(s,u)?pA(g,d):(s.flags=s.flags&-4097|2,kt=!1,Er=s)}}else{if(iv(s))throw Error(n(418));s.flags=s.flags&-4097|2,kt=!1,Er=s}}}function gA(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function qh(s){if(s!==Er)return!1;if(!kt)return gA(s),kt=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Xy(s.type,s.memoizedProps)),u&&(u=xr)){if(iv(s))throw yA(),Error(n(418));for(;u;)pA(s,u),u=la(u.nextSibling)}if(gA(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(u===0){xr=la(s.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}s=s.nextSibling}xr=null}}else xr=Er?la(s.stateNode.nextSibling):null;return!0}function yA(){for(var s=xr;s;)s=la(s.nextSibling)}function zu(){xr=Er=null,kt=!1}function av(s){hi===null?hi=[s]:hi.push(s)}var uU=D.ReactCurrentBatchConfig;function zc(s,u,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,s));var b=g,T=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function($){var q=b.refs;$===null?delete q[T]:q[T]=$},u._stringRef=T,u)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function zh(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function vA(s){var u=s._init;return u(s._payload)}function _A(s){function u(ee,K){if(s){var re=ee.deletions;re===null?(ee.deletions=[K],ee.flags|=16):re.push(K)}}function d(ee,K){if(!s)return null;for(;K!==null;)u(ee,K),K=K.sibling;return null}function g(ee,K){for(ee=new Map;K!==null;)K.key!==null?ee.set(K.key,K):ee.set(K.index,K),K=K.sibling;return ee}function b(ee,K){return ee=wa(ee,K),ee.index=0,ee.sibling=null,ee}function T(ee,K,re){return ee.index=re,s?(re=ee.alternate,re!==null?(re=re.index,re<K?(ee.flags|=2,K):re):(ee.flags|=2,K)):(ee.flags|=1048576,K)}function $(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,K,re,ye){return K===null||K.tag!==6?(K=Qv(re,ee.mode,ye),K.return=ee,K):(K=b(K,re),K.return=ee,K)}function H(ee,K,re,ye){var ke=re.type;return ke===C?me(ee,K,re.props.children,ye,re.key):K!==null&&(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Q&&vA(ke)===K.type)?(ye=b(K,re.props),ye.ref=zc(ee,K,re),ye.return=ee,ye):(ye=pp(re.type,re.key,re.props,null,ee.mode,ye),ye.ref=zc(ee,K,re),ye.return=ee,ye)}function oe(ee,K,re,ye){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=Jv(re,ee.mode,ye),K.return=ee,K):(K=b(K,re.children||[]),K.return=ee,K)}function me(ee,K,re,ye,ke){return K===null||K.tag!==7?(K=ks(re,ee.mode,ye,ke),K.return=ee,K):(K=b(K,re),K.return=ee,K)}function ge(ee,K,re){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Qv(""+K,ee.mode,re),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return re=pp(K.type,K.key,K.props,null,ee.mode,re),re.ref=zc(ee,null,K),re.return=ee,re;case M:return K=Jv(K,ee.mode,re),K.return=ee,K;case Q:var ye=K._init;return ge(ee,ye(K._payload),re)}if(nr(K)||ie(K))return K=ks(K,ee.mode,re,null),K.return=ee,K;zh(ee,K)}return null}function pe(ee,K,re,ye){var ke=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return ke!==null?null:q(ee,K,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case O:return re.key===ke?H(ee,K,re,ye):null;case M:return re.key===ke?oe(ee,K,re,ye):null;case Q:return ke=re._init,pe(ee,K,ke(re._payload),ye)}if(nr(re)||ie(re))return ke!==null?null:me(ee,K,re,ye,null);zh(ee,re)}return null}function Ee(ee,K,re,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ee=ee.get(re)||null,q(K,ee,""+ye,ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return ee=ee.get(ye.key===null?re:ye.key)||null,H(K,ee,ye,ke);case M:return ee=ee.get(ye.key===null?re:ye.key)||null,oe(K,ee,ye,ke);case Q:var Me=ye._init;return Ee(ee,K,re,Me(ye._payload),ke)}if(nr(ye)||ie(ye))return ee=ee.get(re)||null,me(K,ee,ye,ke,null);zh(K,ye)}return null}function Oe(ee,K,re,ye){for(var ke=null,Me=null,De=K,Ve=K=0,vn=null;De!==null&&Ve<re.length;Ve++){De.index>Ve?(vn=De,De=null):vn=De.sibling;var at=pe(ee,De,re[Ve],ye);if(at===null){De===null&&(De=vn);break}s&&De&&at.alternate===null&&u(ee,De),K=T(at,K,Ve),Me===null?ke=at:Me.sibling=at,Me=at,De=vn}if(Ve===re.length)return d(ee,De),kt&&Ss(ee,Ve),ke;if(De===null){for(;Ve<re.length;Ve++)De=ge(ee,re[Ve],ye),De!==null&&(K=T(De,K,Ve),Me===null?ke=De:Me.sibling=De,Me=De);return kt&&Ss(ee,Ve),ke}for(De=g(ee,De);Ve<re.length;Ve++)vn=Ee(De,ee,Ve,re[Ve],ye),vn!==null&&(s&&vn.alternate!==null&&De.delete(vn.key===null?Ve:vn.key),K=T(vn,K,Ve),Me===null?ke=vn:Me.sibling=vn,Me=vn);return s&&De.forEach(function(ba){return u(ee,ba)}),kt&&Ss(ee,Ve),ke}function Re(ee,K,re,ye){var ke=ie(re);if(typeof ke!="function")throw Error(n(150));if(re=ke.call(re),re==null)throw Error(n(151));for(var Me=ke=null,De=K,Ve=K=0,vn=null,at=re.next();De!==null&&!at.done;Ve++,at=re.next()){De.index>Ve?(vn=De,De=null):vn=De.sibling;var ba=pe(ee,De,at.value,ye);if(ba===null){De===null&&(De=vn);break}s&&De&&ba.alternate===null&&u(ee,De),K=T(ba,K,Ve),Me===null?ke=ba:Me.sibling=ba,Me=ba,De=vn}if(at.done)return d(ee,De),kt&&Ss(ee,Ve),ke;if(De===null){for(;!at.done;Ve++,at=re.next())at=ge(ee,at.value,ye),at!==null&&(K=T(at,K,Ve),Me===null?ke=at:Me.sibling=at,Me=at);return kt&&Ss(ee,Ve),ke}for(De=g(ee,De);!at.done;Ve++,at=re.next())at=Ee(De,ee,Ve,at.value,ye),at!==null&&(s&&at.alternate!==null&&De.delete(at.key===null?Ve:at.key),K=T(at,K,Ve),Me===null?ke=at:Me.sibling=at,Me=at);return s&&De.forEach(function(UU){return u(ee,UU)}),kt&&Ss(ee,Ve),ke}function Kt(ee,K,re,ye){if(typeof re=="object"&&re!==null&&re.type===C&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case O:e:{for(var ke=re.key,Me=K;Me!==null;){if(Me.key===ke){if(ke=re.type,ke===C){if(Me.tag===7){d(ee,Me.sibling),K=b(Me,re.props.children),K.return=ee,ee=K;break e}}else if(Me.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Q&&vA(ke)===Me.type){d(ee,Me.sibling),K=b(Me,re.props),K.ref=zc(ee,Me,re),K.return=ee,ee=K;break e}d(ee,Me);break}else u(ee,Me);Me=Me.sibling}re.type===C?(K=ks(re.props.children,ee.mode,ye,re.key),K.return=ee,ee=K):(ye=pp(re.type,re.key,re.props,null,ee.mode,ye),ye.ref=zc(ee,K,re),ye.return=ee,ee=ye)}return $(ee);case M:e:{for(Me=re.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){d(ee,K.sibling),K=b(K,re.children||[]),K.return=ee,ee=K;break e}else{d(ee,K);break}else u(ee,K);K=K.sibling}K=Jv(re,ee.mode,ye),K.return=ee,ee=K}return $(ee);case Q:return Me=re._init,Kt(ee,K,Me(re._payload),ye)}if(nr(re))return Oe(ee,K,re,ye);if(ie(re))return Re(ee,K,re,ye);zh(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,K!==null&&K.tag===6?(d(ee,K.sibling),K=b(K,re),K.return=ee,ee=K):(d(ee,K),K=Qv(re,ee.mode,ye),K.return=ee,ee=K),$(ee)):d(ee,K)}return Kt}var Wu=_A(!0),wA=_A(!1),Wh=ca(null),Hh=null,Hu=null,sv=null;function uv(){sv=Hu=Hh=null}function lv(s){var u=Wh.current;It(Wh),s._currentValue=u}function cv(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function Gu(s,u){Hh=s,sv=Hu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(sr=!0),s.firstContext=null)}function $r(s){var u=s._currentValue;if(sv!==s)if(s={context:s,memoizedValue:u,next:null},Hu===null){if(Hh===null)throw Error(n(308));Hu=s,Hh.dependencies={lanes:0,firstContext:s}}else Hu=Hu.next=s;return u}var Ts=null;function fv(s){Ts===null?Ts=[s]:Ts.push(s)}function bA(s,u,d,g){var b=u.interleaved;return b===null?(d.next=d,fv(u)):(d.next=b.next,b.next=d),u.interleaved=d,_o(s,g)}function _o(s,u){s.lanes|=u;var d=s.alternate;for(d!==null&&(d.lanes|=u),d=s,s=s.return;s!==null;)s.childLanes|=u,d=s.alternate,d!==null&&(d.childLanes|=u),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ha=!1;function dv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EA(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wo(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function pa(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,ot&2){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,_o(s,d)}return b=g.interleaved,b===null?(u.next=u,fv(g)):(u.next=b.next,b.next=u),g.interleaved=u,_o(s,d)}function Gh(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,ra(s,d)}}function xA(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?b=T=$:T=T.next=$,d=d.next}while(d!==null);T===null?b=T=u:T=T.next=u}else b=T=u;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}function Kh(s,u,d,g){var b=s.updateQueue;ha=!1;var T=b.firstBaseUpdate,$=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var H=q,oe=H.next;H.next=null,$===null?T=oe:$.next=oe,$=H;var me=s.alternate;me!==null&&(me=me.updateQueue,q=me.lastBaseUpdate,q!==$&&(q===null?me.firstBaseUpdate=oe:q.next=oe,me.lastBaseUpdate=H))}if(T!==null){var ge=b.baseState;$=0,me=oe=H=null,q=T;do{var pe=q.lane,Ee=q.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,Re=q;switch(pe=u,Ee=d,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ge=Oe.call(Ee,ge,pe);break e}ge=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,pe=typeof Oe=="function"?Oe.call(Ee,ge,pe):Oe,pe==null)break e;ge=ne({},ge,pe);break e;case 2:ha=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,pe=b.effects,pe===null?b.effects=[q]:pe.push(q))}else Ee={eventTime:Ee,lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},me===null?(oe=me=Ee,H=ge):me=me.next=Ee,$|=pe;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;pe=q,q=pe.next,pe.next=null,b.lastBaseUpdate=pe,b.shared.pending=null}}while(!0);if(me===null&&(H=ge),b.baseState=H,b.firstBaseUpdate=oe,b.lastBaseUpdate=me,u=b.shared.interleaved,u!==null){b=u;do $|=b.lane,b=b.next;while(b!==u)}else T===null&&(b.shared.lanes=0);Is|=$,s.lanes=$,s.memoizedState=ge}}function SA(s,u,d){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var g=s[u],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var Wc={},Wi=ca(Wc),Hc=ca(Wc),Gc=ca(Wc);function As(s){if(s===Wc)throw Error(n(174));return s}function hv(s,u){switch(xt(Gc,u),xt(Hc,s),xt(Wi,Wc),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:on(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=on(u,s)}It(Wi),xt(Wi,u)}function Ku(){It(Wi),It(Hc),It(Gc)}function TA(s){As(Gc.current);var u=As(Wi.current),d=on(u,s.type);u!==d&&(xt(Hc,s),xt(Wi,d))}function pv(s){Hc.current===s&&(It(Wi),It(Hc))}var Dt=ca(0);function Yh(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mv=[];function gv(){for(var s=0;s<mv.length;s++)mv[s]._workInProgressVersionPrimary=null;mv.length=0}var Xh=D.ReactCurrentDispatcher,yv=D.ReactCurrentBatchConfig,Ps=0,Lt=null,sn=null,gn=null,Qh=!1,Kc=!1,Yc=0,lU=0;function Ln(){throw Error(n(321))}function vv(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!di(s[d],u[d]))return!1;return!0}function _v(s,u,d,g,b,T){if(Ps=T,Lt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Xh.current=s===null||s.memoizedState===null?hU:pU,s=d(g,b),Kc){T=0;do{if(Kc=!1,Yc=0,25<=T)throw Error(n(301));T+=1,gn=sn=null,u.updateQueue=null,Xh.current=mU,s=d(g,b)}while(Kc)}if(Xh.current=ep,u=sn!==null&&sn.next!==null,Ps=0,gn=sn=Lt=null,Qh=!1,u)throw Error(n(300));return s}function wv(){var s=Yc!==0;return Yc=0,s}function Hi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Lt.memoizedState=gn=s:gn=gn.next=s,gn}function Fr(){if(sn===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=sn.next;var u=gn===null?Lt.memoizedState:gn.next;if(u!==null)gn=u,sn=s;else{if(s===null)throw Error(n(310));sn=s,s={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?Lt.memoizedState=gn=s:gn=gn.next=s}return gn}function Xc(s,u){return typeof u=="function"?u(s):u}function bv(s){var u=Fr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=sn,b=g.baseQueue,T=d.pending;if(T!==null){if(b!==null){var $=b.next;b.next=T.next,T.next=$}g.baseQueue=b=T,d.pending=null}if(b!==null){T=b.next,g=g.baseState;var q=$=null,H=null,oe=T;do{var me=oe.lane;if((Ps&me)===me)H!==null&&(H=H.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:s(g,oe.action);else{var ge={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};H===null?(q=H=ge,$=g):H=H.next=ge,Lt.lanes|=me,Is|=me}oe=oe.next}while(oe!==null&&oe!==T);H===null?$=g:H.next=q,di(g,u.memoizedState)||(sr=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=H,d.lastRenderedState=g}if(s=d.interleaved,s!==null){b=s;do T=b.lane,Lt.lanes|=T,Is|=T,b=b.next;while(b!==s)}else b===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Ev(s){var u=Fr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,b=d.pending,T=u.memoizedState;if(b!==null){d.pending=null;var $=b=b.next;do T=s(T,$.action),$=$.next;while($!==b);di(T,u.memoizedState)||(sr=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,g]}function AA(){}function PA(s,u){var d=Lt,g=Fr(),b=u(),T=!di(g.memoizedState,b);if(T&&(g.memoizedState=b,sr=!0),g=g.queue,xv(OA.bind(null,d,g,s),[s]),g.getSnapshot!==u||T||gn!==null&&gn.memoizedState.tag&1){if(d.flags|=2048,Qc(9,CA.bind(null,d,g,b,u),void 0,null),yn===null)throw Error(n(349));Ps&30||IA(d,u,b)}return b}function IA(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function CA(s,u,d,g){u.value=d,u.getSnapshot=g,RA(u)&&kA(s)}function OA(s,u,d){return d(function(){RA(u)&&kA(s)})}function RA(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!di(s,d)}catch{return!0}}function kA(s){var u=_o(s,1);u!==null&&yi(u,s,1,-1)}function NA(s){var u=Hi();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:s},u.queue=s,s=s.dispatch=dU.bind(null,Lt,s),[u.memoizedState,s]}function Qc(s,u,d,g){return s={tag:s,create:u,destroy:d,deps:g,next:null},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.lastEffect=s.next=s):(d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s)),s}function jA(){return Fr().memoizedState}function Jh(s,u,d,g){var b=Hi();Lt.flags|=s,b.memoizedState=Qc(1|u,d,void 0,g===void 0?null:g)}function Zh(s,u,d,g){var b=Fr();g=g===void 0?null:g;var T=void 0;if(sn!==null){var $=sn.memoizedState;if(T=$.destroy,g!==null&&vv(g,$.deps)){b.memoizedState=Qc(u,d,T,g);return}}Lt.flags|=s,b.memoizedState=Qc(1|u,d,T,g)}function MA(s,u){return Jh(8390656,8,s,u)}function xv(s,u){return Zh(2048,8,s,u)}function DA(s,u){return Zh(4,2,s,u)}function LA(s,u){return Zh(4,4,s,u)}function $A(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function FA(s,u,d){return d=d!=null?d.concat([s]):null,Zh(4,4,$A.bind(null,u,s),d)}function Sv(){}function VA(s,u){var d=Fr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&vv(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function UA(s,u){var d=Fr();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&vv(u,g[1])?g[0]:(s=s(),d.memoizedState=[s,u],s)}function BA(s,u,d){return Ps&21?(di(d,u)||(d=gs(),Lt.lanes|=d,Is|=d,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=d)}function cU(s,u){var d=et;et=d!==0&&4>d?d:4,s(!0);var g=yv.transition;yv.transition={};try{s(!1),u()}finally{et=d,yv.transition=g}}function qA(){return Fr().memoizedState}function fU(s,u,d){var g=va(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},zA(s))WA(u,d);else if(d=bA(s,u,d,g),d!==null){var b=Yn();yi(d,s,g,b),HA(d,u,g)}}function dU(s,u,d){var g=va(s),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(zA(s))WA(u,b);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var $=u.lastRenderedState,q=T($,d);if(b.hasEagerState=!0,b.eagerState=q,di(q,$)){var H=u.interleaved;H===null?(b.next=b,fv(u)):(b.next=H.next,H.next=b),u.interleaved=b;return}}catch{}finally{}d=bA(s,u,b,g),d!==null&&(b=Yn(),yi(d,s,g,b),HA(d,u,g))}}function zA(s){var u=s.alternate;return s===Lt||u!==null&&u===Lt}function WA(s,u){Kc=Qh=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function HA(s,u,d){if(d&4194240){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,ra(s,d)}}var ep={readContext:$r,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},hU={readContext:$r,useCallback:function(s,u){return Hi().memoizedState=[s,u===void 0?null:u],s},useContext:$r,useEffect:MA,useImperativeHandle:function(s,u,d){return d=d!=null?d.concat([s]):null,Jh(4194308,4,$A.bind(null,u,s),d)},useLayoutEffect:function(s,u){return Jh(4194308,4,s,u)},useInsertionEffect:function(s,u){return Jh(4,2,s,u)},useMemo:function(s,u){var d=Hi();return u=u===void 0?null:u,s=s(),d.memoizedState=[s,u],s},useReducer:function(s,u,d){var g=Hi();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},g.queue=s,s=s.dispatch=fU.bind(null,Lt,s),[g.memoizedState,s]},useRef:function(s){var u=Hi();return s={current:s},u.memoizedState=s},useState:NA,useDebugValue:Sv,useDeferredValue:function(s){return Hi().memoizedState=s},useTransition:function(){var s=NA(!1),u=s[0];return s=cU.bind(null,s[1]),Hi().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,d){var g=Lt,b=Hi();if(kt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),yn===null)throw Error(n(349));Ps&30||IA(g,u,d)}b.memoizedState=d;var T={value:d,getSnapshot:u};return b.queue=T,MA(OA.bind(null,g,T,s),[s]),g.flags|=2048,Qc(9,CA.bind(null,g,T,d,u),void 0,null),d},useId:function(){var s=Hi(),u=yn.identifierPrefix;if(kt){var d=vo,g=yo;d=(g&~(1<<32-Hn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=Yc++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=lU++,u=":"+u+"r"+d.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},pU={readContext:$r,useCallback:VA,useContext:$r,useEffect:xv,useImperativeHandle:FA,useInsertionEffect:DA,useLayoutEffect:LA,useMemo:UA,useReducer:bv,useRef:jA,useState:function(){return bv(Xc)},useDebugValue:Sv,useDeferredValue:function(s){var u=Fr();return BA(u,sn.memoizedState,s)},useTransition:function(){var s=bv(Xc)[0],u=Fr().memoizedState;return[s,u]},useMutableSource:AA,useSyncExternalStore:PA,useId:qA,unstable_isNewReconciler:!1},mU={readContext:$r,useCallback:VA,useContext:$r,useEffect:xv,useImperativeHandle:FA,useInsertionEffect:DA,useLayoutEffect:LA,useMemo:UA,useReducer:Ev,useRef:jA,useState:function(){return Ev(Xc)},useDebugValue:Sv,useDeferredValue:function(s){var u=Fr();return sn===null?u.memoizedState=s:BA(u,sn.memoizedState,s)},useTransition:function(){var s=Ev(Xc)[0],u=Fr().memoizedState;return[s,u]},useMutableSource:AA,useSyncExternalStore:PA,useId:qA,unstable_isNewReconciler:!1};function pi(s,u){if(s&&s.defaultProps){u=ne({},u),s=s.defaultProps;for(var d in s)u[d]===void 0&&(u[d]=s[d]);return u}return u}function Tv(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:ne({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var tp={isMounted:function(s){return(s=s._reactInternals)?oi(s)===s:!1},enqueueSetState:function(s,u,d){s=s._reactInternals;var g=Yn(),b=va(s),T=wo(g,b);T.payload=u,d!=null&&(T.callback=d),u=pa(s,T,b),u!==null&&(yi(u,s,b,g),Gh(u,s,b))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=Yn(),b=va(s),T=wo(g,b);T.tag=1,T.payload=u,d!=null&&(T.callback=d),u=pa(s,T,b),u!==null&&(yi(u,s,b,g),Gh(u,s,b))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Yn(),g=va(s),b=wo(d,g);b.tag=2,u!=null&&(b.callback=u),u=pa(s,b,g),u!==null&&(yi(u,s,g,d),Gh(u,s,g))}};function GA(s,u,d,g,b,T,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,$):u.prototype&&u.prototype.isPureReactComponent?!Lc(d,g)||!Lc(b,T):!0}function KA(s,u,d){var g=!1,b=fa,T=u.contextType;return typeof T=="object"&&T!==null?T=$r(T):(b=ar(u)?Es:Dn.current,g=u.contextTypes,T=(g=g!=null)?Uu(s,b):fa),u=new u(d,T),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=tp,s.stateNode=u,u._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=T),u}function YA(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&tp.enqueueReplaceState(u,u.state,null)}function Av(s,u,d,g){var b=s.stateNode;b.props=d,b.state=s.memoizedState,b.refs={},dv(s);var T=u.contextType;typeof T=="object"&&T!==null?b.context=$r(T):(T=ar(u)?Es:Dn.current,b.context=Uu(s,T)),b.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Tv(s,u,T,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&tp.enqueueReplaceState(b,b.state,null),Kh(s,d,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Yu(s,u){try{var d="",g=u;do d+=Ce(g),g=g.return;while(g);var b=d}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:u,stack:b,digest:null}}function Pv(s,u,d){return{value:s,source:null,stack:d??null,digest:u??null}}function Iv(s,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var gU=typeof WeakMap=="function"?WeakMap:Map;function XA(s,u,d){d=wo(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){up||(up=!0,qv=g),Iv(s,u)},d}function QA(s,u,d){d=wo(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;d.payload=function(){return g(b)},d.callback=function(){Iv(s,u)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Iv(s,u),typeof g!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),d}function JA(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new gU;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(d)||(b.add(d),s=OU.bind(null,s,u,d),u.then(s,s))}function ZA(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function eP(s,u,d,g,b){return s.mode&1?(s.flags|=65536,s.lanes=b,s):(s===u?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=wo(-1,1),u.tag=2,pa(d,u,1))),d.lanes|=1),s)}var yU=D.ReactCurrentOwner,sr=!1;function Kn(s,u,d,g){u.child=s===null?wA(u,null,d,g):Wu(u,s.child,d,g)}function tP(s,u,d,g,b){d=d.render;var T=u.ref;return Gu(u,b),g=_v(s,u,d,g,T,b),d=wv(),s!==null&&!sr?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,bo(s,u,b)):(kt&&d&&nv(u),u.flags|=1,Kn(s,u,g,b),u.child)}function nP(s,u,d,g,b){if(s===null){var T=d.type;return typeof T=="function"&&!Xv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=T,rP(s,u,T,g,b)):(s=pp(d.type,null,g,u,u.mode,b),s.ref=u.ref,s.return=u,u.child=s)}if(T=s.child,!(s.lanes&b)){var $=T.memoizedProps;if(d=d.compare,d=d!==null?d:Lc,d($,g)&&s.ref===u.ref)return bo(s,u,b)}return u.flags|=1,s=wa(T,g),s.ref=u.ref,s.return=u,u.child=s}function rP(s,u,d,g,b){if(s!==null){var T=s.memoizedProps;if(Lc(T,g)&&s.ref===u.ref)if(sr=!1,u.pendingProps=g=T,(s.lanes&b)!==0)s.flags&131072&&(sr=!0);else return u.lanes=s.lanes,bo(s,u,b)}return Cv(s,u,d,g,b)}function iP(s,u,d){var g=u.pendingProps,b=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Qu,Sr),Sr|=d;else{if(!(d&1073741824))return s=T!==null?T.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,xt(Qu,Sr),Sr|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,xt(Qu,Sr),Sr|=g}else T!==null?(g=T.baseLanes|d,u.memoizedState=null):g=d,xt(Qu,Sr),Sr|=g;return Kn(s,u,b,d),u.child}function oP(s,u){var d=u.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Cv(s,u,d,g,b){var T=ar(d)?Es:Dn.current;return T=Uu(u,T),Gu(u,b),d=_v(s,u,d,g,T,b),g=wv(),s!==null&&!sr?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,bo(s,u,b)):(kt&&g&&nv(u),u.flags|=1,Kn(s,u,d,b),u.child)}function aP(s,u,d,g,b){if(ar(d)){var T=!0;Fh(u)}else T=!1;if(Gu(u,b),u.stateNode===null)rp(s,u),KA(u,d,g),Av(u,d,g,b),g=!0;else if(s===null){var $=u.stateNode,q=u.memoizedProps;$.props=q;var H=$.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=$r(oe):(oe=ar(d)?Es:Dn.current,oe=Uu(u,oe));var me=d.getDerivedStateFromProps,ge=typeof me=="function"||typeof $.getSnapshotBeforeUpdate=="function";ge||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==g||H!==oe)&&YA(u,$,g,oe),ha=!1;var pe=u.memoizedState;$.state=pe,Kh(u,g,$,b),H=u.memoizedState,q!==g||pe!==H||or.current||ha?(typeof me=="function"&&(Tv(u,d,me,g),H=u.memoizedState),(q=ha||GA(u,d,q,g,pe,H,oe))?(ge||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=H),$.props=g,$.state=H,$.context=oe,g=q):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,EA(s,u),q=u.memoizedProps,oe=u.type===u.elementType?q:pi(u.type,q),$.props=oe,ge=u.pendingProps,pe=$.context,H=d.contextType,typeof H=="object"&&H!==null?H=$r(H):(H=ar(d)?Es:Dn.current,H=Uu(u,H));var Ee=d.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==ge||pe!==H)&&YA(u,$,g,H),ha=!1,pe=u.memoizedState,$.state=pe,Kh(u,g,$,b);var Oe=u.memoizedState;q!==ge||pe!==Oe||or.current||ha?(typeof Ee=="function"&&(Tv(u,d,Ee,g),Oe=u.memoizedState),(oe=ha||GA(u,d,oe,g,pe,Oe,H)||!1)?(me||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Oe,H),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Oe,H)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Oe),$.props=g,$.state=Oe,$.context=H,g=oe):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),g=!1)}return Ov(s,u,d,g,T,b)}function Ov(s,u,d,g,b,T){oP(s,u);var $=(u.flags&128)!==0;if(!g&&!$)return b&&fA(u,d,!1),bo(s,u,T);g=u.stateNode,yU.current=u;var q=$&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,s!==null&&$?(u.child=Wu(u,s.child,null,T),u.child=Wu(u,null,q,T)):Kn(s,u,q,T),u.memoizedState=g.state,b&&fA(u,d,!0),u.child}function sP(s){var u=s.stateNode;u.pendingContext?lA(s,u.pendingContext,u.pendingContext!==u.context):u.context&&lA(s,u.context,!1),hv(s,u.containerInfo)}function uP(s,u,d,g,b){return zu(),av(b),u.flags|=256,Kn(s,u,d,g),u.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function kv(s){return{baseLanes:s,cachePool:null,transitions:null}}function lP(s,u,d){var g=u.pendingProps,b=Dt.current,T=!1,$=(u.flags&128)!==0,q;if((q=$)||(q=s!==null&&s.memoizedState===null?!1:(b&2)!==0),q?(T=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),xt(Dt,b&1),s===null)return ov(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):($=g.children,s=g.fallback,T?(g=u.mode,T=u.child,$={mode:"hidden",children:$},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=$):T=mp($,g,0,null),s=ks(s,g,d,null),T.return=u,s.return=u,T.sibling=s,u.child=T,u.child.memoizedState=kv(d),u.memoizedState=Rv,s):Nv(u,$));if(b=s.memoizedState,b!==null&&(q=b.dehydrated,q!==null))return vU(s,u,$,g,q,b,d);if(T){T=g.fallback,$=u.mode,b=s.child,q=b.sibling;var H={mode:"hidden",children:g.children};return!($&1)&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=H,u.deletions=null):(g=wa(b,H),g.subtreeFlags=b.subtreeFlags&14680064),q!==null?T=wa(q,T):(T=ks(T,$,d,null),T.flags|=2),T.return=u,g.return=u,g.sibling=T,u.child=g,g=T,T=u.child,$=s.child.memoizedState,$=$===null?kv(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=s.childLanes&~d,u.memoizedState=Rv,g}return T=s.child,s=T.sibling,g=wa(T,{mode:"visible",children:g.children}),!(u.mode&1)&&(g.lanes=d),g.return=u,g.sibling=null,s!==null&&(d=u.deletions,d===null?(u.deletions=[s],u.flags|=16):d.push(s)),u.child=g,u.memoizedState=null,g}function Nv(s,u){return u=mp({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function np(s,u,d,g){return g!==null&&av(g),Wu(u,s.child,null,d),s=Nv(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function vU(s,u,d,g,b,T,$){if(d)return u.flags&256?(u.flags&=-257,g=Pv(Error(n(422))),np(s,u,$,g)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(T=g.fallback,b=u.mode,g=mp({mode:"visible",children:g.children},b,0,null),T=ks(T,b,$,null),T.flags|=2,g.return=u,T.return=u,g.sibling=T,u.child=g,u.mode&1&&Wu(u,s.child,null,$),u.child.memoizedState=kv($),u.memoizedState=Rv,T);if(!(u.mode&1))return np(s,u,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var q=g.dgst;return g=q,T=Error(n(419)),g=Pv(T,g,void 0),np(s,u,$,g)}if(q=($&s.childLanes)!==0,sr||q){if(g=yn,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(g.suspendedLanes|$)?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,_o(s,b),yi(g,s,b,-1))}return Yv(),g=Pv(Error(n(421))),np(s,u,$,g)}return b.data==="$?"?(u.flags|=128,u.child=s.child,u=RU.bind(null,s),b._reactRetry=u,null):(s=T.treeContext,xr=la(b.nextSibling),Er=u,kt=!0,hi=null,s!==null&&(Dr[Lr++]=yo,Dr[Lr++]=vo,Dr[Lr++]=xs,yo=s.id,vo=s.overflow,xs=u),u=Nv(u,g.children),u.flags|=4096,u)}function cP(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),cv(s.return,u,d)}function jv(s,u,d,g,b){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=b)}function fP(s,u,d){var g=u.pendingProps,b=g.revealOrder,T=g.tail;if(Kn(s,u,g.children,d),g=Dt.current,g&2)g=g&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&cP(s,d,u);else if(s.tag===19)cP(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(xt(Dt,g),!(u.mode&1))u.memoizedState=null;else switch(b){case"forwards":for(d=u.child,b=null;d!==null;)s=d.alternate,s!==null&&Yh(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=u.child,u.child=null):(b=d.sibling,d.sibling=null),jv(u,!1,b,d,T);break;case"backwards":for(d=null,b=u.child,u.child=null;b!==null;){if(s=b.alternate,s!==null&&Yh(s)===null){u.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}jv(u,!0,d,null,T);break;case"together":jv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function rp(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function bo(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Is|=u.lanes,!(d&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=wa(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=wa(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function _U(s,u,d){switch(u.tag){case 3:sP(u),zu();break;case 5:TA(u);break;case 1:ar(u.type)&&Fh(u);break;case 4:hv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;xt(Wh,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(xt(Dt,Dt.current&1),u.flags|=128,null):d&u.child.childLanes?lP(s,u,d):(xt(Dt,Dt.current&1),s=bo(s,u,d),s!==null?s.sibling:null);xt(Dt,Dt.current&1);break;case 19:if(g=(d&u.childLanes)!==0,s.flags&128){if(g)return fP(s,u,d);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),xt(Dt,Dt.current),g)break;return null;case 22:case 23:return u.lanes=0,iP(s,u,d)}return bo(s,u,d)}var dP,Mv,hP,pP;dP=function(s,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Mv=function(){},hP=function(s,u,d,g){var b=s.memoizedProps;if(b!==g){s=u.stateNode,As(Wi.current);var T=null;switch(d){case"input":b=je(s,b),g=je(s,g),T=[];break;case"select":b=ne({},b,{value:void 0}),g=ne({},g,{value:void 0}),T=[];break;case"textarea":b=yr(s,b),g=yr(s,g),T=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Dh)}vc(d,g);var $;d=null;for(oe in b)if(!g.hasOwnProperty(oe)&&b.hasOwnProperty(oe)&&b[oe]!=null)if(oe==="style"){var q=b[oe];for($ in q)q.hasOwnProperty($)&&(d||(d={}),d[$]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?T||(T=[]):(T=T||[]).push(oe,null));for(oe in g){var H=g[oe];if(q=b!=null?b[oe]:void 0,g.hasOwnProperty(oe)&&H!==q&&(H!=null||q!=null))if(oe==="style")if(q){for($ in q)!q.hasOwnProperty($)||H&&H.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in H)H.hasOwnProperty($)&&q[$]!==H[$]&&(d||(d={}),d[$]=H[$])}else d||(T||(T=[]),T.push(oe,d)),d=H;else oe==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(T=T||[]).push(oe,H)):oe==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(oe,""+H):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(H!=null&&oe==="onScroll"&&Pt("scroll",s),T||q===H||(T=[])):(T=T||[]).push(oe,H))}d&&(T=T||[]).push("style",d);var oe=T;(u.updateQueue=oe)&&(u.flags|=4)}},pP=function(s,u,d,g){d!==g&&(u.flags|=4)};function Jc(s,u){if(!kt)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function $n(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function wU(s,u,d){var g=u.pendingProps;switch(rv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(u),null;case 1:return ar(u.type)&&$h(),$n(u),null;case 3:return g=u.stateNode,Ku(),It(or),It(Dn),gv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(qh(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,hi!==null&&(Hv(hi),hi=null))),Mv(s,u),$n(u),null;case 5:pv(u);var b=As(Gc.current);if(d=u.type,s!==null&&u.stateNode!=null)hP(s,u,d,g,b),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return $n(u),null}if(s=As(Wi.current),qh(u)){g=u.stateNode,d=u.type;var T=u.memoizedProps;switch(g[zi]=u,g[Bc]=T,s=(u.mode&1)!==0,d){case"dialog":Pt("cancel",g),Pt("close",g);break;case"iframe":case"object":case"embed":Pt("load",g);break;case"video":case"audio":for(b=0;b<Fc.length;b++)Pt(Fc[b],g);break;case"source":Pt("error",g);break;case"img":case"image":case"link":Pt("error",g),Pt("load",g);break;case"details":Pt("toggle",g);break;case"input":ht(g,T),Pt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Pt("invalid",g);break;case"textarea":Di(g,T),Pt("invalid",g)}vc(d,T),b=null;for(var $ in T)if(T.hasOwnProperty($)){var q=T[$];$==="children"?typeof q=="string"?g.textContent!==q&&(T.suppressHydrationWarning!==!0&&Mh(g.textContent,q,s),b=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&Mh(g.textContent,q,s),b=["children",""+q]):i.hasOwnProperty($)&&q!=null&&$==="onScroll"&&Pt("scroll",g)}switch(d){case"input":Ae(g),mr(g,T,!0);break;case"textarea":Ae(g),Qo(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=Dh)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=rn(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(d,{is:g.is}):(s=$.createElement(d),d==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,d),s[zi]=u,s[Bc]=g,dP(s,u,!1,!1),u.stateNode=s;e:{switch($=_c(d,g),d){case"dialog":Pt("cancel",s),Pt("close",s),b=g;break;case"iframe":case"object":case"embed":Pt("load",s),b=g;break;case"video":case"audio":for(b=0;b<Fc.length;b++)Pt(Fc[b],s);b=g;break;case"source":Pt("error",s),b=g;break;case"img":case"image":case"link":Pt("error",s),Pt("load",s),b=g;break;case"details":Pt("toggle",s),b=g;break;case"input":ht(s,g),b=je(s,g),Pt("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=ne({},g,{value:void 0}),Pt("invalid",s);break;case"textarea":Di(s,g),b=yr(s,g),Pt("invalid",s);break;default:b=g}vc(d,b),q=b;for(T in q)if(q.hasOwnProperty(T)){var H=q[T];T==="style"?gc(s,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&pc(s,H)):T==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&Jo(s,H):typeof H=="number"&&Jo(s,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?H!=null&&T==="onScroll"&&Pt("scroll",s):H!=null&&N(s,T,H,$))}switch(d){case"input":Ae(s),mr(s,g,!1);break;case"textarea":Ae(s),Qo(s);break;case"option":g.value!=null&&s.setAttribute("value",""+he(g.value));break;case"select":s.multiple=!!g.multiple,T=g.value,T!=null?Sn(s,!!g.multiple,T,!1):g.defaultValue!=null&&Sn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Dh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return $n(u),null;case 6:if(s&&u.stateNode!=null)pP(s,u,s.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=As(Gc.current),As(Wi.current),qh(u)){if(g=u.stateNode,d=u.memoizedProps,g[zi]=u,(T=g.nodeValue!==d)&&(s=Er,s!==null))switch(s.tag){case 3:Mh(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mh(g.nodeValue,d,(s.mode&1)!==0)}T&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[zi]=u,u.stateNode=g}return $n(u),null;case 13:if(It(Dt),g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&xr!==null&&u.mode&1&&!(u.flags&128))yA(),zu(),u.flags|=98560,T=!1;else if(T=qh(u),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[zi]=u}else zu(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;$n(u),T=!1}else hi!==null&&(Hv(hi),hi=null),T=!0;if(!T)return u.flags&65536?u:null}return u.flags&128?(u.lanes=d,u):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(u.child.flags|=8192,u.mode&1&&(s===null||Dt.current&1?un===0&&(un=3):Yv())),u.updateQueue!==null&&(u.flags|=4),$n(u),null);case 4:return Ku(),Mv(s,u),s===null&&Vc(u.stateNode.containerInfo),$n(u),null;case 10:return lv(u.type._context),$n(u),null;case 17:return ar(u.type)&&$h(),$n(u),null;case 19:if(It(Dt),T=u.memoizedState,T===null)return $n(u),null;if(g=(u.flags&128)!==0,$=T.rendering,$===null)if(g)Jc(T,!1);else{if(un!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if($=Yh(s),$!==null){for(u.flags|=128,Jc(T,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)T=d,s=g,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,s=$.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return xt(Dt,Dt.current&1|2),u.child}s=s.sibling}T.tail!==null&&Et()>Ju&&(u.flags|=128,g=!0,Jc(T,!1),u.lanes=4194304)}else{if(!g)if(s=Yh($),s!==null){if(u.flags|=128,g=!0,d=s.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),Jc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!kt)return $n(u),null}else 2*Et()-T.renderingStartTime>Ju&&d!==1073741824&&(u.flags|=128,g=!0,Jc(T,!1),u.lanes=4194304);T.isBackwards?($.sibling=u.child,u.child=$):(d=T.last,d!==null?d.sibling=$:u.child=$,T.last=$)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Et(),u.sibling=null,d=Dt.current,xt(Dt,g?d&1|2:d&1),u):($n(u),null);case 22:case 23:return Kv(),g=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(u.flags|=8192),g&&u.mode&1?Sr&1073741824&&($n(u),u.subtreeFlags&6&&(u.flags|=8192)):$n(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function bU(s,u){switch(rv(u),u.tag){case 1:return ar(u.type)&&$h(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ku(),It(or),It(Dn),gv(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return pv(u),null;case 13:if(It(Dt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));zu()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return It(Dt),null;case 4:return Ku(),null;case 10:return lv(u.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var ip=!1,Fn=!1,EU=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Xu(s,u){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Bt(s,u,g)}else d.current=null}function Dv(s,u,d){try{d()}catch(g){Bt(s,u,g)}}var mP=!1;function xU(s,u){if(Ky=aa,s=GT(),Vy(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var $=0,q=-1,H=-1,oe=0,me=0,ge=s,pe=null;t:for(;;){for(var Ee;ge!==d||b!==0&&ge.nodeType!==3||(q=$+b),ge!==T||g!==0&&ge.nodeType!==3||(H=$+g),ge.nodeType===3&&($+=ge.nodeValue.length),(Ee=ge.firstChild)!==null;)pe=ge,ge=Ee;for(;;){if(ge===s)break t;if(pe===d&&++oe===b&&(q=$),pe===T&&++me===g&&(H=$),(Ee=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=Ee}d=q===-1||H===-1?null:{start:q,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Yy={focusedElem:s,selectionRange:d},aa=!1,Pe=u;Pe!==null;)if(u=Pe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Pe=s;else for(;Pe!==null;){u=Pe;try{var Oe=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,Kt=Oe.memoizedState,ee=u.stateNode,K=ee.getSnapshotBeforeUpdate(u.elementType===u.type?Re:pi(u.type,Re),Kt);ee.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var re=u.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Bt(u,u.return,ye)}if(s=u.sibling,s!==null){s.return=u.return,Pe=s;break}Pe=u.return}return Oe=mP,mP=!1,Oe}function Zc(s,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var T=b.destroy;b.destroy=void 0,T!==void 0&&Dv(u,d,T)}b=b.next}while(b!==g)}}function op(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function Lv(s){var u=s.ref;if(u!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof u=="function"?u(s):u.current=s}}function gP(s){var u=s.alternate;u!==null&&(s.alternate=null,gP(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[zi],delete u[Bc],delete u[Zy],delete u[oU],delete u[aU])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function yP(s){return s.tag===5||s.tag===3||s.tag===4}function vP(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $v(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(s,u):d.insertBefore(s,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(s,d)):(u=d,u.appendChild(s)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Dh));else if(g!==4&&(s=s.child,s!==null))for($v(s,u,d),s=s.sibling;s!==null;)$v(s,u,d),s=s.sibling}function Fv(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Fv(s,u,d),s=s.sibling;s!==null;)Fv(s,u,d),s=s.sibling}var Pn=null,mi=!1;function ma(s,u,d){for(d=d.child;d!==null;)_P(s,u,d),d=d.sibling}function _P(s,u,d){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(ps,d)}catch{}switch(d.tag){case 5:Fn||Xu(d,u);case 6:var g=Pn,b=mi;Pn=null,ma(s,u,d),Pn=g,mi=b,Pn!==null&&(mi?(s=Pn,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Pn.removeChild(d.stateNode));break;case 18:Pn!==null&&(mi?(s=Pn,d=d.stateNode,s.nodeType===8?Jy(s.parentNode,d):s.nodeType===1&&Jy(s,d),ci(s)):Jy(Pn,d.stateNode));break;case 4:g=Pn,b=mi,Pn=d.stateNode.containerInfo,mi=!0,ma(s,u,d),Pn=g,mi=b;break;case 0:case 11:case 14:case 15:if(!Fn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var T=b,$=T.destroy;T=T.tag,$!==void 0&&(T&2||T&4)&&Dv(d,u,$),b=b.next}while(b!==g)}ma(s,u,d);break;case 1:if(!Fn&&(Xu(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(q){Bt(d,u,q)}ma(s,u,d);break;case 21:ma(s,u,d);break;case 22:d.mode&1?(Fn=(g=Fn)||d.memoizedState!==null,ma(s,u,d),Fn=g):ma(s,u,d);break;default:ma(s,u,d)}}function wP(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new EU),u.forEach(function(g){var b=kU.bind(null,s,g);d.has(g)||(d.add(g),g.then(b,b))})}}function gi(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var T=s,$=u,q=$;e:for(;q!==null;){switch(q.tag){case 5:Pn=q.stateNode,mi=!1;break e;case 3:Pn=q.stateNode.containerInfo,mi=!0;break e;case 4:Pn=q.stateNode.containerInfo,mi=!0;break e}q=q.return}if(Pn===null)throw Error(n(160));_P(T,$,b),Pn=null,mi=!1;var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(oe){Bt(b,u,oe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)bP(u,s),u=u.sibling}function bP(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gi(u,s),Gi(s),g&4){try{Zc(3,s,s.return),op(3,s)}catch(Re){Bt(s,s.return,Re)}try{Zc(5,s,s.return)}catch(Re){Bt(s,s.return,Re)}}break;case 1:gi(u,s),Gi(s),g&512&&d!==null&&Xu(d,d.return);break;case 5:if(gi(u,s),Gi(s),g&512&&d!==null&&Xu(d,d.return),s.flags&32){var b=s.stateNode;try{Jo(b,"")}catch(Re){Bt(s,s.return,Re)}}if(g&4&&(b=s.stateNode,b!=null)){var T=s.memoizedProps,$=d!==null?d.memoizedProps:T,q=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&_t(b,T),_c(q,$);var oe=_c(q,T);for($=0;$<H.length;$+=2){var me=H[$],ge=H[$+1];me==="style"?gc(b,ge):me==="dangerouslySetInnerHTML"?pc(b,ge):me==="children"?Jo(b,ge):N(b,me,ge,oe)}switch(q){case"input":Ut(b,T);break;case"textarea":ao(b,T);break;case"select":var pe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?Sn(b,!!T.multiple,Ee,!1):pe!==!!T.multiple&&(T.defaultValue!=null?Sn(b,!!T.multiple,T.defaultValue,!0):Sn(b,!!T.multiple,T.multiple?[]:"",!1))}b[Bc]=T}catch(Re){Bt(s,s.return,Re)}}break;case 6:if(gi(u,s),Gi(s),g&4){if(s.stateNode===null)throw Error(n(162));b=s.stateNode,T=s.memoizedProps;try{b.nodeValue=T}catch(Re){Bt(s,s.return,Re)}}break;case 3:if(gi(u,s),Gi(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ci(u.containerInfo)}catch(Re){Bt(s,s.return,Re)}break;case 4:gi(u,s),Gi(s);break;case 13:gi(u,s),Gi(s),b=s.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(Bv=Et())),g&4&&wP(s);break;case 22:if(me=d!==null&&d.memoizedState!==null,s.mode&1?(Fn=(oe=Fn)||me,gi(u,s),Fn=oe):gi(u,s),Gi(s),g&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!me&&s.mode&1)for(Pe=s,me=s.child;me!==null;){for(ge=Pe=me;Pe!==null;){switch(pe=Pe,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:Zc(4,pe,pe.return);break;case 1:Xu(pe,pe.return);var Oe=pe.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=pe,d=pe.return;try{u=g,Oe.props=u.memoizedProps,Oe.state=u.memoizedState,Oe.componentWillUnmount()}catch(Re){Bt(g,d,Re)}}break;case 5:Xu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){SP(ge);continue}}Ee!==null?(Ee.return=pe,Pe=Ee):SP(ge)}me=me.sibling}e:for(me=null,ge=s;;){if(ge.tag===5){if(me===null){me=ge;try{b=ge.stateNode,oe?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=ge.stateNode,H=ge.memoizedProps.style,$=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=mc("display",$))}catch(Re){Bt(s,s.return,Re)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(Re){Bt(s,s.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:gi(u,s),Gi(s),g&4&&wP(s);break;case 21:break;default:gi(u,s),Gi(s)}}function Gi(s){var u=s.flags;if(u&2){try{e:{for(var d=s.return;d!==null;){if(yP(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Jo(b,""),g.flags&=-33);var T=vP(s);Fv(s,T,b);break;case 3:case 4:var $=g.stateNode.containerInfo,q=vP(s);$v(s,q,$);break;default:throw Error(n(161))}}catch(H){Bt(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function SU(s,u,d){Pe=s,EP(s)}function EP(s,u,d){for(var g=(s.mode&1)!==0;Pe!==null;){var b=Pe,T=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||ip;if(!$){var q=b.alternate,H=q!==null&&q.memoizedState!==null||Fn;q=ip;var oe=Fn;if(ip=$,(Fn=H)&&!oe)for(Pe=b;Pe!==null;)$=Pe,H=$.child,$.tag===22&&$.memoizedState!==null?TP(b):H!==null?(H.return=$,Pe=H):TP(b);for(;T!==null;)Pe=T,EP(T),T=T.sibling;Pe=b,ip=q,Fn=oe}xP(s)}else b.subtreeFlags&8772&&T!==null?(T.return=b,Pe=T):xP(s)}}function xP(s){for(;Pe!==null;){var u=Pe;if(u.flags&8772){var d=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Fn||op(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Fn)if(d===null)g.componentDidMount();else{var b=u.elementType===u.type?d.memoizedProps:pi(u.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&SA(u,T,g);break;case 3:var $=u.updateQueue;if($!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}SA(u,$,d)}break;case 5:var q=u.stateNode;if(d===null&&u.flags&4){d=q;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var oe=u.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&ci(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fn||u.flags&512&&Lv(u)}catch(pe){Bt(u,u.return,pe)}}if(u===s){Pe=null;break}if(d=u.sibling,d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function SP(s){for(;Pe!==null;){var u=Pe;if(u===s){Pe=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function TP(s){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{op(4,u)}catch(H){Bt(u,d,H)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(H){Bt(u,b,H)}}var T=u.return;try{Lv(u)}catch(H){Bt(u,T,H)}break;case 5:var $=u.return;try{Lv(u)}catch(H){Bt(u,$,H)}}}catch(H){Bt(u,u.return,H)}if(u===s){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var TU=Math.ceil,ap=D.ReactCurrentDispatcher,Vv=D.ReactCurrentOwner,Vr=D.ReactCurrentBatchConfig,ot=0,yn=null,Jt=null,In=0,Sr=0,Qu=ca(0),un=0,ef=null,Is=0,sp=0,Uv=0,tf=null,ur=null,Bv=0,Ju=1/0,Eo=null,up=!1,qv=null,ga=null,lp=!1,ya=null,cp=0,nf=0,zv=null,fp=-1,dp=0;function Yn(){return ot&6?Et():fp!==-1?fp:fp=Et()}function va(s){return s.mode&1?ot&2&&In!==0?In&-In:uU.transition!==null?(dp===0&&(dp=gs()),dp):(s=et,s!==0||(s=window.event,s=s===void 0?16:Oc(s.type)),s):1}function yi(s,u,d,g){if(50<nf)throw nf=0,zv=null,Error(n(185));na(s,d,g),(!(ot&2)||s!==yn)&&(s===yn&&(!(ot&2)&&(sp|=d),un===4&&_a(s,In)),lr(s,g),d===1&&ot===0&&!(u.mode&1)&&(Ju=Et()+500,Vh&&da()))}function lr(s,u){var d=s.callbackNode;lo(s,u);var g=ms(s,s===yn?In:0);if(g===0)d!==null&&Tc(d),s.callbackNode=null,s.callbackPriority=0;else if(u=g&-g,s.callbackPriority!==u){if(d!=null&&Tc(d),u===1)s.tag===0?sU(PP.bind(null,s)):dA(PP.bind(null,s)),rU(function(){!(ot&6)&&da()}),d=null;else{switch(ia(g)){case 1:d=hs;break;case 4:d=Zo;break;case 16:d=Nr;break;case 536870912:d=dh;break;default:d=Nr}d=MP(d,AP.bind(null,s))}s.callbackPriority=u,s.callbackNode=d}}function AP(s,u){if(fp=-1,dp=0,ot&6)throw Error(n(327));var d=s.callbackNode;if(Zu()&&s.callbackNode!==d)return null;var g=ms(s,s===yn?In:0);if(g===0)return null;if(g&30||g&s.expiredLanes||u)u=hp(s,g);else{u=g;var b=ot;ot|=2;var T=CP();(yn!==s||In!==u)&&(Eo=null,Ju=Et()+500,Os(s,u));do try{IU();break}catch(q){IP(s,q)}while(!0);uv(),ap.current=T,ot=b,Jt!==null?u=0:(yn=null,In=0,u=un)}if(u!==0){if(u===2&&(b=_r(s),b!==0&&(g=b,u=Wv(s,b))),u===1)throw d=ef,Os(s,0),_a(s,g),lr(s,Et()),d;if(u===6)_a(s,g);else{if(b=s.current.alternate,!(g&30)&&!AU(b)&&(u=hp(s,g),u===2&&(T=_r(s),T!==0&&(g=T,u=Wv(s,T))),u===1))throw d=ef,Os(s,0),_a(s,g),lr(s,Et()),d;switch(s.finishedWork=b,s.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Rs(s,ur,Eo);break;case 3:if(_a(s,g),(g&130023424)===g&&(u=Bv+500-Et(),10<u)){if(ms(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Yn(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Qy(Rs.bind(null,s,ur,Eo),u);break}Rs(s,ur,Eo);break;case 4:if(_a(s,g),(g&4194240)===g)break;for(u=s.eventTimes,b=-1;0<g;){var $=31-Hn(g);T=1<<$,$=u[$],$>b&&(b=$),g&=~T}if(g=b,g=Et()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*TU(g/1960))-g,10<g){s.timeoutHandle=Qy(Rs.bind(null,s,ur,Eo),g);break}Rs(s,ur,Eo);break;case 5:Rs(s,ur,Eo);break;default:throw Error(n(329))}}}return lr(s,Et()),s.callbackNode===d?AP.bind(null,s):null}function Wv(s,u){var d=tf;return s.current.memoizedState.isDehydrated&&(Os(s,u).flags|=256),s=hp(s,u),s!==2&&(u=ur,ur=d,u!==null&&Hv(u)),s}function Hv(s){ur===null?ur=s:ur.push.apply(ur,s)}function AU(s){for(var u=s;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],T=b.getSnapshot;b=b.value;try{if(!di(T(),b))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _a(s,u){for(u&=~Uv,u&=~sp,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var d=31-Hn(u),g=1<<d;s[d]=-1,u&=~g}}function PP(s){if(ot&6)throw Error(n(327));Zu();var u=ms(s,0);if(!(u&1))return lr(s,Et()),null;var d=hp(s,u);if(s.tag!==0&&d===2){var g=_r(s);g!==0&&(u=g,d=Wv(s,g))}if(d===1)throw d=ef,Os(s,0),_a(s,u),lr(s,Et()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Rs(s,ur,Eo),lr(s,Et()),null}function Gv(s,u){var d=ot;ot|=1;try{return s(u)}finally{ot=d,ot===0&&(Ju=Et()+500,Vh&&da())}}function Cs(s){ya!==null&&ya.tag===0&&!(ot&6)&&Zu();var u=ot;ot|=1;var d=Vr.transition,g=et;try{if(Vr.transition=null,et=1,s)return s()}finally{et=g,Vr.transition=d,ot=u,!(ot&6)&&da()}}function Kv(){Sr=Qu.current,It(Qu)}function Os(s,u){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,nU(d)),Jt!==null)for(d=Jt.return;d!==null;){var g=d;switch(rv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$h();break;case 3:Ku(),It(or),It(Dn),gv();break;case 5:pv(g);break;case 4:Ku();break;case 13:It(Dt);break;case 19:It(Dt);break;case 10:lv(g.type._context);break;case 22:case 23:Kv()}d=d.return}if(yn=s,Jt=s=wa(s.current,null),In=Sr=u,un=0,ef=null,Uv=sp=Is=0,ur=tf=null,Ts!==null){for(u=0;u<Ts.length;u++)if(d=Ts[u],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,T=d.pending;if(T!==null){var $=T.next;T.next=b,g.next=$}d.pending=g}Ts=null}return s}function IP(s,u){do{var d=Jt;try{if(uv(),Xh.current=ep,Qh){for(var g=Lt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Qh=!1}if(Ps=0,gn=sn=Lt=null,Kc=!1,Yc=0,Vv.current=null,d===null||d.return===null){un=1,ef=u,Jt=null;break}e:{var T=s,$=d.return,q=d,H=u;if(u=In,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=H,me=q,ge=me.tag;if(!(me.mode&1)&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=ZA($);if(Ee!==null){Ee.flags&=-257,eP(Ee,$,q,T,u),Ee.mode&1&&JA(T,oe,u),u=Ee,H=oe;var Oe=u.updateQueue;if(Oe===null){var Re=new Set;Re.add(H),u.updateQueue=Re}else Oe.add(H);break e}else{if(!(u&1)){JA(T,oe,u),Yv();break e}H=Error(n(426))}}else if(kt&&q.mode&1){var Kt=ZA($);if(Kt!==null){!(Kt.flags&65536)&&(Kt.flags|=256),eP(Kt,$,q,T,u),av(Yu(H,q));break e}}T=H=Yu(H,q),un!==4&&(un=2),tf===null?tf=[T]:tf.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ee=XA(T,H,u);xA(T,ee);break e;case 1:q=H;var K=T.type,re=T.stateNode;if(!(T.flags&128)&&(typeof K.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ga===null||!ga.has(re)))){T.flags|=65536,u&=-u,T.lanes|=u;var ye=QA(T,q,u);xA(T,ye);break e}}T=T.return}while(T!==null)}RP(d)}catch(ke){u=ke,Jt===d&&d!==null&&(Jt=d=d.return);continue}break}while(!0)}function CP(){var s=ap.current;return ap.current=ep,s===null?ep:s}function Yv(){(un===0||un===3||un===2)&&(un=4),yn===null||!(Is&268435455)&&!(sp&268435455)||_a(yn,In)}function hp(s,u){var d=ot;ot|=2;var g=CP();(yn!==s||In!==u)&&(Eo=null,Os(s,u));do try{PU();break}catch(b){IP(s,b)}while(!0);if(uv(),ot=d,ap.current=g,Jt!==null)throw Error(n(261));return yn=null,In=0,un}function PU(){for(;Jt!==null;)OP(Jt)}function IU(){for(;Jt!==null&&!ch();)OP(Jt)}function OP(s){var u=jP(s.alternate,s,Sr);s.memoizedProps=s.pendingProps,u===null?RP(s):Jt=u,Vv.current=null}function RP(s){var u=s;do{var d=u.alternate;if(s=u.return,u.flags&32768){if(d=bU(d,u),d!==null){d.flags&=32767,Jt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{un=6,Jt=null;return}}else if(d=wU(d,u,Sr),d!==null){Jt=d;return}if(u=u.sibling,u!==null){Jt=u;return}Jt=u=s}while(u!==null);un===0&&(un=5)}function Rs(s,u,d){var g=et,b=Vr.transition;try{Vr.transition=null,et=1,CU(s,u,d,g)}finally{Vr.transition=b,et=g}return null}function CU(s,u,d,g){do Zu();while(ya!==null);if(ot&6)throw Error(n(327));d=s.finishedWork;var b=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=d.lanes|d.childLanes;if(wt(s,T),s===yn&&(Jt=yn=null,In=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||lp||(lp=!0,MP(Nr,function(){return Zu(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Vr.transition,Vr.transition=null;var $=et;et=1;var q=ot;ot|=4,Vv.current=null,xU(s,d),bP(d,s),Y4(Yy),aa=!!Ky,Yy=Ky=null,s.current=d,SU(d),ky(),ot=q,et=$,Vr.transition=T}else s.current=d;if(lp&&(lp=!1,ya=s,cp=b),T=s.pendingLanes,T===0&&(ga=null),hh(d.stateNode),lr(s,Et()),u!==null)for(g=s.onRecoverableError,d=0;d<u.length;d++)b=u[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(up)throw up=!1,s=qv,qv=null,s;return cp&1&&s.tag!==0&&Zu(),T=s.pendingLanes,T&1?s===zv?nf++:(nf=0,zv=s):nf=0,da(),null}function Zu(){if(ya!==null){var s=ia(cp),u=Vr.transition,d=et;try{if(Vr.transition=null,et=16>s?16:s,ya===null)var g=!1;else{if(s=ya,ya=null,cp=0,ot&6)throw Error(n(331));var b=ot;for(ot|=4,Pe=s.current;Pe!==null;){var T=Pe,$=T.child;if(Pe.flags&16){var q=T.deletions;if(q!==null){for(var H=0;H<q.length;H++){var oe=q[H];for(Pe=oe;Pe!==null;){var me=Pe;switch(me.tag){case 0:case 11:case 15:Zc(8,me,T)}var ge=me.child;if(ge!==null)ge.return=me,Pe=ge;else for(;Pe!==null;){me=Pe;var pe=me.sibling,Ee=me.return;if(gP(me),me===oe){Pe=null;break}if(pe!==null){pe.return=Ee,Pe=pe;break}Pe=Ee}}}var Oe=T.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var Kt=Re.sibling;Re.sibling=null,Re=Kt}while(Re!==null)}}Pe=T}}if(T.subtreeFlags&2064&&$!==null)$.return=T,Pe=$;else e:for(;Pe!==null;){if(T=Pe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Zc(9,T,T.return)}var ee=T.sibling;if(ee!==null){ee.return=T.return,Pe=ee;break e}Pe=T.return}}var K=s.current;for(Pe=K;Pe!==null;){$=Pe;var re=$.child;if($.subtreeFlags&2064&&re!==null)re.return=$,Pe=re;else e:for($=K;Pe!==null;){if(q=Pe,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:op(9,q)}}catch(ke){Bt(q,q.return,ke)}if(q===$){Pe=null;break e}var ye=q.sibling;if(ye!==null){ye.return=q.return,Pe=ye;break e}Pe=q.return}}if(ot=b,da(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(ps,s)}catch{}g=!0}return g}finally{et=d,Vr.transition=u}}return!1}function kP(s,u,d){u=Yu(d,u),u=XA(s,u,1),s=pa(s,u,1),u=Yn(),s!==null&&(na(s,1,u),lr(s,u))}function Bt(s,u,d){if(s.tag===3)kP(s,s,d);else for(;u!==null;){if(u.tag===3){kP(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ga===null||!ga.has(g))){s=Yu(d,s),s=QA(u,s,1),u=pa(u,s,1),s=Yn(),u!==null&&(na(u,1,s),lr(u,s));break}}u=u.return}}function OU(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),u=Yn(),s.pingedLanes|=s.suspendedLanes&d,yn===s&&(In&d)===d&&(un===4||un===3&&(In&130023424)===In&&500>Et()-Bv?Os(s,0):Uv|=d),lr(s,u)}function NP(s,u){u===0&&(s.mode&1?(u=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):u=1);var d=Yn();s=_o(s,u),s!==null&&(na(s,u,d),lr(s,d))}function RU(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),NP(s,d)}function kU(s,u){var d=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),NP(s,d)}var jP;jP=function(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps||or.current)sr=!0;else{if(!(s.lanes&d)&&!(u.flags&128))return sr=!1,_U(s,u,d);sr=!!(s.flags&131072)}else sr=!1,kt&&u.flags&1048576&&hA(u,Bh,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;rp(s,u),s=u.pendingProps;var b=Uu(u,Dn.current);Gu(u,d),b=_v(null,u,g,s,b,d);var T=wv();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ar(g)?(T=!0,Fh(u)):T=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,dv(u),b.updater=tp,u.stateNode=b,b._reactInternals=u,Av(u,g,s,d),u=Ov(null,u,g,!0,T,d)):(u.tag=0,kt&&T&&nv(u),Kn(null,u,b,d),u=u.child),u;case 16:g=u.elementType;e:{switch(rp(s,u),s=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=jU(g),s=pi(g,s),b){case 0:u=Cv(null,u,g,s,d);break e;case 1:u=aP(null,u,g,s,d);break e;case 11:u=tP(null,u,g,s,d);break e;case 14:u=nP(null,u,g,pi(g.type,s),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:pi(g,b),Cv(s,u,g,b,d);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:pi(g,b),aP(s,u,g,b,d);case 3:e:{if(sP(u),s===null)throw Error(n(387));g=u.pendingProps,T=u.memoizedState,b=T.element,EA(s,u),Kh(u,g,null,d);var $=u.memoizedState;if(g=$.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){b=Yu(Error(n(423)),u),u=uP(s,u,g,d,b);break e}else if(g!==b){b=Yu(Error(n(424)),u),u=uP(s,u,g,d,b);break e}else for(xr=la(u.stateNode.containerInfo.firstChild),Er=u,kt=!0,hi=null,d=wA(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zu(),g===b){u=bo(s,u,d);break e}Kn(s,u,g,d)}u=u.child}return u;case 5:return TA(u),s===null&&ov(u),g=u.type,b=u.pendingProps,T=s!==null?s.memoizedProps:null,$=b.children,Xy(g,b)?$=null:T!==null&&Xy(g,T)&&(u.flags|=32),oP(s,u),Kn(s,u,$,d),u.child;case 6:return s===null&&ov(u),null;case 13:return lP(s,u,d);case 4:return hv(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=Wu(u,null,g,d):Kn(s,u,g,d),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:pi(g,b),tP(s,u,g,b,d);case 7:return Kn(s,u,u.pendingProps,d),u.child;case 8:return Kn(s,u,u.pendingProps.children,d),u.child;case 12:return Kn(s,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,T=u.memoizedProps,$=b.value,xt(Wh,g._currentValue),g._currentValue=$,T!==null)if(di(T.value,$)){if(T.children===b.children&&!or.current){u=bo(s,u,d);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){$=T.child;for(var H=q.firstContext;H!==null;){if(H.context===g){if(T.tag===1){H=wo(-1,d&-d),H.tag=2;var oe=T.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?H.next=H:(H.next=me.next,me.next=H),oe.pending=H}}T.lanes|=d,H=T.alternate,H!==null&&(H.lanes|=d),cv(T.return,d,u),q.lanes|=d;break}H=H.next}}else if(T.tag===10)$=T.type===u.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(n(341));$.lanes|=d,q=$.alternate,q!==null&&(q.lanes|=d),cv($,d,u),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===u){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}Kn(s,u,b.children,d),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,Gu(u,d),b=$r(b),g=g(b),u.flags|=1,Kn(s,u,g,d),u.child;case 14:return g=u.type,b=pi(g,u.pendingProps),b=pi(g.type,b),nP(s,u,g,b,d);case 15:return rP(s,u,u.type,u.pendingProps,d);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:pi(g,b),rp(s,u),u.tag=1,ar(g)?(s=!0,Fh(u)):s=!1,Gu(u,d),KA(u,g,b),Av(u,g,b,d),Ov(null,u,g,!0,s,d);case 19:return fP(s,u,d);case 22:return iP(s,u,d)}throw Error(n(156,u.tag))};function MP(s,u){return wu(s,u)}function NU(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(s,u,d,g){return new NU(s,u,d,g)}function Xv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jU(s){if(typeof s=="function")return Xv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===G)return 14}return 2}function wa(s,u){var d=s.alternate;return d===null?(d=Ur(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function pp(s,u,d,g,b,T){var $=2;if(g=s,typeof s=="function")Xv(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case C:return ks(d.children,b,T,u);case R:$=8,b|=8;break;case j:return s=Ur(12,d,u,b|2),s.elementType=j,s.lanes=T,s;case I:return s=Ur(13,d,u,b),s.elementType=I,s.lanes=T,s;case z:return s=Ur(19,d,u,b),s.elementType=z,s.lanes=T,s;case te:return mp(d,b,T,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:$=10;break e;case L:$=9;break e;case V:$=11;break e;case G:$=14;break e;case Q:$=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=Ur($,d,u,b),u.elementType=s,u.type=g,u.lanes=T,u}function ks(s,u,d,g){return s=Ur(7,s,g,u),s.lanes=d,s}function mp(s,u,d,g){return s=Ur(22,s,g,u),s.elementType=te,s.lanes=d,s.stateNode={isHidden:!1},s}function Qv(s,u,d){return s=Ur(6,s,null,u),s.lanes=d,s}function Jv(s,u,d){return u=Ur(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function MU(s,u,d,g,b){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Zv(s,u,d,g,b,T,$,q,H){return s=new MU(s,u,d,q,H),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Ur(3,null,null,u),s.current=T,T.stateNode=s,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(T),s}function DU(s,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:s,containerInfo:u,implementation:d}}function DP(s){if(!s)return fa;s=s._reactInternals;e:{if(oi(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ar(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(ar(d))return cA(s,d,u)}return u}function LP(s,u,d,g,b,T,$,q,H){return s=Zv(d,g,!0,s,b,T,$,q,H),s.context=DP(null),d=s.current,g=Yn(),b=va(d),T=wo(g,b),T.callback=u??null,pa(d,T,b),s.current.lanes=b,na(s,b,g),lr(s,g),s}function gp(s,u,d,g){var b=u.current,T=Yn(),$=va(b);return d=DP(d),u.context===null?u.context=d:u.pendingContext=d,u=wo(T,$),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=pa(b,u,$),s!==null&&(yi(s,b,$,T),Gh(s,b,$)),$}function yp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function $P(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function e_(s,u){$P(s,u),(s=s.alternate)&&$P(s,u)}function LU(){return null}var FP=typeof reportError=="function"?reportError:function(s){console.error(s)};function t_(s){this._internalRoot=s}vp.prototype.render=t_.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));gp(s,u,null,null)},vp.prototype.unmount=t_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Cs(function(){gp(null,s,null,null)}),u[mo]=null}};function vp(s){this._internalRoot=s}vp.prototype.unstable_scheduleHydration=function(s){if(s){var u=vh();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Vi.length&&u!==0&&u<Vi[d].priority;d++);Vi.splice(d,0,s),d===0&&bh(s)}};function n_(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function _p(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function VP(){}function $U(s,u,d,g,b){if(b){if(typeof g=="function"){var T=g;g=function(){var oe=yp($);T.call(oe)}}var $=LP(u,g,s,0,null,!1,!1,"",VP);return s._reactRootContainer=$,s[mo]=$.current,Vc(s.nodeType===8?s.parentNode:s),Cs(),$}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var q=g;g=function(){var oe=yp(H);q.call(oe)}}var H=Zv(s,0,!1,null,null,!1,!1,"",VP);return s._reactRootContainer=H,s[mo]=H.current,Vc(s.nodeType===8?s.parentNode:s),Cs(function(){gp(u,H,d,g)}),H}function wp(s,u,d,g,b){var T=d._reactRootContainer;if(T){var $=T;if(typeof b=="function"){var q=b;b=function(){var H=yp($);q.call(H)}}gp(u,$,s,b)}else $=$U(d,u,s,b,g);return yp($)}gh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var d=ea(u.pendingLanes);d!==0&&(ra(u,d|1),lr(u,Et()),!(ot&6)&&(Ju=Et()+500,da()))}break;case 13:Cs(function(){var g=_o(s,1);if(g!==null){var b=Yn();yi(g,s,1,b)}}),e_(s,1)}},xu=function(s){if(s.tag===13){var u=_o(s,134217728);if(u!==null){var d=Yn();yi(u,s,134217728,d)}e_(s,134217728)}},yh=function(s){if(s.tag===13){var u=va(s),d=_o(s,u);if(d!==null){var g=Yn();yi(d,s,u,g)}e_(s,u)}},vh=function(){return et},_h=function(s,u){var d=et;try{return et=s,u()}finally{et=d}},pu=function(s,u,d){switch(u){case"input":if(Ut(s,d),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var b=Lh(g);if(!b)throw Error(n(90));de(g),Ut(g,b)}}}break;case"textarea":ao(s,d);break;case"select":u=d.value,u!=null&&Sn(s,!!d.multiple,u,!1)}},ls=Gv,bc=Cs;var FU={usingClientEntryPoint:!1,Events:[qc,Fu,Lh,$i,wc,Gv]},rf={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VU={bundleType:rf.bundleType,version:rf.version,rendererPackageName:rf.rendererPackageName,rendererConfig:rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Sc(s),s===null?null:s.stateNode},findFiberByHostInstance:rf.findFiberByHostInstance||LU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{ps=bp.inject(VU),vr=bp}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FU,cr.createPortal=function(s,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n_(u))throw Error(n(200));return DU(s,u,null,d)},cr.createRoot=function(s,u){if(!n_(s))throw Error(n(299));var d=!1,g="",b=FP;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=Zv(s,1,!1,null,null,d,!1,g,b),s[mo]=u.current,Vc(s.nodeType===8?s.parentNode:s),new t_(u)},cr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Sc(u),s=s===null?null:s.stateNode,s},cr.flushSync=function(s){return Cs(s)},cr.hydrate=function(s,u,d){if(!_p(u))throw Error(n(200));return wp(null,s,u,!0,d)},cr.hydrateRoot=function(s,u,d){if(!n_(s))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,b=!1,T="",$=FP;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),u=LP(u,null,s,1,d??null,b,!1,T,$),s[mo]=u.current,Vc(s),g)for(s=0;s<g.length;s++)d=g[s],b=d._getVersion,b=b(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,b]:u.mutableSourceEagerHydrationData.push(d,b);return new vp(u)},cr.render=function(s,u,d){if(!_p(u))throw Error(n(200));return wp(null,s,u,!1,d)},cr.unmountComponentAtNode=function(s){if(!_p(s))throw Error(n(40));return s._reactRootContainer?(Cs(function(){wp(null,null,s,!1,function(){s._reactRootContainer=null,s[mo]=null})}),!0):!1},cr.unstable_batchedUpdates=Gv,cr.unstable_renderSubtreeIntoContainer=function(s,u,d,g){if(!_p(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return wp(s,u,d,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var KP;function KU(){if(KP)return o_.exports;KP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o_.exports=GU(),o_.exports}var YP;function YU(){if(YP)return xp;YP=1;var t=KU();return xp.createRoot=t.createRoot,xp.hydrateRoot=t.hydrateRoot,xp}var XU=YU(),af={},XP;function QU(){if(XP)return af;XP=1,Object.defineProperty(af,"__esModule",{value:!0}),af.parse=a,af.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,_){const w=new o,E=y.length;if(E<2)return w;const v=(_==null?void 0:_.decode)||h;let P=0;do{const A=y.indexOf("=",P);if(A===-1)break;const N=y.indexOf(";",P),D=N===-1?E:N;if(A>D){P=y.lastIndexOf(";",A-1)+1;continue}const O=l(y,P,A),M=c(y,A,O),C=y.slice(O,M);if(w[C]===void 0){let R=l(y,A+1,D),j=c(y,D,R);const F=v(y.slice(R,j));w[C]=F}P=D+1}while(P<E);return w}function l(y,_,w){do{const E=y.charCodeAt(_);if(E!==32&&E!==9)return _}while(++_<w);return w}function c(y,_,w){for(;_>w;){const E=y.charCodeAt(--_);if(E!==32&&E!==9)return _+1}return w}function f(y,_,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const v=E(_);if(!e.test(v))throw new TypeError(`argument val is invalid: ${_}`);let P=y+"="+v;if(!w)return P;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);P+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);P+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);P+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);P+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(P+="; HttpOnly"),w.secure&&(P+="; Secure"),w.partitioned&&(P+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return P}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return i.call(y)==="[object Date]"}return af}QU();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var QP="popstate";function JU(t={}){function e(i,o){let{pathname:a="/",search:l="",hash:c=""}=au(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),x1("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof o=="string"?o:Bf(o))}function r(i,o){Jr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return eB(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZU(){return Math.random().toString(36).substring(2,10)}function JP(t,e){return{usr:t.state,key:t.key,idx:e}}function x1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?au(e):e,state:n,key:e&&e.key||r||ZU()}}function Bf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function au(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",c=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let v=h(),P=v==null?null:v-f;f=v,c&&c({action:l,location:E.location,delta:P})}function y(v,P){l="PUSH";let A=x1(E.location,v,P);n&&n(A,v),f=h()+1;let N=JP(A,f),D=E.createHref(A);try{a.pushState(N,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}o&&c&&c({action:l,location:E.location,delta:1})}function _(v,P){l="REPLACE";let A=x1(E.location,v,P);n&&n(A,v),f=h();let N=JP(A,f),D=E.createHref(A);a.replaceState(N,"",D),o&&c&&c({action:l,location:E.location,delta:0})}function w(v){let P=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof v=="string"?v:Bf(v);return A=A.replace(/ $/,"%20"),Mt(P,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,P)}let E={get action(){return l},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(QP,p),c=v,()=>{i.removeEventListener(QP,p),c=null}},createHref(v){return e(i,v)},createURL:w,encodeLocation(v){let P=w(v);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:_,go(v){return a.go(v)}};return E}function CM(t,e,n="/"){return tB(t,e,n,!1)}function tB(t,e,n,r){let i=typeof e=="string"?au(e):e,o=Va(i.pathname||"/",n);if(o==null)return null;let a=OM(t);nB(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=hB(o);l=fB(a[c],f,r)}return l}function OM(t,e=[],n=[],r=""){let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Mt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Oo([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OM(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:lB(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of RM(o.path))i(o,a,c)}),e}function RM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=RM(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function nB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rB=/^:[\w-]+$/,iB=3,oB=2,aB=1,sB=10,uB=-2,ZP=t=>t==="*";function lB(t,e){let n=t.split("/"),r=n.length;return n.some(ZP)&&(r+=uB),e&&(r+=oB),n.filter(i=>!ZP(i)).reduce((i,o)=>i+(rB.test(o)?iB:o===""?aB:sB),r)}function cB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fB(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=am({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),y=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=am({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Oo([o,p.pathname]),pathnameBase:yB(Oo([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Oo([o,p.pathnameBase]))}return a}function am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},y)=>{if(h==="*"){let w=l[y]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=l[y];return p&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function dB(t,e=!1,n=!0){Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Va(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pB(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?au(t):t;return{pathname:n?n.startsWith("/")?n:mB(n,e):e,search:vB(r),hash:_B(i)}}function mB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function u_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vx(t){let e=gB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _x(t,e,n,r=!1){let i;typeof t=="string"?i=au(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),u_("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),u_("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),u_("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let c=pB(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Oo=t=>t.join("/").replace(/\/\/+/g,"/"),yB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_B=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kM=["POST","PUT","PATCH","DELETE"];new Set(kM);var bB=["GET",...kM];new Set(bB);var Zl=U.createContext(null);Zl.displayName="DataRouter";var Eg=U.createContext(null);Eg.displayName="DataRouterState";var NM=U.createContext({isTransitioning:!1});NM.displayName="ViewTransition";var EB=U.createContext(new Map);EB.displayName="Fetchers";var xB=U.createContext(null);xB.displayName="Await";var Oi=U.createContext(null);Oi.displayName="Navigation";var Ld=U.createContext(null);Ld.displayName="Location";var Ri=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var wx=U.createContext(null);wx.displayName="RouteError";function SB(t,{relative:e}={}){Mt(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Oi),{hash:i,pathname:o,search:a}=$d(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:Oo([n,o])),r.createHref({pathname:l,search:a,hash:i})}function ec(){return U.useContext(Ld)!=null}function ki(){return Mt(ec(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ld).location}var jM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MM(t){U.useContext(Oi).static||U.useLayoutEffect(t)}function Ya(){let{isDataRoute:t}=U.useContext(Ri);return t?FB():TB()}function TB(){Mt(ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(Zl),{basename:e,navigator:n}=U.useContext(Oi),{matches:r}=U.useContext(Ri),{pathname:i}=ki(),o=JSON.stringify(vx(r)),a=U.useRef(!1);return MM(()=>{a.current=!0}),U.useCallback((c,f={})=>{if(Jr(a.current,jM),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=_x(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oo([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}var AB=U.createContext(null);function PB(t){let e=U.useContext(Ri).outlet;return e&&U.createElement(AB.Provider,{value:t},e)}function $d(t,{relative:e}={}){let{matches:n}=U.useContext(Ri),{pathname:r}=ki(),i=JSON.stringify(vx(n));return U.useMemo(()=>_x(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function IB(t,e){return DM(t,e)}function DM(t,e,n,r){var P;Mt(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Oi),{matches:o}=U.useContext(Ri),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";LM(c,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=ki(),y;if(e){let A=typeof e=="string"?au(e):e;Mt(f==="/"||((P=A.pathname)==null?void 0:P.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let _=y.pathname||"/",w=_;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=CM(t,{pathname:w});Jr(h||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Jr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=NB(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Oo([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Oo([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&v?U.createElement(Ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function CB(){let t=$B(),e=wB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,a)}var OB=U.createElement(CB,null),RB=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(Ri.Provider,{value:this.props.routeContext},U.createElement(wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kB({routeContext:t,match:e,children:n}){let r=U.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ri.Provider,{value:t},n)}function NB(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Mt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let p,y=!1,_=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||OB,a&&(l<0&&h===0?(LM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):l===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,h+1)),v=()=>{let P;return p?P=_:y?P=w:f.route.Component?P=U.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=c,U.createElement(kB,{match:f,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(RB,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}function bx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jB(t){let e=U.useContext(Zl);return Mt(e,bx(t)),e}function MB(t){let e=U.useContext(Eg);return Mt(e,bx(t)),e}function DB(t){let e=U.useContext(Ri);return Mt(e,bx(t)),e}function Ex(t){let e=DB(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LB(){return Ex("useRouteId")}function $B(){var r;let t=U.useContext(wx),e=MB("useRouteError"),n=Ex("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FB(){let{router:t}=jB("useNavigate"),e=Ex("useNavigate"),n=U.useRef(!1);return MM(()=>{n.current=!0}),U.useCallback(async(i,o={})=>{Jr(n.current,jM),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var eI={};function LM(t,e,n){!e&&!eI[t]&&(eI[t]=!0,Jr(!1,n))}U.memo(VB);function VB({routes:t,future:e,state:n}){return DM(t,void 0,n,e)}function tI({to:t,replace:e,state:n,relative:r}){Mt(ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(Oi);Jr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(Ri),{pathname:a}=ki(),l=Ya(),c=_x(t,vx(o),a,r==="path"),f=JSON.stringify(c);return U.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function UB(t){return PB(t.context)}function Jn(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Mt(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=au(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,_=U.useMemo(()=>{let w=Va(c,a);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:y},navigationType:r}},[a,c,f,h,p,y,r]);return Jr(_!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:U.createElement(Oi.Provider,{value:l},U.createElement(Ld.Provider,{children:e,value:_}))}function qB({children:t,location:e}){return IB(S1(t),e)}function S1(t,e=[]){let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){n.push.apply(n,S1(r.props.children,o));return}Mt(r.type===Jn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=S1(r.props.children,o)),n.push(a)}),n}var Kp="get",Yp="application/x-www-form-urlencoded";function xg(t){return t!=null&&typeof t.tagName=="string"}function zB(t){return xg(t)&&t.tagName.toLowerCase()==="button"}function WB(t){return xg(t)&&t.tagName.toLowerCase()==="form"}function HB(t){return xg(t)&&t.tagName.toLowerCase()==="input"}function GB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KB(t,e){return t.button===0&&(!e||e==="_self")&&!GB(t)}var Sp=null;function YB(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var XB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l_(t){return t!=null&&!XB.has(t)?(Jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):t}function QB(t,e){let n,r,i,o,a;if(WB(t)){let l=t.getAttribute("action");r=l?Va(l,e):null,n=t.getAttribute("method")||Kp,i=l_(t.getAttribute("enctype"))||Yp,o=new FormData(t)}else if(zB(t)||HB(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Va(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Kp,i=l_(t.getAttribute("formenctype"))||l_(l.getAttribute("enctype"))||Yp,o=new FormData(l,t),!YB()){let{name:f,type:h,value:p}=t;if(h==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,p)}}else{if(xg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kp,r=null,i=Yp,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function xx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function JB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e3(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await JB(o,n);return a.links?a.links():[]}return[]}));return i3(r.flat(1).filter(ZB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nI(t,e,n,r,i,o){let a=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,l=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>a(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function t3(t,e){return n3(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function n3(t){return[...new Set(t)]}function r3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function i3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(r3(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function o3(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function a3(){let t=U.useContext(Zl);return xx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s3(){let t=U.useContext(Eg);return xx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sx=U.createContext(void 0);Sx.displayName="FrameworkContext";function $M(){let t=U.useContext(Sx);return xx(t,"You must render this element inside a <HydratedRouter> element"),t}function u3(t,e){let n=U.useContext(Sx),[r,i]=U.useState(!1),[o,a]=U.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,y=U.useRef(null);U.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=P=>{P.forEach(A=>{a(A.isIntersecting)})},v=new IntersectionObserver(E,{threshold:.5});return y.current&&v.observe(y.current),()=>{v.disconnect()}}},[t]),U.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:sf(l,_),onBlur:sf(c,w),onMouseEnter:sf(f,_),onMouseLeave:sf(h,w),onTouchStart:sf(p,_)}]:[!1,y,{}]}function sf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l3({page:t,...e}){let{router:n}=a3(),r=U.useMemo(()=>CM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(f3,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function c3(t){let{manifest:e,routeModules:n}=$M(),[r,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return e3(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function f3({page:t,matches:e,...n}){let r=ki(),{manifest:i,routeModules:o}=$M(),{loaderData:a,matches:l}=s3(),c=U.useMemo(()=>nI(t,e,l,i,r,"data"),[t,e,l,i,r]),f=U.useMemo(()=>nI(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(e.forEach(v=>{var A;let P=i.routes[v.route.id];!P||!P.hasLoader||(!c.some(N=>N.route.id===v.route.id)&&v.route.id in a&&((A=o[v.route.id])!=null&&A.shouldRevalidate)||P.hasClientLoader?w=!0:_.add(v.route.id))}),_.size===0)return[];let E=o3(t);return w&&_.size>0&&E.searchParams.set("_routes",e.filter(v=>_.has(v.route.id)).map(v=>v.route.id).join(",")),[E.pathname+E.search]},[a,r,i,c,e,t,o]),p=U.useMemo(()=>t3(f,i),[f,i]),y=c3(f);return U.createElement(U.Fragment,null,h.map(_=>U.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>U.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:w})=>U.createElement("link",{key:_,...w})))}function d3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FM&&(window.__reactRouterVersion="7.0.2")}catch{}function h3({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=JU({window:n,v5Compat:!0}));let i=r.current,[o,a]=U.useState({action:i.action,location:i.location}),l=U.useCallback(c=>{U.startTransition(()=>a(c))},[a]);return U.useLayoutEffect(()=>i.listen(l),[i,l]),U.createElement(BB,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var VM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:l,target:c,to:f,preventScrollReset:h,viewTransition:p,...y},_){let{basename:w}=U.useContext(Oi),E=typeof f=="string"&&VM.test(f),v,P=!1;if(typeof f=="string"&&E&&(v=f,FM))try{let j=new URL(window.location.href),F=f.startsWith("//")?new URL(j.protocol+f):new URL(f),L=Va(F.pathname,w);F.origin===j.origin&&L!=null?f=L+F.search+F.hash:P=!0}catch{Jr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=SB(f,{relative:i}),[N,D,O]=u3(r,y),M=y3(f,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function C(j){e&&e(j),j.defaultPrevented||M(j)}let R=U.createElement("a",{...y,...O,href:v||A,onClick:P||o?e:C,ref:d3(_,D),target:c,"data-discover":!E&&n==="render"?"true":void 0});return N&&!E?U.createElement(U.Fragment,null,R,U.createElement(l3,{page:A})):R});Wr.displayName="Link";var p3=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...f},h){let p=$d(a,{relative:f.relative}),y=ki(),_=U.useContext(Eg),{navigator:w,basename:E}=U.useContext(Oi),v=_!=null&&E3(p)&&l===!0,P=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=y.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&E&&(N=Va(N,E)||N);const D=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=A===P||!i&&A.startsWith(P)&&A.charAt(D)==="/",M=N!=null&&(N===P||!i&&N.startsWith(P)&&N.charAt(P.length)==="/"),C={isActive:O,isPending:M,isTransitioning:v},R=O?e:void 0,j;typeof r=="function"?j=r(C):j=[r,O?"active":null,M?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(C):o;return U.createElement(Wr,{...f,"aria-current":R,className:j,ref:h,style:F,to:a,viewTransition:l},typeof c=="function"?c(C):c)});p3.displayName="NavLink";var m3=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Kp,action:l,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,...y},_)=>{let w=w3(),E=b3(l,{relative:f}),v=a.toLowerCase()==="get"?"get":"post",P=typeof l=="string"&&VM.test(l),A=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||a;w(D||N.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:p})};return U.createElement("form",{ref:_,method:v,action:E,onSubmit:r?c:A,...y,"data-discover":!P&&t==="render"?"true":void 0})});m3.displayName="Form";function g3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UM(t){let e=U.useContext(Zl);return Mt(e,g3(t)),e}function y3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=Ya(),c=ki(),f=$d(t,{relative:o});return U.useCallback(h=>{if(KB(h,e)){h.preventDefault();let p=n!==void 0?n:Bf(c)===Bf(f);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,f,n,r,e,t,i,o,a])}var v3=0,_3=()=>`__${String(++v3)}__`;function w3(){let{router:t}=UM("useSubmit"),{basename:e}=U.useContext(Oi),n=LB();return U.useCallback(async(r,i={})=>{let{action:o,method:a,encType:l,formData:c,body:f}=QB(r,e);if(i.navigate===!1){let h=i.fetcherKey||_3();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function b3(t,{relative:e}={}){let{basename:n}=U.useContext(Oi),r=U.useContext(Ri);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$d(t||".",{relative:e})},a=ki();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Oo([n,o.pathname])),Bf(o)}function E3(t,e={}){let n=U.useContext(NM);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UM("useViewTransitionState"),i=$d(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Va(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return am(i.pathname,a)!=null||am(i.pathname,o)!=null}new TextEncoder;const x3="_sidebar_1665p_1",S3="_profileSection_1665p_19",T3="_navigation_1665p_35",A3="_avatar_1665p_43",P3="_userInfo_1665p_69",I3="_navList_1665p_125",C3="_navItem_1665p_143",O3="_navLink_1665p_151",R3="_navLinkWithBadge_1665p_181",k3="_messageBadge_1665p_199",N3="_createEventBtn_1665p_217",j3="_dropdown_1665p_253",M3="_dropdownItem_1665p_293",D3="_logoutBtn_1665p_315",L3="_dashboardContainer_1665p_357",$3="_mainContent_1665p_365",F3="_dashboardStatisticContainer_1665p_401",V3="_statsGrid_1665p_409",U3="_statsCard_1665p_415",B3="_statsCardContent_1665p_421",q3="_statsTextContainer_1665p_437",z3="_statsTitle_1665p_445",W3="_statsValue_1665p_457",H3="_statsDropdown_1665p_469",G3="_statsDropdownItem_1665p_485",K3="_statsDropdownLabel_1665p_509",Y3="_statsDropdownValue_1665p_519",X3="_statsIconContainer_1665p_527",Q3="_welcomeTitle_1665p_543",J3="_welcomeText_1665p_565",Z3="_hamburgerBtn_1665p_573",eq="_overlay_1665p_599",tq="_welcomeContainer_1665p_647",nq="_sidebarOpen_1665p_749",_e={sidebar:x3,profileSection:S3,navigation:T3,avatar:A3,userInfo:P3,navList:I3,navItem:C3,navLink:O3,navLinkWithBadge:R3,messageBadge:k3,createEventBtn:N3,dropdown:j3,dropdownItem:M3,logoutBtn:D3,dashboardContainer:L3,mainContent:$3,dashboardStatisticContainer:F3,statsGrid:V3,statsCard:U3,statsCardContent:B3,statsTextContainer:q3,statsTitle:z3,statsValue:W3,statsDropdown:H3,statsDropdownItem:G3,statsDropdownLabel:K3,statsDropdownValue:Y3,statsIconContainer:X3,welcomeTitle:Q3,welcomeText:J3,hamburgerBtn:Z3,overlay:eq,welcomeContainer:tq,sidebarOpen:nq},rq="_loading_container_p2ded_1",iq="_loading_spinner_p2ded_31",oq="_spin_p2ded_1",aq="_small_p2ded_49",sq="_large_p2ded_61",uq="_loading_text_p2ded_73",Tp={loading_container:rq,loading_spinner:iq,spin:oq,small:aq,large:sq,loading_text:uq},rI=({size:t="default",text:e="Loading..."})=>{const n=`${Tp.loading_spinner} ${t!=="default"?Tp[t]:""}`;return x.jsxs("div",{className:Tp.loading_container,children:[x.jsx("div",{className:n}),x.jsx("p",{className:Tp.loading_text,children:e})]})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},c)=>U.createElement("svg",{ref:c,...cq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BM("lucide",i),...l},[...a.map(([f,h])=>U.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=U.forwardRef(({className:r,...i},o)=>U.createElement(fq,{ref:o,iconNode:e,className:BM(`lucide-${lq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=Ze("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Ze("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=Ze("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=Ze("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Ze("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=Ze("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Ze("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Ze("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Ze("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Ze("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Ze("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Ze("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Ze("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var uI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},XM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;c||(_=64,a||(y=64)),r.push(n[h],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new jq;const y=o<<2|l>>4;if(r.push(y),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mq=function(t){const e=YM(t);return XM.encodeByteArray(e,!0)},sm=function(t){return Mq(t).replace(/\./g,"")},QM=function(t){try{return XM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=()=>Dq().__FIREBASE_DEFAULTS__,$q=()=>{if(typeof process>"u"||typeof uI>"u")return;const t=uI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QM(t[1]);return e&&JSON.parse(e)},Sg=()=>{try{return Lq()||$q()||Fq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JM=t=>{var e,n;return(n=(e=Sg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZM=t=>{const e=JM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eD=()=>{var t;return(t=Sg())===null||t===void 0?void 0:t.config},tD=t=>{var e;return(e=Sg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sm(JSON.stringify(n)),sm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function Bq(){var t;const e=(t=Sg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hq(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gq(){return!Bq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kq(){try{return typeof indexedDB=="object"}catch{return!1}}function Yq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xq,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vd.prototype.create)}}class Vd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Qq(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new io(i,l,r)}}function Qq(t,e){return t.replace(Jq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jq=/\{\$([^}]+)}/g;function Zq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function um(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(lI(o)&&lI(a)){if(!um(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ef(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function xf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function e6(t,e){const n=new t6(t,e);return n.subscribe.bind(n)}class t6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=c_),i.error===void 0&&(i.error=c_),i.complete===void 0&&(i.complete=c_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function c_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o6(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i6(t){return t===Ds?void 0:t}function o6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const s6={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},u6=Ye.INFO,l6={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},c6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ax{constructor(e){this.name=e,this._logLevel=u6,this._logHandler=c6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const f6=(t,e)=>e.some(n=>t instanceof n);let cI,fI;function d6(){return cI||(cI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h6(){return fI||(fI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rD=new WeakMap,A1=new WeakMap,iD=new WeakMap,f_=new WeakMap,Px=new WeakMap;function p6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Na(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&rD.set(n,t)}).catch(()=>{}),Px.set(e,t),e}function m6(t){if(A1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});A1.set(t,e)}let P1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g6(t){P1=t(P1)}function y6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(d_(this),e,...n);return iD.set(r,e.sort?e.sort():[e]),Na(r)}:h6().includes(t)?function(...e){return t.apply(d_(this),e),Na(rD.get(this))}:function(...e){return Na(t.apply(d_(this),e))}}function v6(t){return typeof t=="function"?y6(t):(t instanceof IDBTransaction&&m6(t),f6(t,d6())?new Proxy(t,P1):t)}function Na(t){if(t instanceof IDBRequest)return p6(t);if(f_.has(t))return f_.get(t);const e=v6(t);return e!==t&&(f_.set(t,e),Px.set(e,t)),e}const d_=t=>Px.get(t);function _6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Na(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Na(a.result),c.oldVersion,c.newVersion,Na(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const w6=["get","getKey","getAll","getAllKeys","count"],b6=["put","add","delete","clear"],h_=new Map;function dI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(h_.get(e))return h_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w6.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return h_.set(e,o),o}g6(t=>({...t,get:(e,n,r)=>dI(e,n)||t.get(e,n,r),has:(e,n)=>!!dI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I1="@firebase/app",hI="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Ax("@firebase/app"),S6="@firebase/app-compat",T6="@firebase/analytics-compat",A6="@firebase/analytics",P6="@firebase/app-check-compat",I6="@firebase/app-check",C6="@firebase/auth",O6="@firebase/auth-compat",R6="@firebase/database",k6="@firebase/data-connect",N6="@firebase/database-compat",j6="@firebase/functions",M6="@firebase/functions-compat",D6="@firebase/installations",L6="@firebase/installations-compat",$6="@firebase/messaging",F6="@firebase/messaging-compat",V6="@firebase/performance",U6="@firebase/performance-compat",B6="@firebase/remote-config",q6="@firebase/remote-config-compat",z6="@firebase/storage",W6="@firebase/storage-compat",H6="@firebase/firestore",G6="@firebase/vertexai",K6="@firebase/firestore-compat",Y6="firebase",X6="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="[DEFAULT]",Q6={[I1]:"fire-core",[S6]:"fire-core-compat",[A6]:"fire-analytics",[T6]:"fire-analytics-compat",[I6]:"fire-app-check",[P6]:"fire-app-check-compat",[C6]:"fire-auth",[O6]:"fire-auth-compat",[R6]:"fire-rtdb",[k6]:"fire-data-connect",[N6]:"fire-rtdb-compat",[j6]:"fire-fn",[M6]:"fire-fn-compat",[D6]:"fire-iid",[L6]:"fire-iid-compat",[$6]:"fire-fcm",[F6]:"fire-fcm-compat",[V6]:"fire-perf",[U6]:"fire-perf-compat",[B6]:"fire-rc",[q6]:"fire-rc-compat",[z6]:"fire-gcs",[W6]:"fire-gcs-compat",[H6]:"fire-fst",[K6]:"fire-fst-compat",[G6]:"fire-vertex","fire-js":"fire-js",[Y6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,J6=new Map,O1=new Map;function pI(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(O1.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;O1.set(e,t);for(const n of lm.values())pI(n,t);for(const n of J6.values())pI(n,t);return!0}function Tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new Vd("app","Firebase",Z6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=X6;function Xa(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ja.create("bad-app-name",{appName:String(i)});if(n||(n=eD()),!n)throw ja.create("no-options");const o=lm.get(i);if(o){if(um(n,o.options)&&um(r,o.config))return o;throw ja.create("duplicate-app",{appName:i})}const a=new a6(i);for(const c of O1.values())a.addComponent(c);const l=new e5(n,r,a);return lm.set(i,l),l}function Ix(t=C1){const e=lm.get(t);if(!e&&t===C1&&eD())return Xa();if(!e)throw ja.create("no-app",{appName:t});return e}function Xi(t,e,n){var r;let i=(r=Q6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(l.join(" "));return}Qs(new Ua(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firebase-heartbeat-database",n5=1,qf="firebase-heartbeat-store";let p_=null;function oD(){return p_||(p_=_6(t5,n5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ja.create("idb-open",{originalErrorMessage:t.message})})),p_}async function r5(t){try{const n=(await oD()).transaction(qf),r=await n.objectStore(qf).get(aD(t));return await n.done,r}catch(e){if(e instanceof io)Lo.warn(e.message);else{const n=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function mI(t,e){try{const r=(await oD()).transaction(qf,"readwrite");await r.objectStore(qf).put(e,aD(t)),await r.done}catch(n){if(n instanceof io)Lo.warn(n.message);else{const r=ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function aD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=1024,o5=30*24*60*60*1e3;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=o5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gI(),{heartbeatsToSend:r,unsentEntries:i}=s5(this._heartbeatsCache.heartbeats),o=sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Lo.warn(n),""}}}function gI(){return new Date().toISOString().substring(0,10)}function s5(t,e=i5){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),yI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kq()?Yq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yI(t){return sm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){Qs(new Ua("platform-logger",e=>new E6(e),"PRIVATE")),Qs(new Ua("heartbeat",e=>new a5(e),"PRIVATE")),Xi(I1,hI,t),Xi(I1,hI,"esm2017"),Xi("fire-js","")}l5("");var c5="firebase",f5="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(c5,f5,"app");function Cx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d5=sD,uD=new Vd("auth","Firebase",sD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Ax("@firebase/auth");function h5(t,...e){cm.logLevel<=Ye.WARN&&cm.warn(`Auth (${su}): ${t}`,...e)}function Xp(t,...e){cm.logLevel<=Ye.ERROR&&cm.error(`Auth (${su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw Rx(t,...e)}function Pi(t,...e){return Rx(t,...e)}function Ox(t,e,n){const r=Object.assign(Object.assign({},d5()),{[e]:n});return new Vd("auth","Firebase",r).create(e,{appName:t.name})}function Ro(t){return Ox(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zr(t,"argument-error"),Ox(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uD.create(t,...e)}function Fe(t,e,...n){if(!t)throw Rx(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xp(e),new Error(e)}function $o(t,e){t||To(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m5(){return vI()==="http:"||vI()==="https:"}function vI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m5()||zq()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$o(n>e,"Short delay should be less than long delay!"),this.isMobile=Uq()||Wq()}get(){return g5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){$o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new Bd(3e4,6e4);function Wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ho(t,e,n,r,i={}){return cD(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Ud(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return qq()||(f.referrerPolicy="no-referrer"),lD.fetch()(fD(t,t.config.apiHost,n,l),f)})}async function cD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},v5),e);try{const i=new b5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Ap(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ap(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ap(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ap(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ox(t,h,f);Zr(t,h)}}catch(i){if(i instanceof io)throw i;Zr(t,"network-request-failed",{message:String(i)})}}async function qd(t,e,n,r,i={}){const o=await Ho(t,e,n,r,i);return"mfaPendingCredential"in o&&Zr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function fD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kx(t.config,i):`${t.config.apiScheme}://${i}`}function w5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),_5.get())})}}function Ap(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pi(t,e,r);return i.customData._tokenResponse=n,i}function _I(t){return t!==void 0&&t.enterprise!==void 0}class E5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x5(t,e){return Ho(t,"GET","/v2/recaptchaConfig",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){return Ho(t,"POST","/v1/accounts:delete",e)}async function dD(t,e){return Ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T5(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=Nx(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rf(m_(i.auth_time)),issuedAtTime:Rf(m_(i.iat)),expirationTime:Rf(m_(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function m_(t){return Number(t)*1e3}function Nx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=QM(n);return i?JSON.parse(i):(Xp("Failed to decode base64 JWT payload"),null)}catch(i){return Xp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wI(t){const e=Nx(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof io&&A5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zf(t,dD(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hD(o.providerUserInfo):[],l=C5(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new k1(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function I5(t){const e=Tt(t);await fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hD(t){return t.map(e=>{var{providerId:n}=e,r=Cx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e){const n=await cD(t,{},async()=>{const r=Ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=fD(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R5(t,e){return Ho(t,"POST","/v2/accounts:revokeToken",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=wI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await O5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new hl;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Cx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new k1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zf(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T5(this,e)}reload(){return I5(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Ro(this.auth));const e=await this.getIdToken();return await zf(this,S5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,l,c,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:D,isAnonymous:O,providerData:M,stsTokenManager:C}=n;Fe(N&&C,e,"internal-error");const R=hl.fromJSON(this.name,C);Fe(typeof N=="string",e,"internal-error"),Ea(p,e.name),Ea(y,e.name),Fe(typeof D=="boolean",e,"internal-error"),Fe(typeof O=="boolean",e,"internal-error"),Ea(_,e.name),Ea(w,e.name),Ea(E,e.name),Ea(v,e.name),Ea(P,e.name),Ea(A,e.name);const j=new Ao({uid:N,auth:e,email:y,emailVerified:D,displayName:p,isAnonymous:O,photoURL:w,phoneNumber:_,tenantId:E,stsTokenManager:R,createdAt:P,lastLoginAt:A});return M&&Array.isArray(M)&&(j.providerData=M.map(F=>Object.assign({},F))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new hl;i.updateFromServerResponse(n);const o=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new hl;l.updateFromIdToken(r);const c=new Ao({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new k1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;function Po(t){$o(t instanceof Function,"Expected a class definition");let e=bI.get(t);return e?($o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pD.type="NONE";const EI=pD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Qp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ao._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Po(EI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Po(EI);const a=Qp(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){const p=Ao._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new pl(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wD(e))return"Blackberry";if(bD(e))return"Webos";if(gD(e))return"Safari";if((e.includes("chrome/")||yD(e))&&!e.includes("edge/"))return"Chrome";if(_D(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mD(t=Wn()){return/firefox\//i.test(t)}function gD(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yD(t=Wn()){return/crios\//i.test(t)}function vD(t=Wn()){return/iemobile/i.test(t)}function _D(t=Wn()){return/android/i.test(t)}function wD(t=Wn()){return/blackberry/i.test(t)}function bD(t=Wn()){return/webos/i.test(t)}function jx(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k5(t=Wn()){var e;return jx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N5(){return Hq()&&document.documentMode===10}function ED(t=Wn()){return jx(t)||_D(t)||bD(t)||wD(t)||/windows phone/i.test(t)||vD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e=[]){let n;switch(t){case"Browser":n=xI(Wn());break;case"Worker":n=`${xI(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e={}){return Ho(t,"GET","/v2/passwordPolicy",Wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=6;class L5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:D5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SI(this),this.idTokenSubscription=new SI(this),this.beforeStateQueue=new j5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Po(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dD(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Si(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(Ro(this));const n=e?Tt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(Ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M5(this),n=new L5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Po(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qa(t){return Tt(t)}class SI{constructor(e){this.auth=e,this.observer=null,this.addObserver=e6(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F5(t){Ag=t}function SD(t){return Ag.loadJS(t)}function V5(){return Ag.recaptchaEnterpriseScript}function U5(){return Ag.gapiScript}function B5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q5{constructor(){this.enterprise=new z5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const W5="recaptcha-enterprise",TD="NO_RECAPTCHA";class H5{constructor(e){this.type=W5,this.auth=Qa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{x5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new E5(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,a,l){const c=window.grecaptcha;_I(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(TD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q5().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&_I(window.grecaptcha))i(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V5();c.length!==0&&(c+=l),SD(c).then(()=>{i(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})}}async function TI(t,e,n,r=!1,i=!1){const o=new H5(t);let a;if(i)a=TD;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function N1(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await TI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await TI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){const n=Tg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(um(o,e??{}))return i;Zr(i,"already-initialized")}return n.initialize({options:e})}function K5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y5(t,e,n){const r=Qa(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=AD(e),{host:a,port:l}=X5(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Q5()}function AD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X5(t){const e=AD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:AI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:AI(a)}}}function AI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}async function J5(t,e){return Ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return qd(t,"POST","/v1/accounts:signInWithPassword",Wo(t,e))}async function e9(t,e){return Ho(t,"POST","/v1/accounts:sendOobCode",Wo(t,e))}async function t9(t,e){return e9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){return qd(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,e))}async function r9(t,e){return qd(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Mx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(e,n,"signInWithPassword",Z5);case"emailLink":return n9(e,{email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(e,r,"signUpPassword",J5);case"emailLink":return r9(e,{idToken:n,email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return qd(t,"POST","/v1/accounts:signInWithIdp",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="http://localhost";class Js extends Mx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Cx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Js(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:i9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a9(t){const e=Ef(xf(t)).link,n=e?Ef(xf(e)).deep_link_id:null,r=Ef(xf(t)).deep_link_id;return(r?Ef(xf(r)).link:null)||r||n||e||t}class Dx{constructor(e){var n,r,i,o,a,l;const c=Ef(xf(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=o9((i=c.mode)!==null&&i!==void 0?i:null);Fe(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=a9(e);try{return new Dx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,n){return Wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dx.parseLink(n);return Fe(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Lx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends zd{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return So.credential(n,r)}catch{return null}}}So.GOOGLE_SIGN_IN_METHOD="google.com";So.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends zd{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends zd{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return qd(t,"POST","/v1/accounts:signUp",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ao._fromIdTokenResponse(e,r,i),a=PI(r);return new Zs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends io{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dm(e,n,r,i)}}function PD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dm._fromErrorAndOperation(t,o,e,r):o})}async function u9(t,e,n=!1){const r=await zf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e,n=!1){const{auth:r}=t;if(Si(r.app))return Promise.reject(Ro(r));const i="reauthenticate";try{const o=await zf(t,PD(r,i,e,t),n);Fe(o.idToken,r,"internal-error");const a=Nx(o.idToken);Fe(a,r,"internal-error");const{sub:l}=a;return Fe(t.uid===l,r,"user-mismatch"),Zs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Zr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e,n=!1){if(Si(t.app))return Promise.reject(Ro(t));const r="signIn",i=await PD(t,r,e),o=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function c9(t,e){return ID(Qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t){const e=Qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(t,e,n){if(Si(t.app))return Promise.reject(Ro(t));const r=Qa(t),a=await N1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&CD(t),c}),l=await Zs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Pp(t,e,n){return Si(t.app)?Promise.reject(Ro(t)):c9(Tt(t),tc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CD(t),r})}async function RD(t,e){const n=Tt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await t9(n.auth,i);o!==t.email&&await t.reload()}function f9(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function d9(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function Hf(t){return Tt(t).signOut()}const hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=1e3,p9=10;class ND extends kD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ED(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);N5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ND.type="LOCAL";const m9=ND;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD extends kD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jD.type="SESSION";const MD=jD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,o)),c=await g9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const f=$x("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function v9(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function _9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b9(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebaseLocalStorageDb",E9=1,pm="firebaseLocalStorage",$D="fbase_key";class Wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ig(t,e){return t.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function x9(){const t=indexedDB.deleteDatabase(LD);return new Wd(t).toPromise()}function j1(){const t=indexedDB.open(LD,E9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pm,{keyPath:$D})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pm)?e(r):(r.close(),await x9(),e(await j1()))})})}async function II(t,e,n){const r=Ig(t,!0).put({[$D]:e,value:n});return new Wd(r).toPromise()}async function S9(t,e){const n=Ig(t,!1).get(e),r=await new Wd(n).toPromise();return r===void 0?null:r.value}function CI(t,e){const n=Ig(t,!0).delete(e);return new Wd(n).toPromise()}const T9=800,A9=3;class FD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pg._getInstance(b9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _9(),!this.activeServiceWorker)return;this.sender=new y9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await j1();return await II(e,hm,"1"),await CI(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>II(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ig(i,!1).getAll();return new Wd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FD.type="LOCAL";const P9=FD;new Bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){return e?Po(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Mx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I9(t){return ID(t.auth,new Fx(t),t.bypassAuthState)}function C9(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),l9(n,new Fx(t),t.bypassAuthState)}async function O9(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),u9(n,new Fx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I9;case"linkViaPopup":case"linkViaRedirect":return O9;case"reauthViaPopup":case"reauthViaRedirect":return C9;default:Zr(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new Bd(2e3,1e4);async function k9(t,e,n){if(Si(t.app))return Promise.reject(Pi(t,"operation-not-supported-in-this-environment"));const r=Qa(t);p5(t,e,Lx);const i=VD(r,n);return new Vs(r,"signInViaPopup",e,i).executeNotNull()}class Vs extends UD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){$o(this.filter.length===1,"Popup operations only handle one event");const e=$x();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R9.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="pendingRedirect",Jp=new Map;class j9 extends UD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jp.get(this.auth._key());if(!e){try{const r=await M9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jp.set(this.auth._key(),e)}return this.bypassAuthState||Jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M9(t,e){const n=$9(e),r=L9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D9(t,e){Jp.set(t._key(),e)}function L9(t){return Po(t._redirectPersistence)}function $9(t){return Qp(N9,t.config.apiKey,t.name)}async function F9(t,e,n=!1){if(Si(t.app))return Promise.reject(Ro(t));const r=Qa(t),i=VD(r,e),a=await new j9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=10*60*1e3;class U9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V9&&this.cachedEventUids.clear(),this.cachedEventUids.has(OI(e))}saveEventToCache(e){this.cachedEventUids.add(OI(e)),this.lastProcessedEventTime=Date.now()}}function OI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e={}){return Ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W9=/^https?/;async function H9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q9(t);for(const n of e)try{if(G9(n))return}catch{}Zr(t,"unauthorized-domain")}function G9(t){const e=R1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!W9.test(n))return!1;if(z9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Bd(3e4,6e4);function RI(){const t=Qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y9(t){return new Promise((e,n)=>{var r,i,o;function a(){RI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RI(),n(Pi(t,"network-request-failed"))},timeout:K9.get()})}if(!((i=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qi().gapi)===null||o===void 0)&&o.load)a();else{const l=B5("iframefcb");return Qi()[l]=()=>{gapi.load?a():n(Pi(t,"network-request-failed"))},SD(`${U5()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zp=null,e})}let Zp=null;function X9(t){return Zp=Zp||Y9(t),Zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Bd(5e3,15e3),J9="__/auth/iframe",Z9="emulator/auth/iframe",ez={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nz(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kx(e,Z9):`https://${t.config.authDomain}/${J9}`,r={apiKey:e.apiKey,appName:t.name,v:su},i=tz.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ud(r).slice(1)}`}async function rz(t){const e=await X9(t),n=Qi().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ez,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Pi(t,"network-request-failed"),l=Qi().setTimeout(()=>{o(a)},Q9.get());function c(){Qi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oz=500,az=600,sz="_blank",uz="http://localhost";class kI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lz(t,e,n,r=oz,i=az){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},iz),{width:r.toString(),height:i.toString(),top:o,left:a}),f=Wn().toLowerCase();n&&(l=yD(f)?sz:n),mD(f)&&(e=e||uz,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[_,w])=>`${y}${_}=${w},`,"");if(k5(f)&&l!=="_self")return cz(e||"",l),new kI(null);const p=window.open(e||"",l,h);Fe(p,t,"popup-blocked");try{p.focus()}catch{}return new kI(p)}function cz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="__/auth/handler",dz="emulator/auth/handler",hz=encodeURIComponent("fac");async function NI(t,e,n,r,i,o){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:su,eventId:i};if(e instanceof Lx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Zq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof zd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${hz}=${encodeURIComponent(c)}`:"";return`${pz(t)}?${Ud(l).slice(1)}${f}`}function pz({config:t}){return t.emulator?kx(t,dz):`https://${t.authDomain}/${fz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="webStorageSupport";class mz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=F9,this._overrideRedirectResult=D9}async _openPopup(e,n,r,i){var o;$o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await NI(e,n,r,R1(),i);return lz(e,a,$x())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await NI(e,n,r,R1(),i);return v9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($o(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rz(e),r=new U9(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(g_,{type:g_},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[g_];a!==void 0&&n(!!a),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ED()||gD()||jx()}}const gz=mz;var jI="@firebase/auth",MI="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _z(t){Qs(new Ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xD(t)},f=new $5(r,i,o,c);return K5(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new Ua("auth-internal",e=>{const n=Qa(e.getProvider("auth").getImmediate());return(r=>new yz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(jI,MI,vz(t)),Xi(jI,MI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=5*60,bz=tD("authIdTokenMaxAge")||wz;let DI=null;const Ez=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bz)return;const i=n==null?void 0:n.token;DI!==i&&(DI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ni(t=Ix()){const e=Tg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G5(t,{popupRedirectResolver:gz,persistence:[P9,m9,MD]}),r=tD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Ez(o.toString());d9(n,a,()=>a(n.currentUser)),f9(n,l=>a(l))}}const i=JM("auth");return i&&Y5(n,`http://${i}`),n}function xz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Pi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_z("Browser");var LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,qD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function j(){}j.prototype=R.prototype,C.D=R.prototype,C.prototype=new j,C.prototype.constructor=C,C.C=function(F,L,V){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return R.prototype[L].apply(F,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,R,j){j||(j=0);var F=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)F[L]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(L=0;16>L;++L)F[L]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=C.g[0],j=C.g[1],L=C.g[2];var V=C.g[3],I=R+(V^j&(L^V))+F[0]+3614090360&4294967295;R=j+(I<<7&4294967295|I>>>25),I=V+(L^R&(j^L))+F[1]+3905402710&4294967295,V=R+(I<<12&4294967295|I>>>20),I=L+(j^V&(R^j))+F[2]+606105819&4294967295,L=V+(I<<17&4294967295|I>>>15),I=j+(R^L&(V^R))+F[3]+3250441966&4294967295,j=L+(I<<22&4294967295|I>>>10),I=R+(V^j&(L^V))+F[4]+4118548399&4294967295,R=j+(I<<7&4294967295|I>>>25),I=V+(L^R&(j^L))+F[5]+1200080426&4294967295,V=R+(I<<12&4294967295|I>>>20),I=L+(j^V&(R^j))+F[6]+2821735955&4294967295,L=V+(I<<17&4294967295|I>>>15),I=j+(R^L&(V^R))+F[7]+4249261313&4294967295,j=L+(I<<22&4294967295|I>>>10),I=R+(V^j&(L^V))+F[8]+1770035416&4294967295,R=j+(I<<7&4294967295|I>>>25),I=V+(L^R&(j^L))+F[9]+2336552879&4294967295,V=R+(I<<12&4294967295|I>>>20),I=L+(j^V&(R^j))+F[10]+4294925233&4294967295,L=V+(I<<17&4294967295|I>>>15),I=j+(R^L&(V^R))+F[11]+2304563134&4294967295,j=L+(I<<22&4294967295|I>>>10),I=R+(V^j&(L^V))+F[12]+1804603682&4294967295,R=j+(I<<7&4294967295|I>>>25),I=V+(L^R&(j^L))+F[13]+4254626195&4294967295,V=R+(I<<12&4294967295|I>>>20),I=L+(j^V&(R^j))+F[14]+2792965006&4294967295,L=V+(I<<17&4294967295|I>>>15),I=j+(R^L&(V^R))+F[15]+1236535329&4294967295,j=L+(I<<22&4294967295|I>>>10),I=R+(L^V&(j^L))+F[1]+4129170786&4294967295,R=j+(I<<5&4294967295|I>>>27),I=V+(j^L&(R^j))+F[6]+3225465664&4294967295,V=R+(I<<9&4294967295|I>>>23),I=L+(R^j&(V^R))+F[11]+643717713&4294967295,L=V+(I<<14&4294967295|I>>>18),I=j+(V^R&(L^V))+F[0]+3921069994&4294967295,j=L+(I<<20&4294967295|I>>>12),I=R+(L^V&(j^L))+F[5]+3593408605&4294967295,R=j+(I<<5&4294967295|I>>>27),I=V+(j^L&(R^j))+F[10]+38016083&4294967295,V=R+(I<<9&4294967295|I>>>23),I=L+(R^j&(V^R))+F[15]+3634488961&4294967295,L=V+(I<<14&4294967295|I>>>18),I=j+(V^R&(L^V))+F[4]+3889429448&4294967295,j=L+(I<<20&4294967295|I>>>12),I=R+(L^V&(j^L))+F[9]+568446438&4294967295,R=j+(I<<5&4294967295|I>>>27),I=V+(j^L&(R^j))+F[14]+3275163606&4294967295,V=R+(I<<9&4294967295|I>>>23),I=L+(R^j&(V^R))+F[3]+4107603335&4294967295,L=V+(I<<14&4294967295|I>>>18),I=j+(V^R&(L^V))+F[8]+1163531501&4294967295,j=L+(I<<20&4294967295|I>>>12),I=R+(L^V&(j^L))+F[13]+2850285829&4294967295,R=j+(I<<5&4294967295|I>>>27),I=V+(j^L&(R^j))+F[2]+4243563512&4294967295,V=R+(I<<9&4294967295|I>>>23),I=L+(R^j&(V^R))+F[7]+1735328473&4294967295,L=V+(I<<14&4294967295|I>>>18),I=j+(V^R&(L^V))+F[12]+2368359562&4294967295,j=L+(I<<20&4294967295|I>>>12),I=R+(j^L^V)+F[5]+4294588738&4294967295,R=j+(I<<4&4294967295|I>>>28),I=V+(R^j^L)+F[8]+2272392833&4294967295,V=R+(I<<11&4294967295|I>>>21),I=L+(V^R^j)+F[11]+1839030562&4294967295,L=V+(I<<16&4294967295|I>>>16),I=j+(L^V^R)+F[14]+4259657740&4294967295,j=L+(I<<23&4294967295|I>>>9),I=R+(j^L^V)+F[1]+2763975236&4294967295,R=j+(I<<4&4294967295|I>>>28),I=V+(R^j^L)+F[4]+1272893353&4294967295,V=R+(I<<11&4294967295|I>>>21),I=L+(V^R^j)+F[7]+4139469664&4294967295,L=V+(I<<16&4294967295|I>>>16),I=j+(L^V^R)+F[10]+3200236656&4294967295,j=L+(I<<23&4294967295|I>>>9),I=R+(j^L^V)+F[13]+681279174&4294967295,R=j+(I<<4&4294967295|I>>>28),I=V+(R^j^L)+F[0]+3936430074&4294967295,V=R+(I<<11&4294967295|I>>>21),I=L+(V^R^j)+F[3]+3572445317&4294967295,L=V+(I<<16&4294967295|I>>>16),I=j+(L^V^R)+F[6]+76029189&4294967295,j=L+(I<<23&4294967295|I>>>9),I=R+(j^L^V)+F[9]+3654602809&4294967295,R=j+(I<<4&4294967295|I>>>28),I=V+(R^j^L)+F[12]+3873151461&4294967295,V=R+(I<<11&4294967295|I>>>21),I=L+(V^R^j)+F[15]+530742520&4294967295,L=V+(I<<16&4294967295|I>>>16),I=j+(L^V^R)+F[2]+3299628645&4294967295,j=L+(I<<23&4294967295|I>>>9),I=R+(L^(j|~V))+F[0]+4096336452&4294967295,R=j+(I<<6&4294967295|I>>>26),I=V+(j^(R|~L))+F[7]+1126891415&4294967295,V=R+(I<<10&4294967295|I>>>22),I=L+(R^(V|~j))+F[14]+2878612391&4294967295,L=V+(I<<15&4294967295|I>>>17),I=j+(V^(L|~R))+F[5]+4237533241&4294967295,j=L+(I<<21&4294967295|I>>>11),I=R+(L^(j|~V))+F[12]+1700485571&4294967295,R=j+(I<<6&4294967295|I>>>26),I=V+(j^(R|~L))+F[3]+2399980690&4294967295,V=R+(I<<10&4294967295|I>>>22),I=L+(R^(V|~j))+F[10]+4293915773&4294967295,L=V+(I<<15&4294967295|I>>>17),I=j+(V^(L|~R))+F[1]+2240044497&4294967295,j=L+(I<<21&4294967295|I>>>11),I=R+(L^(j|~V))+F[8]+1873313359&4294967295,R=j+(I<<6&4294967295|I>>>26),I=V+(j^(R|~L))+F[15]+4264355552&4294967295,V=R+(I<<10&4294967295|I>>>22),I=L+(R^(V|~j))+F[6]+2734768916&4294967295,L=V+(I<<15&4294967295|I>>>17),I=j+(V^(L|~R))+F[13]+1309151649&4294967295,j=L+(I<<21&4294967295|I>>>11),I=R+(L^(j|~V))+F[4]+4149444226&4294967295,R=j+(I<<6&4294967295|I>>>26),I=V+(j^(R|~L))+F[11]+3174756917&4294967295,V=R+(I<<10&4294967295|I>>>22),I=L+(R^(V|~j))+F[2]+718787259&4294967295,L=V+(I<<15&4294967295|I>>>17),I=j+(V^(L|~R))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var j=R-this.blockSize,F=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=j;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<R;)if(F[L++]=C.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<R;)if(F[L++]=C[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var j=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=j&255,j/=256;for(this.u(C),C=Array(16),R=j=0;4>R;++R)for(var F=0;32>F;F+=8)C[j++]=this.g[R]>>>F&255;return C};function o(C,R){var j=l;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=R(C)}function a(C,R){this.h=R;for(var j=[],F=!0,L=C.length-1;0<=L;L--){var V=C[L]|0;F&&V==R||(j[L]=V,F=!1)}this.g=j}var l={};function c(C){return-128<=C&&128>C?o(C,function(R){return new a([R|0],0>R?-1:0)}):new a([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return v(f(-C));for(var R=[],j=1,F=0;C>=j;F++)R[F]=C/j|0,j*=4294967296;return new a(R,0)}function h(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return v(h(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=f(Math.pow(R,8)),F=p,L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L),I=parseInt(C.substring(L,L+V),R);8>V?(V=f(Math.pow(R,V)),F=F.j(V).add(f(I))):(F=F.j(j),F=F.add(f(I)))}return F}var p=c(0),y=c(1),_=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-v(this).m();for(var C=0,R=1,j=0;j<this.g.length;j++){var F=this.i(j);C+=(0<=F?F:4294967296+F)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(E(this))return"-"+v(this).toString(C);for(var R=f(Math.pow(C,6)),j=this,F="";;){var L=D(j,R).g;j=P(j,L.j(R));var V=((0<j.g.length?j.g[0]:j.h)>>>0).toString(C);if(j=L,w(j))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=P(this,C),E(C)?-1:w(C)?0:1};function v(C){for(var R=C.g.length,j=[],F=0;F<R;F++)j[F]=~C.g[F];return new a(j,~C.h).add(y)}t.abs=function(){return E(this)?v(this):this},t.add=function(C){for(var R=Math.max(this.g.length,C.g.length),j=[],F=0,L=0;L<=R;L++){var V=F+(this.i(L)&65535)+(C.i(L)&65535),I=(V>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);F=I>>>16,V&=65535,I&=65535,j[L]=I<<16|V}return new a(j,j[j.length-1]&-2147483648?-1:0)};function P(C,R){return C.add(v(R))}t.j=function(C){if(w(this)||w(C))return p;if(E(this))return E(C)?v(this).j(v(C)):v(v(this).j(C));if(E(C))return v(this.j(v(C)));if(0>this.l(_)&&0>C.l(_))return f(this.m()*C.m());for(var R=this.g.length+C.g.length,j=[],F=0;F<2*R;F++)j[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<C.g.length;L++){var V=this.i(F)>>>16,I=this.i(F)&65535,z=C.i(L)>>>16,G=C.i(L)&65535;j[2*F+2*L]+=I*G,A(j,2*F+2*L),j[2*F+2*L+1]+=V*G,A(j,2*F+2*L+1),j[2*F+2*L+1]+=I*z,A(j,2*F+2*L+1),j[2*F+2*L+2]+=V*z,A(j,2*F+2*L+2)}for(F=0;F<R;F++)j[F]=j[2*F+1]<<16|j[2*F];for(F=R;F<2*R;F++)j[F]=0;return new a(j,0)};function A(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function N(C,R){this.g=C,this.h=R}function D(C,R){if(w(R))throw Error("division by zero");if(w(C))return new N(p,p);if(E(C))return R=D(v(C),R),new N(v(R.g),v(R.h));if(E(R))return R=D(C,v(R)),new N(v(R.g),R.h);if(30<C.g.length){if(E(C)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var j=y,F=R;0>=F.l(C);)j=O(j),F=O(F);var L=M(j,1),V=M(F,1);for(F=M(F,2),j=M(j,2);!w(F);){var I=V.add(F);0>=I.l(C)&&(L=L.add(j),V=I),F=M(F,1),j=M(j,1)}return R=P(C,L.j(R)),new N(L,R)}for(L=p;0<=C.l(R);){for(j=Math.max(1,Math.floor(C.m()/R.m())),F=Math.ceil(Math.log(j)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(j),I=V.j(R);E(I)||0<I.l(C);)j-=F,V=f(j),I=V.j(R);w(V)&&(V=y),L=L.add(V),C=P(C,I)}return new N(L,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var R=Math.max(this.g.length,C.g.length),j=[],F=0;F<R;F++)j[F]=this.i(F)&C.i(F);return new a(j,this.h&C.h)},t.or=function(C){for(var R=Math.max(this.g.length,C.g.length),j=[],F=0;F<R;F++)j[F]=this.i(F)|C.i(F);return new a(j,this.h|C.h)},t.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),j=[],F=0;F<R;F++)j[F]=this.i(F)^C.i(F);return new a(j,this.h^C.h)};function O(C){for(var R=C.g.length+1,j=[],F=0;F<R;F++)j[F]=C.i(F)<<1|C.i(F-1)>>>31;return new a(j,C.h)}function M(C,R){var j=R>>5;R%=32;for(var F=C.g.length-j,L=[],V=0;V<F;V++)L[V]=0<R?C.i(V+j)>>>R|C.i(V+j+1)<<32-R:C.i(V+j);return new a(L,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qD=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Hs=a}).apply(typeof LI<"u"?LI:typeof self<"u"?self:typeof window<"u"?window:{});var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zD,Sf,WD,em,M1,HD,GD,KD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,k){return m==Array.prototype||m==Object.prototype||(m[S]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ip=="object"&&Ip];for(var S=0;S<m.length;++S){var k=m[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,S){if(S)e:{var k=r;m=m.split(".");for(var B=0;B<m.length-1;B++){var Z=m[B];if(!(Z in k))break e;k=k[Z]}m=m[m.length-1],B=k[m],S=S(B),S!=B&&S!=null&&e(k,m,{configurable:!0,writable:!0,value:S})}}function o(m,S){m instanceof String&&(m+="");var k=0,B=!1,Z={next:function(){if(!B&&k<m.length){var se=k++;return{value:S(se,m[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(m){return m||function(){return o(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function h(m,S,k){return m.call.apply(m.bind,arguments)}function p(m,S,k){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,B),m.apply(S,Z)}}return function(){return m.apply(S,arguments)}}function y(m,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function _(m,S){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,S){function k(){}k.prototype=S.prototype,m.aa=S.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(B,Z,se){for(var we=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)we[pt-2]=arguments[pt];return S.prototype[Z].apply(B,we)}}function E(m){const S=m.length;if(0<S){const k=Array(S);for(let B=0;B<S;B++)k[B]=m[B];return k}return[]}function v(m,S){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(c(B)){const Z=m.length||0,se=B.length||0;m.length=Z+se;for(let we=0;we<se;we++)m[Z+we]=B[we]}else m.push(B)}}class P{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function D(m){return D[" "](m),m}D[" "]=function(){};var O=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function M(m,S,k){for(const B in m)S.call(k,m[B],B,m)}function C(m,S){for(const k in m)S.call(void 0,m[k],k,m)}function R(m){const S={};for(const k in m)S[k]=m[k];return S}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,S){let k,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(k in B)m[k]=B[k];for(let se=0;se<j.length;se++)k=j[se],Object.prototype.hasOwnProperty.call(B,k)&&(m[k]=B[k])}}function L(m){var S=1;m=m.split(":");const k=[];for(;0<S&&m.length;)k.push(m.shift()),S--;return m.length&&k.push(m.join(":")),k}function V(m){l.setTimeout(()=>{throw m},0)}function I(){var m=ie;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class z{constructor(){this.h=this.g=null}add(S,k){const B=G.get();B.set(S,k),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new P(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,ie=new z,ne=()=>{const m=l.Promise.resolve(void 0);te=()=>{m.then(W)}};var W=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(k){V(k)}var S=G;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}X=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,S),l.removeEventListener("test",k,S)}catch{}return m}();function Ce(m,S){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(O){e:{try{D(S.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(S=null)}}else k=="mouseover"?S=m.fromElement:k=="mouseout"&&(S=m.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ce.aa.h.call(this)}}w(Ce,le);var Le={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),he=0;function ae(m,S,k,B,Z){this.listener=m,this.proxy=null,this.src=S,this.type=k,this.capture=!!B,this.ha=Z,this.key=++he,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ae(m){this.src=m,this.g={},this.h=0}Ae.prototype.add=function(m,S,k,B,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var we=ze(m,S,B,Z);return-1<we?(S=m[we],k||(S.fa=!1)):(S=new ae(S,this.src,se,!!B,Z),S.fa=k,m.push(S)),S};function de(m,S){var k=S.type;if(k in m.g){var B=m.g[k],Z=Array.prototype.indexOf.call(B,S,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(B,Z,1),se&&(ve(S),m.g[k].length==0&&(delete m.g[k],m.h--))}}function ze(m,S,k,B){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==S&&se.capture==!!k&&se.ha==B)return Z}return-1}var je="closure_lm_"+(1e6*Math.random()|0),ht={};function _t(m,S,k,B,Z){if(Array.isArray(S)){for(var se=0;se<S.length;se++)_t(m,S[se],k,B,Z);return null}return k=Qo(k),m&&m[Ge]?m.K(S,k,f(B)?!!B.capture:!!B,Z):Ut(m,S,k,!1,B,Z)}function Ut(m,S,k,B,Z,se){if(!S)throw Error("Invalid event type");var we=f(Z)?!!Z.capture:!!Z,pt=Di(m);if(pt||(m[je]=pt=new Ae(m)),k=pt.add(S,k,B,we,se),k.proxy)return k;if(B=mr(),k.proxy=B,B.src=m,B.listener=k,m.addEventListener)be||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(S.toString(),B,Z);else if(m.attachEvent)m.attachEvent(Sn(S.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function mr(){function m(k){return S.call(m.src,m.listener,k)}const S=yr;return m}function gr(m,S,k,B,Z){if(Array.isArray(S))for(var se=0;se<S.length;se++)gr(m,S[se],k,B,Z);else B=f(B)?!!B.capture:!!B,k=Qo(k),m&&m[Ge]?(m=m.i,S=String(S).toString(),S in m.g&&(se=m.g[S],k=ze(se,k,B,Z),-1<k&&(ve(se[k]),Array.prototype.splice.call(se,k,1),se.length==0&&(delete m.g[S],m.h--)))):m&&(m=Di(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ze(S,k,B,Z)),(k=-1<m?S[m]:null)&&nr(k))}function nr(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ge])de(S.i,m);else{var k=m.type,B=m.proxy;S.removeEventListener?S.removeEventListener(k,B,m.capture):S.detachEvent?S.detachEvent(Sn(k),B):S.addListener&&S.removeListener&&S.removeListener(B),(k=Di(S))?(de(k,m),k.h==0&&(k.src=null,S[je]=null)):ve(m)}}}function Sn(m){return m in ht?ht[m]:ht[m]="on"+m}function yr(m,S){if(m.da)m=!0;else{S=new Ce(S,this);var k=m.listener,B=m.ha||m.src;m.fa&&nr(m),m=k.call(B,S)}return m}function Di(m){return m=m[je],m instanceof Ae?m:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qo(m){return typeof m=="function"?m:(m[ao]||(m[ao]=function(S){return m.handleEvent(S)}),m[ao])}function rn(){Y.call(this),this.i=new Ae(this),this.M=this,this.F=null}w(rn,Y),rn.prototype[Ge]=!0,rn.prototype.removeEventListener=function(m,S,k,B){gr(this,m,S,k,B)};function on(m,S){var k,B=m.F;if(B)for(k=[];B;B=B.F)k.push(B);if(m=m.M,B=S.type||S,typeof S=="string")S=new le(S,m);else if(S instanceof le)S.target=S.target||m;else{var Z=S;S=new le(B,m),F(S,Z)}if(Z=!0,k)for(var se=k.length-1;0<=se;se--){var we=S.g=k[se];Z=so(we,B,!0,S)&&Z}if(we=S.g=m,Z=so(we,B,!0,S)&&Z,Z=so(we,B,!1,S)&&Z,k)for(se=0;se<k.length;se++)we=S.g=k[se],Z=so(we,B,!1,S)&&Z}rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var k=m.g[S],B=0;B<k.length;B++)ve(k[B]);delete m.g[S],m.h--}}this.F=null},rn.prototype.K=function(m,S,k,B){return this.i.add(String(m),S,!1,k,B)},rn.prototype.L=function(m,S,k,B){return this.i.add(String(m),S,!0,k,B)};function so(m,S,k,B){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var Z=!0,se=0;se<S.length;++se){var we=S[se];if(we&&!we.da&&we.capture==k){var pt=we.listener,an=we.ha||we.src;we.fa&&de(m.i,we),Z=pt.call(an,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function pc(m,S,k){if(typeof m=="function")k&&(m=y(m,k));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(m,S||0)}function Jo(m){m.g=pc(()=>{m.g=null,m.i&&(m.i=!1,Jo(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class as extends Y{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(m){Y.call(this),this.h=m,this.g={}}w(ss,Y);var mc=[];function gc(m){M(m.g,function(S,k){this.g.hasOwnProperty(k)&&nr(S)},m),m.g={}}ss.prototype.N=function(){ss.aa.N.call(this),gc(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yc=l.JSON.stringify,vc=l.JSON.parse,_c=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function us(){}us.prototype.h=null;function hu(m){return m.h||(m.h=m.i())}function pu(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){le.call(this,"d")}w(Li,le);function mu(){le.call(this,"c")}w(mu,le);var $i={},wc=null;function ls(){return wc=wc||new rn}$i.La="serverreachability";function bc(m){le.call(this,$i.La,m)}w(bc,le);function uo(m){const S=ls();on(S,new bc(S))}$i.STAT_EVENT="statevent";function Ec(m,S){le.call(this,$i.STAT_EVENT,m),this.stat=S}w(Ec,le);function Gt(m){const S=ls();on(S,new Ec(S,m))}$i.Ma="timingevent";function gu(m,S){le.call(this,$i.Ma,m),this.size=S}w(gu,le);function ri(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},S)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function fs(m,S,k,B,Z,se){m.info(function(){if(m.g)if(se)for(var we="",pt=se.split("&"),an=0;an<pt.length;an++){var nt=pt[an].split("=");if(1<nt.length){var mn=nt[0];nt=nt[1];var Qt=mn.split("_");we=2<=Qt.length&&Qt[1]=="type"?we+(mn+"="+nt+"&"):we+(mn+"=redacted&")}}else we=null;else we=se;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+S+`
`+k+`
`+we})}function yu(m,S,k,B,Z,se,we){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+S+`
`+k+`
`+se+" "+we})}function ii(m,S,k,B){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ry(m,k)+(B?" "+B:"")})}function xc(m,S){m.info(function(){return"TIMEOUT: "+S})}cs.prototype.info=function(){};function Ry(m,S){if(!m.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var B=k[m];if(!(2>B.length)){var Z=B[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return yc(k)}catch{return S}}var vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function ds(){}w(ds,us),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},oi=new ds;function ai(m,S,k,B){this.j=m,this.i=S,this.l=k,this.R=B||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}var Sc={},_u={};function wu(m,S,k){m.L=1,m.v=ra(_r(S)),m.m=k,m.P=!0,Tc(m,null)}function Tc(m,S){m.F=Date.now(),Et(m),m.A=_r(m.v);var k=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),oa(k.i,"t",B),m.C=0,k=m.j.J,m.h=new lh,m.g=Ph(m.j,k?S:null,!m.m),0<m.O&&(m.M=new as(y(m.Y,m,m.g),m.O)),S=m.U,k=m.g,B=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(mc[0]=Z.toString()),Z=mc);for(var se=0;se<Z.length;se++){var we=_t(k,Z[se],B||S.handleEvent,!1,S.h||S);if(!we)break;S.g[we.key]=we}S=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),uo(),fs(m.i,m.u,m.A,m.l,m.R,m.m)}ai.prototype.ca=function(m){m=m.target;const S=this.M;S&&ir(m)==3?S.j():this.Y(m)},ai.prototype.Y=function(m){try{if(m==this.g)e:{const Qt=ir(this.g);var S=this.g.Ba();const Mr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Qt!=4||S==7||(S==8||0>=Mr?uo(3):uo(2)),hs(this);var k=this.g.Z();this.X=k;t:if(ch(this)){var B=Rc(this.g);m="";var Z=B.length,se=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Zo(this);var we="";break t}this.h.i=new l.TextDecoder}for(S=0;S<Z;S++)this.h.h=!0,m+=this.h.i.decode(B[S],{stream:!(se&&S==Z-1)});B.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=k==200,yu(this.i,this.u,this.A,this.l,this.R,Qt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,an=this.g;if((pt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(pt)){var nt=pt;break t}}nt=null}if(k=nt)ii(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,k);else{this.o=!1,this.s=3,Gt(12),Nr(this),Zo(this);break e}}if(this.P){k=!0;let br;for(;!this.J&&this.C<we.length;)if(br=ky(this,we),br==_u){Qt==4&&(this.s=4,Gt(14),k=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(br==Sc){this.s=4,Gt(15),ii(this.i,this.l,we,"[Invalid Chunk]"),k=!1;break}else ii(this.i,this.l,br,null),Ac(this,br);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||we.length!=0||this.h.h||(this.s=1,Gt(16),k=!1),this.o=this.o&&k,!k)ii(this.i,this.l,we,"[Invalid Chunked Response]"),Nr(this),Zo(this);else if(0<we.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Nc(mn),mn.M=!0,Gt(11))}}else ii(this.i,this.l,we,null),Ac(this,we);Qt==4&&Nr(this),this.o&&!this.J&&(Qt==4?Ru(this.j,this):(this.o=!1,Et(this)))}else Au(this.g),k==400&&0<we.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Nr(this),Zo(this)}}}catch{}finally{}};function ch(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ky(m,S){var k=m.C,B=S.indexOf(`
`,k);return B==-1?_u:(k=Number(S.substring(k,B)),isNaN(k)?Sc:(B+=1,B+k>S.length?_u:(S=S.slice(B,B+k),m.C=B+k,S)))}ai.prototype.cancel=function(){this.J=!0,Nr(this)};function Et(m){m.S=Date.now()+m.I,fh(m,m.I)}function fh(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ri(y(m.ba,m),S)}function hs(m){m.B&&(l.clearTimeout(m.B),m.B=null)}ai.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(xc(this.i,this.A),this.L!=2&&(uo(),Gt(17)),Nr(this),this.s=2,Zo(this)):fh(this,this.S-m)};function Zo(m){m.j.G==0||m.J||Ru(m.j,m)}function Nr(m){hs(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,gc(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Ac(m,S){try{var k=m.j;if(k.G!=0&&(k.g==m||Hn(k.h,m))){if(!m.K&&Hn(k.h,m)&&k.G==3){try{var B=k.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)Ou(k),fi(k);else break e;Cu(k),Gt(18)}}else k.za=Z[1],0<k.za-k.T&&37500>Z[2]&&k.F&&k.v==0&&!k.C&&(k.C=ri(y(k.Za,k),6e3));if(1>=hh(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else po(k,11)}else if((m.K||k.g==m)&&Ou(k),!A(S))for(Z=k.Da.g.parse(S),S=0;S<Z.length;S++){let nt=Z[S];if(k.T=nt[0],nt=nt[1],k.G==2)if(nt[0]=="c"){k.K=nt[1],k.ia=nt[2];const mn=nt[3];mn!=null&&(k.la=mn,k.j.info("VER="+k.la));const Qt=nt[4];Qt!=null&&(k.Aa=Qt,k.j.info("SVER="+k.Aa));const Mr=nt[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(B=1.5*Mr,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const br=m.g;if(br){const ws=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var se=B.h;se.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Pc(se,se.h),se.h=null))}if(B.D){const Nu=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Nu&&(B.ya=Nu,wt(B.I,B.D,Nu))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var we=m;if(B.qa=Ah(B,B.J?B.ia:null,B.W),we.K){ph(B.h,we);var pt=we,an=B.L;an&&(pt.I=an),pt.B&&(hs(pt),Et(pt)),B.g=we}else _s(B);0<k.i.length&&Bi(k)}else nt[0]!="stop"&&nt[0]!="close"||po(k,7);else k.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?po(k,7):An(k):nt[0]!="noop"&&k.l&&k.l.ta(nt),k.v=0)}}uo(4)}catch{}}var dh=class{constructor(m,S){this.g=m,this.map=S}};function ps(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hh(m){return m.h?1:m.g?m.g.size:0}function Hn(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Pc(m,S){m.g?m.g.add(S):m.h=S}function ph(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}ps.prototype.cancel=function(){if(this.i=mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const k of m.g.values())S=S.concat(k.D);return S}return E(m.i)}function bu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],k=m.length,B=0;B<k;B++)S.push(m[B]);return S}S=[],k=0;for(B in m)S[k++]=m[B];return S}function Eu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var k=0;k<m;k++)S.push(k);return S}S=[],k=0;for(const B in m)S[k++]=B;return S}}}function ea(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var k=Eu(m),B=bu(m),Z=B.length,se=0;se<Z;se++)S.call(void 0,B[se],k&&k[se],m)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ny(m,S){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var B=m[k].indexOf("="),Z=null;if(0<=B){var se=m[k].substring(0,B);Z=m[k].substring(B+1)}else se=m[k];S(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function lo(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof lo){this.h=m.h,gs(this,m.j),this.o=m.o,this.g=m.g,ta(this,m.s),this.l=m.l;var S=m.i,k=new Fi;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),na(this,k),this.m=m.m}else m&&(S=String(m).match(ms))?(this.h=!1,gs(this,S[1]||"",!0),this.o=et(S[2]||""),this.g=et(S[3]||"",!0),ta(this,S[4]),this.l=et(S[5]||"",!0),na(this,S[6]||"",!0),this.m=et(S[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}lo.prototype.toString=function(){var m=[],S=this.j;S&&m.push(ia(S,xu,!0),":");var k=this.g;return(k||S=="file")&&(m.push("//"),(S=this.o)&&m.push(ia(S,xu,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(ia(k,k.charAt(0)=="/"?vh:yh,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",ia(k,Ic)),m.join("")};function _r(m){return new lo(m)}function gs(m,S,k){m.j=k?et(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function ta(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function na(m,S,k){S instanceof Fi?(m.i=S,Vi(m.i,m.h)):(k||(S=ia(S,_h)),m.i=new Fi(S,m.h))}function wt(m,S,k){m.i.set(S,k)}function ra(m){return wt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function et(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ia(m,S,k){return typeof m=="string"?(m=encodeURI(m).replace(S,gh),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function gh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var xu=/[#\/\?@]/g,yh=/[#\?:]/g,vh=/[#\?]/g,_h=/[#\?@]/g,Ic=/#/g;function Fi(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Tn(m){m.g||(m.g=new Map,m.h=0,m.i&&Ny(m.i,function(S,k){m.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=Fi.prototype,t.add=function(m,S){Tn(this),this.i=null,m=jr(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(S),this.h+=1,this};function si(m,S){Tn(m),S=jr(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function ui(m,S){return Tn(m),S=jr(m,S),m.g.has(S)}t.forEach=function(m,S){Tn(this),this.g.forEach(function(k,B){k.forEach(function(Z){m.call(S,Z,B,this)},this)},this)},t.na=function(){Tn(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let B=0;B<S.length;B++){const Z=m[B];for(let se=0;se<Z.length;se++)k.push(S[B])}return k},t.V=function(m){Tn(this);let S=[];if(typeof m=="string")ui(this,m)&&(S=S.concat(this.g.get(jr(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)S=S.concat(m[k])}return S},t.set=function(m,S){return Tn(this),this.i=null,m=jr(this,m),ui(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function oa(m,S,k){si(m,S),0<k.length&&(m.i=null,m.g.set(jr(m,S),E(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var B=S[k];const se=encodeURIComponent(String(B)),we=this.V(B);for(B=0;B<we.length;B++){var Z=se;we[B]!==""&&(Z+="="+encodeURIComponent(String(we[B]))),m.push(Z)}}return this.i=m.join("&")};function jr(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Vi(m,S){S&&!m.j&&(Tn(m),m.i=null,m.g.forEach(function(k,B){var Z=B.toLowerCase();B!=Z&&(si(this,B),oa(this,Z,k))},m)),m.j=S}function jy(m,S){const k=new cs;if(l.Image){const B=new Image;B.onload=_(rr,k,"TestLoadImage: loaded",!0,S,B),B.onerror=_(rr,k,"TestLoadImage: error",!1,S,B),B.onabort=_(rr,k,"TestLoadImage: abort",!1,S,B),B.ontimeout=_(rr,k,"TestLoadImage: timeout",!1,S,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else S(!1)}function wh(m,S){const k=new cs,B=new AbortController,Z=setTimeout(()=>{B.abort(),rr(k,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:B.signal}).then(se=>{clearTimeout(Z),se.ok?rr(k,"TestPingServer: ok",!0,S):rr(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Z),rr(k,"TestPingServer: error",!1,S)})}function rr(m,S,k,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(k)}catch{}}function My(){this.g=new _c}function bh(m,S,k){const B=k||"";try{ea(m,function(Z,se){let we=Z;f(Z)&&(we=yc(Z)),S.push(B+se+"="+encodeURIComponent(we))})}catch(Z){throw S.push(B+"type="+encodeURIComponent("_badmap")),Z}}function co(m){this.l=m.Ub||null,this.j=m.eb||!1}w(co,us),co.prototype.g=function(){return new ys(this.l,this.j)},co.prototype.i=function(m){return function(){return m}}({});function ys(m,S){rn.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ys,rn),t=ys.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,ci(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?li(this):ci(this),this.readyState==3&&Eh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,li(this))},t.Qa=function(m){this.g&&(this.response=m,li(this))},t.ga=function(){this.g&&li(this)};function li(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ci(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=S.next();return m.join(`\r
`)};function ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function fo(m){let S="";return M(m,function(k,B){S+=B,S+=":",S+=k,S+=`\r
`}),S}function aa(m,S,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=fo(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):wt(m,S,k))}function Rt(m){rn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Rt,rn);var Dy=/^https?$/i,Cc=["POST","PUT"];t=Rt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?hu(this.o):hu(oi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(se){vs(this,se);return}if(m=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)k.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())k.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(se=>se.toLowerCase()=="content-type"),Z=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Cc,S,void 0))||B||Z||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,we]of k)this.g.setRequestHeader(se,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tu(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){vs(this,se)}};function vs(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,Su(m),wr(m)}function Su(m){m.A||(m.A=!0,on(m,"complete"),on(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,on(this,"complete"),on(this,"abort"),wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},t.bb=function(){Oc(this)};function Oc(m){if(m.h&&typeof a<"u"&&(!m.v[1]||ir(m)!=4||m.Z()!=2)){if(m.u&&ir(m)==4)pc(m.Ea,0,m);else if(on(m,"readystatechange"),ir(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var B;if(B=we===0){var Z=String(m.D).match(ms)[1]||null;!Z&&l.self&&l.self.location&&(Z=l.self.location.protocol.slice(0,-1)),B=!Dy.test(Z?Z.toLowerCase():"")}k=B}if(k)on(m,"complete"),on(m,"success");else{m.m=6;try{var se=2<ir(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",Su(m)}}finally{wr(m)}}}}function wr(m,S){if(m.g){Tu(m);const k=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||on(m,"ready");try{k.onreadystatechange=B}catch{}}}function Tu(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ir(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),vc(S)}};function Rc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Au(m){const S={};m=(m.g&&2<=ir(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(A(m[B]))continue;var k=L(m[B]);const Z=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const se=S[Z]||[];S[Z]=se,se.push(k)}C(S,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(m,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||S}function kc(m){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ui("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ui("baseRetryDelayMs",5e3,m),this.cb=Ui("retryDelaySeedMs",1e4,m),this.Wa=Ui("forwardChannelMaxRetries",2,m),this.wa=Ui("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(m&&m.concurrentRequestLimit),this.Da=new My,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kc.prototype,t.la=8,t.G=1,t.connect=function(m,S,k,B){Gt(0),this.W=m,this.H=S||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=Ah(this,null,this.W),Bi(this)};function An(m){if(Pu(m),m.G==3){var S=m.U++,k=_r(m.I);if(wt(k,"SID",m.K),wt(k,"RID",S),wt(k,"TYPE","terminate"),ho(m,k),S=new ai(m,m.j,S),S.L=2,S.v=ra(_r(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=S.v,k=!0),k||(S.g=Ph(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Et(S)}Th(m)}function fi(m){m.g&&(Nc(m),m.g.cancel(),m.g=null)}function Pu(m){fi(m),m.u&&(l.clearTimeout(m.u),m.u=null),Ou(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Bi(m){if(!vr(m.h)&&!m.s){m.s=!0;var S=m.Ga;te||ne(),X||(te(),X=!0),ie.add(S,m),m.B=0}}function Ly(m,S){return hh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ri(y(m.Ga,m,S),Sh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new ai(this,this.j,m);let se=this.o;if(this.S&&(se?(se=R(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=sa(this,Z,S),k=_r(this.I),wt(k,"RID",m),wt(k,"CVER",22),this.D&&wt(k,"X-HTTP-Session-Id",this.D),ho(this,k),se&&(this.O?S="headers="+encodeURIComponent(String(fo(se)))+"&"+S:this.m&&aa(k,this.m,se)),Pc(this.h,Z),this.Ua&&wt(k,"TYPE","init"),this.P?(wt(k,"$req",S),wt(k,"SID","null"),Z.T=!0,wu(Z,k,null)):wu(Z,k,S),this.G=2}}else this.G==3&&(m?Iu(this,m):this.i.length==0||vr(this.h)||Iu(this))};function Iu(m,S){var k;S?k=S.l:k=m.U++;const B=_r(m.I);wt(B,"SID",m.K),wt(B,"RID",k),wt(B,"AID",m.T),ho(m,B),m.m&&m.o&&aa(B,m.m,m.o),k=new ai(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),S&&(m.i=S.D.concat(m.i)),S=sa(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Pc(m.h,k),wu(k,B,S)}function ho(m,S){m.H&&M(m.H,function(k,B){wt(S,B,k)}),m.l&&ea({},function(k,B){wt(S,B,k)})}function sa(m,S,k){k=Math.min(m.i.length,k);var B=m.l?y(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const we=["count="+k];se==-1?0<k?(se=Z[0].g,we.push("ofs="+se)):se=0:we.push("ofs="+se);let pt=!0;for(let an=0;an<k;an++){let nt=Z[an].g;const mn=Z[an].map;if(nt-=se,0>nt)se=Math.max(0,Z[an].g-100),pt=!1;else try{bh(mn,we,"req"+nt+"_")}catch{B&&B(mn)}}if(pt){B=we.join("&");break e}}}return m=m.i.splice(0,k),S.D=m,B}function _s(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;te||ne(),X||(te(),X=!0),ie.add(S,m),m.v=0}}function Cu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ri(y(m.Fa,m),Sh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ri(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),fi(this),xh(this))};function Nc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function xh(m){m.g=new ai(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=_r(m.qa);wt(S,"RID","rpc"),wt(S,"SID",m.K),wt(S,"AID",m.T),wt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&wt(S,"TO",m.ja),wt(S,"TYPE","xmlhttp"),ho(m,S),m.m&&m.o&&aa(S,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=ra(_r(S)),k.m=null,k.P=!0,Tc(k,m)}t.Za=function(){this.C!=null&&(this.C=null,fi(this),Cu(this),Gt(19))};function Ou(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Ru(m,S){var k=null;if(m.g==S){Ou(m),Nc(m),m.g=null;var B=2}else if(Hn(m.h,S))k=S.D,ph(m.h,S),B=1;else return;if(m.G!=0){if(S.o)if(B==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var Z=m.B;B=ls(),on(B,new gu(B,k)),Bi(m)}else _s(m);else if(Z=S.s,Z==3||Z==0&&0<S.X||!(B==1&&Ly(m,S)||B==2&&Cu(m)))switch(k&&0<k.length&&(S=m.h,S.i=S.i.concat(k)),Z){case 1:po(m,5);break;case 4:po(m,10);break;case 3:po(m,6);break;default:po(m,2)}}}function Sh(m,S){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*S}function po(m,S){if(m.j.info("Error code "+S),S==2){var k=y(m.fb,m),B=m.Xa;const Z=!B;B=new lo(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||gs(B,"https"),ra(B),Z?jy(B.toString(),k):wh(B.toString(),k)}else Gt(2);m.G=0,m.l&&m.l.sa(S),Th(m),Pu(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Th(m){if(m.G=0,m.ka=[],m.l){const S=mh(m.h);(S.length!=0||m.i.length!=0)&&(v(m.ka,S),v(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function Ah(m,S,k){var B=k instanceof lo?_r(k):new lo(k);if(B.g!="")S&&(B.g=S+"."+B.g),ta(B,B.s);else{var Z=l.location;B=Z.protocol,S=S?S+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new lo(null);B&&gs(se,B),S&&(se.g=S),Z&&ta(se,Z),k&&(se.l=k),B=se}return k=m.D,S=m.ya,k&&S&&wt(B,k,S),wt(B,"VER",m.la),ho(m,B),B}function Ph(m,S,k){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Rt(new co({eb:k})):new Rt(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}t=jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ku(){}ku.prototype.g=function(m,S){return new Gn(m,S)};function Gn(m,S){rn.call(this),this.g=new kc(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!A(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!A(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new qi(this)}w(Gn,rn),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){An(this.g)},Gn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=yc(m),m=k);S.i.push(new dh(S.Ya++,m)),S.G==3&&Bi(S)},Gn.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Gn.aa.N.call(this)};function Ih(m){Li.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const k in S){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}w(Ih,Li);function Ch(){mu.call(this),this.status=1}w(Ch,mu);function qi(m){this.g=m}w(qi,jc),qi.prototype.ua=function(){on(this.g,"a")},qi.prototype.ta=function(m){on(this.g,new Ih(m))},qi.prototype.sa=function(m){on(this.g,new Ch)},qi.prototype.ra=function(){on(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,KD=function(){return new ku},GD=function(){return ls()},HD=$i,M1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,em=vu,uh.COMPLETE="complete",WD=uh,pu.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",rn.prototype.listen=rn.prototype.K,Sf=pu,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,zD=Rt}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});const $I="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Ax("@firebase/firestore");function ol(){return eu.logLevel}function Se(t,...e){if(eu.logLevel<=Ye.DEBUG){const n=e.map(Vx);eu.debug(`Firestore (${nc}): ${t}`,...n)}}function Fo(t,...e){if(eu.logLevel<=Ye.ERROR){const n=e.map(Vx);eu.error(`Firestore (${nc}): ${t}`,...n)}}function bl(t,...e){if(eu.logLevel<=Ye.WARN){const n=e.map(Vx);eu.warn(`Firestore (${nc}): ${t}`,...n)}}function Vx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: `+t;throw Fo(e),new Error(e)}function dt(t,e){t||Ue()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class Tz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Az{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new YD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Bn(e)}}class Pz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Iz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){dt(this.o===void 0);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new Cz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Rz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new dn(0,0))}static max(){return new qe(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(),r===void 0?r=e.length-n:r>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends Gf{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const kz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Gf{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return kz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ot.fromString(e))}static fromName(e){return new Ne(Ot.fromString(e).popFirst(5))}static empty(){return new Ne(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ot(e.slice()))}}function Nz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new Ba(i,Ne.empty(),e)}function jz(t){return new Ba(t.readTime,t.key,-1)}class Ba{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ba(qe.min(),Ne.empty(),-1)}static max(){return new Ba(qe.max(),Ne.empty(),-1)}}function Mz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Dz)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(h=>{a[f]=h,++l,l===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new fe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $z(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cg.oe=-1;function Og(t){return t==null}function mm(t){return t===0&&1/t==-1/0}function Fz(t){return typeof t=="number"&&Number.isInteger(t)&&!mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FI(e)),e=Uz(t.get(n),e);return FI(e)}function Uz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function FI(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UI(this.data.getIterator())}getIteratorFrom(e){return new UI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class UI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new hn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new JD("Invalid base64 string: "+o):o}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Bz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(dt(!!t),typeof t=="string"){let e=0;const n=Bz.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rg(t){const e=t.mapValue.fields.__previous_value__;return Ux(e)?Rg(e):e}function Kf(t){const e=qa(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n,r,i,o,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Yf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ux(t)?4:Wz(t)?9007199254740991:zz(t)?10:11:Ue()}function no(t,e){if(t===e)return!0;const n=Wa(t);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=qa(i.timestampValue),l=qa(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return za(i.bytesValue).isEqual(za(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Yt(i.doubleValue),l=Yt(o.doubleValue);return a===l?mm(a)===mm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],no);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(VI(a)!==VI(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!no(a[c],l[c])))return!1;return!0}(t,e);default:return Ue()}}function Xf(t,e){return(t.values||[]).find(n=>no(n,e))!==void 0}function xl(t,e){if(t===e)return 0;const n=Wa(t),r=Wa(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Yt(o.integerValue||o.doubleValue),c=Yt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return BI(t.timestampValue,e.timestampValue);case 4:return BI(Kf(t),Kf(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return function(o,a){const l=za(o),c=za(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=tt(l[f],c[f]);if(h!==0)return h}return tt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=tt(Yt(o.latitude),Yt(a.latitude));return l!==0?l:tt(Yt(o.longitude),Yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qI(t.arrayValue,e.arrayValue);case 10:return function(o,a){var l,c,f,h;const p=o.fields||{},y=a.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=(c=y.value)===null||c===void 0?void 0:c.arrayValue,E=tt(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:qI(_,w)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Op.mapValue&&a===Op.mapValue)return 0;if(o===Op.mapValue)return 1;if(a===Op.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=tt(c[p],h[p]);if(y!==0)return y;const _=xl(l[c[p]],f[h[p]]);if(_!==0)return _}return tt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function BI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=qa(t),r=qa(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function qI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=xl(n[i],r[i]);if(o)return o}return tt(n.length,r.length)}function Sl(t){return D1(t)}function D1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=D1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${D1(n.fields[a])}`;return i+"}"}(t.mapValue):Ue()}function tm(t){switch(Wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rg(t);return e?16+tm(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+tm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ja(r.fields,(o,a)=>{i+=o.length+tm(a)}),i}(t.mapValue);default:throw Ue()}}function zI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L1(t){return!!t&&"integerValue"in t}function Bx(t){return!!t&&"arrayValue"in t}function WI(t){return!!t&&"nullValue"in t}function HI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}function zz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Wz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(n)}setAll(e){let n=Nn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=kf(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ja(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new dr(kf(this.value))}}function ZD(t){const e=[];return Ja(t.fields,(n,r)=>{const i=new Nn([n]);if(nm(r)){const o=ZD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,qe.min(),qe.min(),qe.min(),dr.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,qe.min(),qe.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,qe.min(),qe.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function GI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(a.referenceValue),n.key):r=xl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!no(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{}class tn extends eL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kz(e,n,r):n==="array-contains"?new Qz(e,r):n==="in"?new Jz(e,r):n==="not-in"?new Zz(e,r):n==="array-contains-any"?new e8(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yz(e,r):new Xz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xl(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends eL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ci(e,n)}matches(e){return tL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tL(t){return t.op==="and"}function nL(t){return Gz(t)&&tL(t)}function Gz(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function $1(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(nL(t))return t.filters.map(e=>$1(e)).join(",");{const e=t.filters.map(n=>$1(n)).join(",");return`${t.op}(${e})`}}function rL(t,e){return t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&no(r.value,i.value)}(t,e):t instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&rL(a,i.filters[l]),!0):!1}(t,e):void Ue()}function iL(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(iL).join(" ,")+"}"}(t):"Filter"}class Kz extends tn{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yz extends tn{constructor(e,n){super(e,"in",n),this.keys=oL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xz extends tn{constructor(e,n){super(e,"not-in",n),this.keys=oL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class Qz extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bx(n)&&Xf(n.arrayValue,this.value)}}class Jz extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xf(this.value.arrayValue,n)}}class Zz extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xf(this.value.arrayValue,n)}}class e8 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function YI(t,e=null,n=[],r=[],i=null,o=null,a=null){return new t8(t,e,n,r,i,o,a)}function qx(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sl(r)).join(",")),e.ue=n}return e.ue}function zx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KI(t.startAt,e.startAt)&&KI(t.endAt,e.endAt)}function F1(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function n8(t,e,n,r,i,o,a,l){return new oc(t,e,n,r,i,o,a,l)}function kg(t){return new oc(t)}function XI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aL(t){return t.collectionGroup!==null}function Nf(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new hn(Nn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Qf(o,r))}),n.has(Nn.keyField().canonicalString())||e.ce.push(new Qf(Nn.keyField(),r))}return e.ce}function Ji(t){const e=He(t);return e.le||(e.le=r8(e,Nf(t))),e.le}function r8(t,e){if(t.limitType==="F")return YI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qf(i.field,o)});const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return YI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V1(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return zx(Ji(t),Ji(e))&&t.limitType===e.limitType}function sL(t){return`${qx(Ji(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iL(i)).join(", ")}]`),Og(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sl(i)).join(",")),`Target(${r})`}(Ji(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Nf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const f=GI(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,Nf(r),i)||r.endAt&&!function(a,l,c){const f=GI(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,Nf(r),i))}(t,e)}function i8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uL(t){return(e,n)=>{let r=!1;for(const i of Nf(t)){const o=o8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o8(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),f=l.data.field(o);return c!==null&&f!==null?xl(c,f):Ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=new Vt(Ne.comparator);function Vo(){return a8}const lL=new Vt(Ne.comparator);function Tf(...t){let e=lL;for(const n of t)e=e.insert(n.key,n);return e}function cL(t){let e=lL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return jf()}function fL(){return jf()}function jf(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const s8=new Vt(Ne.comparator),u8=new hn(Ne.comparator);function Qe(...t){let e=u8;for(const n of t)e=e.add(n);return e}const l8=new hn(tt);function c8(){return l8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function dL(t){return{integerValue:""+t}}function f8(t,e){return Fz(e)?dL(e):Wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this._=void 0}}function d8(t,e,n){return t instanceof Jf?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ux(o)&&(o=Rg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Zf?pL(t,e):t instanceof ed?mL(t,e):function(i,o){const a=hL(i,o),l=QI(a)+QI(i.Pe);return L1(a)&&L1(i.Pe)?dL(l):Wx(i.serializer,l)}(t,e)}function h8(t,e,n){return t instanceof Zf?pL(t,e):t instanceof ed?mL(t,e):n}function hL(t,e){return t instanceof vm?function(r){return L1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Jf extends Mg{}class Zf extends Mg{constructor(e){super(),this.elements=e}}function pL(t,e){const n=gL(e);for(const r of t.elements)n.some(i=>no(i,r))||n.push(r);return{arrayValue:{values:n}}}class ed extends Mg{constructor(e){super(),this.elements=e}}function mL(t,e){let n=gL(e);for(const r of t.elements)n=n.filter(i=>!no(i,r));return{arrayValue:{values:n}}}class vm extends Mg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function QI(t){return Yt(t.integerValue||t.doubleValue)}function gL(t){return Bx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.field=e,this.transform=n}}function m8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zf&&i instanceof Zf||r instanceof ed&&i instanceof ed?El(r.elements,i.elements,no):r instanceof vm&&i instanceof vm?no(r.Pe,i.Pe):r instanceof Jf&&i instanceof Jf}(t.transform,e.transform)}class g8{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dg{}function yL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hx(t.key,Ii.none()):new Hd(t.key,t.data,Ii.none());{const n=t.data,r=dr.empty();let i=new hn(Nn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Za(t.key,r,new Or(i.toArray()),Ii.none())}}function y8(t,e,n){t instanceof Hd?function(i,o,a){const l=i.value.clone(),c=ZI(i.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(i,o,a){if(!rm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=ZI(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(vL(i)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Mf(t,e,n,r){return t instanceof Hd?function(o,a,l,c){if(!rm(o.precondition,a))return l;const f=o.value.clone(),h=eC(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(o,a,l,c){if(!rm(o.precondition,a))return l;const f=eC(o.fieldTransforms,c,a),h=a.data;return h.setAll(vL(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,a,l){return rm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function v8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=hL(r.transform,i||null);o!=null&&(n===null&&(n=dr.empty()),n.set(r.field,o))}return n||null}function JI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(o,a)=>m8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Dg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Za extends Dg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZI(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,h8(a,l,n[i]))}return r}function eC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,d8(o,a,e))}return r}class Hx extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _8 extends Dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&y8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fL();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const c=yL(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>JI(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>JI(n,r))}}class Gx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=function(){return s8}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Gx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,rt;function x8(t){switch(t){default:return Ue();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function _L(t){if(t===void 0)return Fo("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Zt.OK:return ce.OK;case Zt.CANCELLED:return ce.CANCELLED;case Zt.UNKNOWN:return ce.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ce.INTERNAL;case Zt.UNAVAILABLE:return ce.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ce.NOT_FOUND;case Zt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Zt.ABORTED:return ce.ABORTED;case Zt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Zt.DATA_LOSS:return ce.DATA_LOSS;default:return Ue()}}(rt=Zt||(Zt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new Hs([4294967295,4294967295],0);function tC(t){const e=S8().encode(t),n=new qD;return n.update(e),new Uint8Array(n.digest())}function nC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([i,o],0)]}class Kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Af(`Invalid padding: ${n}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Af(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Hs.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Hs.fromNumber(r)));return i.compare(T8)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=tC(e),[r,i]=nC(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Kx(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=tC(e),[r,i]=nC(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lg(qe.min(),i,new Vt(tt),Vo(),Qe())}}class Gd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class wL{constructor(e,n){this.targetId=e,this.me=n}}class bL{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rC{constructor(){this.fe=0,this.ge=iC(),this.pe=Mn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new Gd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class A8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vo(),this.qe=Rp(),this.Qe=Rp(),this.Ke=new Vt(tt)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(F1(o))if(r===0){const a=new Ne(o.path);this.We(n,a,qn.newNoDocument(a,qe.min()))}else dt(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=za(r).toUint8Array()}catch(c){if(c instanceof JD)return bl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Kx(a,i,o)}catch(c){return bl(c instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Ye(a);if(l){if(o.current&&F1(l.target)){const c=new Ne(l.target.path);this.st(c).has(a)||this.ot(a,c)||this.We(a,c,qn.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Qe();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const f=this.Ye(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Lg(e,n,this.Ke,this.ke,r);return this.ke=Vo(),this.qe=Rp(),this.Qe=Rp(),this.Ke=new Vt(tt),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new rC,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new hn(tt),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new hn(tt),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new rC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Rp(){return new Vt(Ne.comparator)}function iC(){return new Vt(Ne.comparator)}const P8={asc:"ASCENDING",desc:"DESCENDING"},I8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C8={and:"AND",or:"OR"};class O8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function U1(t,e){return t.useProto3Json||Og(e)?e:{value:e}}function _m(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R8(t,e){return _m(t,e.toTimestamp())}function Zi(t){return dt(!!t),qe.fromTimestamp(function(n){const r=qa(n);return new dn(r.seconds,r.nanos)}(t))}function Yx(t,e){return B1(t,e).canonicalString()}function B1(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xL(t){const e=Ot.fromString(t);return dt(IL(e)),e}function q1(t,e){return Yx(t.databaseId,e.path)}function y_(t,e){const n=xL(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(TL(n))}function SL(t,e){return Yx(t.databaseId,e)}function k8(t){const e=xL(t);return e.length===4?Ot.emptyPath():TL(e)}function z1(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TL(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oC(t,e,n){return{name:q1(t,e),fields:n.value.mapValue.fields}}function N8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(dt(h===void 0||typeof h=="string"),Mn.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const h=f.code===void 0?ce.UNKNOWN:_L(f.code);return new Te(h,f.message||"")}(a);n=new bL(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=y_(t,r.document.name),o=Zi(r.document.updateTime),a=r.document.createTime?Zi(r.document.createTime):qe.min(),l=new dr({mapValue:{fields:r.document.fields}}),c=qn.newFoundDocument(i,o,a,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new im(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=y_(t,r.document),o=r.readTime?Zi(r.readTime):qe.min(),a=qn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new im([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=y_(t,r.document),o=r.removedTargetIds||[];n=new im([],o,i,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new E8(i,o),l=r.targetId;n=new wL(l,a)}}return n}function j8(t,e){let n;if(e instanceof Hd)n={update:oC(t,e.key,e.value)};else if(e instanceof Hx)n={delete:q1(t,e.key)};else if(e instanceof Za)n={update:oC(t,e.key,e.data),updateMask:q8(e.fieldMask)};else{if(!(e instanceof _8))return Ue();n={verify:q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof Jf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ed)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vm)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(t,e.precondition)),n}function M8(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Zi(i.updateTime):Zi(o);return a.isEqual(qe.min())&&(a=Zi(o)),new g8(a,i.transformResults||[])}(n,e))):[]}function D8(t,e){return{documents:[SL(t,e.path)]}}function L8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SL(t,i);const o=function(f){if(f.length!==0)return PL(Ci.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:sl(y.field),direction:V8(y.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=U1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:n,parent:i}}function $8(t){let e=k8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){const y=AL(p);return y instanceof Ci&&nL(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(y=>function(w){return new Qf(ul(w.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,Og(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,_=p.values||[];return new gm(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,_=p.values||[];return new gm(_,y)}(n.endAt)),n8(e,i,a,o,l,"F",c,f)}function F8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ul(n.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ul(n.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ul(n.unaryFilter.field);return tn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(r=>AL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function V8(t){return P8[t]}function U8(t){return I8[t]}function B8(t){return C8[t]}function sl(t){return{fieldPath:t.canonicalString()}}function ul(t){return Nn.fromServerFormat(t.fieldPath)}function PL(t){return t instanceof tn?function(n){if(n.op==="=="){if(HI(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(WI(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HI(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(WI(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:U8(n.op),value:n.value}}}(t):t instanceof Ci?function(n){const r=n.getFilters().map(i=>PL(i));return r.length===1?r[0]:{compositeFilter:{op:B8(n.op),filters:r}}}(t):Ue()}function q8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,o=qe.min(),a=qe.min(),l=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.ht=e}}function W8(t){const e=$8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.ln=new G8}addToCollectionParentIndex(e,n){return this.ln.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Ba.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class G8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(Ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Tl(0)}static Qn(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class K8{constructor(e){this.Gn=e,this.buffer=new hn(sC),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await rc(n)}await this.Yn(3e5)})}}class X8{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Cg.oe);const r=new K8(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(aC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aC):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,a,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),ol()<=Ye.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Q8(t,e){return new X8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mf(r.mutation,i,Or.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Tf();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Vo();const a=jf(),l=function(){return jf()}();return n.forEach((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Za)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),Mf(h.mutation,f,h.mutation.getFieldMask(),dn.now())):a.set(f.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,h)=>a.set(f,h)),n.forEach((f,h)=>{var p;return l.set(f,new Z8(h,(p=a.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=jf();let i=new Vt((a,l)=>a-l),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Or.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||Qe()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=fL();h.forEach(y=>{if(!o.has(y)){const _=yL(n.get(y),r.get(y));_!==null&&p.set(y,_),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(Us());let l=-1,c=o;return a.next(f=>fe.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Qe())).next(h=>({batchId:l,changes:cL(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Tf();return this.indexManager.getCollectionParents(e,o).next(l=>fe.forEach(l,c=>{const f=function(p,y){return new oc(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((p,y)=>{a=a.insert(p,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,qn.newInvalidDocument(h)))});let l=Tf();return a.forEach((c,f)=>{const h=o.get(c);h!==void 0&&Mf(h.mutation,f,Or.empty(),dn.now()),jg(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return fe.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zi(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:W8(i.bundledQuery),readTime:Zi(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.overlays=new Vt(Ne.comparator),this.Er=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Us(),o=n.length+1,a=new Ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((f,h)=>f-h);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Us(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Us(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return fe.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new b8(n,r));let o=this.Er.get(n);o===void 0&&(o=Qe(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.dr=new hn(wn.Ar),this.Rr=new hn(wn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new wn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ne(new Ot([])),r=new wn(n,e),i=new wn(n,e+1),o=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),o.push(a.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ne(new Ot([])),r=new wn(n,e),i=new wn(n,e+1);let o=Qe();return this.Rr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new wn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ne.comparator(e.key,n.key)||tt(e.br,n.br)}static Vr(e,n){return tt(e.br,n.br)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new hn(wn.Ar)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new w8(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.vr=this.vr.add(new wn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],a=>{const l=this.Cr(a.br);o.push(l)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(tt);return n.forEach(i=>{const o=new wn(i,0),a=new wn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,a],l=>{r=r.add(l.br)})}),fe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const a=new wn(new Ne(o),0);let l=new hn(tt);return this.vr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.br)),!0)},a),fe.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return fe.forEach(n.mutations,i=>{const o=new wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new wn(n,0),i=this.vr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.Nr=e,this.docs=function(){return new Vt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=Vo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vo();const a=n.path,l=new Ne(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Mz(jz(h),r)<=0||(i.has(h.key)||jg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue()}Lr(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aW(this)}getSize(e){return fe.resolve(this.size)}}class aW extends J8{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.persistence=e,this.Br=new uu(n=>qx(n),zx),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Xx,this.targetCount=0,this.Qr=Tl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),fe.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Un(n),fe.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Cg(0),this.Ur=!1,this.Ur=!0,this.Wr=new rW,this.referenceDelegate=e(this),this.Gr=new sW(this),this.indexManager=new H8,this.remoteDocumentCache=function(i){return new oW(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new z8(n),this.jr=new tW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new iW(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new uW(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return fe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class uW extends Lz{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Zr=new Xx,this.Xr=null}static ei(e){return new Qx(e)}get ti(){if(this.Xr)return this.Xr;throw Ue()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ti,r=>{const i=Ne.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,qe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return fe.or([()=>fe.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class wm{constructor(e,n){this.persistence=e,this.ri=new uu(r=>Vz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Q8(this,n)}static ei(e,n){return new wm(e,n)}Hr(){}Jr(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return fe.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,n).next(l=>{l||(r++,o.removeEntry(a,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),fe.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tm(e.data.value)),n}ir(e,n,r){return fe.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Gq()?8:$z(Wn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new lW;return this.ts(e,n,a).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,a,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(ol()<=Ye.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),fe.resolve()):(ol()<=Ye.DEBUG&&Se("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ol()<=Ye.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):fe.resolve())}Xi(e,n){if(XI(n))return fe.resolve(null);let r=Ji(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ym(n,null,"F"),r=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Qe(...o);return this.Zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.rs(n,l);return this.ss(n,f,a,c.readTime)?this.Xi(e,ym(n,null,"F")):this.os(e,f,n,c)}))})))}es(e,n,r,i){return XI(n)||i.isEqual(qe.min())?fe.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const a=this.rs(n,o);return this.ss(n,a,r,i)?fe.resolve(null):(ol()<=Ye.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),al(n)),this.os(e,a,n,Nz(i,-1)).next(l=>l))})}rs(e,n){let r=new hn(uL(e));return n.forEach((i,o)=>{jg(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return ol()<=Ye.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",al(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ba.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Vt(tt),this.cs=new uu(o=>qx(o),zx),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eW(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function dW(t,e,n,r){return new fW(t,e,n,r)}async function OL(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=Qe();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ts:f,removedBatchIds:a,addedBatchIds:l}))})})}function hW(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,h){const p=f.batch,y=p.keys();let _=fe.resolve();return y.forEach(w=>{_=_.next(()=>h.getEntry(c,w)).next(E=>{const v=f.docVersions.get(w);dt(v!==null),E.version.compareTo(v)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Qe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RL(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function pW(t,e){const n=He(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;l.push(n.Gr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,h.addedDocuments,p)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Mn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(E,v,P){return E.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,_,h)&&l.push(n.Gr.updateTargetData(o,_))});let c=Vo(),f=Qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(mW(o,a,e.documentUpdates).next(h=>{c=h.Is,f=h.Es})),!r.isEqual(qe.min())){const h=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(h)}return fe.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.us=i,o))}function mW(t,e,n){let r=Qe(),i=Qe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Vo();return n.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(qe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{Is:a,Es:i}})}function gW(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yW(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):n.Gr.allocateTargetId(r).next(a=>(i=new Ra(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function W1(t,e,n){const r=He(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ic(a))throw a;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function uC(t,e,n){const r=He(t);let i=qe.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,h){const p=He(c),y=p.cs.get(h);return y!==void 0?fe.resolve(p.us.get(y)):p.Gr.getTargetData(f,h)}(r,a,Ji(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,n?i:qe.min(),n?o:Qe())).next(l=>(vW(r,i8(e),l),{documents:l,ds:o})))}function vW(t,e,n){let r=t.ls.get(e)||qe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class lC{constructor(){this.activeTargetIds=c8()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _W{constructor(){this._o=new lC,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new lC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=null;function v_(){return kp===null?kp=function(){return 268435456+Math.round(2147483648*Math.random())}():kp++,"0x"+kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class xW extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,a){const l=v_(),c=this.No(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,a),this.Bo(n,c,f,i).then(h=>(Se("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw bl("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",i),h})}ko(n,r,i,o,a,l){return this.Oo(n,r,i,o,a)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}No(n,r){const i=bW[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=v_();return new Promise((a,l)=>{const c=new zD;c.setWithCredentials(!0),c.listenOnce(WD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case em.NO_ERROR:const h=c.getResponseJson();Se(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case em.TIMEOUT:Se(Vn,`RPC '${e}' ${o} timed out`),l(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const p=c.getStatus();if(Se(Vn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const w=function(v){const P=v.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(_.status);l(new Te(w,_.message))}else l(new Te(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Se(Vn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Se(Vn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}qo(e,n,r){const i=v_(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KD(),l=GD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Se(Vn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);let y=!1,_=!1;const w=new EW({Eo:v=>{_?Se(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(y||(Se(Vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Se(Vn,`RPC '${e}' stream ${i} sending:`,v),p.send(v))},Ao:()=>p.close()}),E=(v,P,A)=>{v.listen(P,N=>{try{A(N)}catch(D){setTimeout(()=>{throw D},0)}})};return E(p,Sf.EventType.OPEN,()=>{_||(Se(Vn,`RPC '${e}' stream ${i} transport opened.`),w.So())}),E(p,Sf.EventType.CLOSE,()=>{_||(_=!0,Se(Vn,`RPC '${e}' stream ${i} transport closed`),w.Do())}),E(p,Sf.EventType.ERROR,v=>{_||(_=!0,bl(Vn,`RPC '${e}' stream ${i} transport errored:`,v),w.Do(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),E(p,Sf.EventType.MESSAGE,v=>{var P;if(!_){const A=v.data[0];dt(!!A);const N=A,D=(N==null?void 0:N.error)||((P=N[0])===null||P===void 0?void 0:P.error);if(D){Se(Vn,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let M=function(j){const F=Zt[j];if(F!==void 0)return _L(F)}(O),C=D.message;M===void 0&&(M=ce.INTERNAL,C="Unknown error status: "+O+" with message "+D.message),_=!0,w.Do(new Te(M,C)),p.close()}else Se(Vn,`RPC '${e}' stream ${i} received:`,A),w.vo(A)}}),E(l,HD.STAT_EVENT,v=>{v.stat===M1.PROXY?Se(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===M1.NOPROXY&&Se(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function __(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new O8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i,o,a,l,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new kL(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Fo(n.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SW extends NL{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=N8(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?Zi(a.readTime):qe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=z1(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=F1(c)?{documents:D8(o,c)}:{query:L8(o,c).ct},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=EL(o,a.resumeToken);const f=U1(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(qe.min())>0){l.readTime=_m(o,a.snapshotVersion.toTimestamp());const f=U1(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=F8(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=z1(this.serializer),n.removeTarget=e,this.c_(n)}}class TW extends NL{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=M8(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=z1(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j8(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Oo(e,B1(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ce.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ko(e,B1(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class PW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fo(n),this.C_=!1):Se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(a=>{r.enqueueAndForget(async()=>{lu(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=He(c);f.k_.add(4),await Kd(f),f.K_.set("Unknown"),f.k_.delete(4),await Fg(f)}(this))})}),this.K_=new PW(r,i)}}async function Fg(t){if(lu(t))for(const e of t.q_)await e(!0)}async function Kd(t){for(const e of t.q_)await e(!1)}function jL(t,e){const n=He(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),nS(n)?tS(n):ac(n).s_()&&eS(n,e))}function Zx(t,e){const n=He(t),r=ac(n);n.B_.delete(e),r.s_()&&ML(n,e),n.B_.size===0&&(r.s_()?r.a_():lu(n)&&n.K_.set("Unknown"))}function eS(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).V_(e)}function ML(t,e){t.U_.xe(e),ac(t).m_(e)}function tS(t){t.U_=new A8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.K_.F_()}function nS(t){return lu(t)&&!ac(t).i_()&&t.B_.size>0}function lu(t){return He(t).k_.size===0}function DL(t){t.U_=void 0}async function CW(t){t.K_.set("Online")}async function OW(t){t.B_.forEach((e,n)=>{eS(t,e)})}async function RW(t,e){DL(t),nS(t)?(t.K_.O_(e),tS(t)):t.K_.set("Unknown")}async function kW(t,e,n){if(t.K_.set("Online"),e instanceof bL&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bm(t,r)}else if(e instanceof im?t.U_.$e(e):e instanceof wL?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(qe.min()))try{const r=await RL(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.U_.it(a);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.B_.get(f);h&&o.B_.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,f)=>{const h=o.B_.get(c);if(!h)return;o.B_.set(c,h.withResumeToken(Mn.EMPTY_BYTE_STRING,h.snapshotVersion)),ML(o,c);const p=new Ra(h.target,c,f,h.sequenceNumber);eS(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await bm(t,r)}}async function bm(t,e,n){if(!ic(e))throw e;t.k_.add(1),await Kd(t),t.K_.set("Offline"),n||(n=()=>RL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Fg(t)})}function LL(t,e){return e().catch(n=>bm(t,n,e))}async function Vg(t){const e=He(t),n=Ha(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NW(e);)try{const i=await gW(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,jW(e,i)}catch(i){await bm(e,i)}$L(e)&&FL(e)}function NW(t){return lu(t)&&t.L_.length<10}function jW(t,e){t.L_.push(e);const n=Ha(t);n.s_()&&n.f_&&n.g_(e.mutations)}function $L(t){return lu(t)&&!Ha(t).i_()&&t.L_.length>0}function FL(t){Ha(t).start()}async function MW(t){Ha(t).w_()}async function DW(t){const e=Ha(t);for(const n of t.L_)e.g_(n.mutations)}async function LW(t,e,n){const r=t.L_.shift(),i=Gx.from(r,e,n);await LL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vg(t)}async function $W(t,e){e&&Ha(t).f_&&await async function(r,i){if(function(a){return x8(a)&&a!==ce.ABORTED}(i.code)){const o=r.L_.shift();Ha(r).__(),await LL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vg(r)}}(t,e),$L(t)&&FL(t)}async function fC(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=lu(n);n.k_.add(3),await Kd(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Fg(n)}async function FW(t,e){const n=He(t);e?(n.k_.delete(2),await Fg(n)):e||(n.k_.add(2),await Kd(n),n.K_.set("Unknown"))}function ac(t){return t.W_||(t.W_=function(n,r,i){const o=He(n);return o.b_(),new SW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:CW.bind(null,t),mo:OW.bind(null,t),po:RW.bind(null,t),R_:kW.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),nS(t)?tS(t):t.K_.set("Unknown")):(await t.W_.stop(),DL(t))})),t.W_}function Ha(t){return t.G_||(t.G_=function(n,r,i){const o=He(n);return o.b_(),new TW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:MW.bind(null,t),po:$W.bind(null,t),p_:DW.bind(null,t),y_:LW.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Vg(t)):(await t.G_.stop(),t.L_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new rS(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iS(t,e){if(Fo("AsyncQueue",`${e}: ${t}`),ic(t))return new Te(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.z_=new Vt(Ne.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ue():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Al{constructor(e,n,r,i,o,a,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Al(e,n,gl.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class UW{constructor(){this.queries=hC(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=He(n),o=i.queries;i.queries=hC(),o.forEach((a,l)=>{for(const c of l.J_)c.onError(r)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function hC(){return new uu(t=>sL(t),Ng)}async function oS(t,e){const n=He(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new VW,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=iS(a,`Initialization of query '${al(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&sS(n)}async function aS(t,e){const n=He(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.J_.indexOf(e);a>=0&&(o.J_.splice(a,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BW(t,e){const n=He(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.J_)l.ta(i)&&(r=!0);a.H_=i}}r&&sS(n)}function qW(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function sS(t){t.X_.forEach(e=>{e.next()})}var H1,pC;(pC=H1||(H1={})).na="default",pC.Cache="cache";class uS{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==H1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.key=e}}class UL{constructor(e){this.key=e}}class zW{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Qe(),this.mutatedKeys=Qe(),this.Va=uL(e),this.ma=new gl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new dC,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),_=jg(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let v=!1;y&&_?y.data.isEqual(_.data)?w!==E&&(r.track({type:3,doc:_}),v=!0):this.ya(y,_)||(r.track({type:2,doc:_}),v=!0,(c&&this.Va(_,c)>0||f&&this.Va(_,f)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),v=!0):y&&!_&&(r.track({type:1,doc:y}),v=!0,(c||f)&&(l=!0)),v&&(_?(a=a.add(_),o=E?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ma:a,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((h,p)=>function(_,w){const E=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return E(_)-E(w)}(h.type,p.type)||this.Va(h.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],c=this.Ra.size===0&&this.current&&!i?1:0,f=c!==this.Aa;return this.Aa=c,a.length!==0||f?{snapshot:new Al(this.query,e.ma,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new dC,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Qe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new UL(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new VL(r))}),n}va(e){this.da=e.ds,this.Ra=Qe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Al.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class WW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HW{constructor(e){this.key=e,this.Fa=!1}}class GW{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new uu(l=>sL(l),Ng),this.Oa=new Map,this.Na=new Set,this.La=new Vt(Ne.comparator),this.Ba=new Map,this.ka=new Xx,this.qa={},this.Qa=new Map,this.Ka=Tl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function KW(t,e,n=!0){const r=GL(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await BL(r,e,n,!0),i}async function YW(t,e){const n=GL(t);await BL(n,e,!0,!1)}async function BL(t,e,n,r){const i=await yW(t.localStore,Ji(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await XW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&jL(t.remoteStore,i),l}async function XW(t,e,n,r,i){t.Ua=(p,y,_)=>async function(E,v,P,A){let N=v.view.ga(P);N.ss&&(N=await uC(E.localStore,v.query,!1).then(({documents:C})=>v.view.ga(C,N)));const D=A&&A.targetChanges.get(v.targetId),O=A&&A.targetMismatches.get(v.targetId)!=null,M=v.view.applyChanges(N,E.isPrimaryClient,D,O);return gC(E,v.targetId,M.ba),M.snapshot}(t,p,y,_);const o=await uC(t.localStore,e,!0),a=new zW(e,o.ds),l=a.ga(o.documents),c=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,c);gC(t,n,f.ba);const h=new WW(e,n,a);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),f.snapshot}async function QW(t,e,n){const r=He(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(a=>!Ng(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await W1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zx(r.remoteStore,i.targetId),G1(r,i.targetId)}).catch(rc)):(G1(r,i.targetId),await W1(r.localStore,i.targetId,!0))}async function JW(t,e){const n=He(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zx(n.remoteStore,r.targetId))}async function ZW(t,e,n){const r=a7(t);try{const i=await function(a,l){const c=He(a),f=dn.now(),h=l.reduce((_,w)=>_.add(w.key),Qe());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=Vo(),E=Qe();return c.hs.getEntries(_,h).next(v=>{w=v,w.forEach((P,A)=>{A.isValidDocument()||(E=E.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,w)).next(v=>{p=v;const P=[];for(const A of l){const N=v8(A,p.get(A.key).overlayedDocument);N!=null&&P.push(new Za(A.key,N,ZD(N.value.mapValue),Ii.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,P,l)}).next(v=>{y=v;const P=v.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(_,v.batchId,P)})}).then(()=>({batchId:y.batchId,changes:cL(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let f=a.qa[a.currentUser.toKey()];f||(f=new Vt(tt)),f=f.insert(l,c),a.qa[a.currentUser.toKey()]=f}(r,i.batchId,n),await Yd(r,i.changes),await Vg(r.remoteStore)}catch(i){const o=iS(i,"Failed to persist write");n.reject(o)}}async function qL(t,e){const n=He(t);try{const r=await pW(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Ba.get(o);a&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?dt(a.Fa):i.removedDocuments.size>0&&(dt(a.Fa),a.Fa=!1))}),await Yd(n,r,e)}catch(r){await rc(r)}}function mC(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,a)=>{const l=a.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=He(a);c.onlineState=l;let f=!1;c.queries.forEach((h,p)=>{for(const y of p.J_)y.ea(l)&&(f=!0)}),f&&sS(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e7(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let a=new Vt(Ne.comparator);a=a.insert(o,qn.newNoDocument(o,qe.min()));const l=Qe().add(o),c=new Lg(qe.min(),new Map,new Vt(tt),a,l);await qL(r,c),r.La=r.La.remove(o),r.Ba.delete(e),lS(r)}else await W1(r.localStore,e,!1).then(()=>G1(r,e,n)).catch(rc)}async function t7(t,e){const n=He(t),r=e.batch.batchId;try{const i=await hW(n.localStore,e);WL(n,r,null),zL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await rc(i)}}async function n7(t,e,n){const r=He(t);try{const i=await function(a,l){const c=He(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(dt(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(r.localStore,e);WL(r,e,n),zL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await rc(i)}}function zL(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function WL(t,e,n){const r=He(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function G1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||HL(t,r)})}function HL(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Zx(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),lS(t))}function gC(t,e,n){for(const r of n)r instanceof VL?(t.ka.addReference(r.key,e),r7(t,r)):r instanceof UL?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||HL(t,r.key)):Ue()}function r7(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.Na.add(r),lS(t))}function lS(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ne(Ot.fromString(e)),r=t.Ka.next();t.Ba.set(r,new HW(n)),t.La=t.La.insert(n,r),jL(t.remoteStore,new Ra(Ji(kg(n.path)),r,"TargetPurposeLimboResolution",Cg.oe))}}async function Yd(t,e,n){const r=He(t),i=[],o=[],a=[];r.xa.isEmpty()||(r.xa.forEach((l,c)=>{a.push(r.Ua(c,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=Jx.zi(c.targetId,f);o.push(p)}}))}),await Promise.all(a),r.Ma.R_(i),await async function(c,f){const h=He(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>fe.forEach(f,y=>fe.forEach(y.Wi,_=>h.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>fe.forEach(y.Gi,_=>h.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!ic(p))throw p;Se("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=h.us.get(y),w=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(w);h.us=h.us.insert(y,E)}}}(r.localStore,o))}async function i7(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await OL(n.localStore,e);n.currentUser=e,function(o,a){o.Qa.forEach(l=>{l.forEach(c=>{c.reject(new Te(ce.CANCELLED,a))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Ts)}}function o7(t,e){const n=He(t),r=n.Ba.get(e);if(r&&r.Fa)return Qe().add(r.key);{let i=Qe();const o=n.Oa.get(e);if(!o)return i;for(const a of o){const l=n.xa.get(a);i=i.unionWith(l.view.fa)}return i}}function GL(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e7.bind(null,e),e.Ma.R_=BW.bind(null,e.eventManager),e.Ma.Wa=qW.bind(null,e.eventManager),e}function a7(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n7.bind(null,e),e}class Em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return dW(this.persistence,new cW,e.initialUser,this.serializer)}ja(e){return new CL(Qx.ei,this.serializer)}za(e){return new _W}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Em.provider={build:()=>new Em};class s7 extends Em{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){dt(this.persistence.referenceDelegate instanceof wm);const r=this.persistence.referenceDelegate.garbageCollector;return new Y8(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new CL(r=>wm.ei(r,n),this.serializer)}}class K1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i7.bind(null,this.syncEngine),await FW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UW}()}createDatastore(e){const n=$g(e.databaseInfo.databaseId),r=function(o){return new xW(o)}(e.databaseInfo);return function(o,a,l,c){return new AW(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new IW(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>mC(this.syncEngine,n,0),function(){return cC.p()?new cC:new wW}())}createSyncEngine(e,n){return function(i,o,a,l,c,f,h){const p=new GW(i,o,a,l,c,f);return h&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=He(i);Se("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Kd(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}K1.provider={build:()=>new K1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fo("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=XD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function w_(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l7(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fC(e.remoteStore,i)),t._onlineComponents=e}async function l7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await w_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await w_(t,new Em)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await w_(t,new s7(void 0));return t._offlineComponents}async function KL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await yC(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await yC(t,new K1))),t._onlineComponents}function c7(t){return KL(t).then(e=>e.syncEngine)}async function xm(t){const e=await KL(t),n=e.eventManager;return n.onListen=KW.bind(null,e.syncEngine),n.onUnlisten=QW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JW.bind(null,e.syncEngine),n}function f7(t,e,n={}){const r=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new cS({next:y=>{h.eu(),a.enqueueAndForget(()=>aS(o,p));const _=y.docs.has(l);!_&&y.fromCache?f.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new uS(kg(l.path),h,{includeMetadataChanges:!0,ua:!0});return oS(o,p)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}function d7(t,e,n={}){const r=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new cS({next:y=>{h.eu(),a.enqueueAndForget(()=>aS(o,p)),y.fromCache&&c.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new uS(l,h,{includeMetadataChanges:!0,ua:!0});return oS(o,p)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e,n){if(!n)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h7(t,e,n,r){if(e===!0&&r===!0)throw new Te(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _C(t){if(!Ne.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wC(t){if(Ne.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ug(t);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sz;switch(r.type){case"firstParty":return new Iz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vC.get(n);r&&(Se("ComponentProvider","Removing Datastore"),vC.delete(n),r.terminate())}(this),Promise.resolve()}}function p7(t,e,n,r={}){var i;const o=(t=Yr(t,Bg))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Bn.MOCK_USER;else{l=nD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Bn(f)}t._authCredentials=new Tz(new YD(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Ma extends Go{constructor(e,n,r){super(e,n,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Ne(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function yt(t,e,...n){if(t=Tt(t),XL("collection","path",e),t instanceof Bg){const r=Ot.fromString(e,...n);return wC(r),new Ma(t,null,r)}{if(!(t instanceof tr||t instanceof Ma))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return wC(r),new Ma(t.firestore,null,r)}}function Da(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=XD.newId()),XL("doc","path",e),t instanceof Bg){const r=Ot.fromString(e,...n);return _C(r),new tr(t,null,new Ne(r))}{if(!(t instanceof tr||t instanceof Ma))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return _C(r),new tr(t.firestore,t instanceof Ma?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new kL(this,"async_queue_retry"),this.fu=()=>{const r=__();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=__();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=__();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ko;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ic(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Fo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=rS.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function xC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ga extends Bg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EC(e),this._firestoreClient=void 0,await e}}}function ti(t,e){const n=typeof t=="object"?t:Ix(),r=typeof t=="string"?t:"(default)",i=Tg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZM("firestore");o&&p7(i,...o)}return i}function qg(t){if(t._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m7(t),t._firestoreClient}function m7(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,f,h){return new qz(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new u7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Mn.fromBase64String(e))}catch(n){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pl(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=/^__.*__$/;class y7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class QL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class hS{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(JL(this.Mu)&&g7.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class v7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$g(e)}$u(e,n,r,i=!1){return new hS({Mu:e,methodName:n,Ku:r,path:Nn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pS(t){const e=t._freezeSettings(),n=$g(t._databaseId);return new v7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _7(t,e,n,r,i,o={}){const a=t.$u(o.merge||o.mergeFields?2:0,e,n,i);gS("Data must be an object, but it was:",a,r);const l=ZL(r,a);let c,f;if(o.merge)c=new Or(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const y=Y1(e,p,n);if(!a.contains(y))throw new Te(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);t$(h,y)||h.push(y)}c=new Or(h),f=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=a.fieldTransforms;return new y7(new dr(l),c,f)}class Hg extends Wg{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}class mS extends Wg{_toFieldTransform(e){return new p8(e.path,new Jf)}isEqual(e){return e instanceof mS}}function w7(t,e,n,r){const i=t.$u(1,e,n);gS("Data must be an object, but it was:",i,r);const o=[],a=dr.empty();Ja(r,(c,f)=>{const h=yS(e,c,n);f=Tt(f);const p=i.Bu(h);if(f instanceof Hg)o.push(h);else{const y=Xd(f,p);y!=null&&(o.push(h),a.set(h,y))}});const l=new Or(o);return new QL(a,l,i.fieldTransforms)}function b7(t,e,n,r,i,o){const a=t.$u(1,e,n),l=[Y1(e,r,n)],c=[i];if(o.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(Y1(e,o[y])),c.push(o[y+1]);const f=[],h=dr.empty();for(let y=l.length-1;y>=0;--y)if(!t$(f,l[y])){const _=l[y];let w=c[y];w=Tt(w);const E=a.Bu(_);if(w instanceof Hg)f.push(_);else{const v=Xd(w,E);v!=null&&(f.push(_),h.set(_,v))}}const p=new Or(f);return new QL(h,p,a.fieldTransforms)}function E7(t,e,n,r=!1){return Xd(n,t.$u(r?4:3,e))}function Xd(t,e){if(e$(t=Tt(t)))return gS("Unsupported field value:",e,t),ZL(t,e);if(t instanceof Wg)return function(r,i){if(!JL(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let c=Xd(l,i.ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dn.fromDate(r);return{timestampValue:_m(i.serializer,o)}}if(r instanceof dn){const o=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_m(i.serializer,o)}}if(r instanceof fS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pl)return{bytesValue:EL(i.serializer,r._byteString)};if(r instanceof tr){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dS)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.qu("VectorValues must only contain numeric values.");return Wx(l.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Ug(r)}`)}(t,e)}function ZL(t,e){const n={};return QD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,(r,i)=>{const o=Xd(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function e$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof fS||t instanceof Pl||t instanceof tr||t instanceof Wg||t instanceof dS)}function gS(t,e,n){if(!e$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ug(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Y1(t,e,n){if((e=Tt(e))instanceof zg)return e._internalPath;if(typeof e=="string")return yS(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const x7=new RegExp("[~\\*/\\[\\]]");function yS(t,e,n){if(e.search(x7)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zg(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Te(ce.INVALID_ARGUMENT,l+t+c)}function t$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S7 extends n${data(){return super.data()}}function Gg(t,e){return typeof e=="string"?yS(t,e):e instanceof zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vS{}class _S extends vS{}function cn(t,e,...n){let r=[];e instanceof vS&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof wS).length,l=o.filter(c=>c instanceof Kg).length;if(a>1||a>0&&l>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kg extends _S{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=this._parse(e);return i$(e._query,n),new Go(e.firestore,e.converter,V1(e._query,n))}_parse(e){const n=pS(e.firestore);return function(o,a,l,c,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){AC(p,h);const _=[];for(const w of p)_.push(TC(c,o,w));y={arrayValue:{values:_}}}else y=TC(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||AC(p,h),y=E7(l,a,p,h==="in"||h==="not-in");return tn.create(f,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kn(t,e,n){const r=e,i=Gg("where",t);return Kg._create(i,r,n)}class wS extends vS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const l=o.getFlattenedFilters();for(const c of l)i$(a,c),a=V1(a,c)}(e._query,n),new Go(e.firestore,e.converter,V1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bS extends _S{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bS(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qf(o,a)}(e._query,this._field,this._direction);return new Go(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new oc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function SC(t,e="asc"){const n=e,r=Gg("orderBy",t);return bS._create(r,n)}class ES extends _S{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ES(e,n,r)}_apply(e){return new Go(e.firestore,e.converter,ym(e._query,this._limit,this._limitType))}}function T7(t){return ES._create("limit",t,"F")}function TC(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aL(e)&&n.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Ne.isDocumentKey(r))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zI(t,new Ne(r))}if(n instanceof tr)return zI(t,n._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ug(n)}.`)}function AC(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i$(t,e){const n=function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class A7{convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ja(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yt(a.doubleValue));return new dS(o)}convertGeoPoint(e){return new fS(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const n=qa(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);dt(IL(r));const i=new Yf(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return i.isEqual(n)||Fo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o$ extends n${constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class om extends o${data(e={}){return super.data(e)}}class a${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new om(this._firestore,this._userDataWriter,r.key,r,new Pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new om(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new om(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:I7(l.type),doc:c,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){t=Yr(t,tr);const e=Yr(t.firestore,Ga);return f7(qg(e),t._key).then(n=>s$(e,t,n))}class SS extends A7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,n)}}function Nt(t){t=Yr(t,Go);const e=Yr(t.firestore,Ga),n=qg(e),r=new SS(e);return r$(t._query),d7(n,t._query).then(i=>new a$(e,r,t,i))}function tu(t,e,n,...r){t=Yr(t,tr);const i=Yr(t.firestore,Ga),o=pS(i);let a;return a=typeof(e=Tt(e))=="string"||e instanceof zg?b7(o,"updateDoc",t._key,e,n,r):w7(o,"updateDoc",t._key,e),TS(i,[a.toMutation(t._key,Ii.exists(!0))])}function C7(t){return TS(Yr(t.firestore,Ga),[new Hx(t._key,Ii.none())])}function Yg(t,e){const n=Yr(t.firestore,Ga),r=Da(t),i=P7(t.converter,e);return TS(n,[_7(pS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ii.exists(!1))]).then(()=>r)}function X1(t,...e){var n,r,i;t=Tt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xC(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xC(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof tr)f=Yr(t.firestore,Ga),h=kg(t._key.path),c={next:p=>{e[a]&&e[a](s$(f,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Yr(t,Go);f=Yr(p.firestore,Ga),h=p._query;const y=new SS(f);c={next:_=>{e[a]&&e[a](new a$(f,y,p,_))},error:e[a+1],complete:e[a+2]},r$(t._query)}return function(y,_,w,E){const v=new cS(E),P=new uS(_,v,w);return y.asyncQueue.enqueueAndForget(async()=>oS(await xm(y),P)),()=>{v.eu(),y.asyncQueue.enqueueAndForget(async()=>aS(await xm(y),P))}}(qg(f),h,l,c)}function TS(t,e){return function(r,i){const o=new ko;return r.asyncQueue.enqueueAndForget(async()=>ZW(await c7(r),i,o)),o.promise}(qg(t),e)}function s$(t,e,n){const r=n.docs.get(e._key),i=new SS(t);return new o$(t,i,e._key,r,new Pf(n.hasPendingWrites,n.fromCache),e.converter)}function AS(){return new mS("serverTimestamp")}(function(e,n=!0){(function(i){nc=i})(su),Qs(new Ua("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Ga(new Az(r.getProvider("auth-internal")),new Oz(r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(f.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Xi($I,"4.7.5",e),Xi($I,"4.7.5","esm2017")})();const O7={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};Xa(O7);const R7=()=>{const t=Ya(),[e,n]=U.useState(null),[r,i]=U.useState(null),[o,a]=U.useState(!1),[l,c]=U.useState([]),[f,h]=U.useState([]),[p,y]=U.useState(null);U.useState(!1);const[_,w]=U.useState(0),[E,v]=U.useState(!0),P=Ni(),A=ti();U.useEffect(()=>{const I=P.onAuthStateChanged(async G=>{if(n(G),v(!0),G){const Q=G.email,te=await N(Q);i(te),t("/dashboard",{state:{userData:te}})}v(!1)});return(async()=>{try{if("NDEFReader"in window){const G=await window.NDEFReader;G&&(G.abort(),console.log("Existing NFC reader cleaned up"))}}catch(G){console.error("Error cleaning up NFC reader:",G)}})(),()=>{I(),p&&p.abort()}},[]),U.useEffect(()=>{if(e){const I=yt(A,"Messages"),z=X1(cn(I,kn("sendTo","==",e.email),kn("read","==",!1)),G=>{w(G.docs.length)},G=>{console.error("Error listening to messages:",G)});return()=>z()}},[e,A]),U.useEffect(()=>{(async()=>{try{const G=(await Nt(yt(A,"RegisteredTeacher"))).docs.map(X=>X.data().name).slice(0,5);c(G);const te=(await Nt(yt(A,"RegisteredStudent"))).docs.map(X=>X.data().name).slice(0,5);h(te)}catch(z){console.error("Error fetching registered users:",z)}})()},[A]);const N=async I=>{try{const z=cn(yt(A,"RegisteredAdmin"),kn("email","==",I)),G=await Nt(z);if(!G.empty)return G.docs[0].data();const Q=cn(yt(A,"RegisteredTeacher"),kn("email","==",I)),te=await Nt(Q);if(!te.empty)return te.docs[0].data();const X=cn(yt(A,"RegisteredStudent"),kn("email","==",I)),ie=await Nt(X);return ie.empty?null:ie.docs[0].data()}catch(z){return console.error("Error fetching user data:",z),null}},D=()=>{r&&(t("/dashboard/create-event",{state:{userData:r}}),a(!1))},O=()=>{a(!1),t("/dashboard",{state:{userData:r}})},M=()=>{a(!1),t("/dashboard/file-manager",{state:{userData:r}})},C=()=>{a(!o)},R=async()=>{try{p&&p.abort(),await Hf(P),console.log("User signed out successfully"),t("/login")}catch(I){console.error("Error signing out:",I)}},j=()=>x.jsx(Wr,{to:"/dashboard/request-message",className:_e.navLink,onClick:()=>a(!1),children:x.jsxs("div",{className:_e.navLinkWithBadge,children:[x.jsx(Tx,{size:20}),x.jsx("span",{children:"Mailbox"}),_>0&&x.jsx("span",{className:_e.messageBadge,children:_})]})}),F=(r==null?void 0:r.position)==="Student",L=(r==null?void 0:r.position)==="Teacher",V=(r==null?void 0:r.position)==="Admin";return E?x.jsx("div",{className:_e.loadingContainer,children:x.jsx(rI,{text:"Loading dashboard...",size:"large"})}):!r&&!E?x.jsx("div",{className:_e.loadingContainer,children:x.jsx(rI,{text:"Loading dashboard...",size:"large"})}):x.jsxs(x.Fragment,{children:[x.jsx("button",{className:_e.hamburgerBtn,onClick:C,children:o?x.jsx(Fd,{size:24}):x.jsx(HM,{size:24})}),x.jsxs("div",{className:`${_e.sidebar} ${o?_e.sidebarOpen:""}`,children:[x.jsx("div",{className:_e.profileSection,children:e&&r&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:_e.avatar,children:x.jsx("img",{src:e.photoURL||r.selfieUrl,alt:"Profile"})}),x.jsxs("div",{className:_e.userInfo,children:[x.jsx("h3",{children:r.name}),x.jsx("p",{children:e.email}),x.jsx("br",{}),x.jsx("span",{children:r.position})]})]})}),x.jsx("nav",{className:_e.navigation,children:x.jsxs("ul",{className:_e.navList,children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:O,children:[x.jsx(Eq,{size:20}),x.jsx("span",{children:"Dashboard"})]})}),F?x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(uf,{size:20}),x.jsx("span",{children:"Event Attendance"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(uf,{size:20}),x.jsx("span",{children:"Room Attendance"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(uf,{size:20}),x.jsx("span",{children:"Membership Attendance"})]})}),(F||L||V)&&x.jsx(j,{})]}):L?x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{onClick:D,className:_e.navLink,style:{cursor:"pointer"},children:[x.jsx(T1,{size:20}),x.jsx("span",{children:"Create Event"})]})}),x.jsxs(Wr,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(iI,{size:20}),x.jsx("span",{children:"Event List"})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(uf,{size:20}),x.jsx("span",{children:"Archive"})]})}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(Wr,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Ta,{size:20}),x.jsx("span",{children:"Registered Students"})]}),x.jsx("ul",{className:_e.dropdown,children:f.map((I,z)=>x.jsx("li",{className:_e.dropdownItem,children:I},z))})]}),(F||L||V)&&x.jsx(j,{}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:M,children:[x.jsx(aI,{size:20}),x.jsx("span",{children:"File Manager"})]})})]}):x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{onClick:D,className:_e.navLink,style:{cursor:"pointer"},children:[x.jsx(T1,{size:20}),x.jsx("span",{children:"Create Event"})]})}),x.jsxs(Wr,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(iI,{size:20}),x.jsx("span",{children:"Event List"})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(uf,{size:20}),x.jsx("span",{children:"Archive"})]})}),(F||L||V)&&x.jsx(j,{}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(Wr,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Ta,{size:20}),x.jsx("span",{children:"Registered Students"})]}),x.jsx("ul",{className:_e.dropdown,children:f.map((I,z)=>x.jsx("li",{className:_e.dropdownItem,children:I},z))})]}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(Wr,{to:"/dashboard/registered-teachers",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Ta,{size:20}),x.jsx("span",{children:"Registered Teacher"})]}),x.jsx("ul",{className:_e.dropdown,children:l.map((I,z)=>x.jsx("li",{className:_e.dropdownItem,children:I},z))})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs(Wr,{to:"/dashboard/teacher-registration",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Ta,{size:20}),x.jsx("span",{children:"Teacher Registration"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs(Wr,{to:"/dashboard/student-registration",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Ta,{size:20}),x.jsx("span",{children:"Student Registration"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs(Wr,{to:"/dashboard/nfc-reader",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(oI,{size:20}),x.jsx("span",{children:"NFC Reader"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs(Wr,{to:"/dashboard/nfc-scanner",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(oI,{size:20}),x.jsx("span",{children:"NFC Scanner"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:M,children:[x.jsx(aI,{size:20}),x.jsx("span",{children:"File Manager"})]})})]})]})}),x.jsxs("button",{className:_e.logoutBtn,onClick:R,children:[x.jsx(xq,{size:20}),x.jsx("span",{children:"Logout"})]})]}),o&&x.jsx("div",{className:_e.overlay,onClick:C})]})};function u$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u$(t))&&(r&&(r+=" "),r+=e);return r}var b_,PC;function pr(){if(PC)return b_;PC=1;var t=Array.isArray;return b_=t,b_}var E_,IC;function l$(){if(IC)return E_;IC=1;var t=typeof Ep=="object"&&Ep&&Ep.Object===Object&&Ep;return E_=t,E_}var x_,CC;function oo(){if(CC)return x_;CC=1;var t=l$(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return x_=n,x_}var S_,OC;function Qd(){if(OC)return S_;OC=1;var t=oo(),e=t.Symbol;return S_=e,S_}var T_,RC;function k7(){if(RC)return T_;RC=1;var t=Qd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var l=n.call(a,i),c=a[i];try{a[i]=void 0;var f=!0}catch{}var h=r.call(a);return f&&(l?a[i]=c:delete a[i]),h}return T_=o,T_}var A_,kC;function N7(){if(kC)return A_;kC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return A_=n,A_}var P_,NC;function Ko(){if(NC)return P_;NC=1;var t=Qd(),e=k7(),n=N7(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return P_=a,P_}var I_,jC;function Yo(){if(jC)return I_;jC=1;function t(e){return e!=null&&typeof e=="object"}return I_=t,I_}var C_,MC;function sc(){if(MC)return C_;MC=1;var t=Ko(),e=Yo(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return C_=r,C_}var O_,DC;function PS(){if(DC)return O_;DC=1;var t=pr(),e=sc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return O_=i,O_}var R_,LC;function es(){if(LC)return R_;LC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return R_=t,R_}var k_,$C;function IS(){if($C)return k_;$C=1;var t=Ko(),e=es(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return k_=a,k_}var N_,FC;function j7(){if(FC)return N_;FC=1;var t=oo(),e=t["__core-js_shared__"];return N_=e,N_}var j_,VC;function M7(){if(VC)return j_;VC=1;var t=j7(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return j_=n,j_}var M_,UC;function c$(){if(UC)return M_;UC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return M_=n,M_}var D_,BC;function D7(){if(BC)return D_;BC=1;var t=IS(),e=M7(),n=es(),r=c$(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?h:o;return _.test(r(y))}return D_=p,D_}var L_,qC;function L7(){if(qC)return L_;qC=1;function t(e,n){return e==null?void 0:e[n]}return L_=t,L_}var $_,zC;function cu(){if(zC)return $_;zC=1;var t=D7(),e=L7();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return $_=n,$_}var F_,WC;function Xg(){if(WC)return F_;WC=1;var t=cu(),e=t(Object,"create");return F_=e,F_}var V_,HC;function $7(){if(HC)return V_;HC=1;var t=Xg();function e(){this.__data__=t?t(null):{},this.size=0}return V_=e,V_}var U_,GC;function F7(){if(GC)return U_;GC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return U_=t,U_}var B_,KC;function V7(){if(KC)return B_;KC=1;var t=Xg(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var l=a[o];return l===e?void 0:l}return r.call(a,o)?a[o]:void 0}return B_=i,B_}var q_,YC;function U7(){if(YC)return q_;YC=1;var t=Xg(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return q_=r,q_}var z_,XC;function B7(){if(XC)return z_;XC=1;var t=Xg(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return z_=n,z_}var W_,QC;function q7(){if(QC)return W_;QC=1;var t=$7(),e=F7(),n=V7(),r=U7(),i=B7();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,W_=o,W_}var H_,JC;function z7(){if(JC)return H_;JC=1;function t(){this.__data__=[],this.size=0}return H_=t,H_}var G_,ZC;function CS(){if(ZC)return G_;ZC=1;function t(e,n){return e===n||e!==e&&n!==n}return G_=t,G_}var K_,eO;function Qg(){if(eO)return K_;eO=1;var t=CS();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return K_=e,K_}var Y_,tO;function W7(){if(tO)return Y_;tO=1;var t=Qg(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var l=o.length-1;return a==l?o.pop():n.call(o,a,1),--this.size,!0}return Y_=r,Y_}var X_,nO;function H7(){if(nO)return X_;nO=1;var t=Qg();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return X_=e,X_}var Q_,rO;function G7(){if(rO)return Q_;rO=1;var t=Qg();function e(n){return t(this.__data__,n)>-1}return Q_=e,Q_}var J_,iO;function K7(){if(iO)return J_;iO=1;var t=Qg();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return J_=e,J_}var Z_,oO;function Jg(){if(oO)return Z_;oO=1;var t=z7(),e=W7(),n=H7(),r=G7(),i=K7();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Z_=o,Z_}var e0,aO;function OS(){if(aO)return e0;aO=1;var t=cu(),e=oo(),n=t(e,"Map");return e0=n,e0}var t0,sO;function Y7(){if(sO)return t0;sO=1;var t=q7(),e=Jg(),n=OS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return t0=r,t0}var n0,uO;function X7(){if(uO)return n0;uO=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return n0=t,n0}var r0,lO;function Zg(){if(lO)return r0;lO=1;var t=X7();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return r0=e,r0}var i0,cO;function Q7(){if(cO)return i0;cO=1;var t=Zg();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return i0=e,i0}var o0,fO;function J7(){if(fO)return o0;fO=1;var t=Zg();function e(n){return t(this,n).get(n)}return o0=e,o0}var a0,dO;function Z7(){if(dO)return a0;dO=1;var t=Zg();function e(n){return t(this,n).has(n)}return a0=e,a0}var s0,hO;function eH(){if(hO)return s0;hO=1;var t=Zg();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return s0=e,s0}var u0,pO;function RS(){if(pO)return u0;pO=1;var t=Y7(),e=Q7(),n=J7(),r=Z7(),i=eH();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,u0=o,u0}var l0,mO;function f$(){if(mO)return l0;mO=1;var t=RS(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,a);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,l0=n,l0}var c0,gO;function tH(){if(gO)return c0;gO=1;var t=f$(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return c0=n,c0}var f0,yO;function nH(){if(yO)return f0;yO=1;var t=tH(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,l,c,f){o.push(c?f.replace(n,"$1"):l||a)}),o});return f0=r,f0}var d0,vO;function kS(){if(vO)return d0;vO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return d0=t,d0}var h0,_O;function rH(){if(_O)return h0;_O=1;var t=Qd(),e=kS(),n=pr(),r=sc(),i=1/0,o=t?t.prototype:void 0,a=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return a?a.call(c):"";var f=c+"";return f=="0"&&1/c==-i?"-0":f}return h0=l,h0}var p0,wO;function d$(){if(wO)return p0;wO=1;var t=rH();function e(n){return n==null?"":t(n)}return p0=e,p0}var m0,bO;function h$(){if(bO)return m0;bO=1;var t=pr(),e=PS(),n=nH(),r=d$();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return m0=i,m0}var g0,EO;function ey(){if(EO)return g0;EO=1;var t=sc(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return g0=n,g0}var y0,xO;function NS(){if(xO)return y0;xO=1;var t=h$(),e=ey();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return y0=n,y0}var v0,SO;function p$(){if(SO)return v0;SO=1;var t=NS();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return v0=e,v0}var iH=p$();const Xr=At(iH);var _0,TO;function oH(){if(TO)return _0;TO=1;function t(e){return e==null}return _0=t,_0}var aH=oH();const Je=At(aH);var w0,AO;function sH(){if(AO)return w0;AO=1;var t=Ko(),e=pr(),n=Yo(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return w0=i,w0}var uH=sH();const Jd=At(uH);var lH=IS();const Xe=At(lH);var cH=es();const uc=At(cH);var b0={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function fH(){if(PO)return ct;PO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function E(v){if(typeof v=="object"&&v!==null){var P=v.$$typeof;switch(P){case t:switch(v=v.type,v){case n:case i:case r:case f:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case a:case c:case y:case p:case o:return v;default:return P}}case e:return P}}}return ct.ContextConsumer=a,ct.ContextProvider=o,ct.Element=t,ct.ForwardRef=c,ct.Fragment=n,ct.Lazy=y,ct.Memo=p,ct.Portal=e,ct.Profiler=i,ct.StrictMode=r,ct.Suspense=f,ct.SuspenseList=h,ct.isAsyncMode=function(){return!1},ct.isConcurrentMode=function(){return!1},ct.isContextConsumer=function(v){return E(v)===a},ct.isContextProvider=function(v){return E(v)===o},ct.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ct.isForwardRef=function(v){return E(v)===c},ct.isFragment=function(v){return E(v)===n},ct.isLazy=function(v){return E(v)===y},ct.isMemo=function(v){return E(v)===p},ct.isPortal=function(v){return E(v)===e},ct.isProfiler=function(v){return E(v)===i},ct.isStrictMode=function(v){return E(v)===r},ct.isSuspense=function(v){return E(v)===f},ct.isSuspenseList=function(v){return E(v)===h},ct.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===f||v===h||v===_||typeof v=="object"&&v!==null&&(v.$$typeof===y||v.$$typeof===p||v.$$typeof===o||v.$$typeof===a||v.$$typeof===c||v.$$typeof===w||v.getModuleId!==void 0)},ct.typeOf=E,ct}var IO;function dH(){return IO||(IO=1,b0.exports=fH()),b0.exports}var hH=dH(),E0,CO;function m$(){if(CO)return E0;CO=1;var t=Ko(),e=Yo(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return E0=r,E0}var x0,OO;function pH(){if(OO)return x0;OO=1;var t=m$();function e(n){return t(n)&&n!=+n}return x0=e,x0}var mH=pH();const Zd=At(mH);var gH=m$();const yH=At(gH);var Ti=function(e){return e===0?0:e>0?1:-1},Bs=function(e){return Jd(e)&&e.indexOf("%")===e.length-1},xe=function(e){return yH(e)&&!Zd(e)},fn=function(e){return xe(e)||Jd(e)},vH=0,eh=function(e){var n=++vH;return"".concat(e||"").concat(n)},nu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!Jd(e))return r;var o;if(Bs(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Zd(o)&&(o=r),i&&o>n&&(o=n),o},ll=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},_H=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ei=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xr(r,e))===n})}function yl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Q1(t){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}var wH=["viewBox","children"],bH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RO=["points","pathLength"],S0={svg:wH,polygon:RO,polyline:RO},jS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Am=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!uc(r))return null;var i={};return Object.keys(r).forEach(function(o){jS.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},EH=function(e,n,r){return function(i){return e(n,r,i),null}},Pm=function(e,n,r){if(!uc(e)||Q1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];jS.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=EH(a,n,r))}),i},xH=["children"],SH=["children"];function kO(t,e){if(t==null)return{};var n=TH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1(t){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J1(t)}var NO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},No=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jO=null,T0=null,MS=function t(e){if(e===jO&&Array.isArray(T0))return T0;var n=[];return U.Children.forEach(e,function(r){Je(r)||(hH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),T0=n,jO=e,n};function Qr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return No(i)}):r=[No(e)],MS(t).forEach(function(i){var o=Xr(i,"type.displayName")||Xr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ir(t,e){var n=Qr(t,e);return n&&n[0]}var MO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},AH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],PH=function(e){return e&&e.type&&Jd(e.type)&&AH.indexOf(e.type)>=0},IH=function(e){return e&&J1(e)==="object"&&"clipDot"in e},CH=function(e,n,r,i){var o,a=(o=S0==null?void 0:S0[i])!==null&&o!==void 0?o:[];return!Xe(e)&&(i&&a.includes(n)||bH.includes(n))||r&&jS.includes(n)},it=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!uc(i))return null;var o={};return Object.keys(i).forEach(function(a){var l;CH((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(o[a]=i[a])}),o},Z1=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!DO(o,a))return!1}return!0},DO=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=kO(r,xH),a=n.props||{},l=a.children,c=kO(a,SH);return i&&l?yl(o,c)&&Z1(i,l):!i&&!l?yl(o,c):!1}return!1},LO=function(e,n){var r=[],i={};return MS(e).forEach(function(o,a){if(PH(o))r.push(o);else if(o){var l=No(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,a);r.push(p),i[l]=!0}}}),r},OH=function(e){var n=e&&e.type;return n&&NO[n]?NO[n]:null},RH=function(e,n){return MS(n).indexOf(e)},kH=["children","width","height","viewBox","className","style","title","desc"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}function NH(t,e){if(t==null)return{};var n=jH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,l=t.title,c=t.desc,f=NH(t,kH),h=i||{width:n,height:r,x:0,y:0},p=ut("recharts-surface",o);return J.createElement("svg",eE({},it(f,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,l),J.createElement("desc",null,c),e)}var MH=["children","className"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function DH(t,e){if(t==null)return{};var n=LH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xt=J.forwardRef(function(t,e){var n=t.children,r=t.className,i=DH(t,MH),o=ut("recharts-layer",r);return J.createElement("g",nE({className:o},it(i,!0),{ref:e}),n)}),Gs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},A0,$O;function $H(){if($O)return A0;$O=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return A0=t,A0}var P0,FO;function FH(){if(FO)return P0;FO=1;var t=$H();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return P0=e,P0}var I0,VO;function g$(){if(VO)return I0;VO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+o+"]");function c(f){return l.test(f)}return I0=c,I0}var C0,UO;function VH(){if(UO)return C0;UO=1;function t(e){return e.split("")}return C0=t,C0}var O0,BO;function UH(){if(BO)return O0;BO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",w=f+"?",E="["+o+"]?",v="(?:"+_+"(?:"+[h,p,y].join("|")+")"+E+w+")*",P=E+w+v,A="(?:"+[h+l+"?",l,p,y,a].join("|")+")",N=RegExp(c+"(?="+c+")|"+A+P,"g");function D(O){return O.match(N)||[]}return O0=D,O0}var R0,qO;function BH(){if(qO)return R0;qO=1;var t=VH(),e=g$(),n=UH();function r(i){return e(i)?n(i):t(i)}return R0=r,R0}var k0,zO;function qH(){if(zO)return k0;zO=1;var t=FH(),e=g$(),n=BH(),r=d$();function i(o){return function(a){a=r(a);var l=e(a)?n(a):void 0,c=l?l[0]:a.charAt(0),f=l?t(l,1).join(""):a.slice(1);return c[o]()+f}}return k0=i,k0}var N0,WO;function zH(){if(WO)return N0;WO=1;var t=qH(),e=t("toUpperCase");return N0=e,N0}var WH=zH();const ty=At(WH);function St(t){return function(){return t}}const y$=Math.cos,Im=Math.sin,ji=Math.sqrt,Cm=Math.PI,ny=2*Cm,rE=Math.PI,iE=2*rE,Ls=1e-6,HH=iE-Ls;function v$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function GH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v$:GH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,h=a-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ls)if(!(Math.abs(p*c-f*h)>Ls)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-a,w=i-l,E=c*c+f*f,v=_*_+w*w,P=Math.sqrt(E),A=Math.sqrt(y),N=o*Math.tan((rE-Math.acos((E+y-v)/(2*P*A)))/2),D=N/A,O=N/P;Math.abs(D-1)>Ls&&this._append`L${e+D*h},${n+D*p}`,this._append`A${o},${o},0,0,${+(p*_>h*w)},${this._x1=e+O*c},${this._y1=n+O*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ls||Math.abs(this._y1-h)>Ls)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%iE+iE),y>HH?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>Ls&&this._append`A${r},${r},0,${+(y>=rE)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KH(e)}function LS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _$(t){this._context=t}_$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ry(t){return new _$(t)}function w$(t){return t[0]}function b$(t){return t[1]}function E$(t,e){var n=St(!0),r=null,i=ry,o=null,a=DS(l);t=typeof t=="function"?t:t===void 0?w$:St(t),e=typeof e=="function"?e:e===void 0?b$:St(e);function l(c){var f,h=(c=LS(c)).length,p,y=!1,_;for(r==null&&(o=i(_=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(_)return o=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:St(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:St(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Np(t,e,n){var r=null,i=St(!0),o=null,a=ry,l=null,c=DS(f);t=typeof t=="function"?t:t===void 0?w$:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?b$:St(+n);function f(p){var y,_,w,E=(p=LS(p)).length,v,P=!1,A,N=new Array(E),D=new Array(E);for(o==null&&(l=a(A=c())),y=0;y<=E;++y){if(!(y<E&&i(v=p[y],y,p))===P)if(P=!P)_=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=y-1;w>=_;--w)l.point(N[w],D[w]);l.lineEnd(),l.areaEnd()}P&&(N[y]=+t(v,y,p),D[y]=+e(v,y,p),l.point(r?+r(v,y,p):N[y],n?+n(v,y,p):D[y]))}if(A)return l=null,A+""||null}function h(){return E$().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:St(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:St(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:St(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(l=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=l=null:l=a(o=p),f):o},f}class x${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YH(t){return new x$(t,!0)}function XH(t){return new x$(t,!1)}const $S={draw(t,e){const n=ji(e/Cm);t.moveTo(n,0),t.arc(0,0,n,0,ny)}},QH={draw(t,e){const n=ji(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S$=ji(1/3),JH=S$*2,ZH={draw(t,e){const n=ji(e/JH),r=n*S$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eG={draw(t,e){const n=ji(e),r=-n/2;t.rect(r,r,n,n)}},tG=.8908130915292852,T$=Im(Cm/10)/Im(7*Cm/10),nG=Im(ny/10)*T$,rG=-y$(ny/10)*T$,iG={draw(t,e){const n=ji(e*tG),r=nG*n,i=rG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ny*o/5,l=y$(a),c=Im(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},j0=ji(3),oG={draw(t,e){const n=-ji(e/(j0*3));t.moveTo(0,n*2),t.lineTo(-j0*n,-n),t.lineTo(j0*n,-n),t.closePath()}},Br=-.5,qr=ji(3)/2,oE=1/ji(12),aG=(oE/2+1)*3,sG={draw(t,e){const n=ji(e/aG),r=n/2,i=n*oE,o=r,a=n*oE+n,l=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,c),t.lineTo(Br*r-qr*i,qr*r+Br*i),t.lineTo(Br*o-qr*a,qr*o+Br*a),t.lineTo(Br*l-qr*c,qr*l+Br*c),t.lineTo(Br*r+qr*i,Br*i-qr*r),t.lineTo(Br*o+qr*a,Br*a-qr*o),t.lineTo(Br*l+qr*c,Br*c-qr*l),t.closePath()}};function uG(t,e){let n=null,r=DS(i);t=typeof t=="function"?t:St(t||$S),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Om(){}function Rm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function A$(t){this._context=t}A$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lG(t){return new A$(t)}function P$(t){this._context=t}P$.prototype={areaStart:Om,areaEnd:Om,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cG(t){return new P$(t)}function I$(t){this._context=t}I$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fG(t){return new I$(t)}function C$(t){this._context=t}C$.prototype={areaStart:Om,areaEnd:Om,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dG(t){return new C$(t)}function HO(t){return t<0?-1:1}function GO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(HO(o)+HO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function KO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function km(t){this._context=t}km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M0(this,this._t0,KO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M0(this,KO(this,n=GO(this,t,e)),n);break;default:M0(this,this._t0,n=GO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O$(t){this._context=new R$(t)}(O$.prototype=Object.create(km.prototype)).point=function(t,e){km.prototype.point.call(this,e,t)};function R$(t){this._context=t}R$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function hG(t){return new km(t)}function pG(t){return new O$(t)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YO(t),i=YO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function mG(t){return new k$(t)}function iy(t,e){this._context=t,this._t=e}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gG(t){return new iy(t,.5)}function yG(t){return new iy(t,0)}function vG(t){return new iy(t,1)}function Il(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _G(t,e){return t[e]}function wG(t){const e=[];return e.key=t,e}function bG(){var t=St([]),e=aE,n=Il,r=_G;function i(o){var a=Array.from(t.apply(this,arguments),wG),l,c=a.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(a[l][f]=[0,+r(p,a[l].key,f,o)]).data=p;for(l=0,h=LS(e(a));l<c;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?aE:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Il,i):n},i}function EG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Il(t,e)}}function xG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Il(t,e)}}function SG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,c=0,f=0;l<a;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,_=(p-y)/2,w=0;w<l;++w){var E=t[e[w]],v=E[r][1]||0,P=E[r-1][1]||0;_+=v-P}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Il(t,e)}}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}var TG=["type","size","sizeType"];function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){AG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AG(t,e,n){return e=PG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=IG(t,"string");return td(e)=="symbol"?e:e+""}function IG(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CG(t,e){if(t==null)return{};var n=OG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var N$={symbolCircle:$S,symbolCross:QH,symbolDiamond:ZH,symbolSquare:eG,symbolStar:iG,symbolTriangle:oG,symbolWye:sG},RG=Math.PI/180,kG=function(e){var n="symbol".concat(ty(e));return N$[n]||$S},NG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*RG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jG=function(e,n){N$["symbol".concat(ty(e))]=n},FS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=CG(e,TG),f=QO(QO({},c),{},{type:r,size:o,sizeType:l}),h=function(){var v=kG(r),P=uG().type(v).size(NG(o,l,r));return P()},p=f.className,y=f.cx,_=f.cy,w=it(f,!0);return y===+y&&_===+_&&o===+o?J.createElement("path",sE({},w,{className:ut("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};FS.registerSymbol=jG;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){nd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function $G(t,e,n){return e&&LG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FG(t,e,n){return e=Nm(e),VG(t,j$()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function VG(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UG(t)}function UG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function BG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function nd(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=qG(t,"string");return Cl(e)=="symbol"?e:e+""}function qG(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zr=32,VS=function(t){function e(){return DG(this,e),FG(this,e,arguments)}return BG(e,t),$G(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=zr/2,a=zr/6,l=zr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:zr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(zr,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var f=MG({},r);return delete f.legendIcon,J.cloneElement(r.legendIcon,f)}return J.createElement(FS,{fill:c,cx:o,cy:o,size:zr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:zr,height:zr},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,w){var E=_.formatter||c,v=ut(nd(nd({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",_.inactive));if(_.type==="none")return null;var P=Xe(_.value)?null:_.value;Gs(!Xe(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=_.inactive?f:_.color;return J.createElement("li",uE({className:v,style:p,key:"legend-item-".concat(w)},Pm(r.props,_,w)),J.createElement(tE,{width:a,height:a,viewBox:h,style:y},r.renderIcon(_)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E?E(P,_,w):P))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(U.PureComponent);nd(VS,"displayName","Legend");nd(VS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var D0,ZO;function zG(){if(ZO)return D0;ZO=1;var t=Jg();function e(){this.__data__=new t,this.size=0}return D0=e,D0}var L0,eR;function WG(){if(eR)return L0;eR=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return L0=t,L0}var $0,tR;function HG(){if(tR)return $0;tR=1;function t(e){return this.__data__.get(e)}return $0=t,$0}var F0,nR;function GG(){if(nR)return F0;nR=1;function t(e){return this.__data__.has(e)}return F0=t,F0}var V0,rR;function KG(){if(rR)return V0;rR=1;var t=Jg(),e=OS(),n=RS(),r=200;function i(o,a){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,a]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,a),this.size=l.size,this}return V0=i,V0}var U0,iR;function D$(){if(iR)return U0;iR=1;var t=Jg(),e=zG(),n=WG(),r=HG(),i=GG(),o=KG();function a(l){var c=this.__data__=new t(l);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,U0=a,U0}var B0,oR;function YG(){if(oR)return B0;oR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return B0=e,B0}var q0,aR;function XG(){if(aR)return q0;aR=1;function t(e){return this.__data__.has(e)}return q0=t,q0}var z0,sR;function L$(){if(sR)return z0;sR=1;var t=RS(),e=YG(),n=XG();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,z0=r,z0}var W0,uR;function $$(){if(uR)return W0;uR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return W0=t,W0}var H0,lR;function F$(){if(lR)return H0;lR=1;function t(e,n){return e.has(n)}return H0=t,H0}var G0,cR;function V$(){if(cR)return G0;cR=1;var t=L$(),e=$$(),n=F$(),r=1,i=2;function o(a,l,c,f,h,p){var y=c&r,_=a.length,w=l.length;if(_!=w&&!(y&&w>_))return!1;var E=p.get(a),v=p.get(l);if(E&&v)return E==l&&v==a;var P=-1,A=!0,N=c&i?new t:void 0;for(p.set(a,l),p.set(l,a);++P<_;){var D=a[P],O=l[P];if(f)var M=y?f(O,D,P,l,a,p):f(D,O,P,a,l,p);if(M!==void 0){if(M)continue;A=!1;break}if(N){if(!e(l,function(C,R){if(!n(N,R)&&(D===C||h(D,C,c,f,p)))return N.push(R)})){A=!1;break}}else if(!(D===O||h(D,O,c,f,p))){A=!1;break}}return p.delete(a),p.delete(l),A}return G0=o,G0}var K0,fR;function QG(){if(fR)return K0;fR=1;var t=oo(),e=t.Uint8Array;return K0=e,K0}var Y0,dR;function JG(){if(dR)return Y0;dR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return Y0=t,Y0}var X0,hR;function US(){if(hR)return X0;hR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return X0=t,X0}var Q0,pR;function ZG(){if(pR)return Q0;pR=1;var t=Qd(),e=QG(),n=CS(),r=V$(),i=JG(),o=US(),a=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",w="[object Set]",E="[object String]",v="[object Symbol]",P="[object ArrayBuffer]",A="[object DataView]",N=t?t.prototype:void 0,D=N?N.valueOf:void 0;function O(M,C,R,j,F,L,V){switch(R){case A:if(M.byteLength!=C.byteLength||M.byteOffset!=C.byteOffset)return!1;M=M.buffer,C=C.buffer;case P:return!(M.byteLength!=C.byteLength||!L(new e(M),new e(C)));case c:case f:case y:return n(+M,+C);case h:return M.name==C.name&&M.message==C.message;case _:case E:return M==C+"";case p:var I=i;case w:var z=j&a;if(I||(I=o),M.size!=C.size&&!z)return!1;var G=V.get(M);if(G)return G==C;j|=l,V.set(M,C);var Q=r(I(M),I(C),j,F,L,V);return V.delete(M),Q;case v:if(D)return D.call(M)==D.call(C)}return!1}return Q0=O,Q0}var J0,mR;function U$(){if(mR)return J0;mR=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return J0=t,J0}var Z0,gR;function eK(){if(gR)return Z0;gR=1;var t=U$(),e=pr();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return Z0=n,Z0}var ew,yR;function tK(){if(yR)return ew;yR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[o++]=l)}return a}return ew=t,ew}var tw,vR;function nK(){if(vR)return tw;vR=1;function t(){return[]}return tw=t,tw}var nw,_R;function rK(){if(_R)return nw;_R=1;var t=tK(),e=nK(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return nw=o,nw}var rw,wR;function iK(){if(wR)return rw;wR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return rw=t,rw}var iw,bR;function oK(){if(bR)return iw;bR=1;var t=Ko(),e=Yo(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return iw=r,iw}var ow,ER;function BS(){if(ER)return ow;ER=1;var t=oK(),e=Yo(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return ow=o,ow}var If={exports:{}},aw,xR;function aK(){if(xR)return aw;xR=1;function t(){return!1}return aw=t,aw}If.exports;var SR;function B$(){return SR||(SR=1,function(t,e){var n=oo(),r=aK(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f}(If,If.exports)),If.exports}var sw,TR;function qS(){if(TR)return sw;TR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return sw=n,sw}var uw,AR;function zS(){if(AR)return uw;AR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return uw=e,uw}var lw,PR;function sK(){if(PR)return lw;PR=1;var t=Ko(),e=zS(),n=Yo(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",E="[object WeakMap]",v="[object ArrayBuffer]",P="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",j="[object Uint16Array]",F="[object Uint32Array]",L={};L[A]=L[N]=L[D]=L[O]=L[M]=L[C]=L[R]=L[j]=L[F]=!0,L[r]=L[i]=L[v]=L[o]=L[P]=L[a]=L[l]=L[c]=L[f]=L[h]=L[p]=L[y]=L[_]=L[w]=L[E]=!1;function V(I){return n(I)&&e(I.length)&&!!L[t(I)]}return lw=V,lw}var cw,IR;function q$(){if(IR)return cw;IR=1;function t(e){return function(n){return e(n)}}return cw=t,cw}var Cf={exports:{}};Cf.exports;var CR;function uK(){return CR||(CR=1,function(t,e){var n=l$(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(Cf,Cf.exports)),Cf.exports}var fw,OR;function z$(){if(OR)return fw;OR=1;var t=sK(),e=q$(),n=uK(),r=n&&n.isTypedArray,i=r?e(r):t;return fw=i,fw}var dw,RR;function lK(){if(RR)return dw;RR=1;var t=iK(),e=BS(),n=pr(),r=B$(),i=qS(),o=z$(),a=Object.prototype,l=a.hasOwnProperty;function c(f,h){var p=n(f),y=!p&&e(f),_=!p&&!y&&r(f),w=!p&&!y&&!_&&o(f),E=p||y||_||w,v=E?t(f.length,String):[],P=v.length;for(var A in f)(h||l.call(f,A))&&!(E&&(A=="length"||_&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,P)))&&v.push(A);return v}return dw=c,dw}var hw,kR;function cK(){if(kR)return hw;kR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hw=e,hw}var pw,NR;function W$(){if(NR)return pw;NR=1;function t(e,n){return function(r){return e(n(r))}}return pw=t,pw}var mw,jR;function fK(){if(jR)return mw;jR=1;var t=W$(),e=t(Object.keys,Object);return mw=e,mw}var gw,MR;function dK(){if(MR)return gw;MR=1;var t=cK(),e=fK(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&a.push(l);return a}return gw=i,gw}var yw,DR;function th(){if(DR)return yw;DR=1;var t=IS(),e=zS();function n(r){return r!=null&&e(r.length)&&!t(r)}return yw=n,yw}var vw,LR;function oy(){if(LR)return vw;LR=1;var t=lK(),e=dK(),n=th();function r(i){return n(i)?t(i):e(i)}return vw=r,vw}var _w,$R;function hK(){if($R)return _w;$R=1;var t=eK(),e=rK(),n=oy();function r(i){return t(i,n,e)}return _w=r,_w}var ww,FR;function pK(){if(FR)return ww;FR=1;var t=hK(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,l,c,f,h){var p=l&e,y=t(o),_=y.length,w=t(a),E=w.length;if(_!=E&&!p)return!1;for(var v=_;v--;){var P=y[v];if(!(p?P in a:r.call(a,P)))return!1}var A=h.get(o),N=h.get(a);if(A&&N)return A==a&&N==o;var D=!0;h.set(o,a),h.set(a,o);for(var O=p;++v<_;){P=y[v];var M=o[P],C=a[P];if(c)var R=p?c(C,M,P,a,o,h):c(M,C,P,o,a,h);if(!(R===void 0?M===C||f(M,C,l,c,h):R)){D=!1;break}O||(O=P=="constructor")}if(D&&!O){var j=o.constructor,F=a.constructor;j!=F&&"constructor"in o&&"constructor"in a&&!(typeof j=="function"&&j instanceof j&&typeof F=="function"&&F instanceof F)&&(D=!1)}return h.delete(o),h.delete(a),D}return ww=i,ww}var bw,VR;function mK(){if(VR)return bw;VR=1;var t=cu(),e=oo(),n=t(e,"DataView");return bw=n,bw}var Ew,UR;function gK(){if(UR)return Ew;UR=1;var t=cu(),e=oo(),n=t(e,"Promise");return Ew=n,Ew}var xw,BR;function H$(){if(BR)return xw;BR=1;var t=cu(),e=oo(),n=t(e,"Set");return xw=n,xw}var Sw,qR;function yK(){if(qR)return Sw;qR=1;var t=cu(),e=oo(),n=t(e,"WeakMap");return Sw=n,Sw}var Tw,zR;function vK(){if(zR)return Tw;zR=1;var t=mK(),e=OS(),n=gK(),r=H$(),i=yK(),o=Ko(),a=c$(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",_=a(t),w=a(e),E=a(n),v=a(r),P=a(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=y||e&&A(new e)!=l||n&&A(n.resolve())!=f||r&&A(new r)!=h||i&&A(new i)!=p)&&(A=function(N){var D=o(N),O=D==c?N.constructor:void 0,M=O?a(O):"";if(M)switch(M){case _:return y;case w:return l;case E:return f;case v:return h;case P:return p}return D}),Tw=A,Tw}var Aw,WR;function _K(){if(WR)return Aw;WR=1;var t=D$(),e=V$(),n=ZG(),r=pK(),i=vK(),o=pr(),a=B$(),l=z$(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function w(E,v,P,A,N,D){var O=o(E),M=o(v),C=O?h:i(E),R=M?h:i(v);C=C==f?p:C,R=R==f?p:R;var j=C==p,F=R==p,L=C==R;if(L&&a(E)){if(!a(v))return!1;O=!0,j=!1}if(L&&!j)return D||(D=new t),O||l(E)?e(E,v,P,A,N,D):n(E,v,C,P,A,N,D);if(!(P&c)){var V=j&&_.call(E,"__wrapped__"),I=F&&_.call(v,"__wrapped__");if(V||I){var z=V?E.value():E,G=I?v.value():v;return D||(D=new t),N(z,G,P,A,D)}}return L?(D||(D=new t),r(E,v,P,A,N,D)):!1}return Aw=w,Aw}var Pw,HR;function WS(){if(HR)return Pw;HR=1;var t=_K(),e=Yo();function n(r,i,o,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,l)}return Pw=n,Pw}var Iw,GR;function wK(){if(GR)return Iw;GR=1;var t=D$(),e=WS(),n=1,r=2;function i(o,a,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=l[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=l[f];var _=y[0],w=o[_],E=y[1];if(p&&y[2]){if(w===void 0&&!(_ in o))return!1}else{var v=new t;if(c)var P=c(w,E,_,o,a,v);if(!(P===void 0?e(E,w,n|r,c,v):P))return!1}}return!0}return Iw=i,Iw}var Cw,KR;function G$(){if(KR)return Cw;KR=1;var t=es();function e(n){return n===n&&!t(n)}return Cw=e,Cw}var Ow,YR;function bK(){if(YR)return Ow;YR=1;var t=G$(),e=oy();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],l=r[a];i[o]=[a,l,t(l)]}return i}return Ow=n,Ow}var Rw,XR;function K$(){if(XR)return Rw;XR=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Rw=t,Rw}var kw,QR;function EK(){if(QR)return kw;QR=1;var t=wK(),e=bK(),n=K$();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return kw=r,kw}var Nw,JR;function xK(){if(JR)return Nw;JR=1;function t(e,n){return e!=null&&n in Object(e)}return Nw=t,Nw}var jw,ZR;function SK(){if(ZR)return jw;ZR=1;var t=h$(),e=BS(),n=pr(),r=qS(),i=zS(),o=ey();function a(l,c,f){c=t(c,l);for(var h=-1,p=c.length,y=!1;++h<p;){var _=o(c[h]);if(!(y=l!=null&&f(l,_)))break;l=l[_]}return y||++h!=p?y:(p=l==null?0:l.length,!!p&&i(p)&&r(_,p)&&(n(l)||e(l)))}return jw=a,jw}var Mw,ek;function TK(){if(ek)return Mw;ek=1;var t=xK(),e=SK();function n(r,i){return r!=null&&e(r,i,t)}return Mw=n,Mw}var Dw,tk;function AK(){if(tk)return Dw;tk=1;var t=WS(),e=p$(),n=TK(),r=PS(),i=G$(),o=K$(),a=ey(),l=1,c=2;function f(h,p){return r(h)&&i(p)?o(a(h),p):function(y){var _=e(y,h);return _===void 0&&_===p?n(y,h):t(p,_,l|c)}}return Dw=f,Dw}var Lw,nk;function lc(){if(nk)return Lw;nk=1;function t(e){return e}return Lw=t,Lw}var $w,rk;function PK(){if(rk)return $w;rk=1;function t(e){return function(n){return n==null?void 0:n[e]}}return $w=t,$w}var Fw,ik;function IK(){if(ik)return Fw;ik=1;var t=NS();function e(n){return function(r){return t(r,n)}}return Fw=e,Fw}var Vw,ok;function CK(){if(ok)return Vw;ok=1;var t=PK(),e=IK(),n=PS(),r=ey();function i(o){return n(o)?t(r(o)):e(o)}return Vw=i,Vw}var Uw,ak;function ts(){if(ak)return Uw;ak=1;var t=EK(),e=AK(),n=lc(),r=pr(),i=CK();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return Uw=o,Uw}var Bw,sk;function Y$(){if(sk)return Bw;sk=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return Bw=t,Bw}var qw,uk;function OK(){if(uk)return qw;uk=1;function t(e){return e!==e}return qw=t,qw}var zw,lk;function RK(){if(lk)return zw;lk=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return zw=t,zw}var Ww,ck;function kK(){if(ck)return Ww;ck=1;var t=Y$(),e=OK(),n=RK();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return Ww=r,Ww}var Hw,fk;function NK(){if(fk)return Hw;fk=1;var t=kK();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Hw=e,Hw}var Gw,dk;function jK(){if(dk)return Gw;dk=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return Gw=t,Gw}var Kw,hk;function MK(){if(hk)return Kw;hk=1;function t(){}return Kw=t,Kw}var Yw,pk;function DK(){if(pk)return Yw;pk=1;var t=H$(),e=MK(),n=US(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return Yw=i,Yw}var Xw,mk;function LK(){if(mk)return Xw;mk=1;var t=L$(),e=NK(),n=jK(),r=F$(),i=DK(),o=US(),a=200;function l(c,f,h){var p=-1,y=e,_=c.length,w=!0,E=[],v=E;if(h)w=!1,y=n;else if(_>=a){var P=f?null:i(c);if(P)return o(P);w=!1,y=r,v=new t}else v=f?[]:E;e:for(;++p<_;){var A=c[p],N=f?f(A):A;if(A=h||A!==0?A:0,w&&N===N){for(var D=v.length;D--;)if(v[D]===N)continue e;f&&v.push(N),E.push(A)}else y(v,N,h)||(v!==E&&v.push(N),E.push(A))}return E}return Xw=l,Xw}var Qw,gk;function $K(){if(gk)return Qw;gk=1;var t=ts(),e=LK();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Qw=n,Qw}var FK=$K();const yk=At(FK);function X$(t,e,n){return e===!0?yk(t,n):Xe(e)?yk(t,e):t}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}var VK=["ref"];function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function BK(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qK(t,e,n){return e=jm(e),zK(t,Q$()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function zK(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WK(t)}function WK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function HK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function ay(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=GK(t,"string");return Ol(e)=="symbol"?e:e+""}function GK(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KK(t,e){if(t==null)return{};var n=YK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XK(t){return t.value}function QK(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=KK(e,VK);return J.createElement(VS,n)}var wk=1,La=function(t){function e(){var n;UK(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qK(this,e,[].concat(i)),ay(n,"lastBoundingBox",{width:-1,height:-1}),n}return HK(e,t),BK(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wk||Math.abs(i.height-this.lastBoundingBox.height)>wk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();y={top:((h||0)-w.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xo(xo({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=xo(xo({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},QK(o,xo(xo({},this.props),{},{payload:X$(h,f,XK)})))}}],[{key:"getWithHeight",value:function(r,i){var o=xo(xo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&xe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);ay(La,"displayName","Legend");ay(La,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jw,bk;function JK(){if(bk)return Jw;bk=1;var t=Qd(),e=BS(),n=pr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return Jw=i,Jw}var Zw,Ek;function Z$(){if(Ek)return Zw;Ek=1;var t=U$(),e=JK();function n(r,i,o,a,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,a,l):t(l,h):a||(l[l.length]=h)}return l}return Zw=n,Zw}var eb,xk;function ZK(){if(xk)return eb;xk=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(a[f],f,a)===!1)break}return n}}return eb=t,eb}var tb,Sk;function eY(){if(Sk)return tb;Sk=1;var t=ZK(),e=t();return tb=e,tb}var nb,Tk;function eF(){if(Tk)return nb;Tk=1;var t=eY(),e=oy();function n(r,i){return r&&t(r,i,e)}return nb=n,nb}var rb,Ak;function tY(){if(Ak)return rb;Ak=1;var t=th();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,l=r?a:-1,c=Object(i);(r?l--:++l<a)&&o(c[l],l,c)!==!1;);return i}}return rb=e,rb}var ib,Pk;function HS(){if(Pk)return ib;Pk=1;var t=eF(),e=tY(),n=e(t);return ib=n,ib}var ob,Ik;function tF(){if(Ik)return ob;Ik=1;var t=HS(),e=th();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(l,c,f){a[++o]=i(l,c,f)}),a}return ob=n,ob}var ab,Ck;function nY(){if(Ck)return ab;Ck=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return ab=t,ab}var sb,Ok;function rY(){if(Ok)return sb;Ok=1;var t=sc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!a)return 1;if(!o&&!l&&!p&&n<r||p&&i&&a&&!o&&!l||f&&i&&a||!c&&a||!h)return-1}return 0}return sb=e,sb}var ub,Rk;function iY(){if(Rk)return ub;Rk=1;var t=rY();function e(n,r,i){for(var o=-1,a=n.criteria,l=r.criteria,c=a.length,f=i.length;++o<c;){var h=t(a[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return ub=e,ub}var lb,kk;function oY(){if(kk)return lb;kk=1;var t=kS(),e=NS(),n=ts(),r=tF(),i=nY(),o=q$(),a=iY(),l=lc(),c=pr();function f(h,p,y){p.length?p=t(p,function(E){return c(E)?function(v){return e(v,E.length===1?E[0]:E)}:E}):p=[l];var _=-1;p=t(p,o(n));var w=r(h,function(E,v,P){var A=t(p,function(N){return N(E)});return{criteria:A,index:++_,value:E}});return i(w,function(E,v){return a(E,v,y)})}return lb=f,lb}var cb,Nk;function aY(){if(Nk)return cb;Nk=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return cb=t,cb}var fb,jk;function sY(){if(jk)return fb;jk=1;var t=aY(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,c=e(a.length-i,0),f=Array(c);++l<c;)f[l]=a[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=a[l];return h[i]=o(f),t(r,this,h)}}return fb=n,fb}var db,Mk;function uY(){if(Mk)return db;Mk=1;function t(e){return function(){return e}}return db=t,db}var hb,Dk;function nF(){if(Dk)return hb;Dk=1;var t=cu(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return hb=e,hb}var pb,Lk;function lY(){if(Lk)return pb;Lk=1;var t=uY(),e=nF(),n=lc(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return pb=r,pb}var mb,$k;function cY(){if($k)return mb;$k=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var l=n(),c=e-(l-a);if(a=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return mb=r,mb}var gb,Fk;function fY(){if(Fk)return gb;Fk=1;var t=lY(),e=cY(),n=e(t);return gb=n,gb}var yb,Vk;function dY(){if(Vk)return yb;Vk=1;var t=lc(),e=sY(),n=fY();function r(i,o){return n(e(i,o,t),i+"")}return yb=r,yb}var vb,Uk;function sy(){if(Uk)return vb;Uk=1;var t=CS(),e=th(),n=qS(),r=es();function i(o,a,l){if(!r(l))return!1;var c=typeof a;return(c=="number"?e(l)&&n(a,l.length):c=="string"&&a in l)?t(l[a],o):!1}return vb=i,vb}var _b,Bk;function hY(){if(Bk)return _b;Bk=1;var t=Z$(),e=oY(),n=dY(),r=sy(),i=n(function(o,a){if(o==null)return[];var l=a.length;return l>1&&r(o,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return _b=i,_b}var pY=hY();const GS=At(pY);function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}function mY(t,e){return _Y(t)||vY(t,e)||yY(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(t,e){if(t){if(typeof t=="string")return qk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qk(t,e)}}function qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function _Y(t){if(Array.isArray(t))return t}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return e=bY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bY(t){var e=EY(t,"string");return rd(e)=="symbol"?e:e+""}function EY(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xY(t){return Array.isArray(t)&&fn(t[0])&&fn(t[1])?t.join(" ~ "):t}var SY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,w=e.labelClassName,E=e.label,v=e.labelFormatter,P=e.accessibilityLayer,A=P===void 0?!1:P,N=function(){if(h&&h.length){var V={padding:0,margin:0},I=(y?GS(h,y):h).map(function(z,G){if(z.type==="none")return null;var Q=wb({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),te=z.formatter||p||xY,X=z.value,ie=z.name,ne=X,W=ie;if(te&&ne!=null&&W!=null){var Y=te(X,ie,z,G,h);if(Array.isArray(Y)){var le=mY(Y,2);ne=le[0],W=le[1]}else ne=Y}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Q},fn(W)?J.createElement("span",{className:"recharts-tooltip-item-name"},W):null,fn(W)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},ne),J.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:V},I)}return null},D=wb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=wb({margin:0},f),M=!Je(E),C=M?E:"",R=ut("recharts-default-tooltip",_),j=ut("recharts-tooltip-label",w);M&&v&&h!==void 0&&h!==null&&(C=v(E,h));var F=A?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",fE({className:R,style:D},F),J.createElement("p",{className:j,style:O},J.isValidElement(C)?C:"".concat(C)),N())};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function jp(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=AY(t,"string");return id(e)=="symbol"?e:e+""}function AY(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lf="recharts-tooltip-wrapper",PY={visibility:"hidden"};function IY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ut(lf,jp(jp(jp(jp({},"".concat(lf,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(lf,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(lf,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(lf,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function Wk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var h=n[r]-l-i,p=n[r]+i;if(e[r])return a[r]?h:p;if(a[r]){var y=h,_=c[r];return y<_?Math.max(p,c[r]):Math.max(h,c[r])}var w=p+l,E=c[r]+f;return w>E?Math.max(h,c[r]):Math.max(p,c[r])}function CY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function OY(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return a.height>0&&a.width>0&&n?(h=Wk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=Wk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=CY({translateX:h,translateY:p,useTranslate3d:l})):f=PY,{cssProperties:f,cssClasses:IY({translateX:h,translateY:p,coordinate:n})}}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){hE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iF(r.key),r)}}function NY(t,e,n){return e&&kY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jY(t,e,n){return e=Mm(e),MY(t,rF()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function MY(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DY(t)}function DY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function LY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function hE(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=$Y(t,"string");return Rl(e)=="symbol"?e:e+""}function $Y(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kk=1,FY=function(t){function e(){var n;RY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jY(this,e,[].concat(i)),hE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return LY(e,t),NY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Kk||Math.abs(r.height-this.state.lastBoundingBox.height)>Kk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,_=i.offset,w=i.position,E=i.reverseDirection,v=i.useTranslate3d,P=i.viewBox,A=i.wrapperStyle,N=OY({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:_,position:w,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:P}),D=N.cssClasses,O=N.cssProperties,M=Gk(Gk({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return J.createElement("div",{tabIndex:-1,className:D,style:M,ref:function(R){r.wrapperNode=R}},f)}}])}(U.PureComponent),VY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jo={isSsr:VY(),get:function(e){return jo[e]},set:function(e,n){if(typeof e=="string")jo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){jo[i]=e[i]})}}};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){KS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function qY(t,e,n){return e&&BY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zY(t,e,n){return e=Dm(e),WY(t,oF()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function WY(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(t)}function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function GY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function KS(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=KY(t,"string");return kl(e)=="symbol"?e:e+""}function KY(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YY(t){return t.dataKey}function XY(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(SY,e)}var _i=function(t){function e(){return UY(this,e),zY(this,e,arguments)}return GY(e,t),qY(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,_=i.offset,w=i.payload,E=i.payloadUniqBy,v=i.position,P=i.reverseDirection,A=i.useTranslate3d,N=i.viewBox,D=i.wrapperStyle,O=w??[];p&&O.length&&(O=X$(w.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),E,YY));var M=O.length>0;return J.createElement(FY,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:M,offset:_,position:v,reverseDirection:P,useTranslate3d:A,viewBox:N,wrapperStyle:D},XY(f,Xk(Xk({},this.props),{},{payload:O})))}}])}(U.PureComponent);KS(_i,"displayName","Tooltip");KS(_i,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bb,Qk;function QY(){if(Qk)return bb;Qk=1;var t=oo(),e=function(){return t.Date.now()};return bb=e,bb}var Eb,Jk;function JY(){if(Jk)return Eb;Jk=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Eb=e,Eb}var xb,Zk;function ZY(){if(Zk)return xb;Zk=1;var t=JY(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return xb=n,xb}var Sb,eN;function sF(){if(eN)return Sb;eN=1;var t=ZY(),e=es(),n=sc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||a.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return Sb=c,Sb}var Tb,tN;function eX(){if(tN)return Tb;tN=1;var t=es(),e=QY(),n=sF(),r="Expected a function",i=Math.max,o=Math.min;function a(l,c,f){var h,p,y,_,w,E,v=0,P=!1,A=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(P=!!f.leading,A="maxWait"in f,y=A?i(n(f.maxWait)||0,c):y,N="trailing"in f?!!f.trailing:N);function D(I){var z=h,G=p;return h=p=void 0,v=I,_=l.apply(G,z),_}function O(I){return v=I,w=setTimeout(R,c),P?D(I):_}function M(I){var z=I-E,G=I-v,Q=c-z;return A?o(Q,y-G):Q}function C(I){var z=I-E,G=I-v;return E===void 0||z>=c||z<0||A&&G>=y}function R(){var I=e();if(C(I))return j(I);w=setTimeout(R,M(I))}function j(I){return w=void 0,N&&h?D(I):(h=p=void 0,_)}function F(){w!==void 0&&clearTimeout(w),v=0,h=E=p=w=void 0}function L(){return w===void 0?_:j(e())}function V(){var I=e(),z=C(I);if(h=arguments,p=this,E=I,z){if(w===void 0)return O(E);if(A)return clearTimeout(w),w=setTimeout(R,c),D(E)}return w===void 0&&(w=setTimeout(R,c)),_}return V.cancel=F,V.flush=L,V}return Tb=a,Tb}var Ab,nN;function tX(){if(nN)return Ab;nN=1;var t=eX(),e=es(),n="Expected a function";function r(i,o,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Ab=r,Ab}var nX=tX();const uF=At(nX);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return e=iX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iX(t){var e=oX(t,"string");return od(e)=="symbol"?e:e+""}function oX(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){return cX(t)||lX(t,e)||uX(t,e)||sX()}function sX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uX(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function cX(t){if(Array.isArray(t))return t}var oN=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,_=t.children,w=t.debounce,E=w===void 0?0:w,v=t.id,P=t.className,A=t.onResize,N=t.style,D=N===void 0?{}:N,O=U.useRef(null),M=U.useRef();M.current=A,U.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var C=U.useState({containerWidth:i.width,containerHeight:i.height}),R=aX(C,2),j=R[0],F=R[1],L=U.useCallback(function(I,z){F(function(G){var Q=Math.round(I),te=Math.round(z);return G.containerWidth===Q&&G.containerHeight===te?G:{containerWidth:Q,containerHeight:te}})},[]);U.useEffect(function(){var I=function(ie){var ne,W=ie[0].contentRect,Y=W.width,le=W.height;L(Y,le),(ne=M.current)===null||ne===void 0||ne.call(M,Y,le)};E>0&&(I=uF(I,E,{trailing:!0,leading:!1}));var z=new ResizeObserver(I),G=O.current.getBoundingClientRect(),Q=G.width,te=G.height;return L(Q,te),z.observe(O.current),function(){z.disconnect()}},[L,E]);var V=U.useMemo(function(){var I=j.containerWidth,z=j.containerHeight;if(I<0||z<0)return null;Gs(Bs(a)||Bs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Gs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Bs(a)?I:a,Q=Bs(c)?z:c;n&&n>0&&(G?Q=G/n:Q&&(G=Q*n),y&&Q>y&&(Q=y)),Gs(G>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Q,a,c,h,p,n);var te=!Array.isArray(_)&&No(_.type).endsWith("Chart");return J.Children.map(_,function(X){return J.isValidElement(X)?U.cloneElement(X,Mp({width:G,height:Q},te?{style:Mp({height:"100%",width:"100%",maxHeight:Q,maxWidth:G},X.props.style)}:{})):X})},[n,_,c,y,p,h,j,a]);return J.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",P),style:Mp(Mp({},D),{},{width:a,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:O},V)}),lF=function(e){return null};lF.displayName="Cell";function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){fX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e,n){return e=dX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dX(t){var e=hX(t,"string");return ad(e)=="symbol"?e:e+""}function hX(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var el={widthCache:{},cacheCount:0},pX=2e3,mX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sN="recharts_measurement_span";function gX(t){var e=mE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Df=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jo.isSsr)return{width:0,height:0};var r=gX(n),i=JSON.stringify({text:e,copyStyle:r});if(el.widthCache[i])return el.widthCache[i];try{var o=document.getElementById(sN);o||(o=document.createElement("span"),o.setAttribute("id",sN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=mE(mE({},mX),r);Object.assign(o.style,a),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return el.widthCache[i]=c,++el.cacheCount>pX&&(el.cacheCount=0,el.widthCache={}),c}catch{return{width:0,height:0}}},yX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function Lm(t,e){return bX(t)||wX(t,e)||_X(t,e)||vX()}function vX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(t,e){if(t){if(typeof t=="string")return uN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(t,e)}}function uN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function bX(t){if(Array.isArray(t))return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SX(r.key),r)}}function xX(t,e,n){return e&&lN(t.prototype,e),n&&lN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SX(t){var e=TX(t,"string");return sd(e)=="symbol"?e:e+""}function TX(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IX=Object.keys(cF),cl="NaN";function CX(t,e){return t*cF[e]}var Dp=function(){function t(e,n){EX(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!AX.test(n)&&(this.num=NaN,this.unit=""),IX.includes(n)&&(this.num=CX(e,n),this.unit="px")}return xX(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=PX.exec(n))!==null&&r!==void 0?r:[],o=Lm(i,3),a=o[1],l=o[2];return new t(parseFloat(a),l??"")}}])}();function fF(t){if(t.includes(cl))return cl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=cN.exec(e))!==null&&n!==void 0?n:[],i=Lm(r,4),o=i[1],a=i[2],l=i[3],c=Dp.parse(o??""),f=Dp.parse(l??""),h=a==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return cl;e=e.replace(cN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=fN.exec(e))!==null&&p!==void 0?p:[],_=Lm(y,4),w=_[1],E=_[2],v=_[3],P=Dp.parse(w??""),A=Dp.parse(v??""),N=E==="+"?P.add(A):P.subtract(A);if(N.isNaN())return cl;e=e.replace(fN,N.toString())}return e}var dN=/\(([^()]*)\)/;function OX(t){for(var e=t;e.includes("(");){var n=dN.exec(e),r=Lm(n,2),i=r[1];e=e.replace(dN,fF(i))}return e}function RX(t){var e=t.replace(/\s+/g,"");return e=OX(e),e=fF(e),e}function kX(t){try{return RX(t)}catch{return cl}}function Pb(t){var e=kX(t.slice(5,-1));return e===cl?"":e}var NX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jX=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n=MX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pN(t,e){return FX(t)||$X(t,e)||LX(t,e)||DX()}function DX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(t,e){if(t){if(typeof t=="string")return mN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $X(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function FX(t){if(Array.isArray(t))return t}var dF=/[ \f\n\r\t\v\u2028\u2029]+/,hF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(dF));var a=o.map(function(c){return{word:c,width:Df(c,i).width}}),l=r?0:Df("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},VX=function(e,n,r,i,o){var a=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(a),p=l,y=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Q,te){var X=te.word,ie=te.width,ne=Q[Q.length-1];if(ne&&(i==null||o||ne.width+ie+r<Number(i)))ne.words.push(X),ne.width+=ie+r;else{var W={words:[X],width:ie};Q.push(W)}return Q},[])},_=y(n),w=function(G){return G.reduce(function(Q,te){return Q.width>te.width?Q:te})};if(!h)return _;for(var E="",v=function(G){var Q=p.slice(0,G),te=hF({breakAll:f,style:c,children:Q+E}).wordsWithComputedWidth,X=y(te),ie=X.length>a||w(X).width>Number(i);return[ie,X]},P=0,A=p.length-1,N=0,D;P<=A&&N<=p.length-1;){var O=Math.floor((P+A)/2),M=O-1,C=v(M),R=pN(C,2),j=R[0],F=R[1],L=v(O),V=pN(L,1),I=V[0];if(!j&&!I&&(P=O+1),j&&I&&(A=O-1),!j&&I){D=F;break}N++}return D||_},gN=function(e){var n=Je(e)?[]:e.toString().split(dF);return[{words:n}]},UX=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!jo.isSsr){var c,f,h=hF({breakAll:a,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,f=y}else return gN(i);return VX({breakAll:a,children:i,maxLines:l,style:o},c,f,n,r)}return gN(i)},yN="#808080",$m=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,w=e.verticalAnchor,E=w===void 0?"end":w,v=e.fill,P=v===void 0?yN:v,A=hN(e,NX),N=U.useMemo(function(){return UX({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),D=A.dx,O=A.dy,M=A.angle,C=A.className,R=A.breakAll,j=hN(A,jX);if(!fn(r)||!fn(o))return null;var F=r+(xe(D)?D:0),L=o+(xe(O)?O:0),V;switch(E){case"start":V=Pb("calc(".concat(f,")"));break;case"middle":V=Pb("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=Pb("calc(".concat(N.length-1," * -").concat(l,")"));break}var I=[];if(p){var z=N[0].width,G=A.width;I.push("scale(".concat((xe(G)?G/z:1)/z,")"))}return M&&I.push("rotate(".concat(M,", ").concat(F,", ").concat(L,")")),I.length&&(j.transform=I.join(" ")),J.createElement("text",gE({},it(j,!0),{x:F,y:L,className:ut("recharts-text",C),textAnchor:_,fill:P.includes("url")?yN:P}),N.map(function(Q,te){var X=Q.words.join(R?"":" ");return J.createElement("tspan",{x:F,dy:te===0?V:l,key:"".concat(X,"-").concat(te)},X)}))};function $a(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YS(t){let e,n,r;t.length!==2?(e=$a,n=(l,c)=>$a(t(l),c),r=(l,c)=>t(l)-c):(e=t===$a||t===BX?t:qX,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:o}}function qX(){return 0}function pF(t){return t===null?NaN:+t}function*zX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const WX=YS($a),nh=WX.right;YS(pF).center;class vN extends Map{constructor(e,n=KX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_N(this,e))}has(e){return super.has(_N(this,e))}set(e,n){return super.set(HX(this,e),n)}delete(e){return super.delete(GX(this,e))}}function _N({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function GX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function KX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YX(t=$a){if(t===$a)return mF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const XX=Math.sqrt(50),QX=Math.sqrt(10),JX=Math.sqrt(2);function Fm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=XX?10:o>=QX?5:o>=JX?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Fm(t,e,n*2):[l,c,f]}function yE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Fm(e,t,n):Fm(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(o-f)/-a;else for(let f=0;f<l;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function vE(t,e,n){return e=+e,t=+t,n=+n,Fm(t,e,n)[2]}function _E(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vE(e,t,n):vE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mF:YX(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+y)),w=Math.min(r,Math.floor(e+(c-f)*p/c+y));gF(t,e,_,w,i)}const o=t[e];let a=n,l=r;for(cf(t,n,e),i(t[r],o)>0&&cf(t,n,r);a<l;){for(cf(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?cf(t,n,l):(++l,cf(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function cf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ZX(t,e,n){if(t=Float64Array.from(zX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return bN(t);if(e>=1)return wN(t);var r,i=(r-1)*e,o=Math.floor(i),a=wN(gF(t,o).subarray(0,o+1)),l=bN(t.subarray(o+1));return a+(l-a)*(i-o)}}function eQ(t,e,n=pF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function tQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wE=Symbol("implicit");function XS(){var t=new vN,e=[],n=[],r=wE;function i(o){let a=t.get(o);if(a===void 0){if(r!==wE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new vN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XS(e,n).unknown(r)},ni.apply(i,arguments),i}function ud(){var t=XS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,_=i<r,w=_?i:r,E=_?r:i;o=(E-w)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),w+=(E-w-o*(y-c))*h,a=o*(1-c),l&&(w=Math.round(w),a=Math.round(a));var v=tQ(y).map(function(P){return w+o*P});return n(_?v.reverse():v)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return ud(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},ni.apply(p(),arguments)}function yF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yF(e())},t}function Lf(){return yF(ud.apply(null,arguments).paddingInner(1))}function QS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rh(){}var ld=.7,Vm=1/ld,vl="\\s*([+-]?\\d+)\\s*",cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nQ=/^#([0-9a-f]{3,8})$/,rQ=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),iQ=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),oQ=new RegExp(`^rgba\\(${vl},${vl},${vl},${cd}\\)$`),aQ=new RegExp(`^rgba\\(${eo},${eo},${eo},${cd}\\)$`),sQ=new RegExp(`^hsl\\(${cd},${eo},${eo}\\)$`),uQ=new RegExp(`^hsla\\(${cd},${eo},${eo},${cd}\\)$`),EN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QS(rh,fd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xN,formatHex:xN,formatHex8:lQ,formatHsl:cQ,formatRgb:SN,toString:SN});function xN(){return this.rgb().formatHex()}function lQ(){return this.rgb().formatHex8()}function cQ(){return _F(this).formatHsl()}function SN(){return this.rgb().formatRgb()}function fd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TN(e):n===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rQ.exec(t))?new hr(e[1],e[2],e[3],1):(e=iQ.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oQ.exec(t))?Lp(e[1],e[2],e[3],e[4]):(e=aQ.exec(t))?Lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sQ.exec(t))?IN(e[1],e[2]/100,e[3]/100,1):(e=uQ.exec(t))?IN(e[1],e[2]/100,e[3]/100,e[4]):EN.hasOwnProperty(t)?TN(EN[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function TN(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function Lp(t,e,n,r){return r<=0&&(t=e=n=NaN),new hr(t,e,n,r)}function fQ(t){return t instanceof rh||(t=fd(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function bE(t,e,n,r){return arguments.length===1?fQ(t):new hr(t,e,n,r??1)}function hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QS(hr,bE,vF(rh,{brighter(t){return t=t==null?Vm:Math.pow(Vm,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ld:Math.pow(ld,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(Ks(this.r),Ks(this.g),Ks(this.b),Um(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AN,formatHex:AN,formatHex8:dQ,formatRgb:PN,toString:PN}));function AN(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}`}function dQ(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}${qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function PN(){const t=Um(this.opacity);return`${t===1?"rgb(":"rgba("}${Ks(this.r)}, ${Ks(this.g)}, ${Ks(this.b)}${t===1?")":`, ${t})`}`}function Um(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ks(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qs(t){return t=Ks(t),(t<16?"0":"")+t.toString(16)}function IN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,n,r)}function _F(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof rh||(t=fd(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new xi(a,l,c,t.opacity)}function hQ(t,e,n,r){return arguments.length===1?_F(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QS(xi,hQ,vF(rh,{brighter(t){return t=t==null?Vm:Math.pow(Vm,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ld:Math.pow(ld,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hr(Ib(t>=240?t-240:t+120,i,r),Ib(t,i,r),Ib(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xi(CN(this.h),$p(this.s),$p(this.l),Um(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Um(this.opacity);return`${t===1?"hsl(":"hsla("}${CN(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CN(t){return t=(t||0)%360,t<0?t+360:t}function $p(t){return Math.max(0,Math.min(1,t||0))}function Ib(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JS=t=>()=>t;function pQ(t,e){return function(n){return t+n*e}}function mQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gQ(t){return(t=+t)==1?wF:function(e,n){return n-e?mQ(e,n,t):JS(isNaN(e)?n:e)}}function wF(t,e){var n=e-t;return n?pQ(t,n):JS(isNaN(t)?e:t)}const ON=function t(e){var n=gQ(e);function r(i,o){var a=n((i=bE(i)).r,(o=bE(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=wF(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r}(1);function yQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function vQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _Q(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=cc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function wQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var EE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cb=new RegExp(EE.source,"g");function EQ(t){return function(){return t}}function xQ(t){return function(e){return t(e)+""}}function SQ(t,e){var n=EE.lastIndex=Cb.lastIndex=0,r,i,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=EE.exec(t))&&(i=Cb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Bm(r,i)})),n=Cb.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?xQ(c[0].x):EQ(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?JS(e):(n==="number"?Bm:n==="string"?(r=fd(e))?(e=r,ON):SQ:e instanceof fd?ON:e instanceof Date?wQ:vQ(e)?yQ:Array.isArray(e)?_Q:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bQ:Bm)(t,e)}function ZS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TQ(t,e){e===void 0&&(e=t,t=cc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function AQ(t){return function(){return t}}function qm(t){return+t}var RN=[0,1];function Zn(t){return t}function xE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:AQ(isNaN(e)?NaN:.5)}function PQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function IQ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xE(i,r),o=n(a,o)):(r=xE(r,i),o=n(o,a)),function(l){return o(r(l))}}function CQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var c=nh(t,l,1,r)-1;return o[c](i[c](l))}}function ih(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uy(){var t=RN,e=RN,n=cc,r,i,o,a=Zn,l,c,f;function h(){var y=Math.min(t.length,e.length);return a!==Zn&&(a=PQ(t[0],t[y-1])),l=y>2?CQ:IQ,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(a(y)))}return p.invert=function(y){return a(i((f||(f=l(e,t.map(r),Bm)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,qm),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=ZS,h()},p.clamp=function(y){return arguments.length?(a=y?!0:Zn,h()):a!==Zn},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,_){return r=y,i=_,h()}}function eT(){return uy()(Zn,Zn)}function OQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nl(t){return t=zm(Math.abs(t)),t?t[1]:NaN}function RQ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function kQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var NQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dd(t){if(!(e=NQ.exec(t)))throw new Error("invalid format: "+t);var e;return new tT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dd.prototype=tT.prototype;function tT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bF;function MQ(t,e){var n=zm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(bF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zm(t,Math.max(0,e+o-1))[0]}function kN(t,e){var n=zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const NN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kN(t*100,e),r:kN,s:MQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jN(t){return t}var MN=Array.prototype.map,DN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DQ(t){var e=t.grouping===void 0||t.thousands===void 0?jN:RQ(MN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?jN:kQ(MN.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=dd(p);var y=p.fill,_=p.align,w=p.sign,E=p.symbol,v=p.zero,P=p.width,A=p.comma,N=p.precision,D=p.trim,O=p.type;O==="n"?(A=!0,O="g"):NN[O]||(N===void 0&&(N=12),D=!0,O="g"),(v||y==="0"&&_==="=")&&(v=!0,y="0",_="=");var M=E==="$"?n:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=E==="$"?r:/[%p]/.test(O)?a:"",R=NN[O],j=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(L){var V=M,I=C,z,G,Q;if(O==="c")I=R(L)+I,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?c:R(Math.abs(L),N),D&&(L=jQ(L)),te&&+L==0&&w!=="+"&&(te=!1),V=(te?w==="("?w:l:w==="-"||w==="("?"":w)+V,I=(O==="s"?DN[8+bF/3]:"")+I+(te&&w==="("?")":""),j){for(z=-1,G=L.length;++z<G;)if(Q=L.charCodeAt(z),48>Q||Q>57){I=(Q===46?i+L.slice(z+1):L.slice(z))+I,L=L.slice(0,z);break}}}A&&!v&&(L=e(L,1/0));var X=V.length+L.length+I.length,ie=X<P?new Array(P-X+1).join(y):"";switch(A&&v&&(L=e(ie+L,ie.length?P-I.length:1/0),ie=""),_){case"<":L=V+L+I+ie;break;case"=":L=V+ie+L+I;break;case"^":L=ie.slice(0,X=ie.length>>1)+V+L+I+ie.slice(X);break;default:L=ie+V+L+I;break}return o(L)}return F.toString=function(){return p+""},F}function h(p,y){var _=f((p=dd(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Nl(y)/3)))*3,E=Math.pow(10,-w),v=DN[8+w/3];return function(P){return _(E*P)+v}}return{format:f,formatPrefix:h}}var Fp,nT,EF;LQ({thousands:",",grouping:[3],currency:["$",""]});function LQ(t){return Fp=DQ(t),nT=Fp.format,EF=Fp.formatPrefix,Fp}function $Q(t){return Math.max(0,-Nl(Math.abs(t)))}function FQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nl(e)/3)))*3-Nl(Math.abs(t)))}function VQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nl(e)-Nl(t))+1}function xF(t,e,n,r){var i=_E(t,e,n),o;switch(r=dd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=FQ(i,a))&&(r.precision=o),EF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=VQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$Q(i))&&(r.precision=o-(r.type==="%")*2);break}}return nT(r)}function ns(t){var e=t.domain;return t.ticks=function(n){var r=e();return yE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return xF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],c,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=vE(a,l,n),f===c)return r[i]=a,r[o]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Wm(){var t=eT();return t.copy=function(){return ih(t,Wm())},ni.apply(t,arguments),ns(t)}function SF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SF(t).unknown(e)},t=arguments.length?Array.from(t,qm):[0,1],ns(n)}function TF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function LN(t){return Math.log(t)}function $N(t){return Math.exp(t)}function UQ(t){return-Math.log(-t)}function BQ(t){return-Math.exp(-t)}function qQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zQ(t){return t===10?qQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FN(t){return(e,n)=>-t(-e,n)}function rT(t){const e=t(LN,$N),n=e.domain;let r=10,i,o;function a(){return i=WQ(r),o=zQ(r),n()[0]<0?(i=FN(i),o=FN(o),t(UQ,BQ)):t(LN,$N),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),_=i(h),w,E;const v=l==null?10:+l;let P=[];if(!(r%1)&&_-y<v){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(w=1;w<r;++w)if(E=y<0?w/o(-y):w*o(y),!(E<f)){if(E>h)break;P.push(E)}}else for(;y<=_;++y)for(w=r-1;w>=1;--w)if(E=y>0?w/o(-y):w*o(y),!(E<f)){if(E>h)break;P.push(E)}P.length*2<v&&(P=yE(f,h,v))}else P=yE(y,_,Math.min(_-y,v)).map(o);return p?P.reverse():P},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=dd(c)).precision==null&&(c.trim=!0),c=nT(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(TF(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function AF(){const t=rT(uy()).domain([1,10]);return t.copy=()=>ih(t,AF()).base(t.base()),ni.apply(t,arguments),t}function VN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iT(t){var e=1,n=t(VN(e),UN(e));return n.constant=function(r){return arguments.length?t(VN(e=+r),UN(e)):e},ns(n)}function PF(){var t=iT(uy());return t.copy=function(){return ih(t,PF()).constant(t.constant())},ni.apply(t,arguments)}function BN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GQ(t){return t<0?-t*t:t*t}function oT(t){var e=t(Zn,Zn),n=1;function r(){return n===1?t(Zn,Zn):n===.5?t(HQ,GQ):t(BN(n),BN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ns(e)}function aT(){var t=oT(uy());return t.copy=function(){return ih(t,aT()).exponent(t.exponent())},ni.apply(t,arguments),t}function KQ(){return aT.apply(null,arguments).exponent(.5)}function qN(t){return Math.sign(t)*t*t}function YQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IF(){var t=eT(),e=[0,1],n=!1,r;function i(o){var a=YQ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(qN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,qm)).map(qN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return IF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ni.apply(i,arguments),ns(i)}function CF(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=eQ(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[nh(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($a),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return CF().domain(t).range(e).unknown(r)},ni.apply(o,arguments)}function OF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[nh(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return OF().domain([t,e]).range(i).unknown(o)},ni.apply(ns(a),arguments)}function RF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[nh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return RF().domain(t).range(e).unknown(n)},ni.apply(i,arguments)}const Ob=new Date,Rb=new Date;function pn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<a);return c},i.filter=o=>pn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ob.setTime(+o),Rb.setTime(+a),t(Ob),t(Rb),Math.floor(n(Ob,Rb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Hm=pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hm);Hm.range;const Io=1e3,Kr=Io*60,Co=Kr*60,Uo=Co*24,sT=Uo*7,zN=Uo*30,kb=Uo*365,zs=pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCSeconds());zs.range;const uT=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getMinutes());uT.range;const lT=pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCMinutes());lT.range;const cT=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io-t.getMinutes()*Kr)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getHours());cT.range;const fT=pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCHours());fT.range;const oh=pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Uo,t=>t.getDate()-1);oh.range;const ly=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>t.getUTCDate()-1);ly.range;const kF=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>Math.floor(t/Uo));kF.range;function fu(t){return pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/sT)}const cy=fu(0),Gm=fu(1),XQ=fu(2),QQ=fu(3),jl=fu(4),JQ=fu(5),ZQ=fu(6);cy.range;Gm.range;XQ.range;QQ.range;jl.range;JQ.range;ZQ.range;function du(t){return pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sT)}const fy=du(0),Km=du(1),eJ=du(2),tJ=du(3),Ml=du(4),nJ=du(5),rJ=du(6);fy.range;Km.range;eJ.range;tJ.range;Ml.range;nJ.range;rJ.range;const dT=pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dT.range;const hT=pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hT.range;const Bo=pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Bo.range;const qo=pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qo.range;function NF(t,e,n,r,i,o){const a=[[zs,1,Io],[zs,5,5*Io],[zs,15,15*Io],[zs,30,30*Io],[o,1,Kr],[o,5,5*Kr],[o,15,15*Kr],[o,30,30*Kr],[i,1,Co],[i,3,3*Co],[i,6,6*Co],[i,12,12*Co],[r,1,Uo],[r,2,2*Uo],[n,1,sT],[e,1,zN],[e,3,3*zN],[t,1,kb]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const _=p&&typeof p.range=="function"?p:c(f,h,p),w=_?_.range(f,+h+1):[];return y?w.reverse():w}function c(f,h,p){const y=Math.abs(h-f)/p,_=YS(([,,v])=>v).right(a,y);if(_===a.length)return t.every(_E(f/kb,h/kb,p));if(_===0)return Hm.every(Math.max(_E(f,h,p),1));const[w,E]=a[y/a[_-1][2]<a[_][2]/y?_-1:_];return w.every(E)}return[l,c]}const[iJ,oJ]=NF(qo,hT,fy,kF,fT,lT),[aJ,sJ]=NF(Bo,dT,cy,oh,cT,uT);function Nb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ff(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uJ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=df(i),h=hf(i),p=df(o),y=hf(o),_=df(a),w=hf(a),E=df(l),v=hf(l),P=df(c),A=hf(c),N={a:te,A:X,b:ie,B:ne,c:null,d:XN,e:XN,f:RJ,g:UJ,G:qJ,H:IJ,I:CJ,j:OJ,L:jF,m:kJ,M:NJ,p:W,q:Y,Q:ZN,s:e2,S:jJ,u:MJ,U:DJ,V:LJ,w:$J,W:FJ,x:null,X:null,y:VJ,Y:BJ,Z:zJ,"%":JN},D={a:le,A:be,b:Ce,B:Le,c:null,d:QN,e:QN,f:KJ,g:iZ,G:aZ,H:WJ,I:HJ,j:GJ,L:DF,m:YJ,M:XJ,p:Ge,q:he,Q:ZN,s:e2,S:QJ,u:JJ,U:ZJ,V:eZ,w:tZ,W:nZ,x:null,X:null,y:rZ,Y:oZ,Z:sZ,"%":JN},O={a:F,A:L,b:V,B:I,c:z,d:KN,e:KN,f:SJ,g:GN,G:HN,H:YN,I:YN,j:wJ,L:xJ,m:_J,M:bJ,p:j,q:vJ,Q:AJ,s:PJ,S:EJ,u:hJ,U:pJ,V:mJ,w:dJ,W:gJ,x:G,X:Q,y:GN,Y:HN,Z:yJ,"%":TJ};N.x=M(n,N),N.X=M(r,N),N.c=M(e,N),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(ae,ve){return function(Ae){var de=[],ze=-1,je=0,ht=ae.length,_t,Ut,mr;for(Ae instanceof Date||(Ae=new Date(+Ae));++ze<ht;)ae.charCodeAt(ze)===37&&(de.push(ae.slice(je,ze)),(Ut=WN[_t=ae.charAt(++ze)])!=null?_t=ae.charAt(++ze):Ut=_t==="e"?" ":"0",(mr=ve[_t])&&(_t=mr(Ae,Ut)),de.push(_t),je=ze+1);return de.push(ae.slice(je,ze)),de.join("")}}function C(ae,ve){return function(Ae){var de=ff(1900,void 0,1),ze=R(de,ae,Ae+="",0),je,ht;if(ze!=Ae.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ve&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(je=jb(ff(de.y,0,1)),ht=je.getUTCDay(),je=ht>4||ht===0?Km.ceil(je):Km(je),je=ly.offset(je,(de.V-1)*7),de.y=je.getUTCFullYear(),de.m=je.getUTCMonth(),de.d=je.getUTCDate()+(de.w+6)%7):(je=Nb(ff(de.y,0,1)),ht=je.getDay(),je=ht>4||ht===0?Gm.ceil(je):Gm(je),je=oh.offset(je,(de.V-1)*7),de.y=je.getFullYear(),de.m=je.getMonth(),de.d=je.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ht="Z"in de?jb(ff(de.y,0,1)).getUTCDay():Nb(ff(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ht+5)%7:de.w+de.U*7-(ht+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,jb(de)):Nb(de)}}function R(ae,ve,Ae,de){for(var ze=0,je=ve.length,ht=Ae.length,_t,Ut;ze<je;){if(de>=ht)return-1;if(_t=ve.charCodeAt(ze++),_t===37){if(_t=ve.charAt(ze++),Ut=O[_t in WN?ve.charAt(ze++):_t],!Ut||(de=Ut(ae,Ae,de))<0)return-1}else if(_t!=Ae.charCodeAt(de++))return-1}return de}function j(ae,ve,Ae){var de=f.exec(ve.slice(Ae));return de?(ae.p=h.get(de[0].toLowerCase()),Ae+de[0].length):-1}function F(ae,ve,Ae){var de=_.exec(ve.slice(Ae));return de?(ae.w=w.get(de[0].toLowerCase()),Ae+de[0].length):-1}function L(ae,ve,Ae){var de=p.exec(ve.slice(Ae));return de?(ae.w=y.get(de[0].toLowerCase()),Ae+de[0].length):-1}function V(ae,ve,Ae){var de=P.exec(ve.slice(Ae));return de?(ae.m=A.get(de[0].toLowerCase()),Ae+de[0].length):-1}function I(ae,ve,Ae){var de=E.exec(ve.slice(Ae));return de?(ae.m=v.get(de[0].toLowerCase()),Ae+de[0].length):-1}function z(ae,ve,Ae){return R(ae,e,ve,Ae)}function G(ae,ve,Ae){return R(ae,n,ve,Ae)}function Q(ae,ve,Ae){return R(ae,r,ve,Ae)}function te(ae){return a[ae.getDay()]}function X(ae){return o[ae.getDay()]}function ie(ae){return c[ae.getMonth()]}function ne(ae){return l[ae.getMonth()]}function W(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function le(ae){return a[ae.getUTCDay()]}function be(ae){return o[ae.getUTCDay()]}function Ce(ae){return c[ae.getUTCMonth()]}function Le(ae){return l[ae.getUTCMonth()]}function Ge(ae){return i[+(ae.getUTCHours()>=12)]}function he(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ve=M(ae+="",N);return ve.toString=function(){return ae},ve},parse:function(ae){var ve=C(ae+="",!1);return ve.toString=function(){return ae},ve},utcFormat:function(ae){var ve=M(ae+="",D);return ve.toString=function(){return ae},ve},utcParse:function(ae){var ve=C(ae+="",!0);return ve.toString=function(){return ae},ve}}}var WN={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,lJ=/^%/,cJ=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function fJ(t){return t.replace(cJ,"\\$&")}function df(t){return new RegExp("^(?:"+t.map(fJ).join("|")+")","i")}function hf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function dJ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hJ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pJ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mJ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gJ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HN(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GN(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vJ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _J(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KN(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wJ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YN(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bJ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EJ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xJ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function SJ(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TJ(t,e,n){var r=lJ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function AJ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PJ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XN(t,e){return lt(t.getDate(),e,2)}function IJ(t,e){return lt(t.getHours(),e,2)}function CJ(t,e){return lt(t.getHours()%12||12,e,2)}function OJ(t,e){return lt(1+oh.count(Bo(t),t),e,3)}function jF(t,e){return lt(t.getMilliseconds(),e,3)}function RJ(t,e){return jF(t,e)+"000"}function kJ(t,e){return lt(t.getMonth()+1,e,2)}function NJ(t,e){return lt(t.getMinutes(),e,2)}function jJ(t,e){return lt(t.getSeconds(),e,2)}function MJ(t){var e=t.getDay();return e===0?7:e}function DJ(t,e){return lt(cy.count(Bo(t)-1,t),e,2)}function MF(t){var e=t.getDay();return e>=4||e===0?jl(t):jl.ceil(t)}function LJ(t,e){return t=MF(t),lt(jl.count(Bo(t),t)+(Bo(t).getDay()===4),e,2)}function $J(t){return t.getDay()}function FJ(t,e){return lt(Gm.count(Bo(t)-1,t),e,2)}function VJ(t,e){return lt(t.getFullYear()%100,e,2)}function UJ(t,e){return t=MF(t),lt(t.getFullYear()%100,e,2)}function BJ(t,e){return lt(t.getFullYear()%1e4,e,4)}function qJ(t,e){var n=t.getDay();return t=n>=4||n===0?jl(t):jl.ceil(t),lt(t.getFullYear()%1e4,e,4)}function zJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function QN(t,e){return lt(t.getUTCDate(),e,2)}function WJ(t,e){return lt(t.getUTCHours(),e,2)}function HJ(t,e){return lt(t.getUTCHours()%12||12,e,2)}function GJ(t,e){return lt(1+ly.count(qo(t),t),e,3)}function DF(t,e){return lt(t.getUTCMilliseconds(),e,3)}function KJ(t,e){return DF(t,e)+"000"}function YJ(t,e){return lt(t.getUTCMonth()+1,e,2)}function XJ(t,e){return lt(t.getUTCMinutes(),e,2)}function QJ(t,e){return lt(t.getUTCSeconds(),e,2)}function JJ(t){var e=t.getUTCDay();return e===0?7:e}function ZJ(t,e){return lt(fy.count(qo(t)-1,t),e,2)}function LF(t){var e=t.getUTCDay();return e>=4||e===0?Ml(t):Ml.ceil(t)}function eZ(t,e){return t=LF(t),lt(Ml.count(qo(t),t)+(qo(t).getUTCDay()===4),e,2)}function tZ(t){return t.getUTCDay()}function nZ(t,e){return lt(Km.count(qo(t)-1,t),e,2)}function rZ(t,e){return lt(t.getUTCFullYear()%100,e,2)}function iZ(t,e){return t=LF(t),lt(t.getUTCFullYear()%100,e,2)}function oZ(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function aZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ml(t):Ml.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function sZ(){return"+0000"}function JN(){return"%"}function ZN(t){return+t}function e2(t){return Math.floor(+t/1e3)}var tl,$F,FF;uZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uZ(t){return tl=uJ(t),$F=tl.format,tl.parse,FF=tl.utcFormat,tl.utcParse,tl}function lZ(t){return new Date(t)}function cZ(t){return t instanceof Date?+t:+new Date(+t)}function pT(t,e,n,r,i,o,a,l,c,f){var h=eT(),p=h.invert,y=h.domain,_=f(".%L"),w=f(":%S"),E=f("%I:%M"),v=f("%I %p"),P=f("%a %d"),A=f("%b %d"),N=f("%B"),D=f("%Y");function O(M){return(c(M)<M?_:l(M)<M?w:a(M)<M?E:o(M)<M?v:r(M)<M?i(M)<M?P:A:n(M)<M?N:D)(M)}return h.invert=function(M){return new Date(p(M))},h.domain=function(M){return arguments.length?y(Array.from(M,cZ)):y().map(lZ)},h.ticks=function(M){var C=y();return t(C[0],C[C.length-1],M??10)},h.tickFormat=function(M,C){return C==null?O:f(C)},h.nice=function(M){var C=y();return(!M||typeof M.range!="function")&&(M=e(C[0],C[C.length-1],M??10)),M?y(TF(C,M)):h},h.copy=function(){return ih(h,pT(t,e,n,r,i,o,a,l,c,f))},h}function fZ(){return ni.apply(pT(aJ,sJ,Bo,dT,cy,oh,cT,uT,zs,$F).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dZ(){return ni.apply(pT(iJ,oJ,qo,hT,fy,ly,fT,lT,zs,FF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dy(){var t=0,e=1,n,r,i,o,a=Zn,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(y){var _,w;return arguments.length?([_,w]=y,a=p(_,w),f):[a(0),a(1)]}}return f.range=h(cc),f.rangeRound=h(ZS),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function rs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VF(){var t=ns(dy()(Zn));return t.copy=function(){return rs(t,VF())},Xo.apply(t,arguments)}function UF(){var t=rT(dy()).domain([1,10]);return t.copy=function(){return rs(t,UF()).base(t.base())},Xo.apply(t,arguments)}function BF(){var t=iT(dy());return t.copy=function(){return rs(t,BF()).constant(t.constant())},Xo.apply(t,arguments)}function mT(){var t=oT(dy());return t.copy=function(){return rs(t,mT()).exponent(t.exponent())},Xo.apply(t,arguments)}function hZ(){return mT.apply(null,arguments).exponent(.5)}function qF(){var t=[],e=Zn;function n(r){if(r!=null&&!isNaN(r=+r))return e((nh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($a),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ZX(t,o/r))},n.copy=function(){return qF(e).domain(t)},Xo.apply(n,arguments)}function hy(){var t=0,e=.5,n=1,r=1,i,o,a,l,c,f=Zn,h,p=!1,y;function _(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?l:c),f(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),o=h(e=+e),a=h(n=+n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(f=E,_):f};function w(E){return function(v){var P,A,N;return arguments.length?([P,A,N]=v,f=TQ(E,[P,A,N]),_):[f(0),f(.5),f(1)]}}return _.range=w(cc),_.rangeRound=w(ZS),_.unknown=function(E){return arguments.length?(y=E,_):y},function(E){return h=E,i=E(t),o=E(e),a=E(n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,_}}function zF(){var t=ns(hy()(Zn));return t.copy=function(){return rs(t,zF())},Xo.apply(t,arguments)}function WF(){var t=rT(hy()).domain([.1,1,10]);return t.copy=function(){return rs(t,WF()).base(t.base())},Xo.apply(t,arguments)}function HF(){var t=iT(hy());return t.copy=function(){return rs(t,HF()).constant(t.constant())},Xo.apply(t,arguments)}function gT(){var t=oT(hy());return t.copy=function(){return rs(t,gT()).exponent(t.exponent())},Xo.apply(t,arguments)}function pZ(){return gT.apply(null,arguments).exponent(.5)}const t2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ud,scaleDiverging:zF,scaleDivergingLog:WF,scaleDivergingPow:gT,scaleDivergingSqrt:pZ,scaleDivergingSymlog:HF,scaleIdentity:SF,scaleImplicit:wE,scaleLinear:Wm,scaleLog:AF,scaleOrdinal:XS,scalePoint:Lf,scalePow:aT,scaleQuantile:CF,scaleQuantize:OF,scaleRadial:IF,scaleSequential:VF,scaleSequentialLog:UF,scaleSequentialPow:mT,scaleSequentialQuantile:qF,scaleSequentialSqrt:hZ,scaleSequentialSymlog:BF,scaleSqrt:KQ,scaleSymlog:PF,scaleThreshold:RF,scaleTime:fZ,scaleUtc:dZ,tickFormat:xF},Symbol.toStringTag,{value:"Module"}));var Mb,n2;function GF(){if(n2)return Mb;n2=1;var t=sc();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return Mb=e,Mb}var Db,r2;function mZ(){if(r2)return Db;r2=1;function t(e,n){return e>n}return Db=t,Db}var Lb,i2;function gZ(){if(i2)return Lb;i2=1;var t=GF(),e=mZ(),n=lc();function r(i){return i&&i.length?t(i,n,e):void 0}return Lb=r,Lb}var yZ=gZ();const py=At(yZ);var $b,o2;function vZ(){if(o2)return $b;o2=1;function t(e,n){return e<n}return $b=t,$b}var Fb,a2;function _Z(){if(a2)return Fb;a2=1;var t=GF(),e=vZ(),n=lc();function r(i){return i&&i.length?t(i,n,e):void 0}return Fb=r,Fb}var wZ=_Z();const my=At(wZ);var Vb,s2;function bZ(){if(s2)return Vb;s2=1;var t=kS(),e=ts(),n=tF(),r=pr();function i(o,a){var l=r(o)?t:n;return l(o,e(a,3))}return Vb=i,Vb}var Ub,u2;function EZ(){if(u2)return Ub;u2=1;var t=Z$(),e=bZ();function n(r,i){return t(e(r,i),1)}return Ub=n,Ub}var xZ=EZ();const SZ=At(xZ);var Bb,l2;function TZ(){if(l2)return Bb;l2=1;var t=WS();function e(n,r){return t(n,r)}return Bb=e,Bb}var AZ=TZ();const gy=At(AZ);var fc=1e9,PZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vT,jt=!0,ei="[DecimalError] ",Ys=ei+"Invalid argument: ",yT=ei+"Exponent out of range: ",dc=Math.floor,$s=Math.pow,IZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,bn=1e7,Ct=7,KF=9007199254740991,Ym=dc(KF/Ct),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Mo(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return bt(Mo(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return nn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cr))throw Error(ei+"NaN");if(n.s<1)throw Error(ei+(n.s?"NaN":"-Infinity"));return n.eq(Cr)?new r(0):(jt=!1,e=Mo(hd(n,o),hd(t,o),o),jt=!0,bt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QF(e,t):YF(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ei+"NaN");return n.s?(jt=!1,e=Mo(n,t,0,1).times(t),jt=!0,n.minus(e)):bt(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return XF(this)};Ie.naturalLogarithm=Ie.ln=function(){return hd(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YF(e,t):QF(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ys+t);if(e=nn(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,o,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ei+"NaN")}for(t=nn(l),jt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ki(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Mo(l,o,a+2)).times(.5),Ki(o.d).slice(0,a)===(e=Ki(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(bt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return jt=!0,bt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,o,a,l,c,f,h=this,p=h.constructor,y=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=_.length,c<f&&(o=y,y=_,_=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+_[r]*y[i-r-1]+e,o[i--]=l%bn|0,e=l/bn|0;o[i]=(o[i]+e)%bn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,jt?bt(t,p.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ro(t,0,fc),e===void 0?e=r.rounding:ro(e,0,8),bt(n,t+nn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ru(r,!0):(ro(t,0,fc),e===void 0?e=i.rounding:ro(e,0,8),r=bt(new i(r),t+1,e),n=ru(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ru(i):(ro(t,0,fc),e===void 0?e=o.rounding:ro(e,0,8),r=bt(new o(i),t+nn(i)+1,e),n=ru(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return bt(new e(t),nn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,o,a,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Cr);if(l=new c(l),!l.s){if(t.s<1)throw Error(ei+"Infinity");return l}if(l.eq(Cr))return l;if(r=c.precision,t.eq(Cr))return bt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=h<0?-h:h)<=KF){for(i=new c(Cr),e=Math.ceil(r/Ct+4),jt=!1;n%2&&(i=i.times(l),f2(i.d,e)),n=dc(n/2),n!==0;)l=l.times(l),f2(l.d,e);return jt=!0,t.s<0?new c(Cr).div(i):bt(i,r)}}else if(o<0)throw Error(ei+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,jt=!1,i=t.times(hd(l,r+f)),jt=!0,i=XF(i),i.s=o,i};Ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=nn(i),r=ru(i,n<=o.toExpNeg||n>=o.toExpPos)):(ro(t,1,fc),e===void 0?e=o.rounding:ro(e,0,8),i=bt(new o(i),t,e),n=nn(i),r=ru(i,t<=n||n<=o.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ro(t,1,fc),e===void 0?e=r.rounding:ro(e,0,8)),bt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return ru(t,e<=n.toExpNeg||e>=n.toExpPos)};function YF(t,e){var n,r,i,o,a,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),jt?bt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=a,l=c.length),a=Math.ceil(p/Ct),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/bn|0,c[o]%=bn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,jt?bt(e,p):e}function ro(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ys+t)}function Ki(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ct-r.length,n&&(o+=Sa(n)),o+=r;a=t[e],r=a+"",n=Ct-r.length,n&&(o+=Sa(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Mo=function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%bn|0,a=o/bn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,c;if(o!=a)c=o>a?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,c,f,h,p,y,_,w,E,v,P,A,N,D,O,M,C,R,j=r.constructor,F=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(ei+"Division by zero");for(c=r.e-i.e,C=V.length,O=L.length,_=new j(F),w=_.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,o==null?A=o=j.precision:a?A=o+(nn(r)-nn(i))+1:A=o,A<0)return new j(0);if(A=A/Ct+2|0,f=0,C==1)for(h=0,V=V[0],A++;(f<O||h)&&A--;f++)N=h*bn+(L[f]||0),w[f]=N/V|0,h=N%V|0;else{for(h=bn/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),C=V.length,O=L.length),D=C,E=L.slice(0,C),v=E.length;v<C;)E[v++]=0;R=V.slice(),R.unshift(0),M=V[0],V[1]>=bn/2&&++M;do h=0,l=e(V,E,C,v),l<0?(P=E[0],C!=v&&(P=P*bn+(E[1]||0)),h=P/M|0,h>1?(h>=bn&&(h=bn-1),p=t(V,h),y=p.length,v=E.length,l=e(p,E,y,v),l==1&&(h--,n(p,C<y?R:V,y))):(h==0&&(l=h=1),p=V.slice()),y=p.length,y<v&&p.unshift(0),n(E,p,v),l==-1&&(v=E.length,l=e(V,E,C,v),l<1&&(h++,n(E,C<v?R:V,v))),v=E.length):l===0&&(h++,E=[0]),w[f++]=h,l&&E[0]?E[v++]=L[D]||0:(E=[L[D]],v=1);while((D++<O||E[0]!==void 0)&&A--)}return w[0]||w.shift(),_.e=c,bt(_,a?o+nn(_)+1:o)}}();function XF(t,e){var n,r,i,o,a,l,c=0,f=0,h=t.constructor,p=h.precision;if(nn(t)>16)throw Error(yT+nn(t));if(!t.s)return new h(Cr);for(e==null?(jt=!1,l=p):l=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log($s(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(Cr),h.precision=l;;){if(i=bt(i.times(t),l),n=n.times(++c),a=o.plus(Mo(i,n,l)),Ki(a.d).slice(0,l)===Ki(o.d).slice(0,l)){for(;f--;)o=bt(o.times(o),l);return h.precision=p,e==null?(jt=!0,bt(o,p)):o}o=a}}function nn(t){for(var e=t.e*Ct,n=t.d[0];n>=10;n/=10)e++;return e}function qb(t,e,n){if(e>t.LN10.sd())throw jt=!0,n&&(t.precision=n),Error(ei+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function Sa(t){for(var e="";t--;)e+="0";return e}function hd(t,e){var n,r,i,o,a,l,c,f,h,p=1,y=10,_=t,w=_.d,E=_.constructor,v=E.precision;if(_.s<1)throw Error(ei+(_.s?"NaN":"-Infinity"));if(_.eq(Cr))return new E(0);if(e==null?(jt=!1,f=v):f=e,_.eq(10))return e==null&&(jt=!0),qb(E,f);if(f+=y,E.precision=f,n=Ki(w),r=n.charAt(0),o=nn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ki(_.d),r=n.charAt(0),p++;o=nn(_),r>1?(_=new E("0."+n),o++):_=new E(r+"."+n.slice(1))}else return c=qb(E,f+2,v).times(o+""),_=hd(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=v,e==null?(jt=!0,bt(_,v)):_;for(l=a=_=Mo(_.minus(Cr),_.plus(Cr),f),h=bt(_.times(_),f),i=3;;){if(a=bt(a.times(h),f),c=l.plus(Mo(a,new E(i),f)),Ki(c.d).slice(0,f)===Ki(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(qb(E,f+2,v).times(o+""))),l=Mo(l,new E(p),f),E.precision=v,e==null?(jt=!0,bt(l,v)):l;l=c,i+=2}}function c2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dc(n/Ct),t.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ct;r<i;)t.d.push(+e.slice(r,r+=Ct));e=e.slice(r),r=Ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jt&&(t.e>Ym||t.e<-Ym))throw Error(yT+n)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,n){var r,i,o,a,l,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ct,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Ct),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=Ct,i=r-Ct+a}if(n!==void 0&&(o=$s(10,a-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/$s(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=nn(t),p.length=1,e=e-o-1,p[0]=$s(10,(Ct-e%Ct)%Ct),t.e=dc(-e/Ct)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=$s(10,Ct-r),p[h]=i>0?(f/$s(10,a-i)%$s(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==bn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=bn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(jt&&(t.e>Ym||t.e<-Ym))throw Error(yT+nn(t));return t}function QF(t,e){var n,r,i,o,a,l,c,f,h,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),jt?bt(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(_/Ct),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=bn-1;--c[o],c[i]+=bn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,jt?bt(e,_):e):new y(0)}function ru(t,e,n){var r,i=nn(t),o=Ki(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Sa(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Sa(-i-1)+o,n&&(r=n-a)>0&&(o+=Sa(r))):i>=a?(o+=Sa(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Sa(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Sa(r))),t.s<0?"-"+o:o}function f2(t,e){if(t.length>e)return t.length=e,!0}function JF(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ys+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return c2(a,o.toString())}else if(typeof o!="string")throw Error(Ys+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,IZ.test(o))c2(a,o);else throw Error(Ys+o)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JF,i.config=i.set=CZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function CZ(t){if(!t||typeof t!="object")throw Error(ei+"Object expected");var e,n,r,i=["precision",1,fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ys+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ys+n+": "+r);return this}var vT=JF(PZ);Cr=new vT(1);const vt=vT;function OZ(t){return jZ(t)||NZ(t)||kZ(t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function NZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jZ(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var MZ=function(e){return e},ZF={"@@functional/placeholder":!0},eV=function(e){return e===ZF},d2=function(e){return function n(){return arguments.length===0||arguments.length===1&&eV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},DZ=function t(e,n){return e===1?n:d2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(l){return l!==ZF}).length;return a>=e?n.apply(void 0,i):t(e-a,d2(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return eV(p)?c.shift():p});return n.apply(void 0,OZ(h).concat(c))}))})},yy=function(e){return DZ(e.length,e)},TE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},LZ=yy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$Z=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return MZ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},AE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function FZ(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function VZ(t,e,n){for(var r=new vt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var UZ=yy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),BZ=yy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),qZ=yy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vy={rangeStep:VZ,getDigitCount:FZ,interpolateNumber:UZ,uninterpolateNumber:BZ,uninterpolateTruncation:qZ};function PE(t){return HZ(t)||WZ(t)||nV(t)||zZ()}function zZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HZ(t){if(Array.isArray(t))return IE(t)}function pd(t,e){return YZ(t)||KZ(t,e)||nV(t,e)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KZ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function YZ(t){if(Array.isArray(t))return t}function rV(t){var e=pd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iV(t,e,n){if(t.lte(0))return new vt(0);var r=vy.getDigitCount(t.toNumber()),i=new vt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new vt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new vt(Math.ceil(c))}function XZ(t,e,n){var r=1,i=new vt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new vt(10).pow(vy.getDigitCount(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var a=Math.floor((e-1)/2),l=$Z(LZ(function(c){return i.add(new vt(c-a).mul(r)).toNumber()}),TE);return l(0,e)}function oV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var o=iV(new vt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new vt(0):(a=new vt(t).add(e).div(2),a=a.sub(new vt(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new vt(e).sub(a).div(o).toNumber()),f=l+c+1;return f>n?oV(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:a.sub(new vt(l).mul(o)),tickMax:a.add(new vt(c).mul(o))})}function QZ(t){var e=pd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=rV([n,r]),c=pd(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(PE(TE(0,i-1).map(function(){return 1/0}))):[].concat(PE(TE(0,i-1).map(function(){return-1/0})),[h]);return n>r?AE(p):p}if(f===h)return XZ(f,i,o);var y=oV(f,h,a,o),_=y.step,w=y.tickMin,E=y.tickMax,v=vy.rangeStep(w,E.add(new vt(.1).mul(_)),_);return n>r?AE(v):v}function JZ(t,e){var n=pd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=rV([r,i]),l=pd(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=iV(new vt(f).sub(c).div(h-1),o,0),y=[].concat(PE(vy.rangeStep(new vt(c),new vt(f).sub(new vt(.99).mul(p)),p)),[f]);return r>i?AE(y):y}var ZZ=tV(QZ),eee=tV(JZ),tee="Invariant failed";function iu(t,e){throw new Error(tee)}var nee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function ree(t,e){return see(t)||aee(t,e)||oee(t,e)||iee()}function iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(t,e){if(t){if(typeof t=="string")return h2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(t,e)}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function see(t){if(Array.isArray(t))return t}function uee(t,e){if(t==null)return{};var n=lee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function dee(t,e,n){return e&&fee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hee(t,e,n){return e=Qm(e),pee(t,aV()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function pee(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mee(t)}function mee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CE(t,e)}function sV(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=yee(t,"string");return Dl(e)=="symbol"?e:e+""}function yee(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ah=function(t){function e(){return cee(this,e),hee(this,e,arguments)}return gee(e,t),dee(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,y=uee(r,nee),_=it(y,!1);this.props.direction==="x"&&h.type!=="number"&&iu();var w=c.map(function(E){var v=f(E,l),P=v.x,A=v.y,N=v.value,D=v.errorVal;if(!D)return null;var O=[],M,C;if(Array.isArray(D)){var R=ree(D,2);M=R[0],C=R[1]}else M=C=D;if(o==="vertical"){var j=h.scale,F=A+i,L=F+a,V=F-a,I=j(N-M),z=j(N+C);O.push({x1:z,y1:L,x2:z,y2:V}),O.push({x1:I,y1:F,x2:z,y2:F}),O.push({x1:I,y1:L,x2:I,y2:V})}else if(o==="horizontal"){var G=p.scale,Q=P+i,te=Q-a,X=Q+a,ie=G(N-M),ne=G(N+C);O.push({x1:te,y1:ne,x2:X,y2:ne}),O.push({x1:Q,y1:ie,x2:Q,y2:ne}),O.push({x1:te,y1:ie,x2:X,y2:ie})}return J.createElement(Xt,Xm({className:"recharts-errorBar",key:"bar-".concat(O.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},_),O.map(function(W){return J.createElement("line",Xm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return J.createElement(Xt,{className:"recharts-errorBars"},w)}}])}(J.Component);sV(ah,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sV(ah,"displayName","ErrorBar");function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=wee(t,"string");return md(e)=="symbol"?e:e+""}function wee(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ir(n,La);if(!a)return null;var l=La.defaultProps,c=l!==void 0?Ns(Ns({},l),a.props):{},f;return a.props&&a.props.payload?f=a.props&&a.props.payload:o==="children"?f=(r||[]).reduce(function(h,p){var y=p.item,_=p.props,w=_.sectors||_.data||[];return h.concat(w.map(function(E){return{type:a.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,y=p.type.defaultProps,_=y!==void 0?Ns(Ns({},y),p.props):{},w=_.dataKey,E=_.name,v=_.legendType,P=_.hide;return{inactive:P,dataKey:w,type:c.iconType||v||"square",color:_T(p),value:E||w,payload:_}}),Ns(Ns(Ns({},c),La.getWithHeight(a,i)),{},{payload:f,item:a})};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function m2(t){return See(t)||xee(t)||Eee(t)||bee()}function bee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function xee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function See(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){_l(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _l(t,e,n){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Aee(t,"string");return gd(e)=="symbol"?e:e+""}function Aee(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rr(t,e,n){return Je(t)||Je(e)?n:fn(e)?Xr(t,e,n):Xe(e)?e(t):n}function $f(t,e,n,r){var i=SZ(t,function(l){return Rr(l,e)});if(n==="number"){var o=i.filter(function(l){return xe(l)||parseFloat(l)});return o.length?[my(o),py(o)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Je(l)}):i;return a.map(function(l){return fn(l)||l instanceof Date?l:""})}var Pee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(Ti(p-h)!==Ti(y-p)){var w=[];if(Ti(y-p)===Ti(c[1]-c[0])){_=y;var E=p+c[1]-c[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{_=h;var v=y+c[1]-c[0];w[0]=Math.min(p,(v+p)/2),w[1]=Math.max(p,(v+p)/2)}var P=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>P[0]&&e<=P[1]||e>=w[0]&&e<=w[1]){a=i[f].index;break}}else{var A=Math.min(h,y),N=Math.max(h,y);if(e>(A+p)/2&&e<=(N+p)/2){a=i[f].index;break}}}else for(var D=0;D<l;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){a=r[D].index;break}return a},_T=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,a=o.stroke,l=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},Iee=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,p=Object.keys(h),y=0,_=p.length;y<_;y++){var w=h[p[y]],E=w.items,v=w.cateAxisId,P=E.filter(function(C){return No(C.type).indexOf("Bar")>=0});if(P&&P.length){var A=P[0].type.defaultProps,N=A!==void 0?zt(zt({},A),P[0].props):P[0].props,D=N.barSize,O=N[v];a[O]||(a[O]=[]);var M=Je(D)?n:D;a[O].push({item:P[0],stackList:P.slice(1),barSize:Je(M)?void 0:nu(M,r,0)})}}return a},Cee=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,l=e.maxBarSize,c=a.length;if(c<1)return null;var f=nu(n,i,0,!0),h,p=[];if(a[0].barSize===+a[0].barSize){var y=!1,_=i/c,w=a.reduce(function(D,O){return D+O.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&_>0&&(y=!0,_*=.9,w=c*_);var E=(i-w)/2>>0,v={offset:E-f,size:0};h=a.reduce(function(D,O){var M={item:O.item,position:{offset:v.offset+v.size+f,size:y?_:O.barSize}},C=[].concat(m2(D),[M]);return v=C[C.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){C.push({item:R,position:v})}),C},p)}else{var P=nu(r,i,0,!0);i-2*P-(c-1)*f<=0&&(f=0);var A=(i-2*P-(c-1)*f)/c;A>1&&(A>>=0);var N=l===+l?Math.min(A,l):A;h=a.reduce(function(D,O,M){var C=[].concat(m2(D),[{item:O.item,position:{offset:P+(A+f)*M+(A-N)/2,size:N}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){C.push({item:R,position:C[C.length-1].position})}),C},p)}return h},Oee=function(e,n,r,i){var o=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),f=lV({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,y=h.height,_=f.align,w=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&w==="middle")&&_!=="center"&&xe(e[_]))return zt(zt({},e),{},_l({},_,e[_]+(p||0)));if((E==="horizontal"||E==="vertical"&&_==="center")&&w!=="middle"&&xe(e[w]))return zt(zt({},e),{},_l({},w,e[w]+(y||0)))}return e},Ree=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cV=function(e,n,r,i,o){var a=n.props.children,l=Qr(a,ah).filter(function(f){return Ree(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Rr(h,r);if(Je(p))return f;var y=Array.isArray(p)?[my(p),py(p)]:[p,p],_=c.reduce(function(w,E){var v=Rr(h,E,0),P=y[0]-Math.abs(Array.isArray(v)?v[0]:v),A=y[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(P,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},kee=function(e,n,r,i,o){var a=n.map(function(l){return cV(e,l,r,o,i)}).filter(function(l){return!Je(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fV=function(e,n,r,i,o){var a=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&cV(e,c,f,i)||$f(e,f,r,o)});if(r==="number")return a.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},dV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Ws=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ti(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return h.filter(function(p){return!Zd(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},zb=new WeakMap,Vp=function(e,n){if(typeof n!="function")return e;zb.has(e)||zb.set(e,new WeakMap);var r=zb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Nee=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:ud(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:Wm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lf(),realScaleType:"point"}:o==="category"?{scale:ud(),realScaleType:"band"}:{scale:Wm(),realScaleType:"linear"};if(Jd(i)){var c="scale".concat(ty(i));return{scale:(t2[c]||Lf)(),realScaleType:t2[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:Lf(),realScaleType:"point"}},y2=1e-4,jee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-y2,a=Math.max(i[0],i[1])+y2,l=e(n[0]),c=e(n[r-1]);(l<o||l>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},Mee=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dee=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Lee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,l=0;l<n;++l){var c=Zd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},$ee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var l=Zd(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Fee={sign:Lee,expand:EG,none:Il,silhouette:xG,wiggle:SG,positive:$ee},Vee=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=Fee[r],a=bG().keys(i).value(function(l,c){return+Rr(l,c,0)}).order(aE).offset(o);return a(e)},Uee=function(e,n,r,i,o,a){if(!e)return null;var l=a?n.reverse():n,c={},f=l.reduce(function(p,y){var _,w=(_=y.type)!==null&&_!==void 0&&_.defaultProps?zt(zt({},y.type.defaultProps),y.props):y.props,E=w.stackId,v=w.hide;if(v)return p;var P=w[r],A=p[P]||{hasStack:!1,stackGroups:{}};if(fn(E)){var N=A.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(y),A.hasStack=!0,A.stackGroups[E]=N}else A.stackGroups[eh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return zt(zt({},p),{},_l({},P,A))},c),h={};return Object.keys(f).reduce(function(p,y){var _=f[y];if(_.hasStack){var w={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(E,v){var P=_.stackGroups[v];return zt(zt({},E),{},_l({},v,{numericAxisId:r,cateAxisId:i,items:P.items,stackedData:Vee(e,P.items,o)}))},w)}return zt(zt({},p),{},_l({},y,_))},h)},Bee=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=ZZ(f,o,l);return e.domain([my(h),py(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),y=eee(p,o,l);return{niceTicks:y}}return null};function v2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var l=Tm(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Rr(i,Je(a)?e.dataKey:a);return Je(c)?null:e.scale(c)}var _2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Rr(a,n.dataKey,n.domain[l]);return Je(c)?null:n.scale(c)-o/2+i},qee=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},zee=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(fn(o)){var a=n[o];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},Wee=function(e){return e.reduce(function(n,r){return[my(r.concat([n[0]]).filter(xe)),py(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},hV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],l=a.stackedData,c=l.reduce(function(f,h){var p=Wee(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RE=function(e,n,r){if(Xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(w2.test(e[0])){var o=+w2.exec(e[0])[1];i[0]=n[0]-o}else Xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(b2.test(e[1])){var a=+b2.exec(e[1])[1];i[1]=n[1]+a}else Xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Jm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=GS(n,function(p){return p.coordinate}),a=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},E2=function(e,n,r){return!e||!e.length||gy(e,Xr(r,"type.defaultProps.domain"))?n:e},pV=function(e,n){var r=e.type.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return zt(zt({},it(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:o||i,color:_T(e),value:Rr(n,i),type:c,payload:n,chartType:f,hide:h})};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){Hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=Kee(t,"string");return yd(e)=="symbol"?e:e+""}function Kee(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zm=Math.PI/180,Yee=function(e){return e*180/Math.PI},jn=function(e,n,r,i){return{x:e+Math.cos(-Zm*i)*r,y:n+Math.sin(-Zm*i)*r}},Xee=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Qee=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,l=Xee({x:r,y:i},{x:o,y:a});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>a&&(f=2*Math.PI-f),{radius:l,angle:Yee(f),angleInRadian:f}},Jee=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Zee=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(o,a);return e+l*360},T2=function(e,n){var r=e.x,i=e.y,o=Qee({x:r,y:i},n),a=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(a<c||a>f)return!1;if(a===0)return!0;var h=Jee(n),p=h.startAngle,y=h.endAngle,_=l,w;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;w=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;w=_>=y&&_<=p}return w?S2(S2({},n),{},{radius:a,angle:Zee(_,n)}):null};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}var ete=["offset"];function tte(t){return ote(t)||ite(t)||rte(t)||nte()}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function ite(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ote(t){if(Array.isArray(t))return kE(t)}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ate(t,e){if(t==null)return{};var n=ste(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ste(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e,n){return e=lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=cte(t,"string");return vd(e)=="symbol"?e:e+""}function cte(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}var fte=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Xe(r)?r(i):i},dte=function(e,n){var r=Ti(n-e),i=Math.min(Math.abs(n-e),360);return r*i},hte=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,w=c.endAngle,E=c.clockWise,v=(p+y)/2,P=dte(_,w),A=P>=0?1:-1,N,D;i==="insideStart"?(N=_+A*a,D=E):i==="insideEnd"?(N=w-A*a,D=!E):i==="end"&&(N=w+A*a,D=E),D=P<=0?D:!D;var O=jn(f,h,v,N),M=jn(f,h,v,N+(D?1:-1)*359),C="M".concat(O.x,",").concat(O.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),R=Je(e.id)?eh("recharts-radial-line-"):e.id;return J.createElement("text",_d({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),J.createElement("defs",null,J.createElement("path",{id:R,d:C})),J.createElement("textPath",{xlinkHref:"#".concat(R)},n))},pte=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,y=(h+p)/2;if(i==="outside"){var _=jn(a,l,f+r,y),w=_.x,E=_.y;return{x:w,y:E,textAnchor:w>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+f)/2,P=jn(a,l,v,y),A=P.x,N=P.y;return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},mte=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,l=a.x,c=a.y,f=a.width,h=a.height,p=h>=0?1:-1,y=p*i,_=p>0?"end":"start",w=p>0?"start":"end",E=f>=0?1:-1,v=E*i,P=E>0?"end":"start",A=E>0?"start":"end";if(o==="top"){var N={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return ln(ln({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var D={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:w};return ln(ln({},D),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var O={x:l-v,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return ln(ln({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(o==="right"){var M={x:l+f+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return ln(ln({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:h}:{})}var C=r?{width:f,height:h}:{};return o==="insideLeft"?ln({x:l+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},C):o==="insideRight"?ln({x:l+f-v,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},C):o==="insideTop"?ln({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:w},C):o==="insideBottom"?ln({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},C):o==="insideTopLeft"?ln({x:l+v,y:c+y,textAnchor:A,verticalAnchor:w},C):o==="insideTopRight"?ln({x:l+f-v,y:c+y,textAnchor:P,verticalAnchor:w},C):o==="insideBottomLeft"?ln({x:l+v,y:c+h-y,textAnchor:A,verticalAnchor:_},C):o==="insideBottomRight"?ln({x:l+f-v,y:c+h-y,textAnchor:P,verticalAnchor:_},C):uc(o)&&(xe(o.x)||Bs(o.x))&&(xe(o.y)||Bs(o.y))?ln({x:l+nu(o.x,f),y:c+nu(o.y,h),textAnchor:"end",verticalAnchor:"end"},C):ln({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},C)},gte=function(e){return"cx"in e&&xe(e.cx)};function zn(t){var e=t.offset,n=e===void 0?5:e,r=ate(t,ete),i=ln({offset:n},r),o=i.viewBox,a=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!o||Je(l)&&Je(c)&&!U.isValidElement(f)&&!Xe(f))return null;if(U.isValidElement(f))return U.cloneElement(f,i);var _;if(Xe(f)){if(_=U.createElement(f,i),U.isValidElement(_))return _}else _=fte(i);var w=gte(o),E=it(i,!0);if(w&&(a==="insideStart"||a==="insideEnd"||a==="end"))return hte(i,_,E);var v=w?pte(i):mte(i);return J.createElement($m,_d({className:ut("recharts-label",p)},E,v,{breakAll:y}),_)}zn.displayName="Label";var mV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,_=e.top,w=e.left,E=e.width,v=e.height,P=e.clockWise,A=e.labelViewBox;if(A)return A;if(xe(E)&&xe(v)){if(xe(p)&&xe(y))return{x:p,y,width:E,height:v};if(xe(_)&&xe(w))return{x:_,y:w,width:E,height:v}}return xe(p)&&xe(y)?{x:p,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:P}:e.viewBox?e.viewBox:{}},yte=function(e,n){return e?e===!0?J.createElement(zn,{key:"label-implicit",viewBox:n}):fn(e)?J.createElement(zn,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===zn?U.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(zn,{key:"label-implicit",content:e,viewBox:n}):Xe(e)?J.createElement(zn,{key:"label-implicit",content:e,viewBox:n}):uc(e)?J.createElement(zn,_d({viewBox:n},e,{key:"label-implicit"})):null:null},vte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=mV(e),a=Qr(i,zn).map(function(c,f){return U.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return a;var l=yte(e.label,n||o);return[l].concat(tte(a))};zn.parseViewBox=mV;zn.renderCallByParent=vte;var Wb,P2;function _te(){if(P2)return Wb;P2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Wb=t,Wb}var wte=_te();const bte=At(wte);function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}var Ete=["valueAccessor"],xte=["data","dataKey","clockWise","id","textBreakAll"];function Ste(t){return Ite(t)||Pte(t)||Ate(t)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(t,e){if(t){if(typeof t=="string")return NE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(t,e)}}function Pte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return NE(t)}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Rte(t,"string");return wd(e)=="symbol"?e:e+""}function Rte(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O2(t,e){if(t==null)return{};var n=kte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nte=function(e){return Array.isArray(e.value)?bte(e.value):e.value};function Fa(t){var e=t.valueAccessor,n=e===void 0?Nte:e,r=O2(t,Ete),i=r.data,o=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,f=O2(r,xte);return!i||!i.length?null:J.createElement(Xt,{className:"recharts-label-list"},i.map(function(h,p){var y=Je(o)?n(h,p):Rr(h&&h.payload,o),_=Je(l)?{}:{id:"".concat(l,"-").concat(p)};return J.createElement(zn,eg({},it(h,!0),f,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:zn.parseViewBox(Je(a)?h:C2(C2({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Fa.displayName="LabelList";function jte(t,e){return t?t===!0?J.createElement(Fa,{key:"labelList-implicit",data:e}):J.isValidElement(t)||Xe(t)?J.createElement(Fa,{key:"labelList-implicit",data:e,content:t}):uc(t)?J.createElement(Fa,eg({data:e},t,{key:"labelList-implicit"})):null:null}function Mte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qr(r,Fa).map(function(a,l){return U.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=jte(t.label,e);return[o].concat(Ste(i))}Fa.renderCallByParent=Mte;function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(this,arguments)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=$te(t,"string");return bd(e)=="symbol"?e:e+""}function $te(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fte=function(e,n){var r=Ti(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Up=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/Zm,y=f?o:o+a*p,_=jn(n,r,h,y),w=jn(n,r,i,y),E=f?o-a*p:o,v=jn(n,r,h*Math.cos(p*Zm),E);return{center:_,circleTangency:w,lineTangency:v,theta:p}},gV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,l=e.endAngle,c=Fte(a,l),f=a+c,h=jn(n,r,o,a),p=jn(n,r,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=jn(n,r,i,a),w=jn(n,r,i,f);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},Vte=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Ti(h-f),y=Up({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),_=y.circleTangency,w=y.lineTangency,E=y.theta,v=Up({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:c}),P=v.circleTangency,A=v.lineTangency,N=v.theta,D=c?Math.abs(f-h):Math.abs(f-h)-E-N;if(D<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):gV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var O="M ".concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var M=Up({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),C=M.circleTangency,R=M.lineTangency,j=M.theta,F=Up({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),L=F.circleTangency,V=F.lineTangency,I=F.theta,z=c?Math.abs(f-h):Math.abs(f-h)-j-I;if(z<0&&a===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},Ute={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yV=function(e){var n=k2(k2({},Ute),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(a<o||h===p)return null;var _=ut("recharts-sector",y),w=a-o,E=nu(l,w,0,!0),v;return E>0&&Math.abs(h-p)<360?v=Vte({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):v=gV({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:p}),J.createElement("path",jE({},it(n,!0),{className:_,d:v,role:"img"}))};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=zte(t,"string");return Ed(e)=="symbol"?e:e+""}function zte(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M2={curveBasisClosed:cG,curveBasisOpen:fG,curveBasis:lG,curveBumpX:YH,curveBumpY:XH,curveLinearClosed:dG,curveLinear:ry,curveMonotoneX:hG,curveMonotoneY:pG,curveNatural:mG,curveStep:gG,curveStepAfter:vG,curveStepBefore:yG},Bp=function(e){return e.x===+e.x&&e.y===+e.y},pf=function(e){return e.x},mf=function(e){return e.y},Wte=function(e,n){if(Xe(e))return e;var r="curve".concat(ty(e));return(r==="curveMonotone"||r==="curveBump")&&n?M2["".concat(r).concat(n==="vertical"?"Y":"X")]:M2[r]||ry},Hte=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=Wte(r,l),p=f?o.filter(function(E){return Bp(E)}):o,y;if(Array.isArray(a)){var _=f?a.filter(function(E){return Bp(E)}):a,w=p.map(function(E,v){return j2(j2({},E),{},{base:_[v]})});return l==="vertical"?y=Np().y(mf).x1(pf).x0(function(E){return E.base.x}):y=Np().x(pf).y1(mf).y0(function(E){return E.base.y}),y.defined(Bp).curve(h),y(w)}return l==="vertical"&&xe(a)?y=Np().y(mf).x1(pf).x0(a):xe(a)?y=Np().x(pf).y1(mf).y0(a):y=E$().x(pf).y(mf),y.defined(Bp).curve(h),y(p)},DE=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Hte(e):i;return J.createElement("path",ME({},it(e,!1),Am(e),{className:ut("recharts-curve",n),d:a,ref:o}))},Hb={exports:{}},Gb,D2;function Gte(){if(D2)return Gb;D2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gb=t,Gb}var Kb,L2;function Kte(){if(L2)return Kb;L2=1;var t=Gte();function e(){}function n(){}return n.resetWarningCache=e,Kb=function(){function r(a,l,c,f,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Kb}var $2;function Yte(){return $2||($2=1,Hb.exports=Kte()()),Hb.exports}var Xte=Yte();const ft=At(Xte);var Qte=Object.getOwnPropertyNames,Jte=Object.getOwnPropertySymbols,Zte=Object.prototype.hasOwnProperty;function F2(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function qp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),l=o.get(r);if(a&&l)return a===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function V2(t){return Qte(t).concat(Jte(t))}var vV=Object.hasOwn||function(t,e){return Zte.call(t,e)};function hc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var _V="_owner",U2=Object.getOwnPropertyDescriptor,B2=Object.keys;function ene(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tne(t,e){return hc(t.getTime(),e.getTime())}function q2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,l;(a=i.next())&&!a.done;){for(var c=e.entries(),f=!1,h=0;(l=c.next())&&!l.done;){var p=a.value,y=p[0],_=p[1],w=l.value,E=w[0],v=w[1];!f&&!r[h]&&(f=n.equals(y,E,o,h,t,e,n)&&n.equals(_,v,y,E,t,e,n))&&(r[h]=!0),h++}if(!f)return!1;o++}return!0}function nne(t,e,n){var r=B2(t),i=r.length;if(B2(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===_V&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!vV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function gf(t,e,n){var r=V2(t),i=r.length;if(V2(e).length!==i)return!1;for(var o,a,l;i-- >0;)if(o=r[i],o===_V&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!vV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=U2(t,o),l=U2(e,o),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function rne(t,e){return hc(t.valueOf(),e.valueOf())}function ine(t,e){return t.source===e.source&&t.flags===e.flags}function z2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;)!c&&!r[f]&&(c=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[f]=!0),f++;if(!c)return!1}return!0}function one(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var ane="[object Arguments]",sne="[object Boolean]",une="[object Date]",lne="[object Map]",cne="[object Number]",fne="[object Object]",dne="[object RegExp]",hne="[object Set]",pne="[object String]",mne=Array.isArray,W2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,H2=Object.assign,gne=Object.prototype.toString.call.bind(Object.prototype.toString);function yne(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(h,p,y){if(h===p)return!0;if(h==null||p==null||typeof h!="object"||typeof p!="object")return h!==h&&p!==p;var _=h.constructor;if(_!==p.constructor)return!1;if(_===Object)return i(h,p,y);if(mne(h))return e(h,p,y);if(W2!=null&&W2(h))return c(h,p,y);if(_===Date)return n(h,p,y);if(_===RegExp)return a(h,p,y);if(_===Map)return r(h,p,y);if(_===Set)return l(h,p,y);var w=gne(h);return w===une?n(h,p,y):w===dne?a(h,p,y):w===lne?r(h,p,y):w===hne?l(h,p,y):w===fne?typeof h.then!="function"&&typeof p.then!="function"&&i(h,p,y):w===ane?i(h,p,y):w===sne||w===cne||w===pne?o(h,p,y):!1}}function vne(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?gf:ene,areDatesEqual:tne,areMapsEqual:r?F2(q2,gf):q2,areObjectsEqual:r?gf:nne,arePrimitiveWrappersEqual:rne,areRegExpsEqual:ine,areSetsEqual:r?F2(z2,gf):z2,areTypedArraysEqual:r?gf:one};if(n&&(i=H2({},i,n(i))),e){var o=qp(i.areArraysEqual),a=qp(i.areMapsEqual),l=qp(i.areObjectsEqual),c=qp(i.areSetsEqual);i=H2({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function _ne(t){return function(e,n,r,i,o,a,l){return t(e,n,l)}}function wne(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,f){var h=r(),p=h.cache,y=p===void 0?e?new WeakMap:void 0:p,_=h.meta;return n(c,f,{cache:y,equals:i,meta:_,strict:o})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return n(c,f,a)}}var bne=is();is({strict:!0});is({circular:!0});is({circular:!0,strict:!0});is({createInternalComparator:function(){return hc}});is({strict:!0,createInternalComparator:function(){return hc}});is({circular:!0,createInternalComparator:function(){return hc}});is({circular:!0,createInternalComparator:function(){return hc},strict:!0});function is(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,l=vne(t),c=yne(l),f=r?r(c):_ne(c);return wne({circular:n,comparator:c,createState:i,equals:f,strict:a})}function Ene(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function G2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Ene(i)};requestAnimationFrame(r)}function LE(t){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(t)}function xne(t){return Pne(t)||Ane(t)||Tne(t)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return K2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(t,e)}}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ane(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pne(t){if(Array.isArray(t))return t}function Ine(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,l=xne(a),c=l[0],f=l.slice(1);if(typeof c=="number"){G2(i.bind(null,f),c);return}i(c),G2(i.bind(null,f));return}LE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){wV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wV(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=One(t,"string");return xd(e)==="symbol"?e:String(e)}function One(t,e){if(xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rne=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},kne=function(e){return e},Nne=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ff=function(e,n){return Object.keys(n).reduce(function(r,i){return X2(X2({},r),{},wV({},i,e(i,n[i])))},{})},Q2=function(e,n,r){return e.map(function(i){return"".concat(Nne(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jne(t,e){return Lne(t)||Dne(t,e)||bV(t,e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Lne(t){if(Array.isArray(t))return t}function $ne(t){return Une(t)||Vne(t)||bV(t)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bV(t,e){if(t){if(typeof t=="string")return $E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $E(t,e)}}function Vne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Une(t){if(Array.isArray(t))return $E(t)}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tg=1e-4,EV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},xV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},J2=function(e,n){return function(r){var i=EV(e,n);return xV(i,r)}},Bne=function(e,n){return function(r){var i=EV(e,n),o=[].concat($ne(i.map(function(a,l){return a*l}).slice(1)),[0]);return xV(o,r)}},Z2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,l=1;break;case"ease":i=.25,o=.1,a=.25,l=1;break;case"ease-in":i=.42,o=0,a=1,l=1;break;case"ease-out":i=.42,o=0,a=.58,l=1;break;case"ease-in-out":i=0,o=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=jne(f,4);i=h[0],o=h[1],a=h[2],l=h[3]}}}var p=J2(i,a),y=J2(o,l),_=Bne(i,a),w=function(P){return P>1?1:P<0?0:P},E=function(P){for(var A=P>1?1:P,N=A,D=0;D<8;++D){var O=p(N)-A,M=_(N);if(Math.abs(O-A)<tg||M<tg)return y(N);N=w(N-O/M)}return y(N)};return E.isStepper=!1,E},qne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(h,p,y){var _=-(h-p)*r,w=y*o,E=y+(_-w)*l/1e3,v=y*l/1e3+h;return Math.abs(v-p)<tg&&Math.abs(E)<tg?[p,0]:[v,E]};return c.isStepper=!0,c.dt=l,c},zne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Z2(i);case"spring":return qne();default:if(i.split("(")[0]==="cubic-bezier")return Z2(i)}return typeof i=="function"?i:null};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function ej(t){return Gne(t)||Hne(t)||SV(t)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gne(t){if(Array.isArray(t))return VE(t)}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){FE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Yne(t,"string");return Sd(e)==="symbol"?e:String(e)}function Yne(t,e){if(Sd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xne(t,e){return Zne(t)||Jne(t,e)||SV(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SV(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Zne(t){if(Array.isArray(t))return t}var ng=function(e,n,r){return e+(n-e)*r},UE=function(e){var n=e.from,r=e.to;return n!==r},ere=function t(e,n,r){var i=Ff(function(o,a){if(UE(a)){var l=e(a.from,a.to,a.velocity),c=Xne(l,2),f=c[0],h=c[1];return On(On({},a),{},{from:f,velocity:h})}return a},n);return r<1?Ff(function(o,a){return UE(a)?On(On({},a),{},{velocity:ng(a.velocity,i[o].velocity,r),from:ng(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const tre=function(t,e,n,r,i){var o=Rne(t,e),a=o.reduce(function(v,P){return On(On({},v),{},FE({},P,[t[P],e[P]]))},{}),l=o.reduce(function(v,P){return On(On({},v),{},FE({},P,{from:t[P],velocity:0,to:e[P]}))},{}),c=-1,f,h,p=function(){return null},y=function(){return Ff(function(P,A){return A.from},l)},_=function(){return!Object.values(l).filter(UE).length},w=function(P){f||(f=P);var A=P-f,N=A/n.dt;l=ere(n,l,N),i(On(On(On({},t),e),y())),f=P,_()||(c=requestAnimationFrame(p))},E=function(P){h||(h=P);var A=(P-h)/r,N=Ff(function(O,M){return ng.apply(void 0,ej(M).concat([n(A)]))},a);if(i(On(On(On({},t),e),N)),A<1)c=requestAnimationFrame(p);else{var D=Ff(function(O,M){return ng.apply(void 0,ej(M).concat([n(1)]))},a);i(On(On(On({},t),e),D))}};return p=n.isStepper?w:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}var nre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rre(t,e){if(t==null)return{};var n=ire(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ire(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yb(t){return ure(t)||sre(t)||are(t)||ore()}function ore(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ure(t){if(Array.isArray(t))return BE(t)}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Of(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function fre(t,e,n){return e&&cre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TV(t){var e=dre(t,"string");return Ll(e)==="symbol"?e:String(e)}function dre(t,e){if(Ll(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qE(t,e)}function pre(t){var e=mre();return function(){var r=rg(t),i;if(e){var o=rg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zE(this,i)}}function zE(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WE(t)}function WE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}var zo=function(t){hre(n,t);var e=pre(n);function n(r,i){var o;lre(this,n),o=e.call(this,r,i);var a=o.props,l=a.isActive,c=a.attributeName,f=a.from,h=a.to,p=a.steps,y=a.children,_=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(WE(o)),o.changeStyle=o.changeStyle.bind(WE(o)),!l||_<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),zE(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},zE(o);o.state={style:c?Of({},c,f):f}}else o.state={style:{}};return o}return fre(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,y=this.state.style;if(l){if(!a){var _={style:c?Of({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!(bne(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=w||f?p:i.to;if(this.state&&y){var v={style:c?Of({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(v)}this.runAnimation(vi(vi({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,_=tre(a,l,zne(f),c,this.changeStyle),w=function(){o.stopJSAnimation=_()};this.manager.start([y,h,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,l=i.begin,c=i.onAnimationStart,f=a[0],h=f.style,p=f.duration,y=p===void 0?0:p,_=function(E,v,P){if(P===0)return E;var A=v.duration,N=v.easing,D=N===void 0?"ease":N,O=v.style,M=v.properties,C=v.onAnimationEnd,R=P>0?a[P-1]:v,j=M||Object.keys(O);if(typeof D=="function"||D==="spring")return[].concat(Yb(E),[o.runJSAnimation.bind(o,{from:R.style,to:O,duration:A,easing:D}),A]);var F=Q2(j,A,D),L=vi(vi(vi({},R.style),O),{},{transition:F});return[].concat(Yb(E),[L,A,C]).filter(kne)};return this.manager.start([c].concat(Yb(a.reduce(_,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ine());var o=i.begin,a=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,_=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=l?Of({},l,c):c,v=Q2(Object.keys(E),a,f);w.start([h,o,vi(vi({},E),{},{transition:v}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=rre(i,nre),f=U.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||a<=0)return o;var p=function(_){var w=_.props,E=w.style,v=E===void 0?{}:E,P=w.className,A=U.cloneElement(_,vi(vi({},c),{},{style:vi(vi({},v),h),className:P}));return A};return f===1?p(U.Children.only(o)):J.createElement("div",null,U.Children.map(o,function(y){return p(y)}))}}]),n}(U.PureComponent);zo.displayName="Animate";zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zo.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function gre(t,e){return wre(t)||_re(t,e)||vre(t,e)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vre(t,e){if(t){if(typeof t=="string")return rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(t,e)}}function rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _re(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function wre(t){if(Array.isArray(t))return t}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=xre(t,"string");return Td(e)=="symbol"?e:e+""}function xre(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aj=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=o[y]>a?a:o[y];h="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),h+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var w=Math.min(a,o);h="M ".concat(e,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(n,`
            L `).concat(e+r-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*w,`
            L `).concat(e+r,",").concat(n+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r-c*w,",").concat(n+i,`
            L `).concat(e+c*w,",").concat(n+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*w," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Sre=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(a,a+c),y=Math.max(a,a+c);return r>=f&&r<=h&&i>=p&&i<=y}return!1},Tre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wT=function(e){var n=oj(oj({},Tre),e),r=U.useRef(),i=U.useState(-1),o=gre(i,2),a=o[0],l=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&l(D)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,y=n.radius,_=n.className,w=n.animationEasing,E=n.animationDuration,v=n.animationBegin,P=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var N=ut("recharts-rectangle",_);return A?J.createElement(zo,{canBegin:a>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:w,isActive:A},function(D){var O=D.width,M=D.height,C=D.x,R=D.y;return J.createElement(zo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,isActive:P,easing:w},J.createElement("path",ig({},it(n,!0),{className:N,d:aj(C,R,O,M,y),ref:r})))}):J.createElement("path",ig({},it(n,!0),{className:N,d:aj(c,f,h,p,y)}))};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}var bT=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ut("recharts-dot",o);return n===+n&&r===+r&&i===+i?J.createElement("circle",HE({},it(e,!1),Am(e),{className:a,cx:n,cy:r,r:i})):null};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}var Are=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return e=Cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Ore(t,"string");return Ad(e)=="symbol"?e:e+""}function Ore(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t,e){if(t==null)return{};var n=kre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nre=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},jre=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,_=y===void 0?0:y,w=e.className,E=Rre(e,Are),v=Pre({x:r,y:o,top:l,left:f,width:p,height:_},E);return!xe(r)||!xe(o)||!xe(p)||!xe(_)||!xe(l)||!xe(f)?null:J.createElement("path",GE({},it(v,!0),{className:ut("recharts-cross",w),d:Nre(r,o,p,_,l,f)}))},Xb,uj;function Mre(){if(uj)return Xb;uj=1;var t=W$(),e=t(Object.getPrototypeOf,Object);return Xb=e,Xb}var Qb,lj;function Dre(){if(lj)return Qb;lj=1;var t=Ko(),e=Mre(),n=Yo(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,l=o.hasOwnProperty,c=a.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=l.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&a.call(y)==c}return Qb=f,Qb}var Lre=Dre();const $re=At(Lre);var Jb,cj;function Fre(){if(cj)return Jb;cj=1;var t=Ko(),e=Yo(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Jb=r,Jb}var Vre=Fre();const Ure=At(Vre);function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function Bre(t,e){return Hre(t)||Wre(t,e)||zre(t,e)||qre()}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Hre(t){if(Array.isArray(t))return t}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return Pd(e)=="symbol"?e:e+""}function Yre(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pj=function(e,n,r,i,o){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+o),l+="L ".concat(e+r-a/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},Xre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qre=function(e){var n=hj(hj({},Xre),e),r=U.useRef(),i=U.useState(-1),o=Bre(i,2),a=o[0],l=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,w=n.animationEasing,E=n.animationDuration,v=n.animationBegin,P=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var A=ut("recharts-trapezoid",_);return P?J.createElement(zo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:f},duration:E,animationEasing:w,isActive:P},function(N){var D=N.upperWidth,O=N.lowerWidth,M=N.height,C=N.x,R=N.y;return J.createElement(zo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,easing:w},J.createElement("path",og({},it(n,!0),{className:A,d:pj(C,R,D,O,M),ref:r})))}):J.createElement("g",null,J.createElement("path",og({},it(n,!0),{className:A,d:pj(c,f,h,p,y)})))},Jre=["option","shapeType","propTransformer","activeClassName","isActive"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function Zre(t,e){if(t==null)return{};var n=eie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return Id(e)=="symbol"?e:e+""}function rie(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iie(t,e){return ag(ag({},e),t)}function oie(t,e){return t==="symbols"}function gj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(wT,n);case"trapezoid":return J.createElement(Qre,n);case"sector":return J.createElement(yV,n);case"symbols":if(oie(e))return J.createElement(FS,n);break;default:return null}}function aie(t){return U.isValidElement(t)?t.props:t}function sie(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?iie:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,l=t.isActive,c=Zre(t,Jre),f;if(U.isValidElement(e))f=U.cloneElement(e,ag(ag({},c),aie(e)));else if(Xe(e))f=e(c);else if($re(e)&&!Ure(e)){var h=i(e,c);f=J.createElement(gj,{shapeType:n,elementProps:h})}else{var p=c;f=J.createElement(gj,{shapeType:n,elementProps:p})}return l?J.createElement(Xt,{className:a},f):f}function _y(t,e){return e!=null&&"trapezoids"in t.props}function wy(t,e){return e!=null&&"sectors"in t.props}function Cd(t,e){return e!=null&&"points"in t.props}function uie(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function lie(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function cie(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fie(t,e){var n;return _y(t,e)?n=uie:wy(t,e)?n=lie:Cd(t,e)&&(n=cie),n}function die(t,e){var n;return _y(t,e)?n="trapezoids":wy(t,e)?n="sectors":Cd(t,e)&&(n="points"),n}function hie(t,e){if(_y(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Cd(t,e)?e.payload:{}}function pie(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=die(n,e),o=hie(n,e),a=r.filter(function(c,f){var h=gy(o,c),p=n.props[i].filter(function(w){var E=fie(n,e);return E(w,e)}),y=n.props[i].indexOf(p[p.length-1]),_=f===y;return h&&_}),l=r.indexOf(a[a.length-1]);return l}var Zb,yj;function mie(){if(yj)return Zb;yj=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[a?c:++l]=r,r+=o;return f}return Zb=n,Zb}var e1,vj;function AV(){if(vj)return e1;vj=1;var t=sF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return e1=r,e1}var t1,_j;function gie(){if(_j)return t1;_j=1;var t=mie(),e=sy(),n=AV();function r(i){return function(o,a,l){return l&&typeof l!="number"&&e(o,a,l)&&(a=l=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),l=l===void 0?o<a?1:-1:n(l),t(o,a,l,i)}}return t1=r,t1}var n1,wj;function yie(){if(wj)return n1;wj=1;var t=gie(),e=t();return n1=e,n1}var vie=yie();const sg=At(vie);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){PV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PV(t,e,n){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=wie(t,"string");return Od(e)=="symbol"?e:e+""}function wie(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bie=["Webkit","Moz","O","ms"],Eie=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=bie.reduce(function(o,a){return Ej(Ej({},o),{},PV({},a+r,n))},{});return i[e]=n,i};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){Pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CV(r.key),r)}}function Sie(t,e,n){return e&&Sj(t.prototype,e),n&&Sj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tie(t,e,n){return e=lg(e),Aie(t,IV()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function Aie(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pie(t)}function Pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IV=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function Iie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function Pr(t,e,n){return e=CV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){var e=Cie(t,"string");return $l(e)=="symbol"?e:e+""}function Cie(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oie=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Lf().domain(sg(0,c)).range([o,o+a-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},Tj=function(e){return e.changedTouches&&!!e.changedTouches.length},Fl=function(t){function e(n){var r;return xie(this,e),r=Tie(this,e,[n]),Pr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),Pr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pr(r,"handleSlideDragStart",function(i){var o=Tj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Iie(e,t),Sie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),y=Math.max(i,o),_=e.getIndexInRange(a,p),w=e.getIndexInRange(a,y);return{startIndex:_-_%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,l=i.dataKey,c=Rr(o[r],l,r);return Xe(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,w=c.onChange,E=r.pageX-o;E>0?E=Math.min(E,f+h-p-l,f+h-p-a):E<0&&(E=Math.max(E,f-a,f-l));var v=this.getIndex({startX:a+E,endX:l+E});(v.startIndex!==y||v.endIndex!==_)&&w&&w(v),this.setState({startX:a+E,endX:l+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Tj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[a],h=this.props,p=h.x,y=h.width,_=h.travellerWidth,w=h.onChange,E=h.gap,v=h.data,P={startX:this.state.startX,endX:this.state.endX},A=r.pageX-o;A>0?A=Math.min(A,p+y-_-f):A<0&&(A=Math.max(A,p-f)),P[a]=f+A;var N=this.getIndex(P),D=N.startIndex,O=N.endIndex,M=function(){var R=v.length-1;return a==="startX"&&(l>c?D%E===0:O%E===0)||l<c&&O===R||a==="endX"&&(l>c?O%E===0:D%E===0)||l>c&&O===R};this.setState(Pr(Pr({},a,f+A),"brushMoveStartX",r.pageX),function(){w&&M()&&w(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,l=a.scaleValues,c=a.startX,f=a.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=l.length)){var _=l[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(Pr({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.fill,f=r.stroke;return J.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,p=U.Children.only(f);return p?J.cloneElement(p,{x:i,y:o,width:a,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,l=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,_=c.ariaLabel,w=c.data,E=c.startIndex,v=c.endIndex,P=Math.max(r,this.props.x),A=r1(r1({},it(this.props,!1)),{},{x:P,y:f,width:h,height:p}),N=_||"Min value: ".concat((o=w[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=w[v])===null||a===void 0?void 0:a.name);return J.createElement(Xt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),l.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,A))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:a,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,y=h.endX,_=5,w={pointerEvents:"none",fill:f};return J.createElement(Xt,{className:"recharts-brush-texts"},J.createElement($m,ug({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:a+l/2},w),this.getTextOfTick(i)),J.createElement($m,ug({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:a+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,l=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,w=y.endX,E=y.isTextActive,v=y.isSlideMoving,P=y.isTravellerMoving,A=y.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var N=ut("recharts-brush",o),D=J.Children.count(a)===1,O=Eie("userSelect","none");return J.createElement(Xt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(_,w),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(w,"endX"),(E||v||P||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:i,y:o,width:a,height:l,fill:c,stroke:"none"}),J.createElement("line",{x1:i+1,y1:f,x2:i+a-1,y2:f,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:i+1,y1:f+2,x2:i+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return J.isValidElement(r)?o=J.cloneElement(r,i):Xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return r1({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a},o&&o.length?Oie({data:o,width:a,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,l=o-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(U.PureComponent);Pr(Fl,"displayName","Brush");Pr(Fl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var i1,Aj;function Rie(){if(Aj)return i1;Aj=1;var t=HS();function e(n,r){var i;return t(n,function(o,a,l){return i=r(o,a,l),!i}),!!i}return i1=e,i1}var o1,Pj;function kie(){if(Pj)return o1;Pj=1;var t=$$(),e=ts(),n=Rie(),r=pr(),i=sy();function o(a,l,c){var f=r(a)?t:n;return c&&i(a,l,c)&&(l=void 0),f(a,e(l,3))}return o1=o,o1}var Nie=kie();const jie=At(Nie);var to=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},a1,Ij;function Mie(){if(Ij)return a1;Ij=1;var t=nF();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return a1=e,a1}var s1,Cj;function Die(){if(Cj)return s1;Cj=1;var t=Mie(),e=eF(),n=ts();function r(i,o){var a={};return o=n(o,3),e(i,function(l,c,f){t(a,c,o(l,c,f))}),a}return s1=r,s1}var Lie=Die();const $ie=At(Lie);var u1,Oj;function Fie(){if(Oj)return u1;Oj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return u1=t,u1}var l1,Rj;function Vie(){if(Rj)return l1;Rj=1;var t=HS();function e(n,r){var i=!0;return t(n,function(o,a,l){return i=!!r(o,a,l),i}),i}return l1=e,l1}var c1,kj;function Uie(){if(kj)return c1;kj=1;var t=Fie(),e=Vie(),n=ts(),r=pr(),i=sy();function o(a,l,c){var f=r(a)?t:e;return c&&i(a,l,c)&&(l=void 0),f(a,n(l,3))}return c1=o,c1}var Bie=Uie();const qie=At(Bie);var zie=["x","y"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return Rd(e)=="symbol"?e:e+""}function Gie(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kie(t,e){if(t==null)return{};var n=Yie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xie(t,e){var n=t.x,r=t.y,i=Kie(t,zie),o="".concat(n),a=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return yf(yf(yf(yf(yf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function jj(t){return J.createElement(sie,YE({shapeType:"rectangle",propTransformer:Xie,activeClassName:"recharts-active-bar"},t))}var Qie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||iu(),n)}},Jie=["value","background"],OV;function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Zie(t,e){if(t==null)return{};var n=eoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kV(r.key),r)}}function noe(t,e,n){return e&&Dj(t.prototype,e),n&&Dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function roe(t,e,n){return e=fg(e),ioe(t,RV()?Reflect.construct(e,n||[],fg(t).constructor):e.apply(t,n))}function ioe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ooe(t)}function ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(t)}function aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function ka(t,e,n){return e=kV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kV(t){var e=soe(t,"string");return Vl(e)=="symbol"?e:e+""}function soe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do=function(t){function e(){var n;toe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=roe(this,e,[].concat(i)),ka(n,"state",{isAnimationFinished:!1}),ka(n,"id",eh("recharts-bar-")),ka(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ka(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return aoe(e,t),noe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=it(this.props,!1);return r&&r.map(function(p,y){var _=y===c,w=_?f:a,E=en(en(en({},h),p),{},{isActive:_,option:w,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return J.createElement(Xt,cg({className:"recharts-bar-rectangle"},Pm(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),J.createElement(jj,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return J.createElement(zo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t,E=o.map(function(v,P){var A=y&&y[P];if(A){var N=Ei(A.x,v.x),D=Ei(A.y,v.y),O=Ei(A.width,v.width),M=Ei(A.height,v.height);return en(en({},v),{},{x:N(w),y:D(w),width:O(w),height:M(w)})}if(a==="horizontal"){var C=Ei(0,v.height),R=C(w);return en(en({},v),{},{y:v.y+v.height-R,height:R})}var j=Ei(0,v.width),F=j(w);return en(en({},v),{},{width:F})});return J.createElement(Xt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!gy(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,l=i.activeIndex,c=it(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,y=Zie(f,Jie);if(!p)return null;var _=en(en(en(en(en({},y),{},{fill:"#eee"},p),c),Pm(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return J.createElement(jj,cg({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Qr(h,ah);if(!p)return null;var y=f==="vertical"?a[0].height/2:a[0].width/2,_=function(v,P){var A=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:A,errorVal:Rr(v,P)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Xt,w,p.map(function(E){return J.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,y=r.height,_=r.isAnimationActive,w=r.background,E=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,P=ut("recharts-bar",a),A=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,D=A||N,O=Je(E)?this.id:E;return J.createElement(Xt,{className:P},A||N?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(O)},J.createElement("rect",{x:A?f:f-p/2,y:N?h:h-y/2,width:A?p:p*2,height:N?y:y*2}))):null,J.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(O,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,O),(!_||v)&&Fa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);OV=Do;ka(Do,"displayName","Bar");ka(Do,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ka(Do,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=Mee(r,n);if(!_)return null;var w=e.layout,E=n.type.defaultProps,v=E!==void 0?en(en({},E),n.props):n.props,P=v.dataKey,A=v.children,N=v.minPointSize,D=w==="horizontal"?a:o,O=f?D.scale.domain():null,M=qee({numericAxis:D}),C=Qr(A,lF),R=p.map(function(j,F){var L,V,I,z,G,Q;f?L=Dee(f[h+F],O):(L=Rr(j,P),Array.isArray(L)||(L=[M,L]));var te=Qie(N,OV.defaultProps.minPointSize)(L[1],F);if(w==="horizontal"){var X,ie=[a.scale(L[0]),a.scale(L[1])],ne=ie[0],W=ie[1];V=_2({axis:o,ticks:l,bandSize:i,offset:_.offset,entry:j,index:F}),I=(X=W??ne)!==null&&X!==void 0?X:void 0,z=_.size;var Y=ne-W;if(G=Number.isNaN(Y)?0:Y,Q={x:V,y:a.y,width:z,height:a.height},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var le=Ti(G||te)*(Math.abs(te)-Math.abs(G));I-=le,G+=le}}else{var be=[o.scale(L[0]),o.scale(L[1])],Ce=be[0],Le=be[1];if(V=Ce,I=_2({axis:a,ticks:c,bandSize:i,offset:_.offset,entry:j,index:F}),z=Le-Ce,G=_.size,Q={x:o.x,y:I,width:o.width,height:G},Math.abs(te)>0&&Math.abs(z)<Math.abs(te)){var Ge=Ti(z||te)*(Math.abs(te)-Math.abs(z));z+=Ge}}return en(en(en({},j),{},{x:V,y:I,width:z,height:G,value:f?L:L[1],payload:j,background:Q},C&&C[F]&&C[F].props),{},{tooltipPayload:[pV(n,j)],tooltipPosition:{x:V+z/2,y:I+G/2}})});return en({data:R,layout:w},y)});function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NV(r.key),r)}}function loe(t,e,n){return e&&Lj(t.prototype,e),n&&Lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){by(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function by(t,e,n){return e=NV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NV(t){var e=coe(t,"string");return kd(e)=="symbol"?e:e+""}function coe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jV=function(e,n,r,i,o){var a=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!Ir(f,Do);return h.reduce(function(_,w){var E=n[w],v=E.orientation,P=E.domain,A=E.padding,N=A===void 0?{}:A,D=E.mirror,O=E.reversed,M="".concat(v).concat(D?"Mirror":""),C,R,j,F,L;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=P[1]-P[0],I=1/0,z=E.categoricalDomain.sort();if(z.forEach(function(be,Ce){Ce>0&&(I=Math.min((be||0)-(z[Ce-1]||0),I))}),Number.isFinite(I)){var G=I/V,Q=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(C=G*Q/2),E.padding==="no-gap"){var te=nu(e.barCategoryGap,G*Q),X=G*Q/2;C=X-te-(X-te)/Q*te}}}i==="xAxis"?R=[r.left+(N.left||0)+(C||0),r.left+r.width-(N.right||0)-(C||0)]:i==="yAxis"?R=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(C||0),r.top+r.height-(N.bottom||0)-(C||0)]:R=E.range,O&&(R=[R[1],R[0]]);var ie=Nee(E,o,y),ne=ie.scale,W=ie.realScaleType;ne.domain(P).range(R),jee(ne);var Y=Bee(ne,wi(wi({},E),{},{realScaleType:W}));i==="xAxis"?(L=v==="top"&&!D||v==="bottom"&&D,j=r.left,F=p[M]-L*E.height):i==="yAxis"&&(L=v==="left"&&!D||v==="right"&&D,j=p[M]-L*E.width,F=r.top);var le=wi(wi(wi({},E),Y),{},{realScaleType:W,x:j,y:F,scale:ne,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return le.bandSize=Jm(le,Y),!E.hide&&i==="xAxis"?p[M]+=(L?-1:1)*le.height:E.hide||(p[M]+=(L?-1:1)*le.width),wi(wi({},_),{},by({},w,le))},{})},MV=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},foe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return MV({x:n,y:r},{x:i,y:o})},DV=function(){function t(e){uoe(this,t),this.scale=e}return loe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();by(DV,"EPS",1e-4);var ET=function(e){var n=Object.keys(e).reduce(function(r,i){return wi(wi({},r),{},by({},i,DV.create(e[i])))},{});return wi(wi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,l=o.position;return $ie(i,function(c,f){return n[f].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return qie(i,function(o,a){return n[a].isInRange(o)})}})};function doe(t){return(t%180+180)%180}var hoe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=doe(i),a=o*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},f1,Fj;function poe(){if(Fj)return f1;Fj=1;var t=ts(),e=th(),n=oy();function r(i){return function(o,a,l){var c=Object(o);if(!e(o)){var f=t(a,3);o=n(o),a=function(p){return f(c[p],p,c)}}var h=i(o,a,l);return h>-1?c[f?o[h]:h]:void 0}}return f1=r,f1}var d1,Vj;function moe(){if(Vj)return d1;Vj=1;var t=AV();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return d1=e,d1}var h1,Uj;function goe(){if(Uj)return h1;Uj=1;var t=Y$(),e=ts(),n=moe(),r=Math.max;function i(o,a,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(a,3),f)}return h1=i,h1}var p1,Bj;function yoe(){if(Bj)return p1;Bj=1;var t=poe(),e=goe(),n=t(e);return p1=n,p1}yoe();var voe=f$();const _oe=At(voe);var woe=_oe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),LV=U.createContext(void 0),$V=U.createContext(void 0),FV=U.createContext(void 0),boe=U.createContext({}),VV=U.createContext(void 0),UV=U.createContext(0),BV=U.createContext(0),qj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,l=e.children,c=e.width,f=e.height,h=woe(o);return J.createElement(LV.Provider,{value:r},J.createElement($V.Provider,{value:i},J.createElement(boe.Provider,{value:o},J.createElement(FV.Provider,{value:h},J.createElement(VV.Provider,{value:a},J.createElement(UV.Provider,{value:f},J.createElement(BV.Provider,{value:c},l)))))))},Eoe=function(){return U.useContext(VV)},qV=function(e){var n=U.useContext(LV);n==null&&iu();var r=n[e];return r==null&&iu(),r},zV=function(e){var n=U.useContext($V);n==null&&iu();var r=n[e];return r==null&&iu(),r},xoe=function(){var e=U.useContext(FV);return e},WV=function(){return U.useContext(BV)},HV=function(){return U.useContext(UV)};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Toe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function Aoe(t,e,n){return e&&Toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Poe(t,e,n){return e=dg(e),Ioe(t,GV()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function Ioe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(t)}function Coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function Ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){xT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xT(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=Roe(t,"string");return Ul(e)=="symbol"?e:e+""}function Roe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function koe(t,e){return Doe(t)||Moe(t,e)||joe(t,e)||Noe()}function Noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(t,e){if(t){if(typeof t=="string")return Hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(t,e)}}function Hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Moe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Doe(t){if(Array.isArray(t))return t}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}var Loe=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):Xe(e)?r=e(n):r=J.createElement("line",JE({},n,{className:"recharts-reference-line-line"})),r},$oe=function(e,n,r,i,o,a,l,c,f){var h=o.x,p=o.y,y=o.width,_=o.height;if(r){var w=f.y,E=e.y.apply(w,{position:a});if(to(f,"discard")&&!e.y.isInRange(E))return null;var v=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?v.reverse():v}if(n){var P=f.x,A=e.x.apply(P,{position:a});if(to(f,"discard")&&!e.x.isInRange(A))return null;var N=[{x:A,y:p+_},{x:A,y:p}];return l==="top"?N.reverse():N}if(i){var D=f.segment,O=D.map(function(M){return e.apply(M,{position:a})});return to(f,"discard")&&jie(O,function(M){return!e.isInRange(M)})?null:O}return null};function Foe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,f=Eoe(),h=qV(i),p=zV(o),y=xoe();if(!f||!y)return null;Gs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=ET({x:h.scale,y:p.scale}),w=fn(e),E=fn(n),v=r&&r.length===2,P=$oe(_,w,E,v,y,t.position,h.orientation,p.orientation,t);if(!P)return null;var A=koe(P,2),N=A[0],D=N.x,O=N.y,M=A[1],C=M.x,R=M.y,j=to(t,"hidden")?"url(#".concat(f,")"):void 0,F=Wj(Wj({clipPath:j},it(t,!0)),{},{x1:D,y1:O,x2:C,y2:R});return J.createElement(Xt,{className:ut("recharts-reference-line",l)},Loe(a,F),zn.renderCallByParent(t,foe({x1:D,y1:O,x2:C,y2:R})))}var ST=function(t){function e(){return Soe(this,e),Poe(this,e,arguments)}return Ooe(e,t),Aoe(e,[{key:"render",value:function(){return J.createElement(Foe,this.props)}}])}(J.Component);xT(ST,"displayName","ReferenceLine");xT(ST,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XV(r.key),r)}}function Boe(t,e,n){return e&&Uoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,n){return e=hg(e),zoe(t,YV()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function zoe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(t)}function Woe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function Hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function Ey(t,e,n){return e=XV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XV(t){var e=Goe(t,"string");return Bl(e)=="symbol"?e:e+""}function Goe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Koe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=ET({x:i.scale,y:o.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return to(e,"discard")&&!a.isInRange(l)?null:l},xy=function(t){function e(){return Voe(this,e),qoe(this,e,arguments)}return Hoe(e,t),Boe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,f=fn(i),h=fn(o);if(Gs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Koe(this.props);if(!p)return null;var y=p.x,_=p.y,w=this.props,E=w.shape,v=w.className,P=to(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=Kj(Kj({clipPath:P},it(this.props,!0)),{},{cx:y,cy:_});return J.createElement(Xt,{className:ut("recharts-reference-dot",v)},e.renderDot(E,A),zn.renderCallByParent(this.props,{x:y-a,y:_-a,width:2*a,height:2*a}))}}])}(J.Component);Ey(xy,"displayName","ReferenceDot");Ey(xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ey(xy,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Xe(t)?n=t(e):n=J.createElement(bT,ZE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){Sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function Qoe(t,e,n){return e&&Xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Joe(t,e,n){return e=pg(e),Zoe(t,QV()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function Zoe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eae(t)}function eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function tae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function Sy(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=nae(t,"string");return ql(e)=="symbol"?e:e+""}function nae(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rae=function(e,n,r,i,o){var a=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var y=ET({x:h.scale,y:p.scale}),_={x:e?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},w={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return to(o,"discard")&&(!y.isInRange(_)||!y.isInRange(w))?null:MV(_,w)},Ty=function(t){function e(){return Yoe(this,e),Joe(this,e,arguments)}return tae(e,t),Qoe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Gs(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fn(i),y=fn(o),_=fn(a),w=fn(l),E=this.props.shape;if(!p&&!y&&!_&&!w&&!E)return null;var v=rae(p,y,_,w,this.props);if(!v&&!E)return null;var P=to(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(Xt,{className:ut("recharts-reference-area",c)},e.renderRect(E,Xj(Xj({clipPath:P},it(this.props,!0)),v)),zn.renderCallByParent(this.props,v))}}])}(J.Component);Sy(Ty,"displayName","ReferenceArea");Sy(Ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sy(Ty,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Xe(t)?n=t(e):n=J.createElement(wT,tx({},e,{className:"recharts-reference-area-rect"})),n});function ZV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function iae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hoe(r,n)}function oae(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function mg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function aae(t,e){return ZV(t,e+1)}function sae(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,l=e.end,c=0,f=1,h=a,p=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:ZV(r,f)};var E=c,v,P=function(){return v===void 0&&(v=n(w,E)),v},A=w.coordinate,N=c===0||mg(t,A,P,h,l);N||(c=0,h=a,f+=1),N&&(h=A+t*(P()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e,n){return e=lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return Nd(e)=="symbol"?e:e+""}function cae(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fae(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end,f=function(y){var _=o[y],w,E=function(){return w===void 0&&(w=n(_,y)),w};if(y===a-1){var v=t*(_.coordinate+t*E()/2-c);o[y]=_=Un(Un({},_),{},{tickCoord:v>0?_.coordinate-v*t:_.coordinate})}else o[y]=_=Un(Un({},_),{},{tickCoord:_.coordinate});var P=mg(t,_.tickCoord,E,l,c);P&&(c=_.tickCoord-t*(E()/2+i),o[y]=Un(Un({},_),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return o}function dae(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,c=e.start,f=e.end;if(o){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-f);a[l-1]=h=Un(Un({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=mg(t,h.tickCoord,function(){return p},c,f);_&&(f=h.tickCoord-t*(p/2+i),a[l-1]=Un(Un({},h),{},{isShow:!0}))}for(var w=o?l-1:l,E=function(A){var N=a[A],D,O=function(){return D===void 0&&(D=n(N,A)),D};if(A===0){var M=t*(N.coordinate-t*O()/2-c);a[A]=N=Un(Un({},N),{},{tickCoord:M<0?N.coordinate-M*t:N.coordinate})}else a[A]=N=Un(Un({},N),{},{tickCoord:N.coordinate});var C=mg(t,N.tickCoord,O,c,f);C&&(c=N.tickCoord+t*(O()/2+i),a[A]=Un(Un({},N),{},{isShow:!0}))},v=0;v<w;v++)E(v);return a}function hae(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||jo.isSsr)return aae(i,typeof c=="number"&&xe(c)?c:0);var y=[],_=l==="top"||l==="bottom"?"width":"height",w=h&&_==="width"?Df(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(N,D){var O=Xe(f)?f(N.value,D):N.value;return _==="width"?iae(Df(O,{fontSize:e,letterSpacing:n}),w,p):Df(O,{fontSize:e,letterSpacing:n})[_]},v=i.length>=2?Ti(i[1].coordinate-i[0].coordinate):1,P=oae(o,v,_);return c==="equidistantPreserveStart"?sae(v,P,E,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=dae(v,P,E,i,a,c==="preserveStartEnd"):y=fae(v,P,E,i,a),y.filter(function(A){return A.isShow}))}var pae=["viewBox"],mae=["viewBox"],gae=["ticks"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){TT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1(t,e){if(t==null)return{};var n=yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function _ae(t,e,n){return e&&Zj(t.prototype,e),n&&Zj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wae(t,e,n){return e=gg(e),bae(t,e4()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function bae(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rx(t,e)}function TT(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=Sae(t,"string");return zl(e)=="symbol"?e:e+""}function Sae(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=function(t){function e(n){var r;return vae(this,e),r=wae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xae(e,t),_ae(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=m1(r,pae),l=this.props,c=l.viewBox,f=m1(l,mae);return!yl(o,c)||!yl(a,f)||!yl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,_,w,E,v,P,A,N=p?-1:1,D=r.tickSize||h,O=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=w=r.coordinate,v=a+ +!p*c,E=v-N*D,A=E-N*y,P=O;break;case"left":E=v=r.coordinate,w=o+ +!p*l,_=w-N*D,P=_-N*y,A=O;break;case"right":E=v=r.coordinate,w=o+ +p*l,_=w+N*D,P=_+N*y,A=O;break;default:_=w=r.coordinate,v=a+ +p*c,E=v+N*D,A=E+N*y,P=O;break}return{line:{x1:_,y1:E,x2:w,y2:v},tick:{x:P,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Xn(Xn(Xn({},it(this.props,!1)),it(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Xn(Xn({},p),{},{x1:i,y1:o+y*l,x2:i+a,y2:o+y*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=Xn(Xn({},p),{},{x1:i+_*a,y1:o,x2:i+_*a,y2:o+l})}return J.createElement("line",fl({},p,{className:ut("recharts-cartesian-axis-line",Xr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,y=l.unit,_=hae(Xn(Xn({},this.props),{},{ticks:r}),i,o),w=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),v=it(this.props,!1),P=it(h,!1),A=Xn(Xn({},v),{},{fill:"none"},it(c,!1)),N=_.map(function(D,O){var M=a.getTickLineCoord(D),C=M.line,R=M.tick,j=Xn(Xn(Xn(Xn({textAnchor:w,verticalAnchor:E},v),{},{stroke:"none",fill:f},P),R),{},{index:O,payload:D,visibleTicksCount:_.length,tickFormatter:p});return J.createElement(Xt,fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Pm(a.props,D,O)),c&&J.createElement("line",fl({},A,C,{className:ut("recharts-cartesian-axis-tick-line",Xr(c,"className"))})),h&&e.renderTickItem(h,j,"".concat(Xe(p)?p(D.value,O):D.value).concat(y||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,_=m1(p,gae),w=y;return Xe(c)&&(w=y&&y.length>0?c(this.props):c(_)),a<=0||l<=0||!w||!w.length?null:J.createElement(Xt,{className:ut("recharts-cartesian-axis",f),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return J.isValidElement(r)?a=J.cloneElement(r,i):Xe(r)?a=r(i):a=J.createElement($m,fl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);TT(Ay,"displayName","CartesianAxis");TT(Ay,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tae=["type","layout","connectNulls","ref"],Aae=["key"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function eM(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nl(t){return Rae(t)||Oae(t)||Cae(t)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(t,e){if(t){if(typeof t=="string")return ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ix(t,e)}}function Oae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rae(t){if(Array.isArray(t))return ix(t)}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r4(r.key),r)}}function Nae(t,e,n){return e&&nM(t.prototype,e),n&&nM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jae(t,e,n){return e=yg(e),Mae(t,n4()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function Mae(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(t)}function Dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function Lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function bi(t,e,n){return e=r4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r4(t){var e=$ae(t,"string");return Wl(e)=="symbol"?e:e+""}function $ae(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hl=function(t){function e(){var n;kae(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jae(this,e,[].concat(i)),bi(n,"state",{isAnimationFinished:!0,totalLength:0}),bi(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),bi(n,"getStrokeDasharray",function(a,l,c){var f=c.reduce(function(P,A){return P+A});if(!f)return n.generateSimpleStrokeDasharray(l,a);for(var h=Math.floor(a/f),p=a%f,y=l-a,_=[],w=0,E=0;w<c.length;E+=c[w],++w)if(E+c[w]>p){_=[].concat(nl(c.slice(0,w)),[p-E]);break}var v=_.length%2===0?[0,y]:[y];return[].concat(nl(e.repeat(c,h)),nl(_),v).map(function(P){return"".concat(P,"px")}).join(", ")}),bi(n,"id",eh("recharts-line-")),bi(n,"pathRef",function(a){n.mainCurve=a}),bi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),bi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Lae(e,t),Nae(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Qr(h,ah);if(!p)return null;var y=function(E,v){return{x:E.x,y:E.y,value:E.value,errorVal:Rr(E.payload,v)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Xt,_,p.map(function(w){return J.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,h=l.dataKey,p=it(this.props,!1),y=it(c,!0),_=f.map(function(E,v){var P=Ar(Ar(Ar({key:"dot-".concat(v),r:3},p),y),{},{value:E.value,dataKey:h,cx:E.x,cy:E.y,index:v,payload:E.payload});return e.renderDotItem(c,P)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return J.createElement(Xt,Vf({className:"recharts-line-dots",key:"dots"},w),_)}},{key:"renderCurveStatically",value:function(r,i,o,a){var l=this.props,c=l.type,f=l.layout,h=l.connectNulls;l.ref;var p=eM(l,Tae),y=Ar(Ar(Ar({},it(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:f,connectNulls:h});return J.createElement(DE,Vf({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,l=a.points,c=a.strokeDasharray,f=a.isAnimationActive,h=a.animationBegin,p=a.animationDuration,y=a.animationEasing,_=a.animationId,w=a.animateNewValues,E=a.width,v=a.height,P=this.state,A=P.prevPoints,N=P.totalLength;return J.createElement(zo,{begin:h,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var O=D.t;if(A){var M=A.length/l.length,C=l.map(function(V,I){var z=Math.floor(I*M);if(A[z]){var G=A[z],Q=Ei(G.x,V.x),te=Ei(G.y,V.y);return Ar(Ar({},V),{},{x:Q(O),y:te(O)})}if(w){var X=Ei(E*2,V.x),ie=Ei(v/2,V.y);return Ar(Ar({},V),{},{x:X(O),y:ie(O)})}return Ar(Ar({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(C,r,i)}var R=Ei(0,N),j=R(O),F;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=o.getStrokeDasharray(j,N,L)}else F=o.generateSimpleStrokeDasharray(N,j);return o.renderCurveStatically(l,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,l=o.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return l&&a&&a.length&&(!f&&h>0||!gy(f,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,l=i.points,c=i.className,f=i.xAxis,h=i.yAxis,p=i.top,y=i.left,_=i.width,w=i.height,E=i.isAnimationActive,v=i.id;if(o||!l||!l.length)return null;var P=this.state.isAnimationFinished,A=l.length===1,N=ut("recharts-line",c),D=f&&f.allowDataOverflow,O=h&&h.allowDataOverflow,M=D||O,C=Je(v)?this.id:v,R=(r=it(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=R.r,F=j===void 0?3:j,L=R.strokeWidth,V=L===void 0?2:L,I=IH(a)?a:{},z=I.clipDot,G=z===void 0?!0:z,Q=F*2+V;return J.createElement(Xt,{className:N},D||O?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(C)},J.createElement("rect",{x:D?y:y-_/2,y:O?p:p-w/2,width:D?_:_*2,height:O?w:w*2})),!G&&J.createElement("clipPath",{id:"clipPath-dots-".concat(C)},J.createElement("rect",{x:y-Q/2,y:p-Q/2,width:_+Q,height:w+Q}))):null,!A&&this.renderCurve(M,C),this.renderErrorBar(M,C),(A||a)&&this.renderDots(M,G,C),(!E||P)&&Fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(nl(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(nl(a),nl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(J.isValidElement(r))o=J.cloneElement(r,i);else if(Xe(r))o=r(i);else{var a=i.key,l=eM(i,Aae),c=ut("recharts-line-dot",typeof r!="boolean"?r.className:"");o=J.createElement(bT,Vf({key:a},l,{className:c}))}return o}}])}(U.PureComponent);bi(Hl,"displayName","Line");bi(Hl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bi(Hl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,p=c.map(function(y,_){var w=Rr(y,a);return h==="horizontal"?{x:v2({axis:n,ticks:i,bandSize:l,entry:y,index:_}),y:Je(w)?null:r.scale(w),value:w,payload:y}:{x:Je(w)?null:n.scale(w),y:v2({axis:r,ticks:o,bandSize:l,entry:y,index:_}),value:w,payload:y}});return Ar({points:p,layout:h},f)});function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function Uae(t,e,n){return e&&Vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bae(t,e,n){return e=vg(e),qae(t,i4()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function qae(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zae(t)}function zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function Wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(t,e)}function o4(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=Hae(t,"string");return Gl(e)=="symbol"?e:e+""}function Hae(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function Gae(t){var e=t.xAxisId,n=WV(),r=HV(),i=qV(e);return i==null?null:J.createElement(Ay,sx({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ws(a,!0)}}))}var Kl=function(t){function e(){return Fae(this,e),Bae(this,e,arguments)}return Wae(e,t),Uae(e,[{key:"render",value:function(){return J.createElement(Gae,this.props)}}])}(J.Component);o4(Kl,"displayName","XAxis");o4(Kl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function Xae(t,e,n){return e&&Yae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qae(t,e,n){return e=_g(e),Jae(t,s4()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function Jae(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zae(t)}function Zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ux(t,e)}function u4(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4(t){var e=tse(t,"string");return Yl(e)=="symbol"?e:e+""}function tse(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}var nse=function(e){var n=e.yAxisId,r=WV(),i=HV(),o=zV(n);return o==null?null:J.createElement(Ay,lx({},o,{className:ut("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ws(l,!0)}}))},Xl=function(t){function e(){return Kae(this,e),Qae(this,e,arguments)}return ese(e,t),Xae(e,[{key:"render",value:function(){return J.createElement(nse,this.props)}}])}(J.Component);u4(Xl,"displayName","YAxis");u4(Xl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rM(t){return ase(t)||ose(t)||ise(t)||rse()}function rse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ise(t,e){if(t){if(typeof t=="string")return cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cx(t,e)}}function ose(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ase(t){if(Array.isArray(t))return cx(t)}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fx=function(e,n,r,i,o){var a=Qr(e,ST),l=Qr(e,xy),c=[].concat(rM(a),rM(l)),f=Qr(e,Ty),h="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(E,v){if(v.props[h]===r&&to(v.props,"extendDomain")&&xe(v.props[p])){var P=v.props[p];return[Math.min(E[0],P),Math.max(E[1],P)]}return E},y)),f.length){var _="".concat(p,"1"),w="".concat(p,"2");y=f.reduce(function(E,v){if(v.props[h]===r&&to(v.props,"extendDomain")&&xe(v.props[_])&&xe(v.props[w])){var P=v.props[_],A=v.props[w];return[Math.min(E[0],P,A),Math.max(E[1],P,A)]}return E},y)}return o&&o.length&&(y=o.reduce(function(E,v){return xe(v)?[Math.min(E[0],v),Math.max(E[1],v)]:E},y)),y},g1={exports:{}},iM;function sse(){return iM||(iM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||c,y),w=n?n+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],_]:c._events[w].push(_):(c._events[w]=_,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,w=new Array(_);y<_;y++)w[y]=p[y].fn;return w},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,_,w){var E=n?n+f:f;if(!this._events[E])return!1;var v=this._events[E],P=arguments.length,A,N;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),P){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,p),!0;case 4:return v.fn.call(v.context,h,p,y),!0;case 5:return v.fn.call(v.context,h,p,y,_),!0;case 6:return v.fn.call(v.context,h,p,y,_,w),!0}for(N=1,A=new Array(P-1);N<P;N++)A[N-1]=arguments[N];v.fn.apply(v.context,A)}else{var D=v.length,O;for(N=0;N<D;N++)switch(v[N].once&&this.removeListener(f,v[N].fn,void 0,!0),P){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,h);break;case 3:v[N].fn.call(v[N].context,h,p);break;case 4:v[N].fn.call(v[N].context,h,p,y);break;default:if(!A)for(O=1,A=new Array(P-1);O<P;O++)A[O-1]=arguments[O];v[N].fn.apply(v[N].context,A)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return a(this,_),this;var w=this._events[_];if(w.fn)w.fn===h&&(!y||w.once)&&(!p||w.context===p)&&a(this,_);else{for(var E=0,v=[],P=w.length;E<P;E++)(w[E].fn!==h||y&&!w[E].once||p&&w[E].context!==p)&&v.push(w[E]);v.length?this._events[_]=v.length===1?v[0]:v:a(this,_)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(g1)),g1.exports}var use=sse();const lse=At(use);var y1=new lse,v1="recharts.syncMouseEvents";function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function dse(t,e,n){return e&&fse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _1(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=hse(t,"string");return jd(e)=="symbol"?e:e+""}function hse(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pse=function(){function t(){cse(this,t),_1(this,"activeIndex",0),_1(this,"coordinateList",[]),_1(this,"layout","horizontal")}return dse(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=a+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function mse(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function gse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function f4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=jn(e,n,r,i),l=jn(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function yse(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,y=jn(l,c,f,p),_=jn(l,c,h,p);r=y.x,i=y.y,o=_.x,a=_.y}else return f4(e);return[{x:r,y:i},{x:o,y:a}]}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return e=_se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=wse(t,"string");return Md(e)=="symbol"?e:e+""}function wse(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bse(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!o||!a||y!=="ScatterChart"&&i!=="axis")return null;var w,E=DE;if(y==="ScatterChart")w=a,E=jre;else if(y==="BarChart")w=gse(p,a,c,h),E=wT;else if(p==="radial"){var v=f4(a),P=v.cx,A=v.cy,N=v.radius,D=v.startAngle,O=v.endAngle;w={cx:P,cy:A,startAngle:D,endAngle:O,innerRadius:N,outerRadius:N},E=yV}else w={points:yse(p,a,c)},E=DE;var M=zp(zp(zp(zp({stroke:"#ccc",pointerEvents:"none"},c),w),it(_,!1)),{},{payload:l,payloadIndex:f,className:ut("recharts-tooltip-cursor",_.className)});return U.isValidElement(_)?U.cloneElement(_,M):U.createElement(E,M)}var Ese=["item"],xse=["children","className","width","height","style","compact","title","desc"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function aM(t,e){return Ase(t)||Tse(t,e)||h4(t,e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Ase(t){if(Array.isArray(t))return t}function sM(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p4(r.key),r)}}function Ose(t,e,n){return e&&Cse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,n){return e=wg(e),kse(t,d4()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function kse(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nse(t)}function Nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Jl(t){return Lse(t)||Dse(t)||h4(t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function Dse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lse(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $e(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p4(t){var e=$se(t,"string");return Ql(e)=="symbol"?e:e+""}function $se(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fse={xAxis:["bottom","top"],yAxis:["left","right"]},Vse={width:"100%",height:"100%"},m4={x:0,y:0};function Wp(t){return t}var Use=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Bse=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,l=i.radius;return ue(ue(ue({},i),jn(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=o.coordinate,f=i.angle;return ue(ue(ue({},i),jn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return m4},Py=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(Jl(l),Jl(f)):l},[]);return a.length>0?a:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function g4(t){return t==="number"?[0,"auto"]:void 0}var px=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,l=Py(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var _=p===void 0?l:p;y=Tm(_,a.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat(Jl(c),[pV(f,y)]):c},[])},lM=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Use(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=Pee(a,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,y=px(e,n,h,p),_=Bse(r,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},qse=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,_=dV(h,o);return r.reduce(function(w,E){var v,P=E.type.defaultProps!==void 0?ue(ue({},E.type.defaultProps),E.props):E.props,A=P.type,N=P.dataKey,D=P.allowDataOverflow,O=P.allowDuplicatedCategory,M=P.scale,C=P.ticks,R=P.includeHidden,j=P[a];if(w[j])return w;var F=Py(e.data,{graphicalItems:i.filter(function(Y){var le,be=a in Y.props?Y.props[a]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[a];return be===j}),dataStartIndex:c,dataEndIndex:f}),L=F.length,V,I,z;mse(P.domain,D,A)&&(V=RE(P.domain,null,D),_&&(A==="number"||M!=="auto")&&(z=$f(F,N,"category")));var G=g4(A);if(!V||V.length===0){var Q,te=(Q=P.domain)!==null&&Q!==void 0?Q:G;if(N){if(V=$f(F,N,A),A==="category"&&_){var X=_H(V);O&&X?(I=V,V=sg(0,L)):O||(V=E2(te,V,E).reduce(function(Y,le){return Y.indexOf(le)>=0?Y:[].concat(Jl(Y),[le])},[]))}else if(A==="category")O?V=V.filter(function(Y){return Y!==""&&!Je(Y)}):V=E2(te,V,E).reduce(function(Y,le){return Y.indexOf(le)>=0||le===""||Je(le)?Y:[].concat(Jl(Y),[le])},[]);else if(A==="number"){var ie=kee(F,i.filter(function(Y){var le,be,Ce=a in Y.props?Y.props[a]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[a],Le="hide"in Y.props?Y.props.hide:(be=Y.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ce===j&&(R||!Le)}),N,o,h);ie&&(V=ie)}_&&(A==="number"||M!=="auto")&&(z=$f(F,N,"category"))}else _?V=sg(0,L):l&&l[j]&&l[j].hasStack&&A==="number"?V=y==="expand"?[0,1]:hV(l[j].stackGroups,c,f):V=fV(F,i.filter(function(Y){var le=a in Y.props?Y.props[a]:Y.type.defaultProps[a],be="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return le===j&&(R||!be)}),A,h,!0);if(A==="number")V=fx(p,V,j,o,C),te&&(V=RE(te,V,D));else if(A==="category"&&te){var ne=te,W=V.every(function(Y){return ne.indexOf(Y)>=0});W&&(V=ne)}}return ue(ue({},w),{},$e({},j,ue(ue({},P),{},{axisType:o,domain:V,categoricalDomain:z,duplicateDomain:I,originalDomain:(v=P.domain)!==null&&v!==void 0?v:G,isCategorical:_,layout:h})))},{})},zse=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=Py(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,w=dV(h,o),E=-1;return r.reduce(function(v,P){var A=P.type.defaultProps!==void 0?ue(ue({},P.type.defaultProps),P.props):P.props,N=A[a],D=g4("number");if(!v[N]){E++;var O;return w?O=sg(0,_):l&&l[N]&&l[N].hasStack?(O=hV(l[N].stackGroups,c,f),O=fx(p,O,N,o)):(O=RE(D,fV(y,r.filter(function(M){var C,R,j=a in M.props?M.props[a]:(C=M.type.defaultProps)===null||C===void 0?void 0:C[a],F="hide"in M.props?M.props.hide:(R=M.type.defaultProps)===null||R===void 0?void 0:R.hide;return j===N&&!F}),"number",h),i.defaultProps.allowDataOverflow),O=fx(p,O,N,o)),ue(ue({},v),{},$e({},N,ue(ue({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xr(Fse,"".concat(o,".").concat(E%2),null),domain:O,originalDomain:D,isCategorical:w,layout:h})))}return v},{})},Wse=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=Qr(h,o),_={};return y&&y.length?_=qse(e,{axes:y,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):a&&a.length&&(_=zse(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},Hse=function(e){var n=ll(e),r=Ws(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:GS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Jm(n,r)}},cM=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ir(n,Fl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Gse=function(e){return!e||!e.length?!1:e.some(function(n){var r=No(n&&n.type);return r&&r.indexOf("Bar")>=0})},fM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kse=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,p=r.children,y=r.margin||{},_=Ir(p,Fl),w=Ir(p,La),E=Object.keys(c).reduce(function(O,M){var C=c[M],R=C.orientation;return!C.mirror&&!C.hide?ue(ue({},O),{},$e({},R,O[R]+C.width)):O},{left:y.left||0,right:y.right||0}),v=Object.keys(a).reduce(function(O,M){var C=a[M],R=C.orientation;return!C.mirror&&!C.hide?ue(ue({},O),{},$e({},R,Xr(O,"".concat(R))+C.height)):O},{top:y.top||0,bottom:y.bottom||0}),P=ue(ue({},v),E),A=P.bottom;_&&(P.bottom+=_.props.height||Fl.defaultProps.height),w&&n&&(P=Oee(P,i,r,n));var N=f-P.left-P.right,D=h-P.top-P.bottom;return ue(ue({brushBottom:A},P),{},{width:Math.max(N,0),height:Math.max(D,0)})},Yse=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},y4=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(P,A){var N=A.graphicalItems,D=A.stackGroups,O=A.offset,M=A.updateId,C=A.dataStartIndex,R=A.dataEndIndex,j=P.barSize,F=P.layout,L=P.barGap,V=P.barCategoryGap,I=P.maxBarSize,z=fM(F),G=z.numericAxisName,Q=z.cateAxisName,te=Gse(N),X=[];return N.forEach(function(ie,ne){var W=Py(P.data,{graphicalItems:[ie],dataStartIndex:C,dataEndIndex:R}),Y=ie.type.defaultProps!==void 0?ue(ue({},ie.type.defaultProps),ie.props):ie.props,le=Y.dataKey,be=Y.maxBarSize,Ce=Y["".concat(G,"Id")],Le=Y["".concat(Q,"Id")],Ge={},he=c.reduce(function(Sn,yr){var Di=A["".concat(yr.axisType,"Map")],ao=Y["".concat(yr.axisType,"Id")];Di&&Di[ao]||yr.axisType==="zAxis"||iu();var Qo=Di[ao];return ue(ue({},Sn),{},$e($e({},yr.axisType,Qo),"".concat(yr.axisType,"Ticks"),Ws(Qo)))},Ge),ae=he[Q],ve=he["".concat(Q,"Ticks")],Ae=D&&D[Ce]&&D[Ce].hasStack&&zee(ie,D[Ce].stackGroups),de=No(ie.type).indexOf("Bar")>=0,ze=Jm(ae,ve),je=[],ht=te&&Iee({barSize:j,stackGroups:D,totalSize:Yse(he,Q)});if(de){var _t,Ut,mr=Je(be)?I:be,gr=(_t=(Ut=Jm(ae,ve,!0))!==null&&Ut!==void 0?Ut:mr)!==null&&_t!==void 0?_t:0;je=Cee({barGap:L,barCategoryGap:V,bandSize:gr!==ze?gr:ze,sizeList:ht[Le],maxBarSize:mr}),gr!==ze&&(je=je.map(function(Sn){return ue(ue({},Sn),{},{position:ue(ue({},Sn.position),{},{offset:Sn.position.offset-gr/2})})}))}var nr=ie&&ie.type&&ie.type.getComposedData;nr&&X.push({props:ue(ue({},nr(ue(ue({},he),{},{displayedData:W,props:P,dataKey:le,item:ie,bandSize:ze,barPosition:je,offset:O,stackedData:Ae,layout:F,dataStartIndex:C,dataEndIndex:R}))),{},$e($e($e({key:ie.key||"item-".concat(ne)},G,he[G]),Q,he[Q]),"animationId",M)),childIndex:RH(ie,P.children),item:ie})}),X},_=function(P,A){var N=P.props,D=P.dataStartIndex,O=P.dataEndIndex,M=P.updateId;if(!MO({props:N}))return null;var C=N.children,R=N.layout,j=N.stackOffset,F=N.data,L=N.reverseStackOrder,V=fM(R),I=V.numericAxisName,z=V.cateAxisName,G=Qr(C,r),Q=Uee(F,G,"".concat(I,"Id"),"".concat(z,"Id"),j,L),te=c.reduce(function(Y,le){var be="".concat(le.axisType,"Map");return ue(ue({},Y),{},$e({},be,Wse(N,ue(ue({},le),{},{graphicalItems:G,stackGroups:le.axisType===I&&Q,dataStartIndex:D,dataEndIndex:O}))))},{}),X=Kse(ue(ue({},te),{},{props:N,graphicalItems:G}),A==null?void 0:A.legendBBox);Object.keys(te).forEach(function(Y){te[Y]=h(N,te[Y],X,Y.replace("Map",""),n)});var ie=te["".concat(z,"Map")],ne=Hse(ie),W=y(N,ue(ue({},te),{},{dataStartIndex:D,dataEndIndex:O,updateId:M,graphicalItems:G,stackGroups:Q,offset:X}));return ue(ue({formattedGraphicalItems:W,graphicalItems:G,offset:X,stackGroups:Q},ne),te)},w=function(v){function P(A){var N,D,O;return Ise(this,P),O=Rse(this,P,[A]),$e(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(O,"accessibilityManager",new pse),$e(O,"handleLegendBBoxUpdate",function(M){if(M){var C=O.state,R=C.dataStartIndex,j=C.dataEndIndex,F=C.updateId;O.setState(ue({legendBBox:M},_({props:O.props,dataStartIndex:R,dataEndIndex:j,updateId:F},ue(ue({},O.state),{},{legendBBox:M}))))}}),$e(O,"handleReceiveSyncEvent",function(M,C,R){if(O.props.syncId===M){if(R===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(C)}}),$e(O,"handleBrushChange",function(M){var C=M.startIndex,R=M.endIndex;if(C!==O.state.dataStartIndex||R!==O.state.dataEndIndex){var j=O.state.updateId;O.setState(function(){return ue({dataStartIndex:C,dataEndIndex:R},_({props:O.props,dataStartIndex:C,dataEndIndex:R,updateId:j},O.state))}),O.triggerSyncEvent({dataStartIndex:C,dataEndIndex:R})}}),$e(O,"handleMouseEnter",function(M){var C=O.getMouseInfo(M);if(C){var R=ue(ue({},C),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var j=O.props.onMouseEnter;Xe(j)&&j(R,M)}}),$e(O,"triggeredAfterMouseMove",function(M){var C=O.getMouseInfo(M),R=C?ue(ue({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(R),O.triggerSyncEvent(R);var j=O.props.onMouseMove;Xe(j)&&j(R,M)}),$e(O,"handleItemMouseEnter",function(M){O.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),$e(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),$e(O,"handleMouseMove",function(M){M.persist(),O.throttleTriggeredAfterMouseMove(M)}),$e(O,"handleMouseLeave",function(M){O.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};O.setState(C),O.triggerSyncEvent(C);var R=O.props.onMouseLeave;Xe(R)&&R(C,M)}),$e(O,"handleOuterEvent",function(M){var C=OH(M),R=Xr(O.props,"".concat(C));if(C&&Xe(R)){var j,F;/.*touch.*/i.test(C)?F=O.getMouseInfo(M.changedTouches[0]):F=O.getMouseInfo(M),R((j=F)!==null&&j!==void 0?j:{},M)}}),$e(O,"handleClick",function(M){var C=O.getMouseInfo(M);if(C){var R=ue(ue({},C),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var j=O.props.onClick;Xe(j)&&j(R,M)}}),$e(O,"handleMouseDown",function(M){var C=O.props.onMouseDown;if(Xe(C)){var R=O.getMouseInfo(M);C(R,M)}}),$e(O,"handleMouseUp",function(M){var C=O.props.onMouseUp;if(Xe(C)){var R=O.getMouseInfo(M);C(R,M)}}),$e(O,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),$e(O,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseDown(M.changedTouches[0])}),$e(O,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseUp(M.changedTouches[0])}),$e(O,"handleDoubleClick",function(M){var C=O.props.onDoubleClick;if(Xe(C)){var R=O.getMouseInfo(M);C(R,M)}}),$e(O,"handleContextMenu",function(M){var C=O.props.onContextMenu;if(Xe(C)){var R=O.getMouseInfo(M);C(R,M)}}),$e(O,"triggerSyncEvent",function(M){O.props.syncId!==void 0&&y1.emit(v1,O.props.syncId,M,O.eventEmitterSymbol)}),$e(O,"applySyncEvent",function(M){var C=O.props,R=C.layout,j=C.syncMethod,F=O.state.updateId,L=M.dataStartIndex,V=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)O.setState(ue({dataStartIndex:L,dataEndIndex:V},_({props:O.props,dataStartIndex:L,dataEndIndex:V,updateId:F},O.state)));else if(M.activeTooltipIndex!==void 0){var I=M.chartX,z=M.chartY,G=M.activeTooltipIndex,Q=O.state,te=Q.offset,X=Q.tooltipTicks;if(!te)return;if(typeof j=="function")G=j(X,M);else if(j==="value"){G=-1;for(var ie=0;ie<X.length;ie++)if(X[ie].value===M.activeLabel){G=ie;break}}var ne=ue(ue({},te),{},{x:te.left,y:te.top}),W=Math.min(I,ne.x+ne.width),Y=Math.min(z,ne.y+ne.height),le=X[G]&&X[G].value,be=px(O.state,O.props.data,G),Ce=X[G]?{x:R==="horizontal"?X[G].coordinate:W,y:R==="horizontal"?Y:X[G].coordinate}:m4;O.setState(ue(ue({},M),{},{activeLabel:le,activeCoordinate:Ce,activePayload:be,activeTooltipIndex:G}))}else O.setState(M)}),$e(O,"renderCursor",function(M){var C,R=O.state,j=R.isTooltipActive,F=R.activeCoordinate,L=R.activePayload,V=R.offset,I=R.activeTooltipIndex,z=R.tooltipAxisBandSize,G=O.getTooltipEventType(),Q=(C=M.props.active)!==null&&C!==void 0?C:j,te=O.props.layout,X=M.key||"_recharts-cursor";return J.createElement(bse,{key:X,activeCoordinate:F,activePayload:L,activeTooltipIndex:I,chartName:n,element:M,isActive:Q,layout:te,offset:V,tooltipAxisBandSize:z,tooltipEventType:G})}),$e(O,"renderPolarAxis",function(M,C,R){var j=Xr(M,"type.axisType"),F=Xr(O.state,"".concat(j,"Map")),L=M.type.defaultProps,V=L!==void 0?ue(ue({},L),M.props):M.props,I=F&&F[V["".concat(j,"Id")]];return U.cloneElement(M,ue(ue({},I),{},{className:ut(j,I.className),key:M.key||"".concat(C,"-").concat(R),ticks:Ws(I,!0)}))}),$e(O,"renderPolarGrid",function(M){var C=M.props,R=C.radialLines,j=C.polarAngles,F=C.polarRadius,L=O.state,V=L.radiusAxisMap,I=L.angleAxisMap,z=ll(V),G=ll(I),Q=G.cx,te=G.cy,X=G.innerRadius,ie=G.outerRadius;return U.cloneElement(M,{polarAngles:Array.isArray(j)?j:Ws(G,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(F)?F:Ws(z,!0).map(function(ne){return ne.coordinate}),cx:Q,cy:te,innerRadius:X,outerRadius:ie,key:M.key||"polar-grid",radialLines:R})}),$e(O,"renderLegend",function(){var M=O.state.formattedGraphicalItems,C=O.props,R=C.children,j=C.width,F=C.height,L=O.props.margin||{},V=j-(L.left||0)-(L.right||0),I=lV({children:R,formattedGraphicalItems:M,legendWidth:V,legendContent:f});if(!I)return null;var z=I.item,G=sM(I,Ese);return U.cloneElement(z,ue(ue({},G),{},{chartWidth:j,chartHeight:F,margin:L,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),$e(O,"renderTooltip",function(){var M,C=O.props,R=C.children,j=C.accessibilityLayer,F=Ir(R,_i);if(!F)return null;var L=O.state,V=L.isTooltipActive,I=L.activeCoordinate,z=L.activePayload,G=L.activeLabel,Q=L.offset,te=(M=F.props.active)!==null&&M!==void 0?M:V;return U.cloneElement(F,{viewBox:ue(ue({},Q),{},{x:Q.left,y:Q.top}),active:te,label:G,payload:te?z:[],coordinate:I,accessibilityLayer:j})}),$e(O,"renderBrush",function(M){var C=O.props,R=C.margin,j=C.data,F=O.state,L=F.offset,V=F.dataStartIndex,I=F.dataEndIndex,z=F.updateId;return U.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Vp(O.handleBrushChange,M.props.onChange),data:j,x:xe(M.props.x)?M.props.x:L.left,y:xe(M.props.y)?M.props.y:L.top+L.height+L.brushBottom-(R.bottom||0),width:xe(M.props.width)?M.props.width:L.width,startIndex:V,endIndex:I,updateId:"brush-".concat(z)})}),$e(O,"renderReferenceElement",function(M,C,R){if(!M)return null;var j=O,F=j.clipPathId,L=O.state,V=L.xAxisMap,I=L.yAxisMap,z=L.offset,G=M.type.defaultProps||{},Q=M.props,te=Q.xAxisId,X=te===void 0?G.xAxisId:te,ie=Q.yAxisId,ne=ie===void 0?G.yAxisId:ie;return U.cloneElement(M,{key:M.key||"".concat(C,"-").concat(R),xAxis:V[X],yAxis:I[ne],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),$e(O,"renderActivePoints",function(M){var C=M.item,R=M.activePoint,j=M.basePoint,F=M.childIndex,L=M.isRange,V=[],I=C.props.key,z=C.item.type.defaultProps!==void 0?ue(ue({},C.item.type.defaultProps),C.item.props):C.item.props,G=z.activeDot,Q=z.dataKey,te=ue(ue({index:F,dataKey:Q,cx:R.x,cy:R.y,r:4,fill:_T(C.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},it(G,!1)),Am(G));return V.push(P.renderActiveDot(G,te,"".concat(I,"-activePoint-").concat(F))),j?V.push(P.renderActiveDot(G,ue(ue({},te),{},{cx:j.x,cy:j.y}),"".concat(I,"-basePoint-").concat(F))):L&&V.push(null),V}),$e(O,"renderGraphicChild",function(M,C,R){var j=O.filterFormatItem(M,C,R);if(!j)return null;var F=O.getTooltipEventType(),L=O.state,V=L.isTooltipActive,I=L.tooltipAxis,z=L.activeTooltipIndex,G=L.activeLabel,Q=O.props.children,te=Ir(Q,_i),X=j.props,ie=X.points,ne=X.isRange,W=X.baseLine,Y=j.item.type.defaultProps!==void 0?ue(ue({},j.item.type.defaultProps),j.item.props):j.item.props,le=Y.activeDot,be=Y.hide,Ce=Y.activeBar,Le=Y.activeShape,Ge=!!(!be&&V&&te&&(le||Ce||Le)),he={};F!=="axis"&&te&&te.props.trigger==="click"?he={onClick:Vp(O.handleItemMouseEnter,M.props.onClick)}:F!=="axis"&&(he={onMouseLeave:Vp(O.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Vp(O.handleItemMouseEnter,M.props.onMouseEnter)});var ae=U.cloneElement(M,ue(ue({},j.props),he));function ve(yr){return typeof I.dataKey=="function"?I.dataKey(yr.payload):null}if(Ge)if(z>=0){var Ae,de;if(I.dataKey&&!I.allowDuplicatedCategory){var ze=typeof I.dataKey=="function"?ve:"payload.".concat(I.dataKey.toString());Ae=Tm(ie,ze,G),de=ne&&W&&Tm(W,ze,G)}else Ae=ie==null?void 0:ie[z],de=ne&&W&&W[z];if(Le||Ce){var je=M.props.activeIndex!==void 0?M.props.activeIndex:z;return[U.cloneElement(M,ue(ue(ue({},j.props),he),{},{activeIndex:je})),null,null]}if(!Je(Ae))return[ae].concat(Jl(O.renderActivePoints({item:j,activePoint:Ae,basePoint:de,childIndex:z,isRange:ne})))}else{var ht,_t=(ht=O.getItemByXY(O.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:ae},Ut=_t.graphicalItem,mr=Ut.item,gr=mr===void 0?M:mr,nr=Ut.childIndex,Sn=ue(ue(ue({},j.props),he),{},{activeIndex:nr});return[U.cloneElement(gr,Sn),null,null]}return ne?[ae,null,null]:[ae,null]}),$e(O,"renderCustomized",function(M,C,R){return U.cloneElement(M,ue(ue({key:"recharts-customized-".concat(R)},O.props),O.state))}),$e(O,"renderMap",{CartesianGrid:{handler:Wp,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Wp},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Wp},YAxis:{handler:Wp},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((N=A.id)!==null&&N!==void 0?N:eh("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=uF(O.triggeredAfterMouseMove,(D=A.throttleDelay)!==null&&D!==void 0?D:1e3/60),O.state={},O}return jse(P,v),Ose(P,[{key:"componentDidMount",value:function(){var N,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,D=N.children,O=N.data,M=N.height,C=N.layout,R=Ir(D,_i);if(R){var j=R.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,L=px(this.state,O,j,F),V=this.state.tooltipTicks[j].coordinate,I=(this.state.offset.top+M)/2,z=C==="horizontal",G=z?{x:V,y:I}:{y:V,x:I},Q=this.state.formattedGraphicalItems.find(function(X){var ie=X.item;return ie.type.name==="Scatter"});Q&&(G=ue(ue({},G),Q.props.points[j].tooltipPosition),L=Q.props.points[j].tooltipPayload);var te={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:G};this.setState(te),this.renderCursor(R),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var O,M;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(N){Z1([Ir(N.children,_i)],[Ir(this.props.children,_i)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Ir(this.props.children,_i);if(N&&typeof N.props.shared=="boolean"){var D=N.props.shared?"axis":"item";return l.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var D=this.container,O=D.getBoundingClientRect(),M=yX(O),C={chartX:Math.round(N.pageX-M.left),chartY:Math.round(N.pageY-M.top)},R=O.width/D.offsetWidth||1,j=this.inRange(C.chartX,C.chartY,R);if(!j)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&L&&V){var z=ll(L).scale,G=ll(V).scale,Q=z&&z.invert?z.invert(C.chartX):null,te=G&&G.invert?G.invert(C.chartY):null;return ue(ue({},C),{},{xValue:Q,yValue:te})}var X=lM(this.state,this.props.data,this.props.layout,j);return X?ue(ue({},C),X):null}},{key:"inRange",value:function(N,D){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,C=N/O,R=D/O;if(M==="horizontal"||M==="vertical"){var j=this.state.offset,F=C>=j.left&&C<=j.left+j.width&&R>=j.top&&R<=j.top+j.height;return F?{x:C,y:R}:null}var L=this.state,V=L.angleAxisMap,I=L.radiusAxisMap;if(V&&I){var z=ll(V);return T2({x:C,y:R},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,D=this.getTooltipEventType(),O=Ir(N,_i),M={};O&&D==="axis"&&(O.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Am(this.props,this.handleOuterEvent);return ue(ue({},C),M)}},{key:"addListener",value:function(){y1.on(v1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y1.removeListener(v1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,D,O){for(var M=this.state.formattedGraphicalItems,C=0,R=M.length;C<R;C++){var j=M[C];if(j.item===N||j.props.key===N.key||D===No(j.item.type)&&O===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,D=this.state.offset,O=D.left,M=D.top,C=D.height,R=D.width;return J.createElement("defs",null,J.createElement("clipPath",{id:N},J.createElement("rect",{x:O,y:M,height:C,width:R})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(D,O){var M=aM(O,2),C=M[0],R=M[1];return ue(ue({},D),{},$e({},C,R.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(D,O){var M=aM(O,2),C=M[0],R=M[1];return ue(ue({},D),{},$e({},C,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(N){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(N){var D=this.state,O=D.formattedGraphicalItems,M=D.activeItem;if(O&&O.length)for(var C=0,R=O.length;C<R;C++){var j=O[C],F=j.props,L=j.item,V=L.type.defaultProps!==void 0?ue(ue({},L.type.defaultProps),L.props):L.props,I=No(L.type);if(I==="Bar"){var z=(F.data||[]).find(function(X){return Sre(N,X)});if(z)return{graphicalItem:j,payload:z}}else if(I==="RadialBar"){var G=(F.data||[]).find(function(X){return T2(N,X)});if(G)return{graphicalItem:j,payload:G}}else if(_y(j,M)||wy(j,M)||Cd(j,M)){var Q=pie({graphicalItem:j,activeTooltipItem:M,itemData:V.data}),te=V.activeIndex===void 0?Q:V.activeIndex;return{graphicalItem:ue(ue({},j),{},{childIndex:te}),payload:Cd(j,M)?V.data[Q]:j.props.data[Q]}}}return null}},{key:"render",value:function(){var N=this;if(!MO(this))return null;var D=this.props,O=D.children,M=D.className,C=D.width,R=D.height,j=D.style,F=D.compact,L=D.title,V=D.desc,I=sM(D,xse),z=it(I,!1);if(F)return J.createElement(qj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(tE,dl({},z,{width:C,height:R,title:L,desc:V}),this.renderClipPath(),LO(O,this.renderMap)));if(this.props.accessibilityLayer){var G,Q;z.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,z.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",z.onKeyDown=function(X){N.accessibilityManager.keyboardEvent(X)},z.onFocus=function(){N.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return J.createElement(qj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",dl({className:ut("recharts-wrapper",M),style:ue({position:"relative",cursor:"default",width:C,height:R},j)},te,{ref:function(ie){N.container=ie}}),J.createElement(tE,dl({},z,{width:C,height:R,title:L,desc:V,style:Vse}),this.renderClipPath(),LO(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);$e(w,"displayName",n),$e(w,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),$e(w,"getDerivedStateFromProps",function(v,P){var A=v.dataKey,N=v.data,D=v.children,O=v.width,M=v.height,C=v.layout,R=v.stackOffset,j=v.margin,F=P.dataStartIndex,L=P.dataEndIndex;if(P.updateId===void 0){var V=cM(v);return ue(ue(ue({},V),{},{updateId:0},_(ue(ue({props:v},V),{},{updateId:0}),P)),{},{prevDataKey:A,prevData:N,prevWidth:O,prevHeight:M,prevLayout:C,prevStackOffset:R,prevMargin:j,prevChildren:D})}if(A!==P.prevDataKey||N!==P.prevData||O!==P.prevWidth||M!==P.prevHeight||C!==P.prevLayout||R!==P.prevStackOffset||!yl(j,P.prevMargin)){var I=cM(v),z={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},G=ue(ue({},lM(P,N,C)),{},{updateId:P.updateId+1}),Q=ue(ue(ue({},I),z),G);return ue(ue(ue({},Q),_(ue({props:v},Q),P)),{},{prevDataKey:A,prevData:N,prevWidth:O,prevHeight:M,prevLayout:C,prevStackOffset:R,prevMargin:j,prevChildren:D})}if(!Z1(D,P.prevChildren)){var te,X,ie,ne,W=Ir(D,Fl),Y=W&&(te=(X=W.props)===null||X===void 0?void 0:X.startIndex)!==null&&te!==void 0?te:F,le=W&&(ie=(ne=W.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ie!==void 0?ie:L,be=Y!==F||le!==L,Ce=!Je(N),Le=Ce&&!be?P.updateId:P.updateId+1;return ue(ue({updateId:Le},_(ue(ue({props:v},P),{},{updateId:Le,dataStartIndex:Y,dataEndIndex:le}),P)),{},{prevChildren:D,dataStartIndex:Y,dataEndIndex:le})}return null}),$e(w,"renderActiveDot",function(v,P,A){var N;return U.isValidElement(v)?N=U.cloneElement(v,P):Xe(v)?N=v(P):N=J.createElement(bT,P),J.createElement(Xt,{className:"recharts-active-dot",key:A},N)});var E=U.forwardRef(function(P,A){return J.createElement(w,dl({},P,{ref:A}))});return E.displayName=w.displayName,E},Xse=y4({chartName:"LineChart",GraphicalChild:Hl,axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Xl}],formatAxisMap:jV}),Qse=y4({chartName:"BarChart",GraphicalChild:Do,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Xl}],formatAxisMap:jV});const Jse={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Zse=Xa(Jse),js=ti(Zse),eue=()=>{const[t,e]=U.useState([]),[n,r]=U.useState([]),[i,o]=U.useState([{title:"Total Students",value:"0",icon:Ta,color:"blue",details:[{label:"Recent Registrations",value:"0"},{label:"Active Students",value:"0"},{label:"New This Month",value:"0"}]},{title:"Total Teachers",value:"0",icon:Oq,color:"green",details:[{label:"Full-Time",value:"0"},{label:"Part-Time",value:"0"},{label:"New Hires",value:"0"}]},{title:"Messages Today",value:"0",icon:Tx,color:"yellow",details:[{label:"Unread",value:"0"},{label:"Priority",value:"0"},{label:"Average Response Time",value:"N/A"}]},{title:"Pending Messages",value:"0",icon:pq,color:"red",details:[{label:"Waiting >24hrs",value:"0"},{label:"High Priority",value:"0"},{label:"Department Breakdown",value:"N/A"}]},{title:"Pending NFC Card",value:"0",icon:Sq,color:"purple",details:[{label:"Processed",value:"0"},{label:"In Review",value:"0"},{label:"Awaiting Approval",value:"0"}]},{title:"Pending Events",value:"0",icon:T1,color:"orange",details:[{label:"Upcoming",value:"0"},{label:"This Week",value:"0"},{label:"Requires Action",value:"0"}]}]),[a,l]=U.useState(null),c=async()=>{try{o(E=>E.map((v,P)=>{switch(v.title){case"Total Students":return{...v,details:[{...v.details[0],value:"15"},{...v.details[1],value:"250"},{...v.details[2],value:"45"}]};case"Total Teachers":return{...v,details:[{...v.details[0],value:"30"},{...v.details[1],value:"10"},{...v.details[2],value:"5"}]};case"Messages Today":return{...v,details:[{...v.details[0],value:"25"},{...v.details[1],value:"3"},{...v.details[2],value:"2hrs"}]};default:return v}}))}catch(E){console.error("Error updating stats details:",E)}};U.useEffect(()=>{h(),y(),w(),c()},[]);const f=E=>{l(a===E?null:E)},h=async()=>{try{const E=yt(js,"RegisteredStudent"),P=(await Nt(E)).size,A=yt(js,"RegisteredTeacher"),D=(await Nt(A)).size,O=await Promise.all([p("RegisteredStudent"),p("RegisteredTeacher"),p("RegisteredAdmin")]);e(O.flat()),o(M=>M.map(C=>C.title==="Total Students"?{...C,value:P.toString()}:C.title==="Total Teachers"?{...C,value:D.toString()}:C))}catch(E){console.error("Error fetching registration data:",E)}},p=async E=>{try{const v=yt(js,E),P=cn(v,SC("createdAt","desc"),T7(4));return(await Nt(P)).docs.reduce((D,O)=>{const C=O.data().createdAt.toDate().toLocaleString("default",{month:"short"}),R=D.find(j=>j.month===C);return R?R[E.replace("Registered","").toLowerCase()+"s"]++:D.push({month:C,[E.replace("Registered","").toLowerCase()+"s"]:1,students:0,teachers:0,admins:0}),D},[])}catch(v){return console.error(`Error fetching ${E} data:`,v),[]}},y=async()=>{try{const E=yt(js,"Messages"),v=new Date;v.setHours(0,0,0,0);const P=cn(E,kn("createdAt",">=",v)),N=(await Nt(P)).size,D=cn(E,kn("status","==","pending")),M=(await Nt(D)).size,C=await _();r(C),o(R=>R.map(j=>j.title==="Messages Today"?{...j,value:N.toString()}:j.title==="Pending Messages"?{...j,value:M.toString()}:j))}catch(E){console.error("Error fetching messages data:",E)}},_=async()=>{try{const E=yt(js,"Messages"),v=new Date;v.setDate(v.getDate()-5);const P=cn(E,kn("createdAt",">=",v),SC("createdAt","asc"));return(await Nt(P)).docs.reduce((D,O)=>{const C=O.data().createdAt.toDate().toLocaleString("default",{weekday:"short"}),R=D.find(j=>j.day===C);return R?(R.messages++,O.data().status==="pending"&&R.pending++):D.push({day:C,messages:1,pending:O.data().status==="pending"?1:0}),D},[])}catch(E){return console.error("Error fetching daily messages:",E),[]}},w=async()=>{try{const E=yt(js,"Toregistered"),v=yt(js,"PendingEvent"),P=await Nt(E),A=await Nt(v),N=P.size,D=A.size;o(O=>O.map(M=>M.title==="Pending NFC Card"?{...M,value:N.toString()}:M.title==="Pending Events"?{...M,value:D.toString()}:M))}catch(E){console.error("Error fetching events data:",E)}};return U.useEffect(()=>{h(),y(),w()},[]),x.jsxs("div",{className:_e.dashboardStatisticContainer,children:[x.jsx("div",{className:_e.statsGrid,children:i.map((E,v)=>x.jsxs("div",{className:_e.statsCard,children:[x.jsxs("div",{className:_e.statsCardContent,onClick:()=>f(v),children:[x.jsxs("div",{className:_e.statsTextContainer,children:[x.jsx("p",{className:_e.statsTitle,children:E.title}),x.jsx("p",{className:_e.statsValue,children:E.value})]}),x.jsxs("div",{className:_e.statsIconContainer,children:[x.jsx(E.icon,{className:`${_e.statsIcon} ${_e[`icon-${E.color}`]}`}),a===v?x.jsx(hq,{}):x.jsx(dq,{})]})]}),a===v&&x.jsx("div",{className:_e.statsDropdown,children:E.details.map((P,A)=>x.jsxs("div",{className:_e.statsDropdownItem,children:[x.jsx("span",{className:_e.statsDropdownLabel,children:P.label}),x.jsx("span",{className:_e.statsDropdownValue,children:P.value})]},A))})]},v))}),x.jsxs("div",{className:_e.chartsGrid,children:[x.jsxs("div",{className:_e.chartCard,children:[x.jsx("div",{className:_e.chartHeader,children:x.jsx("h3",{className:_e.chartTitle,children:"Registration Trends"})}),x.jsx("div",{className:_e.chartContent,children:x.jsx(oN,{width:"100%",height:300,children:x.jsxs(Qse,{data:t,children:[x.jsx(Kl,{dataKey:"month"}),x.jsx(Xl,{}),x.jsx(_i,{}),x.jsx(La,{}),x.jsx(Do,{dataKey:"students",fill:"#3b82f6",name:"Students"}),x.jsx(Do,{dataKey:"teachers",fill:"#22c55e",name:"Teachers"}),x.jsx(Do,{dataKey:"admins",fill:"#eab308",name:"Admins"})]})})})]}),x.jsxs("div",{className:_e.chartCard,children:[x.jsx("div",{className:_e.chartHeader,children:x.jsx("h3",{className:_e.chartTitle,children:"Message Activity"})}),x.jsx("div",{className:_e.chartContent,children:x.jsx(oN,{width:"100%",height:300,children:x.jsxs(Xse,{data:n,children:[x.jsx(Kl,{dataKey:"day"}),x.jsx(Xl,{}),x.jsx(_i,{}),x.jsx(La,{}),x.jsx(Hl,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",name:"Total Messages"}),x.jsx(Hl,{type:"monotone",dataKey:"pending",stroke:"#ef4444",name:"Pending Messages"})]})})})]})]})]})};function tue(){var r;const t=ki(),e=(r=t.state)==null?void 0:r.userData,n=t.pathname==="/dashboard"||t.pathname==="/";return x.jsxs("div",{className:_e.dashboardContainer,children:[x.jsx(R7,{}),x.jsx("main",{className:_e.mainContent,children:n?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:_e.welcomeContainer,children:[x.jsxs("h1",{className:_e.welcomeTitle,children:["Welcome",x.jsx("br",{}),x.jsx("span",{children:e==null?void 0:e.name})]}),x.jsx("p",{className:_e.welcomeText,children:"Select an option from the sidebar to get started"})]}),e&&e.position!=="Student"&&e.position!=="Teacher"&&x.jsx(eue,{})]}):x.jsx(UB,{})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="firebasestorage.googleapis.com",_4="storageBucket",nue=2*60*1e3,rue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends io{constructor(e,n,r=0){super(w1(e),`Firebase Storage: ${n} (${w1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function w1(t){return"storage/"+t}function AT(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(Wt.UNKNOWN,t)}function iue(t){return new Ht(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oue(t){return new Ht(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aue(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Wt.UNAUTHENTICATED,t)}function sue(){return new Ht(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uue(t){return new Ht(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lue(){return new Ht(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cue(){return new Ht(Wt.CANCELED,"User canceled the upload/download.")}function fue(t){return new Ht(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function due(t){return new Ht(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hue(){return new Ht(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_4+"' property when initializing the app?")}function pue(){return new Ht(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mue(){return new Ht(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gue(t){return new Ht(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mx(t){return new Ht(Wt.INVALID_ARGUMENT,t)}function w4(){return new Ht(Wt.APP_DELETED,"The Firebase app was deleted.")}function yue(t){return new Ht(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uf(t,e){return new Ht(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vf(t){throw new Ht(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw due(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${y}`,"i"),w={bucket:1,path:3},E=n===v4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",P=new RegExp(`^https?://${E}/${i}/${v}`,"i"),N=[{regex:l,indices:c,postModify:o},{regex:_,indices:w,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let D=0;D<N.length;D++){const O=N[D],M=O.regex.exec(e);if(M){const C=M[O.indices.bucket];let R=M[O.indices.path];R||(R=""),r=new er(C,R),O.postModify(r);break}}if(r==null)throw fue(e);return r}}class vue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function c(){return l===2}let f=!1;function h(...v){f||(f=!0,e.apply(null,v))}function p(v){i=setTimeout(()=>{i=null,t(_,c())},v)}function y(){o&&clearTimeout(o)}function _(v,...P){if(f){y();return}if(v){y(),h.call(null,v,...P);return}if(c()||a){y(),h.call(null,v,...P);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,p(N)}let w=!1;function E(v){w||(w=!0,y(),!f&&(i!==null?(v||(l=2),clearTimeout(i),p(0)):v||(l=1)))}return p(0),o=setTimeout(()=>{a=!0,E(!0)},n),E}function wue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t){return t!==void 0}function Eue(t){return typeof t=="object"&&!Array.isArray(t)}function PT(t){return typeof t=="string"||t instanceof String}function dM(t){return IT()&&t instanceof Blob}function IT(){return typeof Blob<"u"}function gx(t,e,n,r){if(r<e)throw mx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function b4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e,n,r,i,o,a,l,c,f,h,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===Xs.NO_ERROR,c=o.getStatus();if(!l||xue(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Xs.ABORT;r(!1,new Hp(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Hp(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());bue(c)?o(c):o()}catch(c){a(c)}else if(l!==null){const c=AT();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?w4():cue();a(c)}else{const c=lue();a(c)}};this.canceled_?n(!1,new Hp(!1,null,!0)):this.backoffId_=_ue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Tue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Aue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Pue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Iue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Cue(t,e,n,r,i,o,a=!0){const l=b4(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return Pue(f,e),Tue(f,n),Aue(f,o),Iue(f,r),new Sue(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rue(...t){const e=Oue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(IT())return new Blob(t);throw new Ht(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nue(t){if(typeof atob>"u")throw gue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class b1{constructor(e,n){this.data=e,this.contentType=n||null}}function E4(t,e){switch(t){case Ai.RAW:return new b1(x4(e));case Ai.BASE64:case Ai.BASE64URL:return new b1(S4(t,e));case Ai.DATA_URL:return new b1(Mue(e),Due(e))}throw AT()}function x4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jue(t){let e;try{e=decodeURIComponent(t)}catch{throw Uf(Ai.DATA_URL,"Malformed data URL.")}return x4(e)}function S4(t,e){switch(t){case Ai.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Uf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Uf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Nue(e)}catch(i){throw i.message.includes("polyfill")?i:Uf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class T4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uf(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Lue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Mue(t){const e=new T4(t);return e.base64?S4(Ai.BASE64,e.rest):jue(e.rest)}function Due(t){return new T4(t).contentType}function Lue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){let r=0,i="";dM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(dM(this.data_)){const r=this.data_,i=kue(r,e,n);return i===null?null:new Ca(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ca(r,!0)}}static getBlob(...e){if(IT()){const n=e.map(r=>r instanceof Ca?r.data_:r);return new Ca(Rue.apply(null,n))}else{const n=e.map(a=>PT(a)?E4(Ai.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new Ca(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){let e;try{e=JSON.parse(t)}catch{return null}return Eue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function A4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t,e){return e}class Qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vue}}let Gp=null;function Uue(t){return!PT(t)||t.length<2?t:A4(t)}function P4(){if(Gp)return Gp;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(o,a){return Uue(a)}const n=new Qn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Qn("size");return i.xform=r,t.push(i),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),Gp=t,Gp}function Bue(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new er(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function que(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return Bue(r,t),r}function I4(t,e,n){const r=CT(e);return r===null?null:que(t,r,n)}function zue(t,e,n,r){const i=CT(e);if(i===null||!PT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,y="/b/"+a(h)+"/o/"+a(p),_=sh(y,n,r),w=b4({alt:"media",token:f});return _+w})[0]}function Wue(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="prefixes",pM="items";function Hue(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hM])for(const i of n[hM]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new er(e,o));r.prefixes.push(a)}if(n[pM])for(const i of n[pM]){const o=t._makeStorageReference(new er(e,i.name));r.items.push(o)}return r}function Gue(t,e,n){const r=CT(n);return r===null?null:Hue(t,e,r)}class Iy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){if(!t)throw AT()}function Kue(t,e){function n(r,i){const o=I4(t,i,e);return OT(o!==null),o}return n}function Yue(t,e){function n(r,i){const o=Gue(t,e,i);return OT(o!==null),o}return n}function Xue(t,e){function n(r,i){const o=I4(t,i,e);return OT(o!==null),zue(o,i,t.host,t._protocol)}return n}function RT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=sue():i=aue():n.getStatus()===402?i=oue(t.bucket):n.getStatus()===403?i=uue(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function C4(t){const e=RT(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=iue(t.path)),o.serverResponse=i.serverResponse,o}return n}function Que(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),l=sh(a,t.host,t._protocol),c="GET",f=t.maxOperationRetryTime,h=new Iy(l,c,Yue(t,e.bucket),f);return h.urlParams=o,h.errorHandler=RT(e),h}function Jue(t,e,n){const r=e.fullServerUrl(),i=sh(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new Iy(i,o,Xue(t,n),a);return l.errorHandler=C4(e),l}function Zue(t,e){const n=e.fullServerUrl(),r=sh(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}const l=new Iy(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=C4(e),l}function ele(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tle(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ele(null,e)),r}function nle(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let D=0;D<2;D++)N=N+Math.random().toString().slice(2);return N}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const f=tle(e,r,i),h=Wue(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",_=Ca.getBlob(p,r,y);if(_===null)throw pue();const w={name:f.fullPath},E=sh(o,t.host,t._protocol),v="POST",P=t.maxUploadRetryTime,A=new Iy(E,v,Kue(t,n),P);return A.urlParams=w,A.headers=a,A.body=_.uploadData(),A.errorHandler=RT(e),A}class rle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ile extends rle{initXhr(){this.xhr_.responseType="text"}}function Cy(){return new ile}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ou(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A4(this._location.path)}get storage(){return this._service}get parent(){const e=$ue(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new ou(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yue(e)}}function O4(t,e,n){t._throwIfRoot("uploadBytes");const r=nle(t.storage,t._location,P4(),new Ca(e,!0),n);return t.storage.makeRequestWithTokens(r,Cy).then(i=>({metadata:i,ref:t}))}function ole(t,e,n=Ai.RAW,r){t._throwIfRoot("uploadString");const i=E4(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),O4(t,i.data,o)}function ale(t){const e={prefixes:[],items:[]};return R4(t,e).then(()=>e)}async function R4(t,e,n){const i=await sle(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await R4(t,e,i.nextPageToken)}function sle(t,e){e!=null&&typeof e.maxResults=="number"&&gx("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Que(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Cy)}function ule(t){t._throwIfRoot("getDownloadURL");const e=Jue(t.storage,t._location,P4());return t.storage.makeRequestWithTokens(e,Cy).then(n=>{if(n===null)throw mue();return n})}function lle(t){t._throwIfRoot("deleteObject");const e=Zue(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Cy)}function cle(t,e){const n=Fue(t._location.path,e),r=new er(t._location.bucket,n);return new ou(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fle(t){return/^[A-Za-z]+:\/\//.test(t)}function dle(t,e){return new ou(t,e)}function k4(t,e){if(t instanceof kT){const n=t;if(n._bucket==null)throw hue();const r=new ou(n,n._bucket);return e!=null?k4(r,e):r}else return e!==void 0?cle(t,e):t}function hle(t,e){if(e&&fle(e)){if(t instanceof kT)return dle(t,e);throw mx("To use ref(service, url), the first argument must be a Storage instance.")}else return k4(t,e)}function mM(t,e){const n=e==null?void 0:e[_4];return n==null?null:er.makeFromBucketSpec(n,t)}function ple(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nD(i,t.app.options.projectId))}class kT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=v4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nue,this._maxUploadRetryTime=rue,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=mM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=mM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ou(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new vue(w4());{const a=Cue(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gM="@firebase/storage",yM="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="storage";function Oa(t,e,n){return t=Tt(t),O4(t,e,n)}function mle(t,e,n,r){return t=Tt(t),ole(t,e,n,r)}function wl(t){return t=Tt(t),ale(t)}function Yi(t){return t=Tt(t),ule(t)}function _f(t){return t=Tt(t),lle(t)}function _n(t,e){return t=Tt(t),hle(t,e)}function os(t=Ix(),e){t=Tt(t);const r=Tg(t,N4).getImmediate({identifier:e}),i=ZM("storage");return i&&gle(r,...i),r}function gle(t,e,n,r={}){ple(t,e,n,r)}function yle(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kT(n,r,i,e,su)}function vle(){Qs(new Ua(N4,yle,"PUBLIC").setMultipleInstances(!0)),Xi(gM,yM,""),Xi(gM,yM,"esm2017")}vle();const _le="_container_1hobi_5",wle="_card_1hobi_17",ble="_cardHeader_1hobi_33",Ele="_imageUpload_1hobi_49",xle="_imageInput_1hobi_91",Sle="_hasImage_1hobi_111",Tle="_label_1hobi_121",Ale="_imageSelectedPulse_1hobi_1",Ple="_imageUploadIcon_1hobi_171",Ile="_cardTitle_1hobi_179",Cle="_form_1hobi_193",Ole="_formGrid_1hobi_203",Rle="_formGroup_1hobi_227",kle="_input_1hobi_251",Nle="_select_1hobi_253",jle="_button_1hobi_299",Mle="_tableContainer_1hobi_349",Dle="_table_1hobi_349",Lle="_status_1hobi_407",$le="_statusPending_1hobi_423",Fle="_statusOngoing_1hobi_433",Vle="_statusCompleted_1hobi_443",Ule="_error_1hobi_455",Ble="_inputError_1hobi_467",qle="_slideUp_1hobi_1",zle="_status_command_1hobi_515",Wle="_status_detail_1hobi_525",We={container:_le,card:wle,cardHeader:ble,imageUpload:Ele,imageInput:xle,hasImage:Sle,label:Tle,imageSelectedPulse:Ale,imageUploadIcon:Ple,cardTitle:Ile,form:Cle,formGrid:Ole,formGroup:Rle,input:kle,select:Nle,button:jle,tableContainer:Mle,table:Dle,status:Lle,statusPending:$le,statusOngoing:Fle,statusCompleted:Vle,error:Ule,inputError:Ble,slideUp:qle,status_command:zle,status_detail:Wle},Hle="_buttons_85dii_1",Gle="_add_85dii_77",Kle="_archive_85dii_77",Yle="_logout_85dii_77",Xle="_progress_85dii_77",Qle="_filemanager_85dii_77",Jle="_new_event_85dii_77",En={buttons:Hle,add:Gle,archive:Kle,logout:Yle,progress:Xle,filemanager:Qle,new_event:Jle},Zle=()=>{const t=ki(),{userData:e}=t.state||{},n=ti(),r=os(),[i,o]=U.useState(""),[a,l]=U.useState("unlimited"),[c,f]=U.useState(""),[h,p]=U.useState(""),[y,_]=U.useState(""),[w,E]=U.useState("event"),[v,P]=U.useState("pending"),[A,N]=U.useState(""),[D,O]=U.useState(""),[M,C]=U.useState(""),[R,j]=U.useState(""),[F,L]=U.useState(!1),[V,I]=U.useState(null),[z,G]=U.useState(""),Q=ne=>{ne.target.files[0]&&I(ne.target.files[0])},te=async()=>{var le;if(!V)return null;const ne=((le=e==null?void 0:e.email)==null?void 0:le.replace(/[@.]/g,"_"))||"anonymous",W=new Date().getTime(),Y=_n(r,`users/${ne}/event_images/${W}_${V.name}`);try{const be=await Oa(Y,V),Ce=await Yi(be.ref);return G(Ce),Ce}catch(be){throw console.error("Error uploading image: ",be),be}},X=async ne=>{ne.preventDefault(),L(!0);try{const W=await te(),Y={eventName:i,entryLimit:a,maxEntries:a==="limited"?parseInt(c):null,locations:h,description:y,purpose:w,status:v,startDate:A,startTime:D,endDate:M,endTime:R,imageUrl:W,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},le=await Yg(yt(n,"PendingEvent"),Y);ie()}catch(W){console.error("Error creating event: ",W),alert("Error creating event. Please try again.")}},ie=()=>{o(""),l("unlimited"),f(""),p(""),E("event"),_(""),P("pending"),N(""),O(""),j(""),C(""),I(null),G(""),L(!1)};return x.jsx("div",{className:We.container,children:x.jsxs("div",{className:We.card,children:[x.jsxs("div",{className:We.cardHeader,children:[x.jsx("h2",{className:We.cardTitle,children:"Create New Event"}),x.jsxs("div",{className:`${We.imageUpload} ${V?We.hasImage:""}`,children:[x.jsx(wq,{size:20,className:We.imageUploadIcon}),x.jsx("label",{className:We.label,children:V?"Image Selected":"Event Image (Optional)"}),x.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:We.imageInput})]})]}),x.jsxs("form",{className:We.form,onSubmit:X,children:[x.jsxs("div",{className:We.formGrid,children:[x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Event Name"}),x.jsx("input",{type:"text",className:We.input,value:i,onChange:ne=>o(ne.target.value),placeholder:"Enter event name"})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Entry Limit"}),x.jsxs("select",{className:We.select,value:a,name:"Entry Limit",onChange:ne=>l(ne.target.value),children:[x.jsx("option",{value:"unlimited",children:"Anyone can join"}),x.jsx("option",{value:"limited",children:"Limited Person"})]})]}),a==="limited"&&x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Maximum Entries"}),x.jsx("input",{type:"number",className:We.input,value:c,onChange:ne=>f(ne.target.value),placeholder:"Enter maximum entries"})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Location"}),x.jsx("input",{type:"text",className:We.input,value:h,onChange:ne=>p(ne.target.value),placeholder:"Enter location"})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Purpose"}),x.jsxs("select",{className:We.select,value:w,name:"Purpose",onChange:ne=>E(ne.target.value),children:[x.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),x.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"})]})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Description"}),x.jsx("input",{type:"text",className:We.input,value:y,onChange:ne=>_(ne.target.value),placeholder:"Enter Description"})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Status"}),x.jsxs("select",{className:We.select,value:v,name:"Status",onChange:ne=>P(ne.target.value),children:[x.jsx("option",{value:"pending",name:"Status",children:"Pending"}),x.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"})]})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Start Date"}),x.jsx("input",{type:"date",className:We.input,value:A,name:"Start Date",onChange:ne=>N(ne.target.value)})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"Start Time"}),x.jsx("input",{type:"time",className:We.input,value:D,name:"Start Time",onChange:ne=>O(ne.target.value)})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"End Date"}),x.jsx("input",{type:"date",className:We.input,value:M,name:"End Date",onChange:ne=>C(ne.target.value)})]}),x.jsxs("div",{className:We.formGroup,children:[x.jsx("label",{className:We.label,children:"End Time"}),x.jsx("input",{type:"time",className:We.input,value:R,name:"End Time",onChange:ne=>j(ne.target.value)})]})]}),x.jsx("button",{type:"submit",className:En.buttons,disabled:F,name:"Create Event Submit",children:F?"Please wait..":"Create Event"})]})]})})},ece="_container_rixh2_3",tce="_form_rixh2_17",nce="_nfcButton_rixh2_47",rce="_scanButton_rixh2_47",ice="_scannerContainer_rixh2_65",oce="_scanner_rixh2_65",ace="_modalOverlay_rixh2_95",sce="_modalContent_rixh2_123",uce="_status_rixh2_147",lce="_statusWarning_rixh2_165",cce="_statusInfo_rixh2_179",fce="_statusSuccess_rixh2_193",dce="_statusError_rixh2_207",hce="_pulse_rixh2_1",pce="_reader_rixh2_293",Hr={container:ece,form:tce,nfcButton:nce,scanButton:rce,scannerContainer:ice,scanner:oce,modalOverlay:ace,modalContent:sce,status:uce,statusWarning:lce,statusInfo:cce,statusSuccess:fce,statusError:dce,"animate-pulse":"_animate-pulse_rixh2_245",pulse:hce,reader:pce},mce={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},NT=Xa(mce),vM=ti(NT),gce=os(NT),yce=Ni(NT),vce=({message:t,type:e,isProcessing:n})=>{if(!t)return null;const r=()=>{switch(e){case"warning":return Hr.statusWarning;case"error":return Hr.statusError;case"success":return Hr.statusSuccess;default:return Hr.statusInfo}};return x.jsx("div",{className:Hr.modalOverlay,children:x.jsx("div",{className:Hr.modalContent,children:x.jsx("div",{className:`${Hr.status} ${r()} ${n?Hr["animate-pulse"]:""}`,children:t})})})},_ce=()=>{const[t,e]=U.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[n,r]=U.useState(null),[i,o]=U.useState("capture"),[a,l]=U.useState(!1),[c,f]=U.useState(""),[h,p]=U.useState(null),[y,_]=U.useState("info"),[w,E]=U.useState(null),v=U.useRef(null),P=U.useRef(null),A=(I,z="info")=>{f(I),_(z)};U.useEffect(()=>()=>{h&&h.abort()},[h]);const N=I=>{const z=I.target.files[0];r(z)},D=I=>{o(I),r(null),v.current&&(v.current.value=""),P.current&&(P.current.value="")},O=async()=>{try{const I=await OD(yce,t.email,t.upass);return await RD(I.user),I.user}catch(I){switch(I.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw I}}},M=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const I=new NDEFReader;p(I),await I.scan();const z=await new Promise((G,Q)=>{const te=async X=>{try{const ie=X.serialNumber;if(!await F(ie)){Q(new Error("Unauthorized NFC tag"));return}I.removeEventListener("reading",te),G(ie)}catch(ie){Q(ie)}};I.addEventListener("reading",te),setTimeout(()=>{I.removeEventListener("reading",te),Q(new Error("NFC tag read timeout"))},3e4)});return E(z),A("NFC tag detected successfully","success"),z}catch(I){throw A(I.message,"error"),I}finally{h&&(h.abort(),p(null))}},C=async()=>{const I=Ni(),z=Ya();try{await Hf(I),console.log("User signed out successfully"),setTimeout(()=>{z("/login")},2e3)}catch(G){console.error("Error signing out:",G)}},R=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const I=t.email.replace(/[@.]/g,"_"),z=_n(gce,`users/${I}/profile/${n.name}`),G=await Oa(z,n),Q=await Yi(G.ref);return A("Selfie uploaded successfully!","success"),Q}catch(I){throw A("Failed to upload selfie: "+I.message,"error"),I}},j=async()=>{try{l(!0);const I=await R();A("Saving your registration details...","info");const G={...t,nfcSerialNumber:w,selfieUrl:I,position:"Student",createdAt:AS()},Q=await Yg(yt(vM,"RegisteredStudent"),G);await tu(Q,{currentnfcId:Q.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Q.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const X=await O();return await tu(Q,{firebaseUserId:X.uid}),A("Registration completed! Please check your email for verification.","success"),await C(),setTimeout(()=>{A(""),L()},5e3),Q.id}catch(I){console.error("Registration Error:",I);let z="Registration failed: ";throw I.code==="auth/email-already-in-use"?z="This email is already registered. Please use a different email.":I.code==="not-found"?z="NFC tag not found. Please try again.":I.code==="network-error"?z="Network connection issue. Please check your internet connection.":z+=I.message,A(z,"error"),I}finally{l(!1)}},F=async I=>{try{const z=Da(vM,"Toregistered",I);return(await xS(z)).exists()}catch(z){return console.error("NFC Authorization Check Error:",z),!1}},L=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async I=>{if(I.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await M(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await j()}catch(z){console.error("Registration Error:",z),A("Registration process failed: "+z.message,"error")}};return x.jsxs("div",{className:Hr.container,children:[x.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&x.jsx(vce,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),x.jsxs("form",{onSubmit:V,className:Hr.form,children:[x.jsx("input",{type:"text",placeholder:"Student Name",value:t.name,onChange:I=>e({...t,name:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:I=>e({...t,email:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Course",value:t.course,onChange:I=>e({...t,course:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Student ID",value:t.studentId,onChange:I=>e({...t,studentId:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:I=>e({...t,upass:I.target.value}),required:!0,disabled:a}),x.jsxs("select",{value:t.campus,onChange:I=>e({...t,campus:I.target.value}),required:!0,disabled:a,children:[x.jsx("option",{value:"",children:"Select Campus"}),x.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),x.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),x.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),x.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),x.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),x.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),x.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),x.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),x.jsxs("div",{className:Hr.uploadOptionContainer,children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>D("capture"),disabled:a}),"Capture Selfie"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>D("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:v,onChange:N,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>v.current.click(),className:En.buttons,disabled:a,children:"Take Profile Picture"})]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:P,onChange:N,accept:"image/*",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>P.current.click(),className:En.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&x.jsxs("p",{children:["Selected Image: ",n.name,x.jsx("button",{type:"button",onClick:()=>r(null),className:Hr.clearImageButton,disabled:a,children:"Clear"})]}),x.jsx("button",{type:"submit",className:`${En.buttons} ${a?"animate-pulse":""}`,disabled:!t.studentId||!n||a||!("NDEFReader"in window),children:w?"Complete Registration":"Scan NFC Tag"})]})]})},wce="_container_avr77_1",bce="_status_avr77_33",Ece="_reading_avr77_51",xce="_pulse_avr77_1",Sce="_error_avr77_59",Tce="_studentInfo_avr77_77",Ace="_infoGrid_avr77_107",Pce="_infoRow_avr77_117",Ice="_selfie_avr77_149",Cce="_controls_avr77_171",Oce="_button_avr77_185",Rce="_readButton_avr77_213",kce="_resetButton_avr77_231",Tr={container:wce,status:bce,reading:Ece,pulse:xce,error:Sce,studentInfo:Tce,infoGrid:Ace,infoRow:Pce,selfie:Ice,controls:Cce,button:Oce,readButton:Rce,resetButton:kce},Nce={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},jce=Xa(Nce),Mce=ti(jce),Dce=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(""),[i,o]=U.useState(!1),[a,l]=U.useState(null),c=async()=>{try{o(!0),r("Waiting for NFC card..."),l(null);const h=new NDEFReader;await h.scan(),h.addEventListener("reading",async({message:p})=>{try{const y=p.records.find(v=>v.recordType==="text");if(!y)throw new Error("Invalid NFC card: No student data found");const _=new TextDecoder().decode(y.data);r("Retrieving student data...");const w=Da(Mce,"RegisteredStudent",_),E=await xS(w);if(E.exists()){const v=E.data();e(v),r("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(y){l(y.message),e(null)}finally{o(!1),h.stop()}})}catch(h){l(h.message),o(!1)}},f=()=>{e(null),r(""),l(null),o(!1)};return x.jsxs("div",{className:Tr.container,children:[x.jsx("h1",{children:"Student NFC Reader"}),n&&x.jsx("div",{className:`${Tr.status} ${i?Tr.reading:""}`,children:n}),a&&x.jsx("div",{className:Tr.error,children:a}),t&&x.jsxs("div",{className:Tr.studentInfo,children:[x.jsx("h2",{children:"Student Information"}),x.jsxs("div",{className:Tr.infoGrid,children:[x.jsxs("div",{className:Tr.infoRow,children:[x.jsx("span",{children:"Name:"}),x.jsx("span",{children:t.studentName})]}),x.jsxs("div",{className:Tr.infoRow,children:[x.jsx("span",{children:"Student ID:"}),x.jsx("span",{children:t.studentId})]}),x.jsxs("div",{className:Tr.infoRow,children:[x.jsx("span",{children:"Email:"}),x.jsx("span",{children:t.email})]}),x.jsxs("div",{className:Tr.infoRow,children:[x.jsx("span",{children:"Course:"}),x.jsx("span",{children:t.course})]}),x.jsxs("div",{className:Tr.infoRow,children:[x.jsx("span",{children:"Campus:"}),x.jsx("span",{children:t.campus})]}),t.selfieUrl&&x.jsx("div",{className:Tr.selfie,children:x.jsx("img",{src:t.selfieUrl,alt:"Student"})})]})]}),x.jsxs("div",{className:Tr.controls,children:[x.jsx("button",{onClick:c,disabled:i||!("NDEFReader"in window),className:`${En.buttons} ${En.buttons}`,children:i?"Reading...":"Scan NFC Card"}),t&&x.jsx("button",{onClick:f,className:`${En.buttons} ${En.buttons}`,children:"Clear & Scan New Card"})]})]})},Lce="_login_container_escou_13",$ce="_login_card_escou_39",Fce="_login_title_escou_57",Vce="_login_form_escou_75",Uce="_form_group_escou_87",Bce="_login_input_escou_97",qce="_login_button_escou_129",zce="_error_message_escou_175",Wce="_divider_escou_193",Hce="_google_button_escou_241",Gce="_google_icon_escou_293",Kce="_terminal_overlay_escou_305",Yce="_status_escou_331",Xce="_slideUp_escou_1",Qce="_status_command_escou_363",Jce="_status_detail_escou_373",Zce="_error_escou_175",efe="_pulse_escou_1",Cn={login_container:Lce,login_card:$ce,login_title:Fce,login_form:Vce,form_group:Uce,login_input:Bce,login_button:qce,error_message:zce,divider:Wce,google_button:Hce,google_icon:Gce,terminal_overlay:Kce,status:Yce,slideUp:Xce,status_command:Qce,status_detail:Jce,error:Zce,pulse:efe},tfe={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},nfe=Xa(tfe),rfe=new So,Ms=Ni(),rl=ti(nfe),ife=()=>{const t=Ya(),[e,n]=U.useState(""),[r,i]=U.useState(""),[o,a]=U.useState(""),[l,c]=U.useState(!1),[f,h]=U.useState(!1),[p,y]=U.useState(null),[_,w]=U.useState(!1),[E,v]=U.useState(!1),[P,A]=U.useState(""),[N,D]=U.useState([]),O=(F,L)=>(A(F),D(L),new Promise(V=>setTimeout(V,800))),M=async F=>{try{await O("check-role --user "+F,["Checking user permissions..."]),await O("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=cn(yt(rl,"RegisteredAdmin"),kn("email","==",F));if(!(await Nt(L)).empty)return await O("grant-role --type admin",[" Admin privileges confirmed"]),"admin";await O("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const I=cn(yt(rl,"RegisteredTeacher"),kn("email","==",F));if(!(await Nt(I)).empty)return await O("grant-role --type teacher",[" Teacher privileges confirmed"]),"teacher";await O("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const G=cn(yt(rl,"RegisteredStudent"),kn("email","==",F));return(await Nt(G)).empty?(await O("verify-role --result none",[" No role assignments found"]),setTimeout(()=>{A(""),D([])},1e3),null):(await O("grant-role --type student",[" Student privileges confirmed"]),"student")}catch(L){return await O("verify-role --error",[" Error checking roles",L.message]),setTimeout(()=>{A(""),D([])},1e3),console.error("Error checking user role:",L),null}},C=async F=>{F.preventDefault(),c(!0),v(!0),a("");try{await O("authenticate --verify-credentials",["Checking credentials..."]);const L=await Pp(Ms,e,r),V=await M(L.user.email);V?(await O("grant-access --role "+V,[` Access granted as ${V}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",V),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",[" Your account is not registered in the system"]),setTimeout(()=>{A(""),D([])},1e3),await Hf(Ms),a("Access denied. Please contact your administrator."))}catch{await O("authenticate --verify-credentials",[" Authentication failed"]),setTimeout(()=>{A(""),D([])},1e3),a("Access Denied, Please check you email and password")}finally{c(!1)}},R=async()=>{c(!0),v(!0),a("");try{const F=await k9(Ms,rfe),L=await M(F.user.email);L?(await O("grant-access --role "+L,[` Access granted as ${L}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",L),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",[" Your account is not registered in the system"]),await Hf(Ms),a("Access denied. Please contact your administrator."))}catch(F){await O("authenticate --verify-credentials",[" Authentication failed",authError.message]),setTimeout(()=>{A(""),D([])},1e3),a(F.message)}finally{}};U.useEffect(()=>{let F=null;return(async()=>{if(!_)if("NDEFReader"in window)try{const V=new window.NDEFReader;await V.scan(),h(!0),y(V),F=V,v(!0),await O("initialize-nfc --scan-mode",[" NFC reader initialized","Waiting for NFC card..."]),setTimeout(()=>{A(""),D([])},1e3),V.onreading=async({message:I})=>{try{const z=I.records.find(Q=>Q.recordType==="text");if(!z)throw await O("verify-nfc --check-data",[" Invalid NFC card: No user data found"]),new Error("Invalid NFC card: No user data found");const G=new TextDecoder().decode(z.data);await O("read-nfc --get-data",[` NFC data retrieved: ${G}`]);try{await O("authenticate --verify-credentials",["Checking user credentials..."]);const Q=await j(G);Q?(await O("grant-access --role "+Q,[` Access granted as ${Q}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",Q),w(!0),setTimeout(()=>t("/dashboard"),1e3)):(await O("verify-access --check-registration",[" NFC card is not registered in the system"]),setTimeout(()=>{A(""),D([])},1e3),a("NFC card is not registered in the system."))}catch(Q){await O("authenticate --verify-credentials",[" Authentication failed",Q.message]),setTimeout(()=>{A(""),D([])},1e3),console.error("Authentication error:",Q),a("Failed to authenticate with NFC card.")}}catch(z){console.error("Error processing NFC card:",z),a("Failed to process NFC card.")}},V.onerror=async I=>{await O("nfc-error --get-details",[" Error reading NFC card",I.message]),setTimeout(()=>{A(""),D([])},1e3),console.error("NFC read error:",I),a("Error reading NFC card.")}}catch(V){await O("initialize-nfc --check-support",[" NFC initialization failed",V.message]),setTimeout(()=>{A(""),D([])},1e3),console.error("Error setting up NFC:",V),h(!1)}else await O("initialize-nfc --check-support",[" NFC initialization failed"]),setTimeout(()=>{A(""),D([])},2e3)})(),async()=>{var V;if(F)try{F.abort(),(V=F.removeAllListeners)==null||V.call(F),y(null),h(!1),await O("cleanup-nfc --remove-listeners",[" NFC reader cleaned up successfully"])}catch(I){console.error("Error cleaning up NFC reader:",I)}}},[_]);const j=async F=>{try{await O("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=cn(yt(rl,"RegisteredAdmin"),kn("currentnfcId","==",F)),V=await Nt(L);if(!V.empty){const te=V.docs[0].data();return await Pp(Ms,te.email,te.upass),await O("grant-role --type admin",[" Admin privileges confirmed"]),"admin"}await O("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const I=cn(yt(rl,"RegisteredTeacher"),kn("currentnfcId","==",F)),z=await Nt(I);if(!z.empty){const te=z.docs[0].data();return await Pp(Ms,te.email,te.upass),await O("grant-role --type teacher",[" Teacher privileges confirmed"]),"teacher"}await O("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const G=cn(yt(rl,"RegisteredStudent"),kn("currentnfcId","==",F)),Q=await Nt(G);if(!Q.empty){const te=Q.docs[0].data();return await Pp(Ms,te.email,te.upass),await O("grant-role --type student",[" Student privileges confirmed"]),"student"}return null}catch(L){throw console.error("Error checking user role by NFC:",L),L}};return x.jsxs("div",{className:Cn.login_container,children:[(P||l)&&x.jsxs("div",{className:`${Cn.status} ${E?Cn.reading:""}`,children:[x.jsx("div",{className:Cn.status_command,children:P}),N.map((F,L)=>x.jsx("div",{className:`${Cn.status_detail} ${F.includes("failed")?"error":""}`,children:F},L))]}),x.jsxs("div",{className:Cn.login_card,children:[x.jsx("h1",{className:Cn.login_title,children:"Login"}),x.jsxs("form",{onSubmit:C,className:Cn.login_form,children:[x.jsx("div",{className:Cn.form_group,children:x.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:F=>n(F.target.value),required:!0,className:Cn.login_input})}),x.jsx("div",{className:Cn.form_group,children:x.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:F=>i(F.target.value),required:!0,className:Cn.login_input})}),o&&x.jsx("div",{className:Cn.error_message,children:o}),x.jsx("button",{type:"submit",className:Cn.login_button,disabled:l,children:l?"Please wait..":"Login"})]}),x.jsx("div",{className:Cn.divider,children:x.jsx("span",{children:"Or continue with"})}),x.jsxs("button",{type:"button",onClick:R,disabled:l,className:Cn.google_button,children:[x.jsx("svg",{className:Cn.google_icon,viewBox:"0 0 24 24",children:x.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})]})},ofe="_event_list_container_knjye_1",afe="_events_grid_knjye_25",sfe="_event_card_knjye_37",ufe="_card_content_knjye_65",lfe="_card_image_container_knjye_79",cfe="_card_image_knjye_79",ffe="_card_image_placeholder_knjye_105",dfe="_card_basic_info_knjye_139",hfe="_modal_overlay_knjye_175",pfe="_modal_content_knjye_201",mfe="_modal_image_container_knjye_223",gfe="_modal_image_knjye_223",yfe="_modal_image_placeholder_knjye_259",vfe="_close_button_knjye_307",_fe="_event_info_knjye_317",wfe="_table_container_knjye_341",bfe="_action_buttons_knjye_385",Efe="_edit_btn_knjye_395",xfe="_delete_btn_knjye_395",Sfe="_modal_actions_knjye_453",Tfe="_continue_btn_knjye_467",Afe="_complete_btn_knjye_467",qt={event_list_container:ofe,events_grid:afe,event_card:sfe,card_content:ufe,card_image_container:lfe,card_image:cfe,card_image_placeholder:ffe,card_basic_info:dfe,modal_overlay:hfe,modal_content:pfe,modal_image_container:mfe,modal_image:gfe,modal_image_placeholder:yfe,close_button:vfe,event_info:_fe,table_container:wfe,action_buttons:bfe,edit_btn:Efe,delete_btn:xfe,modal_actions:Sfe,continue_btn:Tfe,complete_btn:Afe},Pfe=()=>{var _;const[t,e]=U.useState([]),[n,r]=U.useState(null),i=Ya(),o=ti(),a=Ni();U.useEffect(()=>{l()},[]);const l=async()=>{try{const w=a.currentUser;if(!w)return;const E=yt(o,"PendingEvent"),v=cn(E,kn("createdBy","==",w.email)),A=(await Nt(v)).docs.map(N=>({id:N.id,...N.data()}));e(A)}catch(w){console.error("Error fetching events:",w)}},c=w=>w?w.toDate?w.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(w).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",f=w=>{i(`/dashboard/edit-event/${w}`)},h=async w=>{if(window.confirm("Are you sure you want to delete this event?"))try{await C7(Da(o,"PendingEvent",w)),l(),r(null)}catch(E){console.error("Error deleting event:",E)}},p=async w=>{try{await tu(Da(o,"PendingEvent",w.id),{status:"in-progress"}),l(),r(null)}catch(E){console.error("Error updating event status:",E)}},y=async w=>{try{await tu(Da(o,"PendingEvent",w.id),{status:"completed"}),l(),r(null)}catch(E){console.error("Error completing event:",E)}};return x.jsxs("div",{className:qt.event_list_container,children:[x.jsx("h2",{children:"Event List"}),x.jsx("div",{className:qt.events_grid,children:t.map(w=>x.jsx("div",{className:qt.event_card,onClick:()=>r(w),children:x.jsxs("div",{className:qt.card_content,children:[x.jsx("div",{className:qt.card_image_container,children:w.imageUrl?x.jsx("img",{src:w.imageUrl,alt:w.eventName,className:qt.card_image}):x.jsxs("div",{className:qt.card_image_placeholder,children:[x.jsx(sI,{size:32}),x.jsx("span",{children:"No Image"})]})}),x.jsxs("div",{className:qt.card_basic_info,children:[x.jsx("h3",{children:w.eventName}),x.jsxs("p",{children:["ID: ",w.id]}),x.jsxs("p",{children:["Created By: ",w.name]}),x.jsxs("p",{children:["Created: ",c(w.createdAt)]})]})]})},w.id))}),n&&x.jsx("div",{className:qt.modal_overlay,onClick:()=>r(null),children:x.jsxs("div",{className:qt.modal_content,onClick:w=>w.stopPropagation(),children:[x.jsx("button",{className:qt.close_button,onClick:()=>r(null),children:x.jsx(Fd,{size:24})}),x.jsx("div",{className:qt.modal_image_container,children:n.imageUrl?x.jsx("img",{src:n.imageUrl,alt:n.eventName,className:qt.modal_image}):x.jsxs("div",{className:qt.modal_image_placeholder,children:[x.jsx(sI,{size:48}),x.jsx("span",{children:"No Image Available"})]})}),x.jsx("h3",{children:n.eventName}),x.jsxs("div",{className:qt.event_info,children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Location:"})," ",n.locations]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Description:"})," ",n.description]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Start Time:"})," ",n.startTime]}),x.jsxs("p",{children:[x.jsx("strong",{children:"End Time:"})," ",n.endTime]})]}),x.jsxs("div",{className:qt.modal_actions,children:[x.jsx("button",{className:qt.continue_btn,onClick:()=>p(n),children:"Continue"}),x.jsx("button",{className:qt.complete_btn,onClick:()=>y(n),children:"Complete"}),x.jsx("button",{className:qt.complete_btn,onClick:()=>h(n.id),children:"Delete event"})]}),x.jsx("br",{}),x.jsx("div",{className:qt.table_container,children:x.jsxs("table",{children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"STUDENT ID"}),x.jsx("th",{children:"STUDENT NAME"}),x.jsx("th",{children:"COURSE"}),x.jsx("th",{children:"CAMPUS"}),x.jsx("th",{children:"DATE"}),x.jsx("th",{children:"ACTIONS"})]})}),x.jsx("tbody",{children:(_=n.attendees)==null?void 0:_.map((w,E)=>x.jsxs("tr",{children:[x.jsx("td",{children:w.studentId}),x.jsx("td",{children:w.name}),x.jsx("td",{children:w.course}),x.jsx("td",{children:w.campus}),x.jsx("td",{children:c(w.dateAttended)}),x.jsx("td",{children:x.jsx("div",{className:qt.action_buttons,children:x.jsx("button",{className:qt.edit_btn,onClick:()=>f(n.id),children:x.jsx(Aq,{size:16})})})})]},E))})]})})]})})]})},Ife="_fileManager_c4lw2_5",Cfe="_header_c4lw2_17",Ofe="_actions_c4lw2_45",Rfe="_navigation_c4lw2_55",kfe="_backButton_c4lw2_77",Nfe="_currentPath_c4lw2_109",jfe="_content_c4lw2_121",Mfe="_item_c4lw2_141",Dfe="_itemContent_c4lw2_171",Lfe="_actionButton_c4lw2_195",$fe="_dropdownMenu_c4lw2_229",Ffe="_deleteButton_c4lw2_283",Vfe="_modal_c4lw2_301",Ufe="_modalContent_c4lw2_327",Bfe="_modalHeader_c4lw2_351",qfe="_closeButton_c4lw2_379",zfe="_modalNavigation_c4lw2_405",Wfe="_folderList_c4lw2_423",Hfe="_folderItem_c4lw2_443",Gfe="_folderContent_c4lw2_473",Kfe="_modalActions_c4lw2_485",Yfe="_cancelButton_c4lw2_503",Xfe="_authContainer_c4lw2_521",Qfe="_authMethods_c4lw2_539",Jfe="_passwordAuth_c4lw2_553",Zfe="_passwordInput_c4lw2_563",ede="_nfcAuth_c4lw2_579",tde="_error_c4lw2_587",st={fileManager:Ife,header:Cfe,actions:Ofe,navigation:Rfe,backButton:kfe,currentPath:Nfe,content:jfe,item:Mfe,itemContent:Dfe,actionButton:Lfe,dropdownMenu:$fe,deleteButton:Ffe,modal:Vfe,modalContent:Ufe,modalHeader:Bfe,closeButton:qfe,modalNavigation:zfe,folderList:Wfe,folderItem:Hfe,folderContent:Gfe,modalActions:Kfe,cancelButton:Yfe,authContainer:Xfe,authMethods:Qfe,passwordAuth:Jfe,passwordInput:Zfe,nfcAuth:ede,error:tde},j4=6048e5,nde=864e5,_M=Symbol.for("constructDateFrom");function Ka(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&_M in t?t[_M](e):t instanceof Date?new t.constructor(e):new Date(e)}function Mi(t,e){return Ka(e||t,t)}let rde={};function Oy(){return rde}function Dd(t,e){var l,c,f,h;const n=Oy(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Mi(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function bg(t,e){return Dd(t,{...e,weekStartsOn:1})}function M4(t,e){const n=Mi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ka(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=bg(i),a=Ka(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=bg(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function wM(t){const e=Mi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ide(t,...e){const n=Ka.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function bM(t,e){const n=Mi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ode(t,e,n){const[r,i]=ide(n==null?void 0:n.in,t,e),o=bM(r),a=bM(i),l=+o-wM(o),c=+a-wM(a);return Math.round((l-c)/nde)}function ade(t,e){const n=M4(t,e),r=Ka(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),bg(r)}function sde(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ude(t){return!(!sde(t)&&typeof t!="number"||isNaN(+Mi(t)))}function lde(t,e){const n=Mi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const cde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fde=(t,e,n)=>{let r;const i=cde[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function E1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mde={date:E1({formats:dde,defaultWidth:"full"}),time:E1({formats:hde,defaultWidth:"full"}),dateTime:E1({formats:pde,defaultWidth:"full"})},gde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yde=(t,e,n,r)=>gde[t];function wf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const vde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_de={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ede={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sde=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Tde={ordinalNumber:Sde,era:wf({values:vde,defaultWidth:"wide"}),quarter:wf({values:_de,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wf({values:wde,defaultWidth:"wide"}),day:wf({values:bde,defaultWidth:"wide"}),dayPeriod:wf({values:Ede,defaultWidth:"wide",formattingValues:xde,defaultFormattingWidth:"wide"})};function bf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Pde(l,p=>p.test(a)):Ade(l,p=>p.test(a));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(a.length);return{value:f,rest:h}}}function Ade(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Pde(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ide(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const Cde=/^(\d+)(th|st|nd|rd)?/i,Ode=/\d+/i,Rde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kde={any:[/^b/i,/^(a|c)/i]},Nde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jde={any:[/1/i,/2/i,/3/i,/4/i]},Mde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$de={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ude={ordinalNumber:Ide({matchPattern:Cde,parsePattern:Ode,valueCallback:t=>parseInt(t,10)}),era:bf({matchPatterns:Rde,defaultMatchWidth:"wide",parsePatterns:kde,defaultParseWidth:"any"}),quarter:bf({matchPatterns:Nde,defaultMatchWidth:"wide",parsePatterns:jde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bf({matchPatterns:Mde,defaultMatchWidth:"wide",parsePatterns:Dde,defaultParseWidth:"any"}),day:bf({matchPatterns:Lde,defaultMatchWidth:"wide",parsePatterns:$de,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:Fde,defaultMatchWidth:"any",parsePatterns:Vde,defaultParseWidth:"any"})},Bde={code:"en-US",formatDistance:fde,formatLong:mde,formatRelative:yde,localize:Tde,match:Ude,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qde(t,e){const n=Mi(t,e==null?void 0:e.in);return ode(n,lde(n))+1}function zde(t,e){const n=Mi(t,e==null?void 0:e.in),r=+bg(n)-+ade(n);return Math.round(r/j4)+1}function D4(t,e){var h,p,y,_;const n=Mi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Oy(),o=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(y=i.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,a=Ka((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Dd(a,e),c=Ka((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const f=Dd(c,e);return+n>=+l?r+1:+n>=+f?r:r-1}function Wde(t,e){var l,c,f,h;const n=Oy(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=D4(t,e),o=Ka((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Dd(o,e)}function Hde(t,e){const n=Mi(t,e==null?void 0:e.in),r=+Dd(n,e)-+Wde(n,e);return Math.round(r/j4)+1}function gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return gt(i,e.length)}},il={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xa.y(t,e)},Y:function(t,e,n,r){const i=D4(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return gt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):gt(o,e.length)},R:function(t,e){const n=M4(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Hde(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):gt(i,e.length)},I:function(t,e,n){const r=zde(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xa.d(t,e)},D:function(t,e,n){const r=qde(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return gt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return gt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=il.noon:r===0?i=il.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=il.evening:r>=12?i=il.afternoon:r>=4?i=il.morning:i=il.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xa.s(t,e)},S:function(t,e){return xa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return SM(r);case"XXXX":case"XX":return Fs(r);case"XXXXX":case"XXX":default:return Fs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return SM(r);case"xxxx":case"xx":return Fs(r);case"xxxxx":case"xxx":default:return Fs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xM(r,":");case"OOOO":default:return"GMT"+Fs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xM(r,":");case"zzzz":default:return"GMT"+Fs(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return gt(r,e.length)},T:function(t,e,n){return gt(+t,e.length)}};function xM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+gt(o,2)}function SM(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):Fs(t,e)}function Fs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=gt(Math.trunc(r/60),2),o=gt(r%60,2);return n+i+e+o}const TM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},L4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gde=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return TM(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",TM(r,e)).replace("{{time}}",L4(i,e))},Kde={p:L4,P:Gde},Yde=/^D+$/,Xde=/^Y+$/,Qde=["D","DD","YY","YYYY"];function Jde(t){return Yde.test(t)}function Zde(t){return Xde.test(t)}function ehe(t,e,n){const r=the(t,e,n);if(console.warn(r),Qde.includes(t))throw new RangeError(r)}function the(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ihe=/^'([^]*?)'?$/,ohe=/''/g,ahe=/[a-zA-Z]/;function AM(t,e,n){var h,p,y,_;const r=Oy(),i=r.locale??Bde,o=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=r.weekStartsOn??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,l=Mi(t,n==null?void 0:n.in);if(!ude(l))throw new RangeError("Invalid time value");let c=e.match(rhe).map(w=>{const E=w[0];if(E==="p"||E==="P"){const v=Kde[E];return v(w,i.formatLong)}return w}).join("").match(nhe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const E=w[0];if(E==="'")return{isToken:!1,value:she(w)};if(EM[E])return{isToken:!0,value:w};if(E.match(ahe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const E=w.value;(Zde(E)||Jde(E))&&ehe(E,e,String(t));const v=EM[E[0]];return v(l,E,i.localize,f)}).join("")}function she(t){const e=t.match(ihe);return e?e[1].replace(ohe,"'"):t}const $4=({children:t,currentPath:e,userData:n})=>{const r=Ni(),i=os(),[o,a]=U.useState([]),l=p=>p.replace(/[@.]/g,"_"),c=async()=>{if(!r.currentUser||o.length===0)return;const p=l(r.currentUser.email),y=AM(new Date,"yyyy-MM-dd"),_=`users/${p}/process_log/${y}_activity.txt`,w=_n(i,_);try{let E="";try{const A=await Yi(w);E=await(await fetch(A)).text()}catch{console.log("Creating new log file for today")}const v=o.join(`
`),P=E?`${E}
${v}`:v;await mle(w,P,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),a([])}catch(E){console.error("Error saving logs:",E)}},f=p=>{if(!r.currentUser)return;const y=`[${AM(new Date,"yyyy-MM-dd HH:mm:ss")}] ${p}`;a(_=>[..._,y])},h=p=>{if(p.type==="file"){const w=p.files;return w&&w.length>0?Array.from(w).map(E=>`${E.name} (${(E.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const y=p.querySelector("span");if(y)return y.textContent.trim();const _=p.querySelector("span");if(_)return _.textContent.trim();if(p.tagName.toLowerCase()==="a")return p.getAttribute("to")||p.getAttribute("href")||"Link";if(p.tagName.toLowerCase()==="input"){const w=p.getAttribute("placeholder");if(w)return`Input: ${w}`;const E=p.getAttribute("name");if(E)return`Input: ${E}`;const v=document.querySelector(`label[for="${p.id}"]`);if(v)return`Input: ${v.textContent.trim()}`}if(p.tagName.toLowerCase()==="select"){const w=p.getAttribute("name");if(w)return`Select: ${w}`}return p.className||p.tagName.toLowerCase()};return U.useEffect(()=>{const p=setInterval(c,6e4);return()=>{clearInterval(p),c()}},[o]),U.useEffect(()=>{const p=w=>{var P;const E=w.target,v=E.closest(".styles_navItem__");if(v){const A=h(v);let N="Sidebar Navigation";A.includes("Dashboard")?N="Dashboard Navigation":A.includes("Create Event")?N="Event Creation":A.includes("Event List")?N="Event Listing":A.includes("Registered Students")?N="Student Management":A.includes("Registered Teacher")?N="Teacher Management":A.includes("Teacher Registration")?N="Teacher Registration":A.includes("Student Registration")?N="Student Registration":A.includes("NFC Reader")?N="NFC Management":A.includes("File Manager")?N="File Management":A.includes("Logout")&&(N="Authentication");const D=`${N}: Clicked "${A}"`;f(D)}if(["button","div","li","a"].includes(E.tagName.toLowerCase())){(P=E.textContent)==null||P.trim().toLowerCase();const A=h(E),N=`Clicked on ${E.tagName.toLowerCase()}: ${A}`;f(N)}},y=w=>{const E=w.target;if(["input","textarea","select"].includes(E.tagName.toLowerCase())){const P=`Input value in ${h(E)} - Final Value: ${E.value}`;f(P)}},_=w=>{const E=w.target,v=E.getAttribute("name"),P=E.getAttribute("id"),A=`Form submitted${v?` - Form Name: "${v}"`:P?` - Form ID: "${P}"`:""}`;f(A),c()};return document.addEventListener("click",p),document.addEventListener("blur",y,!0),document.addEventListener("submit",_),()=>{document.removeEventListener("click",p),document.removeEventListener("blur",y,!0),document.removeEventListener("submit",_)}},[r.currentUser]),U.useEffect(()=>{const p=P=>{const A=P.target.files[0];if(!A)return;const N=`${e}/${A.name}`,D=`File Upload: "${A.name}" (${(A.size/1024).toFixed(2)} KB) to "${N}"`;f(D)},y=P=>{const A=`${e}/${P}`,N=`Created Folder: "${P}" at "${A}"`;f(N)},_=(P,A)=>{const N=`${e}/${P.name}`,D=`Moved ${P.type}: "${P.name}" from "${N}" to "${A}"`;f(D)},w=(P,A)=>{const N=`${e}/${P.name}`,D=`Copied ${P.type}: "${P.name}" from "${N}" to "${A}"`;f(D)},E=P=>{const A=`${e}/${P.name}`,N=`Deleted ${P.type}: "${P.name}" from "${A}"`;f(N)},v=(P,A)=>{`${e}${P.name}`;const N=`Renamed ${P.type}: from "${P.name}" to "${A}" at path "${e}"`;f(N)};return window.userActionLogger={onFileUpload:p,onCreateFolder:y,onMove:_,onCopy:w,onDelete:E,onRename:v},()=>{delete window.userActionLogger}},[e,n]),x.jsx(x.Fragment,{children:t})},uhe=({isOpen:t,onClose:e,onMove:n,onCopy:r,onDelete:i,onRename:o})=>{const a=U.useRef(null);return U.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&e()};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[e]),t?x.jsxs("div",{className:st.dropdownMenu,ref:a,children:[x.jsx("button",{onClick:n,children:"Move"}),x.jsx("button",{onClick:r,children:"Copy"}),x.jsx("button",{onClick:o,children:"Rename"}),x.jsx("button",{onClick:i,className:st.deleteButton,children:"Delete"})]}):null},lhe=({isOpen:t,onClose:e,currentPath:n,userData:r,selectedItem:i,operation:o,onSelect:a})=>{const[l,c]=U.useState([]),[f,h]=U.useState(""),p=os(),[y,_]=U.useState(null);U.useEffect(()=>{if(t){const P=`users/${r.email.replace("@","_").replace(".","_")}`;h(P),w(P)}},[t,r]);const w=async P=>{try{const A=_n(p,P),D=(await wl(A)).prefixes.map(O=>({name:O.name,fullPath:`${P}/${O.name}`}));c(D)}catch(A){console.error("Error listing folders:",A)}},E=P=>{y&&_(y),h(P),w(P)},v=()=>{const P=`users/${r.email.replace("@","_").replace(".","_")}`,A=f.split("/").slice(0,-1).join("/");A.startsWith(P)&&(h(A),w(A))};return t?x.jsx("div",{className:st.modal,children:x.jsxs("div",{className:st.modalContent,children:[x.jsxs("div",{className:st.modalHeader,children:[x.jsx("h3",{children:"Select Destination Folder"}),x.jsx("button",{onClick:e,className:st.closeButton,children:x.jsx(Fd,{size:20})})]}),x.jsxs("div",{className:st.modalNavigation,children:[x.jsxs("button",{onClick:v,className:st.backButton,children:[x.jsx(qM,{size:20}),"Back"]}),x.jsx("span",{className:st.currentPath,children:f})]}),x.jsx("div",{className:st.folderList,children:l.map(P=>x.jsx("div",{className:st.folderItem,children:x.jsxs("div",{className:st.folderContent,onClick:()=>E(P.fullPath),children:[x.jsx(WM,{size:24}),x.jsx("span",{children:P.name})]})},P.fullPath))}),x.jsxs("div",{className:st.modalActions,children:[x.jsx("button",{onClick:()=>{a(f)},className:En.buttons,children:"Select This Folder"}),x.jsx("button",{onClick:e,className:`${En.buttons} ${st.cancelButton}`,children:"Cancel"})]})]})}):null},che=()=>{var Ge;const[t,e]=U.useState(!1),[n,r]=U.useState(""),[i,o]=U.useState(""),[a,l]=U.useState(""),[c,f]=U.useState([]),[h,p]=U.useState([]),[y,_]=U.useState(!1),w=ki();Ya();const E=os(),[v,P]=U.useState(null),[A,N]=U.useState({x:0,y:0}),D=(Ge=w.state)==null?void 0:Ge.userData,[O,M]=U.useState(!1),[C,R]=U.useState(null),[j,F]=U.useState(null);U.useEffect(()=>{"NDEFReader"in window&&_(!0)},[]),U.useEffect(()=>{if(t&&D){const he=`users/${D.email.replace("@","_").replace(".","_")}`;l(he),I(he)}},[t,D]);const L=()=>{n===(D==null?void 0:D.upass)?(e(!0),o("")):o("Invalid password")},V=async()=>{try{const he=new NDEFReader;await he.scan(),he.addEventListener("reading",({serialNumber:ae})=>{ae===(D==null?void 0:D.currentnfcId)?(e(!0),o("")):o("Invalid NFC card")})}catch(he){o("Error reading NFC: "+he.message)}},I=async he=>{try{const ae=_n(E,he),ve=await wl(ae),Ae=ve.items.map(async je=>{const ht=await Yi(je);return{name:je.name,url:ht,type:"file"}}),de=ve.prefixes.filter(je=>je.name!=="process_log"&&je.name!=="event_images"&&je.name!=="profile").map(je=>({name:je.name,type:"folder"})),ze=await Promise.all(Ae);f(ze),p(de)}catch(ae){console.error("Error listing files:",ae)}},z=async he=>{const ae=he.target.files[0];if(ae)try{const ve=_n(E,`${a}/${ae.name}`);await Oa(ve,ae),window.userActionLogger&&window.userActionLogger.onFileUpload(he),await I(a)}catch(ve){console.error("Error uploading file:",ve)}},G=async()=>{const he=prompt("Enter folder name:");if(!he)return;const ae=_n(E,`${a}/${he}/.placeholder`),ve=new Blob([""],{type:"text/plain"});await Oa(ae,ve),window.userActionLogger&&window.userActionLogger.onCreateFolder(he),await I(a)},Q=he=>{const ae=`${a}/${he}`;l(ae),I(ae)},te=()=>{const he=a.split("/").slice(0,-1).join("/");he.startsWith(`users/${D.email.replace("@","_").replace(".","_")}`)&&(l(he),I(he))};if(!t)return x.jsxs("div",{className:st.authContainer,children:[x.jsx("h2",{children:"Authentication Required"}),x.jsxs("div",{className:st.authMethods,children:[x.jsxs("div",{className:st.passwordAuth,children:[x.jsx("input",{type:"password",value:n,onChange:he=>r(he.target.value),placeholder:"Enter password",className:st.passwordInput}),x.jsx("button",{onClick:L,className:En.buttons,children:"Submit"})]}),y&&x.jsx("div",{className:st.nfcAuth,children:x.jsx("button",{onClick:V,className:En.buttons,children:"Authenticate with NFC"})})]}),i&&x.jsx("p",{className:st.error,children:i})]});const X=(he,ae)=>{he.preventDefault(),he.stopPropagation();const ve=he.currentTarget.getBoundingClientRect();N({x:ve.left,y:ve.bottom}),P(ae),F(ae)},ie=async()=>{if(!j){alert("Please select an item to move"),console.log(j);return}R("move"),M(!0)},ne=async()=>{if(!j){alert("Please select an item to copy"),console.log(j);return}R("copy"),M(!0)},W=async()=>{if(v)try{const he=`${a}/${v.name}`,ae=_n(E,he);v.type==="file"?await _f(ae):await Y(he),window.userActionLogger&&window.userActionLogger.onDelete(v),await I(a)}catch(he){console.error("Error deleting item:",he),alert(`Failed to delete ${v.name}. ${he.message}`)}},Y=async he=>{try{const ae=_n(E,he),ve=await wl(ae);for(const Ae of ve.items)await _f(Ae);for(const Ae of ve.prefixes)await Y(`${he}/${Ae.name}`)}catch(ae){throw console.error("Error deleting folder:",ae),ae}},le=async()=>{if(!v)return;const he=prompt("Enter new name:",v.name);if(!(!he||he===v.name))try{const ae=_n(E,`${a}/${v.name}`),ve=_n(E,`${a}/${he}`);if(v.type==="file"){const Ae=await Yi(ae),ze=await(await fetch(Ae)).blob();await Oa(ve,ze),await _f(ae)}window.userActionLogger&&window.userActionLogger.onRename(v,he),await I(a)}catch(ae){console.error("Error renaming item:",ae)}},be=async he=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:j,currentPath:a,destinationPath:he,operation:C}),!j){console.error("No item selected"),alert("Please select an item to move or copy"),M(!1);return}try{const ae=_n(E,`${a}/${j.name}`),ve=_n(E,`${he}/${j.name}`);if(j.type==="file"){const Ae=await Yi(ae),ze=await(await fetch(Ae)).blob();await Oa(ve,ze),C==="move"&&await _f(ae)}else await Ce(`${a}/${j.name}`,`${he}/${j.name}`,C==="move");window.userActionLogger&&(C==="move"?window.userActionLogger.onMove(j,he):C==="copy"&&window.userActionLogger.onCopy(j,he)),M(!1),R(null),await I(a)}catch(ae){console.error(`Error ${C}ing item:`,ae),alert(`Failed to ${C} item: ${ae.message}`),M(!1),R(null)}},Ce=async(he,ae,ve=!1)=>{try{const Ae=_n(E,he),de=await wl(Ae);for(const ze of de.items){const je=await Yi(ze),_t=await(await fetch(je)).blob(),Ut=_n(E,`${ae}/${ze.name}`);await Oa(Ut,_t),ve&&await _f(ze)}for(const ze of de.prefixes)await Ce(`${he}/${ze.name}`,`${ae}/${ze.name}`,ve)}catch(Ae){throw console.error("Error copying folder:",Ae),Ae}},Le=(he,ae)=>x.jsxs("div",{className:st.item,onClick:ve=>{ve.target.closest(`.${st.actionButton}`)||ve.target.closest(`.${st.dropdownMenu}`)||(ae==="folder"?Q(he.name):window.open(he.url,"_blank"))},children:[x.jsxs("div",{className:st.itemContent,children:[ae==="folder"?x.jsx(WM,{size:24}):x.jsx(vq,{size:24}),x.jsx("span",{children:he.name})]}),x.jsx("button",{className:st.actionButton,onClick:ve=>{ve.stopPropagation();const Ae={...he,type:ae};X(ve,Ae)},children:x.jsx(gq,{size:16})}),(v==null?void 0:v.name)===he.name&&x.jsx(uhe,{isOpen:!0,onClose:()=>{P(null)},onMove:ie,onCopy:ne,onDelete:W,onRename:le})]},`${ae}-${he.name}`);return x.jsx($4,{currentPath:a,userData:D,children:x.jsxs("div",{className:st.fileManager,children:[x.jsxs("div",{className:st.header,children:[x.jsx("h2",{children:"File Manager"}),x.jsxs("div",{className:st.actions,children:[a===`users/${D.email.replace("@","_").replace(".","_")}`&&x.jsxs("button",{onClick:G,className:En.buttons,children:[x.jsx(_q,{size:20}),"New Folder"]}),x.jsxs("label",{className:En.buttons,children:[x.jsx(Cq,{size:20}),"Upload File",x.jsx("input",{type:"file",onChange:z,style:{display:"none"}})]})]})]}),x.jsxs("div",{className:st.navigation,children:[x.jsxs("button",{onClick:te,className:st.backButton,children:[x.jsx(qM,{size:20}),"Back"]}),x.jsx("span",{className:st.currentPath,children:a})]}),x.jsxs("div",{className:st.content,children:[h.map(he=>Le(he,"folder")),c.map(he=>Le(he,"file"))]}),x.jsx(lhe,{isOpen:O,onClose:()=>{M(!1),R(null)},currentPath:a,userData:D,selectedItem:j,operation:C,onSelect:be})]})})},fhe="_container_9esca_3",dhe="_form_9esca_17",hhe="_nfcButton_9esca_47",phe="_scanButton_9esca_47",mhe="_scannerContainer_9esca_65",ghe="_scanner_9esca_65",yhe="_modalOverlay_9esca_95",vhe="_modalContent_9esca_123",_he="_status_9esca_147",whe="_statusWarning_9esca_165",bhe="_statusInfo_9esca_179",Ehe="_statusSuccess_9esca_193",xhe="_statusError_9esca_207",She="_pulse_9esca_1",The="_reader_9esca_293",Ahe="_uploadOptionContainer_9esca_303",Phe="_clearImageButton_9esca_317",Gr={container:fhe,form:dhe,nfcButton:hhe,scanButton:phe,scannerContainer:mhe,scanner:ghe,modalOverlay:yhe,modalContent:vhe,status:_he,statusWarning:whe,statusInfo:bhe,statusSuccess:Ehe,statusError:xhe,"animate-pulse":"_animate-pulse_9esca_245",pulse:She,reader:The,uploadOptionContainer:Ahe,clearImageButton:Phe},Ihe={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},jT=Xa(Ihe),PM=ti(jT),Che=os(jT),Ohe=Ni(jT),Rhe=({message:t,type:e,isProcessing:n})=>{if(!t)return null;const r=()=>{switch(e){case"warning":return Gr.statusWarning;case"error":return Gr.statusError;case"success":return Gr.statusSuccess;default:return Gr.statusInfo}};return x.jsx("div",{className:Gr.modalOverlay,children:x.jsx("div",{className:Gr.modalContent,children:x.jsx("div",{className:`${Gr.status} ${r()} ${n?Gr["animate-pulse"]:""}`,children:t})})})},khe=()=>{const[t,e]=U.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[n,r]=U.useState(null),[i,o]=U.useState("capture"),[a,l]=U.useState(!1),[c,f]=U.useState(""),[h,p]=U.useState(null),[y,_]=U.useState("info"),[w,E]=U.useState(null),v=U.useRef(null),P=U.useRef(null),A=(I,z="info")=>{f(I),_(z)};U.useEffect(()=>()=>{h&&h.abort()},[h]);const N=I=>{const z=I.target.files[0];r(z)},D=I=>{o(I),r(null),v.current&&(v.current.value=""),P.current&&(P.current.value="")},O=async()=>{try{const I=await OD(Ohe,t.email,t.upass);return await RD(I.user),I.user}catch(I){switch(I.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw I}}},M=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const I=new NDEFReader;p(I),await I.scan();const z=await new Promise((G,Q)=>{const te=async X=>{try{const ie=X.serialNumber;if(!await F(ie)){Q(new Error("Unauthorized NFC tag"));return}I.removeEventListener("reading",te),G(ie)}catch(ie){Q(ie)}};I.addEventListener("reading",te),setTimeout(()=>{I.removeEventListener("reading",te),Q(new Error("NFC tag read timeout"))},3e4)});return E(z),A("NFC tag detected successfully","success"),z}catch(I){throw A(I.message,"error"),I}finally{h&&(h.abort(),p(null))}},C=async()=>{const I=Ni(),z=Ya();try{await Hf(I),console.log("User signed out successfully"),setTimeout(()=>{z("/login")},2e3)}catch(G){console.error("Error signing out:",G)}},R=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const I=t.email.replace(/[@.]/g,"_"),z=_n(Che,`users/${I}/profile/${n.name}`),G=await Oa(z,n),Q=await Yi(G.ref);return A("Selfie uploaded successfully!","success"),Q}catch(I){throw A("Failed to upload selfie: "+I.message,"error"),I}},j=async()=>{try{l(!0);const I=await R();A("Saving your registration details...","info");const G={...t,nfcSerialNumber:w,selfieUrl:I,position:"Teacher",createdAt:AS()},Q=await Yg(yt(PM,"RegisteredTeacher"),G);await tu(Q,{currentnfcId:Q.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Q.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const X=await O();return await tu(Q,{firebaseUserId:X.uid}),A("Registration completed! Please check your email for verification.","success"),await C(),setTimeout(()=>{A(""),L()},5e3),Q.id}catch(I){console.error("Registration Error:",I);let z="Registration failed: ";throw I.code==="auth/email-already-in-use"?z="This email is already registered. Please use a different email.":I.code==="not-found"?z="NFC tag not found. Please try again.":I.code==="network-error"?z="Network connection issue. Please check your internet connection.":z+=I.message,A(z,"error"),I}finally{l(!1)}},F=async I=>{try{const z=Da(PM,"Toregistered",I);return(await xS(z)).exists()}catch(z){return console.error("NFC Authorization Check Error:",z),!1}},L=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async I=>{if(I.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await M(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await j()}catch(z){console.error("Registration Error:",z),A("Registration process failed: "+z.message,"error")}};return x.jsxs("div",{className:Gr.container,children:[x.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||c)&&x.jsx(Rhe,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),x.jsxs("form",{onSubmit:V,className:Gr.form,children:[x.jsx("input",{type:"text",placeholder:"Teacher Name",value:t.name,onChange:I=>e({...t,name:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:I=>e({...t,email:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Teacher ID",value:t.teacherId,onChange:I=>e({...t,teacherId:I.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:I=>e({...t,upass:I.target.value}),required:!0,disabled:a}),x.jsxs("select",{value:t.campus,onChange:I=>e({...t,campus:I.target.value}),required:!0,disabled:a,children:[x.jsx("option",{value:"",children:"Select Campus"}),x.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),x.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),x.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),x.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),x.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),x.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),x.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),x.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),x.jsxs("div",{className:Gr.uploadOptionContainer,children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>D("capture"),disabled:a}),"Capture Selfie"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>D("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:v,onChange:N,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>v.current.click(),className:En.buttons,disabled:a,children:"Take Profile Picture"})]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:P,onChange:N,accept:"image/*",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>P.current.click(),className:En.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&x.jsxs("p",{children:["Selected Image: ",n.name,x.jsx("button",{type:"button",onClick:()=>r(null),className:Gr.clearImageButton,disabled:a,children:"Clear"})]}),x.jsx("button",{type:"submit",className:`${En.buttons} ${a?"animate-pulse":""}`,disabled:!t.teacherId||!n||a||!("NDEFReader"in window),children:w?"Complete Registration":"Scan NFC Tag"})]})]})},Nhe="_registeredUsersContainer_jvvnk_1",jhe="_header_jvvnk_9",Mhe="_tableContainer_jvvnk_39",Dhe="_usersTable_jvvnk_47",Lhe="_actionButtons_jvvnk_93",$he="_viewLogsButton_jvvnk_123",Fhe="_editButton_jvvnk_139",Vhe="_deleteButton_jvvnk_155",Uhe="_loadingContainer_jvvnk_171",Bhe="_errorContainer_jvvnk_173",qhe="_noUsersContainer_jvvnk_175",zhe="_modalOverlay_jvvnk_187",Whe="_modalContent_jvvnk_213",Hhe="_logViewerContainer_jvvnk_233",Ghe="_logViewerHeader_jvvnk_245",Khe="_closeButton_jvvnk_271",Yhe="_logsList_jvvnk_295",Xhe="_logEntry_jvvnk_307",Qhe="_logContent_jvvnk_335",Jhe="_logLoading_jvvnk_359",Zhe="_logError_jvvnk_361",epe="_noLogsMessage_jvvnk_363",tpe="_status_jvvnk_375",npe="_slideUp_jvvnk_1",rpe="_status_command_jvvnk_407",ipe="_status_detail_jvvnk_417",$t={registeredUsersContainer:Nhe,header:jhe,tableContainer:Mhe,usersTable:Dhe,actionButtons:Lhe,viewLogsButton:$he,editButton:Fhe,deleteButton:Vhe,loadingContainer:Uhe,errorContainer:Bhe,noUsersContainer:qhe,modalOverlay:zhe,modalContent:Whe,logViewerContainer:Hhe,logViewerHeader:Ghe,closeButton:Khe,logsList:Yhe,logEntry:Xhe,logContent:Qhe,logLoading:Jhe,logError:Zhe,noLogsMessage:epe,status:tpe,slideUp:npe,status_command:rpe,status_detail:ipe},ope=({email:t,onClose:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(!0),[a,l]=U.useState(null);Ni();const c=os(),f=h=>h.replace(/[@.]/g,"_");return U.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=_n(c,`users/${p}/process_log`),w=(await wl(y)).items.map(async P=>{const A=await Yi(P),D=await(await fetch(A)).text(),O=P.name.split("/").pop();return{timestamp:O.replace(".txt",""),content:D,filename:O}}),v=(await Promise.all(w)).sort((P,A)=>A.timestamp.localeCompare(P.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?x.jsx("div",{className:$t.logLoading,children:"Loading logs..."}):a?x.jsx("div",{className:$t.logError,children:a}):x.jsxs("div",{className:$t.logViewerContainer,children:[x.jsxs("div",{className:$t.logViewerHeader,children:[x.jsxs("h2",{children:["User Activity Logs for ",t]}),x.jsx("button",{onClick:e,className:$t.closeButton,children:x.jsx(Fd,{size:24})})]}),n.length===0?x.jsx("p",{className:$t.noLogsMessage,children:"No logs found"}):x.jsx("div",{className:$t.logsList,children:n.map((h,p)=>x.jsxs("div",{className:$t.logEntry,children:[x.jsxs("h3",{children:["Log from ",h.timestamp]}),x.jsx("pre",{className:$t.logContent,children:h.content})]},p))})]})},ape=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null),[a,l]=U.useState(null),[c,f]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const E=ti(),P=(await Nt(yt(E,"RegisteredTeacher"))).docs.map(A=>({id:A.id,...A.data()}));e(P),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=w=>{l(w),f(!0)},p=w=>{console.log("Edit teacher:",w)},y=w=>{console.log("Delete teacher:",w)},_=()=>{f(!1),l(null)};return n?x.jsx("div",{className:$t.loadingContainer,children:"Loading teachers..."}):i?x.jsx("div",{className:$t.errorContainer,children:i}):x.jsxs("div",{className:$t.registeredUsersContainer,children:[x.jsxs("div",{className:$t.header,children:[x.jsx(Ta,{size:24}),x.jsx("h2",{children:"Registered Teachers"})]}),x.jsx("div",{className:$t.tableContainer,children:x.jsxs("table",{className:$t.usersTable,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Teacher ID"}),x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Email"}),x.jsx("th",{children:"NFC CARD"}),x.jsx("th",{children:"Campus"}),x.jsx("th",{children:"Date Added"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:t.map(w=>x.jsxs("tr",{className:$t.teacherRow,children:[x.jsx("td",{children:w.teacherId}),x.jsx("td",{children:w.name}),x.jsx("td",{children:w.email}),x.jsx("td",{children:w.currentnfcId}),x.jsx("td",{children:w.campus}),x.jsx("td",{children:new Date(w.createdAt*1e3).toLocaleString()}),x.jsx("td",{children:x.jsxs("div",{className:$t.actionButtons,children:[x.jsx("button",{onClick:()=>h(w),className:$t.viewLogsButton,title:"View Logs",children:x.jsx(zM,{size:18})}),x.jsx("button",{onClick:()=>p(w),className:$t.editButton,title:"Edit",children:x.jsx(GM,{size:18})}),x.jsx("button",{onClick:()=>y(w),className:$t.deleteButton,title:"Delete",children:x.jsx(KM,{size:18})})]})})]},w.id))})]})}),t.length===0&&x.jsx("div",{className:$t.noUsersContainer,children:"No registered teachers found."}),c&&a&&x.jsx("div",{className:$t.modalOverlay,children:x.jsx("div",{className:$t.modalContent,children:x.jsx(ope,{email:a.email,onClose:_})})})]})},spe="_registeredUsersContainer_lqxan_1",upe="_header_lqxan_9",lpe="_tableContainer_lqxan_39",cpe="_usersTable_lqxan_47",fpe="_actionButtons_lqxan_93",dpe="_viewLogsButton_lqxan_123",hpe="_editButton_lqxan_139",ppe="_deleteButton_lqxan_155",mpe="_loadingContainer_lqxan_171",gpe="_errorContainer_lqxan_173",ype="_noUsersContainer_lqxan_175",vpe="_modalOverlay_lqxan_187",_pe="_modalContent_lqxan_213",wpe="_logViewerContainer_lqxan_233",bpe="_logViewerHeader_lqxan_245",Epe="_closeButton_lqxan_271",xpe="_logsList_lqxan_295",Spe="_logEntry_lqxan_307",Tpe="_logContent_lqxan_335",Ape="_logLoading_lqxan_357",Ppe="_logError_lqxan_359",Ipe="_noLogsMessage_lqxan_361",Cpe="_status_lqxan_373",Ope="_slideUp_lqxan_1",Rpe="_status_command_lqxan_405",kpe="_status_detail_lqxan_415",Ft={registeredUsersContainer:spe,header:upe,tableContainer:lpe,usersTable:cpe,actionButtons:fpe,viewLogsButton:dpe,editButton:hpe,deleteButton:ppe,loadingContainer:mpe,errorContainer:gpe,noUsersContainer:ype,modalOverlay:vpe,modalContent:_pe,logViewerContainer:wpe,logViewerHeader:bpe,closeButton:Epe,logsList:xpe,logEntry:Spe,logContent:Tpe,logLoading:Ape,logError:Ppe,noLogsMessage:Ipe,status:Cpe,slideUp:Ope,status_command:Rpe,status_detail:kpe},Npe=({email:t,onClose:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(!0),[a,l]=U.useState(null);Ni();const c=os(),f=h=>h.replace(/[@.]/g,"_");return U.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=_n(c,`users/${p}/process_log`),w=(await wl(y)).items.map(async P=>{const A=await Yi(P),D=await(await fetch(A)).text(),O=P.name.split("/").pop();return{timestamp:O.replace(".txt",""),content:D,filename:O}}),v=(await Promise.all(w)).sort((P,A)=>A.timestamp.localeCompare(P.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?x.jsx("div",{className:Ft.loadingContainer,children:"Loading teachers..."}):a?x.jsx("div",{className:Ft.errorContainer,children:a}):x.jsxs("div",{className:Ft.logViewerContainer,children:[x.jsxs("div",{className:Ft.logViewerHeader,children:[x.jsxs("h2",{children:["User Activity Logs for ",t]}),x.jsx("button",{onClick:e,className:Ft.closeButton,children:x.jsx(Fd,{size:24})})]}),n.length===0?x.jsx("p",{className:Ft.noLogsMessage,children:"No logs found"}):x.jsx("div",{className:Ft.logsList,children:n.map((h,p)=>x.jsxs("div",{className:Ft.logEntry,children:[x.jsxs("h3",{children:["Log from ",h.timestamp]}),x.jsx("pre",{className:Ft.logContent,children:h.content})]},p))})]})},jpe=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null),[a,l]=U.useState(null),[c,f]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const E=ti(),P=(await Nt(yt(E,"RegisteredStudent"))).docs.map(A=>({id:A.id,...A.data()}));setTimeout(()=>e(P),1e3),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=w=>{l(w),f(!0)},p=w=>{console.log("Edit student:",w)},y=w=>{console.log("Delete teacher:",w)},_=()=>{f(!1),l(null)};return n?x.jsx("div",{className:Ft.loadingContainer,children:"Loading teachers..."}):i?x.jsx("div",{className:Ft.errorContainer,children:i}):x.jsxs("div",{className:Ft.registeredUsersContainer,children:[x.jsxs("div",{className:Ft.header,children:[x.jsx(Ta,{size:24}),x.jsx("h2",{children:"Registered Student"})]}),x.jsx("div",{className:Ft.tableContainer,children:x.jsxs("table",{className:Ft.usersTable,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Student ID"}),x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Email"}),x.jsx("th",{children:"NFC CARD"}),x.jsx("th",{children:"Campus"}),x.jsx("th",{children:"Date Added"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:t.map(w=>x.jsxs("tr",{className:Ft.studentRow,children:[x.jsx("td",{children:w.studentId}),x.jsx("td",{children:w.name}),x.jsx("td",{children:w.email}),x.jsx("td",{children:w.currentnfcId}),x.jsx("td",{children:w.campus}),x.jsx("td",{children:new Date(w.createdAt*1e3).toLocaleString()}),x.jsx("td",{children:x.jsxs("div",{className:Ft.actionButtons,children:[x.jsx("button",{onClick:()=>h(w),className:Ft.viewLogsButton,title:"View Logs",children:x.jsx(zM,{size:18})}),x.jsx("button",{onClick:()=>p(w),className:Ft.editButton,title:"Edit",children:x.jsx(GM,{size:18})}),x.jsx("button",{onClick:()=>y(w),className:Ft.deleteButton,title:"Delete",children:x.jsx(KM,{size:18})})]})})]},w.id))})]})}),t.length===0&&x.jsx("div",{className:Ft.noUsersContainer,children:"No registered students found."}),c&&a&&x.jsx("div",{className:Ft.modalOverlay,children:x.jsx("div",{className:Ft.modalContent,children:x.jsx(Npe,{email:a.email,onClose:_})})})]})},Mpe="_formOverlay_1m6rs_3",Dpe="_visible_1m6rs_3",Lpe="_composeWrapper_1m6rs_11",$pe="_minimized_1m6rs_39",Fpe="_composeHeader_1m6rs_47",Vpe="_headerTitle_1m6rs_65",Upe="_closeButton_1m6rs_77",Bpe="_closeIcon_1m6rs_101",qpe="_mainContent_1m6rs_113",zpe="_sidebar_1m6rs_125",Wpe="_sidebarMenu_1m6rs_139",Hpe="_menuItem_1m6rs_153",Gpe="_active_1m6rs_191",Kpe="_contentArea_1m6rs_201",Ype="_messageList_1m6rs_213",Xpe="_messageItem_1m6rs_221",Qpe="_unread_1m6rs_241",Jpe="_messagePreview_1m6rs_249",Zpe="_sender_1m6rs_261",eme="_subject_1m6rs_271",tme="_timestamp_1m6rs_279",nme="_messageSnippet_1m6rs_289",rme="_messageView_1m6rs_299",ime="_messageHeader_1m6rs_307",ome="_messageDate_1m6rs_327",ame="_messageMeta_1m6rs_337",sme="_messageBody_1m6rs_353",ume="_composeForm_1m6rs_363",lme="_formGroup_1m6rs_371",cme="_formInput_1m6rs_379",fme="_messageInput_1m6rs_405",dme="_formFooter_1m6rs_435",hme="_footerActions_1m6rs_449",pme="_sendButton_1m6rs_461",mme="_attachButton_1m6rs_493",gme="_fileInput_1m6rs_517",yme="_attachmentName_1m6rs_525",vme="_noMessages_1m6rs_535",_me="_hamburgerMenu_1m6rs_547",wme="_sidebarMobile_1m6rs_593",bme="_composeBtn_1m6rs_797",Be={formOverlay:Mpe,visible:Dpe,composeWrapper:Lpe,minimized:$pe,composeHeader:Fpe,headerTitle:Vpe,closeButton:Upe,closeIcon:Bpe,mainContent:qpe,sidebar:zpe,sidebarMenu:Wpe,menuItem:Hpe,active:Gpe,contentArea:Kpe,messageList:Ype,messageItem:Xpe,unread:Qpe,messagePreview:Jpe,sender:Zpe,subject:eme,timestamp:tme,messageSnippet:nme,messageView:rme,messageHeader:ime,messageDate:ome,messageMeta:ame,messageBody:sme,composeForm:ume,formGroup:lme,formInput:cme,messageInput:fme,formFooter:dme,footerActions:hme,sendButton:pme,attachButton:mme,fileInput:gme,attachmentName:yme,noMessages:vme,hamburgerMenu:_me,sidebarMobile:wme,composeBtn:bme},Eme=({onClose:t})=>{const[e,n]=U.useState(!1),[r,i]=U.useState(!1),[o,a]=U.useState([]),[l,c]=U.useState([]),[f,h]=U.useState([]),[p,y]=U.useState(null),[_,w]=U.useState("inbox"),[E,v]=U.useState(!1),[P,A]=U.useState({to:"",subject:"",message:"",attachment:null}),N=ti(),D=Ni();U.useEffect(()=>{O()},[_]);const O=async()=>{try{const I=D.currentUser;if(!I)return;const z=yt(N,"Messages"),G=cn(z,kn("sendTo","==",I.email)),Q=await Nt(G),te=[];Q.forEach(W=>{te.push({id:W.id,...W.data()})});const X=cn(z,kn("sender","==",I.email)),ie=await Nt(X),ne=[];ie.forEach(W=>{ne.push({id:W.id,...W.data()})}),te.sort((W,Y)=>{var le,be;return((le=Y.timestamp)==null?void 0:le.toMillis())-((be=W.timestamp)==null?void 0:be.toMillis())}),ne.sort((W,Y)=>{var le,be;return((le=Y.timestamp)==null?void 0:le.toMillis())-((be=W.timestamp)==null?void 0:be.toMillis())}),c(te),h(ne),a(_==="inbox"?te:ne)}catch(I){console.error("Error fetching messages:",I)}},M=I=>{w(I),i(!1),y(null),a(I==="inbox"?l:f)},C=async I=>{try{const z=Da(N,"Messages",I);await tu(z,{read:!0}),console.log("Message marked as read")}catch(z){console.error("Error updating message:",z)}},R=async I=>{I.preventDefault();try{const z=D.currentUser;if(!z)return;await Yg(yt(N,"Messages"),{sendTo:P.to,subject:P.subject,message:P.message,sender:z.email,timestamp:AS(),read:!1}),A({to:"",subject:"",message:"",attachment:null}),i(!1),O()}catch(z){console.error("Error sending message:",z)}},j=I=>{const{name:z,value:G}=I.target;A(Q=>({...Q,[z]:G}))},F=I=>{A(z=>({...z,attachment:I.target.files[0]}))},L=I=>{if(!I)return"";const z=I.toDate();return z.toLocaleDateString()+" "+z.toLocaleTimeString()},V=()=>{v(!E)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`${Be.formOverlay} ${e?"":Be.visible}`,onClick:t}),x.jsxs("div",{className:`${Be.composeWrapper} ${e?Be.minimized:""}`,children:[x.jsxs("div",{className:Be.composeHeader,children:[x.jsx("h2",{className:Be.headerTitle,children:"Messages"}),x.jsx("button",{className:Be.hamburgerMenu,onClick:V,children:x.jsx(HM,{})})]}),x.jsxs("div",{className:Be.mainContent,children:[x.jsxs("div",{className:`${Be.sidebar} ${E?Be.sidebarMobile:""}`,children:[x.jsxs("button",{className:En.buttons,onClick:()=>{i(!0),y(null),v(!1)},children:[x.jsx(Tx,{})," Compose"]}),x.jsxs("div",{className:Be.sidebarMenu,children:[x.jsxs("button",{className:`${Be.menuItem} ${_==="inbox"&&!r?Be.active:""}`,onClick:()=>M("inbox"),children:[x.jsx(bq,{})," Inbox (",l.length,")"]}),x.jsxs("button",{className:`${Be.menuItem} ${_==="sent"&&!r?Be.active:""}`,onClick:()=>M("sent"),children:[x.jsx(yq,{})," Sent (",f.length,")"]})]})]}),x.jsx("div",{className:Be.contentArea,children:r?x.jsxs("form",{onSubmit:R,className:Be.composeForm,children:[x.jsx("div",{className:Be.formGroup,children:x.jsx("input",{type:"email",name:"to",value:P.to,onChange:j,placeholder:"To",className:Be.formInput,required:!0})}),x.jsx("div",{className:Be.formGroup,children:x.jsx("input",{type:"text",name:"subject",value:P.subject,onChange:j,placeholder:"Subject",className:Be.formInput,required:!0})}),x.jsx("div",{className:Be.formGroup,children:x.jsx("textarea",{name:"message",value:P.message,onChange:j,placeholder:"Write your request here...",className:Be.messageInput,required:!0})}),x.jsxs("div",{className:Be.formFooter,children:[x.jsxs("div",{className:Be.footerActions,children:[x.jsxs("button",{type:"submit",className:Be.sendButton,children:[x.jsx(Pq,{className:Be.sendIcon}),"Send"]}),x.jsxs("label",{className:Be.attachButton,children:[x.jsx("input",{type:"file",onChange:F,className:Be.fileInput}),x.jsx(Tq,{className:Be.attachIcon})]})]}),P.attachment&&x.jsx("span",{className:Be.attachmentName,children:P.attachment.name})]})]}):p?x.jsxs("div",{className:Be.messageView,children:[x.jsxs("div",{className:Be.messageHeader,children:[x.jsx("h3",{children:p.subject}),x.jsx("span",{className:Be.messageDate,children:L(p.timestamp)})]}),x.jsxs("div",{className:Be.messageMeta,children:[x.jsxs("span",{children:["From: ",p.sender]}),x.jsxs("span",{children:["To: ",p.sendTo]})]}),x.jsx("div",{className:Be.messageBody,children:p.message})]}):x.jsxs("div",{className:Be.messageList,children:[o.map(I=>x.jsxs("div",{className:`${Be.messageItem} ${!I.read&&_==="inbox"?Be.unread:""}`,onClick:()=>{y(I),_==="inbox"&&C(I.id)},children:[x.jsxs("div",{className:Be.messagePreview,children:[x.jsx("span",{className:Be.sender,children:_==="inbox"?I.sender:I.sendTo}),x.jsx("span",{className:Be.subject,children:I.subject}),x.jsx("span",{className:Be.timestamp,children:L(I.timestamp)})]}),x.jsxs("div",{className:Be.messageSnippet,children:[I.message.substring(0,100),"..."]})]},I.id)),o.length===0&&x.jsxs("div",{className:Be.noMessages,children:["No messages in your ",_]})]})})]})]})]})},xme="_nfc_container_84fkd_3",Sme="_network_header_84fkd_15",Tme="_network_stats_84fkd_31",Ame="_stat_card_84fkd_43",Pme="_stat_value_84fkd_57",Ime="_active_84fkd_71",Cme="_has_event_84fkd_79",Ome="_server_section_84fkd_87",Rme="_server_icon_84fkd_97",kme="_server_status_84fkd_111",Nme="_scanners_grid_84fkd_123",jme="_scanner_card_84fkd_137",Mme="_inactive_84fkd_161",Dme="_scanner_icon_84fkd_171",Lme="_status_icon_84fkd_183",$me="_scanner_info_84fkd_207",Fme="_scanner_id_84fkd_217",Vme="_scanner_status_84fkd_229",mt={nfc_container:xme,network_header:Sme,network_stats:Tme,stat_card:Ame,stat_value:Pme,active:Ime,has_event:Cme,server_section:Ome,server_icon:Rme,server_status:kme,scanners_grid:Nme,scanner_card:jme,inactive:Mme,scanner_icon:Dme,status_icon:Lme,scanner_info:$me,scanner_id:Fme,scanner_status:Vme},Ume={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};Xa(Ume);const IM=ti(),Bme=()=>{const[t,e]=U.useState([]),[n,r]=U.useState([]),[i,o]=U.useState([]);return U.useEffect(()=>{const a=cn(yt(IM,"ScannerDevices")),l=cn(yt(IM,"PendingEvent")),c=X1(a,h=>{const p=h.docs.map(y=>({id:y.id,uniqueId:y.data().Unique_id,name:y.data().name||`Scanner-${y.data().Unique_id}`,isActivated:y.data().isActivated||!1,lastPing:new Date}));e(p)}),f=X1(l,h=>{const p=h.docs.map(y=>({id:y.id,selectedEsp32:y.data().selectedEsp32}));r(p)});return()=>{c(),f()}},[]),U.useEffect(()=>{const a=t.map(l=>({...l,hasEvent:n.some(c=>c.selectedEsp32===l.uniqueId)}));o(a)},[t,n]),x.jsxs("div",{className:mt.nfc_container,children:[x.jsxs("div",{className:mt.network_header,children:[x.jsx("h1",{children:"NFC Scanner Network Status"}),x.jsxs("div",{className:mt.network_stats,children:[x.jsxs("div",{className:mt.stat_card,children:[x.jsx("h3",{children:"Active Scanners"}),x.jsx("span",{className:`${mt.stat_value} ${mt.active}`,children:i.filter(a=>a.isActivated).length})]}),x.jsxs("div",{className:mt.stat_card,children:[x.jsx("h3",{children:"Total Scanners"}),x.jsx("span",{className:mt.stat_value,children:i.length})]}),x.jsxs("div",{className:mt.stat_card,children:[x.jsx("h3",{children:"With Events"}),x.jsx("span",{className:`${mt.stat_value} ${mt.has_event}`,children:i.filter(a=>a.hasEvent).length})]})]})]}),x.jsx("div",{className:mt.server_section,children:x.jsxs("div",{className:mt.server_icon,children:[x.jsx(Iq,{size:48}),x.jsx("span",{children:"Web Server"}),x.jsx("span",{className:mt.server_status,children:"Online"})]})}),x.jsx("div",{className:mt.scanners_grid,children:i.map(a=>x.jsxs("div",{className:`${mt.scanner_card} ${a.hasEvent?mt.has_event:""} ${a.isActivated?"":mt.inactive}`,children:[x.jsxs("div",{className:mt.scanner_icon,children:[x.jsx(mq,{size:32}),a.isActivated?x.jsx(kq,{className:`${mt.status_icon} ${mt.active}`,size:16}):x.jsx(Rq,{className:`${mt.status_icon} ${mt.inactive}`,size:16})]}),x.jsxs("div",{className:mt.scanner_info,children:[x.jsx("h3",{children:a.name}),x.jsx("p",{className:mt.scanner_id,children:a.uniqueId}),x.jsx("p",{className:`${mt.scanner_status} ${a.hasEvent?mt.has_event:a.isActivated?mt.active:mt.inactive}`,children:a.hasEvent?"Has Pending Event":a.isActivated?"Active":"Inactive"})]})]},a.id))})]})};function qme(){return x.jsx($4,{children:x.jsx(h3,{children:x.jsxs(qB,{children:[x.jsx(Jn,{path:"/",element:x.jsx(tI,{to:"/login",replace:!0})}),x.jsx(Jn,{path:"/login",element:x.jsx(ife,{})}),x.jsxs(Jn,{path:"/dashboard/*",element:x.jsx(tue,{}),children:[x.jsx(Jn,{path:"create-event",element:x.jsx(Zle,{})}),x.jsx(Jn,{path:"registered-teachers",element:x.jsx(ape,{})}),x.jsx(Jn,{path:"registered-students",element:x.jsx(jpe,{})}),x.jsx(Jn,{path:"teacher-registration",element:x.jsx(khe,{})}),x.jsx(Jn,{path:"student-registration",element:x.jsx(_ce,{})}),x.jsx(Jn,{path:"nfc-reader",element:x.jsx(Dce,{})}),x.jsx(Jn,{path:"event-list",element:x.jsx(Pfe,{})}),x.jsx(Jn,{path:"request-message",element:x.jsx(Eme,{})}),x.jsx(Jn,{path:"nfc-scanner",element:x.jsx(Bme,{})}),x.jsx(Jn,{path:"file-manager",element:x.jsx(che,{})})]}),x.jsx(Jn,{path:"*",element:x.jsx(tI,{to:"/login",replace:!0})})]})})})}const zme=document.getElementById("root"),Wme=XU.createRoot(zme);Wme.render(x.jsx(qme,{}));
