(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var gf={exports:{}},gl={},_f={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function DT(){if(b_)return Ve;b_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function I(B){return B===null||typeof B!="object"?null:(B=S&&B[S]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function N(B,J,ye){this.props=B,this.context=J,this.refs=O,this.updater=ye||b}N.prototype.isReactComponent={},N.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=N.prototype;function V(B,J,ye){this.props=B,this.context=J,this.refs=O,this.updater=ye||b}var K=V.prototype=new U;K.constructor=V,A(K,N.prototype),K.isPureReactComponent=!0;var Y=Array.isArray,X=Object.prototype.hasOwnProperty,ue={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(B,J,ye){var Le,Oe={},Me=null,Fe=null;if(J!=null)for(Le in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(Me=""+J.key),J)X.call(J,Le)&&!D.hasOwnProperty(Le)&&(Oe[Le]=J[Le]);var Q=arguments.length-2;if(Q===1)Oe.children=ye;else if(1<Q){for(var le=Array(Q),Ie=0;Ie<Q;Ie++)le[Ie]=arguments[Ie+2];Oe.children=le}if(B&&B.defaultProps)for(Le in Q=B.defaultProps,Q)Oe[Le]===void 0&&(Oe[Le]=Q[Le]);return{$$typeof:n,type:B,key:Me,ref:Fe,props:Oe,_owner:ue.current}}function k(B,J){return{$$typeof:n,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function M(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return J[ye]})}var F=/\/+/g;function T(B,J){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):J.toString(36)}function oe(B,J,ye,Le,Oe){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var Fe=!1;if(B===null)Fe=!0;else switch(Me){case"string":case"number":Fe=!0;break;case"object":switch(B.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=B,Oe=Oe(Fe),B=Le===""?"."+T(Fe,0):Le,Y(Oe)?(ye="",B!=null&&(ye=B.replace(F,"$&/")+"/"),oe(Oe,J,ye,"",function(Ie){return Ie})):Oe!=null&&(P(Oe)&&(Oe=k(Oe,ye+(!Oe.key||Fe&&Fe.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+B)),J.push(Oe)),1;if(Fe=0,Le=Le===""?".":Le+":",Y(B))for(var Q=0;Q<B.length;Q++){Me=B[Q];var le=Le+T(Me,Q);Fe+=oe(Me,J,ye,le,Oe)}else if(le=I(B),typeof le=="function")for(B=le.call(B),Q=0;!(Me=B.next()).done;)Me=Me.value,le=Le+T(Me,Q++),Fe+=oe(Me,J,ye,le,Oe);else if(Me==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ne(B,J,ye){if(B==null)return B;var Le=[],Oe=0;return oe(B,Le,"","",function(Me){return J.call(ye,Me,Oe++)}),Le}function we(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Te={current:null},ie={transition:null},he={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ue};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ne,forEach:function(B,J,ye){Ne(B,function(){J.apply(this,arguments)},ye)},count:function(B){var J=0;return Ne(B,function(){J++}),J},toArray:function(B){return Ne(B,function(J){return J})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ve.Component=N,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=V,Ve.StrictMode=i,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ve.act=ce,Ve.cloneElement=function(B,J,ye){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Le=A({},B.props),Oe=B.key,Me=B.ref,Fe=B._owner;if(J!=null){if(J.ref!==void 0&&(Me=J.ref,Fe=ue.current),J.key!==void 0&&(Oe=""+J.key),B.type&&B.type.defaultProps)var Q=B.type.defaultProps;for(le in J)X.call(J,le)&&!D.hasOwnProperty(le)&&(Le[le]=J[le]===void 0&&Q!==void 0?Q[le]:J[le])}var le=arguments.length-2;if(le===1)Le.children=ye;else if(1<le){Q=Array(le);for(var Ie=0;Ie<le;Ie++)Q[Ie]=arguments[Ie+2];Le.children=Q}return{$$typeof:n,type:B.type,key:Oe,ref:Me,props:Le,_owner:Fe}},Ve.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ve.createElement=R,Ve.createFactory=function(B){var J=R.bind(null,B);return J.type=B,J},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(B){return{$$typeof:h,render:B}},Ve.isValidElement=P,Ve.lazy=function(B){return{$$typeof:w,_payload:{_status:-1,_result:B},_init:we}},Ve.memo=function(B,J){return{$$typeof:_,type:B,compare:J===void 0?null:J}},Ve.startTransition=function(B){var J=ie.transition;ie.transition={};try{B()}finally{ie.transition=J}},Ve.unstable_act=ce,Ve.useCallback=function(B,J){return Te.current.useCallback(B,J)},Ve.useContext=function(B){return Te.current.useContext(B)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(B){return Te.current.useDeferredValue(B)},Ve.useEffect=function(B,J){return Te.current.useEffect(B,J)},Ve.useId=function(){return Te.current.useId()},Ve.useImperativeHandle=function(B,J,ye){return Te.current.useImperativeHandle(B,J,ye)},Ve.useInsertionEffect=function(B,J){return Te.current.useInsertionEffect(B,J)},Ve.useLayoutEffect=function(B,J){return Te.current.useLayoutEffect(B,J)},Ve.useMemo=function(B,J){return Te.current.useMemo(B,J)},Ve.useReducer=function(B,J,ye){return Te.current.useReducer(B,J,ye)},Ve.useRef=function(B){return Te.current.useRef(B)},Ve.useState=function(B){return Te.current.useState(B)},Ve.useSyncExternalStore=function(B,J,ye){return Te.current.useSyncExternalStore(B,J,ye)},Ve.useTransition=function(){return Te.current.useTransition()},Ve.version="18.3.1",Ve}var D_;function hp(){return D_||(D_=1,_f.exports=DT()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function LT(){if(L_)return gl;L_=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,_){var w,S={},I=null,b=null;_!==void 0&&(I=""+_),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(b=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(S[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)S[w]===void 0&&(S[w]=p[w]);return{$$typeof:e,type:h,key:I,ref:b,props:S,_owner:o.current}}return gl.Fragment=t,gl.jsx=c,gl.jsxs=c,gl}var O_;function OT(){return O_||(O_=1,gf.exports=LT()),gf.exports}var y=OT(),L=hp(),Rc={},yf={exports:{}},yn={},vf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function MT(){return M_||(M_=1,function(n){function e(ie,he){var ce=ie.length;ie.push(he);e:for(;0<ce;){var B=ce-1>>>1,J=ie[B];if(0<o(J,he))ie[B]=he,ie[ce]=J,ce=B;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var he=ie[0],ce=ie.pop();if(ce!==he){ie[0]=ce;e:for(var B=0,J=ie.length,ye=J>>>1;B<ye;){var Le=2*(B+1)-1,Oe=ie[Le],Me=Le+1,Fe=ie[Me];if(0>o(Oe,ce))Me<J&&0>o(Fe,Oe)?(ie[B]=Fe,ie[Me]=ce,B=Me):(ie[B]=Oe,ie[Le]=ce,B=Le);else if(Me<J&&0>o(Fe,ce))ie[B]=Fe,ie[Me]=ce,B=Me;else break e}}return he}function o(ie,he){var ce=ie.sortIndex-he.sortIndex;return ce!==0?ce:ie.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],_=[],w=1,S=null,I=3,b=!1,A=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var he=t(_);he!==null;){if(he.callback===null)i(_);else if(he.startTime<=ie)i(_),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(_)}}function Y(ie){if(O=!1,K(ie),!A)if(t(p)!==null)A=!0,we(X);else{var he=t(_);he!==null&&Te(Y,he.startTime-ie)}}function X(ie,he){A=!1,O&&(O=!1,U(R),R=-1),b=!0;var ce=I;try{for(K(he),S=t(p);S!==null&&(!(S.expirationTime>he)||ie&&!M());){var B=S.callback;if(typeof B=="function"){S.callback=null,I=S.priorityLevel;var J=B(S.expirationTime<=he);he=n.unstable_now(),typeof J=="function"?S.callback=J:S===t(p)&&i(p),K(he)}else i(p);S=t(p)}if(S!==null)var ye=!0;else{var Le=t(_);Le!==null&&Te(Y,Le.startTime-he),ye=!1}return ye}finally{S=null,I=ce,b=!1}}var ue=!1,D=null,R=-1,k=5,P=-1;function M(){return!(n.unstable_now()-P<k)}function F(){if(D!==null){var ie=n.unstable_now();P=ie;var he=!0;try{he=D(!0,ie)}finally{he?T():(ue=!1,D=null)}}else ue=!1}var T;if(typeof V=="function")T=function(){V(F)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ne=oe.port2;oe.port1.onmessage=F,T=function(){Ne.postMessage(null)}}else T=function(){N(F,0)};function we(ie){D=ie,ue||(ue=!0,T())}function Te(ie,he){R=N(function(){ie(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){A||b||(A=!0,we(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var ce=I;I=he;try{return ie()}finally{I=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ce=I;I=ie;try{return he()}finally{I=ce}},n.unstable_scheduleCallback=function(ie,he,ce){var B=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?B+ce:B):ce=B,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ce+J,ie={id:w++,callback:he,priorityLevel:ie,startTime:ce,expirationTime:J,sortIndex:-1},ce>B?(ie.sortIndex=ce,e(_,ie),t(p)===null&&ie===t(_)&&(O?(U(R),R=-1):O=!0,Te(Y,ce-B))):(ie.sortIndex=J,e(p,ie),A||b||(A=!0,we(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var he=I;return function(){var ce=I;I=he;try{return ie.apply(this,arguments)}finally{I=ce}}}}(wf)),wf}var V_;function VT(){return V_||(V_=1,vf.exports=MT()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function FT(){if(F_)return yn;F_=1;var n=hp(),e=VT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function I(r){return p.call(S,r)?!0:p.call(w,r)?!1:_.test(r)?S[r]=!0:(w[r]=!0,!1)}function b(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,s,l,d){if(s===null||typeof s>"u"||b(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,l,d,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function V(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,V);N[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,V);N[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,V);N[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,l,d){var f=N.hasOwnProperty(s)?N[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,f,d)&&(l=null),d||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ue=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,B;function J(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var ye=!1;function Le(r,s){if(!r||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){d=H}r.call(s.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=d.stack.split(`
`),E=f.length-1,x=g.length-1;1<=E&&0<=x&&f[E]!==g[x];)x--;for(;1<=E&&0<=x;E--,x--)if(f[E]!==g[x]){if(E!==1||x!==1)do if(E--,x--,0>x||f[E]!==g[x]){var j=`
`+f[E].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=E&&0<=x);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Oe(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ue:return"Portal";case k:return"Profiler";case R:return"StrictMode";case T:return"Suspense";case oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ne:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case we:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Q(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ie(r){var s=le(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function We(r){r._valueTracker||(r._valueTracker=Ie(r))}function bt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=le(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ot(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qt(r,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function jr(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Q(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fs(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function ps(r,s){fs(r,s);var l=Q(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?io(r,s.type,l):s.hasOwnProperty("defaultValue")&&io(r,s.type,Q(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function du(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function io(r,s,l){(s!=="number"||ot(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ur=Array.isArray;function $r(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Q(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Sa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function so(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ur(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Q(l)}}function oo(r,s){var l=Q(s.value),d=Q(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ca(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ct(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ct(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Br,Ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function yi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(r){gs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ms[s]=ms[r]})});function ka(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ms.hasOwnProperty(r)&&ms[r]?(""+s).trim():s+"px"}function Aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=ka(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var Pa=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(r,s){if(s){if(Pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Na(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function ao(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lo=null,Ln=null,yr=null;function uo(r){if(r=tl(r)){if(typeof lo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=$u(s),lo(r.stateNode,r.type,s))}}function vr(r){Ln?yr?yr.push(r):yr=[r]:Ln=r}function ba(){if(Ln){var r=Ln,s=yr;if(yr=Ln=null,uo(r),s)for(r=0;r<s.length;r++)uo(s[r])}}function ys(r,s){return r(s)}function Da(){}var zr=!1;function La(r,s,l){if(zr)return r(s,l);zr=!0;try{return ys(r,s,l)}finally{zr=!1,(Ln!==null||yr!==null)&&(Da(),ba())}}function yt(r,s){var l=r.stateNode;if(l===null)return null;var d=$u(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var co=!1;if(h)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){co=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{co=!1}function vs(r,s,l,d,f,g,E,x,j){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(ne){this.onError(ne)}}var ws=!1,ho=null,Qn=!1,Oa=null,zd={onError:function(r){ws=!0,ho=r}};function fo(r,s,l,d,f,g,E,x,j){ws=!1,ho=null,vs.apply(zd,arguments)}function hu(r,s,l,d,f,g,E,x,j){if(fo.apply(this,arguments),ws){if(ws){var H=ho;ws=!1,ho=null}else throw Error(t(198));Qn||(Qn=!0,Oa=H)}}function Yn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Es(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Xn(r){if(Yn(r)!==r)throw Error(t(188))}function fu(r){var s=r.alternate;if(!s){if(s=Yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Xn(f),r;if(g===d)return Xn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var E=!1,x=f.child;x;){if(x===l){E=!0,l=f,d=g;break}if(x===d){E=!0,d=f,l=g;break}x=x.sibling}if(!E){for(x=g.child;x;){if(x===l){E=!0,l=g,d=f;break}if(x===d){E=!0,d=g,l=f;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ma(r){return r=fu(r),r!==null?po(r):null}function po(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=po(r);if(s!==null)return s;r=r.sibling}return null}var mo=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,pu=e.unstable_shouldYield,qd=e.unstable_requestPaint,et=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,gu=e.unstable_IdlePriority,Is=null,In=null;function _u(r){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Is,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:vu,ja=Math.log,yu=Math.LN2;function vu(r){return r>>>=0,r===0?32:31-(ja(r)/yu|0)|0}var go=64,_o=4194304;function wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ss(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var x=E&~f;x!==0?d=wi(x):(g&=E,g!==0&&(d=wi(g)))}else E=l&~f,E!==0?d=wi(E):g!==0&&(d=wi(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-sn(s),f=1<<l,d|=r[l],s&=~f;return d}function Wd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-sn(g),x=1<<E,j=f[E];j===-1?(!(x&l)||x&d)&&(f[E]=Wd(x,s)):j<=s&&(r.expiredLanes|=x),g&=~x}}function Sn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cs(){var r=go;return go<<=1,!(go&4194240)&&(go=64),r}function Ei(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ti(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=l}function Je(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-sn(l),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Ii(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-sn(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var $e=0;function Si(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var wu,yo,Eu,Tu,Iu,Ua=!1,wr=[],Ut=null,Jn=null,Zn=null,Ci=new Map,Mn=new Map,Er=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(s.pointerId)}}function dn(r,s,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=tl(s),s!==null&&yo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Gd(r,s,l,d,f){switch(s){case"focusin":return Ut=dn(Ut,r,s,l,d,f),!0;case"dragenter":return Jn=dn(Jn,r,s,l,d,f),!0;case"mouseover":return Zn=dn(Zn,r,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return Ci.set(g,dn(Ci.get(g)||null,r,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Mn.set(g,dn(Mn.get(g)||null,r,s,l,d,f)),!0}return!1}function Cu(r){var s=xs(r.target);if(s!==null){var l=Yn(s);if(l!==null){if(s=l.tag,s===13){if(s=Es(l),s!==null){r.blockedOn=s,Iu(r.priority,function(){Eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);_s=d,l.target.dispatchEvent(d),_s=null}else return s=tl(l),s!==null&&yo(s),r.blockedOn=l,!1;s.shift()}return!0}function Rs(r,s,l){Wr(r)&&l.delete(s)}function Ru(){Ua=!1,Ut!==null&&Wr(Ut)&&(Ut=null),Jn!==null&&Wr(Jn)&&(Jn=null),Zn!==null&&Wr(Zn)&&(Zn=null),Ci.forEach(Rs),Mn.forEach(Rs)}function er(r,s){r.blockedOn===s&&(r.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function tr(r){function s(f){return er(f,r)}if(0<wr.length){er(wr[0],r);for(var l=1;l<wr.length;l++){var d=wr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Ut!==null&&er(Ut,r),Jn!==null&&er(Jn,r),Zn!==null&&er(Zn,r),Ci.forEach(s),Mn.forEach(s),l=0;l<Er.length;l++)d=Er[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)Cu(l),l.blockedOn===null&&Er.shift()}var Hr=Y.ReactCurrentBatchConfig,Ri=!0;function at(r,s,l,d){var f=$e,g=Hr.transition;Hr.transition=null;try{$e=1,$a(r,s,l,d)}finally{$e=f,Hr.transition=g}}function Kd(r,s,l,d){var f=$e,g=Hr.transition;Hr.transition=null;try{$e=4,$a(r,s,l,d)}finally{$e=f,Hr.transition=g}}function $a(r,s,l,d){if(Ri){var f=vo(r,s,l,d);if(f===null)sh(r,s,d,ks,l),Su(r,d);else if(Gd(f,r,s,l,d))d.stopPropagation();else if(Su(r,d),s&4&&-1<Hd.indexOf(r)){for(;f!==null;){var g=tl(f);if(g!==null&&wu(g),g=vo(r,s,l,d),g===null&&sh(r,s,d,ks,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else sh(r,s,d,null,l)}}var ks=null;function vo(r,s,l,d){if(ks=null,r=ao(d),r=xs(r),r!==null)if(s=Yn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Es(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ks=r,null}function Ba(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case Ts:return 1;case vi:return 4;case On:case Fa:return 16;case gu:return 536870912;default:return 16}default:return 16}}var Cn=null,wo=null,hn=null;function za(){if(hn)return hn;var r,s=wo,l=s.length,d,f="value"in Cn?Cn.value:Cn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===f[g-d];d++);return hn=f.slice(r,1<d?1-d:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function qa(){return!1}function $t(r){function s(l,d,f,g,E){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(l=r[x],this[x]=l?l(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tr:qa,this.isPropagationStopped=qa,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=$t(nr),Ir=ce({},nr,{view:0,detail:0}),Qd=$t(Ir),Io,Gr,ki,As=ce({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(Io=r.screenX-ki.screenX,Gr=r.screenY-ki.screenY):Gr=Io=0,ki=r),Io)},movementY:function(r){return"movementY"in r?r.movementY:Gr}}),So=$t(As),Wa=ce({},As,{dataTransfer:0}),ku=$t(Wa),Co=ce({},Ir,{relatedTarget:0}),Ro=$t(Co),Au=ce({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=$t(Au),Pu=ce({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xu=$t(Pu),Nu=ce({},nr,{data:0}),Ha=$t(Nu),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=bu[r])?!!s[r]:!1}function Sr(){return Du}var u=ce({},Ir,{key:function(r){if(r.key){var s=ko[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?on[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=$t(u),v=ce({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=$t(v),z=ce({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),G=$t(z),ae=ce({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=$t(ae),kt=ce({},As,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=$t(kt),Dt=[9,13,27,32],Et=h&&"CompositionEvent"in window,Vn=null;h&&"documentMode"in document&&(Vn=document.documentMode);var Rn=h&&"TextEvent"in window&&!Vn,Ps=h&&(!Et||Vn&&8<Vn&&11>=Vn),Ao=" ",Rm=!1;function km(r,s){switch(r){case"keyup":return Dt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function xE(r,s){switch(r){case"compositionend":return Am(s);case"keypress":return s.which!==32?null:(Rm=!0,Ao);case"textInput":return r=s.data,r===Ao&&Rm?null:r;default:return null}}function NE(r,s){if(Po)return r==="compositionend"||!Et&&km(r,s)?(r=za(),hn=wo=Cn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ps&&s.locale!=="ko"?null:s.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bE[r.type]:s==="textarea"}function xm(r,s,l,d){vr(d),s=Fu(s,"onChange"),0<s.length&&(l=new To("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ga=null,Ka=null;function DE(r){Km(r,0)}function Lu(r){var s=Lo(r);if(bt(s))return r}function LE(r,s){if(r==="change")return s}var Nm=!1;if(h){var Yd;if(h){var Xd="oninput"in document;if(!Xd){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Xd=typeof bm.oninput=="function"}Yd=Xd}else Yd=!1;Nm=Yd&&(!document.documentMode||9<document.documentMode)}function Dm(){Ga&&(Ga.detachEvent("onpropertychange",Lm),Ka=Ga=null)}function Lm(r){if(r.propertyName==="value"&&Lu(Ka)){var s=[];xm(s,Ka,r,ao(r)),La(DE,s)}}function OE(r,s,l){r==="focusin"?(Dm(),Ga=s,Ka=l,Ga.attachEvent("onpropertychange",Lm)):r==="focusout"&&Dm()}function ME(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(Ka)}function VE(r,s){if(r==="click")return Lu(s)}function FE(r,s){if(r==="input"||r==="change")return Lu(s)}function jE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:jE;function Qa(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!rr(r[f],s[f]))return!1}return!0}function Om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mm(r,s){var l=Om(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Om(l)}}function Vm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fm(){for(var r=window,s=ot();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ot(r.document)}return s}function Jd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function UE(r){var s=Fm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Vm(l.ownerDocument.documentElement,l)){if(d!==null&&Jd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Mm(l,g);var E=Mm(l,d);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $E=h&&"documentMode"in document&&11>=document.documentMode,xo=null,Zd=null,Ya=null,eh=!1;function jm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eh||xo==null||xo!==ot(d)||(d=xo,"selectionStart"in d&&Jd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ya&&Qa(Ya,d)||(Ya=d,d=Fu(Zd,"onSelect"),0<d.length&&(s=new To("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=xo)))}function Ou(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},th={},Um={};h&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Mu(r){if(th[r])return th[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Um)return th[r]=s[l];return r}var $m=Mu("animationend"),Bm=Mu("animationiteration"),zm=Mu("animationstart"),qm=Mu("transitionend"),Wm=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(r,s){Wm.set(r,s),a(s,[r])}for(var nh=0;nh<Hm.length;nh++){var rh=Hm[nh],BE=rh.toLowerCase(),zE=rh[0].toUpperCase()+rh.slice(1);Ai(BE,"on"+zE)}Ai($m,"onAnimationEnd"),Ai(Bm,"onAnimationIteration"),Ai(zm,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(qm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Gm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,hu(d,s,void 0,r),r.currentTarget=null}function Km(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var x=d[E],j=x.instance,H=x.currentTarget;if(x=x.listener,j!==g&&f.isPropagationStopped())break e;Gm(f,x,H),g=j}else for(E=0;E<d.length;E++){if(x=d[E],j=x.instance,H=x.currentTarget,x=x.listener,j!==g&&f.isPropagationStopped())break e;Gm(f,x,H),g=j}}}if(Qn)throw r=Oa,Qn=!1,Oa=null,r}function nt(r,s){var l=s[dh];l===void 0&&(l=s[dh]=new Set);var d=r+"__bubble";l.has(d)||(Qm(s,r,2,!1),l.add(d))}function ih(r,s,l){var d=0;s&&(d|=4),Qm(l,r,d,s)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[Vu]){r[Vu]=!0,i.forEach(function(l){l!=="selectionchange"&&(qE.has(l)||ih(l,!1,r),ih(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vu]||(s[Vu]=!0,ih("selectionchange",!1,s))}}function Qm(r,s,l,d){switch(Ba(s)){case 1:var f=at;break;case 4:f=Kd;break;default:f=$a}l=f.bind(null,s,l,r),f=void 0,!co||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function sh(r,s,l,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var x=d.stateNode.containerInfo;if(x===f||x.nodeType===8&&x.parentNode===f)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;E=E.return}for(;x!==null;){if(E=xs(x),E===null)return;if(j=E.tag,j===5||j===6){d=g=E;continue e}x=x.parentNode}}d=d.return}La(function(){var H=g,ne=ao(l),re=[];e:{var te=Wm.get(r);if(te!==void 0){var de=To,ge=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":ge="focus",de=Ro;break;case"focusout":ge="blur",de=Ro;break;case"beforeblur":case"afterblur":de=Ro;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case $m:case Bm:case zm:de=Kr;break;case qm:de=Ye;break;case"scroll":de=Qd;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var _e=(s&4)!==0,vt=!_e&&r==="scroll",q=_e?te!==null?te+"Capture":null:te;_e=[];for(var $=H,W;$!==null;){W=$;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,q!==null&&(se=yt($,q),se!=null&&_e.push(Za($,se,W)))),vt)break;$=$.return}0<_e.length&&(te=new de(te,ge,null,l,ne),re.push({event:te,listeners:_e}))}}if(!(s&7)){e:{if(te=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",te&&l!==_s&&(ge=l.relatedTarget||l.fromElement)&&(xs(ge)||ge[Qr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=H,ge=ge?xs(ge):null,ge!==null&&(vt=Yn(ge),ge!==vt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=H),de!==ge)){if(_e=So,se="onMouseLeave",q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(_e=C,se="onPointerLeave",q="onPointerEnter",$="pointer"),vt=de==null?te:Lo(de),W=ge==null?te:Lo(ge),te=new _e(se,$+"leave",de,l,ne),te.target=vt,te.relatedTarget=W,se=null,xs(ne)===H&&(_e=new _e(q,$+"enter",ge,l,ne),_e.target=W,_e.relatedTarget=vt,se=_e),vt=se,de&&ge)t:{for(_e=de,q=ge,$=0,W=_e;W;W=bo(W))$++;for(W=0,se=q;se;se=bo(se))W++;for(;0<$-W;)_e=bo(_e),$--;for(;0<W-$;)q=bo(q),W--;for(;$--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=bo(_e),q=bo(q)}_e=null}else _e=null;de!==null&&Ym(re,te,de,_e,!1),ge!==null&&vt!==null&&Ym(re,vt,ge,_e,!0)}}e:{if(te=H?Lo(H):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ve=LE;else if(Pm(te))if(Nm)ve=FE;else{ve=ME;var Se=OE}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=VE);if(ve&&(ve=ve(r,H))){xm(re,ve,l,ne);break e}Se&&Se(r,te,H),r==="focusout"&&(Se=te._wrapperState)&&Se.controlled&&te.type==="number"&&io(te,"number",te.value)}switch(Se=H?Lo(H):window,r){case"focusin":(Pm(Se)||Se.contentEditable==="true")&&(xo=Se,Zd=H,Ya=null);break;case"focusout":Ya=Zd=xo=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,jm(re,l,ne);break;case"selectionchange":if($E)break;case"keydown":case"keyup":jm(re,l,ne)}var Ce;if(Et)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Po?km(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ps&&l.locale!=="ko"&&(Po||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Po&&(Ce=za()):(Cn=ne,wo="value"in Cn?Cn.value:Cn.textContent,Po=!0)),Se=Fu(H,Pe),0<Se.length&&(Pe=new Ha(Pe,r,null,l,ne),re.push({event:Pe,listeners:Se}),Ce?Pe.data=Ce:(Ce=Am(l),Ce!==null&&(Pe.data=Ce)))),(Ce=Rn?xE(r,l):NE(r,l))&&(H=Fu(H,"onBeforeInput"),0<H.length&&(ne=new Ha("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:H}),ne.data=Ce))}Km(re,s)})}function Za(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Fu(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(r,l),g!=null&&d.unshift(Za(r,g,f)),g=yt(r,s),g!=null&&d.push(Za(r,g,f))),r=r.return}return d}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ym(r,s,l,d,f){for(var g=s._reactName,E=[];l!==null&&l!==d;){var x=l,j=x.alternate,H=x.stateNode;if(j!==null&&j===d)break;x.tag===5&&H!==null&&(x=H,f?(j=yt(l,g),j!=null&&E.unshift(Za(l,j,x))):f||(j=yt(l,g),j!=null&&E.push(Za(l,j,x)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var WE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Xm(r){return(typeof r=="string"?r:""+r).replace(WE,`
`).replace(HE,"")}function ju(r,s,l){if(s=Xm(s),Xm(r)!==s&&l)throw Error(t(425))}function Uu(){}var oh=null,ah=null;function lh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(r){return Jm.resolve(null).then(r).catch(QE)}:uh;function QE(r){setTimeout(function(){throw r})}function ch(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),tr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);tr(s)}function Pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Do,el="__reactProps$"+Do,Qr="__reactContainer$"+Do,dh="__reactEvents$"+Do,YE="__reactListeners$"+Do,XE="__reactHandles$"+Do;function xs(r){var s=r[Cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Qr]||l[Cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Zm(r);r!==null;){if(l=r[Cr])return l;r=Zm(r)}return s}r=l,l=r.parentNode}return null}function tl(r){return r=r[Cr]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function $u(r){return r[el]||null}var hh=[],Oo=-1;function xi(r){return{current:r}}function rt(r){0>Oo||(r.current=hh[Oo],hh[Oo]=null,Oo--)}function tt(r,s){Oo++,hh[Oo]=r.current,r.current=s}var Ni={},Yt=xi(Ni),fn=xi(!1),Ns=Ni;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Ni;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function pn(r){return r=r.childContextTypes,r!=null}function Bu(){rt(fn),rt(Yt)}function eg(r,s,l){if(Yt.current!==Ni)throw Error(t(168));tt(Yt,s),tt(fn,l)}function tg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Fe(r)||"Unknown",f));return ce({},l,d)}function zu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ni,Ns=Yt.current,tt(Yt,r),tt(fn,fn.current),!0}function ng(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=tg(r,s,Ns),d.__reactInternalMemoizedMergedChildContext=r,rt(fn),rt(Yt),tt(Yt,r)):rt(fn),tt(fn,l)}var Yr=null,qu=!1,fh=!1;function rg(r){Yr===null?Yr=[r]:Yr.push(r)}function JE(r){qu=!0,rg(r)}function bi(){if(!fh&&Yr!==null){fh=!0;var r=0,s=$e;try{var l=Yr;for($e=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Yr=null,qu=!1}catch(f){throw Yr!==null&&(Yr=Yr.slice(r+1)),mo(Ts,bi),f}finally{$e=s,fh=!1}}return null}var Vo=[],Fo=0,Wu=null,Hu=0,Fn=[],jn=0,bs=null,Xr=1,Jr="";function Ds(r,s){Vo[Fo++]=Hu,Vo[Fo++]=Wu,Wu=r,Hu=s}function ig(r,s,l){Fn[jn++]=Xr,Fn[jn++]=Jr,Fn[jn++]=bs,bs=r;var d=Xr;r=Jr;var f=32-sn(d)-1;d&=~(1<<f),l+=1;var g=32-sn(s)+f;if(30<g){var E=f-f%5;g=(d&(1<<E)-1).toString(32),d>>=E,f-=E,Xr=1<<32-sn(s)+f|l<<f|d,Jr=g+r}else Xr=1<<g|l<<f|d,Jr=r}function ph(r){r.return!==null&&(Ds(r,1),ig(r,1,0))}function mh(r){for(;r===Wu;)Wu=Vo[--Fo],Vo[Fo]=null,Hu=Vo[--Fo],Vo[Fo]=null;for(;r===bs;)bs=Fn[--jn],Fn[jn]=null,Jr=Fn[--jn],Fn[jn]=null,Xr=Fn[--jn],Fn[jn]=null}var kn=null,An=null,lt=!1,ir=null;function sg(r,s){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function og(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,kn=r,An=Pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,kn=r,An=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=bs!==null?{id:Xr,overflow:Jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,kn=r,An=null,!0):!1;default:return!1}}function gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _h(r){if(lt){var s=An;if(s){var l=s;if(!og(r,s)){if(gh(r))throw Error(t(418));s=Pi(l.nextSibling);var d=kn;s&&og(r,s)?sg(d,l):(r.flags=r.flags&-4097|2,lt=!1,kn=r)}}else{if(gh(r))throw Error(t(418));r.flags=r.flags&-4097|2,lt=!1,kn=r}}}function ag(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;kn=r}function Gu(r){if(r!==kn)return!1;if(!lt)return ag(r),lt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!lh(r.type,r.memoizedProps)),s&&(s=An)){if(gh(r))throw lg(),Error(t(418));for(;s;)sg(r,s),s=Pi(s.nextSibling)}if(ag(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){An=Pi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}An=null}}else An=kn?Pi(r.stateNode.nextSibling):null;return!0}function lg(){for(var r=An;r;)r=Pi(r.nextSibling)}function jo(){An=kn=null,lt=!1}function yh(r){ir===null?ir=[r]:ir.push(r)}var ZE=Y.ReactCurrentBatchConfig;function nl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var x=f.refs;E===null?delete x[g]:x[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Ku(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ug(r){var s=r._init;return s(r._payload)}function cg(r){function s(q,$){if(r){var W=q.deletions;W===null?(q.deletions=[$],q.flags|=16):W.push($)}}function l(q,$){if(!r)return null;for(;$!==null;)s(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f(q,$){return q=Ui(q,$),q.index=0,q.sibling=null,q}function g(q,$,W){return q.index=W,r?(W=q.alternate,W!==null?(W=W.index,W<$?(q.flags|=2,$):W):(q.flags|=2,$)):(q.flags|=1048576,$)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function x(q,$,W,se){return $===null||$.tag!==6?($=cf(W,q.mode,se),$.return=q,$):($=f($,W),$.return=q,$)}function j(q,$,W,se){var ve=W.type;return ve===D?ne(q,$,W.props.children,se,W.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===we&&ug(ve)===$.type)?(se=f($,W.props),se.ref=nl(q,$,W),se.return=q,se):(se=yc(W.type,W.key,W.props,null,q.mode,se),se.ref=nl(q,$,W),se.return=q,se)}function H(q,$,W,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=df(W,q.mode,se),$.return=q,$):($=f($,W.children||[]),$.return=q,$)}function ne(q,$,W,se,ve){return $===null||$.tag!==7?($=$s(W,q.mode,se,ve),$.return=q,$):($=f($,W),$.return=q,$)}function re(q,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=cf(""+$,q.mode,W),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return W=yc($.type,$.key,$.props,null,q.mode,W),W.ref=nl(q,null,$),W.return=q,W;case ue:return $=df($,q.mode,W),$.return=q,$;case we:var se=$._init;return re(q,se($._payload),W)}if(Ur($)||he($))return $=$s($,q.mode,W,null),$.return=q,$;Ku(q,$)}return null}function te(q,$,W,se){var ve=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ve!==null?null:x(q,$,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case X:return W.key===ve?j(q,$,W,se):null;case ue:return W.key===ve?H(q,$,W,se):null;case we:return ve=W._init,te(q,$,ve(W._payload),se)}if(Ur(W)||he(W))return ve!==null?null:ne(q,$,W,se,null);Ku(q,W)}return null}function de(q,$,W,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(W)||null,x($,q,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return q=q.get(se.key===null?W:se.key)||null,j($,q,se,ve);case ue:return q=q.get(se.key===null?W:se.key)||null,H($,q,se,ve);case we:var Se=se._init;return de(q,$,W,Se(se._payload),ve)}if(Ur(se)||he(se))return q=q.get(W)||null,ne($,q,se,ve,null);Ku($,se)}return null}function ge(q,$,W,se){for(var ve=null,Se=null,Ce=$,Pe=$=0,Mt=null;Ce!==null&&Pe<W.length;Pe++){Ce.index>Pe?(Mt=Ce,Ce=null):Mt=Ce.sibling;var Ge=te(q,Ce,W[Pe],se);if(Ge===null){Ce===null&&(Ce=Mt);break}r&&Ce&&Ge.alternate===null&&s(q,Ce),$=g(Ge,$,Pe),Se===null?ve=Ge:Se.sibling=Ge,Se=Ge,Ce=Mt}if(Pe===W.length)return l(q,Ce),lt&&Ds(q,Pe),ve;if(Ce===null){for(;Pe<W.length;Pe++)Ce=re(q,W[Pe],se),Ce!==null&&($=g(Ce,$,Pe),Se===null?ve=Ce:Se.sibling=Ce,Se=Ce);return lt&&Ds(q,Pe),ve}for(Ce=d(q,Ce);Pe<W.length;Pe++)Mt=de(Ce,q,Pe,W[Pe],se),Mt!==null&&(r&&Mt.alternate!==null&&Ce.delete(Mt.key===null?Pe:Mt.key),$=g(Mt,$,Pe),Se===null?ve=Mt:Se.sibling=Mt,Se=Mt);return r&&Ce.forEach(function($i){return s(q,$i)}),lt&&Ds(q,Pe),ve}function _e(q,$,W,se){var ve=he(W);if(typeof ve!="function")throw Error(t(150));if(W=ve.call(W),W==null)throw Error(t(151));for(var Se=ve=null,Ce=$,Pe=$=0,Mt=null,Ge=W.next();Ce!==null&&!Ge.done;Pe++,Ge=W.next()){Ce.index>Pe?(Mt=Ce,Ce=null):Mt=Ce.sibling;var $i=te(q,Ce,Ge.value,se);if($i===null){Ce===null&&(Ce=Mt);break}r&&Ce&&$i.alternate===null&&s(q,Ce),$=g($i,$,Pe),Se===null?ve=$i:Se.sibling=$i,Se=$i,Ce=Mt}if(Ge.done)return l(q,Ce),lt&&Ds(q,Pe),ve;if(Ce===null){for(;!Ge.done;Pe++,Ge=W.next())Ge=re(q,Ge.value,se),Ge!==null&&($=g(Ge,$,Pe),Se===null?ve=Ge:Se.sibling=Ge,Se=Ge);return lt&&Ds(q,Pe),ve}for(Ce=d(q,Ce);!Ge.done;Pe++,Ge=W.next())Ge=de(Ce,q,Pe,Ge.value,se),Ge!==null&&(r&&Ge.alternate!==null&&Ce.delete(Ge.key===null?Pe:Ge.key),$=g(Ge,$,Pe),Se===null?ve=Ge:Se.sibling=Ge,Se=Ge);return r&&Ce.forEach(function(bT){return s(q,bT)}),lt&&Ds(q,Pe),ve}function vt(q,$,W,se){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case X:e:{for(var ve=W.key,Se=$;Se!==null;){if(Se.key===ve){if(ve=W.type,ve===D){if(Se.tag===7){l(q,Se.sibling),$=f(Se,W.props.children),$.return=q,q=$;break e}}else if(Se.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===we&&ug(ve)===Se.type){l(q,Se.sibling),$=f(Se,W.props),$.ref=nl(q,Se,W),$.return=q,q=$;break e}l(q,Se);break}else s(q,Se);Se=Se.sibling}W.type===D?($=$s(W.props.children,q.mode,se,W.key),$.return=q,q=$):(se=yc(W.type,W.key,W.props,null,q.mode,se),se.ref=nl(q,$,W),se.return=q,q=se)}return E(q);case ue:e:{for(Se=W.key;$!==null;){if($.key===Se)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){l(q,$.sibling),$=f($,W.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else s(q,$);$=$.sibling}$=df(W,q.mode,se),$.return=q,q=$}return E(q);case we:return Se=W._init,vt(q,$,Se(W._payload),se)}if(Ur(W))return ge(q,$,W,se);if(he(W))return _e(q,$,W,se);Ku(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(l(q,$.sibling),$=f($,W),$.return=q,q=$):(l(q,$),$=cf(W,q.mode,se),$.return=q,q=$),E(q)):l(q,$)}return vt}var Uo=cg(!0),dg=cg(!1),Qu=xi(null),Yu=null,$o=null,vh=null;function wh(){vh=$o=Yu=null}function Eh(r){var s=Qu.current;rt(Qu),r._currentValue=s}function Th(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Bo(r,s){Yu=r,vh=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(mn=!0),r.firstContext=null)}function Un(r){var s=r._currentValue;if(vh!==r)if(r={context:r,memoizedValue:s,next:null},$o===null){if(Yu===null)throw Error(t(308));$o=r,Yu.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return s}var Ls=null;function Ih(r){Ls===null?Ls=[r]:Ls.push(r)}function hg(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Ih(s)):(l.next=f.next,f.next=l),s.interleaved=l,Zr(r,d)}function Zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Di=!1;function Sh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ei(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Li(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,He&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Zr(r,l)}return f=d.interleaved,f===null?(s.next=s,Ih(d)):(s.next=f.next,f.next=s),d.interleaved=s,Zr(r,l)}function Xu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ii(r,l)}}function pg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Ju(r,s,l,d){var f=r.updateQueue;Di=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var j=x,H=j.next;j.next=null,E===null?g=H:E.next=H,E=j;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==E&&(x===null?ne.firstBaseUpdate=H:x.next=H,ne.lastBaseUpdate=j))}if(g!==null){var re=f.baseState;E=0,ne=H=j=null,x=g;do{var te=x.lane,de=x.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ge=r,_e=x;switch(te=s,de=l,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){re=ge.call(de,re,te);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,te=typeof ge=="function"?ge.call(de,re,te):ge,te==null)break e;re=ce({},re,te);break e;case 2:Di=!0}}x.callback!==null&&x.lane!==0&&(r.flags|=64,te=f.effects,te===null?f.effects=[x]:te.push(x))}else de={eventTime:de,lane:te,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(H=ne=de,j=re):ne=ne.next=de,E|=te;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;te=x,x=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);if(ne===null&&(j=re),f.baseState=j,f.firstBaseUpdate=H,f.lastBaseUpdate=ne,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Vs|=E,r.lanes=E,r.memoizedState=re}}function mg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var rl={},Rr=xi(rl),il=xi(rl),sl=xi(rl);function Os(r){if(r===rl)throw Error(t(174));return r}function Ch(r,s){switch(tt(sl,s),tt(il,r),tt(Rr,rl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Rt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Rt(s,r)}rt(Rr),tt(Rr,s)}function zo(){rt(Rr),rt(il),rt(sl)}function gg(r){Os(sl.current);var s=Os(Rr.current),l=Rt(s,r.type);s!==l&&(tt(il,r),tt(Rr,l))}function Rh(r){il.current===r&&(rt(Rr),rt(il))}var dt=xi(0);function Zu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kh=[];function Ah(){for(var r=0;r<kh.length;r++)kh[r]._workInProgressVersionPrimary=null;kh.length=0}var ec=Y.ReactCurrentDispatcher,Ph=Y.ReactCurrentBatchConfig,Ms=0,ht=null,At=null,Lt=null,tc=!1,ol=!1,al=0,eT=0;function Xt(){throw Error(t(321))}function xh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!rr(r[l],s[l]))return!1;return!0}function Nh(r,s,l,d,f,g){if(Ms=g,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ec.current=r===null||r.memoizedState===null?iT:sT,r=l(d,f),ol){g=0;do{if(ol=!1,al=0,25<=g)throw Error(t(301));g+=1,Lt=At=null,s.updateQueue=null,ec.current=oT,r=l(d,f)}while(ol)}if(ec.current=ic,s=At!==null&&At.next!==null,Ms=0,Lt=At=ht=null,tc=!1,s)throw Error(t(300));return r}function bh(){var r=al!==0;return al=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ht.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function $n(){if(At===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=Lt===null?ht.memoizedState:Lt.next;if(s!==null)Lt=s,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Lt===null?ht.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function ll(r,s){return typeof s=="function"?s(r):s}function Dh(r){var s=$n(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=At,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var x=E=null,j=null,H=g;do{var ne=H.lane;if((Ms&ne)===ne)j!==null&&(j=j.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};j===null?(x=j=re,E=d):j=j.next=re,ht.lanes|=ne,Vs|=ne}H=H.next}while(H!==null&&H!==g);j===null?E=d:j.next=x,rr(d,s.memoizedState)||(mn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ht.lanes|=g,Vs|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Lh(r){var s=$n(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);rr(g,s.memoizedState)||(mn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function _g(){}function yg(r,s){var l=ht,d=$n(),f=s(),g=!rr(d.memoizedState,f);if(g&&(d.memoizedState=f,mn=!0),d=d.queue,Oh(Eg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,ul(9,wg.bind(null,l,d,f,s),void 0,null),Ot===null)throw Error(t(349));Ms&30||vg(l,s,f)}return f}function vg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wg(r,s,l,d){s.value=l,s.getSnapshot=d,Tg(s)&&Ig(r)}function Eg(r,s,l){return l(function(){Tg(s)&&Ig(r)})}function Tg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!rr(r,l)}catch{return!0}}function Ig(r){var s=Zr(r,1);s!==null&&lr(s,r,1,-1)}function Sg(r){var s=kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:r},s.queue=r,r=r.dispatch=rT.bind(null,ht,r),[s.memoizedState,r]}function ul(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Cg(){return $n().memoizedState}function nc(r,s,l,d){var f=kr();ht.flags|=r,f.memoizedState=ul(1|s,l,void 0,d===void 0?null:d)}function rc(r,s,l,d){var f=$n();d=d===void 0?null:d;var g=void 0;if(At!==null){var E=At.memoizedState;if(g=E.destroy,d!==null&&xh(d,E.deps)){f.memoizedState=ul(s,l,g,d);return}}ht.flags|=r,f.memoizedState=ul(1|s,l,g,d)}function Rg(r,s){return nc(8390656,8,r,s)}function Oh(r,s){return rc(2048,8,r,s)}function kg(r,s){return rc(4,2,r,s)}function Ag(r,s){return rc(4,4,r,s)}function Pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xg(r,s,l){return l=l!=null?l.concat([r]):null,rc(4,4,Pg.bind(null,s,r),l)}function Mh(){}function Ng(r,s){var l=$n();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&xh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function bg(r,s){var l=$n();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&xh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Dg(r,s,l){return Ms&21?(rr(l,s)||(l=Cs(),ht.lanes|=l,Vs|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,mn=!0),r.memoizedState=l)}function tT(r,s){var l=$e;$e=l!==0&&4>l?l:4,r(!0);var d=Ph.transition;Ph.transition={};try{r(!1),s()}finally{$e=l,Ph.transition=d}}function Lg(){return $n().memoizedState}function nT(r,s,l){var d=Fi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Og(r))Mg(s,l);else if(l=hg(r,s,l,d),l!==null){var f=ln();lr(l,r,d,f),Vg(l,s,d)}}function rT(r,s,l){var d=Fi(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Og(r))Mg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,x=g(E,l);if(f.hasEagerState=!0,f.eagerState=x,rr(x,E)){var j=s.interleaved;j===null?(f.next=f,Ih(s)):(f.next=j.next,j.next=f),s.interleaved=f;return}}catch{}finally{}l=hg(r,s,f,d),l!==null&&(f=ln(),lr(l,r,d,f),Vg(l,s,d))}}function Og(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function Mg(r,s){ol=tc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Vg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ii(r,l)}}var ic={readContext:Un,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},iT={readContext:Un,useCallback:function(r,s){return kr().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:Rg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,nc(4194308,4,Pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return nc(4194308,4,r,s)},useInsertionEffect:function(r,s){return nc(4,2,r,s)},useMemo:function(r,s){var l=kr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=kr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=nT.bind(null,ht,r),[d.memoizedState,r]},useRef:function(r){var s=kr();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:Mh,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=tT.bind(null,r[1]),kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ht,f=kr();if(lt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ot===null)throw Error(t(349));Ms&30||vg(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Rg(Eg.bind(null,d,g,r),[r]),d.flags|=2048,ul(9,wg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=kr(),s=Ot.identifierPrefix;if(lt){var l=Jr,d=Xr;l=(d&~(1<<32-sn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=al++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=eT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},sT={readContext:Un,useCallback:Ng,useContext:Un,useEffect:Oh,useImperativeHandle:xg,useInsertionEffect:kg,useLayoutEffect:Ag,useMemo:bg,useReducer:Dh,useRef:Cg,useState:function(){return Dh(ll)},useDebugValue:Mh,useDeferredValue:function(r){var s=$n();return Dg(s,At.memoizedState,r)},useTransition:function(){var r=Dh(ll)[0],s=$n().memoizedState;return[r,s]},useMutableSource:_g,useSyncExternalStore:yg,useId:Lg,unstable_isNewReconciler:!1},oT={readContext:Un,useCallback:Ng,useContext:Un,useEffect:Oh,useImperativeHandle:xg,useInsertionEffect:kg,useLayoutEffect:Ag,useMemo:bg,useReducer:Lh,useRef:Cg,useState:function(){return Lh(ll)},useDebugValue:Mh,useDeferredValue:function(r){var s=$n();return At===null?s.memoizedState=r:Dg(s,At.memoizedState,r)},useTransition:function(){var r=Lh(ll)[0],s=$n().memoizedState;return[r,s]},useMutableSource:_g,useSyncExternalStore:yg,useId:Lg,unstable_isNewReconciler:!1};function sr(r,s){if(r&&r.defaultProps){s=ce({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Vh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ce({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var sc={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=ln(),f=Fi(r),g=ei(d,f);g.payload=s,l!=null&&(g.callback=l),s=Li(r,g,f),s!==null&&(lr(s,r,f,d),Xu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=ln(),f=Fi(r),g=ei(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Li(r,g,f),s!==null&&(lr(s,r,f,d),Xu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ln(),d=Fi(r),f=ei(l,d);f.tag=2,s!=null&&(f.callback=s),s=Li(r,f,d),s!==null&&(lr(s,r,d,l),Xu(s,r,d))}};function Fg(r,s,l,d,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,d)||!Qa(f,g):!0}function jg(r,s,l){var d=!1,f=Ni,g=s.contextType;return typeof g=="object"&&g!==null?g=Un(g):(f=pn(s)?Ns:Yt.current,d=s.contextTypes,g=(d=d!=null)?Mo(r,f):Ni),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ug(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&sc.enqueueReplaceState(s,s.state,null)}function Fh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Sh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Un(g):(g=pn(s)?Ns:Yt.current,f.context=Mo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Vh(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&sc.enqueueReplaceState(f,f.state,null),Ju(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function qo(r,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function jh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Uh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function $g(r,s,l){l=ei(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){hc||(hc=!0,tf=d),Uh(r,s)},l}function Bg(r,s,l){l=ei(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Uh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Uh(r,s),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function zg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new aT;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=ET.bind(null,r,s,l),s.then(r,r))}function qg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Wg(r,s,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ei(-1,1),s.tag=2,Li(l,s,1))),l.lanes|=1),r)}var lT=Y.ReactCurrentOwner,mn=!1;function an(r,s,l,d){s.child=r===null?dg(s,null,l,d):Uo(s,r.child,l,d)}function Hg(r,s,l,d,f){l=l.render;var g=s.ref;return Bo(s,f),d=Nh(r,s,l,d,g,f),l=bh(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(lt&&l&&ph(s),s.flags|=1,an(r,s,d,f),s.child)}function Gg(r,s,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!uf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Kg(r,s,g,d,f)):(r=yc(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(E,d)&&r.ref===s.ref)return ti(r,s,f)}return s.flags|=1,r=Ui(g,d),r.ref=s.ref,r.return=s,s.child=r}function Kg(r,s,l,d,f){if(r!==null){var g=r.memoizedProps;if(Qa(g,d)&&r.ref===s.ref)if(mn=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(mn=!0);else return s.lanes=r.lanes,ti(r,s,f)}return $h(r,s,l,d,f)}function Qg(r,s,l){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ho,Pn),Pn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,tt(Ho,Pn),Pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,tt(Ho,Pn),Pn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,tt(Ho,Pn),Pn|=d;return an(r,s,f,l),s.child}function Yg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function $h(r,s,l,d,f){var g=pn(l)?Ns:Yt.current;return g=Mo(s,g),Bo(s,f),l=Nh(r,s,l,d,g,f),d=bh(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(lt&&d&&ph(s),s.flags|=1,an(r,s,l,f),s.child)}function Xg(r,s,l,d,f){if(pn(l)){var g=!0;zu(s)}else g=!1;if(Bo(s,f),s.stateNode===null)ac(r,s),jg(s,l,d),Fh(s,l,d,f),d=!0;else if(r===null){var E=s.stateNode,x=s.memoizedProps;E.props=x;var j=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=Un(H):(H=pn(l)?Ns:Yt.current,H=Mo(s,H));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==d||j!==H)&&Ug(s,E,d,H),Di=!1;var te=s.memoizedState;E.state=te,Ju(s,d,E,f),j=s.memoizedState,x!==d||te!==j||fn.current||Di?(typeof ne=="function"&&(Vh(s,l,ne,d),j=s.memoizedState),(x=Di||Fg(s,l,x,d,te,j,H))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),E.props=d,E.state=j,E.context=H,d=x):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,fg(r,s),x=s.memoizedProps,H=s.type===s.elementType?x:sr(s.type,x),E.props=H,re=s.pendingProps,te=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Un(j):(j=pn(l)?Ns:Yt.current,j=Mo(s,j));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==re||te!==j)&&Ug(s,E,d,j),Di=!1,te=s.memoizedState,E.state=te,Ju(s,d,E,f);var ge=s.memoizedState;x!==re||te!==ge||fn.current||Di?(typeof de=="function"&&(Vh(s,l,de,d),ge=s.memoizedState),(H=Di||Fg(s,l,H,d,te,ge,j)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ge,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ge,j)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),E.props=d,E.state=ge,E.context=j,d=H):(typeof E.componentDidUpdate!="function"||x===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),d=!1)}return Bh(r,s,l,d,g,f)}function Bh(r,s,l,d,f,g){Yg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return f&&ng(s,l,!1),ti(r,s,g);d=s.stateNode,lT.current=s;var x=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Uo(s,r.child,null,g),s.child=Uo(s,null,x,g)):an(r,s,x,g),s.memoizedState=d.state,f&&ng(s,l,!0),s.child}function Jg(r){var s=r.stateNode;s.pendingContext?eg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&eg(r,s.context,!1),Ch(r,s.containerInfo)}function Zg(r,s,l,d,f){return jo(),yh(f),s.flags|=256,an(r,s,l,d),s.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function e_(r,s,l){var d=s.pendingProps,f=dt.current,g=!1,E=(s.flags&128)!==0,x;if((x=E)||(x=r!==null&&r.memoizedState===null?!1:(f&2)!==0),x?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),tt(dt,f&1),r===null)return _h(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=vc(E,d,0,null),r=$s(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=qh(l),s.memoizedState=zh,r):Wh(s,E));if(f=r.memoizedState,f!==null&&(x=f.dehydrated,x!==null))return uT(r,s,E,d,x,f,l);if(g){g=d.fallback,E=s.mode,f=r.child,x=f.sibling;var j={mode:"hidden",children:d.children};return!(E&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=Ui(f,j),d.subtreeFlags=f.subtreeFlags&14680064),x!==null?g=Ui(x,g):(g=$s(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?qh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=zh,d}return g=r.child,r=g.sibling,d=Ui(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Wh(r,s){return s=vc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function oc(r,s,l,d){return d!==null&&yh(d),Uo(s,r.child,null,l),r=Wh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function uT(r,s,l,d,f,g,E){if(l)return s.flags&256?(s.flags&=-257,d=jh(Error(t(422))),oc(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=vc({mode:"visible",children:d.children},f,0,null),g=$s(g,f,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&Uo(s,r.child,null,E),s.child.memoizedState=qh(E),s.memoizedState=zh,g);if(!(s.mode&1))return oc(r,s,E,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var x=d.dgst;return d=x,g=Error(t(419)),d=jh(g,d,void 0),oc(r,s,E,d)}if(x=(E&r.childLanes)!==0,mn||x){if(d=Ot,d!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Zr(r,f),lr(d,r,f,-1))}return lf(),d=jh(Error(t(421))),oc(r,s,E,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=TT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,An=Pi(f.nextSibling),kn=s,lt=!0,ir=null,r!==null&&(Fn[jn++]=Xr,Fn[jn++]=Jr,Fn[jn++]=bs,Xr=r.id,Jr=r.overflow,bs=s),s=Wh(s,d.children),s.flags|=4096,s)}function t_(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Th(r.return,s,l)}function Hh(r,s,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function n_(r,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(an(r,s,d.children,l),d=dt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&t_(r,l,s);else if(r.tag===19)t_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(tt(dt,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Zu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Hh(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Zu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Hh(s,!0,l,null,g);break;case"together":Hh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ac(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ti(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Vs|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ui(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ui(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function cT(r,s,l){switch(s.tag){case 3:Jg(s),jo();break;case 5:gg(s);break;case 1:pn(s.type)&&zu(s);break;case 4:Ch(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;tt(Qu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(tt(dt,dt.current&1),s.flags|=128,null):l&s.child.childLanes?e_(r,s,l):(tt(dt,dt.current&1),r=ti(r,s,l),r!==null?r.sibling:null);tt(dt,dt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return n_(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(dt,dt.current),d)break;return null;case 22:case 23:return s.lanes=0,Qg(r,s,l)}return ti(r,s,l)}var r_,Gh,i_,s_;r_=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Gh=function(){},i_=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,Os(Rr.current);var g=null;switch(l){case"input":f=Qt(r,f),d=Qt(r,d),g=[];break;case"select":f=ce({},f,{value:void 0}),d=ce({},d,{value:void 0}),g=[];break;case"textarea":f=Sa(r,f),d=Sa(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Uu)}xa(l,d);var E;l=null;for(H in f)if(!d.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var x=f[H];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in d){var j=d[H];if(x=f!=null?f[H]:void 0,d.hasOwnProperty(H)&&j!==x&&(j!=null||x!=null))if(H==="style")if(x){for(E in x)!x.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&x[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(g||(g=[]),g.push(H,l)),l=j;else H==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,x=x?x.__html:void 0,j!=null&&x!==j&&(g=g||[]).push(H,j)):H==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(H,""+j):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(j!=null&&H==="onScroll"&&nt("scroll",r),g||x===j||(g=[])):(g=g||[]).push(H,j))}l&&(g=g||[]).push("style",l);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},s_=function(r,s,l,d){l!==d&&(s.flags|=4)};function cl(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function dT(r,s,l){var d=s.pendingProps;switch(mh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return pn(s.type)&&Bu(),Jt(s),null;case 3:return d=s.stateNode,zo(),rt(fn),rt(Yt),Ah(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&(sf(ir),ir=null))),Gh(r,s),Jt(s),null;case 5:Rh(s);var f=Os(sl.current);if(l=s.type,r!==null&&s.stateNode!=null)i_(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Jt(s),null}if(r=Os(Rr.current),Gu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[Cr]=s,d[el]=g,r=(s.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(f=0;f<Xa.length;f++)nt(Xa[f],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":jr(d,g),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},nt("invalid",d);break;case"textarea":so(d,g),nt("invalid",d)}xa(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var x=g[E];E==="children"?typeof x=="string"?d.textContent!==x&&(g.suppressHydrationWarning!==!0&&ju(d.textContent,x,r),f=["children",x]):typeof x=="number"&&d.textContent!==""+x&&(g.suppressHydrationWarning!==!0&&ju(d.textContent,x,r),f=["children",""+x]):o.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&nt("scroll",d)}switch(l){case"input":We(d),du(d,g,!0);break;case"textarea":We(d),Ca(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Uu)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ct(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Cr]=s,r[el]=d,r_(r,s,!1,!1),s.stateNode=r;e:{switch(E=Na(l,d),l){case"dialog":nt("cancel",r),nt("close",r),f=d;break;case"iframe":case"object":case"embed":nt("load",r),f=d;break;case"video":case"audio":for(f=0;f<Xa.length;f++)nt(Xa[f],r);f=d;break;case"source":nt("error",r),f=d;break;case"img":case"image":case"link":nt("error",r),nt("load",r),f=d;break;case"details":nt("toggle",r),f=d;break;case"input":jr(r,d),f=Qt(r,d),nt("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=ce({},d,{value:void 0}),nt("invalid",r);break;case"textarea":so(r,d),f=Sa(r,d),nt("invalid",r);break;default:f=d}xa(l,f),x=f;for(g in x)if(x.hasOwnProperty(g)){var j=x[g];g==="style"?Aa(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ra(r,j)):g==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&yi(r,j):typeof j=="number"&&yi(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&nt("scroll",r):j!=null&&K(r,g,j,E))}switch(l){case"input":We(r),du(r,d,!1);break;case"textarea":We(r),Ca(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Q(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?$r(r,!!d.multiple,g,!1):d.defaultValue!=null&&$r(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Uu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)s_(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Os(sl.current),Os(Rr.current),Gu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Cr]=s,(g=d.nodeValue!==l)&&(r=kn,r!==null))switch(r.tag){case 3:ju(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ju(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Cr]=s,s.stateNode=d}return Jt(s),null;case 13:if(rt(dt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&An!==null&&s.mode&1&&!(s.flags&128))lg(),jo(),s.flags|=98560,g=!1;else if(g=Gu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Cr]=s}else jo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jt(s),g=!1}else ir!==null&&(sf(ir),ir=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||dt.current&1?Pt===0&&(Pt=3):lf())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return zo(),Gh(r,s),r===null&&Ja(s.stateNode.containerInfo),Jt(s),null;case 10:return Eh(s.type._context),Jt(s),null;case 17:return pn(s.type)&&Bu(),Jt(s),null;case 19:if(rt(dt),g=s.memoizedState,g===null)return Jt(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)cl(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=Zu(r),E!==null){for(s.flags|=128,cl(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return tt(dt,dt.current&1|2),s.child}r=r.sibling}g.tail!==null&&et()>Go&&(s.flags|=128,d=!0,cl(g,!1),s.lanes=4194304)}else{if(!d)if(r=Zu(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),cl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!lt)return Jt(s),null}else 2*et()-g.renderingStartTime>Go&&l!==1073741824&&(s.flags|=128,d=!0,cl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,l=dt.current,tt(dt,d?l&1|2:l&1),s):(Jt(s),null);case 22:case 23:return af(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Pn&1073741824&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function hT(r,s){switch(mh(s),s.tag){case 1:return pn(s.type)&&Bu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zo(),rt(fn),rt(Yt),Ah(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(rt(dt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(dt),null;case 4:return zo(),null;case 10:return Eh(s.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var lc=!1,Zt=!1,fT=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){mt(r,s,d)}else l.current=null}function Kh(r,s,l){try{l()}catch(d){mt(r,s,d)}}var o_=!1;function pT(r,s){if(oh=Ri,r=Fm(),Jd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,x=-1,j=-1,H=0,ne=0,re=r,te=null;t:for(;;){for(var de;re!==l||f!==0&&re.nodeType!==3||(x=E+f),re!==g||d!==0&&re.nodeType!==3||(j=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===r)break t;if(te===l&&++H===f&&(x=E),te===g&&++ne===d&&(j=E),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}l=x===-1||j===-1?null:{start:x,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:r,selectionRange:l},Ri=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var ge=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,vt=ge.memoizedState,q=s.stateNode,$=q.getSnapshotBeforeUpdate(s.elementType===s.type?_e:sr(s.type,_e),vt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){mt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return ge=o_,o_=!1,ge}function dl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Kh(s,l,g)}f=f.next}while(f!==d)}}function uc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Qh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function a_(r){var s=r.alternate;s!==null&&(r.alternate=null,a_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[el],delete s[dh],delete s[YE],delete s[XE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function l_(r){return r.tag===5||r.tag===3||r.tag===4}function u_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||l_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Uu));else if(d!==4&&(r=r.child,r!==null))for(Yh(r,s,l),r=r.sibling;r!==null;)Yh(r,s,l),r=r.sibling}function Xh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Xh(r,s,l),r=r.sibling;r!==null;)Xh(r,s,l),r=r.sibling}var Bt=null,or=!1;function Oi(r,s,l){for(l=l.child;l!==null;)c_(r,s,l),l=l.sibling}function c_(r,s,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Is,l)}catch{}switch(l.tag){case 5:Zt||Wo(l,s);case 6:var d=Bt,f=or;Bt=null,Oi(r,s,l),Bt=d,or=f,Bt!==null&&(or?(r=Bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Bt.removeChild(l.stateNode));break;case 18:Bt!==null&&(or?(r=Bt,l=l.stateNode,r.nodeType===8?ch(r.parentNode,l):r.nodeType===1&&ch(r,l),tr(r)):ch(Bt,l.stateNode));break;case 4:d=Bt,f=or,Bt=l.stateNode.containerInfo,or=!0,Oi(r,s,l),Bt=d,or=f;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Kh(l,s,E),f=f.next}while(f!==d)}Oi(r,s,l);break;case 1:if(!Zt&&(Wo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(x){mt(l,s,x)}Oi(r,s,l);break;case 21:Oi(r,s,l);break;case 22:l.mode&1?(Zt=(d=Zt)||l.memoizedState!==null,Oi(r,s,l),Zt=d):Oi(r,s,l);break;default:Oi(r,s,l)}}function d_(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new fT),s.forEach(function(d){var f=IT.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function ar(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 5:Bt=x.stateNode,or=!1;break e;case 3:Bt=x.stateNode.containerInfo,or=!0;break e;case 4:Bt=x.stateNode.containerInfo,or=!0;break e}x=x.return}if(Bt===null)throw Error(t(160));c_(g,E,f),Bt=null,or=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(H){mt(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)h_(s,r),s=s.sibling}function h_(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(s,r),Ar(r),d&4){try{dl(3,r,r.return),uc(3,r)}catch(_e){mt(r,r.return,_e)}try{dl(5,r,r.return)}catch(_e){mt(r,r.return,_e)}}break;case 1:ar(s,r),Ar(r),d&512&&l!==null&&Wo(l,l.return);break;case 5:if(ar(s,r),Ar(r),d&512&&l!==null&&Wo(l,l.return),r.flags&32){var f=r.stateNode;try{yi(f,"")}catch(_e){mt(r,r.return,_e)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,x=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{x==="input"&&g.type==="radio"&&g.name!=null&&fs(f,g),Na(x,E);var H=Na(x,g);for(E=0;E<j.length;E+=2){var ne=j[E],re=j[E+1];ne==="style"?Aa(f,re):ne==="dangerouslySetInnerHTML"?Ra(f,re):ne==="children"?yi(f,re):K(f,ne,re,H)}switch(x){case"input":ps(f,g);break;case"textarea":oo(f,g);break;case"select":var te=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?$r(f,!!g.multiple,de,!1):te!==!!g.multiple&&(g.defaultValue!=null?$r(f,!!g.multiple,g.defaultValue,!0):$r(f,!!g.multiple,g.multiple?[]:"",!1))}f[el]=g}catch(_e){mt(r,r.return,_e)}}break;case 6:if(ar(s,r),Ar(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(_e){mt(r,r.return,_e)}}break;case 3:if(ar(s,r),Ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(_e){mt(r,r.return,_e)}break;case 4:ar(s,r),Ar(r);break;case 13:ar(s,r),Ar(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ef=et())),d&4&&d_(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(Zt=(H=Zt)||ne,ar(s,r),Zt=H):ar(s,r),Ar(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ne&&r.mode&1)for(pe=r,ne=r.child;ne!==null;){for(re=pe=ne;pe!==null;){switch(te=pe,de=te.child,te.tag){case 0:case 11:case 14:case 15:dl(4,te,te.return);break;case 1:Wo(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){d=te,l=te.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(_e){mt(d,l,_e)}}break;case 5:Wo(te,te.return);break;case 22:if(te.memoizedState!==null){m_(re);continue}}de!==null?(de.return=te,pe=de):m_(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(x=re.stateNode,j=re.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,x.style.display=ka("display",E))}catch(_e){mt(r,r.return,_e)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(_e){mt(r,r.return,_e)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:ar(s,r),Ar(r),d&4&&d_(r);break;case 21:break;default:ar(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(l_(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(yi(f,""),d.flags&=-33);var g=u_(r);Xh(r,g,f);break;case 3:case 4:var E=d.stateNode.containerInfo,x=u_(r);Yh(r,x,E);break;default:throw Error(t(161))}}catch(j){mt(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mT(r,s,l){pe=r,f_(r)}function f_(r,s,l){for(var d=(r.mode&1)!==0;pe!==null;){var f=pe,g=f.child;if(f.tag===22&&d){var E=f.memoizedState!==null||lc;if(!E){var x=f.alternate,j=x!==null&&x.memoizedState!==null||Zt;x=lc;var H=Zt;if(lc=E,(Zt=j)&&!H)for(pe=f;pe!==null;)E=pe,j=E.child,E.tag===22&&E.memoizedState!==null?g_(f):j!==null?(j.return=E,pe=j):g_(f);for(;g!==null;)pe=g,f_(g),g=g.sibling;pe=f,lc=x,Zt=H}p_(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,pe=g):p_(r)}}function p_(r){for(;pe!==null;){var s=pe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Zt||uc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Zt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:sr(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&mg(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}mg(s,E,l)}break;case 5:var x=s.stateNode;if(l===null&&s.flags&4){l=x;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&tr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||s.flags&512&&Qh(s)}catch(te){mt(s,s.return,te)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function m_(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function g_(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{uc(4,s)}catch(j){mt(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(j){mt(s,f,j)}}var g=s.return;try{Qh(s)}catch(j){mt(s,g,j)}break;case 5:var E=s.return;try{Qh(s)}catch(j){mt(s,E,j)}}}catch(j){mt(s,s.return,j)}if(s===r){pe=null;break}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break}pe=s.return}}var gT=Math.ceil,cc=Y.ReactCurrentDispatcher,Jh=Y.ReactCurrentOwner,Bn=Y.ReactCurrentBatchConfig,He=0,Ot=null,Tt=null,zt=0,Pn=0,Ho=xi(0),Pt=0,hl=null,Vs=0,dc=0,Zh=0,fl=null,gn=null,ef=0,Go=1/0,ni=null,hc=!1,tf=null,Mi=null,fc=!1,Vi=null,pc=0,pl=0,nf=null,mc=-1,gc=0;function ln(){return He&6?et():mc!==-1?mc:mc=et()}function Fi(r){return r.mode&1?He&2&&zt!==0?zt&-zt:ZE.transition!==null?(gc===0&&(gc=Cs()),gc):(r=$e,r!==0||(r=window.event,r=r===void 0?16:Ba(r.type)),r):1}function lr(r,s,l,d){if(50<pl)throw pl=0,nf=null,Error(t(185));Ti(r,l,d),(!(He&2)||r!==Ot)&&(r===Ot&&(!(He&2)&&(dc|=l),Pt===4&&ji(r,zt)),_n(r,d),l===1&&He===0&&!(s.mode&1)&&(Go=et()+500,qu&&bi()))}function _n(r,s){var l=r.callbackNode;qr(r,s);var d=Ss(r,r===Ot?zt:0);if(d===0)l!==null&&Va(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Va(l),s===1)r.tag===0?JE(y_.bind(null,r)):rg(y_.bind(null,r)),KE(function(){!(He&6)&&bi()}),l=null;else{switch(Si(d)){case 1:l=Ts;break;case 4:l=vi;break;case 16:l=On;break;case 536870912:l=gu;break;default:l=On}l=R_(l,__.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function __(r,s){if(mc=-1,gc=0,He&6)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var d=Ss(r,r===Ot?zt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=_c(r,d);else{s=d;var f=He;He|=2;var g=w_();(Ot!==r||zt!==s)&&(ni=null,Go=et()+500,js(r,s));do try{vT();break}catch(x){v_(r,x)}while(!0);wh(),cc.current=g,He=f,Tt!==null?s=0:(Ot=null,zt=0,s=Pt)}if(s!==0){if(s===2&&(f=Sn(r),f!==0&&(d=f,s=rf(r,f))),s===1)throw l=hl,js(r,0),ji(r,d),_n(r,et()),l;if(s===6)ji(r,d);else{if(f=r.current.alternate,!(d&30)&&!_T(f)&&(s=_c(r,d),s===2&&(g=Sn(r),g!==0&&(d=g,s=rf(r,g))),s===1))throw l=hl,js(r,0),ji(r,d),_n(r,et()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Us(r,gn,ni);break;case 3:if(ji(r,d),(d&130023424)===d&&(s=ef+500-et(),10<s)){if(Ss(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){ln(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=uh(Us.bind(null,r,gn,ni),s);break}Us(r,gn,ni);break;case 4:if(ji(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var E=31-sn(d);g=1<<E,E=s[E],E>f&&(f=E),d&=~g}if(d=f,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*gT(d/1960))-d,10<d){r.timeoutHandle=uh(Us.bind(null,r,gn,ni),d);break}Us(r,gn,ni);break;case 5:Us(r,gn,ni);break;default:throw Error(t(329))}}}return _n(r,et()),r.callbackNode===l?__.bind(null,r):null}function rf(r,s){var l=fl;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=_c(r,s),r!==2&&(s=gn,gn=l,s!==null&&sf(s)),r}function sf(r){gn===null?gn=r:gn.push.apply(gn,r)}function _T(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!rr(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(r,s){for(s&=~Zh,s&=~dc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-sn(s),d=1<<l;r[l]=-1,s&=~d}}function y_(r){if(He&6)throw Error(t(327));Ko();var s=Ss(r,0);if(!(s&1))return _n(r,et()),null;var l=_c(r,s);if(r.tag!==0&&l===2){var d=Sn(r);d!==0&&(s=d,l=rf(r,d))}if(l===1)throw l=hl,js(r,0),ji(r,s),_n(r,et()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Us(r,gn,ni),_n(r,et()),null}function of(r,s){var l=He;He|=1;try{return r(s)}finally{He=l,He===0&&(Go=et()+500,qu&&bi())}}function Fs(r){Vi!==null&&Vi.tag===0&&!(He&6)&&Ko();var s=He;He|=1;var l=Bn.transition,d=$e;try{if(Bn.transition=null,$e=1,r)return r()}finally{$e=d,Bn.transition=l,He=s,!(He&6)&&bi()}}function af(){Pn=Ho.current,rt(Ho)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,GE(l)),Tt!==null)for(l=Tt.return;l!==null;){var d=l;switch(mh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bu();break;case 3:zo(),rt(fn),rt(Yt),Ah();break;case 5:Rh(d);break;case 4:zo();break;case 13:rt(dt);break;case 19:rt(dt);break;case 10:Eh(d.type._context);break;case 22:case 23:af()}l=l.return}if(Ot=r,Tt=r=Ui(r.current,null),zt=Pn=s,Pt=0,hl=null,Zh=dc=Vs=0,gn=fl=null,Ls!==null){for(s=0;s<Ls.length;s++)if(l=Ls[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,d.next=E}l.pending=d}Ls=null}return r}function v_(r,s){do{var l=Tt;try{if(wh(),ec.current=ic,tc){for(var d=ht.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}tc=!1}if(Ms=0,Lt=At=ht=null,ol=!1,al=0,Jh.current=null,l===null||l.return===null){Pt=1,hl=s,Tt=null;break}e:{var g=r,E=l.return,x=l,j=s;if(s=zt,x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var H=j,ne=x,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=qg(E);if(de!==null){de.flags&=-257,Wg(de,E,x,g,s),de.mode&1&&zg(g,H,s),s=de,j=H;var ge=s.updateQueue;if(ge===null){var _e=new Set;_e.add(j),s.updateQueue=_e}else ge.add(j);break e}else{if(!(s&1)){zg(g,H,s),lf();break e}j=Error(t(426))}}else if(lt&&x.mode&1){var vt=qg(E);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Wg(vt,E,x,g,s),yh(qo(j,x));break e}}g=j=qo(j,x),Pt!==4&&(Pt=2),fl===null?fl=[g]:fl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=$g(g,j,s);pg(g,q);break e;case 1:x=j;var $=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Mi===null||!Mi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Bg(g,x,s);pg(g,se);break e}}g=g.return}while(g!==null)}T_(l)}catch(ve){s=ve,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function w_(){var r=cc.current;return cc.current=ic,r===null?ic:r}function lf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ot===null||!(Vs&268435455)&&!(dc&268435455)||ji(Ot,zt)}function _c(r,s){var l=He;He|=2;var d=w_();(Ot!==r||zt!==s)&&(ni=null,js(r,s));do try{yT();break}catch(f){v_(r,f)}while(!0);if(wh(),He=l,cc.current=d,Tt!==null)throw Error(t(261));return Ot=null,zt=0,Pt}function yT(){for(;Tt!==null;)E_(Tt)}function vT(){for(;Tt!==null&&!pu();)E_(Tt)}function E_(r){var s=C_(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,s===null?T_(r):Tt=s,Jh.current=null}function T_(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=hT(l,s),l!==null){l.flags&=32767,Tt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,Tt=null;return}}else if(l=dT(l,s,Pn),l!==null){Tt=l;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Pt===0&&(Pt=5)}function Us(r,s,l){var d=$e,f=Bn.transition;try{Bn.transition=null,$e=1,wT(r,s,l,d)}finally{Bn.transition=f,$e=d}return null}function wT(r,s,l,d){do Ko();while(Vi!==null);if(He&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Je(r,g),r===Ot&&(Tt=Ot=null,zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||fc||(fc=!0,R_(On,function(){return Ko(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Bn.transition,Bn.transition=null;var E=$e;$e=1;var x=He;He|=4,Jh.current=null,pT(r,l),h_(l,r),UE(ah),Ri=!!oh,ah=oh=null,r.current=l,mT(l),qd(),He=x,$e=E,Bn.transition=g}else r.current=l;if(fc&&(fc=!1,Vi=r,pc=f),g=r.pendingLanes,g===0&&(Mi=null),_u(l.stateNode),_n(r,et()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(hc)throw hc=!1,r=tf,tf=null,r;return pc&1&&r.tag!==0&&Ko(),g=r.pendingLanes,g&1?r===nf?pl++:(pl=0,nf=r):pl=0,bi(),null}function Ko(){if(Vi!==null){var r=Si(pc),s=Bn.transition,l=$e;try{if(Bn.transition=null,$e=16>r?16:r,Vi===null)var d=!1;else{if(r=Vi,Vi=null,pc=0,He&6)throw Error(t(331));var f=He;for(He|=4,pe=r.current;pe!==null;){var g=pe,E=g.child;if(pe.flags&16){var x=g.deletions;if(x!==null){for(var j=0;j<x.length;j++){var H=x[j];for(pe=H;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:dl(8,ne,g)}var re=ne.child;if(re!==null)re.return=ne,pe=re;else for(;pe!==null;){ne=pe;var te=ne.sibling,de=ne.return;if(a_(ne),ne===H){pe=null;break}if(te!==null){te.return=de,pe=te;break}pe=de}}}var ge=g.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var vt=_e.sibling;_e.sibling=null,_e=vt}while(_e!==null)}}pe=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,pe=E;else e:for(;pe!==null;){if(g=pe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:dl(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,pe=q;break e}pe=g.return}}var $=r.current;for(pe=$;pe!==null;){E=pe;var W=E.child;if(E.subtreeFlags&2064&&W!==null)W.return=E,pe=W;else e:for(E=$;pe!==null;){if(x=pe,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:uc(9,x)}}catch(ve){mt(x,x.return,ve)}if(x===E){pe=null;break e}var se=x.sibling;if(se!==null){se.return=x.return,pe=se;break e}pe=x.return}}if(He=f,bi(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Is,r)}catch{}d=!0}return d}finally{$e=l,Bn.transition=s}}return!1}function I_(r,s,l){s=qo(l,s),s=$g(r,s,1),r=Li(r,s,1),s=ln(),r!==null&&(Ti(r,1,s),_n(r,s))}function mt(r,s,l){if(r.tag===3)I_(r,r,l);else for(;s!==null;){if(s.tag===3){I_(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){r=qo(l,r),r=Bg(s,r,1),s=Li(s,r,1),r=ln(),s!==null&&(Ti(s,1,r),_n(s,r));break}}s=s.return}}function ET(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=ln(),r.pingedLanes|=r.suspendedLanes&l,Ot===r&&(zt&l)===l&&(Pt===4||Pt===3&&(zt&130023424)===zt&&500>et()-ef?js(r,0):Zh|=l),_n(r,s)}function S_(r,s){s===0&&(r.mode&1?(s=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):s=1);var l=ln();r=Zr(r,s),r!==null&&(Ti(r,s,l),_n(r,l))}function TT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),S_(r,l)}function IT(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),S_(r,l)}var C_;C_=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||fn.current)mn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return mn=!1,cT(r,s,l);mn=!!(r.flags&131072)}else mn=!1,lt&&s.flags&1048576&&ig(s,Hu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ac(r,s),r=s.pendingProps;var f=Mo(s,Yt.current);Bo(s,l),f=Nh(null,s,d,r,f,l);var g=bh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pn(d)?(g=!0,zu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Sh(s),f.updater=sc,s.stateNode=f,f._reactInternals=s,Fh(s,d,r,l),s=Bh(null,s,d,!0,g,l)):(s.tag=0,lt&&g&&ph(s),an(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(ac(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=CT(d),r=sr(d,r),f){case 0:s=$h(null,s,d,r,l);break e;case 1:s=Xg(null,s,d,r,l);break e;case 11:s=Hg(null,s,d,r,l);break e;case 14:s=Gg(null,s,d,sr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),$h(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),Xg(r,s,d,f,l);case 3:e:{if(Jg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,fg(r,s),Ju(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=qo(Error(t(423)),s),s=Zg(r,s,d,l,f);break e}else if(d!==f){f=qo(Error(t(424)),s),s=Zg(r,s,d,l,f);break e}else for(An=Pi(s.stateNode.containerInfo.firstChild),kn=s,lt=!0,ir=null,l=dg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),d===f){s=ti(r,s,l);break e}an(r,s,d,l)}s=s.child}return s;case 5:return gg(s),r===null&&_h(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,lh(d,f)?E=null:g!==null&&lh(d,g)&&(s.flags|=32),Yg(r,s),an(r,s,E,l),s.child;case 6:return r===null&&_h(s),null;case 13:return e_(r,s,l);case 4:return Ch(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Uo(s,null,d,l):an(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),Hg(r,s,d,f,l);case 7:return an(r,s,s.pendingProps,l),s.child;case 8:return an(r,s,s.pendingProps.children,l),s.child;case 12:return an(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,tt(Qu,d._currentValue),d._currentValue=E,g!==null)if(rr(g.value,E)){if(g.children===f.children&&!fn.current){s=ti(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){E=g.child;for(var j=x.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=ei(-1,l&-l),j.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),H.pending=j}}g.lanes|=l,j=g.alternate,j!==null&&(j.lanes|=l),Th(g.return,l,s),x.lanes|=l;break}j=j.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),Th(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}an(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Bo(s,l),f=Un(f),d=d(f),s.flags|=1,an(r,s,d,l),s.child;case 14:return d=s.type,f=sr(d,s.pendingProps),f=sr(d.type,f),Gg(r,s,d,f,l);case 15:return Kg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:sr(d,f),ac(r,s),s.tag=1,pn(d)?(r=!0,zu(s)):r=!1,Bo(s,l),jg(s,d,f),Fh(s,d,f,l),Bh(null,s,d,!0,r,l);case 19:return n_(r,s,l);case 22:return Qg(r,s,l)}throw Error(t(156,s.tag))};function R_(r,s){return mo(r,s)}function ST(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,l,d){return new ST(r,s,l,d)}function uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function CT(r){if(typeof r=="function")return uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ne)return 14}return 2}function Ui(r,s){var l=r.alternate;return l===null?(l=zn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function yc(r,s,l,d,f,g){var E=2;if(d=r,typeof r=="function")uf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return $s(l.children,f,g,s);case R:E=8,f|=8;break;case k:return r=zn(12,l,s,f|2),r.elementType=k,r.lanes=g,r;case T:return r=zn(13,l,s,f),r.elementType=T,r.lanes=g,r;case oe:return r=zn(19,l,s,f),r.elementType=oe,r.lanes=g,r;case Te:return vc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:E=10;break e;case M:E=9;break e;case F:E=11;break e;case Ne:E=14;break e;case we:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=zn(E,l,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function $s(r,s,l,d){return r=zn(7,r,d,s),r.lanes=l,r}function vc(r,s,l,d){return r=zn(22,r,d,s),r.elementType=Te,r.lanes=l,r.stateNode={isHidden:!1},r}function cf(r,s,l){return r=zn(6,r,null,s),r.lanes=l,r}function df(r,s,l){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function RT(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function hf(r,s,l,d,f,g,E,x,j){return r=new RT(r,s,l,x,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=zn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(g),r}function kT(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function k_(r){if(!r)return Ni;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(pn(l))return tg(r,l,s)}return s}function A_(r,s,l,d,f,g,E,x,j){return r=hf(l,d,!0,r,f,g,E,x,j),r.context=k_(null),l=r.current,d=ln(),f=Fi(l),g=ei(d,f),g.callback=s??null,Li(l,g,f),r.current.lanes=f,Ti(r,f,d),_n(r,d),r}function wc(r,s,l,d){var f=s.current,g=ln(),E=Fi(f);return l=k_(l),s.context===null?s.context=l:s.pendingContext=l,s=ei(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Li(f,s,E),r!==null&&(lr(r,f,E,g),Xu(r,f,E)),E}function Ec(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function P_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ff(r,s){P_(r,s),(r=r.alternate)&&P_(r,s)}function AT(){return null}var x_=typeof reportError=="function"?reportError:function(r){console.error(r)};function pf(r){this._internalRoot=r}Tc.prototype.render=pf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));wc(r,s,null,null)},Tc.prototype.unmount=pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fs(function(){wc(null,r,null,null)}),s[Qr]=null}};function Tc(r){this._internalRoot=r}Tc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Tu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Er.length&&s!==0&&s<Er[l].priority;l++);Er.splice(l,0,r),l===0&&Cu(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function N_(){}function PT(r,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var H=Ec(E);g.call(H)}}var E=A_(s,d,r,0,null,!1,!1,"",N_);return r._reactRootContainer=E,r[Qr]=E.current,Ja(r.nodeType===8?r.parentNode:r),Fs(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var x=d;d=function(){var H=Ec(j);x.call(H)}}var j=hf(r,0,!1,null,null,!1,!1,"",N_);return r._reactRootContainer=j,r[Qr]=j.current,Ja(r.nodeType===8?r.parentNode:r),Fs(function(){wc(s,j,l,d)}),j}function Sc(r,s,l,d,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var x=f;f=function(){var j=Ec(E);x.call(j)}}wc(s,E,r,f)}else E=PT(l,s,r,f,d);return Ec(E)}wu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=wi(s.pendingLanes);l!==0&&(Ii(s,l|1),_n(s,et()),!(He&6)&&(Go=et()+500,bi()))}break;case 13:Fs(function(){var d=Zr(r,1);if(d!==null){var f=ln();lr(d,r,1,f)}}),ff(r,1)}},yo=function(r){if(r.tag===13){var s=Zr(r,134217728);if(s!==null){var l=ln();lr(s,r,134217728,l)}ff(r,134217728)}},Eu=function(r){if(r.tag===13){var s=Fi(r),l=Zr(r,s);if(l!==null){var d=ln();lr(l,r,s,d)}ff(r,s)}},Tu=function(){return $e},Iu=function(r,s){var l=$e;try{return $e=r,s()}finally{$e=l}},lo=function(r,s,l){switch(s){case"input":if(ps(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=$u(d);if(!f)throw Error(t(90));bt(d),ps(d,f)}}}break;case"textarea":oo(r,l);break;case"select":s=l.value,s!=null&&$r(r,!!l.multiple,s,!1)}},ys=of,Da=Fs;var xT={usingClientEntryPoint:!1,Events:[tl,Lo,$u,vr,ba,of]},ml={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NT={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ma(r),r===null?null:r.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||AT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Is=Cc.inject(NT),In=Cc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xT,yn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(s))throw Error(t(200));return kT(r,s,null,l)},yn.createRoot=function(r,s){if(!mf(r))throw Error(t(299));var l=!1,d="",f=x_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=hf(r,1,!1,null,null,l,!1,d,f),r[Qr]=s.current,Ja(r.nodeType===8?r.parentNode:r),new pf(s)},yn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ma(s),r=r===null?null:r.stateNode,r},yn.flushSync=function(r){return Fs(r)},yn.hydrate=function(r,s,l){if(!Ic(s))throw Error(t(200));return Sc(null,r,s,!0,l)},yn.hydrateRoot=function(r,s,l){if(!mf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",E=x_;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=A_(s,null,r,1,l??null,f,!1,g,E),r[Qr]=s.current,Ja(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Tc(s)},yn.render=function(r,s,l){if(!Ic(s))throw Error(t(200));return Sc(null,r,s,!1,l)},yn.unmountComponentAtNode=function(r){if(!Ic(r))throw Error(t(40));return r._reactRootContainer?(Fs(function(){Sc(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},yn.unstable_batchedUpdates=of,yn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Ic(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Sc(r,s,l,!1,d)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var j_;function jT(){if(j_)return yf.exports;j_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yf.exports=FT(),yf.exports}var U_;function UT(){if(U_)return Rc;U_=1;var n=jT();return Rc.createRoot=n.createRoot,Rc.hydrateRoot=n.hydrateRoot,Rc}var $T=UT(),_l={},$_;function BT(){if($_)return _l;$_=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=c,_l.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,b){const A=new a,O=I.length;if(O<2)return A;const N=(b==null?void 0:b.decode)||w;let U=0;do{const V=I.indexOf("=",U);if(V===-1)break;const K=I.indexOf(";",U),Y=K===-1?O:K;if(V>Y){U=I.lastIndexOf(";",V-1)+1;continue}const X=h(I,U,V),ue=p(I,V,X),D=I.slice(X,ue);if(A[D]===void 0){let R=h(I,V+1,Y),k=p(I,Y,R);const P=N(I.slice(R,k));A[D]=P}U=Y+1}while(U<O);return A}function h(I,b,A){do{const O=I.charCodeAt(b);if(O!==32&&O!==9)return b}while(++b<A);return A}function p(I,b,A){for(;b>A;){const O=I.charCodeAt(--b);if(O!==32&&O!==9)return b+1}return A}function _(I,b,A){const O=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const N=O(b);if(!e.test(N))throw new TypeError(`argument val is invalid: ${b}`);let U=I+"="+N;if(!A)return U;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);U+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);U+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);U+="; Path="+A.path}if(A.expires){if(!S(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);U+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(U+="; HttpOnly"),A.secure&&(U+="; Secure"),A.partitioned&&(U+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return U}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return o.call(I)==="[object Date]"}return _l}BT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B_="popstate";function zT(n={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=eo(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Vf("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");h=_===-1?p:p.slice(0,_)}return h+"#"+(typeof a=="string"?a:Ol(a))}function i(o,a){Hn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return WT(e,t,i,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qT(){return Math.random().toString(36).substring(2,10)}function z_(n,e){return{usr:n.state,key:n.key,idx:e}}function Vf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||i||qT()}}function Ol({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function WT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,_=w();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function w(){return(c.state||{idx:null}).idx}function S(){h="POP";let N=w(),U=N==null?null:N-_;_=N,p&&p({action:h,location:O.location,delta:U})}function I(N,U){h="PUSH";let V=Vf(O.location,N,U);t&&t(V,N),_=w()+1;let K=z_(V,_),Y=O.createHref(V);try{c.pushState(K,"",Y)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(Y)}a&&p&&p({action:h,location:O.location,delta:1})}function b(N,U){h="REPLACE";let V=Vf(O.location,N,U);t&&t(V,N),_=w();let K=z_(V,_),Y=O.createHref(V);c.replaceState(K,"",Y),a&&p&&p({action:h,location:O.location,delta:0})}function A(N){let U=o.location.origin!=="null"?o.location.origin:o.location.href,V=typeof N=="string"?N:Ol(N);return V=V.replace(/ $/,"%20"),ut(U,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,U)}let O={get action(){return h},get location(){return n(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(B_,S),p=N,()=>{o.removeEventListener(B_,S),p=null}},createHref(N){return e(o,N)},createURL:A,encodeLocation(N){let U=A(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:I,replace:b,go(N){return c.go(N)}};return O}function Av(n,e,t="/"){return HT(n,e,t,!1)}function HT(n,e,t,i){let o=typeof e=="string"?eo(e):e,a=es(o.pathname||"/",t);if(a==null)return null;let c=Pv(n);GT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let _=i1(a);h=n1(c[p],_,i)}return h}function Pv(n,e=[],t=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ai([i,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(ut(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Pv(a.children,e,w,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:e1(_,a.index),routesMeta:w})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of xv(a.path))o(a,c,p)}),e}function xv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=xv(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function GT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:t1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var KT=/^:[\w-]+$/,QT=3,YT=2,XT=1,JT=10,ZT=-2,q_=n=>n==="*";function e1(n,e){let t=n.split("/"),i=t.length;return t.some(q_)&&(i+=ZT),e&&(i+=YT),t.filter(o=>!q_(o)).reduce((o,a)=>o+(KT.test(a)?QT:a===""?XT:JT),i)}function t1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function n1(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],_=h===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",S=Yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},w),I=p.route;if(!S&&_&&t&&!i[i.length-1].route.index&&(S=Yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:ai([a,S.pathname]),pathnameBase:l1(ai([a,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(a=ai([a,S.pathnameBase]))}return c}function Yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=r1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((_,{paramName:w,isOptional:S},I)=>{if(w==="*"){let A=h[I]||"";c=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=h[I];return S&&!b?_[w]=void 0:_[w]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:c,pattern:n}}function r1(n,e=!1,t=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function i1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function es(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function s1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?eo(n):n;return{pathname:t?t.startsWith("/")?t:o1(t,e):e,search:u1(i),hash:c1(o)}}function o1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fp(n){let e=a1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pp(n,e,t,i=!1){let o;typeof n=="string"?o=eo(n):(o={...n},ut(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}h=S>=0?e[S]:"/"}let p=s1(o,h),_=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||w)&&(p.pathname+="/"),p}var ai=n=>n.join("/").replace(/\/\/+/g,"/"),l1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,c1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function d1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Nv=["POST","PUT","PATCH","DELETE"];new Set(Nv);var h1=["GET",...Nv];new Set(h1);var pa=L.createContext(null);pa.displayName="DataRouter";var md=L.createContext(null);md.displayName="DataRouterState";var bv=L.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var f1=L.createContext(new Map);f1.displayName="Fetchers";var p1=L.createContext(null);p1.displayName="Await";var pr=L.createContext(null);pr.displayName="Navigation";var Ql=L.createContext(null);Ql.displayName="Location";var mr=L.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var mp=L.createContext(null);mp.displayName="RouteError";function m1(n,{relative:e}={}){ut(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(pr),{hash:o,pathname:a,search:c}=Yl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ai([t,a])),i.createHref({pathname:h,search:c,hash:o})}function ma(){return L.useContext(Ql)!=null}function gr(){return ut(ma(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ql).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lv(n){L.useContext(pr).static||L.useLayoutEffect(n)}function ls(){let{isDataRoute:n}=L.useContext(mr);return n?x1():g1()}function g1(){ut(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(pa),{basename:e,navigator:t}=L.useContext(pr),{matches:i}=L.useContext(mr),{pathname:o}=gr(),a=JSON.stringify(fp(i)),c=L.useRef(!1);return Lv(()=>{c.current=!0}),L.useCallback((p,_={})=>{if(Hn(c.current,Dv),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=pp(p,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ai([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,a,o,n])}var _1=L.createContext(null);function y1(n){let e=L.useContext(mr).outlet;return e&&L.createElement(_1.Provider,{value:n},e)}function Yl(n,{relative:e}={}){let{matches:t}=L.useContext(mr),{pathname:i}=gr(),o=JSON.stringify(fp(t));return L.useMemo(()=>pp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function v1(n,e){return Ov(n,e)}function Ov(n,e,t,i){var U;ut(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(pr),{matches:a}=L.useContext(mr),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",w=c&&c.route;{let V=w&&w.path||"";Mv(p,!w||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let S=gr(),I;if(e){let V=typeof e=="string"?eo(e):e;ut(_==="/"||((U=V.pathname)==null?void 0:U.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),I=V}else I=S;let b=I.pathname||"/",A=b;if(_!=="/"){let V=_.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=Av(n,{pathname:A});Hn(w||O!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=S1(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:ai([_,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:ai([_,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),a,t,i);return e&&N?L.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},N):N}function w1(){let n=P1(),e=d1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,c)}var E1=L.createElement(w1,null),T1=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(mr.Provider,{value:this.props.routeContext},L.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I1({routeContext:n,match:e,children:t}){let i=L.useContext(pa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(mr.Provider,{value:n},t)}function S1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(_=>_.route.id&&(a==null?void 0:a[_.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=p),_.route.id){let{loaderData:w,errors:S}=t,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,_,w)=>{let S,I=!1,b=null,A=null;t&&(S=a&&_.route.id?a[_.route.id]:void 0,b=_.route.errorElement||E1,c&&(h<0&&w===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,A=null):h===w&&(I=!0,A=_.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,w+1)),N=()=>{let U;return S?U=b:I?U=A:_.route.Component?U=L.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=p,L.createElement(I1,{match:_,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:U})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?L.createElement(T1,{location:t.location,revalidation:t.revalidation,component:b,error:S,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):N()},null)}function gp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(n){let e=L.useContext(pa);return ut(e,gp(n)),e}function R1(n){let e=L.useContext(md);return ut(e,gp(n)),e}function k1(n){let e=L.useContext(mr);return ut(e,gp(n)),e}function _p(n){let e=k1(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function A1(){return _p("useRouteId")}function P1(){var i;let n=L.useContext(mp),e=R1("useRouteError"),t=_p("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function x1(){let{router:n}=C1("useNavigate"),e=_p("useNavigate"),t=L.useRef(!1);return Lv(()=>{t.current=!0}),L.useCallback(async(o,a={})=>{Hn(t.current,Dv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var W_={};function Mv(n,e,t){!e&&!W_[n]&&(W_[n]=!0,Hn(!1,t))}L.memo(N1);function N1({routes:n,future:e,state:t}){return Ov(n,void 0,t,e)}function H_({to:n,replace:e,state:t,relative:i}){ut(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(pr);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=L.useContext(mr),{pathname:c}=gr(),h=ls(),p=pp(n,fp(a),c,i==="path"),_=JSON.stringify(p);return L.useEffect(()=>{h(JSON.parse(_),{replace:e,state:t,relative:i})},[h,_,i,e,t]),null}function b1(n){return y1(n.context)}function bn(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){ut(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=eo(t));let{pathname:p="/",search:_="",hash:w="",state:S=null,key:I="default"}=t,b=L.useMemo(()=>{let A=es(p,c);return A==null?null:{location:{pathname:A,search:_,hash:w,state:S,key:I},navigationType:i}},[c,p,_,w,S,I,i]);return Hn(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(pr.Provider,{value:h},L.createElement(Ql.Provider,{children:e,value:b}))}function L1({children:n,location:e}){return v1(Ff(n),e)}function Ff(n,e=[]){let t=[];return L.Children.forEach(n,(i,o)=>{if(!L.isValidElement(i))return;let a=[...e,o];if(i.type===L.Fragment){t.push.apply(t,Ff(i.props.children,a));return}ut(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ff(i.props.children,a)),t.push(c)}),t}var Fc="get",jc="application/x-www-form-urlencoded";function gd(n){return n!=null&&typeof n.tagName=="string"}function O1(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function M1(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function V1(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function F1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function j1(n,e){return n.button===0&&(!e||e==="_self")&&!F1(n)}var kc=null;function U1(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var $1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!$1.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):n}function B1(n,e){let t,i,o,a,c;if(M1(n)){let h=n.getAttribute("action");i=h?es(h,e):null,t=n.getAttribute("method")||Fc,o=Tf(n.getAttribute("enctype"))||jc,a=new FormData(n)}else if(O1(n)||V1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?es(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Fc,o=Tf(n.getAttribute("formenctype"))||Tf(h.getAttribute("enctype"))||jc,a=new FormData(h,n),!U1()){let{name:_,type:w,value:S}=n;if(w==="image"){let I=_?`${_}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else _&&a.append(_,S)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fc,i=null,o=jc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function yp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function z1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function W1(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await z1(a,t);return c.links?c.links():[]}return[]}));return Q1(i.flat(1).filter(q1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(n,e,t,i,o,a){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,h=(p,_)=>{var w;return t[_].pathname!==p.pathname||((w=t[_].route.path)==null?void 0:w.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,_)=>c(p,_)||h(p,_)):a==="data"?e.filter((p,_)=>{var S;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,_)||h(p,_))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function H1(n,e){return G1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function G1(n){return[...new Set(n)]}function K1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Q1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(K1(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function Y1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function X1(){let n=L.useContext(pa);return yp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function J1(){let n=L.useContext(md);return yp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vp=L.createContext(void 0);vp.displayName="FrameworkContext";function Vv(){let n=L.useContext(vp);return yp(n,"You must render this element inside a <HydratedRouter> element"),n}function Z1(n,e){let t=L.useContext(vp),[i,o]=L.useState(!1),[a,c]=L.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:_,onMouseLeave:w,onTouchStart:S}=e,I=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=U=>{U.forEach(V=>{c(V.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return I.current&&N.observe(I.current),()=>{N.disconnect()}}},[n]),L.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let b=()=>{o(!0)},A=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:yl(h,b),onBlur:yl(p,A),onMouseEnter:yl(_,b),onMouseLeave:yl(w,A),onTouchStart:yl(S,b)}]:[!1,I,{}]}function yl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eI({page:n,...e}){let{router:t}=X1(),i=L.useMemo(()=>Av(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(nI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function tI(n){let{manifest:e,routeModules:t}=Vv(),[i,o]=L.useState([]);return L.useEffect(()=>{let a=!1;return W1(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function nI({page:n,matches:e,...t}){let i=gr(),{manifest:o,routeModules:a}=Vv(),{loaderData:c,matches:h}=J1(),p=L.useMemo(()=>G_(n,e,h,o,i,"data"),[n,e,h,o,i]),_=L.useMemo(()=>G_(n,e,h,o,i,"assets"),[n,e,h,o,i]),w=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,A=!1;if(e.forEach(N=>{var V;let U=o.routes[N.route.id];!U||!U.hasLoader||(!p.some(K=>K.route.id===N.route.id)&&N.route.id in c&&((V=a[N.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?A=!0:b.add(N.route.id))}),b.size===0)return[];let O=Y1(n);return A&&b.size>0&&O.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[O.pathname+O.search]},[c,i,o,p,e,n,a]),S=L.useMemo(()=>H1(_,o),[_,o]),I=tI(_);return L.createElement(L.Fragment,null,w.map(b=>L.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),S.map(b=>L.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),I.map(({key:b,link:A})=>L.createElement("link",{key:b,...A})))}function rI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fv&&(window.__reactRouterVersion="7.0.2")}catch{}function iI({basename:n,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=zT({window:t,v5Compat:!0}));let o=i.current,[a,c]=L.useState({action:o.action,location:o.location}),h=L.useCallback(p=>{L.startTransition(()=>c(p))},[c]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.createElement(D1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:_,preventScrollReset:w,viewTransition:S,...I},b){let{basename:A}=L.useContext(pr),O=typeof _=="string"&&jv.test(_),N,U=!1;if(typeof _=="string"&&O&&(N=_,Fv))try{let k=new URL(window.location.href),P=_.startsWith("//")?new URL(k.protocol+_):new URL(_),M=es(P.pathname,A);P.origin===k.origin&&M!=null?_=M+P.search+P.hash:U=!0}catch{Hn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=m1(_,{relative:o}),[K,Y,X]=Z1(i,I),ue=lI(_,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:S});function D(k){e&&e(k),k.defaultPrevented||ue(k)}let R=L.createElement("a",{...I,...X,href:N||V,onClick:U||a?e:D,ref:rI(b,Y),target:p,"data-discover":!O&&t==="render"?"true":void 0});return K&&!O?L.createElement(L.Fragment,null,R,L.createElement(eI,{page:V})):R});qi.displayName="Link";var sI=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,..._},w){let S=Yl(c,{relative:_.relative}),I=gr(),b=L.useContext(md),{navigator:A,basename:O}=L.useContext(pr),N=b!=null&&fI(S)&&h===!0,U=A.encodeLocation?A.encodeLocation(S).pathname:S.pathname,V=I.pathname,K=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(V=V.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&O&&(K=es(K,O)||K);const Y=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let X=V===U||!o&&V.startsWith(U)&&V.charAt(Y)==="/",ue=K!=null&&(K===U||!o&&K.startsWith(U)&&K.charAt(U.length)==="/"),D={isActive:X,isPending:ue,isTransitioning:N},R=X?e:void 0,k;typeof i=="function"?k=i(D):k=[i,X?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(D):a;return L.createElement(qi,{..._,"aria-current":R,className:k,ref:w,style:P,to:c,viewTransition:h},typeof p=="function"?p(D):p)});sI.displayName="NavLink";var oI=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Fc,action:h,onSubmit:p,relative:_,preventScrollReset:w,viewTransition:S,...I},b)=>{let A=dI(),O=hI(h,{relative:_}),N=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&jv.test(h),V=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let Y=K.nativeEvent.submitter,X=(Y==null?void 0:Y.getAttribute("formmethod"))||c;A(Y||K.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:o,state:a,relative:_,preventScrollReset:w,viewTransition:S})};return L.createElement("form",{ref:b,method:N,action:O,onSubmit:i?p:V,...I,"data-discover":!U&&n==="render"?"true":void 0})});oI.displayName="Form";function aI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(n){let e=L.useContext(pa);return ut(e,aI(n)),e}function lI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=ls(),p=gr(),_=Yl(n,{relative:a});return L.useCallback(w=>{if(j1(w,e)){w.preventDefault();let S=t!==void 0?t:Ol(p)===Ol(_);h(n,{replace:S,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,_,t,i,e,n,o,a,c])}var uI=0,cI=()=>`__${String(++uI)}__`;function dI(){let{router:n}=Uv("useSubmit"),{basename:e}=L.useContext(pr),t=A1();return L.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:_}=B1(i,e);if(o.navigate===!1){let w=o.fetcherKey||cI();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function hI(n,{relative:e}={}){let{basename:t}=L.useContext(pr),i=L.useContext(mr);ut(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Yl(n||".",{relative:e})},c=gr();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(S=>S).forEach(S=>h.append("index",S));let w=h.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ai([t,a.pathname])),Ol(a)}function fI(n,e={}){let t=L.useContext(bv);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Uv("useViewTransitionState"),o=Yl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=es(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=es(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yc(o.pathname,c)!=null||Yc(o.pathname,a)!=null}new TextEncoder;const pI="_sidebar_86llt_1",mI="_profileSection_86llt_19",gI="_navigation_86llt_35",_I="_avatar_86llt_43",yI="_userInfo_86llt_69",vI="_navList_86llt_125",wI="_navItem_86llt_143",EI="_navLink_86llt_151",TI="_createEventBtn_86llt_181",II="_dropdown_86llt_217",SI="_dropdownItem_86llt_257",CI="_logoutBtn_86llt_279",RI="_dashboardContainer_86llt_321",kI="_mainContent_86llt_329",AI="_welcomeContainer_86llt_361",PI="_welcomeTitle_86llt_381",xI="_welcomeText_86llt_401",NI="_hamburgerBtn_86llt_409",bI="_overlay_86llt_435",DI="_sidebarOpen_86llt_475",ke={sidebar:pI,profileSection:mI,navigation:gI,avatar:_I,userInfo:yI,navList:vI,navItem:wI,navLink:EI,createEventBtn:TI,dropdown:II,dropdownItem:SI,logoutBtn:CI,dashboardContainer:RI,mainContent:kI,welcomeContainer:AI,welcomeTitle:PI,welcomeText:xI,hamburgerBtn:NI,overlay:bI,sidebarOpen:DI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$v=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},p)=>L.createElement("svg",{ref:p,...OI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:$v("lucide",o),...h},[...c.map(([_,w])=>L.createElement(_,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(n,e)=>{const t=L.forwardRef(({className:i,...o},a)=>L.createElement(MI,{ref:a,iconNode:e,className:$v(`lucide-${LI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ct("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ct("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ct("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ct("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ct("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ct("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ct("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ct("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ct("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,w=a>>2,S=(a&3)<<4|h>>4;let I=(h&15)<<2|_>>6,b=_&63;p||(b=64,c||(I=64)),i.push(t[w],t[S],t[I],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||_==null||S==null)throw new ZI;const I=a<<2|h>>4;if(i.push(I),_!==64){const b=h<<4&240|_>>2;if(i.push(b),S!==64){const A=_<<6&192|S;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(n){const e=Hv(n);return Gv.encodeByteArray(e,!0)},Xc=function(n){return eS(n).replace(/\./g,"")},Kv=function(n){try{return Gv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=()=>tS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof Q_>"u")return;const n=Q_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Kv(n[1]);return e&&JSON.parse(e)},yd=()=>{try{return nS()||rS()||iS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qv=n=>{var e,t;return(t=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Yv=n=>{const e=Qv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Xv=()=>{var n;return(n=yd())===null||n===void 0?void 0:n.config},Jv=n=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function aS(){var n;const e=(n=yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class Vr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mS,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?gS(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Vr(o,h,i)}}function gS(n,e){return n.replace(_S,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const _S=/\{\$([^}]+)}/g;function yS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Y_(a)&&Y_(c)){if(!Jc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Y_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Il(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Sl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vS(n,e){const t=new wS(n,e);return t.subscribe.bind(t)}class wS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ES(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){return n&&n._delegate?n._delegate:n}class ts{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new sS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SS(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(n){return n===zs?void 0:n}function SS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const RS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kS=je.INFO,AS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},PS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=AS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=kS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const xS=(n,e)=>e.some(t=>n instanceof t);let X_,J_;function NS(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,jf=new WeakMap,tw=new WeakMap,Sf=new WeakMap,Tp=new WeakMap;function DS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Xi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ew.set(t,n)}).catch(()=>{}),Tp.set(e,n),e}function LS(n){if(jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});jf.set(n,e)}let Uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OS(n){Uf=n(Uf)}function MS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cf(this),e,...t);return tw.set(i,e.sort?e.sort():[e]),Xi(i)}:bS().includes(n)?function(...e){return n.apply(Cf(this),e),Xi(ew.get(this))}:function(...e){return Xi(n.apply(Cf(this),e))}}function VS(n){return typeof n=="function"?MS(n):(n instanceof IDBTransaction&&LS(n),xS(n,NS())?new Proxy(n,Uf):n)}function Xi(n){if(n instanceof IDBRequest)return DS(n);if(Sf.has(n))return Sf.get(n);const e=VS(n);return e!==n&&(Sf.set(n,e),Tp.set(e,n)),e}const Cf=n=>Tp.get(n);function FS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Xi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Xi(c.result),p.oldVersion,p.newVersion,Xi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}const jS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],Rf=new Map;function Z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=US.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||jS.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(h.shift())),(await Promise.all([_[t](...h),o&&p.done]))[0]};return Rf.set(e,a),a}OS(n=>({...n,get:(e,t,i)=>Z_(e,t)||n.get(e,t,i),has:(e,t)=>!!Z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function BS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $f="@firebase/app",ey="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Ep("@firebase/app"),zS="@firebase/app-compat",qS="@firebase/analytics-compat",WS="@firebase/analytics",HS="@firebase/app-check-compat",GS="@firebase/app-check",KS="@firebase/auth",QS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",JS="@firebase/database-compat",ZS="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",rC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",oC="@firebase/performance-compat",aC="@firebase/remote-config",lC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",dC="@firebase/firestore",hC="@firebase/vertexai",fC="@firebase/firestore-compat",pC="firebase",mC="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",gC={[$f]:"fire-core",[zS]:"fire-core-compat",[WS]:"fire-analytics",[qS]:"fire-analytics-compat",[GS]:"fire-app-check",[HS]:"fire-app-check-compat",[KS]:"fire-auth",[QS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[JS]:"fire-rtdb-compat",[ZS]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[rC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[oC]:"fire-perf-compat",[aC]:"fire-rc",[lC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[dC]:"fire-fst",[fC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[pC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,_C=new Map,zf=new Map;function ty(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qs(n){const e=n.name;if(zf.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,n);for(const t of Zc.values())ty(t,n);for(const t of _C.values())ty(t,n);return!0}function vd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Xl("app","Firebase",yC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=mC;function ga(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(t||(t=Xv()),!t)throw Ji.create("no-options");const a=Zc.get(o);if(a){if(Jc(t,a.options)&&Jc(i,a.config))return a;throw Ji.create("duplicate-app",{appName:o})}const c=new CS(o);for(const p of zf.values())c.addComponent(p);const h=new vC(t,i,c);return Zc.set(o,h),h}function Ip(n=Bf){const e=Zc.get(n);if(!e&&n===Bf&&Xv())return ga();if(!e)throw Ji.create("no-app",{appName:n});return e}function br(n,e,t){var i;let o=(i=gC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}Qs(new ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",EC=1,Ml="firebase-heartbeat-store";let kf=null;function nw(){return kf||(kf=FS(wC,EC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),kf}async function TC(n){try{const t=(await nw()).transaction(Ml),i=await t.objectStore(Ml).get(rw(n));return await t.done,i}catch(e){if(e instanceof Vr)ci.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function ny(n,e){try{const i=(await nw()).transaction(Ml,"readwrite");await i.objectStore(Ml).put(e,rw(n)),await i.done}catch(t){if(t instanceof Vr)ci.warn(t.message);else{const i=Ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,SC=30*24*60*60*1e3;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ry();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=SC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ry(),{heartbeatsToSend:i,unsentEntries:o}=RC(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ci.warn(t),""}}}function ry(){return new Date().toISOString().substring(0,10)}function RC(n,e=IC){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),iy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ny(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ny(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iy(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){Qs(new ts("platform-logger",e=>new $S(e),"PRIVATE")),Qs(new ts("heartbeat",e=>new CC(e),"PRIVATE")),br($f,ey,n),br($f,ey,"esm2017"),br("fire-js","")}AC("");var PC="firebase",xC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(PC,xC,"app");function Sp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NC=iw,sw=new Xl("auth","Firebase",iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Ep("@firebase/auth");function bC(n,...e){ed.logLevel<=je.WARN&&ed.warn(`Auth (${to}): ${n}`,...e)}function Uc(n,...e){ed.logLevel<=je.ERROR&&ed.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,...e){throw Rp(n,...e)}function dr(n,...e){return Rp(n,...e)}function Cp(n,e,t){const i=Object.assign(Object.assign({},NC()),{[e]:t});return new Xl("auth","Firebase",i).create(e,{appName:n.name})}function li(n){return Cp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gn(n,"argument-error"),Cp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sw.create(n,...e)}function Ae(n,e,...t){if(!n)throw Rp(e,...t)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uc(e),new Error(e)}function di(n,e){n||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LC(){return sy()==="http:"||sy()==="https:"}function sy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||uS()||"connection"in navigator)?navigator.onLine:!0}function MC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=oS()||cS()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Zl(3e4,6e4);function mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gi(n,e,t,i,o={}){return aw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Jl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},a);return lS()||(_.referrerPolicy="no-referrer"),ow.fetch()(lw(n,n.config.apiHost,t,h),_)})}async function aw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},VC),e);try{const o=new UC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Pc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,_]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Pc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Pc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Cp(n,w,_);Gn(n,w)}}catch(o){if(o instanceof Vr)throw o;Gn(n,"network-request-failed",{message:String(o)})}}async function eu(n,e,t,i,o={}){const a=await gi(n,e,t,i,o);return"mfaPendingCredential"in a&&Gn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function lw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?kp(n.config,o):`${n.config.apiScheme}://${o}`}function jC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(dr(this.auth,"network-request-failed")),FC.get())})}}function Pc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=dr(n,e,i);return o.customData._tokenResponse=t,o}function oy(n){return n!==void 0&&n.enterprise!==void 0}class $C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BC(n,e){return gi(n,"GET","/v2/recaptchaConfig",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,e){return gi(n,"POST","/v1/accounts:delete",e)}async function uw(n,e){return gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(n,e=!1){const t=st(n),i=await t.getIdToken(e),o=Ap(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Pl(Af(o.auth_time)),issuedAtTime:Pl(Af(o.iat)),expirationTime:Pl(Af(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Af(n){return Number(n)*1e3}function Ap(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kv(t);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ay(n){const e=Ap(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vr&&WC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Vl(n,uw(t,{idToken:i}));Ae(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cw(a.providerUserInfo):[],h=KC(n.providerData,c),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),w=p?_:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Wf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,S)}async function GC(n){const e=st(n);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function cw(n){return n.map(e=>{var{providerId:t}=e,i=Sp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(n,e){const t=await aw(n,{},async()=>{const i=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=lw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ow.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YC(n,e){return gi(n,"POST","/v2/accounts:revokeToken",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ay(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=ay(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await QC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new na;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Vl(this,zC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,p,_,w;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(h=t.tenantId)!==null&&h!==void 0?h:void 0,N=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(_=t.createdAt)!==null&&_!==void 0?_:void 0,V=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:K,emailVerified:Y,isAnonymous:X,providerData:ue,stsTokenManager:D}=t;Ae(K&&D,e,"internal-error");const R=na.fromJSON(this.name,D);Ae(typeof K=="string",e,"internal-error"),Bi(S,e.name),Bi(I,e.name),Ae(typeof Y=="boolean",e,"internal-error"),Ae(typeof X=="boolean",e,"internal-error"),Bi(b,e.name),Bi(A,e.name),Bi(O,e.name),Bi(N,e.name),Bi(U,e.name),Bi(V,e.name);const k=new si({uid:K,auth:e,email:I,emailVerified:Y,displayName:S,isAnonymous:X,photoURL:A,phoneNumber:b,tenantId:O,stsTokenManager:R,createdAt:U,lastLoginAt:V});return ue&&Array.isArray(ue)&&(k.providerData=ue.map(P=>Object.assign({},P))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await td(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new na;h.updateFromIdToken(i);const p=new si({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function oi(n){di(n instanceof Function,"Expected a class definition");let e=ly.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ly.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dw.type="NONE";const uy=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,a),this.fullPersistenceKey=$c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(oi(uy),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||oi(uy);const c=$c(i,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const w=await _._get(c);if(w){const S=si._fromJSON(e,w);_!==a&&(h=S),a=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ra(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(c)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_w(e))return"Blackberry";if(yw(e))return"Webos";if(fw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hw(n=rn()){return/firefox\//i.test(n)}function fw(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(n=rn()){return/crios\//i.test(n)}function mw(n=rn()){return/iemobile/i.test(n)}function gw(n=rn()){return/android/i.test(n)}function _w(n=rn()){return/blackberry/i.test(n)}function yw(n=rn()){return/webos/i.test(n)}function Pp(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XC(n=rn()){var e;return Pp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JC(){return dS()&&document.documentMode===10}function vw(n=rn()){return Pp(n)||gw(n)||yw(n)||_w(n)||/windows phone/i.test(n)||mw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e=[]){let t;switch(n){case"Browser":t=cy(rn());break;case"Worker":t=`${cy(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n,e={}){return gi(n,"GET","/v2/passwordPolicy",mi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=6;class nR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:tR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new ZC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uw(this,{idToken:e}),i=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(li(this));const t=e?st(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eR(this),t=new nR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await YC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function us(n){return st(n)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=vS(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(n){wd=n}function Ew(n){return wd.loadJS(n)}function sR(){return wd.recaptchaEnterpriseScript}function oR(){return wd.gapiScript}function aR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lR{constructor(){this.enterprise=new uR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cR="recaptcha-enterprise",Tw="NO_RECAPTCHA";class dR{constructor(e){this.type=cR,this.auth=us(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{BC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const _=new $C(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,c(_.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;oy(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{c(_)}).catch(()=>{c(Tw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&oy(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sR();p.length!==0&&(p+=h),Ew(p).then(()=>{o(h,a,c)}).catch(_=>{c(_)})}}).catch(h=>{c(h)})})}}async function hy(n,e,t,i=!1,o=!1){const a=new dR(n);let c;if(o)c=Tw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,_=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Hf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hy(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await hy(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e){const t=vd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function fR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pR(n,e,t){const i=us(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Iw(e),{host:c,port:h}=mR(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),gR()}function Iw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mR(n){const e=Iw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:fy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:fy(c)}}}function fy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function _R(n,e){return gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e){return eu(n,"POST","/v1/accounts:signInWithPassword",mi(n,e))}async function vR(n,e){return gi(n,"POST","/v1/accounts:sendOobCode",mi(n,e))}async function wR(n,e){return vR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))}async function TR(n,e){return eu(n,"POST","/v1/accounts:signInWithEmailLink",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends xp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,t,"signInWithPassword",yR);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,i,"signUpPassword",_R);case"emailLink":return TR(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return eu(n,"POST","/v1/accounts:signInWithIdp",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="http://localhost";class Ys extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Sp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ys(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:IR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(n){const e=Il(Sl(n)).link,t=e?Il(Sl(e)).deep_link_id:null,i=Il(Sl(n)).deep_link_id;return(i?Il(Sl(i)).link:null)||i||t||e||n}class Np{constructor(e){var t,i,o,a,c,h;const p=Il(Sl(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,S=SR((o=p.mode)!==null&&o!==void 0?o:null);Ae(_&&w&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=CR(e);try{return new Np(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Fl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Np.parseLink(t);return Ae(i,"argument-error"),Fl._fromEmailAndCode(e,i.code,i.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends tu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ri.credential(t,i)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends tu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends tu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gi.credential(t,i)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,e){return eu(n,"POST","/v1/accounts:signUp",mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await si._fromIdTokenResponse(e,i,o),c=py(i);return new Xs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=py(i);return new Xs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function py(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Vr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new nd(e,t,i,o)}}function Sw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(n,a,e,i):a})}async function kR(n,e,t=!1){const i=await Vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e,t=!1){const{auth:i}=n;if(ur(i.app))return Promise.reject(li(i));const o="reauthenticate";try{const a=await Vl(n,Sw(i,o,e,n),t);Ae(a.idToken,i,"internal-error");const c=Ap(a.idToken);Ae(c,i,"internal-error");const{sub:h}=c;return Ae(n.uid===h,i,"user-mismatch"),Xs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(n,e,t=!1){if(ur(n.app))return Promise.reject(li(n));const i="signIn",o=await Sw(n,i,e),a=await Xs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function PR(n,e){return Cw(us(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(n){const e=us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kw(n,e,t){if(ur(n.app))return Promise.reject(li(n));const i=us(n),c=await Hf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Rw(n),p}),h=await Xs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function xc(n,e,t){return ur(n.app)?Promise.reject(li(n)):PR(st(n),_a.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Rw(n),i})}async function Aw(n,e){const t=st(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await wR(t.auth,o);a!==n.email&&await n.reload()}function xR(n,e,t,i){return st(n).onIdTokenChanged(e,t,i)}function NR(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function jl(n){return st(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1e3,DR=10;class xw extends Pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);JC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const LR=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nw.type="SESSION";const bw=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ed(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async _=>_(t.origin,a)),p=await OR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const _=Dp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function VR(n){Dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UR(){return Dw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebaseLocalStorageDb",$R=1,id="firebaseLocalStorage",Ow="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function BR(){const n=indexedDB.deleteDatabase(Lw);return new nu(n).toPromise()}function Gf(){const n=indexedDB.open(Lw,$R);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(id,{keyPath:Ow})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(id)?e(i):(i.close(),await BR(),e(await Gf()))})})}async function my(n,e,t){const i=Td(n,!0).put({[Ow]:e,value:t});return new nu(i).toPromise()}async function zR(n,e){const t=Td(n,!1).get(e),i=await new nu(t).toPromise();return i===void 0?null:i.value}function gy(n,e){const t=Td(n,!0).delete(e);return new nu(t).toPromise()}const qR=800,WR=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>WR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await my(e,rd,"1"),await gy(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>my(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>zR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Td(o,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const HR=Mw;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e){return e?oi(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GR(n){return Cw(n.auth,new Lp(n),n.bypassAuthState)}function KR(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),AR(t,new Lp(n),n.bypassAuthState)}async function QR(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),kR(t,new Lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return KR;default:Gn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Zl(2e3,1e4);async function XR(n,e,t){if(ur(n.app))return Promise.reject(dr(n,"operation-not-supported-in-this-environment"));const i=us(n);DC(n,e,bp);const o=Vw(i,t);return new Ws(i,"signInViaPopup",e,o).executeNotNull()}class Ws extends Fw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="pendingRedirect",Bc=new Map;class ZR extends Fw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const i=await ek(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ek(n,e){const t=rk(e),i=nk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function tk(n,e){Bc.set(n._key(),e)}function nk(n){return oi(n._redirectPersistence)}function rk(n){return $c(JR,n.config.apiKey,n.name)}async function ik(n,e,t=!1){if(ur(n.app))return Promise.reject(li(n));const i=us(n),o=Vw(i,e),c=await new ZR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=10*60*1e3;class ok{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ak(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!jw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(_y(e))}saveEventToCache(e){this.cachedEventUids.add(_y(e)),this.lastProcessedEventTime=Date.now()}}function _y(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ak(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n,e={}){return gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ck=/^https?/;async function dk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lk(n);for(const t of e)try{if(hk(t))return}catch{}Gn(n,"unauthorized-domain")}function hk(n){const e=qf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ck.test(t))return!1;if(uk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Zl(3e4,6e4);function yy(){const n=Dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pk(n){return new Promise((e,t)=>{var i,o,a;function c(){yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yy(),t(dr(n,"network-request-failed"))},timeout:fk.get()})}if(!((o=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)c();else{const h=aR("iframefcb");return Dr()[h]=()=>{gapi.load?c():t(dr(n,"network-request-failed"))},Ew(`${oR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw zc=null,e})}let zc=null;function mk(n){return zc=zc||pk(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Zl(5e3,15e3),_k="__/auth/iframe",yk="emulator/auth/iframe",vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ek(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kp(e,yk):`https://${n.config.authDomain}/${_k}`,i={apiKey:e.apiKey,appName:n.name,v:to},o=wk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Jl(i).slice(1)}`}async function Tk(n){const e=await mk(n),t=Dr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:Ek(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=dr(n,"network-request-failed"),h=Dr().setTimeout(()=>{a(c)},gk.get());function p(){Dr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,Ck=600,Rk="_blank",kk="http://localhost";class vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ak(n,e,t,i=Sk,o=Ck){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Ik),{width:i.toString(),height:o.toString(),top:a,left:c}),_=rn().toLowerCase();t&&(h=pw(_)?Rk:t),hw(_)&&(e=e||kk,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[b,A])=>`${I}${b}=${A},`,"");if(XC(_)&&h!=="_self")return Pk(e||"",h),new vy(null);const S=window.open(e||"",h,w);Ae(S,n,"popup-blocked");try{S.focus()}catch{}return new vy(S)}function Pk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="__/auth/handler",Nk="emulator/auth/handler",bk=encodeURIComponent("fac");async function wy(n,e,t,i,o,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:o};if(e instanceof bp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",yS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))c[w]=S}if(e instanceof tu){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),_=p?`#${bk}=${encodeURIComponent(p)}`:"";return`${Dk(n)}?${Jl(h).slice(1)}${_}`}function Dk({config:n}){return n.emulator?kp(n,Nk):`https://${n.authDomain}/${xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class Lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=ik,this._overrideRedirectResult=tk}async _openPopup(e,t,i,o){var a;di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await wy(e,t,i,qf(),o);return Ak(e,c,Dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await wy(e,t,i,qf(),o);return VR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(di(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Tk(e),i=new ok(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vw()||fw()||Pp()}}const Ok=Lk;var Ey="@firebase/auth",Ty="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fk(n){Qs(new ts("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(n)},_=new rR(i,o,a,p);return fR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new ts("auth-internal",e=>{const t=us(e.getProvider("auth").getImmediate());return(i=>new Mk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Ey,Ty,Vk(n)),br(Ey,Ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=5*60,Uk=Jv("authIdTokenMaxAge")||jk;let Iy=null;const $k=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Uk)return;const o=t==null?void 0:t.token;Iy!==o&&(Iy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fr(n=Ip()){const e=vd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hR(n,{popupRedirectResolver:Ok,persistence:[HR,LR,bw]}),i=Jv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=$k(a.toString());NR(t,c,()=>c(t.currentUser)),xR(t,h=>c(h))}}const o=Qv("auth");return o&&pR(t,`http://${o}`),t}function Bk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}iR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=dr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Bk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fk("Browser");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,Uw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.D=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(P,M,F){for(var T=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)T[oe-2]=arguments[oe];return R.prototype[M].apply(P,T)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,k){k||(k=0);var P=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)P[M]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(M=0;16>M;++M)P[M]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],M=D.g[2];var F=D.g[3],T=R+(F^k&(M^F))+P[0]+3614090360&4294967295;R=k+(T<<7&4294967295|T>>>25),T=F+(M^R&(k^M))+P[1]+3905402710&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(k^F&(R^k))+P[2]+606105819&4294967295,M=F+(T<<17&4294967295|T>>>15),T=k+(R^M&(F^R))+P[3]+3250441966&4294967295,k=M+(T<<22&4294967295|T>>>10),T=R+(F^k&(M^F))+P[4]+4118548399&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(M^R&(k^M))+P[5]+1200080426&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(k^F&(R^k))+P[6]+2821735955&4294967295,M=F+(T<<17&4294967295|T>>>15),T=k+(R^M&(F^R))+P[7]+4249261313&4294967295,k=M+(T<<22&4294967295|T>>>10),T=R+(F^k&(M^F))+P[8]+1770035416&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(M^R&(k^M))+P[9]+2336552879&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(k^F&(R^k))+P[10]+4294925233&4294967295,M=F+(T<<17&4294967295|T>>>15),T=k+(R^M&(F^R))+P[11]+2304563134&4294967295,k=M+(T<<22&4294967295|T>>>10),T=R+(F^k&(M^F))+P[12]+1804603682&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(M^R&(k^M))+P[13]+4254626195&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(k^F&(R^k))+P[14]+2792965006&4294967295,M=F+(T<<17&4294967295|T>>>15),T=k+(R^M&(F^R))+P[15]+1236535329&4294967295,k=M+(T<<22&4294967295|T>>>10),T=R+(M^F&(k^M))+P[1]+4129170786&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^M&(R^k))+P[6]+3225465664&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^k&(F^R))+P[11]+643717713&4294967295,M=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(M^F))+P[0]+3921069994&4294967295,k=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(k^M))+P[5]+3593408605&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^M&(R^k))+P[10]+38016083&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^k&(F^R))+P[15]+3634488961&4294967295,M=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(M^F))+P[4]+3889429448&4294967295,k=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(k^M))+P[9]+568446438&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^M&(R^k))+P[14]+3275163606&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^k&(F^R))+P[3]+4107603335&4294967295,M=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(M^F))+P[8]+1163531501&4294967295,k=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(k^M))+P[13]+2850285829&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^M&(R^k))+P[2]+4243563512&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^k&(F^R))+P[7]+1735328473&4294967295,M=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(M^F))+P[12]+2368359562&4294967295,k=M+(T<<20&4294967295|T>>>12),T=R+(k^M^F)+P[5]+4294588738&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^M)+P[8]+2272392833&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^k)+P[11]+1839030562&4294967295,M=F+(T<<16&4294967295|T>>>16),T=k+(M^F^R)+P[14]+4259657740&4294967295,k=M+(T<<23&4294967295|T>>>9),T=R+(k^M^F)+P[1]+2763975236&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^M)+P[4]+1272893353&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^k)+P[7]+4139469664&4294967295,M=F+(T<<16&4294967295|T>>>16),T=k+(M^F^R)+P[10]+3200236656&4294967295,k=M+(T<<23&4294967295|T>>>9),T=R+(k^M^F)+P[13]+681279174&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^M)+P[0]+3936430074&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^k)+P[3]+3572445317&4294967295,M=F+(T<<16&4294967295|T>>>16),T=k+(M^F^R)+P[6]+76029189&4294967295,k=M+(T<<23&4294967295|T>>>9),T=R+(k^M^F)+P[9]+3654602809&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^M)+P[12]+3873151461&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^k)+P[15]+530742520&4294967295,M=F+(T<<16&4294967295|T>>>16),T=k+(M^F^R)+P[2]+3299628645&4294967295,k=M+(T<<23&4294967295|T>>>9),T=R+(M^(k|~F))+P[0]+4096336452&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~M))+P[7]+1126891415&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~k))+P[14]+2878612391&4294967295,M=F+(T<<15&4294967295|T>>>17),T=k+(F^(M|~R))+P[5]+4237533241&4294967295,k=M+(T<<21&4294967295|T>>>11),T=R+(M^(k|~F))+P[12]+1700485571&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~M))+P[3]+2399980690&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~k))+P[10]+4293915773&4294967295,M=F+(T<<15&4294967295|T>>>17),T=k+(F^(M|~R))+P[1]+2240044497&4294967295,k=M+(T<<21&4294967295|T>>>11),T=R+(M^(k|~F))+P[8]+1873313359&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~M))+P[15]+4264355552&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~k))+P[6]+2734768916&4294967295,M=F+(T<<15&4294967295|T>>>17),T=k+(F^(M|~R))+P[13]+1309151649&4294967295,k=M+(T<<21&4294967295|T>>>11),T=R+(M^(k|~F))+P[4]+4149444226&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~M))+P[11]+3174756917&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~k))+P[2]+718787259&4294967295,M=F+(T<<15&4294967295|T>>>17),T=k+(F^(M|~R))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var k=R-this.blockSize,P=this.B,M=this.h,F=0;F<R;){if(M==0)for(;F<=k;)o(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<R;)if(P[M++]=D.charCodeAt(F++),M==this.blockSize){o(this,P),M=0;break}}else for(;F<R;)if(P[M++]=D[F++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=R},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var k=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=k&255,k/=256;for(this.u(D),D=Array(16),R=k=0;4>R;++R)for(var P=0;32>P;P+=8)D[k++]=this.g[R]>>>P&255;return D};function a(D,R){var k=h;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function c(D,R){this.h=R;for(var k=[],P=!0,M=D.length-1;0<=M;M--){var F=D[M]|0;P&&F==R||(k[M]=F,P=!1)}this.g=k}var h={};function p(D){return-128<=D&&128>D?a(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return N(_(-D));for(var R=[],k=1,P=0;D>=k;P++)R[P]=D/k|0,k*=4294967296;return new c(R,0)}function w(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return N(w(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(R,8)),P=S,M=0;M<D.length;M+=8){var F=Math.min(8,D.length-M),T=parseInt(D.substring(M,M+F),R);8>F?(F=_(Math.pow(R,F)),P=P.j(F).add(_(T))):(P=P.j(k),P=P.add(_(T)))}return P}var S=p(0),I=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-N(this).m();for(var D=0,R=1,k=0;k<this.g.length;k++){var P=this.i(k);D+=(0<=P?P:4294967296+P)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(O(this))return"-"+N(this).toString(D);for(var R=_(Math.pow(D,6)),k=this,P="";;){var M=Y(k,R).g;k=U(k,M.j(R));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=M,A(k))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=U(this,D),O(D)?-1:A(D)?0:1};function N(D){for(var R=D.g.length,k=[],P=0;P<R;P++)k[P]=~D.g[P];return new c(k,~D.h).add(I)}n.abs=function(){return O(this)?N(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],P=0,M=0;M<=R;M++){var F=P+(this.i(M)&65535)+(D.i(M)&65535),T=(F>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);P=T>>>16,F&=65535,T&=65535,k[M]=T<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function U(D,R){return D.add(N(R))}n.j=function(D){if(A(this)||A(D))return S;if(O(this))return O(D)?N(this).j(N(D)):N(N(this).j(D));if(O(D))return N(this.j(N(D)));if(0>this.l(b)&&0>D.l(b))return _(this.m()*D.m());for(var R=this.g.length+D.g.length,k=[],P=0;P<2*R;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<D.g.length;M++){var F=this.i(P)>>>16,T=this.i(P)&65535,oe=D.i(M)>>>16,Ne=D.i(M)&65535;k[2*P+2*M]+=T*Ne,V(k,2*P+2*M),k[2*P+2*M+1]+=F*Ne,V(k,2*P+2*M+1),k[2*P+2*M+1]+=T*oe,V(k,2*P+2*M+1),k[2*P+2*M+2]+=F*oe,V(k,2*P+2*M+2)}for(P=0;P<R;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=R;P<2*R;P++)k[P]=0;return new c(k,0)};function V(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function K(D,R){this.g=D,this.h=R}function Y(D,R){if(A(R))throw Error("division by zero");if(A(D))return new K(S,S);if(O(D))return R=Y(N(D),R),new K(N(R.g),N(R.h));if(O(R))return R=Y(D,N(R)),new K(N(R.g),R.h);if(30<D.g.length){if(O(D)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var k=I,P=R;0>=P.l(D);)k=X(k),P=X(P);var M=ue(k,1),F=ue(P,1);for(P=ue(P,2),k=ue(k,2);!A(P);){var T=F.add(P);0>=T.l(D)&&(M=M.add(k),F=T),P=ue(P,1),k=ue(k,1)}return R=U(D,M.j(R)),new K(M,R)}for(M=S;0<=D.l(R);){for(k=Math.max(1,Math.floor(D.m()/R.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=_(k),T=F.j(R);O(T)||0<T.l(D);)k-=P,F=_(k),T=F.j(R);A(F)&&(F=I),M=M.add(F),D=U(D,T)}return new K(M,D)}n.A=function(D){return Y(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)&D.i(P);return new c(k,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)|D.i(P);return new c(k,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)^D.i(P);return new c(k,this.h^D.h)};function X(D){for(var R=D.g.length+1,k=[],P=0;P<R;P++)k[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(k,D.h)}function ue(D,R){var k=R>>5;R%=32;for(var P=D.g.length-k,M=[],F=0;F<P;F++)M[F]=0<R?D.i(F+k)>>>R|D.i(F+k+1)<<32-R:D.i(F+k);return new c(M,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Uw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=w,Gs=c}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $w,Cl,Bw,qc,Kf,zw,qw,Ww;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var C=0;C<u.length-1;C++){var z=u[C];if(!(z in v))break e;v=v[z]}u=u[u.length-1],C=v[u],m=m(C),m!=C&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,C=!1,z={next:function(){if(!C&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,C),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,I.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function A(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(C,z,G){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return m.prototype[z].apply(C,ae)}}function O(u){const m=u.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=u[C];return v}return[]}function N(u,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(p(C)){const z=u.length||0,G=C.length||0;u.length=z+G;for(let ae=0;ae<G;ae++)u[z+ae]=C[ae]}else u.push(C)}}class U{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function V(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ue(u,m,v){for(const C in u)m.call(v,u[C],C,u)}function D(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let v,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(v in C)u[v]=C[v];for(let G=0;G<k.length;G++)v=k[G],Object.prototype.hasOwnProperty.call(C,v)&&(u[v]=C[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){h.setTimeout(()=>{throw u},0)}function T(){var u=he;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const C=Ne.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var Ne=new U(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ie=!1,he=new oe,ce=()=>{const u=h.Promise.resolve(void 0);Te=()=>{u.then(B)}};var B=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(v){F(v)}var m=Ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function Oe(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){e:{try{Y(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}A(Oe,ye);var Me={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Q=0;function le(u,m,v,C,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=z,this.key=++Q,this.da=this.fa=!1}function Ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function We(u){this.src=u,this.g={},this.h=0}We.prototype.add=function(u,m,v,C,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ae=ot(u,m,C,z);return-1<ae?(m=u[ae],v||(m.fa=!1)):(m=new le(m,this.src,G,!!C,z),m.fa=v,u.push(m)),m};function bt(u,m){var v=m.type;if(v in u.g){var C=u.g[v],z=Array.prototype.indexOf.call(C,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(C,z,1),G&&(Ie(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,m,v,C){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==C)return z}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),jr={};function fs(u,m,v,C,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)fs(u,m[G],v,C,z);return null}return v=Ca(v),u&&u[Fe]?u.K(m,v,_(C)?!!C.capture:!!C,z):ps(u,m,v,!1,C,z)}function ps(u,m,v,C,z,G){if(!m)throw Error("Invalid event type");var ae=_(z)?!!z.capture:!!z,Ye=so(u);if(Ye||(u[Qt]=Ye=new We(u)),v=Ye.add(m,v,C,ae,G),v.proxy)return v;if(C=du(),v.proxy=C,C.src=u,C.listener=v,u.addEventListener)Le||(z=ae),z===void 0&&(z=!1),u.addEventListener(m.toString(),C,z);else if(u.attachEvent)u.attachEvent($r(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function du(){function u(v){return m.call(u.src,u.listener,v)}const m=Sa;return u}function io(u,m,v,C,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)io(u,m[G],v,C,z);else C=_(C)?!!C.capture:!!C,v=Ca(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=ot(G,v,C,z),-1<v&&(Ie(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=so(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,v,C,z)),(v=-1<u?m[u]:null)&&Ur(v))}function Ur(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])bt(m.i,u);else{var v=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(v,C,u.capture):m.detachEvent?m.detachEvent($r(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=so(m))?(bt(v,u),v.h==0&&(v.src=null,m[Qt]=null)):Ie(u)}}}function $r(u){return u in jr?jr[u]:jr[u]="on"+u}function Sa(u,m){if(u.da)u=!0;else{m=new Oe(m,this);var v=u.listener,C=u.ha||u.src;u.fa&&Ur(u),u=v.call(C,m)}return u}function so(u){return u=u[Qt],u instanceof We?u:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function Ct(){J.call(this),this.i=new We(this),this.M=this,this.F=null}A(Ct,J),Ct.prototype[Fe]=!0,Ct.prototype.removeEventListener=function(u,m,v,C){io(this,u,m,v,C)};function Rt(u,m){var v,C=u.F;if(C)for(v=[];C;C=C.F)v.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var z=m;m=new ye(C,u),P(m,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var ae=m.g=v[G];z=Br(ae,C,!0,m)&&z}if(ae=m.g=u,z=Br(ae,C,!0,m)&&z,z=Br(ae,C,!1,m)&&z,v)for(G=0;G<v.length;G++)ae=m.g=v[G],z=Br(ae,C,!1,m)&&z}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],C=0;C<v.length;C++)Ie(v[C]);delete u.g[m],u.h--}}this.F=null},Ct.prototype.K=function(u,m,v,C){return this.i.add(String(u),m,!1,v,C)},Ct.prototype.L=function(u,m,v,C){return this.i.add(String(u),m,!0,v,C)};function Br(u,m,v,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var ae=m[G];if(ae&&!ae.da&&ae.capture==v){var Ye=ae.listener,kt=ae.ha||ae.src;ae.fa&&bt(u.i,ae),z=Ye.call(kt,C)!==!1&&z}}return z&&!C.defaultPrevented}function Ra(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function yi(u){u.g=Ra(()=>{u.g=null,u.i&&(u.i=!1,yi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ms extends J{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(u){J.call(this),this.h=u,this.g={}}A(gs,J);var ka=[];function Aa(u){ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ur(m)},u),u.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Aa(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=h.JSON.stringify,xa=h.JSON.parse,Na=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function _s(){}_s.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function lo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ye.call(this,"d")}A(yr,ye);function uo(){ye.call(this,"c")}A(uo,ye);var vr={},ba=null;function ys(){return ba=ba||new Ct}vr.La="serverreachability";function Da(u){ye.call(this,vr.La,u)}A(Da,ye);function zr(u){const m=ys();Rt(m,new Da(m))}vr.STAT_EVENT="statevent";function La(u,m){ye.call(this,vr.STAT_EVENT,u),this.stat=m}A(La,ye);function yt(u){const m=ys();Rt(m,new La(m,u))}vr.Ma="timingevent";function co(u,m){ye.call(this,vr.Ma,u),this.size=m}A(co,ye);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function ws(u,m,v,C,z,G){u.info(function(){if(u.g)if(G)for(var ae="",Ye=G.split("&"),kt=0;kt<Ye.length;kt++){var ze=Ye[kt].split("=");if(1<ze.length){var Dt=ze[0];ze=ze[1];var Et=Dt.split("_");ae=2<=Et.length&&Et[1]=="type"?ae+(Dt+"="+ze+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+m+`
`+v+`
`+ae})}function ho(u,m,v,C,z,G,ae){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+m+`
`+v+`
`+G+" "+ae})}function Qn(u,m,v,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zd(u,v)+(C?" "+C:"")})}function Oa(u,m){u.info(function(){return"TIMEOUT: "+m})}vs.prototype.info=function(){};function zd(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var C=v[u];if(!(2>C.length)){var z=C[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Pa(v)}catch{return m}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Es(){}A(Es,_s),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Yn=new Es;function Xn(u,m,v,C){this.j=u,this.i=m,this.l=v,this.R=C||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fu}function fu(){this.i=null,this.g="",this.h=!1}var Ma={},po={};function mo(u,m,v){u.L=1,u.v=Ii(Sn(m)),u.m=v,u.P=!0,Va(u,null)}function Va(u,m){u.F=Date.now(),et(u),u.A=Sn(u.v);var v=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),Ci(v.i,"t",C),u.C=0,v=u.j.J,u.h=new fu,u.g=Nu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ms(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,C=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(ka[0]=z.toString()),z=ka);for(var G=0;G<z.length;G++){var ae=fs(v,z[G],C||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zr(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&hn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Et=hn(this.g);var m=this.g.Ba();const Vn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||Et!=4||m==7||(m==8||0>=Vn?zr(3):zr(2)),Ts(this);var v=this.g.Z();this.X=v;t:if(pu(this)){var C=za(this.g);u="";var z=C.length,G=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),vi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(G&&m==z-1)});C.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,ho(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,kt=this.g;if((Ye=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ye)){var ze=Ye;break t}}ze=null}if(v=ze)Qn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,v);else{this.o=!1,this.s=3,yt(12),On(this),vi(this);break e}}if(this.P){v=!0;let Rn;for(;!this.J&&this.C<ae.length;)if(Rn=qd(this,ae),Rn==po){Et==4&&(this.s=4,yt(14),v=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Ma){this.s=4,yt(15),Qn(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Qn(this.i,this.l,Rn,null),Fa(this,Rn);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Qn(this.i,this.l,ae,"[Invalid Chunked Response]"),On(this),vi(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Wa(Dt),Dt.M=!0,yt(11))}}else Qn(this.i,this.l,ae,null),Fa(this,ae);Et==4&&On(this),this.o&&!this.J&&(Et==4?Ro(this.j,this):(this.o=!1,et(this)))}else Eo(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),On(this),vi(this)}}}catch{}finally{}};function pu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qd(u,m){var v=u.C,C=m.indexOf(`
`,v);return C==-1?po:(v=Number(m.substring(v,C)),isNaN(v)?Ma:(C+=1,C+v>m.length?po:(m=m.slice(C,C+v),u.C=C+v,m)))}Xn.prototype.cancel=function(){this.J=!0,On(this)};function et(u){u.S=Date.now()+u.I,mu(u,u.I)}function mu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Kn(I(u.ba,u),m)}function Ts(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oa(this.i,this.A),this.L!=2&&(zr(),yt(17)),On(this),this.s=2,vi(this)):mu(this,this.S-u)};function vi(u){u.j.G==0||u.J||Ro(u.j,u)}function On(u){Ts(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Aa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Fa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||sn(v.h,u))){if(!u.K&&sn(v.h,u)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Co(v),nr(v);else break e;So(v),yt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Kn(I(v.Za,v),6e3));if(1>=_u(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Kr(v,11)}else if((u.K||v.g==u)&&Co(v),!V(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let ze=z[m];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Dt=ze[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const Et=ze[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const Vn=ze[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(C=1.5*Vn,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Rn=u.g;if(Rn){const Ps=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var G=C.h;G.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ja(G,G.h),G.h=null))}if(C.D){const Ao=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(C.ya=Ao,Je(C.I,C.D,Ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var ae=u;if(C.qa=xu(C,C.J?C.ia:null,C.W),ae.K){yu(C.h,ae);var Ye=ae,kt=C.L;kt&&(Ye.I=kt),Ye.B&&(Ts(Ye),et(Ye)),C.g=ae}else As(C);0<v.i.length&&Ir(v)}else ze[0]!="stop"&&ze[0]!="close"||Kr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Kr(v,7):$t(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}zr(4)}catch{}}var gu=class{constructor(u,m){this.g=u,this.map=m}};function Is(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _u(u){return u.h?1:u.g?u.g.size:0}function sn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ja(u,m){u.g?u.g.add(m):u.h=m}function yu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Is.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return O(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,C=0;C<v;C++)m.push(u[C]);return m}m=[],v=0;for(C in u)m[v++]=u[C];return m}function _o(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const C in u)m[v++]=C;return m}}}function wi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=_o(u),C=go(u),z=C.length,G=0;G<z;G++)m.call(void 0,C[G],v&&v[G],u)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var C=u[v].indexOf("="),z=null;if(0<=C){var G=u[v].substring(0,C);z=u[v].substring(C+1)}else G=u[v];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof qr){this.h=u.h,Cs(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.s),this.l=u.l;var m=u.i,v=new wr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ti(this,v),this.m=u.m}else u&&(m=String(u).match(Ss))?(this.h=!1,Cs(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),Ei(this,m[4]),this.l=$e(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}qr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Si(m,yo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Si(m,yo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Si(v,v.charAt(0)=="/"?Tu:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Si(v,Ua)),u.join("")};function Sn(u){return new qr(u)}function Cs(u,m,v){u.j=v?$e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,v){m instanceof wr?(u.i=m,Er(u.i,u.h)):(v||(m=Si(m,Iu)),u.i=new wr(m,u.h))}function Je(u,m,v){u.i.set(m,v)}function Ii(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Si(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Iu=/[#\?@]/g,Ua=/#/g;function wr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&Wd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=wr.prototype,n.add=function(u,m){Ut(this),this.i=null,u=Mn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Jn(u,m){Ut(u),m=Mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zn(u,m){return Ut(u),m=Mn(u,m),u.g.has(m)}n.forEach=function(u,m){Ut(this),this.g.forEach(function(v,C){v.forEach(function(z){u.call(m,z,C,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const z=u[C];for(let G=0;G<z.length;G++)v.push(m[C])}return v},n.V=function(u){Ut(this);let m=[];if(typeof u=="string")Zn(this,u)&&(m=m.concat(this.g.get(Mn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ut(this),this.i=null,u=Mn(this,u),Zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ci(u,m,v){Jn(u,m),0<v.length&&(u.i=null,u.g.set(Mn(u,m),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const G=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var z=G;ae[C]!==""&&(z+="="+encodeURIComponent(String(ae[C]))),u.push(z)}}return this.i=u.join("&")};function Mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Er(u,m){m&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(v,C){var z=C.toLowerCase();C!=z&&(Jn(this,C),Ci(this,z,v))},u)),u.j=m}function Hd(u,m){const v=new vs;if(h.Image){const C=new Image;C.onload=b(dn,v,"TestLoadImage: loaded",!0,m,C),C.onerror=b(dn,v,"TestLoadImage: error",!1,m,C),C.onabort=b(dn,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=b(dn,v,"TestLoadImage: timeout",!1,m,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function Su(u,m){const v=new vs,C=new AbortController,z=setTimeout(()=>{C.abort(),dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(G=>{clearTimeout(z),G.ok?dn(v,"TestPingServer: ok",!0,m):dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),dn(v,"TestPingServer: error",!1,m)})}function dn(u,m,v,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(v)}catch{}}function Gd(){this.g=new Na}function Cu(u,m,v){const C=v||"";try{wi(u,function(z,G){let ae=z;_(z)&&(ae=Pa(z)),m.push(C+G+"="+encodeURIComponent(ae))})}catch(z){throw m.push(C+"type="+encodeURIComponent("_badmap")),z}}function Wr(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Wr,_s),Wr.prototype.g=function(){return new Rs(this.l,this.j)},Wr.prototype.i=function(u){return function(){return u}}({});function Rs(u,m){Ct.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Rs,Ct),n=Rs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?er(this):tr(this),this.readyState==3&&Ru(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},n.Qa=function(u){this.g&&(this.response=u,er(this))},n.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hr(u){let m="";return ue(u,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function Ri(u,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=Hr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Je(u,m,v))}function at(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(at,Ct);var Kd=/^https?$/i,$a=["POST","PUT"];n=at.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?ao(this.o):ao(Yn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){ks(this,G);return}if(u=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)v.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())v.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call($a,m,void 0))||C||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){ks(this,G)}};function ks(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,vo(u),Cn(u)}function vo(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),Cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(u){if(u.h&&typeof c<"u"&&(!u.v[1]||hn(u)!=4||u.Z()!=2)){if(u.u&&hn(u)==4)Ra(u.Ea,0,u);else if(Rt(u,"readystatechange"),hn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=ae===0){var z=String(u.D).match(Ss)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),C=!Kd.test(z?z.toLowerCase():"")}v=C}if(v)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var G=2<hn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",vo(u)}}finally{Cn(u)}}}}function Cn(u,m){if(u.g){wo(u);const v=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Rt(u,"ready");try{v.onreadystatechange=C}catch{}}}function wo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function hn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xa(m)}};function za(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(u){const m={};u=(u.g&&2<=hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(V(u[C]))continue;var v=M(u[C]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[z]||[];m[z]=G,G.push(v)}D(m,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function qa(u){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,u),this.cb=Tr("retryDelaySeedMs",1e4,u),this.Wa=Tr("forwardChannelMaxRetries",2,u),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(u&&u.concurrentRequestLimit),this.Da=new Gd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,C){yt(0),this.W=u,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=xu(this,null,this.W),Ir(this)};function $t(u){if(To(u),u.G==3){var m=u.U++,v=Sn(u.I);if(Je(v,"SID",u.K),Je(v,"RID",m),Je(v,"TYPE","terminate"),Gr(u,v),m=new Xn(u,u.j,m),m.L=2,m.v=Ii(Sn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),et(m)}Pu(u)}function nr(u){u.g&&(Wa(u),u.g.cancel(),u.g=null)}function To(u){nr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Ir(u){if(!In(u.h)&&!u.s){u.s=!0;var m=u.Ga;Te||ce(),ie||(Te(),ie=!0),he.add(m,u),u.B=0}}function Qd(u,m){return _u(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Kn(I(u.Ga,u,m),Au(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Xn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=R(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ki(this,z,m),v=Sn(this.I),Je(v,"RID",u),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),Gr(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(Hr(G)))+"&"+m:this.m&&Ri(v,this.m,G)),ja(this.h,z),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",m),Je(v,"SID","null"),z.T=!0,mo(z,v,null)):mo(z,v,m),this.G=2}}else this.G==3&&(u?Io(this,u):this.i.length==0||In(this.h)||Io(this))};function Io(u,m){var v;m?v=m.l:v=u.U++;const C=Sn(u.I);Je(C,"SID",u.K),Je(C,"RID",v),Je(C,"AID",u.T),Gr(u,C),u.m&&u.o&&Ri(C,u.m,u.o),v=new Xn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ki(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,v),mo(v,C,m)}function Gr(u,m){u.H&&ue(u.H,function(v,C){Je(m,C,v)}),u.l&&wi({},function(v,C){Je(m,C,v)})}function ki(u,m,v){v=Math.min(u.i.length,v);var C=u.l?I(u.l.Na,u.l,u):null;e:{var z=u.i;let G=-1;for(;;){const ae=["count="+v];G==-1?0<v?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let Ye=!0;for(let kt=0;kt<v;kt++){let ze=z[kt].g;const Dt=z[kt].map;if(ze-=G,0>ze)G=Math.max(0,z[kt].g-100),Ye=!1;else try{Cu(Dt,ae,"req"+ze+"_")}catch{C&&C(Dt)}}if(Ye){C=ae.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,C}function As(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Te||ce(),ie||(Te(),ie=!0),he.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Kn(I(u.Fa,u),Au(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Kn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),nr(this),ku(this))};function Wa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function ku(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Sn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&Ri(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ii(Sn(m)),v.m=null,v.P=!0,Va(v,u)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),So(this),yt(19))};function Co(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ro(u,m){var v=null;if(u.g==m){Co(u),Wa(u),u.g=null;var C=2}else if(sn(u.h,m))v=m.D,yu(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;C=ys(),Rt(C,new co(C,v)),Ir(u)}else As(u);else if(z=m.s,z==3||z==0&&0<m.X||!(C==1&&Qd(u,m)||C==2&&So(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Kr(u,5);break;case 4:Kr(u,10);break;case 3:Kr(u,6);break;default:Kr(u,2)}}}function Au(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Kr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),C=u.Xa;const z=!C;C=new qr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Cs(C,"https"),Ii(C),z?Hd(C.toString(),v):Su(C.toString(),v)}else yt(2);u.G=0,u.l&&u.l.sa(m),Pu(u),To(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Pu(u){if(u.G=0,u.ka=[],u.l){const m=vu(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function xu(u,m,v){var C=v instanceof qr?Sn(v):new qr(v);if(C.g!="")m&&(C.g=m+"."+C.g),Ei(C,C.s);else{var z=h.location;C=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new qr(null);C&&Cs(G,C),m&&(G.g=m),z&&Ei(G,z),v&&(G.l=v),C=G}return v=u.D,m=u.ya,v&&m&&Je(C,v,m),Je(C,"VER",u.la),Gr(u,C),C}function Nu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new at(new Wr({eb:v})):new at(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}n=Ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ko(){}ko.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Ct.call(this),this.g=new qa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!V(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!V(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Sr(this)}A(on,Ct),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){$t(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Pa(u),u=v);m.i.push(new gu(m.Ya++,u)),m.G==3&&Ir(m)},on.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,on.aa.N.call(this)};function bu(u){yr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,yr);function Du(){uo.call(this),this.status=1}A(Du,uo);function Sr(u){this.g=u}A(Sr,Ha),Sr.prototype.ua=function(){Rt(this.g,"a")},Sr.prototype.ta=function(u){Rt(this.g,new bu(u))},Sr.prototype.sa=function(u){Rt(this.g,new Du)},Sr.prototype.ra=function(){Rt(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Ww=function(){return new ko},qw=function(){return ys()},zw=vr,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,qc=fo,hu.COMPLETE="complete",Bw=hu,lo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Cl=lo,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,$w=at}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Ep("@firebase/firestore");function Xo(){return Js.logLevel}function fe(n,...e){if(Js.logLevel<=je.DEBUG){const t=e.map(Op);Js.debug(`Firestore (${ya}): ${n}`,...t)}}function hi(n,...e){if(Js.logLevel<=je.ERROR){const t=e.map(Op);Js.error(`Firestore (${ya}): ${n}`,...t)}}function aa(n,...e){if(Js.logLevel<=je.WARN){const t=e.map(Op);Js.warn(`Firestore (${ya}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Qe(n,e){n||xe()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class qk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wk{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new Hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new tn(e)}}class Hk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Gk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Hk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new Kk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Yk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new xt(0,0))}static max(){return new be(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(),i===void 0?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Ul{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const Xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Ul{construct(e,t,i){return new Ht(e,t,i)}static isValidIdentifier(e){return Xk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}function Jk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new ns(o,Ee.empty(),e)}function Zk(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(be.min(),Ee.empty(),-1)}static max(){return new ns(be.max(),Ee.empty(),-1)}}function eA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==tA)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(w=>{c[_]=w,++h,h===a&&i(c)},w=>o(w))}})}static doWhile(e,t){return new Z((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function rA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Id.oe=-1;function Sd(n){return n==null}function sd(n){return n===0&&1/n==-1/0}function iA(n){return typeof n=="number"&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ry(e)),e=oA(n.get(t),e);return Ry(e)}function oA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Ry(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??qt.RED,this.left=o??qt.EMPTY,this.right=a??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new qt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Nt(Ht.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Qw("Invalid base64 string: "+a):a}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=aA.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cd(n){const e=n.mapValue.fields.__previous_value__;return Mp(e)?Cd(e):e}function $l(n){const e=rs(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t,i,o,a,c,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mp(n)?4:cA(n)?9007199254740991:uA(n)?10:11:xe()}function Mr(n,e){if(n===e)return!0;const t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=rs(o.timestampValue),h=rs(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return is(o.bytesValue).isEqual(is(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return wt(o.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return wt(o.integerValue)===wt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=wt(o.doubleValue),h=wt(a.doubleValue);return c===h?sd(c)===sd(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(ky(c)!==ky(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Mr(c[p],h[p])))return!1;return!0}(n,e);default:return xe()}}function zl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=ss(n),i=ss(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=wt(a.integerValue||a.doubleValue),p=wt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Py(n.timestampValue,e.timestampValue);case 4:return Py($l(n),$l(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(a,c){const h=is(a),p=is(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let _=0;_<h.length&&_<p.length;_++){const w=Be(h[_],p[_]);if(w!==0)return w}return Be(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Be(wt(a.latitude),wt(c.latitude));return h!==0?h:Be(wt(a.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,_,w;const S=a.fields||{},I=c.fields||{},b=(h=S.value)===null||h===void 0?void 0:h.arrayValue,A=(p=I.value)===null||p===void 0?void 0:p.arrayValue,O=Be(((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0,((w=A==null?void 0:A.values)===null||w===void 0?void 0:w.length)||0);return O!==0?O:xy(b,A)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Dc.mapValue&&c===Dc.mapValue)return 0;if(a===Dc.mapValue)return 1;if(c===Dc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),_=c.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const I=Be(p[S],w[S]);if(I!==0)return I;const b=ua(h[p[S]],_[w[S]]);if(b!==0)return b}return Be(p.length,w.length)}(n.mapValue,e.mapValue);default:throw xe()}}function Py(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=rs(n),i=rs(e),o=Be(t.seconds,i.seconds);return o!==0?o:Be(t.nanos,i.nanos)}function xy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ua(t[o],i[o]);if(a)return a}return Be(t.length,i.length)}function ca(n){return Qf(n)}function Qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=rs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Qf(t.fields[c])}`;return o+"}"}(n.mapValue):xe()}function Wc(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(n);return e?16+Wc(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Wc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return cs(i.fields,(a,c)=>{o+=a.length+Wc(c)}),o}(n.mapValue);default:throw xe()}}function Ny(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yf(n){return!!n&&"integerValue"in n}function Vp(n){return!!n&&"arrayValue"in n}function by(n){return!!n&&"nullValue"in n}function Dy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hc(n){return!!n&&"mapValue"in n}function uA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Ht.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=xl(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){cs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new En(xl(this.value))}}function Yw(n){const e=[];return cs(n.fields,(t,i)=>{const o=new Ht([t]);if(Hc(i)){const a=Yw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new nn(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new nn(e,2,t,be.min(),be.min(),En.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,be.min(),be.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.position=e,this.inclusive=t}}function Ly(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=ua(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Oy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function dA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class St extends Xw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fA(e,t,i):t==="array-contains"?new gA(e,i):t==="in"?new _A(e,i):t==="not-in"?new yA(e,i):t==="array-contains-any"?new vA(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pA(e,i):new mA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new fr(e,t)}matches(e){return Jw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jw(n){return n.op==="and"}function Zw(n){return hA(n)&&Jw(n)}function hA(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function Xf(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(Zw(n))return n.filters.map(e=>Xf(e)).join(",");{const e=n.filters.map(t=>Xf(t)).join(",");return`${n.op}(${e})`}}function e0(n,e){return n instanceof St?function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)}(n,e):n instanceof fr?function(i,o){return o instanceof fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&e0(c,o.filters[h]),!0):!1}(n,e):void xe()}function t0(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof fr?function(t){return t.op.toString()+" {"+t.getFilters().map(t0).join(" ,")+"}"}(n):"Filter"}class fA extends St{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class pA extends St{constructor(e,t){super(e,"in",t),this.keys=n0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mA extends St{constructor(e,t){super(e,"not-in",t),this.keys=n0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class gA extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vp(t)&&zl(t.arrayValue,this.value)}}class _A extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zl(this.value.arrayValue,t)}}class yA extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zl(this.value.arrayValue,t)}}class vA extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function My(n,e=null,t=[],i=[],o=null,a=null,c=null){return new wA(n,e,t,i,o,a,c)}function Fp(n){const e=De(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ca(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ca(i)).join(",")),e.ue=t}return e.ue}function jp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!e0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Oy(n.startAt,e.startAt)&&Oy(n.endAt,e.endAt)}function Jf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EA(n,e,t,i,o,a,c,h){return new ru(n,e,t,i,o,a,c,h)}function Up(n){return new ru(n)}function Vy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.collectionGroup!==null}function Nl(n){const e=De(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Nt(Ht.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(h=h.add(_.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ad(a,i))}),t.has(Ht.keyField().canonicalString())||e.ce.push(new ad(Ht.keyField(),i))}return e.ce}function Lr(n){const e=De(n);return e.le||(e.le=TA(e,Nl(n))),e.le}function TA(n,e){if(n.limitType==="F")return My(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ad(o.field,a)});const t=n.endAt?new od(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new od(n.startAt.position,n.startAt.inclusive):null;return My(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zf(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return jp(Lr(n),Lr(e))&&n.limitType===e.limitType}function i0(n){return`${Fp(Lr(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>t0(o)).join(", ")}]`),Sd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ca(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ca(o)).join(",")),`Target(${i})`}(Lr(n))}; limitType=${n.limitType})`}function kd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const _=Ly(c,h,p);return c.inclusive?_<=0:_<0}(i.startAt,Nl(i),o)||i.endAt&&!function(c,h,p){const _=Ly(c,h,p);return c.inclusive?_>=0:_>0}(i.endAt,Nl(i),o))}(n,e)}function IA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s0(n){return(e,t)=>{let i=!1;for(const o of Nl(n)){const a=SA(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function SA(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),_=h.data.field(a);return p!==null&&_!==null?ua(p,_):xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new pt(Ee.comparator);function fi(){return CA}const o0=new pt(Ee.comparator);function Rl(...n){let e=o0;for(const t of n)e=e.insert(t.key,t);return e}function a0(n){let e=o0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return bl()}function l0(){return bl()}function bl(){return new no(n=>n.toString(),(n,e)=>n.isEqual(e))}const RA=new pt(Ee.comparator),kA=new Nt(Ee.comparator);function Ue(...n){let e=kA;for(const t of n)e=e.add(t);return e}const AA=new Nt(Be);function PA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function u0(n){return{integerValue:""+n}}function xA(n,e){return iA(e)?u0(e):$p(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function NA(n,e,t){return n instanceof ql?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Mp(a)&&(a=Cd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Wl?d0(n,e):n instanceof Hl?h0(n,e):function(o,a){const c=c0(o,a),h=Fy(c)+Fy(o.Pe);return Yf(c)&&Yf(o.Pe)?u0(h):$p(o.serializer,h)}(n,e)}function bA(n,e,t){return n instanceof Wl?d0(n,e):n instanceof Hl?h0(n,e):t}function c0(n,e){return n instanceof ld?function(i){return Yf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ql extends Ad{}class Wl extends Ad{constructor(e){super(),this.elements=e}}function d0(n,e){const t=f0(e);for(const i of n.elements)t.some(o=>Mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends Ad{constructor(e){super(),this.elements=e}}function h0(n,e){let t=f0(e);for(const i of n.elements)t=t.filter(o=>!Mr(o,i));return{arrayValue:{values:t}}}class ld extends Ad{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Fy(n){return wt(n.integerValue||n.doubleValue)}function f0(n){return Vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.field=e,this.transform=t}}function LA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Wl&&o instanceof Wl||i instanceof Hl&&o instanceof Hl?la(i.elements,o.elements,Mr):i instanceof ld&&o instanceof ld?Mr(i.Pe,o.Pe):i instanceof ql&&o instanceof ql}(n.transform,e.transform)}class OA{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pd{}function p0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bp(n.key,hr.none()):new iu(n.key,n.data,hr.none());{const t=n.data,i=En.empty();let o=new Nt(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ds(n.key,i,new Dn(o.toArray()),hr.none())}}function MA(n,e,t){n instanceof iu?function(o,a,c){const h=o.value.clone(),p=Uy(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ds?function(o,a,c){if(!Gc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Uy(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(m0(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Dl(n,e,t,i){return n instanceof iu?function(a,c,h,p){if(!Gc(a.precondition,c))return h;const _=a.value.clone(),w=$y(a.fieldTransforms,p,c);return _.setAll(w),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ds?function(a,c,h,p){if(!Gc(a.precondition,c))return h;const _=$y(a.fieldTransforms,p,c),w=c.data;return w.setAll(m0(a)),w.setAll(_),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,c,h){return Gc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function VA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=c0(i.transform,o||null);a!=null&&(t===null&&(t=En.empty()),t.set(i.field,a))}return t||null}function jy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&la(i,o,(a,c)=>LA(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class iu extends Pd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Pd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function m0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Uy(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,bA(c,h,t[o]))}return i}function $y(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,NA(a,c,e))}return i}class Bp extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&MA(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=l0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=p0(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,i)=>jy(t,i))&&la(this.baseMutations,e.baseMutations,(t,i)=>jy(t,i))}}class zp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=function(){return RA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new zp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,qe;function BA(n){switch(n){default:return xe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function g0(n){if(n===void 0)return hi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return xe()}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new Gs([4294967295,4294967295],0);function By(n){const e=zA().encode(n),t=new Uw;return t.update(e),new Uint8Array(t.digest())}function zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gs([t,i],0),new Gs([o,a],0)]}class qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(i<0)throw new kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Gs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Gs.fromNumber(i)));return o.compare(qA)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=By(e),[i,o]=zy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new qp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=By(e),[i,o]=zy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new xd(be.min(),o,new pt(Be),fi(),Ue())}}class su{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new su(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class _0{constructor(e,t){this.targetId=e,this.me=t}}class y0{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class qy{constructor(){this.fe=0,this.ge=Wy(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),i=Ue();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:xe()}}),new su(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Wy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WA{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new pt(Be)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Jf(a))if(i===0){const c=new Ee(a.path);this.We(t,c,nn.newNoDocument(c,be.min()))}else Qe(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=is(i).toUint8Array()}catch(p){if(p instanceof Qw)return aa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new qp(c,o,a)}catch(p){return aa(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Jf(h.target)){const p=new Ee(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,nn.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Ue();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new xd(e,t,this.Ke,this.ke,i);return this.ke=fi(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new pt(Be),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new qy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Nt(Be),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nt(Be),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Lc(){return new pt(Ee.comparator)}function Wy(){return new pt(Ee.comparator)}const HA={asc:"ASCENDING",desc:"DESCENDING"},GA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KA={and:"AND",or:"OR"};class QA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(n,e){return n.useProto3Json||Sd(e)?e:{value:e}}function ud(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YA(n,e){return ud(n,e.toTimestamp())}function Or(n){return Qe(!!n),be.fromTimestamp(function(t){const i=rs(t);return new xt(i.seconds,i.nanos)}(n))}function Wp(n,e){return np(n,e).canonicalString()}function np(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function w0(n){const e=it.fromString(n);return Qe(C0(e)),e}function rp(n,e){return Wp(n.databaseId,e.path)}function xf(n,e){const t=w0(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(T0(t))}function E0(n,e){return Wp(n.databaseId,e)}function XA(n){const e=w0(n);return e.length===4?it.emptyPath():T0(e)}function ip(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T0(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Hy(n,e,t){return{name:rp(n,e),fields:t.value.mapValue.fields}}function JA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(Qe(w===void 0||typeof w=="string"),Kt.fromBase64String(w||"")):(Qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Kt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const w=_.code===void 0?ee.UNKNOWN:g0(_.code);return new me(w,_.message||"")}(c);t=new y0(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=xf(n,i.document.name),a=Or(i.document.updateTime),c=i.document.createTime?Or(i.document.createTime):be.min(),h=new En({mapValue:{fields:i.document.fields}}),p=nn.newFoundDocument(o,a,c,h),_=i.targetIds||[],w=i.removedTargetIds||[];t=new Kc(_,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=xf(n,i.document),a=i.readTime?Or(i.readTime):be.min(),c=nn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Kc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=xf(n,i.document),a=i.removedTargetIds||[];t=new Kc([],a,o,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new $A(o,a),h=i.targetId;t=new _0(h,c)}}return t}function ZA(n,e){let t;if(e instanceof iu)t={update:Hy(n,e.key,e.value)};else if(e instanceof Bp)t={delete:rp(n,e.key)};else if(e instanceof ds)t={update:Hy(n,e.key,e.data),updateMask:lP(e.fieldMask)};else{if(!(e instanceof FA))return xe();t={verify:rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ld)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw xe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:YA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()}(n,e.precondition)),t}function eP(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Or(o.updateTime):Or(a);return c.isEqual(be.min())&&(c=Or(a)),new OA(c,o.transformResults||[])}(t,e))):[]}function tP(n,e){return{documents:[E0(n,e.path)]}}function nP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E0(n,o);const a=function(_){if(_.length!==0)return S0(fr.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(_.length!==0)return _.map(w=>function(I){return{field:Zo(I.field),direction:sP(I.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=tp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function rP(n){let e=XA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(S){const I=I0(S);return I instanceof fr&&Zw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(I=>function(A){return new ad(ea(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(S){let I;return I=typeof S=="object"?S.value:S,Sd(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(S){const I=!!S.before,b=S.values||[];return new od(b,I)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const I=!S.before,b=S.values||[];return new od(b,I)}(t.endAt)),EA(e,o,c,a,h,"F",p,_)}function iP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ea(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ea(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ea(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ea(t.unaryFilter.field);return St.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return St.create(ea(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fr.create(t.compositeFilter.filters.map(i=>I0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function sP(n){return HA[n]}function oP(n){return GA[n]}function aP(n){return KA[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function ea(n){return Ht.fromServerFormat(n.fieldPath)}function S0(n){return n instanceof St?function(t){if(t.op==="=="){if(Dy(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(by(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Dy(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(by(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:oP(t.op),value:t.value}}}(n):n instanceof fr?function(t){const i=t.getFilters().map(o=>S0(o));return i.length===1?i[0]:{compositeFilter:{op:aP(t.op),filters:i}}}(n):xe()}function lP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function C0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,i,o,a=be.min(),c=be.min(),h=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.ht=e}}function cP(n){const e=rP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.ln=new hP}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ns.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class hP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Nt(it.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new da(0)}static Qn(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky([n,e],[t,i]){const o=Be(n,t);return o===0?Be(e,i):o}class fP{constructor(e){this.Gn=e,this.buffer=new Nt(Ky),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ky(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class mP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Id.oe);const i=new fP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Gy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,p,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),Xo()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function gP(n,e){return new mP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Dl(i.mutation,o,Dn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Rl();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=fi();const c=bl(),h=function(){return bl()}();return t.forEach((p,_)=>{const w=i.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ds)?a=a.insert(_.key,_):w!==void 0?(c.set(_.key,w.mutation.getFieldMask()),Dl(w.mutation,_,w.mutation.getFieldMask(),xt.now())):c.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,w)=>c.set(_,w)),t.forEach((_,w)=>{var S;return h.set(_,new yP(w,(S=c.get(_))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new pt((c,h)=>c-h),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let w=i.get(p)||Dn.empty();w=h.applyToLocalView(_,w),i.set(p,w);const S=(o.get(h.batchId)||Ue()).add(p);o=o.insert(h.batchId,S)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,w=p.value,S=l0();w.forEach(I=>{if(!a.has(I)){const b=p0(t.get(I),i.get(I));b!==null&&S.set(I,b),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Z.resolve(Hs());let h=-1,p=a;return c.next(_=>Z.forEach(_,(w,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,Ue())).next(w=>({batchId:h,changes:a0(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=Rl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Rl();return this.indexManager.getCollectionParents(e,a).next(h=>Z.forEach(h,p=>{const _=function(S,I){return new ru(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(w=>{w.forEach((S,I)=>{c=c.insert(S,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,_)=>{const w=_.getKey();c.get(w)===null&&(c=c.insert(w,nn.newInvalidDocument(w)))});let h=Rl();return c.forEach((p,_)=>{const w=a.get(p);w!==void 0&&Dl(w.mutation,_,Dn.empty(),xt.now()),kd(t,_)&&(h=h.insert(p,_))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:cP(o.bundledQuery),readTime:Or(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.overlays=new pt(Ee.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),a=t.length+1,c=new Ee(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new pt((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let w=a.get(_.largestBatchId);w===null&&(w=Hs(),a=a.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=Hs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=o)););return Z.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new UA(t,i));let a=this.Er.get(t);a===void 0&&(a=Ue(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.dr=new Nt(jt.Ar),this.Rr=new Nt(jt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new jt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new jt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ee(new it([])),i=new jt(t,e),o=new jt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new it([])),i=new jt(t,e),o=new jt(t,e+1);let a=Ue();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new jt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class jt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||Be(e.br,t.br)}static Vr(e,t){return Be(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Nt(jt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jA(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Be);return t.forEach(o=>{const a=new jt(o,0),c=new jt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const c=new jt(new Ee(a),0);let h=new Nt(Be);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(h=h.add(p.br)),!0)},c),Z.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const a=new jt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new jt(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.Nr=e,this.docs=function(){return new pt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():nn.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const c=t.path,h=new Ee(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:w}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||eA(Zk(w),i)<=0||(o.has(w.key)||kd(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,o){xe()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new CP(this)}getSize(e){return Z.resolve(this.size)}}class CP extends _P{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.persistence=e,this.Br=new no(t=>Fp(t),jp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hp,this.targetCount=0,this.Qr=da.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new da(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Id(0),this.Ur=!1,this.Ur=!0,this.Wr=new TP,this.referenceDelegate=e(this),this.Gr=new RP(this),this.indexManager=new dP,this.remoteDocumentCache=function(o){return new SP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new uP(t),this.jr=new wP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new IP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const o=new kP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class kP extends nA{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Zr=new Hp,this.Xr=null}static ei(e){return new Gp(e)}get ti(){if(this.Xr)return this.Xr;throw xe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=Ee.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.ri=new no(i=>sA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=gP(this,t)}static ei(e,t){return new cd(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wc(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ue(),o=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Kp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return hS()?8:rA(rn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new AP;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Xo()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(Xo()<=je.DEBUG&&fe("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Xo()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):Z.resolve())}Xi(e,t){if(Vy(t))return Z.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ep(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ue(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,h);return this.ss(t,_,c,p.readTime)?this.Xi(e,ep(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return Vy(t)||o.isEqual(be.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?Z.resolve(null):(Xo()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.os(e,c,t,Jk(o,-1)).next(h=>h))})}rs(e,t){let i=new Nt(s0(e));return t.forEach((o,a)=>{kd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Xo()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ns.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new pt(Be),this.cs=new no(a=>Fp(a),jp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function NP(n,e,t,i){return new xP(n,e,t,i)}async function k0(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=Ue();for(const _ of o){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of a){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:h}))})})}function bP(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,_,w){const S=_.batch,I=S.keys();let b=Z.resolve();return I.forEach(A=>{b=b.next(()=>w.getEntry(p,A)).next(O=>{const N=_.docVersions.get(A);Qe(N!==null),O.version.compareTo(N)<0&&(S.applyToRemoteDocument(O,_),O.isValidDocument()&&(O.setReadTime(_.commitVersion),w.addEntry(O)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(p,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ue();for(let _=0;_<h.mutationResults.length;++_)h.mutationResults[_].transformResults.length>0&&(p=p.add(h.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function A0(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function DP(n,e){const t=De(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((w,S)=>{const I=o.get(S);if(!I)return;h.push(t.Gr.removeMatchingKeys(a,w.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(a,w.addedDocuments,S)));let b=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?b=b.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,i)),o=o.insert(S,b),function(O,N,U){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(I,b,w)&&h.push(t.Gr.updateTargetData(a,b))});let p=fi(),_=Ue();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(LP(a,c,e.documentUpdates).next(w=>{p=w.Is,_=w.Es})),!i.isEqual(be.min())){const w=t.Gr.getLastRemoteSnapshotVersion(a).next(S=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(w)}return Z.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.us=o,a))}function LP(n,e,t){let i=Ue(),o=Ue();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=fi();return t.forEach((h,p)=>{const _=a.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function OP(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function MP(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,Z.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Yi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function sp(n,e,t){const i=De(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!wa(c))throw c;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Qy(n,e,t){const i=De(n);let o=be.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,w){const S=De(p),I=S.cs.get(w);return I!==void 0?Z.resolve(S.us.get(I)):S.Gr.getTargetData(_,w)}(i,c,Lr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?a:Ue())).next(h=>(VP(i,IA(e),h),{documents:h,ds:a})))}function VP(n,e,t){let i=n.ls.get(e)||be.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Yy{constructor(){this.activeTargetIds=PA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FP{constructor(){this._o=new Yy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Yy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Nf(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class BP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=Nf(),p=this.No(t,i.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,a,c),this.Bo(t,p,_,o).then(w=>(fe("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw aa("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=UP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Nf();return new Promise((c,h)=>{const p=new $w;p.setWithCredentials(!0),p.listenOnce(Bw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const w=p.getResponseJson();fe(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),c(w);break;case qc.TIMEOUT:fe(en,`RPC '${e}' ${a} timed out`),h(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const S=p.getStatus();if(fe(en,`RPC '${e}' ${a} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const b=I==null?void 0:I.error;if(b&&b.status&&b.message){const A=function(N){const U=N.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN}(b.status);h(new me(A,b.message))}else h(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new me(ee.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{fe(en,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(o);fe(en,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=Nf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ww(),h=qw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${w}`,p);const S=c.createWebChannel(w,p);let I=!1,b=!1;const A=new $P({Eo:N=>{b?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(I||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),fe(en,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Ao:()=>S.close()}),O=(N,U,V)=>{N.listen(U,K=>{try{V(K)}catch(Y){setTimeout(()=>{throw Y},0)}})};return O(S,Cl.EventType.OPEN,()=>{b||(fe(en,`RPC '${e}' stream ${o} transport opened.`),A.So())}),O(S,Cl.EventType.CLOSE,()=>{b||(b=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),A.Do())}),O(S,Cl.EventType.ERROR,N=>{b||(b=!0,aa(en,`RPC '${e}' stream ${o} transport errored:`,N),A.Do(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),O(S,Cl.EventType.MESSAGE,N=>{var U;if(!b){const V=N.data[0];Qe(!!V);const K=V,Y=(K==null?void 0:K.error)||((U=K[0])===null||U===void 0?void 0:U.error);if(Y){fe(en,`RPC '${e}' stream ${o} received error:`,Y);const X=Y.status;let ue=function(k){const P=It[k];if(P!==void 0)return g0(P)}(X),D=Y.message;ue===void 0&&(ue=ee.INTERNAL,D="Unknown error status: "+X+" with message "+Y.message),b=!0,A.Do(new me(ue,D)),S.close()}else fe(en,`RPC '${e}' stream ${o} received:`,V),A.vo(V)}}),O(h,zw.STAT_EVENT,N=>{N.stat===Kf.PROXY?fe(en,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Kf.NOPROXY&&fe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new QA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t,i,o,a,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new P0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zP extends x0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=JA(this.serializer,e),i=function(a){if(!("targetChange"in a))return be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?Or(c.readTime):be.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=ip(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Jf(p)?{documents:tP(a,p)}:{query:nP(a,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=v0(a,c.resumeToken);const _=tp(a,c.expectedCount);_!==null&&(h.expectedCount=_)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=ud(a,c.snapshotVersion.toTimestamp());const _=tp(a,c.expectedCount);_!==null&&(h.expectedCount=_)}return h}(this.serializer,e);const i=iP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=ip(this.serializer),t.removeTarget=e,this.c_(t)}}class qP extends x0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=eP(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=ip(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ZA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,np(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ee.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,np(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ee.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hi(t),this.C_=!1):fe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{ro(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=De(p);_.k_.add(4),await ou(_),_.K_.set("Unknown"),_.k_.delete(4),await bd(_)}(this))})}),this.K_=new HP(i,o)}}async function bd(n){if(ro(n))for(const e of n.q_)await e(!0)}async function ou(n){for(const e of n.q_)await e(!1)}function N0(n,e){const t=De(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Jp(t)?Xp(t):Ea(t).s_()&&Yp(t,e))}function Qp(n,e){const t=De(n),i=Ea(t);t.B_.delete(e),i.s_()&&b0(t,e),t.B_.size===0&&(i.s_()?i.a_():ro(t)&&t.K_.set("Unknown"))}function Yp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).V_(e)}function b0(n,e){n.U_.xe(e),Ea(n).m_(e)}function Xp(n){n.U_=new WA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.K_.F_()}function Jp(n){return ro(n)&&!Ea(n).i_()&&n.B_.size>0}function ro(n){return De(n).k_.size===0}function D0(n){n.U_=void 0}async function KP(n){n.K_.set("Online")}async function QP(n){n.B_.forEach((e,t)=>{Yp(n,e)})}async function YP(n,e){D0(n),Jp(n)?(n.K_.O_(e),Xp(n)):n.K_.set("Unknown")}async function XP(n,e,t){if(n.K_.set("Online"),e instanceof y0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await dd(n,i)}else if(e instanceof Kc?n.U_.$e(e):e instanceof _0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(be.min()))try{const i=await A0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(_);w&&a.B_.set(_,w.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,_)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken(Kt.EMPTY_BYTE_STRING,w.snapshotVersion)),b0(a,p);const S=new Yi(w.target,p,_,w.sequenceNumber);Yp(a,S)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await dd(n,i)}}async function dd(n,e,t){if(!wa(e))throw e;n.k_.add(1),await ou(n),n.K_.set("Offline"),t||(t=()=>A0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await bd(n)})}function L0(n,e){return e().catch(t=>dd(n,t,e))}async function Dd(n){const e=De(n),t=os(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;JP(e);)try{const o=await OP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,ZP(e,o)}catch(o){await dd(e,o)}O0(e)&&M0(e)}function JP(n){return ro(n)&&n.L_.length<10}function ZP(n,e){n.L_.push(e);const t=os(n);t.s_()&&t.f_&&t.g_(e.mutations)}function O0(n){return ro(n)&&!os(n).i_()&&n.L_.length>0}function M0(n){os(n).start()}async function ex(n){os(n).w_()}async function tx(n){const e=os(n);for(const t of n.L_)e.g_(t.mutations)}async function nx(n,e,t){const i=n.L_.shift(),o=zp.from(i,e,t);await L0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Dd(n)}async function rx(n,e){e&&os(n).f_&&await async function(i,o){if(function(c){return BA(c)&&c!==ee.ABORTED}(o.code)){const a=i.L_.shift();os(i).__(),await L0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Dd(i)}}(n,e),O0(n)&&M0(n)}async function Jy(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=ro(t);t.k_.add(3),await ou(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bd(t)}async function ix(n,e){const t=De(n);e?(t.k_.delete(2),await bd(t)):e||(t.k_.add(2),await ou(t),t.K_.set("Unknown"))}function Ea(n){return n.W_||(n.W_=function(t,i,o){const a=De(t);return a.b_(),new zP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:KP.bind(null,n),mo:QP.bind(null,n),po:YP.bind(null,n),R_:XP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Jp(n)?Xp(n):n.K_.set("Unknown")):(await n.W_.stop(),D0(n))})),n.W_}function os(n){return n.G_||(n.G_=function(t,i,o){const a=De(t);return a.b_(),new qP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ex.bind(null,n),po:rx.bind(null,n),p_:tx.bind(null,n),y_:nx.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Dd(n)):(await n.G_.stop(),n.L_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Zp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,e){if(hi("AsyncQueue",`${e}: ${n}`),wa(n))return new me(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Rl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.z_=new pt(Ee.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):xe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ha{constructor(e,t,i,o,a,c,h,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ha(e,t,sa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ox{constructor(){this.queries=ev(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=De(t),a=o.queries;o.queries=ev(),a.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function ev(){return new no(n=>i0(n),Rd)}async function V0(n,e){const t=De(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new sx,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=em(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&tm(t)}async function F0(n,e){const t=De(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ax(n,e){const t=De(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&tm(t)}function lx(n,e,t){const i=De(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function tm(n){n.X_.forEach(e=>{e.next()})}var op,tv;(tv=op||(op={})).na="default",tv.Cache="cache";class j0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.key=e}}class $0{constructor(e){this.key=e}}class ux{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=s0(e),this.ma=new sa(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Zy,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,S)=>{const I=o.get(w),b=kd(this.query,S)?S:null,A=!!I&&this.mutatedKeys.has(I.key),O=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;I&&b?I.data.isEqual(b.data)?A!==O&&(i.track({type:3,doc:b}),N=!0):this.ya(I,b)||(i.track({type:2,doc:b}),N=!0,(p&&this.Va(b,p)>0||_&&this.Va(b,_)<0)&&(h=!0)):!I&&b?(i.track({type:0,doc:b}),N=!0):I&&!b&&(i.track({type:1,doc:I}),N=!0,(p||_)&&(h=!0)),N&&(b?(c=c.add(b),a=O?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,S)=>function(b,A){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return O(b)-O(A)}(w.type,S.type)||this.Va(w.doc,S.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new ha(this.query,e.ma,a,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Zy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new $0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new U0(i))}),t}va(e){this.da=e.ds,this.Ra=Ue();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ha.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class cx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dx{constructor(e){this.key=e,this.Fa=!1}}class hx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new no(h=>i0(h),Rd),this.Oa=new Map,this.Na=new Set,this.La=new pt(Ee.comparator),this.Ba=new Map,this.ka=new Hp,this.qa={},this.Qa=new Map,this.Ka=da.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function fx(n,e,t=!0){const i=G0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await B0(i,e,t,!0),o}async function px(n,e){const t=G0(n);await B0(t,e,!0,!1)}async function B0(n,e,t,i){const o=await MP(n.localStore,Lr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await mx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&N0(n.remoteStore,o),h}async function mx(n,e,t,i,o){n.Ua=(S,I,b)=>async function(O,N,U,V){let K=N.view.ga(U);K.ss&&(K=await Qy(O.localStore,N.query,!1).then(({documents:D})=>N.view.ga(D,K)));const Y=V&&V.targetChanges.get(N.targetId),X=V&&V.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(K,O.isPrimaryClient,Y,X);return rv(O,N.targetId,ue.ba),ue.snapshot}(n,S,I,b);const a=await Qy(n.localStore,e,!0),c=new ux(e,a.ds),h=c.ga(a.documents),p=su.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(h,n.isPrimaryClient,p);rv(n,t,_.ba);const w=new cx(e,t,c);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function gx(n,e,t){const i=De(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!Rd(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Qp(i.remoteStore,o.targetId),ap(i,o.targetId)}).catch(va)):(ap(i,o.targetId),await sp(i.localStore,o.targetId,!0))}async function _x(n,e){const t=De(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(t.remoteStore,i.targetId))}async function yx(n,e,t){const i=Cx(n);try{const o=await function(c,h){const p=De(c),_=xt.now(),w=h.reduce((b,A)=>b.add(A.key),Ue());let S,I;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=fi(),O=Ue();return p.hs.getEntries(b,w).next(N=>{A=N,A.forEach((U,V)=>{V.isValidDocument()||(O=O.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,A)).next(N=>{S=N;const U=[];for(const V of h){const K=VA(V,S.get(V.key).overlayedDocument);K!=null&&U.push(new ds(V.key,K,Yw(K.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,_,U,h)}).next(N=>{I=N;const U=N.applyToLocalDocumentSet(S,O);return p.documentOverlayCache.saveOverlays(b,N.batchId,U)})}).then(()=>({batchId:I.batchId,changes:a0(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let _=c.qa[c.currentUser.toKey()];_||(_=new pt(Be)),_=_.insert(h,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await au(i,o.changes),await Dd(i.remoteStore)}catch(o){const a=em(o,"Failed to persist write");t.reject(a)}}async function z0(n,e){const t=De(n);try{const i=await DP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Qe(c.Fa):o.removedDocuments.size>0&&(Qe(c.Fa),c.Fa=!1))}),await au(t,i,e)}catch(i){await va(i)}}function nv(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=De(c);p.onlineState=h;let _=!1;p.queries.forEach((w,S)=>{for(const I of S.J_)I.ea(h)&&(_=!0)}),_&&tm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vx(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new pt(Ee.comparator);c=c.insert(a,nn.newNoDocument(a,be.min()));const h=Ue().add(a),p=new xd(be.min(),new Map,new pt(Be),c,h);await z0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),nm(i)}else await sp(i.localStore,e,!1).then(()=>ap(i,e,t)).catch(va)}async function wx(n,e){const t=De(n),i=e.batch.batchId;try{const o=await bP(t.localStore,e);W0(t,i,null),q0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await au(t,o)}catch(o){await va(o)}}async function Ex(n,e,t){const i=De(n);try{const o=await function(c,h){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,h).next(S=>(Qe(S!==null),w=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(i.localStore,e);W0(i,e,t),q0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await au(i,o)}catch(o){await va(o)}}function q0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function W0(n,e,t){const i=De(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||H0(n,i)})}function H0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Qp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),nm(n))}function rv(n,e,t){for(const i of t)i instanceof U0?(n.ka.addReference(i.key,e),Tx(n,i)):i instanceof $0?(fe("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||H0(n,i.key)):xe()}function Tx(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(fe("SyncEngine","New document in limbo: "+t),n.Na.add(i),nm(n))}function nm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ee(it.fromString(e)),i=n.Ka.next();n.Ba.set(i,new dx(t)),n.La=n.La.insert(t,i),N0(n.remoteStore,new Yi(Lr(Up(t.path)),i,"TargetPurposeLimboResolution",Id.oe))}}async function au(n,e,t){const i=De(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(_=>{var w;if((_||t)&&i.isPrimaryClient){const S=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Kp.zi(p.targetId,_);a.push(S)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const w=De(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(_,I=>Z.forEach(I.Wi,b=>w.persistence.referenceDelegate.addReference(S,I.targetId,b)).next(()=>Z.forEach(I.Gi,b=>w.persistence.referenceDelegate.removeReference(S,I.targetId,b)))))}catch(S){if(!wa(S))throw S;fe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const b=w.us.get(I),A=b.snapshotVersion,O=b.withLastLimboFreeSnapshotVersion(A);w.us=w.us.insert(I,O)}}}(i.localStore,a))}async function Ix(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await k0(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(p=>{p.reject(new me(ee.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(t,i.Ts)}}function Sx(n,e){const t=De(n),i=t.Ba.get(e);if(i&&i.Fa)return Ue().add(i.key);{let o=Ue();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function G0(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vx.bind(null,e),e.Ma.R_=ax.bind(null,e.eventManager),e.Ma.Wa=lx.bind(null,e.eventManager),e}function Cx(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ex.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return NP(this.persistence,new PP,e.initialUser,this.serializer)}ja(e){return new R0(Gp.ei,this.serializer)}za(e){return new FP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class Rx extends hd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof cd);const i=this.persistence.referenceDelegate.garbageCollector;return new pP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new R0(i=>cd.ei(i,t),this.serializer)}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ox}()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),i=function(a){return new BP(a)}(e.databaseInfo);return function(a,c,h,p){return new WP(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new GP(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>nv(this.syncEngine,t,0),function(){return Xy.p()?new Xy:new jP}())}createSyncEngine(e,t){return function(o,a,c,h,p,_,w){const S=new hx(o,a,c,h,p,_);return w&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=De(o);fe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await ou(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{fe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=em(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await k0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ax(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Jy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Jy(e.remoteStore,o)),n._onlineComponents=e}async function Ax(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new hd)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Df(n,new Rx(void 0));return n._offlineComponents}async function Q0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await iv(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await iv(n,new lp))),n._onlineComponents}function Px(n){return Q0(n).then(e=>e.syncEngine)}async function Y0(n){const e=await Q0(n),t=e.eventManager;return t.onListen=fx.bind(null,e.syncEngine),t.onUnlisten=gx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_x.bind(null,e.syncEngine),t}function xx(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,_){const w=new K0({next:I=>{w.eu(),c.enqueueAndForget(()=>F0(a,S));const b=I.docs.has(h);!b&&I.fromCache?_.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&I.fromCache&&p&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new j0(Up(h.path),w,{includeMetadataChanges:!0,ua:!0});return V0(a,S)}(await Y0(n),n.asyncQueue,e,t,i)),i.promise}function Nx(n,e,t={}){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,_){const w=new K0({next:I=>{w.eu(),c.enqueueAndForget(()=>F0(a,S)),I.fromCache&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new j0(h,w,{includeMetadataChanges:!0,ua:!0});return V0(a,S)}(await Y0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n,e,t){if(!t)throw new me(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bx(n,e,t,i){if(e===!0&&i===!0)throw new me(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ov(n){if(!Ee.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function av(n){if(Ee.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function pi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ld(n);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zk;switch(i.type){case"firstParty":return new Gk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=sv.get(t);i&&(fe("ComponentProvider","Removing Datastore"),sv.delete(t),i.terminate())}(this),Promise.resolve()}}function Dx(n,e,t,i={}){var o;const a=(n=pi(n,Od))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=tn.MOCK_USER;else{h=Zv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tn(_)}n._authCredentials=new qk(new Hw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Zi extends Ta{constructor(e,t,i){super(e,t,Up(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ee(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Wt(n,e,...t){if(n=st(n),J0("collection","path",e),n instanceof Od){const i=it.fromString(e,...t);return av(i),new Zi(n,null,i)}{if(!(n instanceof Tn||n instanceof Zi))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return av(i),new Zi(n.firestore,null,i)}}function lu(n,e,...t){if(n=st(n),arguments.length===1&&(e=Gw.newId()),J0("doc","path",e),n instanceof Od){const i=it.fromString(e,...t);return ov(i),new Tn(n,null,new Ee(i))}{if(!(n instanceof Tn||n instanceof Zi))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return ov(i),new Tn(n.firestore,n instanceof Zi?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new P0(this,"async_queue_retry"),this.fu=()=>{const i=bf();i&&fe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ui;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wa(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Zp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&xe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ia extends Od{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function _i(n,e){const t=typeof n=="object"?n:Ip(),i=typeof n=="string"?n:"(default)",o=vd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Yv("firestore");a&&Dx(o,...a)}return o}function rm(n){if(n._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lx(n),n._firestoreClient}function Lx(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,_,w){return new lA(h,p,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,X0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new kx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Kt.fromBase64String(e))}catch(t){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=/^__.*__$/;class Mx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new iu(e,this.data,t,this.fieldTransforms)}}class Z0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class om{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(eE(this.Mu)&&Ox.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Vx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nd(e)}$u(e,t,i,o=!1){return new om({Mu:e,methodName:t,Ku:i,path:Ht.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new Vx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fx(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);um("Data must be an object, but it was:",c,i);const h=tE(i,c);let p,_;if(a.merge)p=new Dn(c.fieldMask),_=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const S of a.mergeFields){const I=up(e,S,t);if(!c.contains(I))throw new me(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);rE(w,I)||w.push(I)}p=new Dn(w),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new Mx(new En(h),p,_)}class Fd extends Vd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class lm extends Vd{_toFieldTransform(e){return new DA(e.path,new ql)}isEqual(e){return e instanceof lm}}function jx(n,e,t,i){const o=n.$u(1,e,t);um("Data must be an object, but it was:",o,i);const a=[],c=En.empty();cs(i,(p,_)=>{const w=cm(e,p,t);_=st(_);const S=o.Bu(w);if(_ instanceof Fd)a.push(w);else{const I=uu(_,S);I!=null&&(a.push(w),c.set(w,I))}});const h=new Dn(a);return new Z0(c,h,o.fieldTransforms)}function Ux(n,e,t,i,o,a){const c=n.$u(1,e,t),h=[up(e,i,t)],p=[o];if(a.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)h.push(up(e,a[I])),p.push(a[I+1]);const _=[],w=En.empty();for(let I=h.length-1;I>=0;--I)if(!rE(_,h[I])){const b=h[I];let A=p[I];A=st(A);const O=c.Bu(b);if(A instanceof Fd)_.push(b);else{const N=uu(A,O);N!=null&&(_.push(b),w.set(b,N))}}const S=new Dn(_);return new Z0(w,S,c.fieldTransforms)}function $x(n,e,t,i=!1){return uu(t,n.$u(i?4:3,e))}function uu(n,e){if(nE(n=st(n)))return um("Unsupported field value:",e,n),tE(n,e);if(n instanceof Vd)return function(i,o){if(!eE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let p=uu(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:ud(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ud(o.serializer,a)}}if(i instanceof im)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:v0(o.serializer,i._byteString)};if(i instanceof Tn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sm)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return $p(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Ld(i)}`)}(n,e)}function tE(n,e){const t={};return Kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(n,(i,o)=>{const a=uu(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function nE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof im||n instanceof fa||n instanceof Tn||n instanceof Vd||n instanceof sm)}function um(n,e,t){if(!nE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Ld(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function up(n,e,t){if((e=st(e))instanceof Md)return e._internalPath;if(typeof e=="string")return cm(n,e);throw fd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bx=new RegExp("[~\\*/\\[\\]]");function cm(n,e,t){if(e.search(Bx)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Md(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fd(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,h+n+p)}function rE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zx extends iE{data(){return super.data()}}function dm(n,e){return typeof e=="string"?cm(n,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class Wx extends hm{}function Pr(n,e,...t){let i=[];e instanceof hm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof fm).length,h=a.filter(p=>p instanceof jd).length;if(c>1||c>0&&h>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class jd extends Wx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new jd(e,t,i)}_apply(e){const t=this._parse(e);return sE(e._query,t),new Ta(e.firestore,e.converter,Zf(e._query,t))}_parse(e){const t=am(e.firestore);return function(a,c,h,p,_,w,S){let I;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){dv(S,w);const b=[];for(const A of S)b.push(cv(p,a,A));I={arrayValue:{values:b}}}else I=cv(p,a,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||dv(S,w),I=$x(h,c,S,w==="in"||w==="not-in");return St.create(_,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xr(n,e,t){const i=e,o=dm("where",n);return jd._create(o,i,t)}class fm extends hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)sE(c,p),c=Zf(c,p)}(e._query,t),new Ta(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cv(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&t.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!Ee.isDocumentKey(i))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ny(n,new Ee(i))}if(t instanceof Tn)return Ny(n,t._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(t)}.`)}function dv(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sE(n,e){const t=function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Hx{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>wt(c.doubleValue));return new sm(a)}convertGeoPoint(e){return new im(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=rs(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Qe(C0(i));const o=new Bl(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oE extends iE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qc extends oE{data(e={}){return super.data(e)}}class Kx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qc(this._firestore,this._userDataWriter,i.key,i,new Al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new Qc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Qc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return h.type!==0&&(_=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:Qx(h.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){n=pi(n,Tn);const e=pi(n.firestore,Ia);return xx(rm(e),n._key).then(t=>Xx(e,n,t))}class aE extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function wn(n){n=pi(n,Ta);const e=pi(n.firestore,Ia),t=rm(e),i=new aE(e);return qx(n._query),Nx(t,n._query).then(o=>new Kx(e,i,n,o))}function Gl(n,e,t,...i){n=pi(n,Tn);const o=pi(n.firestore,Ia),a=am(o);let c;return c=typeof(e=st(e))=="string"||e instanceof Md?Ux(a,"updateDoc",n._key,e,t,i):jx(a,"updateDoc",n._key,e),gm(o,[c.toMutation(n._key,hr.exists(!0))])}function Yx(n){return gm(pi(n.firestore,Ia),[new Bp(n._key,hr.none())])}function mm(n,e){const t=pi(n.firestore,Ia),i=lu(n),o=Gx(n.converter,e);return gm(t,[Fx(am(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,hr.exists(!1))]).then(()=>i)}function gm(n,e){return function(i,o){const a=new ui;return i.asyncQueue.enqueueAndForget(async()=>yx(await Px(i),o,a)),a.promise}(rm(n),e)}function Xx(n,e,t){const i=t.docs.get(e._key),o=new aE(n);return new oE(n,o,e._key,i,new Al(t.hasPendingWrites,t.fromCache),e.converter)}function lE(){return new lm("serverTimestamp")}(function(e,t=!0){(function(o){ya=o})(to),Qs(new ts("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Ia(new Wk(i.getProvider("auth-internal")),new Qk(i.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),br(Cy,"4.7.5",e),br(Cy,"4.7.5","esm2017")})();const Jx={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};ga(Jx);const Zx=()=>{const n=ls(),[e,t]=L.useState(null),[i,o]=L.useState(null),[a,c]=L.useState(!1),[h,p]=L.useState([]),[_,w]=L.useState([]),[S,I]=L.useState(null);L.useState(!1);const b=Fr(),A=_i();L.useEffect(()=>{const D=b.onAuthStateChanged(async k=>{if(t(k),k){const P=k.email,M=await O(P);o(M),n("/dashboard",{state:{userData:M}})}});return(async()=>{try{if("NDEFReader"in window){const k=await window.NDEFReader;k&&(k.abort(),console.log("Existing NFC reader cleaned up"))}}catch(k){console.error("Error cleaning up NFC reader:",k)}})(),()=>{D(),S&&S.abort()}},[]),L.useEffect(()=>{(async()=>{try{const k=(await wn(Wt(A,"RegisteredTeacher"))).docs.map(F=>F.data().name).slice(0,5);p(k);const M=(await wn(Wt(A,"RegisteredStudent"))).docs.map(F=>F.data().name).slice(0,5);w(M)}catch(R){console.error("Error fetching registered users:",R)}})()},[A]);const O=async D=>{try{const R=Pr(Wt(A,"RegisteredAdmin"),xr("email","==",D)),k=await wn(R);if(!k.empty)return k.docs[0].data();const P=Pr(Wt(A,"RegisteredTeacher"),xr("email","==",D)),M=await wn(P);if(!M.empty)return M.docs[0].data();const F=Pr(Wt(A,"RegisteredStudent"),xr("email","==",D)),T=await wn(F);return T.empty?null:T.docs[0].data()}catch(R){return console.error("Error fetching user data:",R),null}},N=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},U=()=>{c(!1),n("/dashboard",{state:{userData:i}})},V=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},K=()=>{c(!a)},Y=async()=>{try{S&&S.abort(),await jl(b),console.log("User signed out successfully"),n("/login")}catch(D){console.error("Error signing out:",D)}},X=["Scanner-001","Scanner-002","Scanner-003"],ue=(i==null?void 0:i.position)==="Student";return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:ke.hamburgerBtn,onClick:K,children:a?y.jsx(_d,{size:24}):y.jsx(QI,{size:24})}),y.jsxs("div",{className:`${ke.sidebar} ${a?ke.sidebarOpen:""}`,children:[y.jsx("div",{className:ke.profileSection,children:e&&i&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:ke.avatar,children:y.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),y.jsxs("div",{className:ke.userInfo,children:[y.jsx("h3",{children:i.name}),y.jsx("p",{children:e.email}),y.jsx("br",{}),y.jsx("span",{children:i.position})]})]})}),y.jsx("nav",{className:ke.navigation,children:y.jsxs("ul",{className:ke.navList,children:[y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:U,children:[y.jsx(GI,{size:20}),y.jsx("span",{children:"Dashboard"})]})}),ue?y.jsxs(y.Fragment,{children:[y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(Ac,{size:20}),y.jsx("span",{children:"Event Attendance"})]})}),y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(Ac,{size:20}),y.jsx("span",{children:"Room Attendance"})]})}),y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(Ac,{size:20}),y.jsx("span",{children:"Membership Attendance"})]})})]}):y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{onClick:N,className:ke.navLink,style:{cursor:"pointer"},children:[y.jsx(VI,{size:20}),y.jsx("span",{children:"Create Event"})]})}),!ue&&y.jsxs(y.Fragment,{children:[y.jsxs(qi,{to:"/dashboard/event-list",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(UI,{size:20}),y.jsx("span",{children:"Event List"})]}),y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(Ac,{size:20}),y.jsx("span",{children:"Archive"})]})}),y.jsxs("li",{className:ke.navItem,children:[y.jsxs(qi,{to:"/dashboard/registered-students",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(ta,{size:20}),y.jsx("span",{children:"Registered Students"})]}),y.jsx("ul",{className:ke.dropdown,children:_.map((D,R)=>y.jsx("li",{className:ke.dropdownItem,children:D},R))})]}),y.jsxs("li",{className:ke.navItem,children:[y.jsxs(qi,{to:"/dashboard/registered-teachers",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(ta,{size:20}),y.jsx("span",{children:"Registered Teacher"})]}),y.jsx("ul",{className:ke.dropdown,children:h.map((D,R)=>y.jsx("li",{className:ke.dropdownItem,children:D},R))})]}),y.jsx("li",{className:ke.navItem,children:y.jsxs(qi,{to:"/dashboard/teacher-registration",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(ta,{size:20}),y.jsx("span",{children:"Teacher Registration"})]})}),y.jsx("li",{className:ke.navItem,children:y.jsxs(qi,{to:"/dashboard/student-registration",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(ta,{size:20}),y.jsx("span",{children:"Student Registration"})]})}),y.jsx("li",{className:ke.navItem,children:y.jsxs(qi,{to:"/dashboard/nfc-reader",className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(K_,{size:20}),y.jsx("span",{children:"NFC Reader"})]})}),y.jsxs("li",{className:ke.navItem,children:[y.jsxs("div",{className:ke.navLink,onClick:()=>c(!1),children:[y.jsx(K_,{size:20}),y.jsx("span",{children:"ESP32 NFC Scanners"})]}),y.jsx("ul",{className:ke.dropdown,children:X.map((D,R)=>y.jsx("li",{className:ke.dropdownItem,children:D},R))})]})]}),y.jsx("li",{className:ke.navItem,children:y.jsxs("div",{className:ke.navLink,onClick:V,children:[y.jsx(zI,{size:20}),y.jsx("span",{children:"File Manager"})]})})]})}),y.jsxs("button",{className:ke.logoutBtn,onClick:Y,children:[y.jsx(KI,{size:20}),y.jsx("span",{children:"Logout"})]})]}),a&&y.jsx("div",{className:ke.overlay,onClick:K})]})};function eN(){var i;const n=gr(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return y.jsxs("div",{className:ke.dashboardContainer,children:[y.jsx(Zx,{}),y.jsx("main",{className:ke.mainContent,children:t?y.jsxs("div",{className:ke.welcomeContainer,children:[y.jsxs("h1",{className:ke.welcomeTitle,children:["Welcome",y.jsx("br",{})," ",y.jsx("span",{children:e==null?void 0:e.name})]}),y.jsx("p",{className:ke.welcomeText,children:"Select an option from the sidebar to get started"})]}):y.jsx(b1,{})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebasestorage.googleapis.com",cE="storageBucket",tN=2*60*1e3,nN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Vr{constructor(e,t,i=0){super(Lf(e),`Firebase Storage: ${t} (${Lf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Lf(n){return"storage/"+n}function _m(){const n="An unknown error occurred, please check the error payload for server response.";return new _t(gt.UNKNOWN,n)}function rN(n){return new _t(gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function iN(n){return new _t(gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(gt.UNAUTHENTICATED,n)}function oN(){return new _t(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aN(n){return new _t(gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function lN(){return new _t(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uN(){return new _t(gt.CANCELED,"User canceled the upload/download.")}function cN(n){return new _t(gt.INVALID_URL,"Invalid URL '"+n+"'.")}function dN(n){return new _t(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function hN(){return new _t(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cE+"' property when initializing the app?")}function fN(){return new _t(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pN(){return new _t(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mN(n){return new _t(gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(n){return new _t(gt.INVALID_ARGUMENT,n)}function dE(){return new _t(gt.APP_DELETED,"The Firebase app was deleted.")}function gN(n){return new _t(gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(n,e){return new _t(gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vl(n){throw new _t(gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=cn.makeFromUrl(e,t)}catch{return new cn(e,"")}if(i.path==="")return i;throw dN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(Y){Y.path_=decodeURIComponent(Y.path)}const w="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",b=new RegExp(`^https?://${S}/${w}/b/${o}/o${I}`,"i"),A={bucket:1,path:3},O=t===uE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",U=new RegExp(`^https?://${O}/${o}/${N}`,"i"),K=[{regex:h,indices:p,postModify:a},{regex:b,indices:A,postModify:_},{regex:U,indices:{bucket:1,path:2},postModify:_}];for(let Y=0;Y<K.length;Y++){const X=K[Y],ue=X.regex.exec(e);if(ue){const D=ue[X.indices.bucket];let R=ue[X.indices.path];R||(R=""),i=new cn(D,R),X.postModify(i);break}}if(i==null)throw cN(e);return i}}class _N{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e,t){let i=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let _=!1;function w(...N){_||(_=!0,e.apply(null,N))}function S(N){o=setTimeout(()=>{o=null,n(b,p())},N)}function I(){a&&clearTimeout(a)}function b(N,...U){if(_){I();return}if(N){I(),w.call(null,N,...U);return}if(p()||c){I(),w.call(null,N,...U);return}i<64&&(i*=2);let K;h===1?(h=2,K=0):K=(i+Math.random())*1e3,S(K)}let A=!1;function O(N){A||(A=!0,I(),!_&&(o!==null?(N||(h=2),clearTimeout(o),S(0)):N||(h=1)))}return S(0),a=setTimeout(()=>{c=!0,O(!0)},t),O}function vN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n){return n!==void 0}function EN(n){return typeof n=="object"&&!Array.isArray(n)}function ym(n){return typeof n=="string"||n instanceof String}function hv(n){return vm()&&n instanceof Blob}function vm(){return typeof Blob<"u"}function dp(n,e,t,i){if(i<e)throw cp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw cp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function hE(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ks;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,i,o,a,c,h,p,_,w,S,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=S,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Mc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,_=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===Ks.NO_ERROR,p=a.getStatus();if(!h||TN(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===Ks.ABORT;i(!1,new Mc(!1,null,w));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new Mc(_,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());wN(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=_m();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?dE():uN();c(p)}else{const p=lN();c(p)}};this.canceled_?t(!1,new Mc(!1,null,!0)):this.backoffId_=yN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function SN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AN(n,e,t,i,o,a,c=!0){const h=hE(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return RN(_,e),SN(_,t),CN(_,a),kN(_,i),new IN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xN(...n){const e=PN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(vm())return new Blob(n);throw new _t(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){if(typeof atob>"u")throw mN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Of{constructor(e,t){this.data=e,this.contentType=t||null}}function fE(n,e){switch(n){case cr.RAW:return new Of(pE(e));case cr.BASE64:case cr.BASE64URL:return new Of(mE(n,e));case cr.DATA_URL:return new Of(LN(e),ON(e))}throw _m()}function pE(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,c=n.charCodeAt(++t);i=65536|(a&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function DN(n){let e;try{e=decodeURIComponent(n)}catch{throw Ll(cr.DATA_URL,"Malformed data URL.")}return pE(e)}function mE(n,e){switch(n){case cr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=bN(e)}catch(o){throw o.message.includes("polyfill")?o:Ll(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class gE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ll(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=MN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function LN(n){const e=new gE(n);return e.base64?mE(cr.BASE64,e.rest):DN(e.rest)}function ON(n){return new gE(n).contentType}function MN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){let i=0,o="";hv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(hv(this.data_)){const i=this.data_,o=NN(i,e,t);return o===null?null:new Ki(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ki(i,!0)}}static getBlob(...e){if(vm()){const t=e.map(i=>i instanceof Ki?i.data_:i);return new Ki(xN.apply(null,t))}else{const t=e.map(c=>ym(c)?fE(cr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new Ki(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n){let e;try{e=JSON.parse(n)}catch{return null}return EN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function FN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function _E(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e){return e}class un{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||jN}}let Vc=null;function UN(n){return!ym(n)||n.length<2?n:_E(n)}function yE(){if(Vc)return Vc;const n=[];n.push(new un("bucket")),n.push(new un("generation")),n.push(new un("metageneration")),n.push(new un("name","fullPath",!0));function e(a,c){return UN(c)}const t=new un("name");t.xform=e,n.push(t);function i(a,c){return c!==void 0?Number(c):c}const o=new un("size");return o.xform=i,n.push(o),n.push(new un("timeCreated")),n.push(new un("updated")),n.push(new un("md5Hash",null,!0)),n.push(new un("cacheControl",null,!0)),n.push(new un("contentDisposition",null,!0)),n.push(new un("contentEncoding",null,!0)),n.push(new un("contentLanguage",null,!0)),n.push(new un("contentType",null,!0)),n.push(new un("metadata","customMetadata",!0)),Vc=n,Vc}function $N(n,e){function t(){const i=n.bucket,o=n.fullPath,a=new cn(i,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function BN(n,e,t){const i={};i.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return $N(i,n),i}function vE(n,e,t){const i=wm(e);return i===null?null:BN(n,i,t)}function zN(n,e,t,i){const o=wm(e);if(o===null||!ym(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(_=>{const w=n.bucket,S=n.fullPath,I="/b/"+c(w)+"/o/"+c(S),b=cu(I,t,i),A=hE({alt:"media",token:_});return b+A})[0]}function qN(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="prefixes",pv="items";function WN(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[fv])for(const o of t[fv]){const a=o.replace(/\/$/,""),c=n._makeStorageReference(new cn(e,a));i.prefixes.push(c)}if(t[pv])for(const o of t[pv]){const a=n._makeStorageReference(new cn(e,o.name));i.items.push(a)}return i}function HN(n,e,t){const i=wm(t);return i===null?null:WN(n,e,i)}class Ud{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){if(!n)throw _m()}function GN(n,e){function t(i,o){const a=vE(n,o,e);return Em(a!==null),a}return t}function KN(n,e){function t(i,o){const a=HN(n,e,o);return Em(a!==null),a}return t}function QN(n,e){function t(i,o){const a=vE(n,o,e);return Em(a!==null),zN(a,o,n.host,n._protocol)}return t}function Tm(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=oN():o=sN():t.getStatus()===402?o=iN(n.bucket):t.getStatus()===403?o=aN(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function wE(n){const e=Tm(n);function t(i,o){let a=e(i,o);return i.getStatus()===404&&(a=rN(n.path)),a.serverResponse=o.serverResponse,a}return t}function YN(n,e,t,i,o){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),o&&(a.maxResults=o);const c=e.bucketOnlyServerUrl(),h=cu(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,w=new Ud(h,p,KN(n,e.bucket),_);return w.urlParams=a,w.errorHandler=Tm(e),w}function XN(n,e,t){const i=e.fullServerUrl(),o=cu(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,h=new Ud(o,a,QN(n,t),c);return h.errorHandler=wE(e),h}function JN(n,e){const t=e.fullServerUrl(),i=cu(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function c(p,_){}const h=new Ud(i,o,c,a);return h.successCodes=[200,204],h.errorHandler=wE(e),h}function ZN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function e2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=ZN(null,e)),i}function t2(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let K="";for(let Y=0;Y<2;Y++)K=K+Math.random().toString().slice(2);return K}const p=h();c["Content-Type"]="multipart/related; boundary="+p;const _=e2(e,i,o),w=qN(_,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,I=`\r
--`+p+"--",b=Ki.getBlob(S,i,I);if(b===null)throw fN();const A={name:_.fullPath},O=cu(a,n.host,n._protocol),N="POST",U=n.maxUploadRetryTime,V=new Ud(O,N,GN(n,t),U);return V.urlParams=A,V.headers=c,V.body=b.uploadData(),V.errorHandler=Tm(e),V}class n2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r2 extends n2{initXhr(){this.xhr_.responseType="text"}}function $d(){return new r2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this._service=e,t instanceof cn?this._location=t:this._location=cn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zs(e,t)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _E(this._location.path)}get storage(){return this._service}get parent(){const e=VN(this._location.path);if(e===null)return null;const t=new cn(this._location.bucket,e);return new Zs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gN(e)}}function EE(n,e,t){n._throwIfRoot("uploadBytes");const i=t2(n.storage,n._location,yE(),new Ki(e,!0),t);return n.storage.makeRequestWithTokens(i,$d).then(o=>({metadata:o,ref:n}))}function i2(n,e,t=cr.RAW,i){n._throwIfRoot("uploadString");const o=fE(t,e),a=Object.assign({},i);return a.contentType==null&&o.contentType!=null&&(a.contentType=o.contentType),EE(n,o.data,a)}function s2(n){const e={prefixes:[],items:[]};return TE(n,e).then(()=>e)}async function TE(n,e,t){const o=await o2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await TE(n,e,o.nextPageToken)}function o2(n,e){e!=null&&typeof e.maxResults=="number"&&dp("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=YN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,$d)}function a2(n){n._throwIfRoot("getDownloadURL");const e=XN(n.storage,n._location,yE());return n.storage.makeRequestWithTokens(e,$d).then(t=>{if(t===null)throw pN();return t})}function l2(n){n._throwIfRoot("deleteObject");const e=JN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$d)}function u2(n,e){const t=FN(n._location.path,e),i=new cn(n._location.bucket,t);return new Zs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n){return/^[A-Za-z]+:\/\//.test(n)}function d2(n,e){return new Zs(n,e)}function IE(n,e){if(n instanceof Im){const t=n;if(t._bucket==null)throw hN();const i=new Zs(t,t._bucket);return e!=null?IE(i,e):i}else return e!==void 0?u2(n,e):n}function h2(n,e){if(e&&c2(e)){if(n instanceof Im)return d2(n,e);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return IE(n,e)}function mv(n,e){const t=e==null?void 0:e[cE];return t==null?null:cn.makeFromBucketSpec(t,n)}function f2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Zv(o,n.app.options.projectId))}class Im{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=uE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tN,this._maxUploadRetryTime=nN,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=mv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=mv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new _N(dE());{const c=AN(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const gv="@firebase/storage",_v="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="storage";function Qi(n,e,t){return n=st(n),EE(n,e,t)}function p2(n,e,t,i){return n=st(n),i2(n,e,t,i)}function oa(n){return n=st(n),s2(n)}function Nr(n){return n=st(n),a2(n)}function wl(n){return n=st(n),l2(n)}function Ft(n,e){return n=st(n),h2(n,e)}function hs(n=Ip(),e){n=st(n);const i=vd(n,SE).getImmediate({identifier:e}),o=Yv("storage");return o&&m2(i,...o),i}function m2(n,e,t,i={}){f2(n,e,t,i)}function g2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Im(t,i,o,e,to)}function _2(){Qs(new ts(SE,g2,"PUBLIC").setMultipleInstances(!0)),br(gv,_v,""),br(gv,_v,"esm2017")}_2();const y2="_container_16xzw_5",v2="_card_16xzw_17",w2="_cardHeader_16xzw_33",E2="_imageUpload_16xzw_49",T2="_imageInput_16xzw_91",I2="_hasImage_16xzw_111",S2="_label_16xzw_121",C2="_imageSelectedPulse_16xzw_1",R2="_imageUploadIcon_16xzw_171",k2="_cardTitle_16xzw_179",A2="_form_16xzw_193",P2="_formGrid_16xzw_203",x2="_formGroup_16xzw_227",N2="_input_16xzw_251",b2="_select_16xzw_253",D2="_button_16xzw_299",L2="_tableContainer_16xzw_349",O2="_table_16xzw_349",M2="_status_16xzw_407",V2="_statusPending_16xzw_423",F2="_statusOngoing_16xzw_433",j2="_statusCompleted_16xzw_443",U2="_error_16xzw_455",$2="_inputError_16xzw_467",B2="_status_command_16xzw_511",z2="_status_detail_16xzw_521",q2="_reading_16xzw_531",W2="_pulse_16xzw_1",Re={container:y2,card:v2,cardHeader:w2,imageUpload:E2,imageInput:T2,hasImage:I2,label:S2,imageSelectedPulse:C2,imageUploadIcon:R2,cardTitle:k2,form:A2,formGrid:P2,formGroup:x2,input:N2,select:b2,button:D2,tableContainer:L2,table:O2,status:M2,statusPending:V2,statusOngoing:F2,statusCompleted:j2,error:U2,inputError:$2,status_command:B2,status_detail:z2,reading:q2,pulse:W2},H2="_buttons_85dii_1",G2="_add_85dii_77",K2="_archive_85dii_77",Q2="_logout_85dii_77",Y2="_progress_85dii_77",X2="_filemanager_85dii_77",J2="_new_event_85dii_77",Gt={buttons:H2,add:G2,archive:K2,logout:Q2,progress:Y2,filemanager:X2,new_event:J2},Z2=()=>{const n=gr(),{userData:e}=n.state||{},t=_i(),i=hs(),[o,a]=L.useState(""),[c,h]=L.useState("unlimited"),[p,_]=L.useState(""),[w,S]=L.useState(""),[I,b]=L.useState("event"),[A,O]=L.useState(""),[N,U]=L.useState("pending"),[V,K]=L.useState(""),[Y,X]=L.useState(""),[ue,D]=L.useState(""),[R,k]=L.useState(""),[P,M]=L.useState(!1),[F,T]=L.useState(!1),[oe,Ne]=L.useState(""),[we,Te]=L.useState([]),[ie,he]=L.useState(null),[ce,B]=L.useState(""),J=(Q,le)=>(Ne(Q),Te(le),new Promise(Ie=>setTimeout(Ie,800))),ye=["ESP32-001","ESP32-002","ESP32-003"],Le=Q=>{Q.target.files[0]&&he(Q.target.files[0])},Oe=async()=>{var We;if(!ie)return null;const Q=((We=e==null?void 0:e.email)==null?void 0:We.replace(/[@.]/g,"_"))||"anonymous",le=new Date().getTime(),Ie=Ft(i,`users/${Q}/event_images/${le}_${ie.name}`);try{await J("Uploading image",["Please wait while the image is being uploaded"]);const bt=await Qi(Ie,ie),ot=await Nr(bt.ref);return B(ot),ot}catch(bt){throw console.error("Error uploading image: ",bt),bt}},Me=async Q=>{Q.preventDefault(),T(!0),M(!0);try{const le=await Oe();await J("Getting all of data gathered",["Creating event without ID"]);const Ie={eventName:o,entryLimit:c,maxEntries:c==="limited"?parseInt(p):null,locations:w,purpose:I,selectedEsp32:A,status:N,startDate:V,startTime:Y,endDate:ue,endTime:R,imageUrl:le,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},We=await mm(Wt(t,"PendingEvent"),Ie);await J(`Event created with ID: ${We.id}`,["Processing for data upload"]),await Gl(We,{docId:We.id}),await J("Event created",["Check your Event List"]),setTimeout(()=>{Ne(""),Te([])},1e3),Fe()}catch(le){console.error("Error creating event: ",le),alert("Error creating event. Please try again.")}},Fe=()=>{a(""),h("unlimited"),_(""),S(""),b("event"),O(""),U("pending"),K(""),X(""),k(""),D(""),he(null),B(""),T(!1),M(!1)};return y.jsxs("div",{className:Re.container,children:[(oe||F)&&y.jsxs("div",{className:`${Re.status} ${P?Re.reading:""}`,children:[y.jsx("div",{className:Re.status_command,children:oe}),we.map((Q,le)=>y.jsx("div",{className:Re.status_detail,children:Q},le))]}),y.jsxs("div",{className:Re.card,children:[y.jsxs("div",{className:Re.cardHeader,children:[y.jsx("h2",{className:Re.cardTitle,children:"Create New Event"}),y.jsxs("div",{className:`${Re.imageUpload} ${ie?Re.hasImage:""}`,children:[y.jsx(WI,{size:20,className:Re.imageUploadIcon}),y.jsx("label",{className:Re.label,children:ie?"Image Selected":"Event Image (Optional)"}),y.jsx("input",{type:"file",accept:"image/*",onChange:Le,className:Re.imageInput})]})]}),y.jsxs("form",{className:Re.form,onSubmit:Me,children:[y.jsxs("div",{className:Re.formGrid,children:[y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Event Name"}),y.jsx("input",{type:"text",className:Re.input,value:o,onChange:Q=>a(Q.target.value),placeholder:"Enter event name"})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Entry Limit"}),y.jsxs("select",{className:Re.select,value:c,name:"Entry Limit",onChange:Q=>h(Q.target.value),children:[y.jsx("option",{value:"unlimited",children:"Unlimited"}),y.jsx("option",{value:"limited",children:"Limited"})]})]}),c==="limited"&&y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Maximum Entries"}),y.jsx("input",{type:"number",className:Re.input,value:p,onChange:Q=>_(Q.target.value),placeholder:"Enter maximum entries"})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Location"}),y.jsx("input",{type:"text",className:Re.input,value:w,onChange:Q=>S(Q.target.value),placeholder:"Enter location"})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Purpose"}),y.jsxs("select",{className:Re.select,value:I,name:"Purpose",onChange:Q=>b(Q.target.value),children:[y.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),y.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"}),y.jsx("option",{value:"room",name:"Purpose",children:"Room Attendance"})]})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"ESP32 Device"}),y.jsx("select",{className:Re.select,value:A,name:"ESP32 Device",onChange:Q=>O(Q.target.value),children:ye.map(Q=>y.jsx("option",{value:Q,children:Q},Q))})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Status"}),y.jsxs("select",{className:Re.select,value:N,name:"Status",onChange:Q=>U(Q.target.value),children:[y.jsx("option",{value:"pending",name:"Status",children:"Pending"}),y.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"}),y.jsx("option",{value:"completed",name:"Status",children:"Completed"}),y.jsx("option",{value:"pause",name:"Status",children:"Pause"}),y.jsx("option",{value:"continued",name:"Status",children:"Continued"})]})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Start Date"}),y.jsx("input",{type:"date",className:Re.input,value:V,name:"Start Date",onChange:Q=>K(Q.target.value)})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"Start Time"}),y.jsx("input",{type:"time",className:Re.input,value:Y,name:"Start Time",onChange:Q=>X(Q.target.value)})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"End Date"}),y.jsx("input",{type:"date",className:Re.input,value:ue,name:"End Date",onChange:Q=>D(Q.target.value)})]}),y.jsxs("div",{className:Re.formGroup,children:[y.jsx("label",{className:Re.label,children:"End Time"}),y.jsx("input",{type:"time",className:Re.input,value:R,name:"End Time",onChange:Q=>k(Q.target.value)})]})]}),y.jsx("button",{type:"submit",className:Gt.buttons,disabled:F,name:"Create Event Submit",children:F?"Please wait..":"Create Event"})]})]})]})},eb="_container_rixh2_3",tb="_form_rixh2_17",nb="_nfcButton_rixh2_47",rb="_scanButton_rixh2_47",ib="_scannerContainer_rixh2_65",sb="_scanner_rixh2_65",ob="_modalOverlay_rixh2_95",ab="_modalContent_rixh2_123",lb="_status_rixh2_147",ub="_statusWarning_rixh2_165",cb="_statusInfo_rixh2_179",db="_statusSuccess_rixh2_193",hb="_statusError_rixh2_207",fb="_pulse_rixh2_1",pb="_reader_rixh2_293",qn={container:eb,form:tb,nfcButton:nb,scanButton:rb,scannerContainer:ib,scanner:sb,modalOverlay:ob,modalContent:ab,status:lb,statusWarning:ub,statusInfo:cb,statusSuccess:db,statusError:hb,"animate-pulse":"_animate-pulse_rixh2_245",pulse:fb,reader:pb},mb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Sm=ga(mb),yv=_i(Sm),gb=hs(Sm),_b=Fr(Sm),yb=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return qn.statusWarning;case"error":return qn.statusError;case"success":return qn.statusSuccess;default:return qn.statusInfo}};return y.jsx("div",{className:qn.modalOverlay,children:y.jsx("div",{className:qn.modalContent,children:y.jsx("div",{className:`${qn.status} ${i()} ${t?qn["animate-pulse"]:""}`,children:n})})})},vb=()=>{const[n,e]=L.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[t,i]=L.useState(null),[o,a]=L.useState("capture"),[c,h]=L.useState(!1),[p,_]=L.useState(""),[w,S]=L.useState(null),[I,b]=L.useState("info"),[A,O]=L.useState(null),N=L.useRef(null),U=L.useRef(null),V=(T,oe="info")=>{_(T),b(oe)};L.useEffect(()=>()=>{w&&w.abort()},[w]);const K=T=>{const oe=T.target.files[0];i(oe)},Y=T=>{a(T),i(null),N.current&&(N.current.value=""),U.current&&(U.current.value="")},X=async()=>{try{const T=await kw(_b,n.email,n.upass);return await Aw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},ue=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;S(T),await T.scan();const oe=await new Promise((Ne,we)=>{const Te=async ie=>{try{const he=ie.serialNumber;if(!await P(he)){we(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",Te),Ne(he)}catch(he){we(he)}};T.addEventListener("reading",Te),setTimeout(()=>{T.removeEventListener("reading",Te),we(new Error("NFC tag read timeout"))},3e4)});return O(oe),V("NFC tag detected successfully","success"),oe}catch(T){throw V(T.message,"error"),T}finally{w&&(w.abort(),S(null))}},D=async()=>{const T=Fr(),oe=ls();try{await jl(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Ne){console.error("Error signing out:",Ne)}},R=async()=>{if(!t)return null;try{V("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=Ft(gb,`users/${T}/profile/${t.name}`),Ne=await Qi(oe,t),we=await Nr(Ne.ref);return V("Selfie uploaded successfully!","success"),we}catch(T){throw V("Failed to upload selfie: "+T.message,"error"),T}},k=async()=>{try{h(!0);const T=await R();V("Saving your registration details...","info");const Ne={...n,nfcSerialNumber:A,selfieUrl:T,position:"Student",createdAt:lE()},we=await mm(Wt(yv,"RegisteredStudent"),Ne);await Gl(we,{currentnfcId:we.id}),V("Registration details saved successfully!","success"),V("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(we.id)}]}),V("NFC tag written successfully!","success"),V("Creating your account...","info");const ie=await X();return await Gl(we,{firebaseUserId:ie.uid}),V("Registration completed! Please check your email for verification.","success"),await D(),setTimeout(()=>{V(""),M()},5e3),we.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,V(oe,"error"),T}finally{h(!1)}},P=async T=>{try{const oe=lu(yv,"Toregistered",T);return(await pm(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},M=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),i(null),_(""),O(null),N.current&&(N.current.value="")},F=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){V("NFC is not supported on this device","warning");return}try{if(V("Waiting for NFC tag... Please place your card","info"),await ue(),V("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){O(null),V("");return}await k()}catch(oe){console.error("Registration Error:",oe),V("Registration process failed: "+oe.message,"error")}};return y.jsxs("div",{className:qn.container,children:[y.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||p)&&y.jsx(yb,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?I:"warning",isProcessing:c}),y.jsxs("form",{onSubmit:F,className:qn.form,children:[y.jsx("input",{type:"text",placeholder:"Student Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:T=>e({...n,course:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:T=>e({...n,studentId:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),y.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[y.jsx("option",{value:"",children:"Select Campus"}),y.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),y.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),y.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),y.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),y.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),y.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),y.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),y.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),y.jsxs("div",{className:qn.uploadOptionContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Y("capture"),disabled:c}),"Capture Selfie"]}),y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Y("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:N,onChange:K,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>N.current.click(),className:Gt.buttons,disabled:c,children:"Take Profile Picture"})]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:U,onChange:K,accept:"image/*",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>U.current.click(),className:Gt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&y.jsxs("p",{children:["Selected Image: ",t.name,y.jsx("button",{type:"button",onClick:()=>i(null),className:qn.clearImageButton,disabled:c,children:"Clear"})]}),y.jsx("button",{type:"submit",className:`${Gt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:A?"Complete Registration":"Scan NFC Tag"})]})]})},wb="_container_avr77_1",Eb="_status_avr77_33",Tb="_reading_avr77_51",Ib="_pulse_avr77_1",Sb="_error_avr77_59",Cb="_studentInfo_avr77_77",Rb="_infoGrid_avr77_107",kb="_infoRow_avr77_117",Ab="_selfie_avr77_149",Pb="_controls_avr77_171",xb="_button_avr77_185",Nb="_readButton_avr77_213",bb="_resetButton_avr77_231",xn={container:wb,status:Eb,reading:Tb,pulse:Ib,error:Sb,studentInfo:Cb,infoGrid:Rb,infoRow:kb,selfie:Ab,controls:Pb,button:xb,readButton:Nb,resetButton:bb},Db={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Lb=ga(Db),Ob=_i(Lb),Mb=()=>{const[n,e]=L.useState(null),[t,i]=L.useState(""),[o,a]=L.useState(!1),[c,h]=L.useState(null),p=async()=>{try{a(!0),i("Waiting for NFC card..."),h(null);const w=new NDEFReader;await w.scan(),w.addEventListener("reading",async({message:S})=>{try{const I=S.records.find(N=>N.recordType==="text");if(!I)throw new Error("Invalid NFC card: No student data found");const b=new TextDecoder().decode(I.data);i("Retrieving student data...");const A=lu(Ob,"RegisteredStudent",b),O=await pm(A);if(O.exists()){const N=O.data();e(N),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(I){h(I.message),e(null)}finally{a(!1),w.stop()}})}catch(w){h(w.message),a(!1)}},_=()=>{e(null),i(""),h(null),a(!1)};return y.jsxs("div",{className:xn.container,children:[y.jsx("h1",{children:"Student NFC Reader"}),t&&y.jsx("div",{className:`${xn.status} ${o?xn.reading:""}`,children:t}),c&&y.jsx("div",{className:xn.error,children:c}),n&&y.jsxs("div",{className:xn.studentInfo,children:[y.jsx("h2",{children:"Student Information"}),y.jsxs("div",{className:xn.infoGrid,children:[y.jsxs("div",{className:xn.infoRow,children:[y.jsx("span",{children:"Name:"}),y.jsx("span",{children:n.studentName})]}),y.jsxs("div",{className:xn.infoRow,children:[y.jsx("span",{children:"Student ID:"}),y.jsx("span",{children:n.studentId})]}),y.jsxs("div",{className:xn.infoRow,children:[y.jsx("span",{children:"Email:"}),y.jsx("span",{children:n.email})]}),y.jsxs("div",{className:xn.infoRow,children:[y.jsx("span",{children:"Course:"}),y.jsx("span",{children:n.course})]}),y.jsxs("div",{className:xn.infoRow,children:[y.jsx("span",{children:"Campus:"}),y.jsx("span",{children:n.campus})]}),n.selfieUrl&&y.jsx("div",{className:xn.selfie,children:y.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),y.jsxs("div",{className:xn.controls,children:[y.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Gt.buttons} ${Gt.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&y.jsx("button",{onClick:_,className:`${Gt.buttons} ${Gt.buttons}`,children:"Clear & Scan New Card"})]})]})},Vb="_login_container_sp5l5_9",Fb="_login_card_sp5l5_35",jb="_login_title_sp5l5_53",Ub="_login_form_sp5l5_71",$b="_form_group_sp5l5_83",Bb="_login_input_sp5l5_93",zb="_login_button_sp5l5_125",qb="_error_message_sp5l5_171",Wb="_divider_sp5l5_189",Hb="_google_button_sp5l5_237",Gb="_google_icon_sp5l5_289",Kb="_terminal_overlay_sp5l5_301",Qb="_status_sp5l5_327",Yb="_status_command_sp5l5_355",Xb="_status_detail_sp5l5_365",Jb="_error_sp5l5_171",Zb="_pulse_sp5l5_1",Vt={login_container:Vb,login_card:Fb,login_title:jb,login_form:Ub,form_group:$b,login_input:Bb,login_button:zb,error_message:qb,divider:Wb,google_button:Hb,google_icon:Gb,terminal_overlay:Kb,status:Qb,status_command:Yb,status_detail:Xb,error:Jb,pulse:Zb},eD={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},tD=ga(eD),nD=new ri,Bs=Fr(),Qo=_i(tD),rD=()=>{const n=ls(),[e,t]=L.useState(""),[i,o]=L.useState(""),[a,c]=L.useState(""),[h,p]=L.useState(!1),[_,w]=L.useState(!1),[S,I]=L.useState(null),[b,A]=L.useState(!1),[O,N]=L.useState(!1),[U,V]=L.useState(""),[K,Y]=L.useState([]),X=(P,M)=>(V(P),Y(M),new Promise(F=>setTimeout(F,800))),ue=async P=>{try{await X("check-role --user "+P,["Checking user permissions..."]),await X("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const M=Pr(Wt(Qo,"RegisteredAdmin"),xr("email","==",P));if(!(await wn(M)).empty)return await X("grant-role --type admin",[" Admin privileges confirmed"]),"admin";await X("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const T=Pr(Wt(Qo,"RegisteredTeacher"),xr("email","==",P));if(!(await wn(T)).empty)return await X("grant-role --type teacher",[" Teacher privileges confirmed"]),"teacher";await X("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const Ne=Pr(Wt(Qo,"RegisteredStudent"),xr("email","==",P));return(await wn(Ne)).empty?(await X("verify-role --result none",[" No role assignments found"]),setTimeout(()=>{V(""),Y([])},1e3),null):(await X("grant-role --type student",[" Student privileges confirmed"]),"student")}catch(M){return await X("verify-role --error",[" Error checking roles",M.message]),setTimeout(()=>{V(""),Y([])},1e3),console.error("Error checking user role:",M),null}},D=async P=>{P.preventDefault(),p(!0),N(!0),c("");try{await X("authenticate --verify-credentials",["Checking credentials..."]);const M=await xc(Bs,e,i),F=await ue(M.user.email);F?(await X("grant-access --role "+F,[` Access granted as ${F}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",F),A(!0),setTimeout(()=>n("/dashboard"),1e3)):(await X("verify-access --check-registration",[" Your account is not registered in the system"]),setTimeout(()=>{V(""),Y([])},1e3),await jl(Bs),c("Access denied. Please contact your administrator."))}catch{await X("authenticate --verify-credentials",[" Authentication failed"]),setTimeout(()=>{V(""),Y([])},1e3),c("Access Denied, Please check you email and password")}finally{p(!1)}},R=async()=>{p(!0),N(!0),c("");try{const P=await XR(Bs,nD),M=await ue(P.user.email);M?(await X("grant-access --role "+M,[` Access granted as ${M}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",M),A(!0),setTimeout(()=>n("/dashboard"),1e3)):(await X("verify-access --check-registration",[" Your account is not registered in the system"]),await jl(Bs),c("Access denied. Please contact your administrator."))}catch(P){await X("authenticate --verify-credentials",[" Authentication failed",authError.message]),setTimeout(()=>{V(""),Y([])},1e3),c(P.message)}finally{}};L.useEffect(()=>{let P=null;return(async()=>{if(!b&&"NDEFReader"in window)try{const F=new window.NDEFReader;await F.scan(),w(!0),I(F),P=F,N(!0),addTerminalStatus("initialize-nfc --scan-mode",[" NFC reader initialized","Waiting for NFC card..."]),F.onreading=async({message:T})=>{try{const oe=T.records.find(we=>we.recordType==="text");if(!oe)throw await X("verify-nfc --check-data",[" Invalid NFC card: No user data found"]),new Error("Invalid NFC card: No user data found");const Ne=new TextDecoder().decode(oe.data);await X("read-nfc --get-data",[` NFC data retrieved: ${Ne}`]);try{await X("authenticate --verify-credentials",["Checking user credentials..."]);const we=await k(Ne);we?(await X("grant-access --role "+we,[` Access granted as ${we}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",we),A(!0),setTimeout(()=>n("/dashboard"),1e3)):(await X("verify-access --check-registration",[" NFC card is not registered in the system"]),setTimeout(()=>{V(""),Y([])},1e3),c("NFC card is not registered in the system."))}catch(we){await X("authenticate --verify-credentials",[" Authentication failed",we.message]),setTimeout(()=>{V(""),Y([])},1e3),console.error("Authentication error:",we),c("Failed to authenticate with NFC card.")}}catch(oe){console.error("Error processing NFC card:",oe),c("Failed to process NFC card.")}},F.onerror=async T=>{await X("nfc-error --get-details",[" Error reading NFC card",T.message]),setTimeout(()=>{V(""),Y([])},1e3),console.error("NFC read error:",T),c("Error reading NFC card.")}}catch(F){await X("initialize-nfc --check-support",[" NFC initialization failed",F.message]),setTimeout(()=>{V(""),Y([])},1e3),console.error("Error setting up NFC:",F),w(!1)}})(),async()=>{var F;if(P)try{P.abort(),(F=P.removeAllListeners)==null||F.call(P),I(null),w(!1),await X("cleanup-nfc --remove-listeners",[" NFC reader cleaned up successfully"])}catch(T){console.error("Error cleaning up NFC reader:",T)}}},[b]);const k=async P=>{try{await X("check-role --user "+userEmail,["Checking user permissions..."]),await X("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const M=Pr(Wt(Qo,"RegisteredAdmin"),xr("currentnfcId","==",P)),F=await wn(M);if(!F.empty){const Te=F.docs[0].data();return await xc(Bs,Te.email,Te.upass),await X("grant-role --type admin",[" Admin privileges confirmed"]),"admin"}await X("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const T=Pr(Wt(Qo,"RegisteredTeacher"),xr("currentnfcId","==",P)),oe=await wn(T);if(!oe.empty){const Te=oe.docs[0].data();return await xc(Bs,Te.email,Te.upass),await X("grant-role --type teacher",[" Teacher privileges confirmed"]),"teacher"}await X("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const Ne=Pr(Wt(Qo,"RegisteredStudent"),xr("currentnfcId","==",P)),we=await wn(Ne);if(!we.empty){const Te=we.docs[0].data();return await xc(Bs,Te.email,Te.upass),await X("grant-role --type student",[" Student privileges confirmed"]),"student"}return null}catch(M){throw console.error("Error checking user role by NFC:",M),M}};return y.jsxs("div",{className:Vt.login_container,children:[(U||h)&&y.jsxs("div",{className:`${Vt.status} ${O?Vt.reading:""}`,children:[y.jsx("div",{className:Vt.status_command,children:U}),K.map((P,M)=>y.jsx("div",{className:`${Vt.status_detail} ${P.includes("failed")?"error":""}`,children:P},M))]}),y.jsxs("div",{className:Vt.login_card,children:[y.jsx("h1",{className:Vt.login_title,children:"Login"}),_&&y.jsx("div",{className:Vt.nfc_status,children:y.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),y.jsxs("form",{onSubmit:D,className:Vt.login_form,children:[y.jsx("div",{className:Vt.form_group,children:y.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:P=>t(P.target.value),required:!0,className:Vt.login_input})}),y.jsx("div",{className:Vt.form_group,children:y.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:P=>o(P.target.value),required:!0,className:Vt.login_input})}),a&&y.jsx("div",{className:Vt.error_message,children:a}),y.jsx("button",{type:"submit",className:Vt.login_button,disabled:h,children:h?"Please wait..":"Login"})]}),y.jsx("div",{className:Vt.divider,children:y.jsx("span",{children:"Or continue with"})}),y.jsxs("button",{type:"button",onClick:R,disabled:h,className:Vt.google_button,children:[y.jsx("svg",{className:Vt.google_icon,viewBox:"0 0 24 24",children:y.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})]})},iD="_event_list_container_1qh9u_1",sD="_events_grid_1qh9u_27",oD="_event_card_1qh9u_39",aD="_card_header_1qh9u_53",lD="_card_image_container_1qh9u_69",uD="_card_image_1qh9u_69",cD="_card_image_placeholder_1qh9u_97",dD="_card_basic_info_1qh9u_129",hD="_card_details_1qh9u_161",fD="_event_info_1qh9u_169",pD="_table_container_1qh9u_193",mD="_action_buttons_1qh9u_237",gD="_edit_btn_1qh9u_247",_D="_delete_btn_1qh9u_247",Nn={event_list_container:iD,events_grid:sD,event_card:oD,card_header:aD,card_image_container:lD,card_image:uD,card_image_placeholder:cD,card_basic_info:dD,card_details:hD,event_info:fD,table_container:pD,action_buttons:mD,edit_btn:gD,delete_btn:_D},yD=()=>{const[n,e]=L.useState([]),[t,i]=L.useState(null),o=ls(),a=_i(),c=Fr();L.useEffect(()=>{h()},[]);const h=async()=>{try{const I=c.currentUser;if(!I)return;const b=Wt(a,"PendingEvent"),A=Pr(b,xr("createdBy","==",I.email)),N=(await wn(A)).docs.map(U=>({id:U.id,...U.data()}));e(N)}catch(I){console.error("Error fetching events:",I)}},p=I=>I?I.toDate?I.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(I).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=I=>{o(`/dashboard/edit-event/${I}`)},w=async I=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Yx(lu(a,"events",I)),h()}catch(b){console.error("Error deleting event:",b)}},S=I=>{i(t===I?null:I)};return y.jsxs("div",{className:Nn.event_list_container,children:[y.jsx("h2",{children:"Event List"}),y.jsx("div",{className:Nn.events_grid,children:n.map(I=>{var b;return y.jsxs("div",{className:`${Nn.event_card} ${t===I.id?"expanded":""}`,children:[y.jsxs("div",{className:Nn.card_header,onClick:()=>S(I.id),children:[y.jsx("div",{className:Nn.card_image_container,children:I.imageUrl?y.jsx("img",{src:I.imageUrl,alt:I.eventName,className:Nn.card_image}):y.jsxs("div",{className:Nn.card_image_placeholder,children:[y.jsx(HI,{size:40}),y.jsx("span",{children:"No Image"})]})}),y.jsxs("div",{className:Nn.card_basic_info,children:[y.jsx("h3",{children:I.eventName}),y.jsxs("p",{children:["ID: ",I.id]}),y.jsxs("p",{children:["Created: ",p(I.createdAt)]})]}),t===I.id?y.jsx(jI,{}):y.jsx(FI,{})]}),t===I.id&&y.jsxs("div",{className:Nn.card_details,children:[y.jsxs("div",{className:Nn.event_info,children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",I.locations]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Description:"})," ",I.description]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Start Time:"})," ",I.startTime]}),y.jsxs("p",{children:[y.jsx("strong",{children:"End Time:"})," ",I.endTime]})]}),y.jsx("div",{className:Nn.table_container,children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"STUDENT ID"}),y.jsx("th",{children:"STUDENT NAME"}),y.jsx("th",{children:"COURSE"}),y.jsx("th",{children:"CAMPUS"}),y.jsx("th",{children:"DATE"}),y.jsx("th",{children:"ACTIONS"})]})}),y.jsx("tbody",{children:(b=I.attendees)==null?void 0:b.map((A,O)=>y.jsxs("tr",{children:[y.jsx("td",{children:A.studentId}),y.jsx("td",{children:A.name}),y.jsx("td",{children:A.course}),y.jsx("td",{children:A.campus}),y.jsx("td",{children:p(A.dateAttended)}),y.jsxs("td",{className:"action-buttons",children:[y.jsx("button",{onClick:()=>_(I.id),className:Nn.edit_btn,children:y.jsx(YI,{size:16})}),y.jsx("button",{onClick:()=>w(I.id),className:Nn.delete_btn,children:y.jsx(wp,{size:16})})]})]},O))})]})})]})]},I.id)})})]})},vD="_fileManager_c4lw2_5",wD="_header_c4lw2_17",ED="_actions_c4lw2_45",TD="_navigation_c4lw2_55",ID="_backButton_c4lw2_77",SD="_currentPath_c4lw2_109",CD="_content_c4lw2_121",RD="_item_c4lw2_141",kD="_itemContent_c4lw2_171",AD="_actionButton_c4lw2_195",PD="_dropdownMenu_c4lw2_229",xD="_deleteButton_c4lw2_283",ND="_modal_c4lw2_301",bD="_modalContent_c4lw2_327",DD="_modalHeader_c4lw2_351",LD="_closeButton_c4lw2_379",OD="_modalNavigation_c4lw2_405",MD="_folderList_c4lw2_423",VD="_folderItem_c4lw2_443",FD="_folderContent_c4lw2_473",jD="_modalActions_c4lw2_485",UD="_cancelButton_c4lw2_503",$D="_authContainer_c4lw2_521",BD="_authMethods_c4lw2_539",zD="_passwordAuth_c4lw2_553",qD="_passwordInput_c4lw2_563",WD="_nfcAuth_c4lw2_579",HD="_error_c4lw2_587",Ke={fileManager:vD,header:wD,actions:ED,navigation:TD,backButton:ID,currentPath:SD,content:CD,item:RD,itemContent:kD,actionButton:AD,dropdownMenu:PD,deleteButton:xD,modal:ND,modalContent:bD,modalHeader:DD,closeButton:LD,modalNavigation:OD,folderList:MD,folderItem:VD,folderContent:FD,modalActions:jD,cancelButton:UD,authContainer:$D,authMethods:BD,passwordAuth:zD,passwordInput:qD,nfcAuth:WD,error:HD},CE=6048e5,GD=864e5,vv=Symbol.for("constructDateFrom");function as(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&vv in n?n[vv](e):n instanceof Date?new n.constructor(e):new Date(e)}function _r(n,e){return as(e||n,n)}let KD={};function Bd(){return KD}function Kl(n,e){var h,p,_,w;const t=Bd(),i=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((w=(_=t.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??0,o=_r(n,e==null?void 0:e.in),a=o.getDay(),c=(a<i?7:0)+a-i;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function pd(n,e){return Kl(n,{...e,weekStartsOn:1})}function RE(n,e){const t=_r(n,e==null?void 0:e.in),i=t.getFullYear(),o=as(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const a=pd(o),c=as(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=pd(c);return t.getTime()>=a.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function wv(n){const e=_r(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function QD(n,...e){const t=as.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function Ev(n,e){const t=_r(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function YD(n,e,t){const[i,o]=QD(t==null?void 0:t.in,n,e),a=Ev(i),c=Ev(o),h=+a-wv(a),p=+c-wv(c);return Math.round((h-p)/GD)}function XD(n,e){const t=RE(n,e),i=as(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),pd(i)}function JD(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ZD(n){return!(!JD(n)&&typeof n!="number"||isNaN(+_r(n)))}function eL(n,e){const t=_r(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nL=(n,e,t)=>{let i;const o=tL[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Mf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const rL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:Mf({formats:rL,defaultWidth:"full"}),time:Mf({formats:iL,defaultWidth:"full"}),dateTime:Mf({formats:sL,defaultWidth:"full"})},aL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lL=(n,e,t,i)=>aL[n];function El(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):c;o=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[c]}const a=n.argumentCallback?n.argumentCallback(e):e;return o[a]}}const uL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mL=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},gL={ordinalNumber:mL,era:El({values:uL,defaultWidth:"wide"}),quarter:El({values:cL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:El({values:dL,defaultWidth:"wide"}),day:El({values:hL,defaultWidth:"wide"}),dayPeriod:El({values:fL,defaultWidth:"wide",formattingValues:pL,defaultFormattingWidth:"wide"})};function Tl(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],a=e.match(o);if(!a)return null;const c=a[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?yL(h,S=>S.test(c)):_L(h,S=>S.test(c));let _;_=n.valueCallback?n.valueCallback(p):p,_=t.valueCallback?t.valueCallback(_):_;const w=e.slice(c.length);return{value:_,rest:w}}}function _L(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function yL(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function vL(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],a=e.match(n.parsePattern);if(!a)return null;let c=n.valueCallback?n.valueCallback(a[0]):a[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}const wL=/^(\d+)(th|st|nd|rd)?/i,EL=/\d+/i,TL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IL={any:[/^b/i,/^(a|c)/i]},SL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CL={any:[/1/i,/2/i,/3/i,/4/i]},RL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bL={ordinalNumber:vL({matchPattern:wL,parsePattern:EL,valueCallback:n=>parseInt(n,10)}),era:Tl({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:SL,defaultMatchWidth:"wide",parsePatterns:CL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Tl({matchPatterns:RL,defaultMatchWidth:"wide",parsePatterns:kL,defaultParseWidth:"any"}),day:Tl({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:xL,defaultMatchWidth:"any",parsePatterns:NL,defaultParseWidth:"any"})},DL={code:"en-US",formatDistance:nL,formatLong:oL,formatRelative:lL,localize:gL,match:bL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LL(n,e){const t=_r(n,e==null?void 0:e.in);return YD(t,eL(t))+1}function OL(n,e){const t=_r(n,e==null?void 0:e.in),i=+pd(t)-+XD(t);return Math.round(i/CE)+1}function kE(n,e){var w,S,I,b;const t=_r(n,e==null?void 0:e.in),i=t.getFullYear(),o=Bd(),a=(e==null?void 0:e.firstWeekContainsDate)??((S=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(I=o.locale)==null?void 0:I.options)==null?void 0:b.firstWeekContainsDate)??1,c=as((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,a),c.setHours(0,0,0,0);const h=Kl(c,e),p=as((e==null?void 0:e.in)||n,0);p.setFullYear(i,0,a),p.setHours(0,0,0,0);const _=Kl(p,e);return+t>=+h?i+1:+t>=+_?i:i-1}function ML(n,e){var h,p,_,w;const t=Bd(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((w=(_=t.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,o=kE(n,e),a=as((e==null?void 0:e.in)||n,0);return a.setFullYear(o,0,i),a.setHours(0,0,0,0),Kl(a,e)}function VL(n,e){const t=_r(n,e==null?void 0:e.in),i=+Kl(t,e)-+ML(t,e);return Math.round(i/CE)+1}function Xe(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const zi={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return Xe(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(n,e){return Xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xe(n.getHours()%12||12,e.length)},H(n,e){return Xe(n.getHours(),e.length)},m(n,e){return Xe(n.getMinutes(),e.length)},s(n,e){return Xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return Xe(o,e.length)}},Yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tv={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return zi.y(n,e)},Y:function(n,e,t,i){const o=kE(n,i),a=o>0?o:1-o;if(e==="YY"){const c=a%100;return Xe(c,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Xe(a,e.length)},R:function(n,e){const t=RE(n);return Xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xe(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Xe(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Xe(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return zi.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return Xe(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=VL(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Xe(o,e.length)},I:function(n,e,t){const i=OL(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Xe(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):zi.d(n,e)},D:function(n,e,t){const i=LL(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Xe(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Xe(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Xe(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Xe(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=Yo.noon:i===0?o=Yo.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=Yo.evening:i>=12?o=Yo.afternoon:i>=4?o=Yo.morning:o=Yo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return zi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):zi.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):zi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):zi.s(n,e)},S:function(n,e){return zi.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Sv(i);case"XXXX":case"XX":return qs(i);case"XXXXX":case"XXX":default:return qs(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return Sv(i);case"xxxx":case"xx":return qs(i);case"xxxxx":case"xxx":default:return qs(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Iv(i,":");case"OOOO":default:return"GMT"+qs(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Iv(i,":");case"zzzz":default:return"GMT"+qs(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return Xe(i,e.length)},T:function(n,e,t){return Xe(+n,e.length)}};function Iv(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),a=i%60;return a===0?t+String(o):t+String(o)+e+Xe(a,2)}function Sv(n,e){return n%60===0?(n>0?"-":"+")+Xe(Math.abs(n)/60,2):qs(n,e)}function qs(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Xe(Math.trunc(i/60),2),a=Xe(i%60,2);return t+o+e+a}const Cv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AE=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FL=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return Cv(n,e);let a;switch(i){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Cv(i,e)).replace("{{time}}",AE(o,e))},jL={p:AE,P:FL},UL=/^D+$/,$L=/^Y+$/,BL=["D","DD","YY","YYYY"];function zL(n){return UL.test(n)}function qL(n){return $L.test(n)}function WL(n,e,t){const i=HL(n,e,t);if(console.warn(i),BL.includes(n))throw new RangeError(i)}function HL(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QL=/^'([^]*?)'?$/,YL=/''/g,XL=/[a-zA-Z]/;function Rv(n,e,t){var w,S,I,b;const i=Bd(),o=i.locale??DL,a=i.firstWeekContainsDate??((S=(w=i.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,c=i.weekStartsOn??((b=(I=i.locale)==null?void 0:I.options)==null?void 0:b.weekStartsOn)??0,h=_r(n,t==null?void 0:t.in);if(!ZD(h))throw new RangeError("Invalid time value");let p=e.match(KL).map(A=>{const O=A[0];if(O==="p"||O==="P"){const N=jL[O];return N(A,o.formatLong)}return A}).join("").match(GL).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const O=A[0];if(O==="'")return{isToken:!1,value:JL(A)};if(Tv[O])return{isToken:!0,value:A};if(O.match(XL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:A}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const _={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return p.map(A=>{if(!A.isToken)return A.value;const O=A.value;(qL(O)||zL(O))&&WL(O,e,String(n));const N=Tv[O[0]];return N(h,O,o.localize,_)}).join("")}function JL(n){const e=n.match(QL);return e?e[1].replace(YL,"'"):n}const PE=({children:n,currentPath:e,userData:t})=>{const i=Fr(),o=hs(),[a,c]=L.useState([]),h=S=>S.replace(/[@.]/g,"_"),p=async()=>{if(!i.currentUser||a.length===0)return;const S=h(i.currentUser.email),I=Rv(new Date,"yyyy-MM-dd"),b=`users/${S}/process_log/${I}_activity.txt`,A=Ft(o,b);try{let O="";try{const V=await Nr(A);O=await(await fetch(V)).text()}catch{console.log("Creating new log file for today")}const N=a.join(`
`),U=O?`${O}
${N}`:N;await p2(A,U,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),c([])}catch(O){console.error("Error saving logs:",O)}},_=S=>{if(!i.currentUser)return;const I=`[${Rv(new Date,"yyyy-MM-dd HH:mm:ss")}] ${S}`;c(b=>[...b,I])},w=S=>{if(S.type==="file"){const A=S.files;return A&&A.length>0?Array.from(A).map(O=>`${O.name} (${(O.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const I=S.querySelector("span");if(I)return I.textContent.trim();const b=S.querySelector("span");if(b)return b.textContent.trim();if(S.tagName.toLowerCase()==="a")return S.getAttribute("to")||S.getAttribute("href")||"Link";if(S.tagName.toLowerCase()==="input"){const A=S.getAttribute("placeholder");if(A)return`Input: ${A}`;const O=S.getAttribute("name");if(O)return`Input: ${O}`;const N=document.querySelector(`label[for="${S.id}"]`);if(N)return`Input: ${N.textContent.trim()}`}if(S.tagName.toLowerCase()==="select"){const A=S.getAttribute("name");if(A)return`Select: ${A}`}return S.className||S.tagName.toLowerCase()};return L.useEffect(()=>{const S=setInterval(p,6e4);return()=>{clearInterval(S),p()}},[a]),L.useEffect(()=>{const S=A=>{var U;const O=A.target,N=O.closest(".styles_navItem__");if(N){const V=w(N);let K="Sidebar Navigation";V.includes("Dashboard")?K="Dashboard Navigation":V.includes("Create Event")?K="Event Creation":V.includes("Event List")?K="Event Listing":V.includes("Registered Students")?K="Student Management":V.includes("Registered Teacher")?K="Teacher Management":V.includes("Teacher Registration")?K="Teacher Registration":V.includes("Student Registration")?K="Student Registration":V.includes("NFC Reader")?K="NFC Management":V.includes("File Manager")?K="File Management":V.includes("Logout")&&(K="Authentication");const Y=`${K}: Clicked "${V}"`;_(Y)}if(["button","div","li","a"].includes(O.tagName.toLowerCase())){(U=O.textContent)==null||U.trim().toLowerCase();const V=w(O),K=`Clicked on ${O.tagName.toLowerCase()}: ${V}`;_(K)}},I=A=>{const O=A.target;if(["input","textarea","select"].includes(O.tagName.toLowerCase())){const U=`Input value in ${w(O)} - Final Value: ${O.value}`;_(U)}},b=A=>{const O=A.target,N=O.getAttribute("name"),U=O.getAttribute("id"),V=`Form submitted${N?` - Form Name: "${N}"`:U?` - Form ID: "${U}"`:""}`;_(V),p()};return document.addEventListener("click",S),document.addEventListener("blur",I,!0),document.addEventListener("submit",b),()=>{document.removeEventListener("click",S),document.removeEventListener("blur",I,!0),document.removeEventListener("submit",b)}},[i.currentUser]),L.useEffect(()=>{const S=U=>{const V=U.target.files[0];if(!V)return;const K=`${e}/${V.name}`,Y=`File Upload: "${V.name}" (${(V.size/1024).toFixed(2)} KB) to "${K}"`;_(Y)},I=U=>{const V=`${e}/${U}`,K=`Created Folder: "${U}" at "${V}"`;_(K)},b=(U,V)=>{const K=`${e}/${U.name}`,Y=`Moved ${U.type}: "${U.name}" from "${K}" to "${V}"`;_(Y)},A=(U,V)=>{const K=`${e}/${U.name}`,Y=`Copied ${U.type}: "${U.name}" from "${K}" to "${V}"`;_(Y)},O=U=>{const V=`${e}/${U.name}`,K=`Deleted ${U.type}: "${U.name}" from "${V}"`;_(K)},N=(U,V)=>{`${e}${U.name}`;const K=`Renamed ${U.type}: from "${U.name}" to "${V}" at path "${e}"`;_(K)};return window.userActionLogger={onFileUpload:S,onCreateFolder:I,onMove:b,onCopy:A,onDelete:O,onRename:N},()=>{delete window.userActionLogger}},[e,t]),y.jsx(y.Fragment,{children:n})},ZL=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:a})=>{const c=L.useRef(null);return L.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[e]),n?y.jsxs("div",{className:Ke.dropdownMenu,ref:c,children:[y.jsx("button",{onClick:t,children:"Move"}),y.jsx("button",{onClick:i,children:"Copy"}),y.jsx("button",{onClick:a,children:"Rename"}),y.jsx("button",{onClick:o,className:Ke.deleteButton,children:"Delete"})]}):null},eO=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:a,onSelect:c})=>{const[h,p]=L.useState([]),[_,w]=L.useState(""),S=hs(),[I,b]=L.useState(null);L.useEffect(()=>{if(n){const U=`users/${i.email.replace("@","_").replace(".","_")}`;w(U),A(U)}},[n,i]);const A=async U=>{try{const V=Ft(S,U),Y=(await oa(V)).prefixes.map(X=>({name:X.name,fullPath:`${U}/${X.name}`}));p(Y)}catch(V){console.error("Error listing folders:",V)}},O=U=>{I&&b(I),w(U),A(U)},N=()=>{const U=`users/${i.email.replace("@","_").replace(".","_")}`,V=_.split("/").slice(0,-1).join("/");V.startsWith(U)&&(w(V),A(V))};return n?y.jsx("div",{className:Ke.modal,children:y.jsxs("div",{className:Ke.modalContent,children:[y.jsxs("div",{className:Ke.modalHeader,children:[y.jsx("h3",{children:"Select Destination Folder"}),y.jsx("button",{onClick:e,className:Ke.closeButton,children:y.jsx(_d,{size:20})})]}),y.jsxs("div",{className:Ke.modalNavigation,children:[y.jsxs("button",{onClick:N,className:Ke.backButton,children:[y.jsx(Bv,{size:20}),"Back"]}),y.jsx("span",{className:Ke.currentPath,children:_})]}),y.jsx("div",{className:Ke.folderList,children:h.map(U=>y.jsx("div",{className:Ke.folderItem,children:y.jsxs("div",{className:Ke.folderContent,onClick:()=>O(U.fullPath),children:[y.jsx(qv,{size:24}),y.jsx("span",{children:U.name})]})},U.fullPath))}),y.jsxs("div",{className:Ke.modalActions,children:[y.jsx("button",{onClick:()=>{c(_)},className:Gt.buttons,children:"Select This Folder"}),y.jsx("button",{onClick:e,className:`${Gt.buttons} ${Ke.cancelButton}`,children:"Cancel"})]})]})}):null},tO=()=>{var Fe;const[n,e]=L.useState(!1),[t,i]=L.useState(""),[o,a]=L.useState(""),[c,h]=L.useState(""),[p,_]=L.useState([]),[w,S]=L.useState([]),[I,b]=L.useState(!1),A=gr();ls();const O=hs(),[N,U]=L.useState(null),[V,K]=L.useState({x:0,y:0}),Y=(Fe=A.state)==null?void 0:Fe.userData,[X,ue]=L.useState(!1),[D,R]=L.useState(null),[k,P]=L.useState(null);L.useEffect(()=>{"NDEFReader"in window&&b(!0)},[]),L.useEffect(()=>{if(n&&Y){const Q=`users/${Y.email.replace("@","_").replace(".","_")}`;h(Q),T(Q)}},[n,Y]);const M=()=>{t===(Y==null?void 0:Y.upass)?(e(!0),a("")):a("Invalid password")},F=async()=>{try{const Q=new NDEFReader;await Q.scan(),Q.addEventListener("reading",({serialNumber:le})=>{le===(Y==null?void 0:Y.currentnfcId)?(e(!0),a("")):a("Invalid NFC card")})}catch(Q){a("Error reading NFC: "+Q.message)}},T=async Q=>{try{const le=Ft(O,Q),Ie=await oa(le),We=Ie.items.map(async Qt=>{const jr=await Nr(Qt);return{name:Qt.name,url:jr,type:"file"}}),bt=Ie.prefixes.filter(Qt=>Qt.name!=="process_log").map(Qt=>({name:Qt.name,type:"folder"})),ot=await Promise.all(We);_(ot),S(bt)}catch(le){console.error("Error listing files:",le)}},oe=async Q=>{const le=Q.target.files[0];if(le)try{const Ie=Ft(O,`${c}/${le.name}`);await Qi(Ie,le),window.userActionLogger&&window.userActionLogger.onFileUpload(Q),await T(c)}catch(Ie){console.error("Error uploading file:",Ie)}},Ne=async()=>{const Q=prompt("Enter folder name:");if(!Q)return;const le=Ft(O,`${c}/${Q}/.placeholder`),Ie=new Blob([""],{type:"text/plain"});await Qi(le,Ie),window.userActionLogger&&window.userActionLogger.onCreateFolder(Q),await T(c)},we=Q=>{const le=`${c}/${Q}`;h(le),T(le)},Te=()=>{const Q=c.split("/").slice(0,-1).join("/");Q.startsWith(`users/${Y.email.replace("@","_").replace(".","_")}`)&&(h(Q),T(Q))};if(!n)return y.jsxs("div",{className:Ke.authContainer,children:[y.jsx("h2",{children:"Authentication Required"}),y.jsxs("div",{className:Ke.authMethods,children:[y.jsxs("div",{className:Ke.passwordAuth,children:[y.jsx("input",{type:"password",value:t,onChange:Q=>i(Q.target.value),placeholder:"Enter password",className:Ke.passwordInput}),y.jsx("button",{onClick:M,className:Gt.buttons,children:"Submit"})]}),I&&y.jsx("div",{className:Ke.nfcAuth,children:y.jsx("button",{onClick:F,className:Gt.buttons,children:"Authenticate with NFC"})})]}),o&&y.jsx("p",{className:Ke.error,children:o})]});const ie=(Q,le)=>{Q.preventDefault(),Q.stopPropagation();const Ie=Q.currentTarget.getBoundingClientRect();K({x:Ie.left,y:Ie.bottom}),U(le),P(le)},he=async()=>{if(!k){alert("Please select an item to move"),console.log(k);return}R("move"),ue(!0)},ce=async()=>{if(!k){alert("Please select an item to copy"),console.log(k);return}R("copy"),ue(!0)},B=async()=>{if(N)try{const Q=`${c}/${N.name}`,le=Ft(O,Q);N.type==="file"?await wl(le):await J(Q),window.userActionLogger&&window.userActionLogger.onDelete(N),await T(c)}catch(Q){console.error("Error deleting item:",Q),alert(`Failed to delete ${N.name}. ${Q.message}`)}},J=async Q=>{try{const le=Ft(O,Q),Ie=await oa(le);for(const We of Ie.items)await wl(We);for(const We of Ie.prefixes)await J(`${Q}/${We.name}`)}catch(le){throw console.error("Error deleting folder:",le),le}},ye=async()=>{if(!N)return;const Q=prompt("Enter new name:",N.name);if(!(!Q||Q===N.name))try{const le=Ft(O,`${c}/${N.name}`),Ie=Ft(O,`${c}/${Q}`);if(N.type==="file"){const We=await Nr(le),ot=await(await fetch(We)).blob();await Qi(Ie,ot),await wl(le)}window.userActionLogger&&window.userActionLogger.onRename(N,Q),await T(c)}catch(le){console.error("Error renaming item:",le)}},Le=async Q=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:k,currentPath:c,destinationPath:Q,operation:D}),!k){console.error("No item selected"),alert("Please select an item to move or copy"),ue(!1);return}try{const le=Ft(O,`${c}/${k.name}`),Ie=Ft(O,`${Q}/${k.name}`);if(k.type==="file"){const We=await Nr(le),ot=await(await fetch(We)).blob();await Qi(Ie,ot),D==="move"&&await wl(le)}else await Oe(`${c}/${k.name}`,`${Q}/${k.name}`,D==="move");window.userActionLogger&&(D==="move"?window.userActionLogger.onMove(k,Q):D==="copy"&&window.userActionLogger.onCopy(k,Q)),ue(!1),R(null),await T(c)}catch(le){console.error(`Error ${D}ing item:`,le),alert(`Failed to ${D} item: ${le.message}`),ue(!1),R(null)}},Oe=async(Q,le,Ie=!1)=>{try{const We=Ft(O,Q),bt=await oa(We);for(const ot of bt.items){const Qt=await Nr(ot),fs=await(await fetch(Qt)).blob(),ps=Ft(O,`${le}/${ot.name}`);await Qi(ps,fs),Ie&&await wl(ot)}for(const ot of bt.prefixes)await Oe(`${Q}/${ot.name}`,`${le}/${ot.name}`,Ie)}catch(We){throw console.error("Error copying folder:",We),We}},Me=(Q,le)=>y.jsxs("div",{className:Ke.item,onClick:Ie=>{Ie.target.closest(`.${Ke.actionButton}`)||Ie.target.closest(`.${Ke.dropdownMenu}`)||(le==="folder"?we(Q.name):window.open(Q.url,"_blank"))},children:[y.jsxs("div",{className:Ke.itemContent,children:[le==="folder"?y.jsx(qv,{size:24}):y.jsx(BI,{size:24}),y.jsx("span",{children:Q.name})]}),y.jsx("button",{className:Ke.actionButton,onClick:Ie=>{Ie.stopPropagation();const We={...Q,type:le};ie(Ie,We)},children:y.jsx($I,{size:16})}),(N==null?void 0:N.name)===Q.name&&y.jsx(ZL,{isOpen:!0,onClose:()=>{U(null)},onMove:he,onCopy:ce,onDelete:B,onRename:ye})]},`${le}-${Q.name}`);return y.jsx(PE,{currentPath:c,userData:Y,children:y.jsxs("div",{className:Ke.fileManager,children:[y.jsxs("div",{className:Ke.header,children:[y.jsx("h2",{children:"File Manager"}),y.jsxs("div",{className:Ke.actions,children:[c===`users/${Y.email.replace("@","_").replace(".","_")}`&&y.jsxs("button",{onClick:Ne,className:Gt.buttons,children:[y.jsx(qI,{size:20}),"New Folder"]}),y.jsxs("label",{className:Gt.buttons,children:[y.jsx(XI,{size:20}),"Upload File",y.jsx("input",{type:"file",onChange:oe,style:{display:"none"}})]})]})]}),y.jsxs("div",{className:Ke.navigation,children:[y.jsxs("button",{onClick:Te,className:Ke.backButton,children:[y.jsx(Bv,{size:20}),"Back"]}),y.jsx("span",{className:Ke.currentPath,children:c})]}),y.jsxs("div",{className:Ke.content,children:[w.map(Q=>Me(Q,"folder")),p.map(Q=>Me(Q,"file"))]}),y.jsx(eO,{isOpen:X,onClose:()=>{ue(!1),R(null)},currentPath:c,userData:Y,selectedItem:k,operation:D,onSelect:Le})]})})},nO="_container_9esca_3",rO="_form_9esca_17",iO="_nfcButton_9esca_47",sO="_scanButton_9esca_47",oO="_scannerContainer_9esca_65",aO="_scanner_9esca_65",lO="_modalOverlay_9esca_95",uO="_modalContent_9esca_123",cO="_status_9esca_147",dO="_statusWarning_9esca_165",hO="_statusInfo_9esca_179",fO="_statusSuccess_9esca_193",pO="_statusError_9esca_207",mO="_pulse_9esca_1",gO="_reader_9esca_293",_O="_uploadOptionContainer_9esca_303",yO="_clearImageButton_9esca_317",Wn={container:nO,form:rO,nfcButton:iO,scanButton:sO,scannerContainer:oO,scanner:aO,modalOverlay:lO,modalContent:uO,status:cO,statusWarning:dO,statusInfo:hO,statusSuccess:fO,statusError:pO,"animate-pulse":"_animate-pulse_9esca_245",pulse:mO,reader:gO,uploadOptionContainer:_O,clearImageButton:yO},vO={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Cm=ga(vO),kv=_i(Cm),wO=hs(Cm),EO=Fr(Cm),TO=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Wn.statusWarning;case"error":return Wn.statusError;case"success":return Wn.statusSuccess;default:return Wn.statusInfo}};return y.jsx("div",{className:Wn.modalOverlay,children:y.jsx("div",{className:Wn.modalContent,children:y.jsx("div",{className:`${Wn.status} ${i()} ${t?Wn["animate-pulse"]:""}`,children:n})})})},IO=()=>{const[n,e]=L.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[t,i]=L.useState(null),[o,a]=L.useState("capture"),[c,h]=L.useState(!1),[p,_]=L.useState(""),[w,S]=L.useState(null),[I,b]=L.useState("info"),[A,O]=L.useState(null),N=L.useRef(null),U=L.useRef(null),V=(T,oe="info")=>{_(T),b(oe)};L.useEffect(()=>()=>{w&&w.abort()},[w]);const K=T=>{const oe=T.target.files[0];i(oe)},Y=T=>{a(T),i(null),N.current&&(N.current.value=""),U.current&&(U.current.value="")},X=async()=>{try{const T=await kw(EO,n.email,n.upass);return await Aw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},ue=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;S(T),await T.scan();const oe=await new Promise((Ne,we)=>{const Te=async ie=>{try{const he=ie.serialNumber;if(!await P(he)){we(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",Te),Ne(he)}catch(he){we(he)}};T.addEventListener("reading",Te),setTimeout(()=>{T.removeEventListener("reading",Te),we(new Error("NFC tag read timeout"))},3e4)});return O(oe),V("NFC tag detected successfully","success"),oe}catch(T){throw V(T.message,"error"),T}finally{w&&(w.abort(),S(null))}},D=async()=>{const T=Fr(),oe=ls();try{await jl(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Ne){console.error("Error signing out:",Ne)}},R=async()=>{if(!t)return null;try{V("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=Ft(wO,`users/${T}/profile/${t.name}`),Ne=await Qi(oe,t),we=await Nr(Ne.ref);return V("Selfie uploaded successfully!","success"),we}catch(T){throw V("Failed to upload selfie: "+T.message,"error"),T}},k=async()=>{try{h(!0);const T=await R();V("Saving your registration details...","info");const Ne={...n,nfcSerialNumber:A,selfieUrl:T,position:"Teacher",createdAt:lE()},we=await mm(Wt(kv,"RegisteredTeacher"),Ne);await Gl(we,{currentnfcId:we.id}),V("Registration details saved successfully!","success"),V("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(we.id)}]}),V("NFC tag written successfully!","success"),V("Creating your account...","info");const ie=await X();return await Gl(we,{firebaseUserId:ie.uid}),V("Registration completed! Please check your email for verification.","success"),await D(),setTimeout(()=>{V(""),M()},5e3),we.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,V(oe,"error"),T}finally{h(!1)}},P=async T=>{try{const oe=lu(kv,"Toregistered",T);return(await pm(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},M=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),i(null),_(""),O(null),N.current&&(N.current.value="")},F=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){V("NFC is not supported on this device","warning");return}try{if(V("Waiting for NFC tag... Please place your card","info"),await ue(),V("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){O(null),V("");return}await k()}catch(oe){console.error("Registration Error:",oe),V("Registration process failed: "+oe.message,"error")}};return y.jsxs("div",{className:Wn.container,children:[y.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||p)&&y.jsx(TO,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?I:"warning",isProcessing:c}),y.jsxs("form",{onSubmit:F,className:Wn.form,children:[y.jsx("input",{type:"text",placeholder:"Teacher Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Teacher ID",value:n.teacherId,onChange:T=>e({...n,teacherId:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),y.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[y.jsx("option",{value:"",children:"Select Campus"}),y.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),y.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),y.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),y.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),y.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),y.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),y.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),y.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),y.jsxs("div",{className:Wn.uploadOptionContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Y("capture"),disabled:c}),"Capture Selfie"]}),y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Y("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:N,onChange:K,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>N.current.click(),className:Gt.buttons,disabled:c,children:"Take Profile Picture"})]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:U,onChange:K,accept:"image/*",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>U.current.click(),className:Gt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&y.jsxs("p",{children:["Selected Image: ",t.name,y.jsx("button",{type:"button",onClick:()=>i(null),className:Wn.clearImageButton,disabled:c,children:"Clear"})]}),y.jsx("button",{type:"submit",className:`${Gt.buttons} ${c?"animate-pulse":""}`,disabled:!n.teacherId||!t||c||!("NDEFReader"in window),children:A?"Complete Registration":"Scan NFC Tag"})]})]})},SO="_registeredUsersContainer_1u027_1",CO="_header_1u027_9",RO="_tableContainer_1u027_29",kO="_usersTable_1u027_37",AO="_actionButtons_1u027_71",PO="_viewLogsButton_1u027_101",xO="_editButton_1u027_117",NO="_deleteButton_1u027_133",bO="_loadingContainer_1u027_149",DO="_errorContainer_1u027_151",LO="_noUsersContainer_1u027_153",OO="_modalOverlay_1u027_165",MO="_modalContent_1u027_191",VO="_logViewerContainer_1u027_211",FO="_logViewerHeader_1u027_223",jO="_closeButton_1u027_249",UO="_logsList_1u027_273",$O="_logEntry_1u027_285",BO="_logContent_1u027_313",zO="_logLoading_1u027_335",qO="_logError_1u027_337",WO="_noLogsMessage_1u027_339",ft={registeredUsersContainer:SO,header:CO,tableContainer:RO,usersTable:kO,actionButtons:AO,viewLogsButton:PO,editButton:xO,deleteButton:NO,loadingContainer:bO,errorContainer:DO,noUsersContainer:LO,modalOverlay:OO,modalContent:MO,logViewerContainer:VO,logViewerHeader:FO,closeButton:jO,logsList:UO,logEntry:$O,logContent:BO,logLoading:zO,logError:qO,noLogsMessage:WO},HO=({email:n,onClose:e})=>{const[t,i]=L.useState([]),[o,a]=L.useState(!0),[c,h]=L.useState(null);Fr();const p=hs(),_=w=>w.replace(/[@.]/g,"_");return L.useEffect(()=>{(async()=>{try{a(!0);const S=_(n),I=Ft(p,`users/${S}/process_log`),A=(await oa(I)).items.map(async U=>{const V=await Nr(U),Y=await(await fetch(V)).text(),X=U.name.split("/").pop();return{timestamp:X.replace(".txt",""),content:Y,filename:X}}),N=(await Promise.all(A)).sort((U,V)=>V.timestamp.localeCompare(U.timestamp));i(N),h(null)}catch(S){console.error("Error fetching logs:",S),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),o?y.jsx("div",{className:ft.logLoading,children:"Loading logs..."}):c?y.jsx("div",{className:ft.logError,children:c}):y.jsxs("div",{className:ft.logViewerContainer,children:[y.jsxs("div",{className:ft.logViewerHeader,children:[y.jsxs("h2",{children:["User Activity Logs for ",n]}),y.jsx("button",{onClick:e,className:ft.closeButton,children:y.jsx(_d,{size:24})})]}),t.length===0?y.jsx("p",{className:ft.noLogsMessage,children:"No logs found"}):y.jsx("div",{className:ft.logsList,children:t.map((w,S)=>y.jsxs("div",{className:ft.logEntry,children:[y.jsxs("h3",{children:["Log from ",w.timestamp]}),y.jsx("pre",{className:ft.logContent,children:w.content})]},S))})]})},GO=()=>{const[n,e]=L.useState([]),[t,i]=L.useState(!0),[o,a]=L.useState(null),[c,h]=L.useState(null),[p,_]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const O=_i(),U=(await wn(Wt(O,"RegisteredTeacher"))).docs.map(V=>({id:V.id,...V.data()}));e(U),i(!1)}catch(O){console.error("Error fetching registered teachers:",O),a("Failed to load teachers"),i(!1)}})()},[]);const w=A=>{h(A),_(!0)},S=A=>{console.log("Edit teacher:",A)},I=A=>{console.log("Delete teacher:",A)},b=()=>{_(!1),h(null)};return t?y.jsx("div",{className:ft.loadingContainer,children:"Loading teachers..."}):o?y.jsx("div",{className:ft.errorContainer,children:o}):y.jsxs("div",{className:ft.registeredUsersContainer,children:[y.jsxs("div",{className:ft.header,children:[y.jsx(ta,{size:24}),y.jsx("h2",{children:"Registered Teachers"})]}),y.jsx("div",{className:ft.tableContainer,children:y.jsxs("table",{className:ft.usersTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Teacher ID"}),y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"NFC CARD"}),y.jsx("th",{children:"Campus"}),y.jsx("th",{children:"Date Added"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:n.map(A=>y.jsxs("tr",{className:ft.teacherRow,children:[y.jsx("td",{children:A.teacherId}),y.jsx("td",{children:A.name}),y.jsx("td",{children:A.email}),y.jsx("td",{children:A.currentnfcId}),y.jsx("td",{children:A.campus}),y.jsx("td",{children:new Date(A.createdAt*1e3).toLocaleString()}),y.jsx("td",{children:y.jsxs("div",{className:ft.actionButtons,children:[y.jsx("button",{onClick:()=>w(A),className:ft.viewLogsButton,title:"View Logs",children:y.jsx(zv,{size:18})}),y.jsx("button",{onClick:()=>S(A),className:ft.editButton,title:"Edit",children:y.jsx(Wv,{size:18})}),y.jsx("button",{onClick:()=>I(A),className:ft.deleteButton,title:"Delete",children:y.jsx(wp,{size:18})})]})})]},A.id))})]})}),n.length===0&&y.jsx("div",{className:ft.noUsersContainer,children:"No registered teachers found."}),p&&c&&y.jsx("div",{className:ft.modalOverlay,children:y.jsx("div",{className:ft.modalContent,children:y.jsx(HO,{email:c.email,onClose:b})})})]})},KO="_registeredUsersContainer_nd6j8_1",QO="_header_nd6j8_9",YO="_tableContainer_nd6j8_29",XO="_usersTable_nd6j8_37",JO="_actionButtons_nd6j8_71",ZO="_viewLogsButton_nd6j8_101",eM="_editButton_nd6j8_117",tM="_deleteButton_nd6j8_133",nM="_loadingContainer_nd6j8_149",rM="_errorContainer_nd6j8_151",iM="_noUsersContainer_nd6j8_153",sM="_modalOverlay_nd6j8_165",oM="_modalContent_nd6j8_191",aM="_logViewerContainer_nd6j8_211",lM="_logViewerHeader_nd6j8_223",uM="_closeButton_nd6j8_249",cM="_logsList_nd6j8_273",dM="_logEntry_nd6j8_285",hM="_logContent_nd6j8_313",fM="_logLoading_nd6j8_335",pM="_logError_nd6j8_337",mM="_noLogsMessage_nd6j8_339",gM="_status_nd6j8_351",_M="_status_command_nd6j8_381",yM="_status_detail_nd6j8_391",Ze={registeredUsersContainer:KO,header:QO,tableContainer:YO,usersTable:XO,actionButtons:JO,viewLogsButton:ZO,editButton:eM,deleteButton:tM,loadingContainer:nM,errorContainer:rM,noUsersContainer:iM,modalOverlay:sM,modalContent:oM,logViewerContainer:aM,logViewerHeader:lM,closeButton:uM,logsList:cM,logEntry:dM,logContent:hM,logLoading:fM,logError:pM,noLogsMessage:mM,status:gM,status_command:_M,status_detail:yM},vM=({email:n,onClose:e})=>{const[t,i]=L.useState([]),[o,a]=L.useState(!0),[c,h]=L.useState(null),[p,_]=L.useState(!1),[w,S]=L.useState(""),[I,b]=L.useState([]);Fr();const A=hs(),O=(U,V)=>(S(U),b(V),new Promise(K=>setTimeout(K,800))),N=U=>U.replace(/[@.]/g,"_");return L.useEffect(()=>{(async()=>{try{a(!0),_(!0),await O("Fetching log folder",["Please wait..."]);const V=N(n),K=Ft(A,`users/${V}/process_log`);await O("Log folder retrieved successfully",["Extracting data, please wait..."]);const Y=await oa(K);await O("Extraction complete",["Preparing for display, please wait..."]);const X=Y.items.map(async R=>{const k=await Nr(R),M=await(await fetch(k)).text(),F=R.name.split("/").pop();return{timestamp:F.replace(".txt",""),content:M,filename:F}}),D=(await Promise.all(X)).sort((R,k)=>k.timestamp.localeCompare(R.timestamp));Y.items.length===0?(await O("Empty Log",["No action yet"]),setTimeout(()=>{S(""),b([])},1e3)):(await O("Log Displayed Successfully",["Retrieval of log successfully"]),setTimeout(()=>{S(""),b([])},1e3)),setTimeout(()=>i(D),1e3),h(null)}catch(V){console.error("Error fetching logs:",V),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),y.jsxs("div",{className:Ze.logViewerContainer,children:[(w||o)&&y.jsxs("div",{className:`${Ze.status} ${p?Ze.reading:""}`,children:[y.jsx("div",{className:Ze.status_command,children:w}),I.map((U,V)=>y.jsx("div",{className:Ze.status_detail,children:U},V))]}),y.jsxs("div",{className:Ze.logViewerHeader,children:[y.jsxs("h2",{children:["User Activity Logs for ",n]}),y.jsx("button",{onClick:e,className:Ze.closeButton,children:y.jsx(_d,{size:24})})]}),t.length===0?y.jsx("p",{className:Ze.noLogsMessage,children:"No logs found"}):y.jsx("div",{className:Ze.logsList,children:t.map((U,V)=>y.jsxs("div",{className:Ze.logEntry,children:[y.jsxs("h3",{children:["Log from ",U.timestamp]}),y.jsx("pre",{className:Ze.logContent,children:U.content})]},V))})]})},wM=()=>{const[n,e]=L.useState([]),[t,i]=L.useState(!0),[o,a]=L.useState(null),[c,h]=L.useState(null),[p,_]=L.useState(!1),[w,S]=L.useState(!0),[I,b]=L.useState(""),[A,O]=L.useState([]),N=(X,ue)=>(b(X),O(ue),new Promise(D=>setTimeout(D,800)));L.useEffect(()=>{(async()=>{await N("Fetching Data from Database",["Please wait..."]);try{const ue=_i(),D=await wn(Wt(ue,"RegisteredStudent"));D?(await N("Fetching complete",["Retrieving All Students Data"]),setTimeout(()=>{b(""),O([])},1e3)):(await N("Fetching complete",["No Data Found"]),setTimeout(()=>{b(""),O([])},1e3));const R=D.docs.map(k=>({id:k.id,...k.data()}));setTimeout(()=>e(R),1e3),i(!1),S(!1)}catch(ue){console.error("Error fetching registered teachers:",ue),a("Failed to load teachers"),i(!1),S(!1)}})()},[]);const U=X=>{h(X),_(!0)},V=X=>{console.log("Edit student:",X)},K=X=>{console.log("Delete teacher:",X)},Y=()=>{_(!1),h(null)};return y.jsxs("div",{className:Ze.registeredUsersContainer,children:[(I||t)&&y.jsxs("div",{className:`${Ze.status} ${w?Ze.reading:""}`,children:[y.jsx("div",{className:Ze.status_command,children:I}),A.map((X,ue)=>y.jsx("div",{className:Ze.status_detail,children:X},ue))]}),y.jsxs("div",{className:Ze.header,children:[y.jsx(ta,{size:24}),y.jsx("h2",{children:"Registered Student"})]}),y.jsx("div",{className:Ze.tableContainer,children:y.jsxs("table",{className:Ze.usersTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Student ID"}),y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"NFC CARD"}),y.jsx("th",{children:"Campus"}),y.jsx("th",{children:"Date Added"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:n.map(X=>y.jsxs("tr",{className:Ze.studentRow,children:[y.jsx("td",{children:X.studentId}),y.jsx("td",{children:X.name}),y.jsx("td",{children:X.email}),y.jsx("td",{children:X.currentnfcId}),y.jsx("td",{children:X.campus}),y.jsx("td",{children:new Date(X.createdAt*1e3).toLocaleString()}),y.jsx("td",{children:y.jsxs("div",{className:Ze.actionButtons,children:[y.jsx("button",{onClick:()=>U(X),className:Ze.viewLogsButton,title:"View Logs",children:y.jsx(zv,{size:18})}),y.jsx("button",{onClick:()=>V(X),className:Ze.editButton,title:"Edit",children:y.jsx(Wv,{size:18})}),y.jsx("button",{onClick:()=>K(X),className:Ze.deleteButton,title:"Delete",children:y.jsx(wp,{size:18})})]})})]},X.id))})]})}),n.length===0&&y.jsx("div",{className:Ze.noUsersContainer,children:"No registered students found."}),p&&c&&y.jsx("div",{className:Ze.modalOverlay,children:y.jsx("div",{className:Ze.modalContent,children:y.jsx(vM,{email:c.email,onClose:Y})})})]})};function EM(){return y.jsx(PE,{children:y.jsx(iI,{children:y.jsxs(L1,{children:[y.jsx(bn,{path:"/",element:y.jsx(H_,{to:"/login",replace:!0})}),y.jsx(bn,{path:"/login",element:y.jsx(rD,{})}),y.jsxs(bn,{path:"/dashboard/*",element:y.jsx(eN,{}),children:[y.jsx(bn,{path:"create-event",element:y.jsx(Z2,{})}),y.jsx(bn,{path:"registered-teachers",element:y.jsx(GO,{})}),y.jsx(bn,{path:"registered-students",element:y.jsx(wM,{})}),y.jsx(bn,{path:"teacher-registration",element:y.jsx(IO,{})}),y.jsx(bn,{path:"student-registration",element:y.jsx(vb,{})}),y.jsx(bn,{path:"nfc-reader",element:y.jsx(Mb,{})}),y.jsx(bn,{path:"event-list",element:y.jsx(yD,{})}),y.jsx(bn,{path:"file-manager",element:y.jsx(tO,{})})]}),y.jsx(bn,{path:"*",element:y.jsx(H_,{to:"/login",replace:!0})})]})})})}const TM=document.getElementById("root"),IM=$T.createRoot(TM);IM.render(y.jsx(EM,{}));
