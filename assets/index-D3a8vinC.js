(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Jd={exports:{}},sl={},Zd={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function ZE(){if(p_)return Oe;p_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,U={};function O(j,Q,ye){this.props=j,this.context=Q,this.refs=U,this.updater=ye||D}O.prototype.isReactComponent={},O.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=O.prototype;function z(j,Q,ye){this.props=j,this.context=Q,this.refs=U,this.updater=ye||D}var G=z.prototype=new B;G.constructor=z,b(G,O.prototype),G.isPureReactComponent=!0;var J=Array.isArray,he=Object.prototype.hasOwnProperty,ae={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(j,Q,ye){var Pe,xe={},Le=null,je=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)he.call(Q,Pe)&&!N.hasOwnProperty(Pe)&&(xe[Pe]=Q[Pe]);var ne=arguments.length-2;if(ne===1)xe.children=ye;else if(1<ne){for(var le=Array(ne),Re=0;Re<ne;Re++)le[Re]=arguments[Re+2];xe.children=le}if(j&&j.defaultProps)for(Pe in ne=j.defaultProps,ne)xe[Pe]===void 0&&(xe[Pe]=ne[Pe]);return{$$typeof:n,type:j,key:Le,ref:je,props:xe,_owner:ae.current}}function A(j,Q){return{$$typeof:n,type:j.type,key:Q,ref:j.ref,props:j.props,_owner:j._owner}}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function x(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ye){return Q[ye]})}var L=/\/+/g;function k(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?x(""+j.key):Q.toString(36)}function De(j,Q,ye,Pe,xe){var Le=typeof j;(Le==="undefined"||Le==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case n:case e:je=!0}}if(je)return je=j,xe=xe(je),j=Pe===""?"."+k(je,0):Pe,J(xe)?(ye="",j!=null&&(ye=j.replace(L,"$&/")+"/"),De(xe,Q,ye,"",function(Re){return Re})):xe!=null&&(C(xe)&&(xe=A(xe,ye+(!xe.key||je&&je.key===xe.key?"":(""+xe.key).replace(L,"$&/")+"/")+j)),Q.push(xe)),1;if(je=0,Pe=Pe===""?".":Pe+":",J(j))for(var ne=0;ne<j.length;ne++){Le=j[ne];var le=Pe+k(Le,ne);je+=De(Le,Q,ye,le,xe)}else if(le=T(j),typeof le=="function")for(j=le.call(j),ne=0;!(Le=j.next()).done;)Le=Le.value,le=Pe+k(Le,ne++),je+=De(Le,Q,ye,le,xe);else if(Le==="object")throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function Ge(j,Q,ye){if(j==null)return j;var Pe=[],xe=0;return De(j,Pe,"","",function(Le){return Q.call(ye,Le,xe++)}),Pe}function Xe(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ye){(j._status===0||j._status===-1)&&(j._status=1,j._result=ye)},function(ye){(j._status===0||j._status===-1)&&(j._status=2,j._result=ye)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Ne={current:null},se={transition:null},_e={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ge,forEach:function(j,Q,ye){Ge(j,function(){Q.apply(this,arguments)},ye)},count:function(j){var Q=0;return Ge(j,function(){Q++}),Q},toArray:function(j){return Ge(j,function(Q){return Q})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=O,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=z,Oe.StrictMode=i,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Oe.act=oe,Oe.cloneElement=function(j,Q,ye){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Pe=b({},j.props),xe=j.key,Le=j.ref,je=j._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,je=ae.current),Q.key!==void 0&&(xe=""+Q.key),j.type&&j.type.defaultProps)var ne=j.type.defaultProps;for(le in Q)he.call(Q,le)&&!N.hasOwnProperty(le)&&(Pe[le]=Q[le]===void 0&&ne!==void 0?ne[le]:Q[le])}var le=arguments.length-2;if(le===1)Pe.children=ye;else if(1<le){ne=Array(le);for(var Re=0;Re<le;Re++)ne[Re]=arguments[Re+2];Pe.children=ne}return{$$typeof:n,type:j.type,key:xe,ref:Le,props:Pe,_owner:je}},Oe.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},Oe.createElement=R,Oe.createFactory=function(j){var Q=R.bind(null,j);return Q.type=j,Q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:d,render:j}},Oe.isValidElement=C,Oe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Xe}},Oe.memo=function(j,Q){return{$$typeof:_,type:j,compare:Q===void 0?null:Q}},Oe.startTransition=function(j){var Q=se.transition;se.transition={};try{j()}finally{se.transition=Q}},Oe.unstable_act=oe,Oe.useCallback=function(j,Q){return Ne.current.useCallback(j,Q)},Oe.useContext=function(j){return Ne.current.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j){return Ne.current.useDeferredValue(j)},Oe.useEffect=function(j,Q){return Ne.current.useEffect(j,Q)},Oe.useId=function(){return Ne.current.useId()},Oe.useImperativeHandle=function(j,Q,ye){return Ne.current.useImperativeHandle(j,Q,ye)},Oe.useInsertionEffect=function(j,Q){return Ne.current.useInsertionEffect(j,Q)},Oe.useLayoutEffect=function(j,Q){return Ne.current.useLayoutEffect(j,Q)},Oe.useMemo=function(j,Q){return Ne.current.useMemo(j,Q)},Oe.useReducer=function(j,Q,ye){return Ne.current.useReducer(j,Q,ye)},Oe.useRef=function(j){return Ne.current.useRef(j)},Oe.useState=function(j){return Ne.current.useState(j)},Oe.useSyncExternalStore=function(j,Q,ye){return Ne.current.useSyncExternalStore(j,Q,ye)},Oe.useTransition=function(){return Ne.current.useTransition()},Oe.version="18.3.1",Oe}var m_;function Qf(){return m_||(m_=1,Zd.exports=ZE()),Zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function eT(){if(g_)return sl;g_=1;var n=Qf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var v,S={},T=null,D=null;_!==void 0&&(T=""+_),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(D=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(S[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)S[v]===void 0&&(S[v]=p[v]);return{$$typeof:e,type:d,key:T,ref:D,props:S,_owner:o.current}}return sl.Fragment=t,sl.jsx=c,sl.jsxs=c,sl}var __;function tT(){return __||(__=1,Jd.exports=eT()),Jd.exports}var E=tT(),F=Qf(),cc={},ef={exports:{}},hn={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function nT(){return y_||(y_=1,function(n){function e(se,_e){var oe=se.length;se.push(_e);e:for(;0<oe;){var j=oe-1>>>1,Q=se[j];if(0<o(Q,_e))se[j]=_e,se[oe]=Q,oe=j;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var _e=se[0],oe=se.pop();if(oe!==_e){se[0]=oe;e:for(var j=0,Q=se.length,ye=Q>>>1;j<ye;){var Pe=2*(j+1)-1,xe=se[Pe],Le=Pe+1,je=se[Le];if(0>o(xe,oe))Le<Q&&0>o(je,xe)?(se[j]=je,se[Le]=oe,j=Le):(se[j]=xe,se[Pe]=oe,j=Pe);else if(Le<Q&&0>o(je,oe))se[j]=je,se[Le]=oe,j=Le;else break e}}return _e}function o(se,_e){var oe=se.sortIndex-_e.sortIndex;return oe!==0?oe:se.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],v=1,S=null,T=3,D=!1,b=!1,U=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var _e=t(_);_e!==null;){if(_e.callback===null)i(_);else if(_e.startTime<=se)i(_),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(_)}}function J(se){if(U=!1,G(se),!b)if(t(p)!==null)b=!0,Xe(he);else{var _e=t(_);_e!==null&&Ne(J,_e.startTime-se)}}function he(se,_e){b=!1,U&&(U=!1,B(R),R=-1),D=!0;var oe=T;try{for(G(_e),S=t(p);S!==null&&(!(S.expirationTime>_e)||se&&!x());){var j=S.callback;if(typeof j=="function"){S.callback=null,T=S.priorityLevel;var Q=j(S.expirationTime<=_e);_e=n.unstable_now(),typeof Q=="function"?S.callback=Q:S===t(p)&&i(p),G(_e)}else i(p);S=t(p)}if(S!==null)var ye=!0;else{var Pe=t(_);Pe!==null&&Ne(J,Pe.startTime-_e),ye=!1}return ye}finally{S=null,T=oe,D=!1}}var ae=!1,N=null,R=-1,A=5,C=-1;function x(){return!(n.unstable_now()-C<A)}function L(){if(N!==null){var se=n.unstable_now();C=se;var _e=!0;try{_e=N(!0,se)}finally{_e?k():(ae=!1,N=null)}}else ae=!1}var k;if(typeof z=="function")k=function(){z(L)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ge=De.port2;De.port1.onmessage=L,k=function(){Ge.postMessage(null)}}else k=function(){O(L,0)};function Xe(se){N=se,ae||(ae=!0,k())}function Ne(se,_e){R=O(function(){se(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){b||D||(b=!0,Xe(he))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var oe=T;T=_e;try{return se()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=T;T=se;try{return _e()}finally{T=oe}},n.unstable_scheduleCallback=function(se,_e,oe){var j=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,se){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,se={id:v++,callback:_e,priorityLevel:se,startTime:oe,expirationTime:Q,sortIndex:-1},oe>j?(se.sortIndex=oe,e(_,se),t(p)===null&&se===t(_)&&(U?(B(R),R=-1):U=!0,Ne(J,oe-j))):(se.sortIndex=Q,e(p,se),b||D||(b=!0,Xe(he))),se},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(se){var _e=T;return function(){var oe=T;T=_e;try{return se.apply(this,arguments)}finally{T=oe}}}}(nf)),nf}var v_;function rT(){return v_||(v_=1,tf.exports=nT()),tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function iT(){if(w_)return hn;w_=1;var n=Qf(),e=rT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function T(r){return p.call(S,r)?!0:p.call(v,r)?!1:_.test(r)?S[r]=!0:(v[r]=!0,!1)}function D(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,a,h){if(s===null||typeof s>"u"||D(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new U(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];O[s]=new U(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new U(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new U(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new U(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new U(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new U(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new U(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new U(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,z);O[s]=new U(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,z);O[s]=new U(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,z);O[s]=new U(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new U(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new U(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,h){var f=O.hasOwnProperty(s)?O[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,f,h)&&(a=null),h||f===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),ae=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),se=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,j;function Q(r){if(j===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var ye=!1;function Pe(r,s){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,P=g.length-1;1<=w&&0<=P&&f[w]!==g[P];)P--;for(;1<=w&&0<=P;w--,P--)if(f[w]!==g[P]){if(w!==1||P!==1)do if(w--,P--,0>P||f[w]!==g[P]){var V=`
`+f[w].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=w&&0<=P);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function xe(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ae:return"Portal";case A:return"Profiler";case R:return"StrictMode";case k:return"Suspense";case De:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Xe:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=le(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ye(r){r._valueTracker||(r._valueTracker=Re(r))}function _n(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=le(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ft(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nn(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function br(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ne(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function es(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function ts(r,s){es(r,s);var a=ne(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ws(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ws(r,s.type,ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ql(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ws(r,s,a){(s!=="number"||ft(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Or=Array.isArray;function Lr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ne(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function fa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ks(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Or(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ne(a)}}function Gs(r,s){var a=ne(s.value),h=ne(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function pa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vr,ma=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function hi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(r){rs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ns[s]=ns[r]})});function ga(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ns.hasOwnProperty(r)&&ns[r]?(""+s).trim():s+"px"}function _a(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ga(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ya=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,s){if(s){if(ya[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function wa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function Qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xs=null,kn=null,hr=null;function Ys(r){if(r=qa(r)){if(typeof Xs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ru(s),Xs(r.stateNode,r.type,s))}}function dr(r){kn?hr?hr.push(r):hr=[r]:kn=r}function Ea(){if(kn){var r=kn,s=hr;if(hr=kn=null,Ys(r),s)for(r=0;r<s.length;r++)Ys(s[r])}}function ss(r,s){return r(s)}function Ta(){}var Mr=!1;function Ia(r,s,a){if(Mr)return r(s,a);Mr=!0;try{return ss(r,s,a)}finally{Mr=!1,(kn!==null||hr!==null)&&(Ta(),Ea())}}function pt(r,s){var a=r.stateNode;if(a===null)return null;var h=Ru(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Js=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Js=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Js=!1}function os(r,s,a,h,f,g,w,P,V){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(ee){this.onError(ee)}}var as=!1,Zs=null,$n=!1,Sa=null,Ch={onError:function(r){as=!0,Zs=r}};function eo(r,s,a,h,f,g,w,P,V){as=!1,Zs=null,os.apply(Ch,arguments)}function Xl(r,s,a,h,f,g,w,P,V){if(eo.apply(this,arguments),as){if(as){var W=Zs;as=!1,Zs=null}else throw Error(t(198));$n||($n=!0,Sa=W)}}function qn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ls(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Hn(r){if(qn(r)!==r)throw Error(t(188))}function Yl(r){var s=r.alternate;if(!s){if(s=qn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Hn(f),r;if(g===h)return Hn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,P=f.child;P;){if(P===a){w=!0,a=f,h=g;break}if(P===h){w=!0,h=f,a=g;break}P=P.sibling}if(!w){for(P=g.child;P;){if(P===a){w=!0,a=g,h=f;break}if(P===h){w=!0,h=g,a=f;break}P=P.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Ra(r){return r=Yl(r),r!==null?to(r):null}function to(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=to(r);if(s!==null)return s;r=r.sibling}return null}var no=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Jl=e.unstable_shouldYield,Ah=e.unstable_requestPaint,Je=e.unstable_now,Zl=e.unstable_getCurrentPriorityLevel,us=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,eu=e.unstable_IdlePriority,cs=null,yn=null;function tu(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(cs,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:ru,ka=Math.log,nu=Math.LN2;function ru(r){return r>>>=0,r===0?32:31-(ka(r)/nu|0)|0}var ro=64,io=4194304;function fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function hs(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var P=w&~f;P!==0?h=fi(P):(g&=w,g!==0&&(h=fi(g)))}else w=a&~f,w!==0?h=fi(w):g!==0&&(h=fi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Xt(s),f=1<<a,h|=r[a],s&=~f;return h}function kh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Xt(g),P=1<<w,V=f[w];V===-1?(!(P&a)||P&h)&&(f[w]=kh(P,s)):V<=s&&(r.expiredLanes|=P),g&=~P}}function vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ds(){var r=ro;return ro<<=1,!(ro&4194240)&&(ro=64),r}function pi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function mi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xt(s),r[s]=a}function Qe(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Xt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function gi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Xt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Fe=0;function _i(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var iu,so,su,ou,au,Pa=!1,fr=[],Ot=null,Wn=null,Kn=null,yi=new Map,xn=new Map,pr=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(r,s){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function rn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=qa(s),s!==null&&so(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function xh(r,s,a,h,f){switch(s){case"focusin":return Ot=rn(Ot,r,s,a,h,f),!0;case"dragenter":return Wn=rn(Wn,r,s,a,h,f),!0;case"mouseover":return Kn=rn(Kn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return yi.set(g,rn(yi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,xn.set(g,rn(xn.get(g)||null,r,s,a,h,f)),!0}return!1}function uu(r){var s=_s(r.target);if(s!==null){var a=qn(s);if(a!==null){if(s=a.tag,s===13){if(s=ls(a),s!==null){r.blockedOn=s,au(r.priority,function(){su(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ur(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=oo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);is=h,a.target.dispatchEvent(h),is=null}else return s=qa(a),s!==null&&so(s),r.blockedOn=a,!1;s.shift()}return!0}function fs(r,s,a){Ur(r)&&a.delete(s)}function cu(){Pa=!1,Ot!==null&&Ur(Ot)&&(Ot=null),Wn!==null&&Ur(Wn)&&(Wn=null),Kn!==null&&Ur(Kn)&&(Kn=null),yi.forEach(fs),xn.forEach(fs)}function Gn(r,s){r.blockedOn===s&&(r.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cu)))}function Qn(r){function s(f){return Gn(f,r)}if(0<fr.length){Gn(fr[0],r);for(var a=1;a<fr.length;a++){var h=fr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ot!==null&&Gn(Ot,r),Wn!==null&&Gn(Wn,r),Kn!==null&&Gn(Kn,r),yi.forEach(s),xn.forEach(s),a=0;a<pr.length;a++)h=pr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)uu(a),a.blockedOn===null&&pr.shift()}var jr=J.ReactCurrentBatchConfig,vi=!0;function rt(r,s,a,h){var f=Fe,g=jr.transition;jr.transition=null;try{Fe=1,xa(r,s,a,h)}finally{Fe=f,jr.transition=g}}function Nh(r,s,a,h){var f=Fe,g=jr.transition;jr.transition=null;try{Fe=4,xa(r,s,a,h)}finally{Fe=f,jr.transition=g}}function xa(r,s,a,h){if(vi){var f=oo(r,s,a,h);if(f===null)zh(r,s,h,ps,a),lu(r,h);else if(xh(f,r,s,a,h))h.stopPropagation();else if(lu(r,h),s&4&&-1<Ph.indexOf(r)){for(;f!==null;){var g=qa(f);if(g!==null&&iu(g),g=oo(r,s,a,h),g===null&&zh(r,s,h,ps,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else zh(r,s,h,null,a)}}var ps=null;function oo(r,s,a,h){if(ps=null,r=Qs(h),r=_s(r),r!==null)if(s=qn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ls(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ps=r,null}function Na(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zl()){case us:return 1;case di:return 4;case Pn:case Aa:return 16;case eu:return 536870912;default:return 16}default:return 16}}var wn=null,ao=null,sn=null;function Da(){if(sn)return sn;var r,s=ao,a=s.length,h,f="value"in wn?wn.value:wn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return sn=f.slice(r,1<h?1-h:void 0)}function lo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function mr(){return!0}function ba(){return!1}function Lt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(a=r[P],this[P]=a?a(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mr:ba,this.isPropagationStopped=ba,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),s}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Lt(Xn),gr=oe({},Xn,{view:0,detail:0}),Dh=Lt(gr),co,Br,wi,ms=oe({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wi&&(wi&&r.type==="mousemove"?(co=r.screenX-wi.screenX,Br=r.screenY-wi.screenY):Br=co=0,wi=r),co)},movementY:function(r){return"movementY"in r?r.movementY:Br}}),ho=Lt(ms),Oa=oe({},ms,{dataTransfer:0}),hu=Lt(Oa),fo=oe({},gr,{relatedTarget:0}),po=Lt(fo),du=oe({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Lt(du),fu=oe({},Xn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pu=Lt(fu),mu=oe({},Xn,{data:0}),La=Lt(mu),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gu[r])?!!s[r]:!1}function _r(){return _u}var u=oe({},gr,{key:function(r){if(r.key){var s=mo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=lo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(r){return r.type==="keypress"?lo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Lt(u),y=oe({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Lt(y),$=oe({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),K=Lt($),ie=oe({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Lt(ie),St=oe({},ms,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Lt(St),Pt=[9,13,27,32],_t=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var En=d&&"TextEvent"in window&&!Nn,gs=d&&(!_t||Nn&&8<Nn&&11>=Nn),go=" ",lm=!1;function um(r,s){switch(r){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function X0(r,s){switch(r){case"compositionend":return cm(s);case"keypress":return s.which!==32?null:(lm=!0,go);case"textInput":return r=s.data,r===go&&lm?null:r;default:return null}}function Y0(r,s){if(_o)return r==="compositionend"||!_t&&um(r,s)?(r=Da(),sn=ao=wn=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gs&&s.locale!=="ko"?null:s.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!J0[r.type]:s==="textarea"}function dm(r,s,a,h){dr(h),s=Tu(s,"onChange"),0<s.length&&(a=new uo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Va=null,Ma=null;function Z0(r){xm(r,0)}function yu(r){var s=To(r);if(_n(s))return r}function eE(r,s){if(r==="change")return s}var fm=!1;if(d){var bh;if(d){var Oh="oninput"in document;if(!Oh){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),Oh=typeof pm.oninput=="function"}bh=Oh}else bh=!1;fm=bh&&(!document.documentMode||9<document.documentMode)}function mm(){Va&&(Va.detachEvent("onpropertychange",gm),Ma=Va=null)}function gm(r){if(r.propertyName==="value"&&yu(Ma)){var s=[];dm(s,Ma,r,Qs(r)),Ia(Z0,s)}}function tE(r,s,a){r==="focusin"?(mm(),Va=s,Ma=a,Va.attachEvent("onpropertychange",gm)):r==="focusout"&&mm()}function nE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Ma)}function rE(r,s){if(r==="click")return yu(s)}function iE(r,s){if(r==="input"||r==="change")return yu(s)}function sE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Yn=typeof Object.is=="function"?Object.is:sE;function Fa(r,s){if(Yn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Yn(r[f],s[f]))return!1}return!0}function _m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ym(r,s){var a=_m(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_m(a)}}function vm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wm(){for(var r=window,s=ft();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ft(r.document)}return s}function Lh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function oE(r){var s=wm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&vm(a.ownerDocument.documentElement,a)){if(h!==null&&Lh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=ym(a,g);var w=ym(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var aE=d&&"documentMode"in document&&11>=document.documentMode,yo=null,Vh=null,Ua=null,Mh=!1;function Em(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||yo==null||yo!==ft(h)||(h=yo,"selectionStart"in h&&Lh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ua&&Fa(Ua,h)||(Ua=h,h=Tu(Vh,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=yo)))}function vu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var vo={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Fh={},Tm={};d&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function wu(r){if(Fh[r])return Fh[r];if(!vo[r])return r;var s=vo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tm)return Fh[r]=s[a];return r}var Im=wu("animationend"),Sm=wu("animationiteration"),Rm=wu("animationstart"),Cm=wu("transitionend"),Am=new Map,km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(r,s){Am.set(r,s),l(s,[r])}for(var Uh=0;Uh<km.length;Uh++){var jh=km[Uh],lE=jh.toLowerCase(),uE=jh[0].toUpperCase()+jh.slice(1);Ei(lE,"on"+uE)}Ei(Im,"onAnimationEnd"),Ei(Sm,"onAnimationIteration"),Ei(Rm,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Cm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Pm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Xl(h,s,void 0,r),r.currentTarget=null}function xm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var P=h[w],V=P.instance,W=P.currentTarget;if(P=P.listener,V!==g&&f.isPropagationStopped())break e;Pm(f,P,W),g=V}else for(w=0;w<h.length;w++){if(P=h[w],V=P.instance,W=P.currentTarget,P=P.listener,V!==g&&f.isPropagationStopped())break e;Pm(f,P,W),g=V}}}if($n)throw r=Sa,$n=!1,Sa=null,r}function et(r,s){var a=s[Gh];a===void 0&&(a=s[Gh]=new Set);var h=r+"__bubble";a.has(h)||(Nm(s,r,2,!1),a.add(h))}function Bh(r,s,a){var h=0;s&&(h|=4),Nm(a,r,h,s)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[Eu]){r[Eu]=!0,i.forEach(function(a){a!=="selectionchange"&&(cE.has(a)||Bh(a,!1,r),Bh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Eu]||(s[Eu]=!0,Bh("selectionchange",!1,s))}}function Nm(r,s,a,h){switch(Na(s)){case 1:var f=rt;break;case 4:f=Nh;break;default:f=xa}a=f.bind(null,s,a,r),f=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function zh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var P=h.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&(V=w.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;w=w.return}for(;P!==null;){if(w=_s(P),w===null)return;if(V=w.tag,V===5||V===6){h=g=w;continue e}P=P.parentNode}}h=h.return}Ia(function(){var W=g,ee=Qs(a),te=[];e:{var Z=Am.get(r);if(Z!==void 0){var ue=uo,pe=r;switch(r){case"keypress":if(lo(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":pe="focus",ue=po;break;case"focusout":pe="blur",ue=po;break;case"beforeblur":case"afterblur":ue=po;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=K;break;case Im:case Sm:case Rm:ue=zr;break;case Cm:ue=Ke;break;case"scroll":ue=Dh;break;case"wheel":ue=Be;break;case"copy":case"cut":case"paste":ue=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var me=(s&4)!==0,mt=!me&&r==="scroll",q=me?Z!==null?Z+"Capture":null:Z;me=[];for(var M=W,H;M!==null;){H=M;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,q!==null&&(re=pt(M,q),re!=null&&me.push(za(M,re,H)))),mt)break;M=M.return}0<me.length&&(Z=new ue(Z,pe,null,a,ee),te.push({event:Z,listeners:me}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",Z&&a!==is&&(pe=a.relatedTarget||a.fromElement)&&(_s(pe)||pe[$r]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(pe=a.relatedTarget||a.toElement,ue=W,pe=pe?_s(pe):null,pe!==null&&(mt=qn(pe),pe!==mt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=W),ue!==pe)){if(me=ho,re="onMouseLeave",q="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(me=I,re="onPointerLeave",q="onPointerEnter",M="pointer"),mt=ue==null?Z:To(ue),H=pe==null?Z:To(pe),Z=new me(re,M+"leave",ue,a,ee),Z.target=mt,Z.relatedTarget=H,re=null,_s(ee)===W&&(me=new me(q,M+"enter",pe,a,ee),me.target=H,me.relatedTarget=mt,re=me),mt=re,ue&&pe)t:{for(me=ue,q=pe,M=0,H=me;H;H=wo(H))M++;for(H=0,re=q;re;re=wo(re))H++;for(;0<M-H;)me=wo(me),M--;for(;0<H-M;)q=wo(q),H--;for(;M--;){if(me===q||q!==null&&me===q.alternate)break t;me=wo(me),q=wo(q)}me=null}else me=null;ue!==null&&Dm(te,Z,ue,me,!1),pe!==null&&mt!==null&&Dm(te,mt,pe,me,!0)}}e:{if(Z=W?To(W):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ge=eE;else if(hm(Z))if(fm)ge=iE;else{ge=nE;var we=tE}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=rE);if(ge&&(ge=ge(r,W))){dm(te,ge,a,ee);break e}we&&we(r,Z,W),r==="focusout"&&(we=Z._wrapperState)&&we.controlled&&Z.type==="number"&&Ws(Z,"number",Z.value)}switch(we=W?To(W):window,r){case"focusin":(hm(we)||we.contentEditable==="true")&&(yo=we,Vh=W,Ua=null);break;case"focusout":Ua=Vh=yo=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Em(te,a,ee);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":Em(te,a,ee)}var Ee;if(_t)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else _o?um(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(gs&&a.locale!=="ko"&&(_o||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&_o&&(Ee=Da()):(wn=ee,ao="value"in wn?wn.value:wn.textContent,_o=!0)),we=Tu(W,Ie),0<we.length&&(Ie=new La(Ie,r,null,a,ee),te.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=cm(a),Ee!==null&&(Ie.data=Ee)))),(Ee=En?X0(r,a):Y0(r,a))&&(W=Tu(W,"onBeforeInput"),0<W.length&&(ee=new La("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:W}),ee.data=Ee))}xm(te,s)})}function za(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Tu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=pt(r,a),g!=null&&h.unshift(za(r,g,f)),g=pt(r,s),g!=null&&h.push(za(r,g,f))),r=r.return}return h}function wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var P=a,V=P.alternate,W=P.stateNode;if(V!==null&&V===h)break;P.tag===5&&W!==null&&(P=W,f?(V=pt(a,g),V!=null&&w.unshift(za(a,V,P))):f||(V=pt(a,g),V!=null&&w.push(za(a,V,P)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var hE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function bm(r){return(typeof r=="string"?r:""+r).replace(hE,`
`).replace(dE,"")}function Iu(r,s,a){if(s=bm(s),bm(r)!==s&&a)throw Error(t(425))}function Su(){}var $h=null,qh=null;function Hh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(r){return Om.resolve(null).then(r).catch(mE)}:Wh;function mE(r){setTimeout(function(){throw r})}function Kh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Qn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Qn(s)}function Ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Lm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),yr="__reactFiber$"+Eo,$a="__reactProps$"+Eo,$r="__reactContainer$"+Eo,Gh="__reactEvents$"+Eo,gE="__reactListeners$"+Eo,_E="__reactHandles$"+Eo;function _s(r){var s=r[yr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[$r]||a[yr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Lm(r);r!==null;){if(a=r[yr])return a;r=Lm(r)}return s}r=a,a=r.parentNode}return null}function qa(r){return r=r[yr]||r[$r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function To(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ru(r){return r[$a]||null}var Qh=[],Io=-1;function Ii(r){return{current:r}}function tt(r){0>Io||(r.current=Qh[Io],Qh[Io]=null,Io--)}function Ze(r,s){Io++,Qh[Io]=r.current,r.current=s}var Si={},zt=Ii(Si),on=Ii(!1),ys=Si;function So(r,s){var a=r.type.contextTypes;if(!a)return Si;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function an(r){return r=r.childContextTypes,r!=null}function Cu(){tt(on),tt(zt)}function Vm(r,s,a){if(zt.current!==Si)throw Error(t(168));Ze(zt,s),Ze(on,a)}function Mm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,je(r)||"Unknown",f));return oe({},a,h)}function Au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Si,ys=zt.current,Ze(zt,r),Ze(on,on.current),!0}function Fm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Mm(r,s,ys),h.__reactInternalMemoizedMergedChildContext=r,tt(on),tt(zt),Ze(zt,r)):tt(on),Ze(on,a)}var qr=null,ku=!1,Xh=!1;function Um(r){qr===null?qr=[r]:qr.push(r)}function yE(r){ku=!0,Um(r)}function Ri(){if(!Xh&&qr!==null){Xh=!0;var r=0,s=Fe;try{var a=qr;for(Fe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}qr=null,ku=!1}catch(f){throw qr!==null&&(qr=qr.slice(r+1)),no(us,Ri),f}finally{Fe=s,Xh=!1}}return null}var Ro=[],Co=0,Pu=null,xu=0,Dn=[],bn=0,vs=null,Hr=1,Wr="";function ws(r,s){Ro[Co++]=xu,Ro[Co++]=Pu,Pu=r,xu=s}function jm(r,s,a){Dn[bn++]=Hr,Dn[bn++]=Wr,Dn[bn++]=vs,vs=r;var h=Hr;r=Wr;var f=32-Xt(h)-1;h&=~(1<<f),a+=1;var g=32-Xt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Hr=1<<32-Xt(s)+f|a<<f|h,Wr=g+r}else Hr=1<<g|a<<f|h,Wr=r}function Yh(r){r.return!==null&&(ws(r,1),jm(r,1,0))}function Jh(r){for(;r===Pu;)Pu=Ro[--Co],Ro[Co]=null,xu=Ro[--Co],Ro[Co]=null;for(;r===vs;)vs=Dn[--bn],Dn[bn]=null,Wr=Dn[--bn],Dn[bn]=null,Hr=Dn[--bn],Dn[bn]=null}var Tn=null,In=null,it=!1,Jn=null;function Bm(r,s){var a=Mn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function zm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tn=r,In=Ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=vs!==null?{id:Hr,overflow:Wr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Mn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Tn=r,In=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ed(r){if(it){var s=In;if(s){var a=s;if(!zm(r,s)){if(Zh(r))throw Error(t(418));s=Ti(a.nextSibling);var h=Tn;s&&zm(r,s)?Bm(h,a):(r.flags=r.flags&-4097|2,it=!1,Tn=r)}}else{if(Zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,it=!1,Tn=r}}}function $m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function Nu(r){if(r!==Tn)return!1;if(!it)return $m(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hh(r.type,r.memoizedProps)),s&&(s=In)){if(Zh(r))throw qm(),Error(t(418));for(;s;)Bm(r,s),s=Ti(s.nextSibling)}if($m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){In=Ti(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}In=null}}else In=Tn?Ti(r.stateNode.nextSibling):null;return!0}function qm(){for(var r=In;r;)r=Ti(r.nextSibling)}function Ao(){In=Tn=null,it=!1}function td(r){Jn===null?Jn=[r]:Jn.push(r)}var vE=J.ReactCurrentBatchConfig;function Ha(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var P=f.refs;w===null?delete P[g]:P[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Du(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Hm(r){var s=r._init;return s(r._payload)}function Wm(r){function s(q,M){if(r){var H=q.deletions;H===null?(q.deletions=[M],q.flags|=16):H.push(M)}}function a(q,M){if(!r)return null;for(;M!==null;)s(q,M),M=M.sibling;return null}function h(q,M){for(q=new Map;M!==null;)M.key!==null?q.set(M.key,M):q.set(M.index,M),M=M.sibling;return q}function f(q,M){return q=bi(q,M),q.index=0,q.sibling=null,q}function g(q,M,H){return q.index=H,r?(H=q.alternate,H!==null?(H=H.index,H<M?(q.flags|=2,M):H):(q.flags|=2,M)):(q.flags|=1048576,M)}function w(q){return r&&q.alternate===null&&(q.flags|=2),q}function P(q,M,H,re){return M===null||M.tag!==6?(M=Wd(H,q.mode,re),M.return=q,M):(M=f(M,H),M.return=q,M)}function V(q,M,H,re){var ge=H.type;return ge===N?ee(q,M,H.props.children,re,H.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Xe&&Hm(ge)===M.type)?(re=f(M,H.props),re.ref=Ha(q,M,H),re.return=q,re):(re=nc(H.type,H.key,H.props,null,q.mode,re),re.ref=Ha(q,M,H),re.return=q,re)}function W(q,M,H,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Kd(H,q.mode,re),M.return=q,M):(M=f(M,H.children||[]),M.return=q,M)}function ee(q,M,H,re,ge){return M===null||M.tag!==7?(M=ks(H,q.mode,re,ge),M.return=q,M):(M=f(M,H),M.return=q,M)}function te(q,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Wd(""+M,q.mode,H),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case he:return H=nc(M.type,M.key,M.props,null,q.mode,H),H.ref=Ha(q,null,M),H.return=q,H;case ae:return M=Kd(M,q.mode,H),M.return=q,M;case Xe:var re=M._init;return te(q,re(M._payload),H)}if(Or(M)||_e(M))return M=ks(M,q.mode,H,null),M.return=q,M;Du(q,M)}return null}function Z(q,M,H,re){var ge=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:P(q,M,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case he:return H.key===ge?V(q,M,H,re):null;case ae:return H.key===ge?W(q,M,H,re):null;case Xe:return ge=H._init,Z(q,M,ge(H._payload),re)}if(Or(H)||_e(H))return ge!==null?null:ee(q,M,H,re,null);Du(q,H)}return null}function ue(q,M,H,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return q=q.get(H)||null,P(M,q,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case he:return q=q.get(re.key===null?H:re.key)||null,V(M,q,re,ge);case ae:return q=q.get(re.key===null?H:re.key)||null,W(M,q,re,ge);case Xe:var we=re._init;return ue(q,M,H,we(re._payload),ge)}if(Or(re)||_e(re))return q=q.get(H)||null,ee(M,q,re,ge,null);Du(M,re)}return null}function pe(q,M,H,re){for(var ge=null,we=null,Ee=M,Ie=M=0,Dt=null;Ee!==null&&Ie<H.length;Ie++){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var qe=Z(q,Ee,H[Ie],re);if(qe===null){Ee===null&&(Ee=Dt);break}r&&Ee&&qe.alternate===null&&s(q,Ee),M=g(qe,M,Ie),we===null?ge=qe:we.sibling=qe,we=qe,Ee=Dt}if(Ie===H.length)return a(q,Ee),it&&ws(q,Ie),ge;if(Ee===null){for(;Ie<H.length;Ie++)Ee=te(q,H[Ie],re),Ee!==null&&(M=g(Ee,M,Ie),we===null?ge=Ee:we.sibling=Ee,we=Ee);return it&&ws(q,Ie),ge}for(Ee=h(q,Ee);Ie<H.length;Ie++)Dt=ue(Ee,q,Ie,H[Ie],re),Dt!==null&&(r&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ie:Dt.key),M=g(Dt,M,Ie),we===null?ge=Dt:we.sibling=Dt,we=Dt);return r&&Ee.forEach(function(Oi){return s(q,Oi)}),it&&ws(q,Ie),ge}function me(q,M,H,re){var ge=_e(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var we=ge=null,Ee=M,Ie=M=0,Dt=null,qe=H.next();Ee!==null&&!qe.done;Ie++,qe=H.next()){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var Oi=Z(q,Ee,qe.value,re);if(Oi===null){Ee===null&&(Ee=Dt);break}r&&Ee&&Oi.alternate===null&&s(q,Ee),M=g(Oi,M,Ie),we===null?ge=Oi:we.sibling=Oi,we=Oi,Ee=Dt}if(qe.done)return a(q,Ee),it&&ws(q,Ie),ge;if(Ee===null){for(;!qe.done;Ie++,qe=H.next())qe=te(q,qe.value,re),qe!==null&&(M=g(qe,M,Ie),we===null?ge=qe:we.sibling=qe,we=qe);return it&&ws(q,Ie),ge}for(Ee=h(q,Ee);!qe.done;Ie++,qe=H.next())qe=ue(Ee,q,Ie,qe.value,re),qe!==null&&(r&&qe.alternate!==null&&Ee.delete(qe.key===null?Ie:qe.key),M=g(qe,M,Ie),we===null?ge=qe:we.sibling=qe,we=qe);return r&&Ee.forEach(function(JE){return s(q,JE)}),it&&ws(q,Ie),ge}function mt(q,M,H,re){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case he:e:{for(var ge=H.key,we=M;we!==null;){if(we.key===ge){if(ge=H.type,ge===N){if(we.tag===7){a(q,we.sibling),M=f(we,H.props.children),M.return=q,q=M;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Xe&&Hm(ge)===we.type){a(q,we.sibling),M=f(we,H.props),M.ref=Ha(q,we,H),M.return=q,q=M;break e}a(q,we);break}else s(q,we);we=we.sibling}H.type===N?(M=ks(H.props.children,q.mode,re,H.key),M.return=q,q=M):(re=nc(H.type,H.key,H.props,null,q.mode,re),re.ref=Ha(q,M,H),re.return=q,q=re)}return w(q);case ae:e:{for(we=H.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(q,M.sibling),M=f(M,H.children||[]),M.return=q,q=M;break e}else{a(q,M);break}else s(q,M);M=M.sibling}M=Kd(H,q.mode,re),M.return=q,q=M}return w(q);case Xe:return we=H._init,mt(q,M,we(H._payload),re)}if(Or(H))return pe(q,M,H,re);if(_e(H))return me(q,M,H,re);Du(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(a(q,M.sibling),M=f(M,H),M.return=q,q=M):(a(q,M),M=Wd(H,q.mode,re),M.return=q,q=M),w(q)):a(q,M)}return mt}var ko=Wm(!0),Km=Wm(!1),bu=Ii(null),Ou=null,Po=null,nd=null;function rd(){nd=Po=Ou=null}function id(r){var s=bu.current;tt(bu),r._currentValue=s}function sd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function xo(r,s){Ou=r,nd=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(ln=!0),r.firstContext=null)}function On(r){var s=r._currentValue;if(nd!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(Ou===null)throw Error(t(308));Po=r,Ou.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var Es=null;function od(r){Es===null?Es=[r]:Es.push(r)}function Gm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,od(s)):(a.next=f.next,f.next=a),s.interleaved=a,Kr(r,h)}function Kr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ci=!1;function ad(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ai(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,$e&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Kr(r,a)}return f=h.interleaved,f===null?(s.next=s,od(h)):(s.next=f.next,f.next=s),h.interleaved=s,Kr(r,a)}function Lu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,gi(r,a)}}function Xm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Vu(r,s,a,h){var f=r.updateQueue;Ci=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var V=P,W=V.next;V.next=null,w===null?g=W:w.next=W,w=V;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==w&&(P===null?ee.firstBaseUpdate=W:P.next=W,ee.lastBaseUpdate=V))}if(g!==null){var te=f.baseState;w=0,ee=W=V=null,P=g;do{var Z=P.lane,ue=P.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var pe=r,me=P;switch(Z=s,ue=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){te=pe.call(ue,te,Z);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Z=typeof pe=="function"?pe.call(ue,te,Z):pe,Z==null)break e;te=oe({},te,Z);break e;case 2:Ci=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[P]:Z.push(P))}else ue={eventTime:ue,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(W=ee=ue,V=te):ee=ee.next=ue,w|=Z;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(V=te),f.baseState=V,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ss|=w,r.lanes=w,r.memoizedState=te}}function Ym(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Wa={},vr=Ii(Wa),Ka=Ii(Wa),Ga=Ii(Wa);function Ts(r){if(r===Wa)throw Error(t(174));return r}function ld(r,s){switch(Ze(Ga,s),Ze(Ka,r),Ze(vr,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=It(s,r)}tt(vr),Ze(vr,s)}function No(){tt(vr),tt(Ka),tt(Ga)}function Jm(r){Ts(Ga.current);var s=Ts(vr.current),a=It(s,r.type);s!==a&&(Ze(Ka,r),Ze(vr,a))}function ud(r){Ka.current===r&&(tt(vr),tt(Ka))}var at=Ii(0);function Mu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cd=[];function hd(){for(var r=0;r<cd.length;r++)cd[r]._workInProgressVersionPrimary=null;cd.length=0}var Fu=J.ReactCurrentDispatcher,dd=J.ReactCurrentBatchConfig,Is=0,lt=null,Rt=null,xt=null,Uu=!1,Qa=!1,Xa=0,wE=0;function $t(){throw Error(t(321))}function fd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Yn(r[a],s[a]))return!1;return!0}function pd(r,s,a,h,f,g){if(Is=g,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fu.current=r===null||r.memoizedState===null?SE:RE,r=a(h,f),Qa){g=0;do{if(Qa=!1,Xa=0,25<=g)throw Error(t(301));g+=1,xt=Rt=null,s.updateQueue=null,Fu.current=CE,r=a(h,f)}while(Qa)}if(Fu.current=zu,s=Rt!==null&&Rt.next!==null,Is=0,xt=Rt=lt=null,Uu=!1,s)throw Error(t(300));return r}function md(){var r=Xa!==0;return Xa=0,r}function wr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?lt.memoizedState=xt=r:xt=xt.next=r,xt}function Ln(){if(Rt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=xt===null?lt.memoizedState:xt.next;if(s!==null)xt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},xt===null?lt.memoizedState=xt=r:xt=xt.next=r}return xt}function Ya(r,s){return typeof s=="function"?s(r):s}function gd(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Rt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var P=w=null,V=null,W=g;do{var ee=W.lane;if((Is&ee)===ee)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var te={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(P=V=te,w=h):V=V.next=te,lt.lanes|=ee,Ss|=ee}W=W.next}while(W!==null&&W!==g);V===null?w=h:V.next=P,Yn(h,s.memoizedState)||(ln=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=V,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,lt.lanes|=g,Ss|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function _d(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Yn(g,s.memoizedState)||(ln=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Zm(){}function eg(r,s){var a=lt,h=Ln(),f=s(),g=!Yn(h.memoizedState,f);if(g&&(h.memoizedState=f,ln=!0),h=h.queue,yd(rg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Ja(9,ng.bind(null,a,h,f,s),void 0,null),Nt===null)throw Error(t(349));Is&30||tg(a,s,f)}return f}function tg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ng(r,s,a,h){s.value=a,s.getSnapshot=h,ig(s)&&sg(r)}function rg(r,s,a){return a(function(){ig(s)&&sg(r)})}function ig(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Yn(r,a)}catch{return!0}}function sg(r){var s=Kr(r,1);s!==null&&nr(s,r,1,-1)}function og(r){var s=wr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},s.queue=r,r=r.dispatch=IE.bind(null,lt,r),[s.memoizedState,r]}function Ja(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function ag(){return Ln().memoizedState}function ju(r,s,a,h){var f=wr();lt.flags|=r,f.memoizedState=Ja(1|s,a,void 0,h===void 0?null:h)}function Bu(r,s,a,h){var f=Ln();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var w=Rt.memoizedState;if(g=w.destroy,h!==null&&fd(h,w.deps)){f.memoizedState=Ja(s,a,g,h);return}}lt.flags|=r,f.memoizedState=Ja(1|s,a,g,h)}function lg(r,s){return ju(8390656,8,r,s)}function yd(r,s){return Bu(2048,8,r,s)}function ug(r,s){return Bu(4,2,r,s)}function cg(r,s){return Bu(4,4,r,s)}function hg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function dg(r,s,a){return a=a!=null?a.concat([r]):null,Bu(4,4,hg.bind(null,s,r),a)}function vd(){}function fg(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function pg(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function mg(r,s,a){return Is&21?(Yn(a,s)||(a=ds(),lt.lanes|=a,Ss|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=a)}function EE(r,s){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var h=dd.transition;dd.transition={};try{r(!1),s()}finally{Fe=a,dd.transition=h}}function gg(){return Ln().memoizedState}function TE(r,s,a){var h=Ni(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},_g(r))yg(s,a);else if(a=Gm(r,s,a,h),a!==null){var f=Zt();nr(a,r,h,f),vg(a,s,h)}}function IE(r,s,a){var h=Ni(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(_g(r))yg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,P=g(w,a);if(f.hasEagerState=!0,f.eagerState=P,Yn(P,w)){var V=s.interleaved;V===null?(f.next=f,od(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}a=Gm(r,s,f,h),a!==null&&(f=Zt(),nr(a,r,h,f),vg(a,s,h))}}function _g(r){var s=r.alternate;return r===lt||s!==null&&s===lt}function yg(r,s){Qa=Uu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function vg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,gi(r,a)}}var zu={readContext:On,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},SE={readContext:On,useCallback:function(r,s){return wr().memoizedState=[r,s===void 0?null:s],r},useContext:On,useEffect:lg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ju(4194308,4,hg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ju(4194308,4,r,s)},useInsertionEffect:function(r,s){return ju(4,2,r,s)},useMemo:function(r,s){var a=wr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=wr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=TE.bind(null,lt,r),[h.memoizedState,r]},useRef:function(r){var s=wr();return r={current:r},s.memoizedState=r},useState:og,useDebugValue:vd,useDeferredValue:function(r){return wr().memoizedState=r},useTransition:function(){var r=og(!1),s=r[0];return r=EE.bind(null,r[1]),wr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=lt,f=wr();if(it){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));Is&30||tg(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,lg(rg.bind(null,h,g,r),[r]),h.flags|=2048,Ja(9,ng.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=wr(),s=Nt.identifierPrefix;if(it){var a=Wr,h=Hr;a=(h&~(1<<32-Xt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=wE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},RE={readContext:On,useCallback:fg,useContext:On,useEffect:yd,useImperativeHandle:dg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:gd,useRef:ag,useState:function(){return gd(Ya)},useDebugValue:vd,useDeferredValue:function(r){var s=Ln();return mg(s,Rt.memoizedState,r)},useTransition:function(){var r=gd(Ya)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Zm,useSyncExternalStore:eg,useId:gg,unstable_isNewReconciler:!1},CE={readContext:On,useCallback:fg,useContext:On,useEffect:yd,useImperativeHandle:dg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:_d,useRef:ag,useState:function(){return _d(Ya)},useDebugValue:vd,useDeferredValue:function(r){var s=Ln();return Rt===null?s.memoizedState=r:mg(s,Rt.memoizedState,r)},useTransition:function(){var r=_d(Ya)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Zm,useSyncExternalStore:eg,useId:gg,unstable_isNewReconciler:!1};function Zn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function wd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var $u={isMounted:function(r){return(r=r._reactInternals)?qn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Zt(),f=Ni(r),g=Gr(h,f);g.payload=s,a!=null&&(g.callback=a),s=Ai(r,g,f),s!==null&&(nr(s,r,f,h),Lu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Zt(),f=Ni(r),g=Gr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ai(r,g,f),s!==null&&(nr(s,r,f,h),Lu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Zt(),h=Ni(r),f=Gr(a,h);f.tag=2,s!=null&&(f.callback=s),s=Ai(r,f,h),s!==null&&(nr(s,r,h,a),Lu(s,r,h))}};function wg(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Fa(a,h)||!Fa(f,g):!0}function Eg(r,s,a){var h=!1,f=Si,g=s.contextType;return typeof g=="object"&&g!==null?g=On(g):(f=an(s)?ys:zt.current,h=s.contextTypes,g=(h=h!=null)?So(r,f):Si),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$u,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Tg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&$u.enqueueReplaceState(s,s.state,null)}function Ed(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},ad(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=On(g):(g=an(s)?ys:zt.current,f.context=So(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&$u.enqueueReplaceState(f,f.state,null),Vu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Do(r,s){try{var a="",h=s;do a+=xe(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Td(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Id(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var AE=typeof WeakMap=="function"?WeakMap:Map;function Ig(r,s,a){a=Gr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Xu||(Xu=!0,Fd=h),Id(r,s)},a}function Sg(r,s,a){a=Gr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Id(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Id(r,s),typeof h!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Rg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new AE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=BE.bind(null,r,s,a),s.then(r,r))}function Cg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ag(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Gr(-1,1),s.tag=2,Ai(a,s,1))),a.lanes|=1),r)}var kE=J.ReactCurrentOwner,ln=!1;function Jt(r,s,a,h){s.child=r===null?Km(s,null,a,h):ko(s,r.child,a,h)}function kg(r,s,a,h,f){a=a.render;var g=s.ref;return xo(s,f),h=pd(r,s,a,h,g,f),a=md(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Qr(r,s,f)):(it&&a&&Yh(s),s.flags|=1,Jt(r,s,h,f),s.child)}function Pg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Hd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,xg(r,s,g,h,f)):(r=nc(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Fa,a(w,h)&&r.ref===s.ref)return Qr(r,s,f)}return s.flags|=1,r=bi(g,h),r.ref=s.ref,r.return=s,s.child=r}function xg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Fa(g,h)&&r.ref===s.ref)if(ln=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(ln=!0);else return s.lanes=r.lanes,Qr(r,s,f)}return Sd(r,s,a,h,f)}function Ng(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Oo,Sn),Sn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(Oo,Sn),Sn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ze(Oo,Sn),Sn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ze(Oo,Sn),Sn|=h;return Jt(r,s,f,a),s.child}function Dg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Sd(r,s,a,h,f){var g=an(a)?ys:zt.current;return g=So(s,g),xo(s,f),a=pd(r,s,a,h,g,f),h=md(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Qr(r,s,f)):(it&&h&&Yh(s),s.flags|=1,Jt(r,s,a,f),s.child)}function bg(r,s,a,h,f){if(an(a)){var g=!0;Au(s)}else g=!1;if(xo(s,f),s.stateNode===null)Hu(r,s),Eg(s,a,h),Ed(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var V=w.context,W=a.contextType;typeof W=="object"&&W!==null?W=On(W):(W=an(a)?ys:zt.current,W=So(s,W));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==h||V!==W)&&Tg(s,w,h,W),Ci=!1;var Z=s.memoizedState;w.state=Z,Vu(s,h,w,f),V=s.memoizedState,P!==h||Z!==V||on.current||Ci?(typeof ee=="function"&&(wd(s,a,ee,h),V=s.memoizedState),(P=Ci||wg(s,a,P,h,Z,V,W))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),w.props=h,w.state=V,w.context=W,h=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Qm(r,s),P=s.memoizedProps,W=s.type===s.elementType?P:Zn(s.type,P),w.props=W,te=s.pendingProps,Z=w.context,V=a.contextType,typeof V=="object"&&V!==null?V=On(V):(V=an(a)?ys:zt.current,V=So(s,V));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==te||Z!==V)&&Tg(s,w,h,V),Ci=!1,Z=s.memoizedState,w.state=Z,Vu(s,h,w,f);var pe=s.memoizedState;P!==te||Z!==pe||on.current||Ci?(typeof ue=="function"&&(wd(s,a,ue,h),pe=s.memoizedState),(W=Ci||wg(s,a,W,h,Z,pe,V)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,pe,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,pe,V)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),w.props=h,w.state=pe,w.context=V,h=W):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return Rd(r,s,a,h,g,f)}function Rd(r,s,a,h,f,g){Dg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Fm(s,a,!1),Qr(r,s,g);h=s.stateNode,kE.current=s;var P=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=ko(s,r.child,null,g),s.child=ko(s,null,P,g)):Jt(r,s,P,g),s.memoizedState=h.state,f&&Fm(s,a,!0),s.child}function Og(r){var s=r.stateNode;s.pendingContext?Vm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Vm(r,s.context,!1),ld(r,s.containerInfo)}function Lg(r,s,a,h,f){return Ao(),td(f),s.flags|=256,Jt(r,s,a,h),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Ad(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vg(r,s,a){var h=s.pendingProps,f=at.current,g=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ze(at,f&1),r===null)return ed(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=rc(w,h,0,null),r=ks(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Ad(a),s.memoizedState=Cd,r):kd(s,w));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return PE(r,s,w,h,P,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,P=f.sibling;var V={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=bi(f,V),h.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=bi(P,g):(g=ks(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Ad(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Cd,h}return g=r.child,r=g.sibling,h=bi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function kd(r,s){return s=rc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function qu(r,s,a,h){return h!==null&&td(h),ko(s,r.child,null,a),r=kd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function PE(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Td(Error(t(422))),qu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=rc({mode:"visible",children:h.children},f,0,null),g=ks(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&ko(s,r.child,null,w),s.child.memoizedState=Ad(w),s.memoizedState=Cd,g);if(!(s.mode&1))return qu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var P=h.dgst;return h=P,g=Error(t(419)),h=Td(g,h,void 0),qu(r,s,w,h)}if(P=(w&r.childLanes)!==0,ln||P){if(h=Nt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Kr(r,f),nr(h,r,f,-1))}return qd(),h=Td(Error(t(421))),qu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=zE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,In=Ti(f.nextSibling),Tn=s,it=!0,Jn=null,r!==null&&(Dn[bn++]=Hr,Dn[bn++]=Wr,Dn[bn++]=vs,Hr=r.id,Wr=r.overflow,vs=s),s=kd(s,h.children),s.flags|=4096,s)}function Mg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),sd(r.return,s,a)}function Pd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Fg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Jt(r,s,h.children,a),h=at.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Mg(r,a,s);else if(r.tag===19)Mg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ze(at,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Mu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Pd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Mu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Pd(s,!0,a,null,g);break;case"together":Pd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Qr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ss|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=bi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=bi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function xE(r,s,a){switch(s.tag){case 3:Og(s),Ao();break;case 5:Jm(s);break;case 1:an(s.type)&&Au(s);break;case 4:ld(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ze(bu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(at,at.current&1),s.flags|=128,null):a&s.child.childLanes?Vg(r,s,a):(Ze(at,at.current&1),r=Qr(r,s,a),r!==null?r.sibling:null);Ze(at,at.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Fg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(at,at.current),h)break;return null;case 22:case 23:return s.lanes=0,Ng(r,s,a)}return Qr(r,s,a)}var Ug,xd,jg,Bg;Ug=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xd=function(){},jg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Ts(vr.current);var g=null;switch(a){case"input":f=nn(r,f),h=nn(r,h),g=[];break;case"select":f=oe({},f,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":f=fa(r,f),h=fa(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Su)}va(a,h);var w;a=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var P=f[W];for(w in P)P.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var V=h[W];if(P=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&V!==P&&(V!=null||P!=null))if(W==="style")if(P){for(w in P)!P.hasOwnProperty(w)||V&&V.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in V)V.hasOwnProperty(w)&&P[w]!==V[w]&&(a||(a={}),a[w]=V[w])}else a||(g||(g=[]),g.push(W,a)),a=V;else W==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(g=g||[]).push(W,V)):W==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(W,""+V):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(V!=null&&W==="onScroll"&&et("scroll",r),g||P===V||(g=[])):(g=g||[]).push(W,V))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Bg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Za(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function NE(r,s,a){var h=s.pendingProps;switch(Jh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return an(s.type)&&Cu(),qt(s),null;case 3:return h=s.stateNode,No(),tt(on),tt(zt),hd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Nu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Jn!==null&&(Bd(Jn),Jn=null))),xd(r,s),qt(s),null;case 5:ud(s);var f=Ts(Ga.current);if(a=s.type,r!==null&&s.stateNode!=null)jg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return qt(s),null}if(r=Ts(vr.current),Nu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[yr]=s,h[$a]=g,r=(s.mode&1)!==0,a){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<ja.length;f++)et(ja[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":br(h,g),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},et("invalid",h);break;case"textarea":Ks(h,g),et("invalid",h)}va(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var P=g[w];w==="children"?typeof P=="string"?h.textContent!==P&&(g.suppressHydrationWarning!==!0&&Iu(h.textContent,P,r),f=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&Iu(h.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&et("scroll",h)}switch(a){case"input":Ye(h),Ql(h,g,!0);break;case"textarea":Ye(h),pa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Su)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[yr]=s,r[$a]=h,Ug(r,s,!1,!1),s.stateNode=r;e:{switch(w=wa(a,h),a){case"dialog":et("cancel",r),et("close",r),f=h;break;case"iframe":case"object":case"embed":et("load",r),f=h;break;case"video":case"audio":for(f=0;f<ja.length;f++)et(ja[f],r);f=h;break;case"source":et("error",r),f=h;break;case"img":case"image":case"link":et("error",r),et("load",r),f=h;break;case"details":et("toggle",r),f=h;break;case"input":br(r,h),f=nn(r,h),et("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=oe({},h,{value:void 0}),et("invalid",r);break;case"textarea":Ks(r,h),f=fa(r,h),et("invalid",r);break;default:f=h}va(a,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var V=P[g];g==="style"?_a(r,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ma(r,V)):g==="children"?typeof V=="string"?(a!=="textarea"||V!=="")&&hi(r,V):typeof V=="number"&&hi(r,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&et("scroll",r):V!=null&&G(r,g,V,w))}switch(a){case"input":Ye(r),Ql(r,h,!1);break;case"textarea":Ye(r),pa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ne(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Lr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Lr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Su)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return qt(s),null;case 6:if(r&&s.stateNode!=null)Bg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ts(Ga.current),Ts(vr.current),Nu(s)){if(h=s.stateNode,a=s.memoizedProps,h[yr]=s,(g=h.nodeValue!==a)&&(r=Tn,r!==null))switch(r.tag){case 3:Iu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Iu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return qt(s),null;case 13:if(tt(at),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&In!==null&&s.mode&1&&!(s.flags&128))qm(),Ao(),s.flags|=98560,g=!1;else if(g=Nu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[yr]=s}else Ao(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;qt(s),g=!1}else Jn!==null&&(Bd(Jn),Jn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||at.current&1?Ct===0&&(Ct=3):qd())),s.updateQueue!==null&&(s.flags|=4),qt(s),null);case 4:return No(),xd(r,s),r===null&&Ba(s.stateNode.containerInfo),qt(s),null;case 10:return id(s.type._context),qt(s),null;case 17:return an(s.type)&&Cu(),qt(s),null;case 19:if(tt(at),g=s.memoizedState,g===null)return qt(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Za(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Mu(r),w!==null){for(s.flags|=128,Za(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ze(at,at.current&1|2),s.child}r=r.sibling}g.tail!==null&&Je()>Lo&&(s.flags|=128,h=!0,Za(g,!1),s.lanes=4194304)}else{if(!h)if(r=Mu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!it)return qt(s),null}else 2*Je()-g.renderingStartTime>Lo&&a!==1073741824&&(s.flags|=128,h=!0,Za(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,a=at.current,Ze(at,h?a&1|2:a&1),s):(qt(s),null);case 22:case 23:return $d(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Sn&1073741824&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function DE(r,s){switch(Jh(s),s.tag){case 1:return an(s.type)&&Cu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return No(),tt(on),tt(zt),hd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ud(s),null;case 13:if(tt(at),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(at),null;case 4:return No(),null;case 10:return id(s.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var Wu=!1,Ht=!1,bE=typeof WeakSet=="function"?WeakSet:Set,de=null;function bo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ct(r,s,h)}else a.current=null}function Nd(r,s,a){try{a()}catch(h){ct(r,s,h)}}var zg=!1;function OE(r,s){if($h=vi,r=wm(),Lh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,P=-1,V=-1,W=0,ee=0,te=r,Z=null;t:for(;;){for(var ue;te!==a||f!==0&&te.nodeType!==3||(P=w+f),te!==g||h!==0&&te.nodeType!==3||(V=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===r)break t;if(Z===a&&++W===f&&(P=w),Z===g&&++ee===h&&(V=w),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}a=P===-1||V===-1?null:{start:P,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(qh={focusedElem:r,selectionRange:a},vi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,mt=pe.memoizedState,q=s.stateNode,M=q.getSnapshotBeforeUpdate(s.elementType===s.type?me:Zn(s.type,me),mt);q.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ct(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=zg,zg=!1,pe}function el(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Nd(s,a,g)}f=f.next}while(f!==h)}}function Ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Dd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function $g(r){var s=r.alternate;s!==null&&(r.alternate=null,$g(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[yr],delete s[$a],delete s[Gh],delete s[gE],delete s[_E])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function qg(r){return r.tag===5||r.tag===3||r.tag===4}function Hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Su));else if(h!==4&&(r=r.child,r!==null))for(bd(r,s,a),r=r.sibling;r!==null;)bd(r,s,a),r=r.sibling}function Od(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Od(r,s,a),r=r.sibling;r!==null;)Od(r,s,a),r=r.sibling}var Vt=null,er=!1;function ki(r,s,a){for(a=a.child;a!==null;)Wg(r,s,a),a=a.sibling}function Wg(r,s,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(cs,a)}catch{}switch(a.tag){case 5:Ht||bo(a,s);case 6:var h=Vt,f=er;Vt=null,ki(r,s,a),Vt=h,er=f,Vt!==null&&(er?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(er?(r=Vt,a=a.stateNode,r.nodeType===8?Kh(r.parentNode,a):r.nodeType===1&&Kh(r,a),Qn(r)):Kh(Vt,a.stateNode));break;case 4:h=Vt,f=er,Vt=a.stateNode.containerInfo,er=!0,ki(r,s,a),Vt=h,er=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Nd(a,s,w),f=f.next}while(f!==h)}ki(r,s,a);break;case 1:if(!Ht&&(bo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(P){ct(a,s,P)}ki(r,s,a);break;case 21:ki(r,s,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,ki(r,s,a),Ht=h):ki(r,s,a);break;default:ki(r,s,a)}}function Kg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new bE),s.forEach(function(h){var f=$E.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function tr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:Vt=P.stateNode,er=!1;break e;case 3:Vt=P.stateNode.containerInfo,er=!0;break e;case 4:Vt=P.stateNode.containerInfo,er=!0;break e}P=P.return}if(Vt===null)throw Error(t(160));Wg(g,w,f),Vt=null,er=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(W){ct(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gg(s,r),s=s.sibling}function Gg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tr(s,r),Er(r),h&4){try{el(3,r,r.return),Ku(3,r)}catch(me){ct(r,r.return,me)}try{el(5,r,r.return)}catch(me){ct(r,r.return,me)}}break;case 1:tr(s,r),Er(r),h&512&&a!==null&&bo(a,a.return);break;case 5:if(tr(s,r),Er(r),h&512&&a!==null&&bo(a,a.return),r.flags&32){var f=r.stateNode;try{hi(f,"")}catch(me){ct(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,P=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&es(f,g),wa(P,w);var W=wa(P,g);for(w=0;w<V.length;w+=2){var ee=V[w],te=V[w+1];ee==="style"?_a(f,te):ee==="dangerouslySetInnerHTML"?ma(f,te):ee==="children"?hi(f,te):G(f,ee,te,W)}switch(P){case"input":ts(f,g);break;case"textarea":Gs(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Lr(f,!!g.multiple,ue,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Lr(f,!!g.multiple,g.defaultValue,!0):Lr(f,!!g.multiple,g.multiple?[]:"",!1))}f[$a]=g}catch(me){ct(r,r.return,me)}}break;case 6:if(tr(s,r),Er(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){ct(r,r.return,me)}}break;case 3:if(tr(s,r),Er(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Qn(s.containerInfo)}catch(me){ct(r,r.return,me)}break;case 4:tr(s,r),Er(r);break;case 13:tr(s,r),Er(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Md=Je())),h&4&&Kg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(W=Ht)||ee,tr(s,r),Ht=W):tr(s,r),Er(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&r.mode&1)for(de=r,ee=r.child;ee!==null;){for(te=de=ee;de!==null;){switch(Z=de,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:el(4,Z,Z.return);break;case 1:bo(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ct(h,a,me)}}break;case 5:bo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Yg(te);continue}}ue!==null?(ue.return=Z,de=ue):Yg(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=te.stateNode,V=te.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=ga("display",w))}catch(me){ct(r,r.return,me)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(me){ct(r,r.return,me)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:tr(s,r),Er(r),h&4&&Kg(r);break;case 21:break;default:tr(s,r),Er(r)}}function Er(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(qg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(hi(f,""),h.flags&=-33);var g=Hg(r);Od(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,P=Hg(r);bd(r,P,w);break;default:throw Error(t(161))}}catch(V){ct(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function LE(r,s,a){de=r,Qg(r)}function Qg(r,s,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Wu;if(!w){var P=f.alternate,V=P!==null&&P.memoizedState!==null||Ht;P=Wu;var W=Ht;if(Wu=w,(Ht=V)&&!W)for(de=f;de!==null;)w=de,V=w.child,w.tag===22&&w.memoizedState!==null?Jg(f):V!==null?(V.return=w,de=V):Jg(f);for(;g!==null;)de=g,Qg(g),g=g.sibling;de=f,Wu=P,Ht=W}Xg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,de=g):Xg(r)}}function Xg(r){for(;de!==null;){var s=de;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ht||Ku(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Zn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Ym(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Ym(s,w,a)}break;case 5:var P=s.stateNode;if(a===null&&s.flags&4){a=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&a.focus();break;case"img":V.src&&(a.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Qn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Dd(s)}catch(Z){ct(s,s.return,Z)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function Yg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function Jg(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ku(4,s)}catch(V){ct(s,a,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(V){ct(s,f,V)}}var g=s.return;try{Dd(s)}catch(V){ct(s,g,V)}break;case 5:var w=s.return;try{Dd(s)}catch(V){ct(s,w,V)}}}catch(V){ct(s,s.return,V)}if(s===r){de=null;break}var P=s.sibling;if(P!==null){P.return=s.return,de=P;break}de=s.return}}var VE=Math.ceil,Gu=J.ReactCurrentDispatcher,Ld=J.ReactCurrentOwner,Vn=J.ReactCurrentBatchConfig,$e=0,Nt=null,yt=null,Mt=0,Sn=0,Oo=Ii(0),Ct=0,tl=null,Ss=0,Qu=0,Vd=0,nl=null,un=null,Md=0,Lo=1/0,Xr=null,Xu=!1,Fd=null,Pi=null,Yu=!1,xi=null,Ju=0,rl=0,Ud=null,Zu=-1,ec=0;function Zt(){return $e&6?Je():Zu!==-1?Zu:Zu=Je()}function Ni(r){return r.mode&1?$e&2&&Mt!==0?Mt&-Mt:vE.transition!==null?(ec===0&&(ec=ds()),ec):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Na(r.type)),r):1}function nr(r,s,a,h){if(50<rl)throw rl=0,Ud=null,Error(t(185));mi(r,a,h),(!($e&2)||r!==Nt)&&(r===Nt&&(!($e&2)&&(Qu|=a),Ct===4&&Di(r,Mt)),cn(r,h),a===1&&$e===0&&!(s.mode&1)&&(Lo=Je()+500,ku&&Ri()))}function cn(r,s){var a=r.callbackNode;Fr(r,s);var h=hs(r,r===Nt?Mt:0);if(h===0)a!==null&&Ca(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Ca(a),s===1)r.tag===0?yE(e_.bind(null,r)):Um(e_.bind(null,r)),pE(function(){!($e&6)&&Ri()}),a=null;else{switch(_i(h)){case 1:a=us;break;case 4:a=di;break;case 16:a=Pn;break;case 536870912:a=eu;break;default:a=Pn}a=l_(a,Zg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Zg(r,s){if(Zu=-1,ec=0,$e&6)throw Error(t(327));var a=r.callbackNode;if(Vo()&&r.callbackNode!==a)return null;var h=hs(r,r===Nt?Mt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=tc(r,h);else{s=h;var f=$e;$e|=2;var g=n_();(Nt!==r||Mt!==s)&&(Xr=null,Lo=Je()+500,Cs(r,s));do try{UE();break}catch(P){t_(r,P)}while(!0);rd(),Gu.current=g,$e=f,yt!==null?s=0:(Nt=null,Mt=0,s=Ct)}if(s!==0){if(s===2&&(f=vn(r),f!==0&&(h=f,s=jd(r,f))),s===1)throw a=tl,Cs(r,0),Di(r,h),cn(r,Je()),a;if(s===6)Di(r,h);else{if(f=r.current.alternate,!(h&30)&&!ME(f)&&(s=tc(r,h),s===2&&(g=vn(r),g!==0&&(h=g,s=jd(r,g))),s===1))throw a=tl,Cs(r,0),Di(r,h),cn(r,Je()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:As(r,un,Xr);break;case 3:if(Di(r,h),(h&130023424)===h&&(s=Md+500-Je(),10<s)){if(hs(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Zt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Wh(As.bind(null,r,un,Xr),s);break}As(r,un,Xr);break;case 4:if(Di(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Xt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*VE(h/1960))-h,10<h){r.timeoutHandle=Wh(As.bind(null,r,un,Xr),h);break}As(r,un,Xr);break;case 5:As(r,un,Xr);break;default:throw Error(t(329))}}}return cn(r,Je()),r.callbackNode===a?Zg.bind(null,r):null}function jd(r,s){var a=nl;return r.current.memoizedState.isDehydrated&&(Cs(r,s).flags|=256),r=tc(r,s),r!==2&&(s=un,un=a,s!==null&&Bd(s)),r}function Bd(r){un===null?un=r:un.push.apply(un,r)}function ME(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Yn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(r,s){for(s&=~Vd,s&=~Qu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Xt(s),h=1<<a;r[a]=-1,s&=~h}}function e_(r){if($e&6)throw Error(t(327));Vo();var s=hs(r,0);if(!(s&1))return cn(r,Je()),null;var a=tc(r,s);if(r.tag!==0&&a===2){var h=vn(r);h!==0&&(s=h,a=jd(r,h))}if(a===1)throw a=tl,Cs(r,0),Di(r,s),cn(r,Je()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,As(r,un,Xr),cn(r,Je()),null}function zd(r,s){var a=$e;$e|=1;try{return r(s)}finally{$e=a,$e===0&&(Lo=Je()+500,ku&&Ri())}}function Rs(r){xi!==null&&xi.tag===0&&!($e&6)&&Vo();var s=$e;$e|=1;var a=Vn.transition,h=Fe;try{if(Vn.transition=null,Fe=1,r)return r()}finally{Fe=h,Vn.transition=a,$e=s,!($e&6)&&Ri()}}function $d(){Sn=Oo.current,tt(Oo)}function Cs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,fE(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(Jh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cu();break;case 3:No(),tt(on),tt(zt),hd();break;case 5:ud(h);break;case 4:No();break;case 13:tt(at);break;case 19:tt(at);break;case 10:id(h.type._context);break;case 22:case 23:$d()}a=a.return}if(Nt=r,yt=r=bi(r.current,null),Mt=Sn=s,Ct=0,tl=null,Vd=Qu=Ss=0,un=nl=null,Es!==null){for(s=0;s<Es.length;s++)if(a=Es[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}Es=null}return r}function t_(r,s){do{var a=yt;try{if(rd(),Fu.current=zu,Uu){for(var h=lt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Uu=!1}if(Is=0,xt=Rt=lt=null,Qa=!1,Xa=0,Ld.current=null,a===null||a.return===null){Ct=1,tl=s,yt=null;break}e:{var g=r,w=a.return,P=a,V=s;if(s=Mt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,ee=P,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Cg(w);if(ue!==null){ue.flags&=-257,Ag(ue,w,P,g,s),ue.mode&1&&Rg(g,W,s),s=ue,V=W;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(V),s.updateQueue=me}else pe.add(V);break e}else{if(!(s&1)){Rg(g,W,s),qd();break e}V=Error(t(426))}}else if(it&&P.mode&1){var mt=Cg(w);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Ag(mt,w,P,g,s),td(Do(V,P));break e}}g=V=Do(V,P),Ct!==4&&(Ct=2),nl===null?nl=[g]:nl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=Ig(g,V,s);Xm(g,q);break e;case 1:P=V;var M=g.type,H=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Pi===null||!Pi.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Sg(g,P,s);Xm(g,re);break e}}g=g.return}while(g!==null)}i_(a)}catch(ge){s=ge,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function n_(){var r=Gu.current;return Gu.current=zu,r===null?zu:r}function qd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(Ss&268435455)&&!(Qu&268435455)||Di(Nt,Mt)}function tc(r,s){var a=$e;$e|=2;var h=n_();(Nt!==r||Mt!==s)&&(Xr=null,Cs(r,s));do try{FE();break}catch(f){t_(r,f)}while(!0);if(rd(),$e=a,Gu.current=h,yt!==null)throw Error(t(261));return Nt=null,Mt=0,Ct}function FE(){for(;yt!==null;)r_(yt)}function UE(){for(;yt!==null&&!Jl();)r_(yt)}function r_(r){var s=a_(r.alternate,r,Sn);r.memoizedProps=r.pendingProps,s===null?i_(r):yt=s,Ld.current=null}function i_(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=DE(a,s),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,yt=null;return}}else if(a=NE(a,s,Sn),a!==null){yt=a;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=r}while(s!==null);Ct===0&&(Ct=5)}function As(r,s,a){var h=Fe,f=Vn.transition;try{Vn.transition=null,Fe=1,jE(r,s,a,h)}finally{Vn.transition=f,Fe=h}return null}function jE(r,s,a,h){do Vo();while(xi!==null);if($e&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Qe(r,g),r===Nt&&(yt=Nt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Yu||(Yu=!0,l_(Pn,function(){return Vo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Vn.transition,Vn.transition=null;var w=Fe;Fe=1;var P=$e;$e|=4,Ld.current=null,OE(r,a),Gg(a,r),oE(qh),vi=!!$h,qh=$h=null,r.current=a,LE(a),Ah(),$e=P,Fe=w,Vn.transition=g}else r.current=a;if(Yu&&(Yu=!1,xi=r,Ju=f),g=r.pendingLanes,g===0&&(Pi=null),tu(a.stateNode),cn(r,Je()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Xu)throw Xu=!1,r=Fd,Fd=null,r;return Ju&1&&r.tag!==0&&Vo(),g=r.pendingLanes,g&1?r===Ud?rl++:(rl=0,Ud=r):rl=0,Ri(),null}function Vo(){if(xi!==null){var r=_i(Ju),s=Vn.transition,a=Fe;try{if(Vn.transition=null,Fe=16>r?16:r,xi===null)var h=!1;else{if(r=xi,xi=null,Ju=0,$e&6)throw Error(t(331));var f=$e;for($e|=4,de=r.current;de!==null;){var g=de,w=g.child;if(de.flags&16){var P=g.deletions;if(P!==null){for(var V=0;V<P.length;V++){var W=P[V];for(de=W;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:el(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,de=te;else for(;de!==null;){ee=de;var Z=ee.sibling,ue=ee.return;if($g(ee),ee===W){de=null;break}if(Z!==null){Z.return=ue,de=Z;break}de=ue}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}de=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,de=w;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:el(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,de=q;break e}de=g.return}}var M=r.current;for(de=M;de!==null;){w=de;var H=w.child;if(w.subtreeFlags&2064&&H!==null)H.return=w,de=H;else e:for(w=M;de!==null;){if(P=de,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Ku(9,P)}}catch(ge){ct(P,P.return,ge)}if(P===w){de=null;break e}var re=P.sibling;if(re!==null){re.return=P.return,de=re;break e}de=P.return}}if($e=f,Ri(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(cs,r)}catch{}h=!0}return h}finally{Fe=a,Vn.transition=s}}return!1}function s_(r,s,a){s=Do(a,s),s=Ig(r,s,1),r=Ai(r,s,1),s=Zt(),r!==null&&(mi(r,1,s),cn(r,s))}function ct(r,s,a){if(r.tag===3)s_(r,r,a);else for(;s!==null;){if(s.tag===3){s_(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pi===null||!Pi.has(h))){r=Do(a,r),r=Sg(s,r,1),s=Ai(s,r,1),r=Zt(),s!==null&&(mi(s,1,r),cn(s,r));break}}s=s.return}}function BE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Mt&a)===a&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>Je()-Md?Cs(r,0):Vd|=a),cn(r,s)}function o_(r,s){s===0&&(r.mode&1?(s=io,io<<=1,!(io&130023424)&&(io=4194304)):s=1);var a=Zt();r=Kr(r,s),r!==null&&(mi(r,s,a),cn(r,a))}function zE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),o_(r,a)}function $E(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),o_(r,a)}var a_;a_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return ln=!1,xE(r,s,a);ln=!!(r.flags&131072)}else ln=!1,it&&s.flags&1048576&&jm(s,xu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Hu(r,s),r=s.pendingProps;var f=So(s,zt.current);xo(s,a),f=pd(null,s,h,r,f,a);var g=md();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(h)?(g=!0,Au(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ad(s),f.updater=$u,s.stateNode=f,f._reactInternals=s,Ed(s,h,r,a),s=Rd(null,s,h,!0,g,a)):(s.tag=0,it&&g&&Yh(s),Jt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Hu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=HE(h),r=Zn(h,r),f){case 0:s=Sd(null,s,h,r,a);break e;case 1:s=bg(null,s,h,r,a);break e;case 11:s=kg(null,s,h,r,a);break e;case 14:s=Pg(null,s,h,Zn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),Sd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),bg(r,s,h,f,a);case 3:e:{if(Og(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Qm(r,s),Vu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Do(Error(t(423)),s),s=Lg(r,s,h,a,f);break e}else if(h!==f){f=Do(Error(t(424)),s),s=Lg(r,s,h,a,f);break e}else for(In=Ti(s.stateNode.containerInfo.firstChild),Tn=s,it=!0,Jn=null,a=Km(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ao(),h===f){s=Qr(r,s,a);break e}Jt(r,s,h,a)}s=s.child}return s;case 5:return Jm(s),r===null&&ed(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Hh(h,f)?w=null:g!==null&&Hh(h,g)&&(s.flags|=32),Dg(r,s),Jt(r,s,w,a),s.child;case 6:return r===null&&ed(s),null;case 13:return Vg(r,s,a);case 4:return ld(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ko(s,null,h,a):Jt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),kg(r,s,h,f,a);case 7:return Jt(r,s,s.pendingProps,a),s.child;case 8:return Jt(r,s,s.pendingProps.children,a),s.child;case 12:return Jt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ze(bu,h._currentValue),h._currentValue=w,g!==null)if(Yn(g.value,w)){if(g.children===f.children&&!on.current){s=Qr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){w=g.child;for(var V=P.firstContext;V!==null;){if(V.context===h){if(g.tag===1){V=Gr(-1,a&-a),V.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?V.next=V:(V.next=ee.next,ee.next=V),W.pending=V}}g.lanes|=a,V=g.alternate,V!==null&&(V.lanes|=a),sd(g.return,a,s),P.lanes|=a;break}V=V.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,P=w.alternate,P!==null&&(P.lanes|=a),sd(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Jt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,xo(s,a),f=On(f),h=h(f),s.flags|=1,Jt(r,s,h,a),s.child;case 14:return h=s.type,f=Zn(h,s.pendingProps),f=Zn(h.type,f),Pg(r,s,h,f,a);case 15:return xg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),Hu(r,s),s.tag=1,an(h)?(r=!0,Au(s)):r=!1,xo(s,a),Eg(s,h,f),Ed(s,h,f,a),Rd(null,s,h,!0,r,a);case 19:return Fg(r,s,a);case 22:return Ng(r,s,a)}throw Error(t(156,s.tag))};function l_(r,s){return no(r,s)}function qE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,s,a,h){return new qE(r,s,a,h)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function HE(r){if(typeof r=="function")return Hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Ge)return 14}return 2}function bi(r,s){var a=r.alternate;return a===null?(a=Mn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function nc(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")Hd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return ks(a.children,f,g,s);case R:w=8,f|=8;break;case A:return r=Mn(12,a,s,f|2),r.elementType=A,r.lanes=g,r;case k:return r=Mn(13,a,s,f),r.elementType=k,r.lanes=g,r;case De:return r=Mn(19,a,s,f),r.elementType=De,r.lanes=g,r;case Ne:return rc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:w=10;break e;case x:w=9;break e;case L:w=11;break e;case Ge:w=14;break e;case Xe:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Mn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function ks(r,s,a,h){return r=Mn(7,r,h,s),r.lanes=a,r}function rc(r,s,a,h){return r=Mn(22,r,h,s),r.elementType=Ne,r.lanes=a,r.stateNode={isHidden:!1},r}function Wd(r,s,a){return r=Mn(6,r,null,s),r.lanes=a,r}function Kd(r,s,a){return s=Mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function WE(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Gd(r,s,a,h,f,g,w,P,V){return r=new WE(r,s,a,P,V),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Mn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(g),r}function KE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function u_(r){if(!r)return Si;r=r._reactInternals;e:{if(qn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(an(a))return Mm(r,a,s)}return s}function c_(r,s,a,h,f,g,w,P,V){return r=Gd(a,h,!0,r,f,g,w,P,V),r.context=u_(null),a=r.current,h=Zt(),f=Ni(a),g=Gr(h,f),g.callback=s??null,Ai(a,g,f),r.current.lanes=f,mi(r,f,h),cn(r,h),r}function ic(r,s,a,h){var f=s.current,g=Zt(),w=Ni(f);return a=u_(a),s.context===null?s.context=a:s.pendingContext=a,s=Gr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ai(f,s,w),r!==null&&(nr(r,f,w,g),Lu(r,f,w)),w}function sc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function h_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Qd(r,s){h_(r,s),(r=r.alternate)&&h_(r,s)}function GE(){return null}var d_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xd(r){this._internalRoot=r}oc.prototype.render=Xd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ic(r,s,null,null)},oc.prototype.unmount=Xd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Rs(function(){ic(null,r,null,null)}),s[$r]=null}};function oc(r){this._internalRoot=r}oc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ou();r={blockedOn:null,target:r,priority:s};for(var a=0;a<pr.length&&s!==0&&s<pr[a].priority;a++);pr.splice(a,0,r),a===0&&uu(r)}};function Yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function f_(){}function QE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=sc(w);g.call(W)}}var w=c_(s,h,r,0,null,!1,!1,"",f_);return r._reactRootContainer=w,r[$r]=w.current,Ba(r.nodeType===8?r.parentNode:r),Rs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var P=h;h=function(){var W=sc(V);P.call(W)}}var V=Gd(r,0,!1,null,null,!1,!1,"",f_);return r._reactRootContainer=V,r[$r]=V.current,Ba(r.nodeType===8?r.parentNode:r),Rs(function(){ic(s,V,a,h)}),V}function lc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var P=f;f=function(){var V=sc(w);P.call(V)}}ic(s,w,r,f)}else w=QE(a,s,r,f,h);return sc(w)}iu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=fi(s.pendingLanes);a!==0&&(gi(s,a|1),cn(s,Je()),!($e&6)&&(Lo=Je()+500,Ri()))}break;case 13:Rs(function(){var h=Kr(r,1);if(h!==null){var f=Zt();nr(h,r,1,f)}}),Qd(r,1)}},so=function(r){if(r.tag===13){var s=Kr(r,134217728);if(s!==null){var a=Zt();nr(s,r,134217728,a)}Qd(r,134217728)}},su=function(r){if(r.tag===13){var s=Ni(r),a=Kr(r,s);if(a!==null){var h=Zt();nr(a,r,s,h)}Qd(r,s)}},ou=function(){return Fe},au=function(r,s){var a=Fe;try{return Fe=r,s()}finally{Fe=a}},Xs=function(r,s,a){switch(s){case"input":if(ts(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Ru(h);if(!f)throw Error(t(90));_n(h),ts(h,f)}}}break;case"textarea":Gs(r,a);break;case"select":s=a.value,s!=null&&Lr(r,!!a.multiple,s,!1)}},ss=zd,Ta=Rs;var XE={usingClientEntryPoint:!1,Events:[qa,To,Ru,dr,Ea,zd]},il={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ra(r),r===null?null:r.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||GE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{cs=uc.inject(YE),yn=uc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE,hn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(s))throw Error(t(200));return KE(r,s,null,a)},hn.createRoot=function(r,s){if(!Yd(r))throw Error(t(299));var a=!1,h="",f=d_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Gd(r,1,!1,null,null,a,!1,h,f),r[$r]=s.current,Ba(r.nodeType===8?r.parentNode:r),new Xd(s)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ra(s),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return Rs(r)},hn.hydrate=function(r,s,a){if(!ac(s))throw Error(t(200));return lc(null,r,s,!0,a)},hn.hydrateRoot=function(r,s,a){if(!Yd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=d_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=c_(s,null,r,1,a??null,f,!1,g,w),r[$r]=s.current,Ba(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new oc(s)},hn.render=function(r,s,a){if(!ac(s))throw Error(t(200));return lc(null,r,s,!1,a)},hn.unmountComponentAtNode=function(r){if(!ac(r))throw Error(t(40));return r._reactRootContainer?(Rs(function(){lc(null,null,r,!1,function(){r._reactRootContainer=null,r[$r]=null})}),!0):!1},hn.unstable_batchedUpdates=zd,hn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!ac(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return lc(r,s,a,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var E_;function sT(){if(E_)return ef.exports;E_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ef.exports=iT(),ef.exports}var T_;function oT(){if(T_)return cc;T_=1;var n=sT();return cc.createRoot=n.createRoot,cc.hydrateRoot=n.hydrateRoot,cc}var aT=oT(),ol={},I_;function lT(){if(I_)return ol;I_=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=c,ol.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,D){const b=new l,U=T.length;if(U<2)return b;const O=(D==null?void 0:D.decode)||v;let B=0;do{const z=T.indexOf("=",B);if(z===-1)break;const G=T.indexOf(";",B),J=G===-1?U:G;if(z>J){B=T.lastIndexOf(";",z-1)+1;continue}const he=d(T,B,z),ae=p(T,z,he),N=T.slice(he,ae);if(b[N]===void 0){let R=d(T,z+1,J),A=p(T,J,R);const C=O(T.slice(R,A));b[N]=C}B=J+1}while(B<U);return b}function d(T,D,b){do{const U=T.charCodeAt(D);if(U!==32&&U!==9)return D}while(++D<b);return b}function p(T,D,b){for(;D>b;){const U=T.charCodeAt(--D);if(U!==32&&U!==9)return D+1}return b}function _(T,D,b){const U=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const O=U(D);if(!e.test(O))throw new TypeError(`argument val is invalid: ${D}`);let B=T+"="+O;if(!b)return B;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);B+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);B+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);B+="; Path="+b.path}if(b.expires){if(!S(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);B+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(B+="; HttpOnly"),b.secure&&(B+="; Secure"),b.partitioned&&(B+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return B}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return ol}lT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function uT(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Bs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),vf("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");d=_===-1?p:p.slice(0,_)}return d+"#"+(typeof l=="string"?l:Tl(l))}function i(o,l){jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return hT(e,t,i,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function R_(n,e){return{usr:n.state,key:n.key,idx:e}}function vf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:t,key:e&&e.key||i||cT()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,_=v();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function v(){return(c.state||{idx:null}).idx}function S(){d="POP";let O=v(),B=O==null?null:O-_;_=O,p&&p({action:d,location:U.location,delta:B})}function T(O,B){d="PUSH";let z=vf(U.location,O,B);t&&t(z,O),_=v()+1;let G=R_(z,_),J=U.createHref(z);try{c.pushState(G,"",J)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(J)}l&&p&&p({action:d,location:U.location,delta:1})}function D(O,B){d="REPLACE";let z=vf(U.location,O,B);t&&t(z,O),_=v();let G=R_(z,_),J=U.createHref(z);c.replaceState(G,"",J),l&&p&&p({action:d,location:U.location,delta:0})}function b(O){let B=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof O=="string"?O:Tl(O);return z=z.replace(/ $/,"%20"),st(B,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,B)}let U={get action(){return d},get location(){return n(o,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(S_,S),p=O,()=>{o.removeEventListener(S_,S),p=null}},createHref(O){return e(o,O)},createURL:b,encodeLocation(O){let B=b(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:D,go(O){return c.go(O)}};return U}function nv(n,e,t="/"){return dT(n,e,t,!1)}function dT(n,e,t,i){let o=typeof e=="string"?Bs(e):e,l=qi(o.pathname||"/",t);if(l==null)return null;let c=rv(n);fT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=ST(l);d=TT(c[p],_,i)}return d}function rv(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ti([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(st(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),rv(l.children,e,v,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:wT(_,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of iv(l.path))o(l,c,p)}),e}function iv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=iv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function fT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ET(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pT=/^:[\w-]+$/,mT=3,gT=2,_T=1,yT=10,vT=-2,C_=n=>n==="*";function wT(n,e){let t=n.split("/"),i=t.length;return t.some(C_)&&(i+=vT),e&&(i+=gT),t.filter(o=>!C_(o)).reduce((o,l)=>o+(pT.test(l)?mT:l===""?_T:yT),i)}function ET(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function TT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",S=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},v),T=p.route;if(!S&&_&&t&&!i[i.length-1].route.index&&(S=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:ti([l,S.pathname]),pathnameBase:kT(ti([l,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(l=ti([l,S.pathnameBase]))}return c}function Lc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=IT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:v,isOptional:S},T)=>{if(v==="*"){let b=d[T]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const D=d[T];return S&&!D?_[v]=void 0:_[v]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:n}}function IT(n,e=!1,t=!0){jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ST(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function RT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Bs(n):n;return{pathname:t?t.startsWith("/")?t:CT(t,e):e,search:PT(i),hash:xT(o)}}function CT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xf(n){let e=AT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Yf(n,e,t,i=!1){let o;typeof n=="string"?o=Bs(n):(o={...n},st(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}d=S>=0?e[S]:"/"}let p=RT(o,d),_=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||v)&&(p.pathname+="/"),p}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),kT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sv=["POST","PUT","PATCH","DELETE"];new Set(sv);var DT=["GET",...sv];new Set(DT);var na=F.createContext(null);na.displayName="DataRouter";var Zc=F.createContext(null);Zc.displayName="DataRouterState";var ov=F.createContext({isTransitioning:!1});ov.displayName="ViewTransition";var bT=F.createContext(new Map);bT.displayName="Fetchers";var OT=F.createContext(null);OT.displayName="Await";var lr=F.createContext(null);lr.displayName="Navigation";var bl=F.createContext(null);bl.displayName="Location";var ur=F.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Jf=F.createContext(null);Jf.displayName="RouteError";function LT(n,{relative:e}={}){st(ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(lr),{hash:o,pathname:l,search:c}=Ol(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ti([t,l])),i.createHref({pathname:d,search:c,hash:o})}function ra(){return F.useContext(bl)!=null}function cr(){return st(ra(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(bl).location}var av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(n){F.useContext(lr).static||F.useLayoutEffect(n)}function ia(){let{isDataRoute:n}=F.useContext(ur);return n?XT():VT()}function VT(){st(ra(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(na),{basename:e,navigator:t}=F.useContext(lr),{matches:i}=F.useContext(ur),{pathname:o}=cr(),l=JSON.stringify(Xf(i)),c=F.useRef(!1);return lv(()=>{c.current=!0}),F.useCallback((p,_={})=>{if(jn(c.current,av),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Yf(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(_.replace?t.replace:t.push)(v,_.state,_)},[e,t,l,o,n])}var MT=F.createContext(null);function FT(n){let e=F.useContext(ur).outlet;return e&&F.createElement(MT.Provider,{value:n},e)}function Ol(n,{relative:e}={}){let{matches:t}=F.useContext(ur),{pathname:i}=cr(),o=JSON.stringify(Xf(t));return F.useMemo(()=>Yf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function UT(n,e){return uv(n,e)}function uv(n,e,t,i){var B;st(ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(lr),{matches:l}=F.useContext(ur),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",v=c&&c.route;{let z=v&&v.path||"";cv(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=cr(),T;if(e){let z=typeof e=="string"?Bs(e):e;st(_==="/"||((B=z.pathname)==null?void 0:B.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=S;let D=T.pathname||"/",b=D;if(_!=="/"){let z=_.replace(/^\//,"").split("/");b="/"+D.replace(/^\//,"").split("/").slice(z.length).join("/")}let U=nv(n,{pathname:b});jn(v||U!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),jn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=qT(U&&U.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:ti([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ti([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&O?F.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function jT(){let n=QT(),e=NT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var BT=F.createElement(jT,null),zT=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(ur.Provider,{value:this.props.routeContext},F.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $T({routeContext:n,match:e,children:t}){let i=F.useContext(na);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ur.Provider,{value:n},t)}function qT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:S}=t,T=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,v)=>{let S,T=!1,D=null,b=null;t&&(S=l&&_.route.id?l[_.route.id]:void 0,D=_.route.errorElement||BT,c&&(d<0&&v===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):d===v&&(T=!0,b=_.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,v+1)),O=()=>{let B;return S?B=D:T?B=b:_.route.Component?B=F.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=p,F.createElement($T,{match:_,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?F.createElement(zT,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:O(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):O()},null)}function Zf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(n){let e=F.useContext(na);return st(e,Zf(n)),e}function WT(n){let e=F.useContext(Zc);return st(e,Zf(n)),e}function KT(n){let e=F.useContext(ur);return st(e,Zf(n)),e}function ep(n){let e=KT(n),t=e.matches[e.matches.length-1];return st(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GT(){return ep("useRouteId")}function QT(){var i;let n=F.useContext(Jf),e=WT("useRouteError"),t=ep("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XT(){let{router:n}=HT("useNavigate"),e=ep("useNavigate"),t=F.useRef(!1);return lv(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{jn(t.current,av),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var A_={};function cv(n,e,t){!e&&!A_[n]&&(A_[n]=!0,jn(!1,t))}F.memo(YT);function YT({routes:n,future:e,state:t}){return uv(n,void 0,t,e)}function k_({to:n,replace:e,state:t,relative:i}){st(ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(lr);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(ur),{pathname:c}=cr(),d=ia(),p=Yf(n,Xf(l),c,i==="path"),_=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function JT(n){return FT(n.context)}function rr(n){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){st(!ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Bs(t));let{pathname:p="/",search:_="",hash:v="",state:S=null,key:T="default"}=t,D=F.useMemo(()=>{let b=qi(p,c);return b==null?null:{location:{pathname:b,search:_,hash:v,state:S,key:T},navigationType:i}},[c,p,_,v,S,T,i]);return jn(D!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(lr.Provider,{value:d},F.createElement(bl.Provider,{children:e,value:D}))}function eI({children:n,location:e}){return UT(wf(n),e)}function wf(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let l=[...e,o];if(i.type===F.Fragment){t.push.apply(t,wf(i.props.children,l));return}st(i.type===rr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=wf(i.props.children,l)),t.push(c)}),t}var Tc="get",Ic="application/x-www-form-urlencoded";function eh(n){return n!=null&&typeof n.tagName=="string"}function tI(n){return eh(n)&&n.tagName.toLowerCase()==="button"}function nI(n){return eh(n)&&n.tagName.toLowerCase()==="form"}function rI(n){return eh(n)&&n.tagName.toLowerCase()==="input"}function iI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sI(n,e){return n.button===0&&(!e||e==="_self")&&!iI(n)}var hc=null;function oI(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var aI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(n){return n!=null&&!aI.has(n)?(jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function lI(n,e){let t,i,o,l,c;if(nI(n)){let d=n.getAttribute("action");i=d?qi(d,e):null,t=n.getAttribute("method")||Tc,o=sf(n.getAttribute("enctype"))||Ic,l=new FormData(n)}else if(tI(n)||rI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?qi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Tc,o=sf(n.getAttribute("formenctype"))||sf(d.getAttribute("enctype"))||Ic,l=new FormData(d,n),!oI()){let{name:_,type:v,value:S}=n;if(v==="image"){let T=_?`${_}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else _&&l.append(_,S)}}else{if(eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,o=Ic,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function tp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hI(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await uI(l,t);return c.links?c.links():[]}return[]}));return mI(i.flat(1).filter(cI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P_(n,e,t,i,o,l){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var v;return t[_].pathname!==p.pathname||((v=t[_].route.path)==null?void 0:v.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):l==="data"?e.filter((p,_)=>{var S;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dI(n,e){return fI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function fI(n){return[...new Set(n)]}function pI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function mI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(pI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function gI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _I(){let n=F.useContext(na);return tp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yI(){let n=F.useContext(Zc);return tp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var np=F.createContext(void 0);np.displayName="FrameworkContext";function hv(){let n=F.useContext(np);return tp(n,"You must render this element inside a <HydratedRouter> element"),n}function vI(n,e){let t=F.useContext(np),[i,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:v,onTouchStart:S}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=B=>{B.forEach(z=>{c(z.isIntersecting)})},O=new IntersectionObserver(U,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[n]),F.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let D=()=>{o(!0)},b=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:al(d,D),onBlur:al(p,b),onMouseEnter:al(_,D),onMouseLeave:al(v,b),onTouchStart:al(S,D)}]:[!1,T,{}]}function al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wI({page:n,...e}){let{router:t}=_I(),i=F.useMemo(()=>nv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(TI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function EI(n){let{manifest:e,routeModules:t}=hv(),[i,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return hI(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function TI({page:n,matches:e,...t}){let i=cr(),{manifest:o,routeModules:l}=hv(),{loaderData:c,matches:d}=yI(),p=F.useMemo(()=>P_(n,e,d,o,i,"data"),[n,e,d,o,i]),_=F.useMemo(()=>P_(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,b=!1;if(e.forEach(O=>{var z;let B=o.routes[O.route.id];!B||!B.hasLoader||(!p.some(G=>G.route.id===O.route.id)&&O.route.id in c&&((z=l[O.route.id])!=null&&z.shouldRevalidate)||B.hasClientLoader?b=!0:D.add(O.route.id))}),D.size===0)return[];let U=gI(n);return b&&D.size>0&&U.searchParams.set("_routes",e.filter(O=>D.has(O.route.id)).map(O=>O.route.id).join(",")),[U.pathname+U.search]},[c,i,o,p,e,n,l]),S=F.useMemo(()=>dI(_,o),[_,o]),T=EI(_);return F.createElement(F.Fragment,null,v.map(D=>F.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>F.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),T.map(({key:D,link:b})=>F.createElement("link",{key:D,...b})))}function II(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.0.2")}catch{}function SI({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=uT({window:t,v5Compat:!0}));let o=i.current,[l,c]=F.useState({action:o.action,location:o.location}),d=F.useCallback(p=>{F.startTransition(()=>c(p))},[c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(ZT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zo=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:_,preventScrollReset:v,viewTransition:S,...T},D){let{basename:b}=F.useContext(lr),U=typeof _=="string"&&fv.test(_),O,B=!1;if(typeof _=="string"&&U&&(O=_,dv))try{let A=new URL(window.location.href),C=_.startsWith("//")?new URL(A.protocol+_):new URL(_),x=qi(C.pathname,b);C.origin===A.origin&&x!=null?_=x+C.search+C.hash:B=!0}catch{jn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=LT(_,{relative:o}),[G,J,he]=vI(i,T),ae=kI(_,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:S});function N(A){e&&e(A),A.defaultPrevented||ae(A)}let R=F.createElement("a",{...T,...he,href:O||z,onClick:B||l?e:N,ref:II(D,J),target:p,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?F.createElement(F.Fragment,null,R,F.createElement(wI,{page:z})):R});zo.displayName="Link";var RI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,..._},v){let S=Ol(c,{relative:_.relative}),T=cr(),D=F.useContext(Zc),{navigator:b,basename:U}=F.useContext(lr),O=D!=null&&bI(S)&&d===!0,B=b.encodeLocation?b.encodeLocation(S).pathname:S.pathname,z=T.pathname,G=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&U&&(G=qi(G,U)||G);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let he=z===B||!o&&z.startsWith(B)&&z.charAt(J)==="/",ae=G!=null&&(G===B||!o&&G.startsWith(B)&&G.charAt(B.length)==="/"),N={isActive:he,isPending:ae,isTransitioning:O},R=he?e:void 0,A;typeof i=="function"?A=i(N):A=[i,he?"active":null,ae?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(N):l;return F.createElement(zo,{..._,"aria-current":R,className:A,ref:v,style:C,to:c,viewTransition:d},typeof p=="function"?p(N):p)});RI.displayName="NavLink";var CI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=Tc,action:d,onSubmit:p,relative:_,preventScrollReset:v,viewTransition:S,...T},D)=>{let b=NI(),U=DI(d,{relative:_}),O=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&fv.test(d),z=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let J=G.nativeEvent.submitter,he=(J==null?void 0:J.getAttribute("formmethod"))||c;b(J||G.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:l,relative:_,preventScrollReset:v,viewTransition:S})};return F.createElement("form",{ref:D,method:O,action:U,onSubmit:i?p:z,...T,"data-discover":!B&&n==="render"?"true":void 0})});CI.displayName="Form";function AI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pv(n){let e=F.useContext(na);return st(e,AI(n)),e}function kI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=ia(),p=cr(),_=Ol(n,{relative:l});return F.useCallback(v=>{if(sI(v,e)){v.preventDefault();let S=t!==void 0?t:Tl(p)===Tl(_);d(n,{replace:S,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,_,t,i,e,n,o,l,c])}var PI=0,xI=()=>`__${String(++PI)}__`;function NI(){let{router:n}=pv("useSubmit"),{basename:e}=F.useContext(lr),t=GT();return F.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:_}=lI(i,e);if(o.navigate===!1){let v=o.fetcherKey||xI();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function DI(n,{relative:e}={}){let{basename:t}=F.useContext(lr),i=F.useContext(ur);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Ol(n||".",{relative:e})},c=cr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(S=>S).forEach(S=>d.append("index",S));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ti([t,l.pathname])),Tl(l)}function bI(n,e={}){let t=F.useContext(ov);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pv("useViewTransitionState"),o=Ol(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=qi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=qi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lc(o.pathname,c)!=null||Lc(o.pathname,l)!=null}new TextEncoder;const OI="_sidebar_ezj98_1",LI="_profileSection_ezj98_19",VI="_navigation_ezj98_35",MI="_avatar_ezj98_43",FI="_userInfo_ezj98_69",UI="_navList_ezj98_125",jI="_navItem_ezj98_143",BI="_navLink_ezj98_151",zI="_createEventBtn_ezj98_181",$I="_dropdown_ezj98_217",qI="_dropdownItem_ezj98_251",HI="_logoutBtn_ezj98_273",WI="_dashboardContainer_ezj98_315",KI="_mainContent_ezj98_323",GI="_welcomeContainer_ezj98_355",QI="_welcomeTitle_ezj98_375",XI="_welcomeText_ezj98_395",YI="_hamburgerBtn_ezj98_403",JI="_overlay_ezj98_429",ZI="_sidebarOpen_ezj98_469",ke={sidebar:OI,profileSection:LI,navigation:VI,avatar:MI,userInfo:FI,navList:UI,navItem:jI,navLink:BI,createEventBtn:zI,dropdown:$I,dropdownItem:qI,logoutBtn:HI,dashboardContainer:WI,mainContent:KI,welcomeContainer:GI,welcomeTitle:QI,welcomeText:XI,hamburgerBtn:YI,overlay:JI,sidebarOpen:ZI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},p)=>F.createElement("svg",{ref:p,...t1,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:mv("lucide",o),...d},[...c.map(([_,v])=>F.createElement(_,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(n,e)=>{const t=F.forwardRef(({className:i,...o},l)=>F.createElement(n1,{ref:l,iconNode:e,className:mv(`lucide-${e1(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Et("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Et("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Et("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Et("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Et("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Et("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},y1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,v=l>>2,S=(l&3)<<4|d>>4;let T=(d&15)<<2|_>>6,D=_&63;p||(D=64,c||(T=64)),i.push(t[v],t[S],t[T],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):y1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||S==null)throw new v1;const T=l<<2|d>>4;if(i.push(T),_!==64){const D=d<<4&240|_>>2;if(i.push(D),S!==64){const b=_<<6&192|S;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w1=function(n){const e=vv(n);return wv.encodeByteArray(e,!0)},Vc=function(n){return w1(n).replace(/\./g,"")},Ev=function(n){try{return wv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=()=>E1().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof N_>"u")return;const n=N_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},S1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ev(n[1]);return e&&JSON.parse(e)},th=()=>{try{return T1()||I1()||S1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tv=n=>{var e,t;return(t=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Iv=n=>{const e=Tv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Sv=()=>{var n;return(n=th())===null||n===void 0?void 0:n.config},Rv=n=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vc(JSON.stringify(t)),Vc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function A1(){var n;const e=(n=th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function x1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N1(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="FirebaseError";class Dr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=L1,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?V1(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Dr(o,d,i)}}function V1(n,e){return n.replace(M1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const M1=/\{\$([^}]+)}/g;function F1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(D_(l)&&D_(c)){if(!Mc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function D_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function hl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function U1(n,e){const t=new j1(n,e);return t.subscribe.bind(t)}class j1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=of),o.error===void 0&&(o.error=of),o.complete===void 0&&(o.complete=of);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class Hi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new R1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(n){return n===xs?void 0:n}function q1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new z1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const W1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},K1=Ve.INFO,G1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Q1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=G1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const X1=(n,e)=>e.some(t=>n instanceof t);let b_,O_;function Y1(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Ef=new WeakMap,kv=new WeakMap,af=new WeakMap,ip=new WeakMap;function Z1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Bi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Av.set(t,n)}).catch(()=>{}),ip.set(e,n),e}function eS(n){if(Ef.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ef.set(n,e)}let Tf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tS(n){Tf=n(Tf)}function nS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return kv.set(i,e.sort?e.sort():[e]),Bi(i)}:J1().includes(n)?function(...e){return n.apply(lf(this),e),Bi(Av.get(this))}:function(...e){return Bi(n.apply(lf(this),e))}}function rS(n){return typeof n=="function"?nS(n):(n instanceof IDBTransaction&&eS(n),X1(n,Y1())?new Proxy(n,Tf):n)}function Bi(n){if(n instanceof IDBRequest)return Z1(n);if(af.has(n))return af.get(n);const e=rS(n);return e!==n&&(af.set(n,e),ip.set(e,n)),e}const lf=n=>ip.get(n);function iS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Bi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Bi(c.result),p.oldVersion,p.newVersion,Bi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const sS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],uf=new Map;function L_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=oS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||sS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return uf.set(e,l),l}tS(n=>({...n,get:(e,t,i)=>L_(e,t)||n.get(e,t,i),has:(e,t)=>!!L_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function lS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",V_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new rp("@firebase/app"),uS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",dS="@firebase/app-check-compat",fS="@firebase/app-check",pS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",_S="@firebase/data-connect",yS="@firebase/database-compat",vS="@firebase/functions",wS="@firebase/functions-compat",ES="@firebase/installations",TS="@firebase/installations-compat",IS="@firebase/messaging",SS="@firebase/messaging-compat",RS="@firebase/performance",CS="@firebase/performance-compat",AS="@firebase/remote-config",kS="@firebase/remote-config-compat",PS="@firebase/storage",xS="@firebase/storage-compat",NS="@firebase/firestore",DS="@firebase/vertexai",bS="@firebase/firestore-compat",OS="firebase",LS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",VS={[If]:"fire-core",[uS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[fS]:"fire-app-check",[dS]:"fire-app-check-compat",[pS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[_S]:"fire-data-connect",[yS]:"fire-rtdb-compat",[vS]:"fire-fn",[wS]:"fire-fn-compat",[ES]:"fire-iid",[TS]:"fire-iid-compat",[IS]:"fire-fcm",[SS]:"fire-fcm-compat",[RS]:"fire-perf",[CS]:"fire-perf-compat",[AS]:"fire-rc",[kS]:"fire-rc-compat",[PS]:"fire-gcs",[xS]:"fire-gcs-compat",[NS]:"fire-fst",[bS]:"fire-fst-compat",[DS]:"fire-vertex","fire-js":"fire-js",[OS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,MS=new Map,Rf=new Map;function M_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vs(n){const e=n.name;if(Rf.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,n);for(const t of Fc.values())M_(t,n);for(const t of MS.values())M_(t,n);return!0}function nh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Ll("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=LS;function sa(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(t||(t=Sv()),!t)throw zi.create("no-options");const l=Fc.get(o);if(l){if(Mc(t,l.options)&&Mc(i,l.config))return l;throw zi.create("duplicate-app",{appName:o})}const c=new H1(o);for(const p of Rf.values())c.addComponent(p);const d=new US(t,i,c);return Fc.set(o,d),d}function sp(n=Sf){const e=Fc.get(n);if(!e&&n===Sf&&Sv())return sa();if(!e)throw zi.create("no-app",{appName:n});return e}function Ar(n,e,t){var i;let o=(i=VS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}Vs(new Hi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebase-heartbeat-database",BS=1,Il="firebase-heartbeat-store";let cf=null;function Pv(){return cf||(cf=iS(jS,BS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),cf}async function zS(n){try{const t=(await Pv()).transaction(Il),i=await t.objectStore(Il).get(xv(n));return await t.done,i}catch(e){if(e instanceof Dr)ii.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function F_(n,e){try{const i=(await Pv()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,xv(n)),await i.done}catch(t){if(t instanceof Dr)ii.warn(t.message);else{const i=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(i.message)}}}function xv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=1024,qS=30*24*60*60*1e3;class HS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=U_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=qS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U_(),{heartbeatsToSend:i,unsentEntries:o}=WS(this._heartbeatsCache.heartbeats),l=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ii.warn(t),""}}}function U_(){return new Date().toISOString().substring(0,10)}function WS(n,e=$S){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),j_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class KS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j_(n){return Vc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){Vs(new Hi("platform-logger",e=>new aS(e),"PRIVATE")),Vs(new Hi("heartbeat",e=>new HS(e),"PRIVATE")),Ar(If,V_,n),Ar(If,V_,"esm2017"),Ar("fire-js","")}GS("");var QS="firebase",XS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(QS,XS,"app");function op(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=Nv,Dv=new Ll("auth","Firebase",Nv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new rp("@firebase/auth");function JS(n,...e){Uc.logLevel<=Ve.WARN&&Uc.warn(`Auth (${zs}): ${n}`,...e)}function Sc(n,...e){Uc.logLevel<=Ve.ERROR&&Uc.error(`Auth (${zs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n,...e){throw lp(n,...e)}function sr(n,...e){return lp(n,...e)}function ap(n,e,t){const i=Object.assign(Object.assign({},YS()),{[e]:t});return new Ll("auth","Firebase",i).create(e,{appName:n.name})}function ni(n){return ap(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZS(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Bn(n,"argument-error"),ap(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Dv.create(n,...e)}function Te(n,e,...t){if(!n)throw lp(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sc(e),new Error(e)}function si(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eR(){return B_()==="http:"||B_()==="https:"}function B_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||P1()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=C1()||x1()}get(){return tR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Ml(3e4,6e4);function ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ci(n,e,t,i,o={}){return Ov(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Vl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return k1()||(_.referrerPolicy="no-referrer"),bv.fetch()(Lv(n,n.config.apiHost,t,d),_)})}async function Ov(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},rR),e);try{const o=new oR(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw fc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw fc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ap(n,v,_);Bn(n,v)}}catch(o){if(o instanceof Dr)throw o;Bn(n,"network-request-failed",{message:String(o)})}}async function Fl(n,e,t,i,o={}){const l=await ci(n,e,t,i,o);return"mfaPendingCredential"in l&&Bn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Lv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?up(n.config,o):`${n.config.apiScheme}://${o}`}function sR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(sr(this.auth,"network-request-failed")),iR.get())})}}function fc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=sr(n,e,i);return o.customData._tokenResponse=t,o}function z_(n){return n!==void 0&&n.enterprise!==void 0}class aR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lR(n,e){return ci(n,"GET","/v2/recaptchaConfig",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function Vv(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cR(n,e=!1){const t=ot(n),i=await t.getIdToken(e),o=cp(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:gl(hf(o.auth_time)),issuedAtTime:gl(hf(o.iat)),expirationTime:gl(hf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hf(n){return Number(n)*1e3}function cp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ev(t);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(n){const e=cp(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Dr&&hR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Sl(n,Vv(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Mv(l.providerUserInfo):[],d=pR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Af(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function fR(n){const e=ot(n);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Mv(n){return n.map(e=>{var{providerId:t}=e,i=op(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e){const t=await Ov(n,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=Lv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",bv.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gR(n,e){return ci(n,"POST","/v2/accounts:revokeToken",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=$_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await mR(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new qo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Af(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cR(this,e)}reload(){return fR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Sl(this,uR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,_,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(_=t.createdAt)!==null&&_!==void 0?_:void 0,z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:J,isAnonymous:he,providerData:ae,stsTokenManager:N}=t;Te(G&&N,e,"internal-error");const R=qo.fromJSON(this.name,N);Te(typeof G=="string",e,"internal-error"),Li(S,e.name),Li(T,e.name),Te(typeof J=="boolean",e,"internal-error"),Te(typeof he=="boolean",e,"internal-error"),Li(D,e.name),Li(b,e.name),Li(U,e.name),Li(O,e.name),Li(B,e.name),Li(z,e.name);const A=new Zr({uid:G,auth:e,email:T,emailVerified:J,displayName:S,isAnonymous:he,photoURL:b,phoneNumber:D,tenantId:U,stsTokenManager:R,createdAt:B,lastLoginAt:z});return ae&&Array.isArray(ae)&&(A.providerData=ae.map(C=>Object.assign({},C))),O&&(A._redirectEventId=O),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new qo;o.updateFromServerResponse(t);const l=new Zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await jc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Mv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new qo;d.updateFromIdToken(i);const p=new Zr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Af(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function ei(n){si(n instanceof Function,"Expected a class definition");let e=q_.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,q_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fv.type="NONE";const H_=Fv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Rc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Rc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(ei(H_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||ei(H_);const c=Rc(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const v=await _._get(c);if(v){const S=Zr._fromJSON(e,v);_!==l&&(d=S),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ho(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new Ho(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qv(e))return"Blackberry";if(Hv(e))return"Webos";if(jv(e))return"Safari";if((e.includes("chrome/")||Bv(e))&&!e.includes("edge/"))return"Chrome";if($v(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Uv(n=Qt()){return/firefox\//i.test(n)}function jv(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bv(n=Qt()){return/crios\//i.test(n)}function zv(n=Qt()){return/iemobile/i.test(n)}function $v(n=Qt()){return/android/i.test(n)}function qv(n=Qt()){return/blackberry/i.test(n)}function Hv(n=Qt()){return/webos/i.test(n)}function hp(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _R(n=Qt()){var e;return hp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yR(){return N1()&&document.documentMode===10}function Wv(n=Qt()){return hp(n)||$v(n)||Hv(n)||qv(n)||/windows phone/i.test(n)||zv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n,e=[]){let t;switch(n){case"Browser":t=W_(Qt());break;case"Worker":t=`${W_(Qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e={}){return ci(n,"GET","/v2/passwordPolicy",ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=6;class TR{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:ER,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new vR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vv(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(ni(this));const t=e?ot(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wR(this),t=new TR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await gR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&JS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yi(n){return ot(n)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(n){rh=n}function Gv(n){return rh.loadJS(n)}function RR(){return rh.recaptchaEnterpriseScript}function CR(){return rh.gapiScript}function AR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new PR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xR="recaptcha-enterprise",Qv="NO_RECAPTCHA";class NR{constructor(e){this.type=xR,this.auth=Yi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{lR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new aR(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;z_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{c(_)}).catch(()=>{c(Qv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&z_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=RR();p.length!==0&&(p+=d),Gv(p).then(()=>{o(d,l,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function G_(n,e,t,i=!1,o=!1){const l=new NR(n);let c;if(o)c=Qv;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function kf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n,e){const t=nh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Mc(l,e??{}))return o;Bn(o,"already-initialized")}return t.initialize({options:e})}function bR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OR(n,e,t){const i=Yi(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Xv(e),{host:c,port:d}=LR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),VR()}function Xv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LR(n){const e=Xv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Q_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Q_(c)}}}function Q_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function MR(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e){return Fl(n,"POST","/v1/accounts:signInWithPassword",ui(n,e))}async function UR(n,e){return ci(n,"POST","/v1/accounts:sendOobCode",ui(n,e))}async function jR(n,e){return UR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e){return Fl(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}async function zR(n,e){return Fl(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends dp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kf(e,t,"signInWithPassword",FR);case"emailLink":return BR(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kf(e,i,"signUpPassword",MR);case"emailLink":return zR(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n,e){return Fl(n,"POST","/v1/accounts:signInWithIdp",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="http://localhost";class Ms extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=op(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ms(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:$R,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HR(n){const e=cl(hl(n)).link,t=e?cl(hl(e)).deep_link_id:null,i=cl(hl(n)).deep_link_id;return(i?cl(hl(i)).link:null)||i||t||e||n}class fp{constructor(e){var t,i,o,l,c,d;const p=cl(hl(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,S=qR((o=p.mode)!==null&&o!==void 0?o:null);Te(_&&v&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=HR(e);try{return new fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return Rl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fp.parseLink(t);return Te(i,"argument-error"),Rl._fromEmailAndCode(e,i.code,i.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ul{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ms._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Yr.credential(t,i)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ul{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ul{constructor(){super("twitter.com")}static credential(e,t){return Ms._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Fi.credential(t,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){return Fl(n,"POST","/v1/accounts:signUp",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Zr._fromIdTokenResponse(e,i,o),c=X_(i);return new Fs({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=X_(i);return new Fs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function X_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Dr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Bc(e,t,i,o)}}function Yv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(n,l,e,i):l})}async function KR(n,e,t=!1){const i=await Sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e,t=!1){const{auth:i}=n;if(ir(i.app))return Promise.reject(ni(i));const o="reauthenticate";try{const l=await Sl(n,Yv(i,o,e,n),t);Te(l.idToken,i,"internal-error");const c=cp(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),Fs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Bn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(n,e,t=!1){if(ir(n.app))return Promise.reject(ni(n));const i="signIn",o=await Yv(n,i,e),l=await Fs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function QR(n,e){return Jv(Yi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(n){const e=Yi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ew(n,e,t){if(ir(n.app))return Promise.reject(ni(n));const i=Yi(n),c=await kf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Zv(n),p}),d=await Fs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function pc(n,e,t){return ir(n.app)?Promise.reject(ni(n)):QR(ot(n),oa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Zv(n),i})}async function tw(n,e){const t=ot(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await jR(t.auth,o);l!==n.email&&await n.reload()}function XR(n,e,t,i){return ot(n).onIdTokenChanged(e,t,i)}function YR(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function Pf(n){return ot(n).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1e3,ZR=10;class rw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);yR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},JR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const eC=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const sw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,l)),p=await tC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=mp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===_)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function rC(n){kr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function iC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oC(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",aC=1,$c="firebaseLocalStorage",lw="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sh(n,e){return n.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function lC(){const n=indexedDB.deleteDatabase(aw);return new jl(n).toPromise()}function xf(){const n=indexedDB.open(aw,aC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($c,{keyPath:lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($c)?e(i):(i.close(),await lC(),e(await xf()))})})}async function Y_(n,e,t){const i=sh(n,!0).put({[lw]:e,value:t});return new jl(i).toPromise()}async function uC(n,e){const t=sh(n,!1).get(e),i=await new jl(t).toPromise();return i===void 0?null:i.value}function J_(n,e){const t=sh(n,!0).delete(e);return new jl(t).toPromise()}const cC=800,hC=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xf();return await Y_(e,zc,"1"),await J_(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=sh(o,!1).getAll();return new jl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const dC=uw;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e){return e?ei(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fC(n){return Jv(n.auth,new gp(n),n.bypassAuthState)}function pC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),GR(t,new gp(n),n.bypassAuthState)}async function mC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),KR(t,new gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:Bn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Ml(2e3,1e4);async function _C(n,e,t){if(ir(n.app))return Promise.reject(sr(n,"operation-not-supported-in-this-environment"));const i=Yi(n);ZS(n,e,pp);const o=cw(i,t);return new Ds(i,"signInViaPopup",e,o).executeNotNull()}class Ds extends hw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gC.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="pendingRedirect",Cc=new Map;class vC extends hw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const i=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(n,e){const t=IC(e),i=TC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function EC(n,e){Cc.set(n._key(),e)}function TC(n){return ei(n._redirectPersistence)}function IC(n){return Rc(yC,n.config.apiKey,n.name)}async function SC(n,e,t=!1){if(ir(n.app))return Promise.reject(ni(n));const i=Yi(n),o=cw(i,e),c=await new vC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=10*60*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!dw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(sr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function NC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kC(n);for(const t of e)try{if(DC(t))return}catch{}Bn(n,"unauthorized-domain")}function DC(n){const e=Cf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!xC.test(t))return!1;if(PC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Ml(3e4,6e4);function ey(){const n=kr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OC(n){return new Promise((e,t)=>{var i,o,l;function c(){ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ey(),t(sr(n,"network-request-failed"))},timeout:bC.get()})}if(!((o=(i=kr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=kr().gapi)===null||l===void 0)&&l.load)c();else{const d=AR("iframefcb");return kr()[d]=()=>{gapi.load?c():t(sr(n,"network-request-failed"))},Gv(`${CR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function LC(n){return Ac=Ac||OC(n),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Ml(5e3,15e3),MC="__/auth/iframe",FC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?up(e,FC):`https://${n.config.authDomain}/${MC}`,i={apiKey:e.apiKey,appName:n.name,v:zs},o=jC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Vl(i).slice(1)}`}async function zC(n){const e=await LC(n),t=kr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:BC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=sr(n,"network-request-failed"),d=kr().setTimeout(()=>{l(c)},VC.get());function p(){kr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qC=500,HC=600,WC="_blank",KC="http://localhost";class ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(n,e,t,i=qC,o=HC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},$C),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Qt().toLowerCase();t&&(d=Bv(_)?WC:t),Uv(_)&&(e=e||KC,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[D,b])=>`${T}${D}=${b},`,"");if(_R(_)&&d!=="_self")return QC(e||"",d),new ty(null);const S=window.open(e||"",d,v);Te(S,n,"popup-blocked");try{S.focus()}catch{}return new ty(S)}function QC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__/auth/handler",YC="emulator/auth/handler",JC=encodeURIComponent("fac");async function ny(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:zs,eventId:o};if(e instanceof pp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",F1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof Ul){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),_=p?`#${JC}=${encodeURIComponent(p)}`:"";return`${ZC(n)}?${Vl(d).slice(1)}${_}`}function ZC({config:n}){return n.emulator?up(n,YC):`https://${n.authDomain}/${XC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class eA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=SC,this._overrideRedirectResult=EC}async _openPopup(e,t,i,o){var l;si((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ny(e,t,i,Cf(),o);return GC(e,c,mp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ny(e,t,i,Cf(),o);return rC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(si(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zC(e),i=new CC(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[df];c!==void 0&&t(!!c),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wv()||jv()||hp()}}const tA=eA;var ry="@firebase/auth",iy="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iA(n){Vs(new Hi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kv(n)},_=new IR(i,o,l,p);return bR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vs(new Hi("auth-internal",e=>{const t=Yi(e.getProvider("auth").getImmediate());return(i=>new nA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(ry,iy,rA(n)),Ar(ry,iy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=5*60,oA=Rv("authIdTokenMaxAge")||sA;let sy=null;const aA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>oA)return;const o=t==null?void 0:t.token;sy!==o&&(sy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Go(n=sp()){const e=nh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DR(n,{popupRedirectResolver:tA,persistence:[dC,eC,sw]}),i=Rv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=aA(l.toString());YR(t,c,()=>c(t.currentUser)),XR(t,d=>c(d))}}const o=Tv("auth");return o&&OR(t,`http://${o}`),t}function lA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=sr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",lA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iA("Browser");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,fw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function A(){}A.prototype=R.prototype,N.D=R.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(C,x,L){for(var k=Array(arguments.length-2),De=2;De<arguments.length;De++)k[De-2]=arguments[De];return R.prototype[x].apply(C,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,A){A||(A=0);var C=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)C[x]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(x=0;16>x;++x)C[x]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=N.g[0],A=N.g[1],x=N.g[2];var L=N.g[3],k=R+(L^A&(x^L))+C[0]+3614090360&4294967295;R=A+(k<<7&4294967295|k>>>25),k=L+(x^R&(A^x))+C[1]+3905402710&4294967295,L=R+(k<<12&4294967295|k>>>20),k=x+(A^L&(R^A))+C[2]+606105819&4294967295,x=L+(k<<17&4294967295|k>>>15),k=A+(R^x&(L^R))+C[3]+3250441966&4294967295,A=x+(k<<22&4294967295|k>>>10),k=R+(L^A&(x^L))+C[4]+4118548399&4294967295,R=A+(k<<7&4294967295|k>>>25),k=L+(x^R&(A^x))+C[5]+1200080426&4294967295,L=R+(k<<12&4294967295|k>>>20),k=x+(A^L&(R^A))+C[6]+2821735955&4294967295,x=L+(k<<17&4294967295|k>>>15),k=A+(R^x&(L^R))+C[7]+4249261313&4294967295,A=x+(k<<22&4294967295|k>>>10),k=R+(L^A&(x^L))+C[8]+1770035416&4294967295,R=A+(k<<7&4294967295|k>>>25),k=L+(x^R&(A^x))+C[9]+2336552879&4294967295,L=R+(k<<12&4294967295|k>>>20),k=x+(A^L&(R^A))+C[10]+4294925233&4294967295,x=L+(k<<17&4294967295|k>>>15),k=A+(R^x&(L^R))+C[11]+2304563134&4294967295,A=x+(k<<22&4294967295|k>>>10),k=R+(L^A&(x^L))+C[12]+1804603682&4294967295,R=A+(k<<7&4294967295|k>>>25),k=L+(x^R&(A^x))+C[13]+4254626195&4294967295,L=R+(k<<12&4294967295|k>>>20),k=x+(A^L&(R^A))+C[14]+2792965006&4294967295,x=L+(k<<17&4294967295|k>>>15),k=A+(R^x&(L^R))+C[15]+1236535329&4294967295,A=x+(k<<22&4294967295|k>>>10),k=R+(x^L&(A^x))+C[1]+4129170786&4294967295,R=A+(k<<5&4294967295|k>>>27),k=L+(A^x&(R^A))+C[6]+3225465664&4294967295,L=R+(k<<9&4294967295|k>>>23),k=x+(R^A&(L^R))+C[11]+643717713&4294967295,x=L+(k<<14&4294967295|k>>>18),k=A+(L^R&(x^L))+C[0]+3921069994&4294967295,A=x+(k<<20&4294967295|k>>>12),k=R+(x^L&(A^x))+C[5]+3593408605&4294967295,R=A+(k<<5&4294967295|k>>>27),k=L+(A^x&(R^A))+C[10]+38016083&4294967295,L=R+(k<<9&4294967295|k>>>23),k=x+(R^A&(L^R))+C[15]+3634488961&4294967295,x=L+(k<<14&4294967295|k>>>18),k=A+(L^R&(x^L))+C[4]+3889429448&4294967295,A=x+(k<<20&4294967295|k>>>12),k=R+(x^L&(A^x))+C[9]+568446438&4294967295,R=A+(k<<5&4294967295|k>>>27),k=L+(A^x&(R^A))+C[14]+3275163606&4294967295,L=R+(k<<9&4294967295|k>>>23),k=x+(R^A&(L^R))+C[3]+4107603335&4294967295,x=L+(k<<14&4294967295|k>>>18),k=A+(L^R&(x^L))+C[8]+1163531501&4294967295,A=x+(k<<20&4294967295|k>>>12),k=R+(x^L&(A^x))+C[13]+2850285829&4294967295,R=A+(k<<5&4294967295|k>>>27),k=L+(A^x&(R^A))+C[2]+4243563512&4294967295,L=R+(k<<9&4294967295|k>>>23),k=x+(R^A&(L^R))+C[7]+1735328473&4294967295,x=L+(k<<14&4294967295|k>>>18),k=A+(L^R&(x^L))+C[12]+2368359562&4294967295,A=x+(k<<20&4294967295|k>>>12),k=R+(A^x^L)+C[5]+4294588738&4294967295,R=A+(k<<4&4294967295|k>>>28),k=L+(R^A^x)+C[8]+2272392833&4294967295,L=R+(k<<11&4294967295|k>>>21),k=x+(L^R^A)+C[11]+1839030562&4294967295,x=L+(k<<16&4294967295|k>>>16),k=A+(x^L^R)+C[14]+4259657740&4294967295,A=x+(k<<23&4294967295|k>>>9),k=R+(A^x^L)+C[1]+2763975236&4294967295,R=A+(k<<4&4294967295|k>>>28),k=L+(R^A^x)+C[4]+1272893353&4294967295,L=R+(k<<11&4294967295|k>>>21),k=x+(L^R^A)+C[7]+4139469664&4294967295,x=L+(k<<16&4294967295|k>>>16),k=A+(x^L^R)+C[10]+3200236656&4294967295,A=x+(k<<23&4294967295|k>>>9),k=R+(A^x^L)+C[13]+681279174&4294967295,R=A+(k<<4&4294967295|k>>>28),k=L+(R^A^x)+C[0]+3936430074&4294967295,L=R+(k<<11&4294967295|k>>>21),k=x+(L^R^A)+C[3]+3572445317&4294967295,x=L+(k<<16&4294967295|k>>>16),k=A+(x^L^R)+C[6]+76029189&4294967295,A=x+(k<<23&4294967295|k>>>9),k=R+(A^x^L)+C[9]+3654602809&4294967295,R=A+(k<<4&4294967295|k>>>28),k=L+(R^A^x)+C[12]+3873151461&4294967295,L=R+(k<<11&4294967295|k>>>21),k=x+(L^R^A)+C[15]+530742520&4294967295,x=L+(k<<16&4294967295|k>>>16),k=A+(x^L^R)+C[2]+3299628645&4294967295,A=x+(k<<23&4294967295|k>>>9),k=R+(x^(A|~L))+C[0]+4096336452&4294967295,R=A+(k<<6&4294967295|k>>>26),k=L+(A^(R|~x))+C[7]+1126891415&4294967295,L=R+(k<<10&4294967295|k>>>22),k=x+(R^(L|~A))+C[14]+2878612391&4294967295,x=L+(k<<15&4294967295|k>>>17),k=A+(L^(x|~R))+C[5]+4237533241&4294967295,A=x+(k<<21&4294967295|k>>>11),k=R+(x^(A|~L))+C[12]+1700485571&4294967295,R=A+(k<<6&4294967295|k>>>26),k=L+(A^(R|~x))+C[3]+2399980690&4294967295,L=R+(k<<10&4294967295|k>>>22),k=x+(R^(L|~A))+C[10]+4293915773&4294967295,x=L+(k<<15&4294967295|k>>>17),k=A+(L^(x|~R))+C[1]+2240044497&4294967295,A=x+(k<<21&4294967295|k>>>11),k=R+(x^(A|~L))+C[8]+1873313359&4294967295,R=A+(k<<6&4294967295|k>>>26),k=L+(A^(R|~x))+C[15]+4264355552&4294967295,L=R+(k<<10&4294967295|k>>>22),k=x+(R^(L|~A))+C[6]+2734768916&4294967295,x=L+(k<<15&4294967295|k>>>17),k=A+(L^(x|~R))+C[13]+1309151649&4294967295,A=x+(k<<21&4294967295|k>>>11),k=R+(x^(A|~L))+C[4]+4149444226&4294967295,R=A+(k<<6&4294967295|k>>>26),k=L+(A^(R|~x))+C[11]+3174756917&4294967295,L=R+(k<<10&4294967295|k>>>22),k=x+(R^(L|~A))+C[2]+718787259&4294967295,x=L+(k<<15&4294967295|k>>>17),k=A+(L^(x|~R))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+L&4294967295}i.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var A=R-this.blockSize,C=this.B,x=this.h,L=0;L<R;){if(x==0)for(;L<=A;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(C[x++]=N.charCodeAt(L++),x==this.blockSize){o(this,C),x=0;break}}else for(;L<R;)if(C[x++]=N[L++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=R},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var A=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.u(N),N=Array(16),R=A=0;4>R;++R)for(var C=0;32>C;C+=8)N[A++]=this.g[R]>>>C&255;return N};function l(N,R){var A=d;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=R(N)}function c(N,R){this.h=R;for(var A=[],C=!0,x=N.length-1;0<=x;x--){var L=N[x]|0;C&&L==R||(A[x]=L,C=!1)}this.g=A}var d={};function p(N){return-128<=N&&128>N?l(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return O(_(-N));for(var R=[],A=1,C=0;N>=A;C++)R[C]=N/A|0,A*=4294967296;return new c(R,0)}function v(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return O(v(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(R,8)),C=S,x=0;x<N.length;x+=8){var L=Math.min(8,N.length-x),k=parseInt(N.substring(x,x+L),R);8>L?(L=_(Math.pow(R,L)),C=C.j(L).add(_(k))):(C=C.j(A),C=C.add(_(k)))}return C}var S=p(0),T=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-O(this).m();for(var N=0,R=1,A=0;A<this.g.length;A++){var C=this.i(A);N+=(0<=C?C:4294967296+C)*R,R*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(U(this))return"-"+O(this).toString(N);for(var R=_(Math.pow(N,6)),A=this,C="";;){var x=J(A,R).g;A=B(A,x.j(R));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=x,b(A))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function U(N){return N.h==-1}n.l=function(N){return N=B(this,N),U(N)?-1:b(N)?0:1};function O(N){for(var R=N.g.length,A=[],C=0;C<R;C++)A[C]=~N.g[C];return new c(A,~N.h).add(T)}n.abs=function(){return U(this)?O(this):this},n.add=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],C=0,x=0;x<=R;x++){var L=C+(this.i(x)&65535)+(N.i(x)&65535),k=(L>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);C=k>>>16,L&=65535,k&=65535,A[x]=k<<16|L}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(N,R){return N.add(O(R))}n.j=function(N){if(b(this)||b(N))return S;if(U(this))return U(N)?O(this).j(O(N)):O(O(this).j(N));if(U(N))return O(this.j(O(N)));if(0>this.l(D)&&0>N.l(D))return _(this.m()*N.m());for(var R=this.g.length+N.g.length,A=[],C=0;C<2*R;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<N.g.length;x++){var L=this.i(C)>>>16,k=this.i(C)&65535,De=N.i(x)>>>16,Ge=N.i(x)&65535;A[2*C+2*x]+=k*Ge,z(A,2*C+2*x),A[2*C+2*x+1]+=L*Ge,z(A,2*C+2*x+1),A[2*C+2*x+1]+=k*De,z(A,2*C+2*x+1),A[2*C+2*x+2]+=L*De,z(A,2*C+2*x+2)}for(C=0;C<R;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=R;C<2*R;C++)A[C]=0;return new c(A,0)};function z(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function G(N,R){this.g=N,this.h=R}function J(N,R){if(b(R))throw Error("division by zero");if(b(N))return new G(S,S);if(U(N))return R=J(O(N),R),new G(O(R.g),O(R.h));if(U(R))return R=J(N,O(R)),new G(O(R.g),R.h);if(30<N.g.length){if(U(N)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var A=T,C=R;0>=C.l(N);)A=he(A),C=he(C);var x=ae(A,1),L=ae(C,1);for(C=ae(C,2),A=ae(A,2);!b(C);){var k=L.add(C);0>=k.l(N)&&(x=x.add(A),L=k),C=ae(C,1),A=ae(A,1)}return R=B(N,x.j(R)),new G(x,R)}for(x=S;0<=N.l(R);){for(A=Math.max(1,Math.floor(N.m()/R.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=_(A),k=L.j(R);U(k)||0<k.l(N);)A-=C,L=_(A),k=L.j(R);b(L)&&(L=T),x=x.add(L),N=B(N,k)}return new G(x,N)}n.A=function(N){return J(this,N).h},n.and=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)&N.i(C);return new c(A,this.h&N.h)},n.or=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)|N.i(C);return new c(A,this.h|N.h)},n.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)^N.i(C);return new c(A,this.h^N.h)};function he(N){for(var R=N.g.length+1,A=[],C=0;C<R;C++)A[C]=N.i(C)<<1|N.i(C-1)>>>31;return new c(A,N.h)}function ae(N,R){var A=R>>5;R%=32;for(var C=N.g.length-A,x=[],L=0;L<C;L++)x[L]=0<R?N.i(L+A)>>>R|N.i(L+A+1)<<32-R:N.i(L+A);return new c(x,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=v,Os=c}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,dl,mw,kc,Nf,gw,_w,yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var $=u[I];if(!($ in y))break e;y=y[$]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,I=!1,$={next:function(){if(!I&&y<u.length){var K=y++;return{value:m(K,u[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function S(u,m,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function T(u,m,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,T.apply(null,arguments)}function D(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,$,K){for(var ie=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ie[Ke-2]=arguments[Ke];return m.prototype[$].apply(I,ie)}}function U(u){const m=u.length;if(0<m){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function O(u,m){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(p(I)){const $=u.length||0,K=I.length||0;u.length=$+K;for(let ie=0;ie<K;ie++)u[$+ie]=I[ie]}else u.push(I)}}class B{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var he=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ae(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function N(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function R(u){const m={};for(const y in u)m[y]=u[y];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(y in I)u[y]=I[y];for(let K=0;K<A.length;K++)y=A[K],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function x(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function L(u){d.setTimeout(()=>{throw u},0)}function k(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,y){const I=Ge.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var Ge=new B(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,se=!1,_e=new De,oe=()=>{const u=d.Promise.resolve(void 0);Ne=()=>{u.then(j)}};var j=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){L(y)}var m=Ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function xe(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(he){e:{try{J(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}b(xe,ye);var Le={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ne=0;function le(u,m,y,I,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=$,this.key=++ne,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,y,I,$){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=ft(u,m,I,$);return-1<ie?(m=u[ie],y||(m.fa=!1)):(m=new le(m,this.src,K,!!I,$),m.fa=y,u.push(m)),m};function _n(u,m){var y=m.type;if(y in u.g){var I=u.g[y],$=Array.prototype.indexOf.call(I,m,void 0),K;(K=0<=$)&&Array.prototype.splice.call(I,$,1),K&&(Re(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ft(u,m,y,I){for(var $=0;$<u.length;++$){var K=u[$];if(!K.da&&K.listener==m&&K.capture==!!y&&K.ha==I)return $}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),br={};function es(u,m,y,I,$){if(Array.isArray(m)){for(var K=0;K<m.length;K++)es(u,m[K],y,I,$);return null}return y=pa(y),u&&u[je]?u.K(m,y,_(I)?!!I.capture:!!I,$):ts(u,m,y,!1,I,$)}function ts(u,m,y,I,$,K){if(!m)throw Error("Invalid event type");var ie=_($)?!!$.capture:!!$,Ke=Ks(u);if(Ke||(u[nn]=Ke=new Ye(u)),y=Ke.add(m,y,I,ie,K),y.proxy)return y;if(I=Ql(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)Pe||($=ie),$===void 0&&($=!1),u.addEventListener(m.toString(),I,$);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ql(){function u(y){return m.call(u.src,u.listener,y)}const m=fa;return u}function Ws(u,m,y,I,$){if(Array.isArray(m))for(var K=0;K<m.length;K++)Ws(u,m[K],y,I,$);else I=_(I)?!!I.capture:!!I,y=pa(y),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],y=ft(K,y,I,$),-1<y&&(Re(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ft(m,y,I,$)),(y=-1<u?m[u]:null)&&Or(y))}function Or(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])_n(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(Lr(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=Ks(m))?(_n(y,u),y.h==0&&(y.src=null,m[nn]=null)):Re(u)}}}function Lr(u){return u in br?br[u]:br[u]="on"+u}function fa(u,m){if(u.da)u=!0;else{m=new xe(m,this);var y=u.listener,I=u.ha||u.src;u.fa&&Or(u),u=y.call(I,m)}return u}function Ks(u){return u=u[nn],u instanceof Ye?u:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function pa(u){return typeof u=="function"?u:(u[Gs]||(u[Gs]=function(m){return u.handleEvent(m)}),u[Gs])}function Tt(){Q.call(this),this.i=new Ye(this),this.M=this,this.F=null}b(Tt,Q),Tt.prototype[je]=!0,Tt.prototype.removeEventListener=function(u,m,y,I){Ws(this,u,m,y,I)};function It(u,m){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var $=m;m=new ye(I,u),C(m,$)}if($=!0,y)for(var K=y.length-1;0<=K;K--){var ie=m.g=y[K];$=Vr(ie,I,!0,m)&&$}if(ie=m.g=u,$=Vr(ie,I,!0,m)&&$,$=Vr(ie,I,!1,m)&&$,y)for(K=0;K<y.length;K++)ie=m.g=y[K],$=Vr(ie,I,!1,m)&&$}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],I=0;I<y.length;I++)Re(y[I]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},Tt.prototype.L=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function Vr(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,K=0;K<m.length;++K){var ie=m[K];if(ie&&!ie.da&&ie.capture==y){var Ke=ie.listener,St=ie.ha||ie.src;ie.fa&&_n(u.i,ie),$=Ke.call(St,I)!==!1&&$}}return $&&!I.defaultPrevented}function ma(u,m,y){if(typeof u=="function")y&&(u=T(u,y));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function hi(u){u.g=ma(()=>{u.g=null,u.i&&(u.i=!1,hi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ns extends Q{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){Q.call(this),this.h=u,this.g={}}b(rs,Q);var ga=[];function _a(u){ae(u.g,function(m,y){this.g.hasOwnProperty(y)&&Or(m)},u),u.g={}}rs.prototype.N=function(){rs.aa.N.call(this),_a(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=d.JSON.stringify,va=d.JSON.parse,wa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function is(){}is.prototype.h=null;function Qs(u){return u.h||(u.h=u.i())}function Xs(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){ye.call(this,"d")}b(hr,ye);function Ys(){ye.call(this,"c")}b(Ys,ye);var dr={},Ea=null;function ss(){return Ea=Ea||new Tt}dr.La="serverreachability";function Ta(u){ye.call(this,dr.La,u)}b(Ta,ye);function Mr(u){const m=ss();It(m,new Ta(m))}dr.STAT_EVENT="statevent";function Ia(u,m){ye.call(this,dr.STAT_EVENT,u),this.stat=m}b(Ia,ye);function pt(u){const m=ss();It(m,new Ia(m,u))}dr.Ma="timingevent";function Js(u,m){ye.call(this,dr.Ma,u),this.size=m}b(Js,ye);function zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function as(u,m,y,I,$,K){u.info(function(){if(u.g)if(K)for(var ie="",Ke=K.split("&"),St=0;St<Ke.length;St++){var Be=Ke[St].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var _t=Pt.split("_");ie=2<=_t.length&&_t[1]=="type"?ie+(Pt+"="+Be+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+m+`
`+y+`
`+ie})}function Zs(u,m,y,I,$,K,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+m+`
`+y+`
`+K+" "+ie})}function $n(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,y)+(I?" "+I:"")})}function Sa(u,m){u.info(function(){return"TIMEOUT: "+m})}os.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<$.length;ie++)$[ie]=""}}}}return ya(y)}catch{return m}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function ls(){}b(ls,is),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},qn=new ls;function Hn(u,m,y,I){this.j=u,this.i=m,this.l=y,this.R=I||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Ra={},to={};function no(u,m,y){u.L=1,u.v=gi(vn(m)),u.m=y,u.P=!0,Ca(u,null)}function Ca(u,m){u.F=Date.now(),Je(u),u.A=vn(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),yi(y.i,"t",I),u.C=0,y=u.j.J,u.h=new Yl,u.g=mu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new ns(T(u.Y,u,u.g),u.O)),m=u.U,y=u.g,I=u.ca;var $="readystatechange";Array.isArray($)||($&&(ga[0]=$.toString()),$=ga);for(var K=0;K<$.length;K++){var ie=es(y,$[K],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mr(),as(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const m=this.M;m&&sn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const _t=sn(this.g);var m=this.g.Ba();const Nn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||_t!=4||m==7||(m==8||0>=Nn?Mr(3):Mr(2)),us(this);var y=this.g.Z();this.X=y;t:if(Jl(this)){var I=Da(this.g);u="";var $=I.length,K=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),di(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(K&&m==$-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Zs(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ke)){var Be=Ke;break t}}Be=null}if(y=Be)$n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,y);else{this.o=!1,this.s=3,pt(12),Pn(this),di(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<ie.length;)if(En=Ah(this,ie),En==to){_t==4&&(this.s=4,pt(14),y=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ra){this.s=4,pt(15),$n(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else $n(this.i,this.l,En,null),Aa(this,En);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ie.length!=0||this.h.h||(this.s=1,pt(16),y=!1),this.o=this.o&&y,!y)$n(this.i,this.l,ie,"[Invalid Chunked Response]"),Pn(this),di(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Oa(Pt),Pt.M=!0,pt(11))}}else $n(this.i,this.l,ie,null),Aa(this,ie);_t==4&&Pn(this),this.o&&!this.J&&(_t==4?po(this.j,this):(this.o=!1,Je(this)))}else lo(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Pn(this),di(this)}}}catch{}finally{}};function Jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ah(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?to:(y=Number(m.substring(y,I)),isNaN(y)?Ra:(I+=1,I+y>m.length?to:(m=m.slice(I,I+y),u.C=I+y,m)))}Hn.prototype.cancel=function(){this.J=!0,Pn(this)};function Je(u){u.S=Date.now()+u.I,Zl(u,u.I)}function Zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zn(T(u.ba,u),m)}function us(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Sa(this.i,this.A),this.L!=2&&(Mr(),pt(17)),Pn(this),this.s=2,di(this)):Zl(this,this.S-u)};function di(u){u.j.G==0||u.J||po(u.j,u)}function Pn(u){us(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,_a(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Aa(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Xt(y.h,u))){if(!u.K&&Xt(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)fo(y),Xn(y);else break e;ho(y),pt(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=zn(T(y.Za,y),6e3));if(1>=tu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else zr(y,11)}else if((u.K||y.g==u)&&fo(y),!z(m))for($=y.Da.g.parse(m),m=0;m<$.length;m++){let Be=$[m];if(y.T=Be[0],Be=Be[1],y.G==2)if(Be[0]=="c"){y.K=Be[1],y.ia=Be[2];const Pt=Be[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const _t=Be[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const Nn=Be[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(I=1.5*Nn,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const En=u.g;if(En){const gs=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var K=I.h;K.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ka(K,K.h),K.h=null))}if(I.D){const go=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(I.ya=go,Qe(I.I,I.D,go))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var ie=u;if(I.qa=pu(I,I.J?I.ia:null,I.W),ie.K){nu(I.h,ie);var Ke=ie,St=I.L;St&&(Ke.I=St),Ke.B&&(us(Ke),Je(Ke)),I.g=ie}else ms(I);0<y.i.length&&gr(y)}else Be[0]!="stop"&&Be[0]!="close"||zr(y,7);else y.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?zr(y,7):Lt(y):Be[0]!="noop"&&y.l&&y.l.ta(Be),y.v=0)}}Mr(4)}catch{}}var eu=class{constructor(u,m){this.g=u,this.map=m}};function cs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function tu(u){return u.h?1:u.g?u.g.size:0}function Xt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ka(u,m){u.g?u.g.add(m):u.h=m}function nu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}cs.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ru(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return U(u.i)}function ro(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,I=0;I<y;I++)m.push(u[I]);return m}m=[],y=0;for(I in u)m[y++]=u[I];return m}function io(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const I in u)m[y++]=I;return m}}}function fi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=io(u),I=ro(u),$=I.length,K=0;K<$;K++)m.call(void 0,I[K],y&&y[K],u)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),$=null;if(0<=I){var K=u[y].substring(0,I);$=u[y].substring(I+1)}else K=u[y];m(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fr){this.h=u.h,ds(this,u.j),this.o=u.o,this.g=u.g,pi(this,u.s),this.l=u.l;var m=u.i,y=new fr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),mi(this,y),this.m=u.m}else u&&(m=String(u).match(hs))?(this.h=!1,ds(this,m[1]||"",!0),this.o=Fe(m[2]||""),this.g=Fe(m[3]||"",!0),pi(this,m[4]),this.l=Fe(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=Fe(m[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_i(m,so,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_i(m,so,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(_i(y,y.charAt(0)=="/"?ou:su,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",_i(y,Pa)),u.join("")};function vn(u){return new Fr(u)}function ds(u,m,y){u.j=y?Fe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,y){m instanceof fr?(u.i=m,pr(u.i,u.h)):(y||(m=_i(m,au)),u.i=new fr(m,u.h))}function Qe(u,m,y){u.i.set(m,y)}function gi(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _i(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var so=/[#\/\?@]/g,su=/[#\?:]/g,ou=/[#\?]/g,au=/[#\?@]/g,Pa=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&kh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=fr.prototype,n.add=function(u,m){Ot(this),this.i=null,u=xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Wn(u,m){Ot(u),m=xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kn(u,m){return Ot(u),m=xn(u,m),u.g.has(m)}n.forEach=function(u,m){Ot(this),this.g.forEach(function(y,I){y.forEach(function($){u.call(m,$,I,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let I=0;I<m.length;I++){const $=u[I];for(let K=0;K<$.length;K++)y.push(m[I])}return y},n.V=function(u){Ot(this);let m=[];if(typeof u=="string")Kn(this,u)&&(m=m.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return Ot(this),this.i=null,u=xn(this,u),Kn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,y){Wn(u,m),0<y.length&&(u.i=null,u.g.set(xn(u,m),U(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var I=m[y];const K=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var $=K;ie[I]!==""&&($+="="+encodeURIComponent(String(ie[I]))),u.push($)}}return this.i=u.join("&")};function xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pr(u,m){m&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(y,I){var $=I.toLowerCase();I!=$&&(Wn(this,I),yi(this,$,y))},u)),u.j=m}function Ph(u,m){const y=new os;if(d.Image){const I=new Image;I.onload=D(rn,y,"TestLoadImage: loaded",!0,m,I),I.onerror=D(rn,y,"TestLoadImage: error",!1,m,I),I.onabort=D(rn,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=D(rn,y,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function lu(u,m){const y=new os,I=new AbortController,$=setTimeout(()=>{I.abort(),rn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(K=>{clearTimeout($),K.ok?rn(y,"TestPingServer: ok",!0,m):rn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),rn(y,"TestPingServer: error",!1,m)})}function rn(u,m,y,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(y)}catch{}}function xh(){this.g=new wa}function uu(u,m,y){const I=y||"";try{fi(u,function($,K){let ie=$;_($)&&(ie=ya($)),m.push(I+K+"="+encodeURIComponent(ie))})}catch($){throw m.push(I+"type="+encodeURIComponent("_badmap")),$}}function Ur(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Ur,is),Ur.prototype.g=function(){return new fs(this.l,this.j)},Ur.prototype.i=function(u){return function(){return u}}({});function fs(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fs,Tt),n=fs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&cu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},n.Qa=function(u){this.g&&(this.response=u,Gn(this))},n.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jr(u){let m="";return ae(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function vi(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=jr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qe(u,m,y))}function rt(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(rt,Tt);var Nh=/^https?$/i,xa=["POST","PUT"];n=rt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Qs(this.o):Qs(qn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){ps(this,K);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)y.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())y.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,m,void 0))||I||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of y)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){ps(this,K)}};function ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,oo(u),wn(u)}function oo(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},n.bb=function(){Na(this)};function Na(u){if(u.h&&typeof c<"u"&&(!u.v[1]||sn(u)!=4||u.Z()!=2)){if(u.u&&sn(u)==4)ma(u.Ea,0,u);else if(It(u,"readystatechange"),sn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=ie===0){var $=String(u.D).match(hs)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),I=!Nh.test($?$.toLowerCase():"")}y=I}if(y)It(u,"complete"),It(u,"success");else{u.m=6;try{var K=2<sn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",oo(u)}}finally{wn(u)}}}}function wn(u,m){if(u.g){ao(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||It(u,"ready");try{y.onreadystatechange=I}catch{}}}function ao(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function Da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(u){const m={};u=(u.g&&2<=sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(z(u[I]))continue;var y=x(u[I]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=m[$]||[];m[$]=K,K.push(y)}N(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ba(u){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,u),this.cb=mr("retryDelaySeedMs",1e4,u),this.Wa=mr("forwardChannelMaxRetries",2,u),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(u&&u.concurrentRequestLimit),this.Da=new xh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ba.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,I){pt(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=pu(this,null,this.W),gr(this)};function Lt(u){if(uo(u),u.G==3){var m=u.U++,y=vn(u.I);if(Qe(y,"SID",u.K),Qe(y,"RID",m),Qe(y,"TYPE","terminate"),Br(u,y),m=new Hn(u,u.j,m),m.L=2,m.v=gi(vn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}fu(u)}function Xn(u){u.g&&(Oa(u),u.g.cancel(),u.g=null)}function uo(u){Xn(u),u.u&&(d.clearTimeout(u.u),u.u=null),fo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function gr(u){if(!yn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ne||oe(),se||(Ne(),se=!0),_e.add(m,u),u.B=0}}function Dh(u,m){return tu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zn(T(u.Ga,u,m),du(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new Hn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=R(K),C(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=wi(this,$,m),y=vn(this.I),Qe(y,"RID",u),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),Br(this,y),K&&(this.O?m="headers="+encodeURIComponent(String(jr(K)))+"&"+m:this.m&&vi(y,this.m,K)),ka(this.h,$),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",m),Qe(y,"SID","null"),$.T=!0,no($,y,null)):no($,y,m),this.G=2}}else this.G==3&&(u?co(this,u):this.i.length==0||yn(this.h)||co(this))};function co(u,m){var y;m?y=m.l:y=u.U++;const I=vn(u.I);Qe(I,"SID",u.K),Qe(I,"RID",y),Qe(I,"AID",u.T),Br(u,I),u.m&&u.o&&vi(I,u.m,u.o),y=new Hn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=wi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,y),no(y,I,m)}function Br(u,m){u.H&&ae(u.H,function(y,I){Qe(m,I,y)}),u.l&&fi({},function(y,I){Qe(m,I,y)})}function wi(u,m,y){y=Math.min(u.i.length,y);var I=u.l?T(u.l.Na,u.l,u):null;e:{var $=u.i;let K=-1;for(;;){const ie=["count="+y];K==-1?0<y?(K=$[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Ke=!0;for(let St=0;St<y;St++){let Be=$[St].g;const Pt=$[St].map;if(Be-=K,0>Be)K=Math.max(0,$[St].g-100),Ke=!1;else try{uu(Pt,ie,"req"+Be+"_")}catch{I&&I(Pt)}}if(Ke){I=ie.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,I}function ms(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ne||oe(),se||(Ne(),se=!0),_e.add(m,u),u.v=0}}function ho(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zn(T(u.Fa,u),du(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Xn(this),hu(this))};function Oa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function hu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vn(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),Br(u,m),u.m&&u.o&&vi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=gi(vn(m)),y.m=null,y.P=!0,Ca(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),ho(this),pt(19))};function fo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function po(u,m){var y=null;if(u.g==m){fo(u),Oa(u),u.g=null;var I=2}else if(Xt(u.h,m))y=m.D,nu(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;I=ss(),It(I,new Js(I,y)),gr(u)}else ms(u);else if($=m.s,$==3||$==0&&0<m.X||!(I==1&&Dh(u,m)||I==2&&ho(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),$){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function du(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function zr(u,m){if(u.j.info("Error code "+m),m==2){var y=T(u.fb,u),I=u.Xa;const $=!I;I=new Fr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ds(I,"https"),gi(I),$?Ph(I.toString(),y):lu(I.toString(),y)}else pt(2);u.G=0,u.l&&u.l.sa(m),fu(u),uo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=ru(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function pu(u,m,y){var I=y instanceof Fr?vn(y):new Fr(y);if(I.g!="")m&&(I.g=m+"."+I.g),pi(I,I.s);else{var $=d.location;I=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var K=new Fr(null);I&&ds(K,I),m&&(K.g=m),$&&pi(K,$),y&&(K.l=y),I=K}return y=u.D,m=u.ya,y&&m&&Qe(I,y,m),Qe(I,"VER",u.la),Br(u,I),I}function mu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new Ur({eb:y})):new rt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}n=La.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){Tt.call(this),this.g=new ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new _r(this)}b(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Lt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ya(u),u=y);m.i.push(new eu(m.Ya++,u)),m.G==3&&gr(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Yt.aa.N.call(this)};function gu(u){hr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(gu,hr);function _u(){Ys.call(this),this.status=1}b(_u,Ys);function _r(u){this.g=u}b(_r,La),_r.prototype.ua=function(){It(this.g,"a")},_r.prototype.ta=function(u){It(this.g,new gu(u))},_r.prototype.sa=function(u){It(this.g,new _u)},_r.prototype.ra=function(){It(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,yw=function(){return new mo},_w=function(){return ss()},gw=dr,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,kc=eo,Xl.COMPLETE="complete",mw=Xl,Xs.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,dl=Xs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,pw=rt}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new rp("@firebase/firestore");function Fo(){return Us.logLevel}function ce(n,...e){if(Us.logLevel<=Ve.DEBUG){const t=e.map(_p);Us.debug(`Firestore (${aa}): ${n}`,...t)}}function oi(n,...e){if(Us.logLevel<=Ve.ERROR){const t=e.map(_p);Us.error(`Firestore (${aa}): ${n}`,...t)}}function Qo(n,...e){if(Us.logLevel<=Ve.WARN){const t=e.map(_p);Us.warn(`Firestore (${aa}): ${n}`,...t)}}function _p(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function We(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class cA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ri)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new vw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Kt(e)}}class dA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new dA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new pA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=gA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function Xo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new At(0,0))}static max(){return new Ce(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nt extends Cl{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Cl{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}function yA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new Wi(o,ve.empty(),e)}function vA(n){return new Wi(n.readTime,n.key,-1)}class Wi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wi(Ce.min(),ve.empty(),-1)}static max(){return new Wi(Ce.max(),ve.empty(),-1)}}function wA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==EA)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(v=>{c[_]=v,++d,d===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function IA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}oh.oe=-1;function ah(n){return n==null}function qc(n){return n===0&&1/n==-1/0}function SA(n){return typeof n=="number"&&Number.isInteger(n)&&!qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ly(e)),e=CA(n.get(t),e);return ly(e)}function CA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function ly(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ew(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}}class gc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cy(this.data.getIterator())}getIteratorFrom(e){return new cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new An([])}unionWith(e){let t=new kt(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Tw("Invalid base64 string: "+l):l}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const AA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(We(!!n),typeof n=="string"){let e=0;const t=AA.exec(n);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lh(n){const e=n.mapValue.fields.__previous_value__;return yp(e)?lh(e):e}function Al(n){const e=Ki(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i,o,l,c,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yp(n)?4:xA(n)?9007199254740991:PA(n)?10:11:Se()}function Nr(n,e){if(n===e)return!0;const t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ki(o.timestampValue),d=Ki(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Gi(o.bytesValue).isEqual(Gi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=gt(o.doubleValue),d=gt(l.doubleValue);return c===d?qc(c)===qc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Xo(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(uy(c)!==uy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Nr(c[p],d[p])))return!1;return!0}(n,e);default:return Se()}}function Pl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Yo(n,e){if(n===e)return 0;const t=Qi(n),i=Qi(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=gt(l.integerValue||l.doubleValue),p=gt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return hy(n.timestampValue,e.timestampValue);case 4:return hy(Al(n),Al(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Gi(l),p=Gi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const v=Ue(d[_],p[_]);if(v!==0)return v}return Ue(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ue(gt(l.latitude),gt(c.latitude));return d!==0?d:Ue(gt(l.longitude),gt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,v;const S=l.fields||{},T=c.fields||{},D=(d=S.value)===null||d===void 0?void 0:d.arrayValue,b=(p=T.value)===null||p===void 0?void 0:p.arrayValue,U=Ue(((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:dy(D,b)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===_c.mapValue&&c===_c.mapValue)return 0;if(l===_c.mapValue)return 1;if(c===_c.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},v=Object.keys(_);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const T=Ue(p[S],v[S]);if(T!==0)return T;const D=Yo(d[p[S]],_[v[S]]);if(D!==0)return D}return Ue(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function hy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ki(n),i=Ki(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function dy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Yo(t[o],i[o]);if(l)return l}return Ue(t.length,i.length)}function Jo(n){return Df(n)}function Df(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ki(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Df(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Df(t.fields[c])}`;return o+"}"}(n.mapValue):Se()}function Pc(n){switch(Qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Pc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ji(i.fields,(l,c)=>{o+=l.length+Pc(c)}),o}(n.mapValue);default:throw Se()}}function fy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bf(n){return!!n&&"integerValue"in n}function vp(n){return!!n&&"arrayValue"in n}function py(n){return!!n&&"nullValue"in n}function my(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xc(n){return!!n&&"mapValue"in n}function PA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=_l(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=_l(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ji(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new mn(_l(this.value))}}function Iw(n){const e=[];return Ji(n.fields,(t,i)=>{const o=new Ut([t]);if(xc(i)){const l=Iw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ce.min(),Ce.min(),Ce.min(),mn.empty(),0)}static newFoundDocument(e,t,i,o){return new Gt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ce.min(),Ce.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ce.min(),Ce.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function gy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Yo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{}class wt extends Sw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new bA(e,t,i):t==="array-contains"?new VA(e,i):t==="in"?new MA(e,i):t==="not-in"?new FA(e,i):t==="array-contains-any"?new UA(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OA(e,i):new LA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yo(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends Sw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ar(e,t)}matches(e){return Rw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rw(n){return n.op==="and"}function Cw(n){return DA(n)&&Rw(n)}function DA(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function Of(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(Cw(n))return n.filters.map(e=>Of(e)).join(",");{const e=n.filters.map(t=>Of(t)).join(",");return`${n.op}(${e})`}}function Aw(n,e){return n instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&Nr(i.value,o.value)}(n,e):n instanceof ar?function(i,o){return o instanceof ar&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Aw(c,o.filters[d]),!0):!1}(n,e):void Se()}function kw(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(kw).join(" ,")+"}"}(n):"Filter"}class bA extends wt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class OA extends wt{constructor(e,t){super(e,"in",t),this.keys=Pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LA extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class VA extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vp(t)&&Pl(t.arrayValue,this.value)}}class MA extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class FA extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pl(this.value.arrayValue,t)}}class UA extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function yy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new jA(n,e,t,i,o,l,c)}function wp(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Of(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Jo(i)).join(",")),e.ue=t}return e.ue}function Ep(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Aw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_y(n.startAt,e.startAt)&&_y(n.endAt,e.endAt)}function Lf(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BA(n,e,t,i,o,l,c,d){return new Bl(n,e,t,i,o,l,c,d)}function Tp(n){return new Bl(n)}function vy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xw(n){return n.collectionGroup!==null}function yl(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new kt(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Wc(l,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new Wc(Ut.keyField(),i))}return e.ce}function Pr(n){const e=Ae(n);return e.le||(e.le=zA(e,yl(n))),e.le}function zA(n,e){if(n.limitType==="F")return yy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Wc(o.field,l)});const t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return yy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Vf(n,e){const t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mf(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return Ep(Pr(n),Pr(e))&&n.limitType===e.limitType}function Nw(n){return`${wp(Pr(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>kw(o)).join(", ")}]`),ah(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Jo(o)).join(",")),`Target(${i})`}(Pr(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of yl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=gy(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,yl(i),o)||i.endAt&&!function(c,d,p){const _=gy(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,yl(i),o))}(n,e)}function $A(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dw(n){return(e,t)=>{let i=!1;for(const o of yl(n)){const l=qA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qA(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?Yo(p,_):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new ut(ve.comparator);function ai(){return HA}const bw=new ut(ve.comparator);function fl(...n){let e=bw;for(const t of n)e=e.insert(t.key,t);return e}function Ow(n){let e=bw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bs(){return vl()}function Lw(){return vl()}function vl(){return new $s(n=>n.toString(),(n,e)=>n.isEqual(e))}const WA=new ut(ve.comparator),KA=new kt(ve.comparator);function Me(...n){let e=KA;for(const t of n)e=e.add(t);return e}const GA=new kt(Ue);function QA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function Vw(n){return{integerValue:""+n}}function XA(n,e){return SA(e)?Vw(e):Ip(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function YA(n,e,t){return n instanceof xl?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&yp(l)&&(l=lh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Nl?Fw(n,e):n instanceof Dl?Uw(n,e):function(o,l){const c=Mw(o,l),d=wy(c)+wy(o.Pe);return bf(c)&&bf(o.Pe)?Vw(d):Ip(o.serializer,d)}(n,e)}function JA(n,e,t){return n instanceof Nl?Fw(n,e):n instanceof Dl?Uw(n,e):t}function Mw(n,e){return n instanceof Kc?function(i){return bf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class xl extends hh{}class Nl extends hh{constructor(e){super(),this.elements=e}}function Fw(n,e){const t=jw(e);for(const i of n.elements)t.some(o=>Nr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Dl extends hh{constructor(e){super(),this.elements=e}}function Uw(n,e){let t=jw(e);for(const i of n.elements)t=t.filter(o=>!Nr(o,i));return{arrayValue:{values:t}}}class Kc extends hh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wy(n){return gt(n.integerValue||n.doubleValue)}function jw(n){return vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t){this.field=e,this.transform=t}}function ek(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Nl&&o instanceof Nl||i instanceof Dl&&o instanceof Dl?Xo(i.elements,o.elements,Nr):i instanceof Kc&&o instanceof Kc?Nr(i.Pe,o.Pe):i instanceof xl&&o instanceof xl}(n.transform,e.transform)}class tk{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dh{}function Bw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sp(n.key,or.none()):new zl(n.key,n.data,or.none());{const t=n.data,i=mn.empty();let o=new kt(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Zi(n.key,i,new An(o.toArray()),or.none())}}function nk(n,e,t){n instanceof zl?function(o,l,c){const d=o.value.clone(),p=Ty(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(o,l,c){if(!Nc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Ty(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(zw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function wl(n,e,t,i){return n instanceof zl?function(l,c,d,p){if(!Nc(l.precondition,c))return d;const _=l.value.clone(),v=Iy(l.fieldTransforms,p,c);return _.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Zi?function(l,c,d,p){if(!Nc(l.precondition,c))return d;const _=Iy(l.fieldTransforms,p,c),v=c.data;return v.setAll(zw(l)),v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,c,d){return Nc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function rk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Mw(i.transform,o||null);l!=null&&(t===null&&(t=mn.empty()),t.set(i.field,l))}return t||null}function Ey(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Xo(i,o,(l,c)=>ek(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends dh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends dh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ty(n,e,t){const i=new Map;We(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,JA(c,d,t[o]))}return i}function Iy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,YA(l,c,e))}return i}class Sp extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ik extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&nk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Lw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Bw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,i)=>Ey(t,i))&&Xo(this.baseMutations,e.baseMutations,(t,i)=>Ey(t,i))}}class Rp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=function(){return WA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Rp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ze;function lk(n){switch(n){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function $w(n){if(n===void 0)return oi("GRPC error has no .code"),Y.UNKNOWN;switch(n){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(ze=vt||(vt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Os([4294967295,4294967295],0);function Sy(n){const e=uk().encode(n),t=new fw;return t.update(e),new Uint8Array(t.digest())}function Ry(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([t,i],0),new Os([o,l],0)]}class Cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pl(`Invalid padding: ${t}`);if(i<0)throw new pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new pl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Os.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Os.fromNumber(i)));return o.compare(ck)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Sy(e),[i,o]=Ry(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Sy(e),[i,o]=Ry(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new fh(Ce.min(),o,new ut(Ue),ai(),Me())}}class $l{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $l(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class qw{constructor(e,t){this.targetId=e,this.me=t}}class Hw{constructor(e,t,i=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Cy{constructor(){this.fe=0,this.ge=Ay(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),i=Me();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new $l(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ay()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=yc(),this.Qe=yc(),this.Ke=new ut(Ue)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Lf(l))if(i===0){const c=new ve(l.path);this.We(t,c,Gt.newNoDocument(c,Ce.min()))}else We(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Gi(i).toUint8Array()}catch(p){if(p instanceof Tw)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Cp(c,o,l)}catch(p){return Qo(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Lf(d.target)){const p=new ve(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Gt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=Me();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new fh(e,t,this.Ke,this.ke,i);return this.ke=ai(),this.qe=yc(),this.Qe=yc(),this.Ke=new ut(Ue),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Cy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt(Ue),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Ue),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Cy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yc(){return new ut(ve.comparator)}function Ay(){return new ut(ve.comparator)}const dk={asc:"ASCENDING",desc:"DESCENDING"},fk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pk={and:"AND",or:"OR"};class mk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ff(n,e){return n.useProto3Json||ah(e)?e:{value:e}}function Gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ww(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gk(n,e){return Gc(n,e.toTimestamp())}function xr(n){return We(!!n),Ce.fromTimestamp(function(t){const i=Ki(t);return new At(i.seconds,i.nanos)}(n))}function Ap(n,e){return Uf(n,e).canonicalString()}function Uf(n,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Kw(n){const e=nt.fromString(n);return We(Jw(e)),e}function jf(n,e){return Ap(n.databaseId,e.path)}function ff(n,e){const t=Kw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Qw(t))}function Gw(n,e){return Ap(n.databaseId,e)}function _k(n){const e=Kw(n);return e.length===4?nt.emptyPath():Qw(e)}function Bf(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qw(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ky(n,e,t){return{name:jf(n,e),fields:t.value.mapValue.fields}}function yk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,v){return _.useProto3Json?(We(v===void 0||typeof v=="string"),Bt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Bt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const v=_.code===void 0?Y.UNKNOWN:$w(_.code);return new fe(v,_.message||"")}(c);t=new Hw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ff(n,i.document.name),l=xr(i.document.updateTime),c=i.document.createTime?xr(i.document.createTime):Ce.min(),d=new mn({mapValue:{fields:i.document.fields}}),p=Gt.newFoundDocument(o,l,c,d),_=i.targetIds||[],v=i.removedTargetIds||[];t=new Dc(_,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ff(n,i.document),l=i.readTime?xr(i.readTime):Ce.min(),c=Gt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Dc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ff(n,i.document),l=i.removedTargetIds||[];t=new Dc([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new ak(o,l),d=i.targetId;t=new qw(d,c)}}return t}function vk(n,e){let t;if(e instanceof zl)t={update:ky(n,e.key,e.value)};else if(e instanceof Sp)t={delete:jf(n,e.key)};else if(e instanceof Zi)t={update:ky(n,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof ik))return Se();t={verify:jf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof xl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Nl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:gk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()}(n,e.precondition)),t}function wk(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?xr(o.updateTime):xr(l);return c.isEqual(Ce.min())&&(c=xr(l)),new tk(c,o.transformResults||[])}(t,e))):[]}function Ek(n,e){return{documents:[Gw(n,e.path)]}}function Tk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Gw(n,o);const l=function(_){if(_.length!==0)return Yw(ar.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(v=>function(T){return{field:jo(T.field),direction:Rk(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Ff(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function Ik(n){let e=_k(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(S){const T=Xw(S);return T instanceof ar&&Cw(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(T=>function(b){return new Wc(Bo(b.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(S){let T;return T=typeof S=="object"?S.value:S,ah(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(S){const T=!!S.before,D=S.values||[];return new Hc(D,T)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const T=!S.before,D=S.values||[];return new Hc(D,T)}(t.endAt)),BA(e,o,c,l,d,"F",p,_)}function Sk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bo(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Bo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(i=>Xw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function Rk(n){return dk[n]}function Ck(n){return fk[n]}function Ak(n){return pk[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return Ut.fromServerFormat(n.fieldPath)}function Yw(n){return n instanceof wt?function(t){if(t.op==="=="){if(my(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(py(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(my(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(py(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:Ck(t.op),value:t.value}}}(n):n instanceof ar?function(t){const i=t.getFilters().map(o=>Yw(o));return i.length===1?i[0]:{compositeFilter:{op:Ak(t.op),filters:i}}}(n):Se()}function kk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i,o,l=Ce.min(),c=Ce.min(),d=Bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ht=e}}function xk(n){const e=Ik({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.ln=new Dk}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Wi.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new kt(nt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Zo(0)}static Qn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class bk{constructor(e){this.Gn=e,this.buffer=new kt(xy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Yn(3e5)})}}class Lk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(oh.oe);const i=new bk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Py)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Py):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,_;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),Fo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function Vk(n,e){return new Lk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.changes=new $s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&wl(i.mutation,o,An.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Me()){const o=bs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=fl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Me()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=ai();const c=vl(),d=function(){return vl()}();return t.forEach((p,_)=>{const v=i.get(_.key);o.has(_.key)&&(v===void 0||v.mutation instanceof Zi)?l=l.insert(_.key,_):v!==void 0?(c.set(_.key,v.mutation.getFieldMask()),wl(v.mutation,_,v.mutation.getFieldMask(),At.now())):c.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,v)=>c.set(_,v)),t.forEach((_,v)=>{var S;return d.set(_,new Fk(v,(S=c.get(_))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=vl();let o=new ut((c,d)=>c-d),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let v=i.get(p)||An.empty();v=d.applyToLocalView(_,v),i.set(p,v);const S=(o.get(d.batchId)||Me()).add(p);o=o.insert(d.batchId,S)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,v=p.value,S=Lw();v.forEach(T=>{if(!l.has(T)){const D=Bw(t.get(T),i.get(T));D!==null&&S.set(T,D),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(bs());let d=-1,p=l;return c.next(_=>X.forEach(_,(v,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,Me())).next(v=>({batchId:d,changes:Ow(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=fl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=fl();return this.indexManager.getCollectionParents(e,l).next(d=>X.forEach(d,p=>{const _=function(S,T){return new Bl(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(v=>{v.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,_)=>{const v=_.getKey();c.get(v)===null&&(c=c.insert(v,Gt.newInvalidDocument(v)))});let d=fl();return c.forEach((p,_)=>{const v=l.get(p);v!==void 0&&wl(v.mutation,_,An.empty(),At.now()),ch(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:xk(o.bundledQuery),readTime:xr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.overlays=new ut(ve.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bs();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=bs(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ut((_,v)=>_-v);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let v=l.get(_.largestBatchId);v===null&&(v=bs(),l=l.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const d=bs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,v)=>d.set(_,v)),!(d.size()>=o)););return X.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ok(t,i));let l=this.Er.get(t);l===void 0&&(l=Me(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.dr=new kt(bt.Ar),this.Rr=new kt(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new nt([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new nt([])),i=new bt(t,e),o=new bt(t,e+1);let l=Me();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new bt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Ue(e.br,t.br)}static Vr(e,t){return Ue(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(bt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sk(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Ue);return t.forEach(o=>{const l=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new bt(new ve(l),0);let d=new kt(Ue);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.br)),!0)},c),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new bt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.Nr=e,this.docs=function(){return new ut(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Gt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=ai();const c=t.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:v}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||wA(vA(v),i)<=0||(o.has(v.key)||ch(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Hk(this)}getSize(e){return X.resolve(this.size)}}class Hk extends Mk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.persistence=e,this.Br=new $s(t=>wp(t),Ep),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new kp,this.targetCount=0,this.Qr=Zo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new oh(0),this.Ur=!1,this.Ur=!0,this.Wr=new zk,this.referenceDelegate=e(this),this.Gr=new Wk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(o){return new qk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Pk(t),this.jr=new jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new $k(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new Kk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Kk extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Zr=new kp,this.Xr=null}static ei(e){return new Pp(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Qc{constructor(e,t){this.persistence=e,this.ri=new $s(i=>RA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Vk(this,t)}static ei(e,t){return new Qc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return D1()?8:IA(Qt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Gk;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Fo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Fo()<=Ve.DEBUG&&ce("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Fo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):X.resolve())}Xi(e,t){if(vy(t))return X.resolve(null);let i=Pr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Mf(t,null,"F"),i=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Me(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,d);return this.ss(t,_,c,p.readTime)?this.Xi(e,Mf(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return vy(t)||o.isEqual(Ce.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?X.resolve(null):(Fo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.os(e,c,t,yA(o,-1)).next(d=>d))})}rs(e,t){let i=new kt(Dw(e));return t.forEach((o,l)=>{ch(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Fo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Wi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ut(Ue),this.cs=new $s(l=>wp(l),Ep),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Yk(n,e,t,i){return new Xk(n,e,t,i)}async function e0(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Me();for(const _ of o){c.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}for(const _ of l){d.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:d}))})})}function Jk(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,v){const S=_.batch,T=S.keys();let D=X.resolve();return T.forEach(b=>{D=D.next(()=>v.getEntry(p,b)).next(U=>{const O=_.docVersions.get(b);We(O!==null),U.version.compareTo(O)<0&&(S.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),v.addEntry(U)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Me();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function t0(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Zk(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,S)=>{const T=o.get(S);if(!T)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,S)));let D=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Bt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),o=o.insert(S,D),function(U,O,B){return U.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,D,v)&&d.push(t.Gr.updateTargetData(l,D))});let p=ai(),_=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(eP(l,c,e.documentUpdates).next(v=>{p=v.Is,_=v.Es})),!i.isEqual(Ce.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return X.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function eP(n,e,t){let i=Me(),o=Me();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ai();return t.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function tP(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nP(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new ji(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function zf(n,e,t){const i=Ae(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ua(c))throw c;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Ny(n,e,t){const i=Ae(n);let o=Ce.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,v){const S=Ae(p),T=S.cs.get(v);return T!==void 0?X.resolve(S.us.get(T)):S.Gr.getTargetData(_,v)}(i,c,Pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?l:Me())).next(d=>(rP(i,$A(e),d),{documents:d,ds:l})))}function rP(n,e,t){let i=n.ls.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Dy{constructor(){this.activeTargetIds=QA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(){this._o=new Dy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Dy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function pf(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class lP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=pf(),p=this.No(t,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,l,c),this.Bo(t,p,_,o).then(v=>(ce("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Qo("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=oP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=pf();return new Promise((c,d)=>{const p=new pw;p.setWithCredentials(!0),p.listenOnce(mw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case kc.NO_ERROR:const v=p.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case kc.TIMEOUT:ce(Wt,`RPC '${e}' ${l} timed out`),d(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=p.getStatus();if(ce(Wt,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T==null?void 0:T.error;if(D&&D.status&&D.message){const b=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(B)>=0?B:Y.UNKNOWN}(D.status);d(new fe(b,D.message))}else d(new fe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Wt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);ce(Wt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=pf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yw(),d=_w(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=c.createWebChannel(v,p);let T=!1,D=!1;const b=new aP({Eo:O=>{D?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,O),S.send(O))},Ao:()=>S.close()}),U=(O,B,z)=>{O.listen(B,G=>{try{z(G)}catch(J){setTimeout(()=>{throw J},0)}})};return U(S,dl.EventType.OPEN,()=>{D||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),b.So())}),U(S,dl.EventType.CLOSE,()=>{D||(D=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),b.Do())}),U(S,dl.EventType.ERROR,O=>{D||(D=!0,Qo(Wt,`RPC '${e}' stream ${o} transport errored:`,O),b.Do(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),U(S,dl.EventType.MESSAGE,O=>{var B;if(!D){const z=O.data[0];We(!!z);const G=z,J=(G==null?void 0:G.error)||((B=G[0])===null||B===void 0?void 0:B.error);if(J){ce(Wt,`RPC '${e}' stream ${o} received error:`,J);const he=J.status;let ae=function(A){const C=vt[A];if(C!==void 0)return $w(C)}(he),N=J.message;ae===void 0&&(ae=Y.INTERNAL,N="Unknown error status: "+he+" with message "+J.message),D=!0,b.Do(new fe(ae,N)),S.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,z),b.vo(z)}}),U(d,gw.STAT_EVENT,O=>{O.stat===Nf.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Nf.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new mk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new n0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uP extends r0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=yk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?xr(c.readTime):Ce.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Bf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Lf(p)?{documents:Ek(l,p)}:{query:Tk(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ww(l,c.resumeToken);const _=Ff(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Gc(l,c.snapshotVersion.toTimestamp());const _=Ff(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=Sk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Bf(this.serializer),t.removeTarget=e,this.c_(t)}}class cP extends r0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=wk(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Bf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vk(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Uf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Uf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{qs(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.k_.add(4),await ql(_),_.K_.set("Unknown"),_.k_.delete(4),await mh(_)}(this))})}),this.K_=new dP(i,o)}}async function mh(n){if(qs(n))for(const e of n.q_)await e(!0)}async function ql(n){for(const e of n.q_)await e(!1)}function i0(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Op(t)?bp(t):ca(t).s_()&&Dp(t,e))}function Np(n,e){const t=Ae(n),i=ca(t);t.B_.delete(e),i.s_()&&s0(t,e),t.B_.size===0&&(i.s_()?i.a_():qs(t)&&t.K_.set("Unknown"))}function Dp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).V_(e)}function s0(n,e){n.U_.xe(e),ca(n).m_(e)}function bp(n){n.U_=new hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.K_.F_()}function Op(n){return qs(n)&&!ca(n).i_()&&n.B_.size>0}function qs(n){return Ae(n).k_.size===0}function o0(n){n.U_=void 0}async function pP(n){n.K_.set("Online")}async function mP(n){n.B_.forEach((e,t)=>{Dp(n,e)})}async function gP(n,e){o0(n),Op(n)?(n.K_.O_(e),bp(n)):n.K_.set("Unknown")}async function _P(n,e,t){if(n.K_.set("Online"),e instanceof Hw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xc(n,i)}else if(e instanceof Dc?n.U_.$e(e):e instanceof qw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ce.min()))try{const i=await t0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(_);v&&l.B_.set(_,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(Bt.EMPTY_BYTE_STRING,v.snapshotVersion)),s0(l,p);const S=new ji(v.target,p,_,v.sequenceNumber);Dp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await Xc(n,i)}}async function Xc(n,e,t){if(!ua(e))throw e;n.k_.add(1),await ql(n),n.K_.set("Offline"),t||(t=()=>t0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mh(n)})}function a0(n,e){return e().catch(t=>Xc(n,t,e))}async function gh(n){const e=Ae(n),t=Xi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;yP(e);)try{const o=await tP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,vP(e,o)}catch(o){await Xc(e,o)}l0(e)&&u0(e)}function yP(n){return qs(n)&&n.L_.length<10}function vP(n,e){n.L_.push(e);const t=Xi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function l0(n){return qs(n)&&!Xi(n).i_()&&n.L_.length>0}function u0(n){Xi(n).start()}async function wP(n){Xi(n).w_()}async function EP(n){const e=Xi(n);for(const t of n.L_)e.g_(t.mutations)}async function TP(n,e,t){const i=n.L_.shift(),o=Rp.from(i,e,t);await a0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await gh(n)}async function IP(n,e){e&&Xi(n).f_&&await async function(i,o){if(function(c){return lk(c)&&c!==Y.ABORTED}(o.code)){const l=i.L_.shift();Xi(i).__(),await a0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await gh(i)}}(n,e),l0(n)&&u0(n)}async function Oy(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=qs(t);t.k_.add(3),await ql(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mh(t)}async function SP(n,e){const t=Ae(n);e?(t.k_.delete(2),await mh(t)):e||(t.k_.add(2),await ql(t),t.K_.set("Unknown"))}function ca(n){return n.W_||(n.W_=function(t,i,o){const l=Ae(t);return l.b_(),new uP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:pP.bind(null,n),mo:mP.bind(null,n),po:gP.bind(null,n),R_:_P.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Op(n)?bp(n):n.K_.set("Unknown")):(await n.W_.stop(),o0(n))})),n.W_}function Xi(n){return n.G_||(n.G_=function(t,i,o){const l=Ae(t);return l.b_(),new cP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:wP.bind(null,n),po:IP.bind(null,n),p_:EP.bind(null,n),y_:TP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await gh(n)):(await n.G_.stop(),n.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Lp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(n,e){if(oi("AsyncQueue",`${e}: ${n}`),ua(n))return new fe(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.z_=new ut(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ea{constructor(e,t,i,o,l,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ea(e,t,Ko.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class CP{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=Vy(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function Vy(){return new $s(n=>Nw(n),uh)}async function c0(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new RP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Vp(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Mp(t)}async function h0(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function AP(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Mp(t)}function kP(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Mp(n){n.X_.forEach(e=>{e.next()})}var $f,My;(My=$f||($f={})).na="default",My.Cache="cache";class d0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.key=e}}class p0{constructor(e){this.key=e}}class PP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=Dw(e),this.ma=new Ko(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Ly,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const T=o.get(v),D=ch(this.query,S)?S:null,b=!!T&&this.mutatedKeys.has(T.key),U=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let O=!1;T&&D?T.data.isEqual(D.data)?b!==U&&(i.track({type:3,doc:D}),O=!0):this.ya(T,D)||(i.track({type:2,doc:D}),O=!0,(p&&this.Va(D,p)>0||_&&this.Va(D,_)<0)&&(d=!0)):!T&&D?(i.track({type:0,doc:D}),O=!0):T&&!D&&(i.track({type:1,doc:T}),O=!0,(p||_)&&(d=!0)),O&&(D?(c=c.add(D),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,S)=>function(D,b){const U=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return U(D)-U(b)}(v.type,S.type)||this.Va(v.doc,S.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new ea(this.query,e.ma,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ly,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new p0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new f0(i))}),t}va(e){this.da=e.ds,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ea.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NP{constructor(e){this.key=e,this.Fa=!1}}class DP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new $s(d=>Nw(d),uh),this.Oa=new Map,this.Na=new Set,this.La=new ut(ve.comparator),this.Ba=new Map,this.ka=new kp,this.qa={},this.Qa=new Map,this.Ka=Zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function bP(n,e,t=!0){const i=w0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await m0(i,e,t,!0),o}async function OP(n,e){const t=w0(n);await m0(t,e,!0,!1)}async function m0(n,e,t,i){const o=await nP(n.localStore,Pr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await LP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&i0(n.remoteStore,o),d}async function LP(n,e,t,i,o){n.Ua=(S,T,D)=>async function(U,O,B,z){let G=O.view.ga(B);G.ss&&(G=await Ny(U.localStore,O.query,!1).then(({documents:N})=>O.view.ga(N,G)));const J=z&&z.targetChanges.get(O.targetId),he=z&&z.targetMismatches.get(O.targetId)!=null,ae=O.view.applyChanges(G,U.isPrimaryClient,J,he);return Uy(U,O.targetId,ae.ba),ae.snapshot}(n,S,T,D);const l=await Ny(n.localStore,e,!0),c=new PP(e,l.ds),d=c.ga(l.documents),p=$l.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);Uy(n,t,_.ba);const v=new xP(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function VP(n,e,t){const i=Ae(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!uh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Np(i.remoteStore,o.targetId),qf(i,o.targetId)}).catch(la)):(qf(i,o.targetId),await zf(i.localStore,o.targetId,!0))}async function MP(n,e){const t=Ae(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Np(t.remoteStore,i.targetId))}async function FP(n,e,t){const i=HP(n);try{const o=await function(c,d){const p=Ae(c),_=At.now(),v=d.reduce((D,b)=>D.add(b.key),Me());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let b=ai(),U=Me();return p.hs.getEntries(D,v).next(O=>{b=O,b.forEach((B,z)=>{z.isValidDocument()||(U=U.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,b)).next(O=>{S=O;const B=[];for(const z of d){const G=rk(z,S.get(z.key).overlayedDocument);G!=null&&B.push(new Zi(z.key,G,Iw(G.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(D,_,B,d)}).next(O=>{T=O;const B=O.applyToLocalDocumentSet(S,U);return p.documentOverlayCache.saveOverlays(D,O.batchId,B)})}).then(()=>({batchId:T.batchId,changes:Ow(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.qa[c.currentUser.toKey()];_||(_=new ut(Ue)),_=_.insert(d,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await Hl(i,o.changes),await gh(i.remoteStore)}catch(o){const l=Vp(o,"Failed to persist write");t.reject(l)}}async function g0(n,e){const t=Ae(n);try{const i=await Zk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?We(c.Fa):o.removedDocuments.size>0&&(We(c.Fa),c.Fa=!1))}),await Hl(t,i,e)}catch(i){await la(i)}}function Fy(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let _=!1;p.queries.forEach((v,S)=>{for(const T of S.J_)T.ea(d)&&(_=!0)}),_&&Mp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UP(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new ut(ve.comparator);c=c.insert(l,Gt.newNoDocument(l,Ce.min()));const d=Me().add(l),p=new fh(Ce.min(),new Map,new ut(Ue),c,d);await g0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Fp(i)}else await zf(i.localStore,e,!1).then(()=>qf(i,e,t)).catch(la)}async function jP(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await Jk(t.localStore,e);y0(t,i,null),_0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hl(t,o)}catch(o){await la(o)}}async function BP(n,e,t){const i=Ae(n);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return p.mutationQueue.lookupMutationBatch(_,d).next(S=>(We(S!==null),v=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>p.localDocuments.getDocuments(_,v))})}(i.localStore,e);y0(i,e,t),_0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hl(i,o)}catch(o){await la(o)}}function _0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function y0(n,e,t){const i=Ae(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||v0(n,i)})}function v0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Np(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Fp(n))}function Uy(n,e,t){for(const i of t)i instanceof f0?(n.ka.addReference(i.key,e),zP(n,i)):i instanceof p0?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||v0(n,i.key)):Se()}function zP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(i),Fp(n))}function Fp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(nt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new NP(t)),n.La=n.La.insert(t,i),i0(n.remoteStore,new ji(Pr(Tp(t.path)),i,"TargetPurposeLimboResolution",oh.oe))}}async function Hl(n,e,t){const i=Ae(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(_=>{var v;if((_||t)&&i.isPrimaryClient){const S=_?!_.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=xp.zi(p.targetId,_);l.push(S)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(_,T=>X.forEach(T.Wi,D=>v.persistence.referenceDelegate.addReference(S,T.targetId,D)).next(()=>X.forEach(T.Gi,D=>v.persistence.referenceDelegate.removeReference(S,T.targetId,D)))))}catch(S){if(!ua(S))throw S;ce("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const T=S.targetId;if(!S.fromCache){const D=v.us.get(T),b=D.snapshotVersion,U=D.withLastLimboFreeSnapshotVersion(b);v.us=v.us.insert(T,U)}}}(i.localStore,l))}async function $P(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await e0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new fe(Y.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hl(t,i.Ts)}}function qP(n,e){const t=Ae(n),i=t.Ba.get(e);if(i&&i.Fa)return Me().add(i.key);{let o=Me();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function w0(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UP.bind(null,e),e.Ma.R_=AP.bind(null,e.eventManager),e.Ma.Wa=kP.bind(null,e.eventManager),e}function HP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BP.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Yk(this.persistence,new Qk,e.initialUser,this.serializer)}ja(e){return new Zw(Pp.ei,this.serializer)}za(e){return new iP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class WP extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){We(this.persistence.referenceDelegate instanceof Qc);const i=this.persistence.referenceDelegate.garbageCollector;return new Ok(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Zw(i=>Qc.ei(i,t),this.serializer)}}class Hf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$P.bind(null,this.syncEngine),await SP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CP}()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),i=function(l){return new lP(l)}(e.databaseInfo);return function(l,c,d,p){return new hP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new fP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Fy(this.syncEngine,t,0),function(){return by.p()?new by:new sP}())}createSyncEngine(e,t){return function(o,l,c,d,p,_,v){const S=new DP(o,l,c,d,p,_);return v&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);ce("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await ql(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hf.provider={build:()=>new Hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await e0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GP(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Oy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Oy(e.remoteStore,o)),n._onlineComponents=e}async function GP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new Yc)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await gf(n,new WP(void 0));return n._offlineComponents}async function T0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await jy(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await jy(n,new Hf))),n._onlineComponents}function QP(n){return T0(n).then(e=>e.syncEngine)}async function I0(n){const e=await T0(n),t=e.eventManager;return t.onListen=bP.bind(null,e.syncEngine),t.onUnlisten=VP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MP.bind(null,e.syncEngine),t}function XP(n,e,t={}){const i=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new E0({next:T=>{v.eu(),c.enqueueAndForget(()=>h0(l,S));const D=T.docs.has(d);!D&&T.fromCache?_.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&p&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(T)},error:T=>_.reject(T)}),S=new d0(Tp(d.path),v,{includeMetadataChanges:!0,ua:!0});return c0(l,S)}(await I0(n),n.asyncQueue,e,t,i)),i.promise}function YP(n,e,t={}){const i=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new E0({next:T=>{v.eu(),c.enqueueAndForget(()=>h0(l,S)),T.fromCache&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(T)},error:T=>_.reject(T)}),S=new d0(d,v,{includeMetadataChanges:!0,ua:!0});return c0(l,S)}(await I0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e,t){if(!t)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JP(n,e,t,i){if(e===!0&&i===!0)throw new fe(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zy(n){if(!ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $y(n){if(ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(n);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uA;switch(i.type){case"firstParty":return new fA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=By.get(t);i&&(ce("ComponentProvider","Removing Datastore"),By.delete(t),i.terminate())}(this),Promise.resolve()}}function ZP(n,e,t,i={}){var o;const l=(n=li(n,yh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Kt.MOCK_USER;else{d=Cv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(_)}n._authCredentials=new cA(new vw(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class $i extends ha{constructor(e,t,i){super(e,t,Tp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ve(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function Cn(n,e,...t){if(n=ot(n),R0("collection","path",e),n instanceof yh){const i=nt.fromString(e,...t);return $y(i),new $i(n,null,i)}{if(!(n instanceof gn||n instanceof $i))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return $y(i),new $i(n.firestore,null,i)}}function Wl(n,e,...t){if(n=ot(n),arguments.length===1&&(e=ww.newId()),R0("doc","path",e),n instanceof yh){const i=nt.fromString(e,...t);return zy(i),new gn(n,null,new ve(i))}{if(!(n instanceof gn||n instanceof $i))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return zy(i),new gn(n.firestore,n instanceof $i?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new n0(this,"async_queue_retry"),this.fu=()=>{const i=mf();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ua(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw oi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Lp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class da extends yh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Hy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function Hs(n,e){const t=typeof n=="object"?n:sp(),i=typeof n=="string"?n:"(default)",o=nh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Iv("firestore");l&&ZP(o,...l)}return o}function Up(n){if(n._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ex(n),n._firestoreClient}function ex(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,_,v){return new kA(d,p,_,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,S0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new KP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Bt.fromBase64String(e))}catch(t){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^__.*__$/;class nx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class C0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class zp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(A0(this.Mu)&&tx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class rx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ph(e)}$u(e,t,i,o=!1){return new zp({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new rx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ix(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Hp("Data must be an object, but it was:",c,i);const d=k0(i,c);let p,_;if(l.merge)p=new An(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const T=Wf(e,S,t);if(!c.contains(T))throw new fe(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);x0(v,T)||v.push(T)}p=new An(v),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new nx(new mn(d),p,_)}class Eh extends wh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}class qp extends wh{_toFieldTransform(e){return new ZA(e.path,new xl)}isEqual(e){return e instanceof qp}}function sx(n,e,t,i){const o=n.$u(1,e,t);Hp("Data must be an object, but it was:",o,i);const l=[],c=mn.empty();Ji(i,(p,_)=>{const v=Wp(e,p,t);_=ot(_);const S=o.Bu(v);if(_ instanceof Eh)l.push(v);else{const T=Kl(_,S);T!=null&&(l.push(v),c.set(v,T))}});const d=new An(l);return new C0(c,d,o.fieldTransforms)}function ox(n,e,t,i,o,l){const c=n.$u(1,e,t),d=[Wf(e,i,t)],p=[o];if(l.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Wf(e,l[T])),p.push(l[T+1]);const _=[],v=mn.empty();for(let T=d.length-1;T>=0;--T)if(!x0(_,d[T])){const D=d[T];let b=p[T];b=ot(b);const U=c.Bu(D);if(b instanceof Eh)_.push(D);else{const O=Kl(b,U);O!=null&&(_.push(D),v.set(D,O))}}const S=new An(_);return new C0(v,S,c.fieldTransforms)}function ax(n,e,t,i=!1){return Kl(t,n.$u(i?4:3,e))}function Kl(n,e){if(P0(n=ot(n)))return Hp("Unsupported field value:",e,n),k0(n,e);if(n instanceof wh)return function(i,o){if(!A0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Kl(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:Gc(o.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,l)}}if(i instanceof jp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ta)return{bytesValue:Ww(o.serializer,i._byteString)};if(i instanceof gn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ap(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Bp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Ip(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${_h(i)}`)}(n,e)}function k0(n,e){const t={};return Ew(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(i,o)=>{const l=Kl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function P0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof jp||n instanceof ta||n instanceof gn||n instanceof wh||n instanceof Bp)}function Hp(n,e,t){if(!P0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=_h(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Wf(n,e,t){if((e=ot(e))instanceof vh)return e._internalPath;if(typeof e=="string")return Wp(n,e);throw Jc("Field path arguments must be of type string or ",n,!1,void 0,t)}const lx=new RegExp("[~\\*/\\[\\]]");function Wp(n,e,t){if(e.search(lx)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vh(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(Y.INVALID_ARGUMENT,d+n+p)}function x0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ux(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ux extends N0{data(){return super.data()}}function Kp(n,e){return typeof e=="string"?Wp(n,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class hx extends Gp{}function Ir(n,e,...t){let i=[];e instanceof Gp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Qp).length,d=l.filter(p=>p instanceof Th).length;if(c>1||c>0&&d>0)throw new fe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Th extends hx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Th(e,t,i)}_apply(e){const t=this._parse(e);return D0(e._query,t),new ha(e.firestore,e.converter,Vf(e._query,t))}_parse(e){const t=$p(e.firestore);return function(l,c,d,p,_,v,S){let T;if(_.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ky(S,v);const D=[];for(const b of S)D.push(Wy(p,l,b));T={arrayValue:{values:D}}}else T=Wy(p,l,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ky(S,v),T=ax(d,c,S,v==="in"||v==="not-in");return wt.create(_,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sr(n,e,t){const i=e,o=Kp("where",n);return Th._create(o,i,t)}class Qp extends Gp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)D0(c,p),c=Vf(c,p)}(e._query,t),new ha(e.firestore,e.converter,Vf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Wy(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new fe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xw(e)&&t.indexOf("/")!==-1)throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(nt.fromString(t));if(!ve.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fy(n,new ve(i))}if(t instanceof gn)return fy(n,t._key);throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function Ky(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D0(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dx{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ji(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>gt(c.doubleValue));return new Bp(l)}convertGeoPoint(e){return new jp(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=lh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);We(Jw(i));const o=new kl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||oi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b0 extends N0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class bc extends b0{data(e={}){return super.data(e)}}class px{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ml(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new bc(this._firestore,this._userDataWriter,i.key,i,new ml(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,v=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:mx(d.type),doc:p,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n){n=li(n,gn);const e=li(n.firestore,da);return XP(Up(e),n._key).then(t=>yx(e,n,t))}class O0 extends dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function Rr(n){n=li(n,ha);const e=li(n.firestore,da),t=Up(e),i=new O0(e);return cx(n._query),YP(t,n._query).then(o=>new px(e,i,n,o))}function gx(n,e,t,...i){n=li(n,gn);const o=li(n.firestore,da),l=$p(o);let c;return c=typeof(e=ot(e))=="string"||e instanceof vh?ox(l,"updateDoc",n._key,e,t,i):sx(l,"updateDoc",n._key,e),Jp(o,[c.toMutation(n._key,or.exists(!0))])}function _x(n){return Jp(li(n.firestore,da),[new Sp(n._key,or.none())])}function Yp(n,e){const t=li(n.firestore,da),i=Wl(n),o=fx(n.converter,e);return Jp(t,[ix($p(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function Jp(n,e){return function(i,o){const l=new ri;return i.asyncQueue.enqueueAndForget(async()=>FP(await QP(i),o,l)),l.promise}(Up(n),e)}function yx(n,e,t){const i=t.docs.get(e._key),o=new O0(n);return new b0(n,o,e._key,i,new ml(t.hasPendingWrites,t.fromCache),e.converter)}function L0(){return new qp("serverTimestamp")}(function(e,t=!0){(function(o){aa=o})(zs),Vs(new Hi("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new da(new hA(i.getProvider("auth-internal")),new mA(i.getProvider("app-check-internal")),function(_,v){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ar(ay,"4.7.5",e),Ar(ay,"4.7.5","esm2017")})();const vx={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};sa(vx);const wx=()=>{const n=ia(),[e,t]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState(!1),d=Go(),p=Hs();F.useEffect(()=>{const z=d.onAuthStateChanged(async G=>{if(t(G),G){const J=G.email,he=await _(J);o(he),n("/dashboard",{state:{userData:he}})}});return()=>z()},[]);const _=async z=>{try{const G=Ir(Cn(p,"RegisteredAdmin"),Sr("email","==",z)),J=await Rr(G);if(!J.empty)return J.docs[0].data();const he=Ir(Cn(p,"RegisteredTeacher"),Sr("email","==",z)),ae=await Rr(he);if(!ae.empty)return ae.docs[0].data();const N=Ir(Cn(p,"RegisteredStudent"),Sr("email","==",z)),R=await Rr(N);return R.empty?null:R.docs[0].data()}catch(G){return console.error("Error fetching user data:",G),null}},v=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},S=()=>{c(!1),n("/dashboard",{state:{userData:i}})},T=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},D=()=>{c(!l)},b=async()=>{const z=Go();try{await Pf(z),console.log("User signed out successfully"),n("/login")}catch(G){console.error("Error signing out:",G)}},U=["Alice Smith","Bob Johnson","Carol Williams","David Brown","Eve Davis"],O=["Smith","Johnson","Williams","Brown","Davis"],B=["Scanner-001","Scanner-002","Scanner-003"];return E.jsxs(E.Fragment,{children:[E.jsx("button",{className:ke.hamburgerBtn,onClick:D,children:l?E.jsx(yv,{size:24}):E.jsx(p1,{size:24})}),E.jsxs("div",{className:`${ke.sidebar} ${l?ke.sidebarOpen:""}`,children:[E.jsx("div",{className:ke.profileSection,children:e&&i&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:ke.avatar,children:E.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),E.jsxs("div",{className:ke.userInfo,children:[E.jsx("h3",{children:i.name}),E.jsx("p",{children:e.email}),E.jsx("br",{}),E.jsx("span",{children:i.position})]})]})}),E.jsx("nav",{className:ke.navigation,children:E.jsxs("ul",{className:ke.navList,children:[E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{className:ke.navLink,onClick:S,children:[E.jsx(d1,{size:20}),E.jsx("span",{children:"Dashboard"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{onClick:v,className:ke.navLink,style:{cursor:"pointer"},children:[E.jsx(i1,{size:20}),E.jsx("span",{children:"Create Event"})]})}),E.jsxs(zo,{to:"/dashboard/event-list",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(a1,{size:20}),E.jsx("span",{children:"Event List"})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(r1,{size:20}),E.jsx("span",{children:"Archive"})]})}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(dc,{size:20}),E.jsx("span",{children:"Registered Students"})]}),E.jsx("ul",{className:ke.dropdown,children:U.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(dc,{size:20}),E.jsx("span",{children:"Registered Teacher"})]}),E.jsx("ul",{className:ke.dropdown,children:O.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs(zo,{to:"/dashboard/teacher-registration",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(dc,{size:20}),E.jsx("span",{children:"Teacher Registration"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs(zo,{to:"/dashboard/student-registration",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(dc,{size:20}),E.jsx("span",{children:"Student Registration"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs(zo,{to:"/dashboard/nfc-reader",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(x_,{size:20}),E.jsx("span",{children:"NFC Reader"})]})}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(x_,{size:20}),E.jsx("span",{children:"ESP32 NFC Scanners"})]}),E.jsx("ul",{className:ke.dropdown,children:B.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{className:ke.navLink,onClick:T,children:[E.jsx(c1,{size:20}),E.jsx("span",{children:"File Manager"})]})})]})}),E.jsxs("button",{className:ke.logoutBtn,onClick:b,children:[E.jsx(f1,{size:20}),E.jsx("span",{children:"Logout"})]})]}),l&&E.jsx("div",{className:ke.overlay,onClick:D})]})};function Ex(){var i;const n=cr(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return E.jsxs("div",{className:ke.dashboardContainer,children:[E.jsx(wx,{}),E.jsx("main",{className:ke.mainContent,children:t?E.jsxs("div",{className:ke.welcomeContainer,children:[E.jsxs("h1",{className:ke.welcomeTitle,children:["Welcome",E.jsx("br",{})," ",E.jsx("span",{children:e==null?void 0:e.name})]}),E.jsx("p",{className:ke.welcomeText,children:"Select an option from the sidebar to get started"})]}):E.jsx(JT,{})})]})}const Tx="_container_1vton_5",Ix="_card_1vton_17",Sx="_cardHeader_1vton_33",Rx="_cardTitle_1vton_45",Cx="_form_1vton_59",Ax="_formGrid_1vton_69",kx="_formGroup_1vton_93",Px="_label_1vton_105",xx="_input_1vton_117",Nx="_select_1vton_119",Dx="_button_1vton_165",bx="_tableContainer_1vton_215",Ox="_table_1vton_215",Lx="_status_1vton_273",Vx="_statusPending_1vton_289",Mx="_statusOngoing_1vton_299",Fx="_statusCompleted_1vton_309",Ux="_error_1vton_321",jx="_inputError_1vton_333",be={container:Tx,card:Ix,cardHeader:Sx,cardTitle:Rx,form:Cx,formGrid:Ax,formGroup:kx,label:Px,input:xx,select:Nx,button:Dx,tableContainer:bx,table:Ox,status:Lx,statusPending:Vx,statusOngoing:Mx,statusCompleted:Fx,error:Ux,inputError:jx},Bx="_buttons_85dii_1",zx="_add_85dii_77",$x="_archive_85dii_77",qx="_logout_85dii_77",Hx="_progress_85dii_77",Wx="_filemanager_85dii_77",Kx="_new_event_85dii_77",jt={buttons:Bx,add:zx,archive:$x,logout:qx,progress:Hx,filemanager:Wx,new_event:Kx},Gx=()=>{const n=cr(),{userData:e}=n.state||{},t=Hs(),[i,o]=F.useState(""),[l,c]=F.useState("unlimited"),[d,p]=F.useState(""),[_,v]=F.useState(""),[S,T]=F.useState("event"),[D,b]=F.useState(""),[U,O]=F.useState("pending"),[B,z]=F.useState(""),[G,J]=F.useState(""),[he,ae]=F.useState(""),[N,R]=F.useState(""),A=["ESP32-001","ESP32-002","ESP32-003"],C=async L=>{L.preventDefault();try{const k={eventName:i,entryLimit:l,maxEntries:l==="limited"?parseInt(d):null,locations:_,purpose:S,selectedEsp32:D,status:U,startDate:B,startTime:G,endDate:he,endTime:N,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},De=await Yp(Cn(t,"PendingEvent"),k);await gx(De,{docId:De.id}),console.log("Event created with ID: ",De.id),alert("Event created successfully!"),x()}catch(k){console.error("Error creating event: ",k),alert("Error creating event. Please try again.")}},x=()=>{o(""),c("unlimited"),p(""),v(""),T("event"),b(""),O("pending"),z(""),J(""),ae(""),R("")};return E.jsx("div",{className:be.container,children:E.jsxs("div",{className:be.card,children:[E.jsx("div",{className:be.cardHeader,children:E.jsx("h2",{className:be.cardTitle,children:"Create New Event"})}),E.jsxs("form",{className:be.form,onSubmit:C,children:[E.jsxs("div",{className:be.formGrid,children:[E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Event Name"}),E.jsx("input",{type:"text",className:be.input,value:i,onChange:L=>o(L.target.value),placeholder:"Enter event name"})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Entry Limit"}),E.jsxs("select",{className:be.select,value:l,onChange:L=>c(L.target.value),children:[E.jsx("option",{value:"unlimited",children:"Unlimited"}),E.jsx("option",{value:"limited",children:"Limited"})]})]}),l==="limited"&&E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Maximum Entries"}),E.jsx("input",{type:"number",className:be.input,value:d,onChange:L=>p(L.target.value),placeholder:"Enter maximum entries"})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Location"}),E.jsx("input",{type:"text",className:be.input,value:_,onChange:L=>v(L.target.value),placeholder:"Enter location"})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Purpose"}),E.jsxs("select",{className:be.select,value:S,onChange:L=>T(L.target.value),children:[E.jsx("option",{value:"event",children:"Event Attendance"}),E.jsx("option",{value:"membership",children:"Membership Attendance"}),E.jsx("option",{value:"room",children:"Room Attendance"})]})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"ESP32 Device"}),E.jsx("select",{className:be.select,value:D,onChange:L=>b(L.target.value),children:A.map(L=>E.jsx("option",{value:L,children:L},L))})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Status"}),E.jsxs("select",{className:be.select,value:U,onChange:L=>O(L.target.value),children:[E.jsx("option",{value:"pending",children:"Pending"}),E.jsx("option",{value:"ongoing",children:"Ongoing"}),E.jsx("option",{value:"completed",children:"Completed"}),E.jsx("option",{value:"pause",children:"Pause"}),E.jsx("option",{value:"continued",children:"Continued"})]})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Start Date"}),E.jsx("input",{type:"date",className:be.input,value:B,onChange:L=>z(L.target.value)})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"Start Time"}),E.jsx("input",{type:"time",className:be.input,value:G,onChange:L=>J(L.target.value)})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"End Date"}),E.jsx("input",{type:"date",className:be.input,value:he,onChange:L=>ae(L.target.value)})]}),E.jsxs("div",{className:be.formGroup,children:[E.jsx("label",{className:be.label,children:"End Time"}),E.jsx("input",{type:"time",className:be.input,value:N,onChange:L=>R(L.target.value)})]})]}),E.jsx("button",{type:"submit",className:jt.buttons,children:"Create Event"})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebasestorage.googleapis.com",M0="storageBucket",Qx=2*60*1e3,Xx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Dr{constructor(e,t,i=0){super(_f(e),`Firebase Storage: ${t} (${_f(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function _f(n){return"storage/"+n}function Zp(){const n="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,n)}function Yx(n){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Jx(n){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,n)}function eN(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tN(n){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function nN(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rN(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function iN(n){return new dt(ht.INVALID_URL,"Invalid URL '"+n+"'.")}function sN(n){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function oN(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+M0+"' property when initializing the app?")}function aN(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lN(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uN(n){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kf(n){return new dt(ht.INVALID_ARGUMENT,n)}function F0(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function cN(n){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(n,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ll(n){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=tn.makeFromUrl(e,t)}catch{return new tn(e,"")}if(i.path==="")return i;throw sN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${v}/b/${o}/o${T}`,"i"),b={bucket:1,path:3},U=t===V0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",B=new RegExp(`^https?://${U}/${o}/${O}`,"i"),G=[{regex:d,indices:p,postModify:l},{regex:D,indices:b,postModify:_},{regex:B,indices:{bucket:1,path:2},postModify:_}];for(let J=0;J<G.length;J++){const he=G[J],ae=he.regex.exec(e);if(ae){const N=ae[he.indices.bucket];let R=ae[he.indices.path];R||(R=""),i=new tn(N,R),he.postModify(i);break}}if(i==null)throw iN(e);return i}}class hN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let _=!1;function v(...O){_||(_=!0,e.apply(null,O))}function S(O){o=setTimeout(()=>{o=null,n(D,p())},O)}function T(){l&&clearTimeout(l)}function D(O,...B){if(_){T();return}if(O){T(),v.call(null,O,...B);return}if(p()||c){T(),v.call(null,O,...B);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,S(G)}let b=!1;function U(O){b||(b=!0,T(),!_&&(o!==null?(O||(d=2),clearTimeout(o),S(0)):O||(d=1)))}return S(0),l=setTimeout(()=>{c=!0,U(!0)},t),U}function fN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n){return n!==void 0}function mN(n){return typeof n=="object"&&!Array.isArray(n)}function em(n){return typeof n=="string"||n instanceof String}function Gy(n){return tm()&&n instanceof Blob}function tm(){return typeof Blob<"u"}function Gf(n,e,t,i){if(i<e)throw Kf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Kf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function U0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ls;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ls||(Ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,i,o,l,c,d,p,_,v,S,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=v,this.connectionFactory_=S,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,b)=>{this.resolve_=D,this.reject_=b,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new wc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ls.NO_ERROR,p=l.getStatus();if(!d||gN(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ls.ABORT;i(!1,new wc(!1,null,v));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new wc(_,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());pN(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Zp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?F0():rN();c(p)}else{const p=nN();c(p)}};this.canceled_?t(!1,new wc(!1,null,!0)):this.backoffId_=dN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function yN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function EN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function TN(n,e,t,i,o,l,c=!0){const d=U0(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return wN(_,e),yN(_,t),vN(_,l),EN(_,i),new _N(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SN(...n){const e=IN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(tm())return new Blob(n);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){if(typeof atob>"u")throw uN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yf{constructor(e,t){this.data=e,this.contentType=t||null}}function AN(n,e){switch(n){case Cr.RAW:return new yf(j0(e));case Cr.BASE64:case Cr.BASE64URL:return new yf(B0(n,e));case Cr.DATA_URL:return new yf(PN(e),xN(e))}throw Zp()}function j0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function kN(n){let e;try{e=decodeURIComponent(n)}catch{throw El(Cr.DATA_URL,"Malformed data URL.")}return j0(e)}function B0(n,e){switch(n){case Cr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw El(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw El(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CN(e)}catch(o){throw o.message.includes("polyfill")?o:El(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class z0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw El(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=NN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function PN(n){const e=new z0(n);return e.base64?B0(Cr.BASE64,e.rest):kN(e.rest)}function xN(n){return new z0(n).contentType}function NN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){let i=0,o="";Gy(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gy(this.data_)){const i=this.data_,o=RN(i,e,t);return o===null?null:new Ui(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ui(i,!0)}}static getBlob(...e){if(tm()){const t=e.map(i=>i instanceof Ui?i.data_:i);return new Ui(SN.apply(null,t))}else{const t=e.map(c=>em(c)?AN(Cr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Ui(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n){let e;try{e=JSON.parse(n)}catch{return null}return mN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function $0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,e){return e}class en{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||ON}}let Ec=null;function LN(n){return!em(n)||n.length<2?n:$0(n)}function q0(){if(Ec)return Ec;const n=[];n.push(new en("bucket")),n.push(new en("generation")),n.push(new en("metageneration")),n.push(new en("name","fullPath",!0));function e(l,c){return LN(c)}const t=new en("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new en("size");return o.xform=i,n.push(o),n.push(new en("timeCreated")),n.push(new en("updated")),n.push(new en("md5Hash",null,!0)),n.push(new en("cacheControl",null,!0)),n.push(new en("contentDisposition",null,!0)),n.push(new en("contentEncoding",null,!0)),n.push(new en("contentLanguage",null,!0)),n.push(new en("contentType",null,!0)),n.push(new en("metadata","customMetadata",!0)),Ec=n,Ec}function VN(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new tn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function MN(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return VN(i,n),i}function H0(n,e,t){const i=nm(e);return i===null?null:MN(n,i,t)}function FN(n,e,t,i){const o=nm(e);if(o===null||!em(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(_=>{const v=n.bucket,S=n.fullPath,T="/b/"+c(v)+"/o/"+c(S),D=Gl(T,t,i),b=U0({alt:"media",token:_});return D+b})[0]}function UN(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="prefixes",Xy="items";function jN(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Qy])for(const o of t[Qy]){const l=o.replace(/\/$/,""),c=n._makeStorageReference(new tn(e,l));i.prefixes.push(c)}if(t[Xy])for(const o of t[Xy]){const l=n._makeStorageReference(new tn(e,o.name));i.items.push(l)}return i}function BN(n,e,t){const i=nm(t);return i===null?null:jN(n,e,i)}class Ih{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n){if(!n)throw Zp()}function zN(n,e){function t(i,o){const l=H0(n,o,e);return rm(l!==null),l}return t}function $N(n,e){function t(i,o){const l=BN(n,e,o);return rm(l!==null),l}return t}function qN(n,e){function t(i,o){const l=H0(n,o,e);return rm(l!==null),FN(l,o,n.host,n._protocol)}return t}function im(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=eN():o=Zx():t.getStatus()===402?o=Jx(n.bucket):t.getStatus()===403?o=tN(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function W0(n){const e=im(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=Yx(n.path)),l.serverResponse=o.serverResponse,l}return t}function HN(n,e,t,i,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),d=Gl(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,v=new Ih(d,p,$N(n,e.bucket),_);return v.urlParams=l,v.errorHandler=im(e),v}function WN(n,e,t){const i=e.fullServerUrl(),o=Gl(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Ih(o,l,qN(n,t),c);return d.errorHandler=W0(e),d}function KN(n,e){const t=e.fullServerUrl(),i=Gl(t,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(p,_){}const d=new Ih(i,o,c,l);return d.successCodes=[200,204],d.errorHandler=W0(e),d}function GN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function QN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=GN(null,e)),i}function XN(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let J=0;J<2;J++)G=G+Math.random().toString().slice(2);return G}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const _=QN(e,i,o),v=UN(_,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,T=`\r
--`+p+"--",D=Ui.getBlob(S,i,T);if(D===null)throw aN();const b={name:_.fullPath},U=Gl(l,n.host,n._protocol),O="POST",B=n.maxUploadRetryTime,z=new Ih(U,O,zN(n,t),B);return z.urlParams=b,z.headers=c,z.body=D.uploadData(),z.errorHandler=im(e),z}class YN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JN extends YN{initXhr(){this.xhr_.responseType="text"}}function Sh(){return new JN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this._service=e,t instanceof tn?this._location=t:this._location=tn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new js(e,t)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $0(this._location.path)}get storage(){return this._service}get parent(){const e=DN(this._location.path);if(e===null)return null;const t=new tn(this._location.bucket,e);return new js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw cN(e)}}function ZN(n,e,t){n._throwIfRoot("uploadBytes");const i=XN(n.storage,n._location,q0(),new Ui(e,!0),t);return n.storage.makeRequestWithTokens(i,Sh).then(o=>({metadata:o,ref:n}))}function e2(n){const e={prefixes:[],items:[]};return K0(n,e).then(()=>e)}async function K0(n,e,t){const o=await t2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await K0(n,e,o.nextPageToken)}function t2(n,e){e!=null&&typeof e.maxResults=="number"&&Gf("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=HN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Sh)}function n2(n){n._throwIfRoot("getDownloadURL");const e=WN(n.storage,n._location,q0());return n.storage.makeRequestWithTokens(e,Sh).then(t=>{if(t===null)throw lN();return t})}function r2(n){n._throwIfRoot("deleteObject");const e=KN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Sh)}function i2(n,e){const t=bN(n._location.path,e),i=new tn(n._location.bucket,t);return new js(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return/^[A-Za-z]+:\/\//.test(n)}function o2(n,e){return new js(n,e)}function G0(n,e){if(n instanceof sm){const t=n;if(t._bucket==null)throw oN();const i=new js(t,t._bucket);return e!=null?G0(i,e):i}else return e!==void 0?i2(n,e):n}function a2(n,e){if(e&&s2(e)){if(n instanceof sm)return o2(n,e);throw Kf("To use ref(service, url), the first argument must be a Storage instance.")}else return G0(n,e)}function Yy(n,e){const t=e==null?void 0:e[M0];return t==null?null:tn.makeFromBucketSpec(t,n)}function l2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Cv(o,n.app.options.projectId))}class sm{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=V0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qx,this._maxUploadRetryTime=Xx,this._requests=new Set,o!=null?this._bucket=tn.makeFromBucketSpec(o,this._host):this._bucket=Yy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=Yy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new js(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new hN(F0());{const c=TN(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Jy="@firebase/storage",Zy="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="storage";function Ns(n,e,t){return n=ot(n),ZN(n,e,t)}function Oc(n){return n=ot(n),e2(n)}function $o(n){return n=ot(n),n2(n)}function ul(n){return n=ot(n),r2(n)}function fn(n,e){return n=ot(n),a2(n,e)}function Rh(n=sp(),e){n=ot(n);const i=nh(n,Q0).getImmediate({identifier:e}),o=Iv("storage");return o&&u2(i,...o),i}function u2(n,e,t,i={}){l2(n,e,t,i)}function c2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new sm(t,i,o,e,zs)}function h2(){Vs(new Hi(Q0,c2,"PUBLIC").setMultipleInstances(!0)),Ar(Jy,Zy,""),Ar(Jy,Zy,"esm2017")}h2();const d2="_container_rixh2_3",f2="_form_rixh2_17",p2="_nfcButton_rixh2_47",m2="_scanButton_rixh2_47",g2="_scannerContainer_rixh2_65",_2="_scanner_rixh2_65",y2="_modalOverlay_rixh2_95",v2="_modalContent_rixh2_123",w2="_status_rixh2_147",E2="_statusWarning_rixh2_165",T2="_statusInfo_rixh2_179",I2="_statusSuccess_rixh2_193",S2="_statusError_rixh2_207",R2="_pulse_rixh2_1",C2="_reader_rixh2_293",Fn={container:d2,form:f2,nfcButton:p2,scanButton:m2,scannerContainer:g2,scanner:_2,modalOverlay:y2,modalContent:v2,status:w2,statusWarning:E2,statusInfo:T2,statusSuccess:I2,statusError:S2,"animate-pulse":"_animate-pulse_rixh2_245",pulse:R2,reader:C2},A2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},om=sa(A2),ev=Hs(om),k2=Rh(om),P2=Go(om),x2=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Fn.statusWarning;case"error":return Fn.statusError;case"success":return Fn.statusSuccess;default:return Fn.statusInfo}};return E.jsx("div",{className:Fn.modalOverlay,children:E.jsx("div",{className:Fn.modalContent,children:E.jsx("div",{className:`${Fn.status} ${i()} ${t?Fn["animate-pulse"]:""}`,children:n})})})},N2=()=>{const[n,e]=F.useState({studentName:"",email:"",course:"",campus:"",studentId:"",upass:""}),[t,i]=F.useState(null),[o,l]=F.useState("capture"),[c,d]=F.useState(!1),[p,_]=F.useState(""),[v,S]=F.useState(null),[T,D]=F.useState("info"),b=F.useRef(null),U=F.useRef(null),O=(C,x="info")=>{_(C),D(x)};F.useEffect(()=>()=>{v&&v.abort()},[v]);const B=C=>{const x=C.target.files[0];i(x)},z=C=>{l(C),i(null),b.current&&(b.current.value=""),U.current&&(U.current.value="")},G=async()=>{if(!t)return null;_("Uploading selfie...");const C=n.email.replace(/[@.]/g,"_"),x=fn(k2,`users/${C}/profile/${t.name}`),L=await Ns(x,t);return await $o(L.ref)},J=async()=>{try{const C=await ew(P2,n.email,n.upass);return await tw(C.user),C.user}catch(C){switch(C.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw C}}},he=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{d(!0),_("Authenticating user...");const C=await J();_("Waiting for NFC tag...");const x=new NDEFReader;return S(x),await x.scan(),new Promise((L,k)=>{const De=async({serialNumber:Ge})=>{try{if(_("Checking NFC authorization..."),!await N(Ge)){k(new Error("Unauthorized NFC tag"));return}_("Uploading data...");const Ne=await G(),_e={...n,nfcSerialNumber:Ge,selfieUrl:Ne,position:"Teacher",firebaseUserId:C.uid,createdAt:L0()};_("Saving to database...");const oe=await Yp(Cn(ev,"RegisteredStudent"),_e);_("Writing to NFC tag...");try{await x.write({records:[{recordType:"text",data:new TextEncoder().encode(oe.id)}]}),_("Verifying NFC write..."),await ae(oe.id,x)}catch(j){console.error("NFC Write Error:",j),_("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:oe.id}]})}catch(Q){console.error("Fallback NFC Write Error:",Q),_("NFC write failed, but registration saved")}}x.addEventListener("reading",De,{once:!0}),L(oe.id)}catch(Xe){x.removeEventListener("reading",De),k(Xe)}};x.addEventListener("reading",De,{once:!0})})}catch(C){throw O(C.message,"error"),C}},ae=async(C,x)=>new Promise((L,k)=>{const De=setTimeout(()=>{k(new Error("Verification timeout"))},5e3);x.addEventListener("reading",({message:Ge})=>{clearTimeout(De),Ge.records.some(Ne=>Ne.recordType==="text"&&new TextDecoder().decode(Ne.data)===C)?L():k(new Error("NFC write verification failed"))},{once:!0})}),N=async C=>{try{const x=Wl(ev,"Toregistered",C);return(await Xp(x)).exists()}catch(x){return console.error("NFC Authorization Check Error:",x),!1}},R=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass}),i(null),_(""),b.current&&(b.current.value="")},A=async C=>{if(C.preventDefault(),!("NDEFReader"in window)){O("NFC is not supported on this device","warning");return}if(window.confirm("Approach NFC tag to complete registration"))try{const x=await he();O("Registration completed successfully! Please check your email for verification.","success"),setTimeout(()=>{O(""),R()},5e3)}catch(x){console.error("Registration Error:",x),O(`Registration failed: ${x.message}`,"error")}finally{d(!1),v&&(v.abort(),S(null))}};return E.jsxs("div",{className:Fn.container,children:[E.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||p)&&E.jsx(x2,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?T:"warning",isProcessing:c}),E.jsxs("form",{onSubmit:A,className:Fn.form,children:[E.jsx("input",{type:"text",placeholder:"Student Name",value:n.name,onChange:C=>e({...n,name:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:C=>e({...n,email:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:C=>e({...n,course:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:C=>e({...n,studentId:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:C=>e({...n,upass:C.target.value}),required:!0,disabled:c}),E.jsxs("select",{value:n.campus,onChange:C=>e({...n,campus:C.target.value}),required:!0,disabled:c,children:[E.jsx("option",{value:"",children:"Select Campus"}),E.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),E.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),E.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),E.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),E.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),E.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),E.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),E.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),E.jsxs("div",{className:Fn.uploadOptionContainer,children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>z("capture"),disabled:c}),"Capture Selfie"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>z("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:b,onChange:B,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>b.current.click(),className:jt.buttons,disabled:c,children:"Take Profile Picture"})]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:U,onChange:B,accept:"image/*",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>U.current.click(),className:jt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&E.jsxs("p",{children:["Selected Image: ",t.name,E.jsx("button",{type:"button",onClick:()=>i(null),className:Fn.clearImageButton,children:"Clear"})]}),E.jsx("button",{type:"submit",className:`${jt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:c?"Processing...":"Complete Registration with NFC"})]})]})},D2="_container_avr77_1",b2="_status_avr77_33",O2="_reading_avr77_51",L2="_pulse_avr77_1",V2="_error_avr77_59",M2="_studentInfo_avr77_77",F2="_infoGrid_avr77_107",U2="_infoRow_avr77_117",j2="_selfie_avr77_149",B2="_controls_avr77_171",z2="_button_avr77_185",$2="_readButton_avr77_213",q2="_resetButton_avr77_231",Rn={container:D2,status:b2,reading:O2,pulse:L2,error:V2,studentInfo:M2,infoGrid:F2,infoRow:U2,selfie:j2,controls:B2,button:z2,readButton:$2,resetButton:q2},H2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},W2=sa(H2),K2=Hs(W2),G2=()=>{const[n,e]=F.useState(null),[t,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(null),p=async()=>{try{l(!0),i("Waiting for NFC card..."),d(null);const v=new NDEFReader;await v.scan(),v.addEventListener("reading",async({message:S})=>{try{const T=S.records.find(O=>O.recordType==="text");if(!T)throw new Error("Invalid NFC card: No student data found");const D=new TextDecoder().decode(T.data);i("Retrieving student data...");const b=Wl(K2,"RegisteredStudent",D),U=await Xp(b);if(U.exists()){const O=U.data();e(O),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(T){d(T.message),e(null)}finally{l(!1),v.stop()}})}catch(v){d(v.message),l(!1)}},_=()=>{e(null),i(""),d(null),l(!1)};return E.jsxs("div",{className:Rn.container,children:[E.jsx("h1",{children:"Student NFC Reader"}),t&&E.jsx("div",{className:`${Rn.status} ${o?Rn.reading:""}`,children:t}),c&&E.jsx("div",{className:Rn.error,children:c}),n&&E.jsxs("div",{className:Rn.studentInfo,children:[E.jsx("h2",{children:"Student Information"}),E.jsxs("div",{className:Rn.infoGrid,children:[E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Name:"}),E.jsx("span",{children:n.studentName})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Student ID:"}),E.jsx("span",{children:n.studentId})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Email:"}),E.jsx("span",{children:n.email})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Course:"}),E.jsx("span",{children:n.course})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Campus:"}),E.jsx("span",{children:n.campus})]}),n.selfieUrl&&E.jsx("div",{className:Rn.selfie,children:E.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),E.jsxs("div",{className:Rn.controls,children:[E.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${jt.buttons} ${jt.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&E.jsx("button",{onClick:_,className:`${jt.buttons} ${jt.buttons}`,children:"Clear & Scan New Card"})]})]})},Q2="_login_container_158dy_9",X2="_login_card_158dy_31",Y2="_login_title_158dy_49",J2="_login_form_158dy_67",Z2="_form_group_158dy_79",eD="_login_input_158dy_89",tD="_login_button_158dy_121",nD="_error_message_158dy_167",rD="_divider_158dy_185",iD="_google_button_158dy_233",sD="_google_icon_158dy_285",dn={login_container:Q2,login_card:X2,login_title:Y2,login_form:J2,form_group:Z2,login_input:eD,login_button:tD,error_message:nD,divider:rD,google_button:iD,google_icon:sD},oD={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},aD=sa(oD),lD=new Yr,Ps=Go(),Mo=Hs(aD),uD=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(!1),[p,_]=F.useState(!1),[v,S]=F.useState(null),T=ia();F.useEffect(()=>((async()=>{if("NDEFReader"in window)try{const z=new window.NDEFReader;await z.scan(),_(!0),S(z),z.onreading=async({message:G})=>{try{const J=G.records.find(ae=>ae.recordType==="text");if(!J)throw new Error("Invalid NFC card: No user data found");const he=new TextDecoder().decode(J.data);try{const ae=await D(he);ae?(localStorage.setItem("userRole",ae),T("/dashboard")):l("NFC card is not registered in the system.")}catch(ae){console.error("Authentication error:",ae),l("Failed to authenticate with NFC card.")}}catch(J){console.error("Error processing NFC card:",J),l("Failed to process NFC card.")}},z.onerror=G=>{console.error("NFC read error:",G),l("Error reading NFC card.")}}catch(z){console.error("Error setting up NFC:",z),_(!1)}else _(!1)})(),()=>{var z;v&&((z=v.removeAllListeners)==null||z.call(v))}),[]);const D=async B=>{try{const z=Ir(Cn(Mo,"RegisteredAdmin"),Sr("currentnfcId","==",B)),G=await Rr(z);if(!G.empty){const R=G.docs[0].data();return await pc(Ps,R.email,R.upass),"admin"}const J=Ir(Cn(Mo,"RegisteredTeacher"),Sr("currentnfcId","==",B)),he=await Rr(J);if(!he.empty){const R=he.docs[0].data();return await pc(Ps,R.email,R.upass),"teacher"}const ae=Ir(Cn(Mo,"RegisteredStudent"),Sr("currentnfcId","==",B)),N=await Rr(ae);if(!N.empty){const R=N.docs[0].data();return await pc(Ps,R.email,R.upass),"student"}return null}catch(z){throw console.error("Error checking user role by NFC:",z),z}},b=async B=>{try{const z=Ir(Cn(Mo,"RegisteredAdmin"),Sr("email","==",B));if(!(await Rr(z)).empty)return"admin";const J=Ir(Cn(Mo,"RegisteredTeacher"),Sr("email","==",B));if(!(await Rr(J)).empty)return"teacher";const ae=Ir(Cn(Mo,"RegisteredStudent"),Sr("email","==",B));return(await Rr(ae)).empty?null:"student"}catch(z){return console.error("Error checking user role:",z),null}},U=async B=>{B.preventDefault(),d(!0),l("");try{const z=await pc(Ps,n,t),G=await b(z.user.email);G?(localStorage.setItem("userRole",G),T("/dashboard")):(await Pf(Ps),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(z){l(z.message)}finally{d(!1)}},O=async()=>{d(!0),l("");try{const B=await _C(Ps,lD),z=await b(B.user.email);z?(localStorage.setItem("userRole",z),T("/dashboard")):(await Pf(Ps),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(B){l(B.message)}finally{d(!1)}};return E.jsx("div",{className:dn.login_container,children:E.jsxs("div",{className:dn.login_card,children:[E.jsx("h1",{className:dn.login_title,children:"Login"}),p&&E.jsx("div",{className:dn.nfc_status,children:E.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),E.jsxs("form",{onSubmit:U,className:dn.login_form,children:[E.jsx("div",{className:dn.form_group,children:E.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:B=>e(B.target.value),required:!0,className:dn.login_input})}),E.jsx("div",{className:dn.form_group,children:E.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:B=>i(B.target.value),required:!0,className:dn.login_input})}),o&&E.jsx("div",{className:dn.error_message,children:o}),E.jsx("button",{type:"submit",className:dn.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),E.jsx("div",{className:dn.divider,children:E.jsx("span",{children:"Or continue with"})}),E.jsxs("button",{type:"button",onClick:O,disabled:c,className:dn.google_button,children:[E.jsx("svg",{className:dn.google_icon,viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},cD="_event_list_container_15dvt_1",hD="_events_grid_15dvt_23",dD="_event_card_15dvt_33",fD="_card_header_15dvt_49",pD="_card_basic_info_15dvt_69",mD="_card_details_15dvt_93",gD="_event_info_15dvt_101",_D="_table_container_15dvt_125",yD="_action_buttons_15dvt_169",vD="_edit_btn_15dvt_179",wD="_delete_btn_15dvt_179",Tr={event_list_container:cD,events_grid:hD,event_card:dD,card_header:fD,card_basic_info:pD,card_details:mD,event_info:gD,table_container:_D,action_buttons:yD,edit_btn:vD,delete_btn:wD},ED=()=>{const[n,e]=F.useState([]),[t,i]=F.useState(null),o=ia(),l=Hs(),c=Go();F.useEffect(()=>{d()},[]);const d=async()=>{try{const T=c.currentUser;if(!T)return;const D=Cn(l,"PendingEvent"),b=Ir(D,Sr("createdBy","==",T.email)),O=(await Rr(b)).docs.map(B=>({id:B.id,...B.data()}));e(O)}catch(T){console.error("Error fetching events:",T)}},p=T=>T?T.toDate?T.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(T).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=T=>{o(`/dashboard/edit-event/${T}`)},v=async T=>{if(window.confirm("Are you sure you want to delete this event?"))try{await _x(Wl(l,"events",T)),d()}catch(D){console.error("Error deleting event:",D)}},S=T=>{i(t===T?null:T)};return E.jsxs("div",{className:Tr.event_list_container,children:[E.jsx("h2",{children:"Event List"}),E.jsx("div",{className:Tr.events_grid,children:n.map(T=>{var D;return E.jsxs("div",{className:`${Tr.event_card} ${t===T.id?"expanded":""}`,children:[E.jsxs("div",{className:Tr.card_header,onClick:()=>S(T.id),children:[E.jsxs("div",{className:Tr.card_basic_info,children:[E.jsx("h3",{children:T.eventName}),E.jsxs("p",{children:["ID: ",T.id]}),E.jsxs("p",{children:["Created: ",p(T.createdAt)]})]}),t===T.id?E.jsx(o1,{}):E.jsx(s1,{})]}),t===T.id&&E.jsxs("div",{className:Tr.card_details,children:[E.jsxs("div",{className:Tr.event_info,children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Location:"})," ",T.locations]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Description:"})," ",T.description]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Start Time:"})," ",T.startTime]}),E.jsxs("p",{children:[E.jsx("strong",{children:"End Time:"})," ",T.endTime]})]}),E.jsx("div",{className:Tr.table_container,children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"STUDENT ID"}),E.jsx("th",{children:"STUDENT NAME"}),E.jsx("th",{children:"COURSE"}),E.jsx("th",{children:"CAMPUS"}),E.jsx("th",{children:"DATE"}),E.jsx("th",{children:"ACTIONS"})]})}),E.jsx("tbody",{children:(D=T.attendees)==null?void 0:D.map((b,U)=>E.jsxs("tr",{children:[E.jsx("td",{children:b.studentId}),E.jsx("td",{children:b.name}),E.jsx("td",{children:b.course}),E.jsx("td",{children:b.campus}),E.jsx("td",{children:p(b.dateAttended)}),E.jsxs("td",{className:"action-buttons",children:[E.jsx("button",{onClick:()=>_(T.id),className:Tr.edit_btn,children:E.jsx(m1,{size:16})}),E.jsx("button",{onClick:()=>v(T.id),className:Tr.delete_btn,children:E.jsx(g1,{size:16})})]})]},U))})]})})]})]},T.id)})})]})},TD="_fileManager_c4lw2_5",ID="_header_c4lw2_17",SD="_actions_c4lw2_45",RD="_navigation_c4lw2_55",CD="_backButton_c4lw2_77",AD="_currentPath_c4lw2_109",kD="_content_c4lw2_121",PD="_item_c4lw2_141",xD="_itemContent_c4lw2_171",ND="_actionButton_c4lw2_195",DD="_dropdownMenu_c4lw2_229",bD="_deleteButton_c4lw2_283",OD="_modal_c4lw2_301",LD="_modalContent_c4lw2_327",VD="_modalHeader_c4lw2_351",MD="_closeButton_c4lw2_379",FD="_modalNavigation_c4lw2_405",UD="_folderList_c4lw2_423",jD="_folderItem_c4lw2_443",BD="_folderContent_c4lw2_473",zD="_modalActions_c4lw2_485",$D="_cancelButton_c4lw2_503",qD="_authContainer_c4lw2_521",HD="_authMethods_c4lw2_539",WD="_passwordAuth_c4lw2_553",KD="_passwordInput_c4lw2_563",GD="_nfcAuth_c4lw2_579",QD="_error_c4lw2_587",He={fileManager:TD,header:ID,actions:SD,navigation:RD,backButton:CD,currentPath:AD,content:kD,item:PD,itemContent:xD,actionButton:ND,dropdownMenu:DD,deleteButton:bD,modal:OD,modalContent:LD,modalHeader:VD,closeButton:MD,modalNavigation:FD,folderList:UD,folderItem:jD,folderContent:BD,modalActions:zD,cancelButton:$D,authContainer:qD,authMethods:HD,passwordAuth:WD,passwordInput:KD,nfcAuth:GD,error:QD},XD=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:l})=>{const c=F.useRef(null);return F.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),n?E.jsxs("div",{className:He.dropdownMenu,ref:c,children:[E.jsx("button",{onClick:t,children:"Move"}),E.jsx("button",{onClick:i,children:"Copy"}),E.jsx("button",{onClick:l,children:"Rename"}),E.jsx("button",{onClick:o,className:He.deleteButton,children:"Delete"})]}):null},YD=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:l,onSelect:c})=>{const[d,p]=F.useState([]),[_,v]=F.useState(""),S=Rh(),[T,D]=F.useState(null);F.useEffect(()=>{if(n){const B=`users/${i.email.replace("@","_").replace(".","_")}`;v(B),b(B)}},[n,i]);const b=async B=>{try{const z=fn(S,B),J=(await Oc(z)).prefixes.map(he=>({name:he.name,fullPath:`${B}/${he.name}`}));p(J)}catch(z){console.error("Error listing folders:",z)}},U=B=>{T&&D(T),v(B),b(B)},O=()=>{const B=`users/${i.email.replace("@","_").replace(".","_")}`,z=_.split("/").slice(0,-1).join("/");z.startsWith(B)&&(v(z),b(z))};return n?E.jsx("div",{className:He.modal,children:E.jsxs("div",{className:He.modalContent,children:[E.jsxs("div",{className:He.modalHeader,children:[E.jsx("h3",{children:"Select Destination Folder"}),E.jsx("button",{onClick:e,className:He.closeButton,children:E.jsx(yv,{size:20})})]}),E.jsxs("div",{className:He.modalNavigation,children:[E.jsxs("button",{onClick:O,className:He.backButton,children:[E.jsx(gv,{size:20}),"Back"]}),E.jsx("span",{className:He.currentPath,children:_})]}),E.jsx("div",{className:He.folderList,children:d.map(B=>E.jsx("div",{className:He.folderItem,children:E.jsxs("div",{className:He.folderContent,onClick:()=>U(B.fullPath),children:[E.jsx(_v,{size:24}),E.jsx("span",{children:B.name})]})},B.fullPath))}),E.jsxs("div",{className:He.modalActions,children:[E.jsx("button",{onClick:()=>{c(_)},className:jt.buttons,children:"Select This Folder"}),E.jsx("button",{onClick:e,className:`${jt.buttons} ${He.cancelButton}`,children:"Cancel"})]})]})}):null},JD=()=>{var je;const[n,e]=F.useState(!1),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(""),[p,_]=F.useState([]),[v,S]=F.useState([]),[T,D]=F.useState(!1),b=cr();ia();const U=Rh(),[O,B]=F.useState(null),[z,G]=F.useState({x:0,y:0}),J=(je=b.state)==null?void 0:je.userData,[he,ae]=F.useState(!1),[N,R]=F.useState(null),[A,C]=F.useState(null);F.useEffect(()=>{"NDEFReader"in window&&D(!0)},[]),F.useEffect(()=>{if(n&&J){const ne=`users/${J.email.replace("@","_").replace(".","_")}`;d(ne),k(ne)}},[n,J]);const x=()=>{t===(J==null?void 0:J.upass)?(e(!0),l("")):l("Invalid password")},L=async()=>{try{const ne=new NDEFReader;await ne.scan(),ne.addEventListener("reading",({serialNumber:le})=>{le===(J==null?void 0:J.currentnfcId)?(e(!0),l("")):l("Invalid NFC card")})}catch(ne){l("Error reading NFC: "+ne.message)}},k=async ne=>{try{const le=fn(U,ne),Re=await Oc(le),Ye=Re.items.map(async nn=>{const br=await $o(nn);return{name:nn.name,url:br,type:"file"}}),_n=Re.prefixes.map(nn=>({name:nn.name,type:"folder"})),ft=await Promise.all(Ye);_(ft),S(_n)}catch(le){console.error("Error listing files:",le)}},De=async ne=>{const le=ne.target.files[0];if(le)try{const Re=fn(U,`${c}/${le.name}`);await Ns(Re,le),await k(c)}catch(Re){console.error("Error uploading file:",Re)}},Ge=async()=>{const ne=prompt("Enter folder name:");if(!ne)return;const le=fn(U,`${c}/${ne}/.placeholder`),Re=new Blob([""],{type:"text/plain"});await Ns(le,Re),await k(c)},Xe=ne=>{const le=`${c}/${ne}`;d(le),k(le)},Ne=()=>{const ne=c.split("/").slice(0,-1).join("/");ne.startsWith(`users/${J.email.replace("@","_").replace(".","_")}`)&&(d(ne),k(ne))};if(!n)return E.jsxs("div",{className:He.authContainer,children:[E.jsx("h2",{children:"Authentication Required"}),E.jsxs("div",{className:He.authMethods,children:[E.jsxs("div",{className:He.passwordAuth,children:[E.jsx("input",{type:"password",value:t,onChange:ne=>i(ne.target.value),placeholder:"Enter password",className:He.passwordInput}),E.jsx("button",{onClick:x,className:jt.buttons,children:"Submit"})]}),T&&E.jsx("div",{className:He.nfcAuth,children:E.jsx("button",{onClick:L,className:jt.buttons,children:"Authenticate with NFC"})})]}),o&&E.jsx("p",{className:He.error,children:o})]});const se=(ne,le)=>{ne.preventDefault(),ne.stopPropagation();const Re=ne.currentTarget.getBoundingClientRect();G({x:Re.left,y:Re.bottom}),B(le),C(le)},_e=async()=>{if(!A){alert("Please select an item to move"),console.log(A);return}R("move"),ae(!0)},oe=async()=>{if(!A){alert("Please select an item to copy"),console.log(A);return}R("copy"),ae(!0)},j=async()=>{if(O)try{const ne=`${c}/${O.name}`,le=fn(U,ne);O.type==="file"?await ul(le):await Q(ne),await k(c)}catch(ne){console.error("Error deleting item:",ne),alert(`Failed to delete ${O.name}. ${ne.message}`)}},Q=async ne=>{try{const le=fn(U,ne),Re=await Oc(le);for(const Ye of Re.items)await ul(Ye);for(const Ye of Re.prefixes)await Q(`${ne}/${Ye.name}`)}catch(le){throw console.error("Error deleting folder:",le),le}},ye=async()=>{if(!O)return;const ne=prompt("Enter new name:",O.name);if(!(!ne||ne===O.name))try{const le=fn(U,`${c}/${O.name}`),Re=fn(U,`${c}/${ne}`);if(O.type==="file"){const Ye=await $o(le),ft=await(await fetch(Ye)).blob();await Ns(Re,ft),await ul(le)}await k(c)}catch(le){console.error("Error renaming item:",le)}},Pe=async ne=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:A,currentPath:c,destinationPath:ne,operation:N}),!A){console.error("No item selected"),alert("Please select an item to move or copy"),ae(!1);return}try{const le=fn(U,`${c}/${A.name}`),Re=fn(U,`${ne}/${A.name}`);if(A.type==="file"){const Ye=await $o(le),ft=await(await fetch(Ye)).blob();await Ns(Re,ft),N==="move"&&await ul(le)}else await xe(`${c}/${A.name}`,`${ne}/${A.name}`,N==="move");ae(!1),R(null),await k(c)}catch(le){console.error(`Error ${N}ing item:`,le),alert(`Failed to ${N} item: ${le.message}`),ae(!1),R(null)}},xe=async(ne,le,Re=!1)=>{try{const Ye=fn(U,ne),_n=await Oc(Ye);for(const ft of _n.items){const nn=await $o(ft),es=await(await fetch(nn)).blob(),ts=fn(U,`${le}/${ft.name}`);await Ns(ts,es),Re&&await ul(ft)}for(const ft of _n.prefixes)await xe(`${ne}/${ft.name}`,`${le}/${ft.name}`,Re)}catch(Ye){throw console.error("Error copying folder:",Ye),Ye}},Le=(ne,le)=>E.jsxs("div",{className:He.item,onClick:Re=>{Re.target.closest(`.${He.actionButton}`)||Re.target.closest(`.${He.dropdownMenu}`)||(le==="folder"?Xe(ne.name):window.open(ne.url,"_blank"))},children:[E.jsxs("div",{className:He.itemContent,children:[le==="folder"?E.jsx(_v,{size:24}):E.jsx(u1,{size:24}),E.jsx("span",{children:ne.name})]}),E.jsx("button",{className:He.actionButton,onClick:Re=>{Re.stopPropagation();const Ye={...ne,type:le};se(Re,Ye)},children:E.jsx(l1,{size:16})}),(O==null?void 0:O.name)===ne.name&&E.jsx(XD,{isOpen:!0,onClose:()=>{B(null)},onMove:_e,onCopy:oe,onDelete:j,onRename:ye})]},`${le}-${ne.name}`);return E.jsxs("div",{className:He.fileManager,children:[E.jsxs("div",{className:He.header,children:[E.jsx("h2",{children:"File Manager"}),E.jsxs("div",{className:He.actions,children:[c===`users/${J.email.replace("@","_").replace(".","_")}`&&E.jsxs("button",{onClick:Ge,className:jt.buttons,children:[E.jsx(h1,{size:20}),"New Folder"]}),E.jsxs("label",{className:jt.buttons,children:[E.jsx(_1,{size:20}),"Upload File",E.jsx("input",{type:"file",onChange:De,style:{display:"none"}})]})]})]}),E.jsxs("div",{className:He.navigation,children:[E.jsxs("button",{onClick:Ne,className:He.backButton,children:[E.jsx(gv,{size:20}),"Back"]}),E.jsx("span",{className:He.currentPath,children:c})]}),E.jsxs("div",{className:He.content,children:[v.map(ne=>Le(ne,"folder")),p.map(ne=>Le(ne,"file"))]}),E.jsx(YD,{isOpen:he,onClose:()=>{ae(!1),R(null)},currentPath:c,userData:J,selectedItem:A,operation:N,onSelect:Pe})]})},ZD="_container_9esca_3",eb="_form_9esca_17",tb="_nfcButton_9esca_47",nb="_scanButton_9esca_47",rb="_scannerContainer_9esca_65",ib="_scanner_9esca_65",sb="_modalOverlay_9esca_95",ob="_modalContent_9esca_123",ab="_status_9esca_147",lb="_statusWarning_9esca_165",ub="_statusInfo_9esca_179",cb="_statusSuccess_9esca_193",hb="_statusError_9esca_207",db="_pulse_9esca_1",fb="_reader_9esca_293",pb="_uploadOptionContainer_9esca_303",mb="_clearImageButton_9esca_317",Un={container:ZD,form:eb,nfcButton:tb,scanButton:nb,scannerContainer:rb,scanner:ib,modalOverlay:sb,modalContent:ob,status:ab,statusWarning:lb,statusInfo:ub,statusSuccess:cb,statusError:hb,"animate-pulse":"_animate-pulse_9esca_245",pulse:db,reader:fb,uploadOptionContainer:pb,clearImageButton:mb},gb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},am=sa(gb),tv=Hs(am),_b=Rh(am),yb=Go(am),vb=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Un.statusWarning;case"error":return Un.statusError;case"success":return Un.statusSuccess;default:return Un.statusInfo}};return E.jsx("div",{className:Un.modalOverlay,children:E.jsx("div",{className:Un.modalContent,children:E.jsx("div",{className:`${Un.status} ${i()} ${t?Un["animate-pulse"]:""}`,children:n})})})},wb=()=>{const[n,e]=F.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[t,i]=F.useState(null),[o,l]=F.useState("capture"),[c,d]=F.useState(!1),[p,_]=F.useState(""),[v,S]=F.useState(null),[T,D]=F.useState("info"),b=F.useRef(null),U=F.useRef(null),O=(C,x="info")=>{_(C),D(x)};F.useEffect(()=>()=>{v&&v.abort()},[v]);const B=C=>{const x=C.target.files[0];i(x)},z=C=>{l(C),i(null),b.current&&(b.current.value=""),U.current&&(U.current.value="")},G=async()=>{if(!t)return null;_("Uploading selfie...");const C=n.email.replace(/[@.]/g,"_"),x=fn(_b,`users/${C}/profile/${t.name}`),L=await Ns(x,t);return await $o(L.ref)},J=async()=>{try{const C=await ew(yb,n.email,n.upass);return await tw(C.user),C.user}catch(C){switch(C.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw C}}},he=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{d(!0),_("Authenticating user...");const C=await J();_("Waiting for NFC tag...");const x=new NDEFReader;return S(x),await x.scan(),new Promise((L,k)=>{const De=async({serialNumber:Ge})=>{try{if(_("Checking NFC authorization..."),!await N(Ge)){k(new Error("Unauthorized NFC tag"));return}_("Uploading data...");const Ne=await G(),_e={...n,nfcSerialNumber:Ge,selfieUrl:Ne,position:"Teacher",firebaseUserId:C.uid,createdAt:L0()};_("Saving to database...");const oe=await Yp(Cn(tv,"RegisteredTeacher"),_e);_("Writing to NFC tag...");try{await x.write({records:[{recordType:"text",data:new TextEncoder().encode(oe.id)}]}),_("Verifying NFC write..."),await ae(oe.id,x)}catch(j){console.error("NFC Write Error:",j),_("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:oe.id}]})}catch(Q){console.error("Fallback NFC Write Error:",Q),_("NFC write failed, but registration saved")}}x.addEventListener("reading",De,{once:!0}),L(oe.id)}catch(Xe){x.removeEventListener("reading",De),k(Xe)}};x.addEventListener("reading",De,{once:!0})})}catch(C){throw O(C.message,"error"),C}},ae=async(C,x)=>new Promise((L,k)=>{const De=setTimeout(()=>{k(new Error("Verification timeout"))},5e3);x.addEventListener("reading",({message:Ge})=>{clearTimeout(De),Ge.records.some(Ne=>Ne.recordType==="text"&&new TextDecoder().decode(Ne.data)===C)?L():k(new Error("NFC write verification failed"))},{once:!0})}),N=async C=>{try{const x=Wl(tv,"Toregistered",C);return(await Xp(x)).exists()}catch(x){return console.error("NFC Authorization Check Error:",x),!1}},R=()=>{e({name:"",email:"",campus:"",teacherId:"",upass}),i(null),_(""),b.current&&(b.current.value="")},A=async C=>{if(C.preventDefault(),!("NDEFReader"in window)){O("NFC is not supported on this device","warning");return}if(window.confirm("Approach NFC tag to complete registration"))try{const x=await he();O("Registration completed successfully! Please check your email for verification.","success"),setTimeout(()=>{O(""),R()},5e3)}catch(x){console.error("Registration Error:",x),O(`Registration failed: ${x.message}`,"error")}finally{d(!1),v&&(v.abort(),S(null))}};return E.jsxs("div",{className:Un.container,children:[E.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||p)&&E.jsx(vb,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?T:"warning",isProcessing:c}),E.jsxs("form",{onSubmit:A,className:Un.form,children:[E.jsx("input",{type:"text",placeholder:"Teacher Name",value:n.name,onChange:C=>e({...n,name:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:C=>e({...n,email:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Teacher ID",value:n.studentId,onChange:C=>e({...n,teacherId:C.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:C=>e({...n,upass:C.target.value}),required:!0,disabled:c}),E.jsxs("select",{value:n.campus,onChange:C=>e({...n,campus:C.target.value}),required:!0,disabled:c,children:[E.jsx("option",{value:"",children:"Select Campus"}),E.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),E.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),E.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),E.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),E.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),E.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),E.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),E.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),E.jsxs("div",{className:Un.uploadOptionContainer,children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>z("capture"),disabled:c}),"Capture Selfie"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>z("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:b,onChange:B,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>b.current.click(),className:jt.buttons,disabled:c,children:"Take Profile Picture"})]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:U,onChange:B,accept:"image/*",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>U.current.click(),className:jt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&E.jsxs("p",{children:["Selected Image: ",t.name,E.jsx("button",{type:"button",onClick:()=>i(null),className:Un.clearImageButton,children:"Clear"})]}),E.jsx("button",{type:"submit",className:`${jt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:c?"Processing...":"Complete Registration with NFC"})]})]})};function Eb(){return E.jsx(SI,{children:E.jsxs(eI,{children:[E.jsx(rr,{path:"/",element:E.jsx(k_,{to:"/login",replace:!0})}),E.jsx(rr,{path:"/login",element:E.jsx(uD,{})}),E.jsxs(rr,{path:"/dashboard/*",element:E.jsx(Ex,{}),children:[E.jsx(rr,{path:"create-event",element:E.jsx(Gx,{})}),E.jsx(rr,{path:"teacher-registration",element:E.jsx(wb,{})}),E.jsx(rr,{path:"student-registration",element:E.jsx(N2,{})}),E.jsx(rr,{path:"nfc-reader",element:E.jsx(G2,{})}),E.jsx(rr,{path:"event-list",element:E.jsx(ED,{})}),E.jsx(rr,{path:"file-manager",element:E.jsx(JD,{})})]}),E.jsx(rr,{path:"*",element:E.jsx(k_,{to:"/login",replace:!0})})]})})}const Tb=document.getElementById("root"),Ib=aT.createRoot(Tb);Ib.render(E.jsx(Eb,{}));
