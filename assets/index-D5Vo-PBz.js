(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Gd={exports:{}},Ja={},Kd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function qE(){if(a_)return De;a_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=S&&F[S]||F["@@iterator"],typeof F=="function"?F:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function L(F,K,_e){this.props=F,this.context=K,this.refs=j,this.updater=_e||P}L.prototype.isReactComponent={},L.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=L.prototype;function W(F,K,_e){this.props=F,this.context=K,this.refs=j,this.updater=_e||P}var Y=W.prototype=new H;Y.constructor=W,O(Y,L.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,ne=Object.prototype.hasOwnProperty,ae={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(F,K,_e){var ke,Pe={},be=null,Fe=null;if(K!=null)for(ke in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(be=""+K.key),K)ne.call(K,ke)&&!x.hasOwnProperty(ke)&&(Pe[ke]=K[ke]);var re=arguments.length-2;if(re===1)Pe.children=_e;else if(1<re){for(var ue=Array(re),Re=0;Re<re;Re++)ue[Re]=arguments[Re+2];Pe.children=ue}if(F&&F.defaultProps)for(ke in re=F.defaultProps,re)Pe[ke]===void 0&&(Pe[ke]=re[ke]);return{$$typeof:n,type:F,key:be,ref:Fe,props:Pe,_owner:ae.current}}function C(F,K){return{$$typeof:n,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(_e){return K[_e]})}var b=/\/+/g;function k(F,K){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):K.toString(36)}function We(F,K,_e,ke,Pe){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var Fe=!1;if(F===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(F.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=F,Pe=Pe(Fe),F=ke===""?"."+k(Fe,0):ke,ee(Pe)?(_e="",F!=null&&(_e=F.replace(b,"$&/")+"/"),We(Pe,K,_e,"",function(Re){return Re})):Pe!=null&&(N(Pe)&&(Pe=C(Pe,_e+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(b,"$&/")+"/")+F)),K.push(Pe)),1;if(Fe=0,ke=ke===""?".":ke+":",ee(F))for(var re=0;re<F.length;re++){be=F[re];var ue=ke+k(be,re);Fe+=We(be,K,_e,ue,Pe)}else if(ue=E(F),typeof ue=="function")for(F=ue.call(F),re=0;!(be=F.next()).done;)be=be.value,ue=ke+k(be,re++),Fe+=We(be,K,_e,ue,Pe);else if(be==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function mt(F,K,_e){if(F==null)return F;var ke=[],Pe=0;return We(F,ke,"","",function(be){return K.call(_e,be,Pe++)}),ke}function kt(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(_e){(F._status===0||F._status===-1)&&(F._status=1,F._result=_e)},function(_e){(F._status===0||F._status===-1)&&(F._status=2,F._result=_e)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var He={current:null},oe={transition:null},ye={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:mt,forEach:function(F,K,_e){mt(F,function(){K.apply(this,arguments)},_e)},count:function(F){var K=0;return mt(F,function(){K++}),K},toArray:function(F){return mt(F,function(K){return K})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},De.Component=L,De.Fragment=t,De.Profiler=o,De.PureComponent=W,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=le,De.cloneElement=function(F,K,_e){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ke=O({},F.props),Pe=F.key,be=F.ref,Fe=F._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,Fe=ae.current),K.key!==void 0&&(Pe=""+K.key),F.type&&F.type.defaultProps)var re=F.type.defaultProps;for(ue in K)ne.call(K,ue)&&!x.hasOwnProperty(ue)&&(ke[ue]=K[ue]===void 0&&re!==void 0?re[ue]:K[ue])}var ue=arguments.length-2;if(ue===1)ke.children=_e;else if(1<ue){re=Array(ue);for(var Re=0;Re<ue;Re++)re[Re]=arguments[Re+2];ke.children=re}return{$$typeof:n,type:F.type,key:Pe,ref:be,props:ke,_owner:Fe}},De.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},De.createElement=R,De.createFactory=function(F){var K=R.bind(null,F);return K.type=F,K},De.createRef=function(){return{current:null}},De.forwardRef=function(F){return{$$typeof:d,render:F}},De.isValidElement=N,De.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:kt}},De.memo=function(F,K){return{$$typeof:_,type:F,compare:K===void 0?null:K}},De.startTransition=function(F){var K=oe.transition;oe.transition={};try{F()}finally{oe.transition=K}},De.unstable_act=le,De.useCallback=function(F,K){return He.current.useCallback(F,K)},De.useContext=function(F){return He.current.useContext(F)},De.useDebugValue=function(){},De.useDeferredValue=function(F){return He.current.useDeferredValue(F)},De.useEffect=function(F,K){return He.current.useEffect(F,K)},De.useId=function(){return He.current.useId()},De.useImperativeHandle=function(F,K,_e){return He.current.useImperativeHandle(F,K,_e)},De.useInsertionEffect=function(F,K){return He.current.useInsertionEffect(F,K)},De.useLayoutEffect=function(F,K){return He.current.useLayoutEffect(F,K)},De.useMemo=function(F,K){return He.current.useMemo(F,K)},De.useReducer=function(F,K,_e){return He.current.useReducer(F,K,_e)},De.useRef=function(F){return He.current.useRef(F)},De.useState=function(F){return He.current.useState(F)},De.useSyncExternalStore=function(F,K,_e){return He.current.useSyncExternalStore(F,K,_e)},De.useTransition=function(){return He.current.useTransition()},De.version="18.3.1",De}var l_;function qf(){return l_||(l_=1,Kd.exports=qE()),Kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function WE(){if(u_)return Ja;u_=1;var n=qf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var v,S={},E=null,P=null;_!==void 0&&(E=""+_),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(P=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(S[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)S[v]===void 0&&(S[v]=p[v]);return{$$typeof:e,type:d,key:E,ref:P,props:S,_owner:o.current}}return Ja.Fragment=t,Ja.jsx=c,Ja.jsxs=c,Ja}var c_;function GE(){return c_||(c_=1,Gd.exports=WE()),Gd.exports}var I=GE(),U=qf(),ic={},Qd={exports:{}},cn={},Xd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function KE(){return h_||(h_=1,function(n){function e(oe,ye){var le=oe.length;oe.push(ye);e:for(;0<le;){var F=le-1>>>1,K=oe[F];if(0<o(K,ye))oe[F]=ye,oe[le]=K,le=F;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ye=oe[0],le=oe.pop();if(le!==ye){oe[0]=le;e:for(var F=0,K=oe.length,_e=K>>>1;F<_e;){var ke=2*(F+1)-1,Pe=oe[ke],be=ke+1,Fe=oe[be];if(0>o(Pe,le))be<K&&0>o(Fe,Pe)?(oe[F]=Fe,oe[be]=le,F=be):(oe[F]=Pe,oe[ke]=le,F=ke);else if(be<K&&0>o(Fe,le))oe[F]=Fe,oe[be]=le,F=be;else break e}}return ye}function o(oe,ye){var le=oe.sortIndex-ye.sortIndex;return le!==0?le:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],v=1,S=null,E=3,P=!1,O=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(oe){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=oe)i(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function ee(oe){if(j=!1,Y(oe),!O)if(t(p)!==null)O=!0,kt(ne);else{var ye=t(_);ye!==null&&He(ee,ye.startTime-oe)}}function ne(oe,ye){O=!1,j&&(j=!1,H(R),R=-1),P=!0;var le=E;try{for(Y(ye),S=t(p);S!==null&&(!(S.expirationTime>ye)||oe&&!M());){var F=S.callback;if(typeof F=="function"){S.callback=null,E=S.priorityLevel;var K=F(S.expirationTime<=ye);ye=n.unstable_now(),typeof K=="function"?S.callback=K:S===t(p)&&i(p),Y(ye)}else i(p);S=t(p)}if(S!==null)var _e=!0;else{var ke=t(_);ke!==null&&He(ee,ke.startTime-ye),_e=!1}return _e}finally{S=null,E=le,P=!1}}var ae=!1,x=null,R=-1,C=5,N=-1;function M(){return!(n.unstable_now()-N<C)}function b(){if(x!==null){var oe=n.unstable_now();N=oe;var ye=!0;try{ye=x(!0,oe)}finally{ye?k():(ae=!1,x=null)}}else ae=!1}var k;if(typeof W=="function")k=function(){W(b)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,mt=We.port2;We.port1.onmessage=b,k=function(){mt.postMessage(null)}}else k=function(){L(b,0)};function kt(oe){x=oe,ae||(ae=!0,k())}function He(oe,ye){R=L(function(){oe(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){O||P||(O=!0,kt(ne))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var le=E;E=ye;try{return oe()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=E;E=oe;try{return ye()}finally{E=le}},n.unstable_scheduleCallback=function(oe,ye,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,oe){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,oe={id:v++,callback:ye,priorityLevel:oe,startTime:le,expirationTime:K,sortIndex:-1},le>F?(oe.sortIndex=le,e(_,oe),t(p)===null&&oe===t(_)&&(j?(H(R),R=-1):j=!0,He(ee,le-F))):(oe.sortIndex=K,e(p,oe),O||P||(O=!0,kt(ne))),oe},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(oe){var ye=E;return function(){var le=E;E=ye;try{return oe.apply(this,arguments)}finally{E=le}}}}(Yd)),Yd}var d_;function QE(){return d_||(d_=1,Xd.exports=KE()),Xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function XE(){if(f_)return cn;f_=1;var n=qf(),e=QE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function E(r){return p.call(S,r)?!0:p.call(v,r)?!1:_.test(r)?S[r]=!0:(v[r]=!0,!1)}function P(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||P(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,W);L[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,W);L[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,W);L[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,a,h){var f=L.hasOwnProperty(s)?L[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,h)&&(a=null),h||f===null?E(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ae=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,F;function K(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var _e=!1;function ke(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var h=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){h=q}r.call(s.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ae:return"Portal";case C:return"Profiler";case R:return"StrictMode";case k:return"Suspense";case We:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case mt:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case kt:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qe(r){r._valueTracker||(r._valueTracker=Re(r))}function pn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=ue(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ht(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tn(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function kr(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=re(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ki(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function Qi(r,s){Ki(r,s);var a=re(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function $l(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bs(r,s,a){(s!=="number"||ht(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Pr=Array.isArray;function xr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+re(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function oa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Pr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:re(a)}}function $s(r,s){var a=re(s.value),h=re(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function aa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Et(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Et(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Nr,la=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ii(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yi=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(r){Yi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Xi[s]=Xi[r]})});function ua(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Xi.hasOwnProperty(r)&&Xi[r]?(""+s).trim():s+"px"}function ca(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ua(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ha=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(r,s){if(s){if(ha[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function fa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qs=null,An=null,or=null;function Ws(r){if(r=Ma(r)){if(typeof qs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=vu(s),qs(r.stateNode,r.type,s))}}function ar(r){An?or?or.push(r):or=[r]:An=r}function pa(){if(An){var r=An,s=or;if(or=An=null,Ws(r),s)for(r=0;r<s.length;r++)Ws(s[r])}}function Zi(r,s){return r(s)}function ma(){}var Dr=!1;function ga(r,s,a){if(Dr)return r(s,a);Dr=!0;try{return Zi(r,s,a)}finally{Dr=!1,(An!==null||or!==null)&&(ma(),pa())}}function dt(r,s){var a=r.stateNode;if(a===null)return null;var h=vu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Gs=!1;if(d)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Gs=!1}function es(r,s,a,h,f,g,w,A,D){var q=Array.prototype.slice.call(arguments,3);try{s.apply(a,q)}catch(Z){this.onError(Z)}}var ts=!1,Ks=null,jn=!1,_a=null,Eh={onError:function(r){ts=!0,Ks=r}};function Qs(r,s,a,h,f,g,w,A,D){ts=!1,Ks=null,es.apply(Eh,arguments)}function Hl(r,s,a,h,f,g,w,A,D){if(Qs.apply(this,arguments),ts){if(ts){var q=Ks;ts=!1,Ks=null}else throw Error(t(198));jn||(jn=!0,_a=q)}}function Bn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ns(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function zn(r){if(Bn(r)!==r)throw Error(t(188))}function ql(r){var s=r.alternate;if(!s){if(s=Bn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return zn(f),r;if(g===h)return zn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,A=f.child;A;){if(A===a){w=!0,a=f,h=g;break}if(A===h){w=!0,h=f,a=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===a){w=!0,a=g,h=f;break}if(A===h){w=!0,h=g,a=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ya(r){return r=ql(r),r!==null?Xs(r):null}function Xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Xs(r);if(s!==null)return s;r=r.sibling}return null}var Ys=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Wl=e.unstable_shouldYield,Th=e.unstable_requestPaint,Xe=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,rs=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,wa=e.unstable_LowPriority,Kl=e.unstable_IdlePriority,is=null,mn=null;function Ql(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(is,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Yl,Ea=Math.log,Xl=Math.LN2;function Yl(r){return r>>>=0,r===0?32:31-(Ea(r)/Xl|0)|0}var Js=64,Zs=4194304;function oi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ss(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var A=w&~f;A!==0?h=oi(A):(g&=w,g!==0&&(h=oi(g)))}else w=a&~f,w!==0?h=oi(w):g!==0&&(h=oi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Qt(s),f=1<<a,h|=r[a],s&=~f;return h}function Ih(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),A=1<<w,D=f[w];D===-1?(!(A&a)||A&h)&&(f[w]=Ih(A,s)):D<=s&&(r.expiredLanes|=A),g&=~A}}function gn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function os(){var r=Js;return Js<<=1,!(Js&4194240)&&(Js=64),r}function ai(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function li(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function Ke(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Qt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function ui(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Qt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Ve=0;function ci(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Jl,eo,Zl,eu,tu,Ta=!1,lr=[],Ot=null,$n=null,Hn=null,hi=new Map,Pn=new Map,ur=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(r,s){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(s.pointerId)}}function nn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ma(s),s!==null&&eo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Rh(r,s,a,h,f){switch(s){case"focusin":return Ot=nn(Ot,r,s,a,h,f),!0;case"dragenter":return $n=nn($n,r,s,a,h,f),!0;case"mouseover":return Hn=nn(Hn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return hi.set(g,nn(hi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Pn.set(g,nn(Pn.get(g)||null,r,s,a,h,f)),!0}return!1}function ru(r){var s=hs(r.target);if(s!==null){var a=Bn(s);if(a!==null){if(s=a.tag,s===13){if(s=ns(a),s!==null){r.blockedOn=s,tu(r.priority,function(){Zl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=to(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ji=h,a.target.dispatchEvent(h),Ji=null}else return s=Ma(a),s!==null&&eo(s),r.blockedOn=a,!1;s.shift()}return!0}function as(r,s,a){Or(r)&&a.delete(s)}function iu(){Ta=!1,Ot!==null&&Or(Ot)&&(Ot=null),$n!==null&&Or($n)&&($n=null),Hn!==null&&Or(Hn)&&(Hn=null),hi.forEach(as),Pn.forEach(as)}function qn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iu)))}function Wn(r){function s(f){return qn(f,r)}if(0<lr.length){qn(lr[0],r);for(var a=1;a<lr.length;a++){var h=lr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ot!==null&&qn(Ot,r),$n!==null&&qn($n,r),Hn!==null&&qn(Hn,r),hi.forEach(s),Pn.forEach(s),a=0;a<ur.length;a++)h=ur[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)ru(a),a.blockedOn===null&&ur.shift()}var Lr=ee.ReactCurrentBatchConfig,di=!0;function tt(r,s,a,h){var f=Ve,g=Lr.transition;Lr.transition=null;try{Ve=1,Ia(r,s,a,h)}finally{Ve=f,Lr.transition=g}}function Ch(r,s,a,h){var f=Ve,g=Lr.transition;Lr.transition=null;try{Ve=4,Ia(r,s,a,h)}finally{Ve=f,Lr.transition=g}}function Ia(r,s,a,h){if(di){var f=to(r,s,a,h);if(f===null)Mh(r,s,h,ls,a),nu(r,h);else if(Rh(f,r,s,a,h))h.stopPropagation();else if(nu(r,h),s&4&&-1<Sh.indexOf(r)){for(;f!==null;){var g=Ma(f);if(g!==null&&Jl(g),g=to(r,s,a,h),g===null&&Mh(r,s,h,ls,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Mh(r,s,h,null,a)}}var ls=null;function to(r,s,a,h){if(ls=null,r=Hs(h),r=hs(r),r!==null)if(s=Bn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ns(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ls=r,null}function Sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gl()){case rs:return 1;case si:return 4;case kn:case wa:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var _n=null,no=null,rn=null;function Ra(){if(rn)return rn;var r,s=no,a=s.length,h,f="value"in _n?_n.value:_n.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return rn=f.slice(r,1<h?1-h:void 0)}function ro(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function cr(){return!0}function Ca(){return!1}function Lt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:Ca,this.isPropagationStopped=Ca,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Lt(Gn),hr=le({},Gn,{view:0,detail:0}),Ah=Lt(hr),so,Vr,fi,us=le({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fi&&(fi&&r.type==="mousemove"?(so=r.screenX-fi.screenX,Vr=r.screenY-fi.screenY):Vr=so=0,fi=r),so)},movementY:function(r){return"movementY"in r?r.movementY:Vr}}),oo=Lt(us),Aa=le({},us,{dataTransfer:0}),su=Lt(Aa),ao=le({},hr,{relatedTarget:0}),lo=Lt(ao),ou=le({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Lt(ou),au=le({},Gn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),lu=Lt(au),uu=le({},Gn,{data:0}),ka=Lt(uu),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=cu[r])?!!s[r]:!1}function dr(){return hu}var u=le({},hr,{key:function(r){if(r.key){var s=uo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ro(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?ro(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ro(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Lt(u),y=le({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Lt(y),B=le({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),G=Lt(B),se=le({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Lt(se),It=le({},us,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Lt(It),Pt=[9,13,27,32],gt=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var yn=d&&"TextEvent"in window&&!xn,cs=d&&(!gt||xn&&8<xn&&11>=xn),co=" ",tm=!1;function nm(r,s){switch(r){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ho=!1;function zw(r,s){switch(r){case"compositionend":return rm(s);case"keypress":return s.which!==32?null:(tm=!0,co);case"textInput":return r=s.data,r===co&&tm?null:r;default:return null}}function $w(r,s){if(ho)return r==="compositionend"||!gt&&nm(r,s)?(r=Ra(),rn=no=_n=null,ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cs&&s.locale!=="ko"?null:s.data;default:return null}}var Hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hw[r.type]:s==="textarea"}function sm(r,s,a,h){ar(h),s=gu(s,"onChange"),0<s.length&&(a=new io("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Pa=null,xa=null;function qw(r){Im(r,0)}function du(r){var s=_o(r);if(pn(s))return r}function Ww(r,s){if(r==="change")return s}var om=!1;if(d){var kh;if(d){var Ph="oninput"in document;if(!Ph){var am=document.createElement("div");am.setAttribute("oninput","return;"),Ph=typeof am.oninput=="function"}kh=Ph}else kh=!1;om=kh&&(!document.documentMode||9<document.documentMode)}function lm(){Pa&&(Pa.detachEvent("onpropertychange",um),xa=Pa=null)}function um(r){if(r.propertyName==="value"&&du(xa)){var s=[];sm(s,xa,r,Hs(r)),ga(qw,s)}}function Gw(r,s,a){r==="focusin"?(lm(),Pa=s,xa=a,Pa.attachEvent("onpropertychange",um)):r==="focusout"&&lm()}function Kw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return du(xa)}function Qw(r,s){if(r==="click")return du(s)}function Xw(r,s){if(r==="input"||r==="change")return du(s)}function Yw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:Yw;function Na(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Kn(r[f],s[f]))return!1}return!0}function cm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hm(r,s){var a=cm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cm(a)}}function dm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fm(){for(var r=window,s=ht();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ht(r.document)}return s}function xh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Jw(r){var s=fm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&dm(a.ownerDocument.documentElement,a)){if(h!==null&&xh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=hm(a,g);var w=hm(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Zw=d&&"documentMode"in document&&11>=document.documentMode,fo=null,Nh=null,Da=null,Dh=!1;function pm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dh||fo==null||fo!==ht(h)||(h=fo,"selectionStart"in h&&xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&Na(Da,h)||(Da=h,h=gu(Nh,"onSelect"),0<h.length&&(s=new io("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=fo)))}function fu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var po={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},bh={},mm={};d&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pu(r){if(bh[r])return bh[r];if(!po[r])return r;var s=po[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in mm)return bh[r]=s[a];return r}var gm=pu("animationend"),_m=pu("animationiteration"),ym=pu("animationstart"),vm=pu("transitionend"),wm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(r,s){wm.set(r,s),l(s,[r])}for(var Oh=0;Oh<Em.length;Oh++){var Lh=Em[Oh],eE=Lh.toLowerCase(),tE=Lh[0].toUpperCase()+Lh.slice(1);pi(eE,"on"+tE)}pi(gm,"onAnimationEnd"),pi(_m,"onAnimationIteration"),pi(ym,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(vm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Tm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Hl(h,s,void 0,r),r.currentTarget=null}function Im(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==g&&f.isPropagationStopped())break e;Tm(f,A,q),g=D}else for(w=0;w<h.length;w++){if(A=h[w],D=A.instance,q=A.currentTarget,A=A.listener,D!==g&&f.isPropagationStopped())break e;Tm(f,A,q),g=D}}}if(jn)throw r=_a,jn=!1,_a=null,r}function Je(r,s){var a=s[$h];a===void 0&&(a=s[$h]=new Set);var h=r+"__bubble";a.has(h)||(Sm(s,r,2,!1),a.add(h))}function Vh(r,s,a){var h=0;s&&(h|=4),Sm(a,r,h,s)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[mu]){r[mu]=!0,i.forEach(function(a){a!=="selectionchange"&&(nE.has(a)||Vh(a,!1,r),Vh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[mu]||(s[mu]=!0,Vh("selectionchange",!1,s))}}function Sm(r,s,a,h){switch(Sa(s)){case 1:var f=tt;break;case 4:f=Ch;break;default:f=Ia}a=f.bind(null,s,a,r),f=void 0,!Gs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Mh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;A!==null;){if(w=hs(A),w===null)return;if(D=w.tag,D===5||D===6){h=g=w;continue e}A=A.parentNode}}h=h.return}ga(function(){var q=g,Z=Hs(a),te=[];e:{var J=wm.get(r);if(J!==void 0){var ce=io,pe=r;switch(r){case"keypress":if(ro(a)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":pe="focus",ce=lo;break;case"focusout":pe="blur",ce=lo;break;case"beforeblur":case"afterblur":ce=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case gm:case _m:case ym:ce=Mr;break;case vm:ce=Ge;break;case"scroll":ce=Ah;break;case"wheel":ce=Ue;break;case"copy":case"cut":case"paste":ce=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=T}var me=(s&4)!==0,ft=!me&&r==="scroll",z=me?J!==null?J+"Capture":null:J;me=[];for(var V=q,$;V!==null;){$=V;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,z!==null&&(ie=dt(V,z),ie!=null&&me.push(La(V,ie,$)))),ft)break;V=V.return}0<me.length&&(J=new ce(J,pe,null,a,Z),te.push({event:J,listeners:me}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",J&&a!==Ji&&(pe=a.relatedTarget||a.fromElement)&&(hs(pe)||pe[Fr]))break e;if((ce||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=q,pe=pe?hs(pe):null,pe!==null&&(ft=Bn(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=q),ce!==pe)){if(me=oo,ie="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(me=T,ie="onPointerLeave",z="onPointerEnter",V="pointer"),ft=ce==null?J:_o(ce),$=pe==null?J:_o(pe),J=new me(ie,V+"leave",ce,a,Z),J.target=ft,J.relatedTarget=$,ie=null,hs(Z)===q&&(me=new me(z,V+"enter",pe,a,Z),me.target=$,me.relatedTarget=ft,ie=me),ft=ie,ce&&pe)t:{for(me=ce,z=pe,V=0,$=me;$;$=mo($))V++;for($=0,ie=z;ie;ie=mo(ie))$++;for(;0<V-$;)me=mo(me),V--;for(;0<$-V;)z=mo(z),$--;for(;V--;){if(me===z||z!==null&&me===z.alternate)break t;me=mo(me),z=mo(z)}me=null}else me=null;ce!==null&&Rm(te,J,ce,me,!1),pe!==null&&ft!==null&&Rm(te,ft,pe,me,!0)}}e:{if(J=q?_o(q):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var ge=Ww;else if(im(J))if(om)ge=Xw;else{ge=Kw;var we=Gw}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=Qw);if(ge&&(ge=ge(r,q))){sm(te,ge,a,Z);break e}we&&we(r,J,q),r==="focusout"&&(we=J._wrapperState)&&we.controlled&&J.type==="number"&&Bs(J,"number",J.value)}switch(we=q?_o(q):window,r){case"focusin":(im(we)||we.contentEditable==="true")&&(fo=we,Nh=q,Da=null);break;case"focusout":Da=Nh=fo=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,pm(te,a,Z);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":pm(te,a,Z)}var Ee;if(gt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ho?nm(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(cs&&a.locale!=="ko"&&(ho||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ho&&(Ee=Ra()):(_n=Z,no="value"in _n?_n.value:_n.textContent,ho=!0)),we=gu(q,Ie),0<we.length&&(Ie=new ka(Ie,r,null,a,Z),te.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=rm(a),Ee!==null&&(Ie.data=Ee)))),(Ee=yn?zw(r,a):$w(r,a))&&(q=gu(q,"onBeforeInput"),0<q.length&&(Z=new ka("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:q}),Z.data=Ee))}Im(te,s)})}function La(r,s,a){return{instance:r,listener:s,currentTarget:a}}function gu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=dt(r,a),g!=null&&h.unshift(La(r,g,f)),g=dt(r,s),g!=null&&h.push(La(r,g,f))),r=r.return}return h}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var A=a,D=A.alternate,q=A.stateNode;if(D!==null&&D===h)break;A.tag===5&&q!==null&&(A=q,f?(D=dt(a,g),D!=null&&w.unshift(La(a,D,A))):f||(D=dt(a,g),D!=null&&w.push(La(a,D,A)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var rE=/\r\n?/g,iE=/\u0000|\uFFFD/g;function Cm(r){return(typeof r=="string"?r:""+r).replace(rE,`
`).replace(iE,"")}function _u(r,s,a){if(s=Cm(s),Cm(r)!==s&&a)throw Error(t(425))}function yu(){}var Fh=null,Uh=null;function jh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,oE=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(r){return Am.resolve(null).then(r).catch(aE)}:Bh;function aE(r){setTimeout(function(){throw r})}function zh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Wn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Wn(s)}function mi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function km(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var go=Math.random().toString(36).slice(2),fr="__reactFiber$"+go,Va="__reactProps$"+go,Fr="__reactContainer$"+go,$h="__reactEvents$"+go,lE="__reactListeners$"+go,uE="__reactHandles$"+go;function hs(r){var s=r[fr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Fr]||a[fr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=km(r);r!==null;){if(a=r[fr])return a;r=km(r)}return s}r=a,a=r.parentNode}return null}function Ma(r){return r=r[fr]||r[Fr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function vu(r){return r[Va]||null}var Hh=[],yo=-1;function gi(r){return{current:r}}function Ze(r){0>yo||(r.current=Hh[yo],Hh[yo]=null,yo--)}function Ye(r,s){yo++,Hh[yo]=r.current,r.current=s}var _i={},Bt=gi(_i),sn=gi(!1),ds=_i;function vo(r,s){var a=r.type.contextTypes;if(!a)return _i;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function on(r){return r=r.childContextTypes,r!=null}function wu(){Ze(sn),Ze(Bt)}function Pm(r,s,a){if(Bt.current!==_i)throw Error(t(168));Ye(Bt,s),Ye(sn,a)}function xm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Fe(r)||"Unknown",f));return le({},a,h)}function Eu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||_i,ds=Bt.current,Ye(Bt,r),Ye(sn,sn.current),!0}function Nm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=xm(r,s,ds),h.__reactInternalMemoizedMergedChildContext=r,Ze(sn),Ze(Bt),Ye(Bt,r)):Ze(sn),Ye(sn,a)}var Ur=null,Tu=!1,qh=!1;function Dm(r){Ur===null?Ur=[r]:Ur.push(r)}function cE(r){Tu=!0,Dm(r)}function yi(){if(!qh&&Ur!==null){qh=!0;var r=0,s=Ve;try{var a=Ur;for(Ve=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ur=null,Tu=!1}catch(f){throw Ur!==null&&(Ur=Ur.slice(r+1)),Ys(rs,yi),f}finally{Ve=s,qh=!1}}return null}var wo=[],Eo=0,Iu=null,Su=0,Nn=[],Dn=0,fs=null,jr=1,Br="";function ps(r,s){wo[Eo++]=Su,wo[Eo++]=Iu,Iu=r,Su=s}function bm(r,s,a){Nn[Dn++]=jr,Nn[Dn++]=Br,Nn[Dn++]=fs,fs=r;var h=jr;r=Br;var f=32-Qt(h)-1;h&=~(1<<f),a+=1;var g=32-Qt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,jr=1<<32-Qt(s)+f|a<<f|h,Br=g+r}else jr=1<<g|a<<f|h,Br=r}function Wh(r){r.return!==null&&(ps(r,1),bm(r,1,0))}function Gh(r){for(;r===Iu;)Iu=wo[--Eo],wo[Eo]=null,Su=wo[--Eo],wo[Eo]=null;for(;r===fs;)fs=Nn[--Dn],Nn[Dn]=null,Br=Nn[--Dn],Nn[Dn]=null,jr=Nn[--Dn],Nn[Dn]=null}var vn=null,wn=null,nt=!1,Qn=null;function Om(r,s){var a=Vn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Lm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,vn=r,wn=mi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,vn=r,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=fs!==null?{id:jr,overflow:Br}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,vn=r,wn=null,!0):!1;default:return!1}}function Kh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Qh(r){if(nt){var s=wn;if(s){var a=s;if(!Lm(r,s)){if(Kh(r))throw Error(t(418));s=mi(a.nextSibling);var h=vn;s&&Lm(r,s)?Om(h,a):(r.flags=r.flags&-4097|2,nt=!1,vn=r)}}else{if(Kh(r))throw Error(t(418));r.flags=r.flags&-4097|2,nt=!1,vn=r}}}function Vm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function Ru(r){if(r!==vn)return!1;if(!nt)return Vm(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!jh(r.type,r.memoizedProps)),s&&(s=wn)){if(Kh(r))throw Mm(),Error(t(418));for(;s;)Om(r,s),s=mi(s.nextSibling)}if(Vm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){wn=mi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}wn=null}}else wn=vn?mi(r.stateNode.nextSibling):null;return!0}function Mm(){for(var r=wn;r;)r=mi(r.nextSibling)}function To(){wn=vn=null,nt=!1}function Xh(r){Qn===null?Qn=[r]:Qn.push(r)}var hE=ee.ReactCurrentBatchConfig;function Fa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Cu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Fm(r){var s=r._init;return s(r._payload)}function Um(r){function s(z,V){if(r){var $=z.deletions;$===null?(z.deletions=[V],z.flags|=16):$.push(V)}}function a(z,V){if(!r)return null;for(;V!==null;)s(z,V),V=V.sibling;return null}function h(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function f(z,V){return z=Ci(z,V),z.index=0,z.sibling=null,z}function g(z,V,$){return z.index=$,r?($=z.alternate,$!==null?($=$.index,$<V?(z.flags|=2,V):$):(z.flags|=2,V)):(z.flags|=1048576,V)}function w(z){return r&&z.alternate===null&&(z.flags|=2),z}function A(z,V,$,ie){return V===null||V.tag!==6?(V=Bd($,z.mode,ie),V.return=z,V):(V=f(V,$),V.return=z,V)}function D(z,V,$,ie){var ge=$.type;return ge===x?Z(z,V,$.props.children,ie,$.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===kt&&Fm(ge)===V.type)?(ie=f(V,$.props),ie.ref=Fa(z,V,$),ie.return=z,ie):(ie=Xu($.type,$.key,$.props,null,z.mode,ie),ie.ref=Fa(z,V,$),ie.return=z,ie)}function q(z,V,$,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=zd($,z.mode,ie),V.return=z,V):(V=f(V,$.children||[]),V.return=z,V)}function Z(z,V,$,ie,ge){return V===null||V.tag!==7?(V=Ts($,z.mode,ie,ge),V.return=z,V):(V=f(V,$),V.return=z,V)}function te(z,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Bd(""+V,z.mode,$),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ne:return $=Xu(V.type,V.key,V.props,null,z.mode,$),$.ref=Fa(z,null,V),$.return=z,$;case ae:return V=zd(V,z.mode,$),V.return=z,V;case kt:var ie=V._init;return te(z,ie(V._payload),$)}if(Pr(V)||ye(V))return V=Ts(V,z.mode,$,null),V.return=z,V;Cu(z,V)}return null}function J(z,V,$,ie){var ge=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ge!==null?null:A(z,V,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ne:return $.key===ge?D(z,V,$,ie):null;case ae:return $.key===ge?q(z,V,$,ie):null;case kt:return ge=$._init,J(z,V,ge($._payload),ie)}if(Pr($)||ye($))return ge!==null?null:Z(z,V,$,ie,null);Cu(z,$)}return null}function ce(z,V,$,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get($)||null,A(V,z,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return z=z.get(ie.key===null?$:ie.key)||null,D(V,z,ie,ge);case ae:return z=z.get(ie.key===null?$:ie.key)||null,q(V,z,ie,ge);case kt:var we=ie._init;return ce(z,V,$,we(ie._payload),ge)}if(Pr(ie)||ye(ie))return z=z.get($)||null,Z(V,z,ie,ge,null);Cu(V,ie)}return null}function pe(z,V,$,ie){for(var ge=null,we=null,Ee=V,Ie=V=0,Dt=null;Ee!==null&&Ie<$.length;Ie++){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var ze=J(z,Ee,$[Ie],ie);if(ze===null){Ee===null&&(Ee=Dt);break}r&&Ee&&ze.alternate===null&&s(z,Ee),V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze,Ee=Dt}if(Ie===$.length)return a(z,Ee),nt&&ps(z,Ie),ge;if(Ee===null){for(;Ie<$.length;Ie++)Ee=te(z,$[Ie],ie),Ee!==null&&(V=g(Ee,V,Ie),we===null?ge=Ee:we.sibling=Ee,we=Ee);return nt&&ps(z,Ie),ge}for(Ee=h(z,Ee);Ie<$.length;Ie++)Dt=ce(Ee,z,Ie,$[Ie],ie),Dt!==null&&(r&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ie:Dt.key),V=g(Dt,V,Ie),we===null?ge=Dt:we.sibling=Dt,we=Dt);return r&&Ee.forEach(function(Ai){return s(z,Ai)}),nt&&ps(z,Ie),ge}function me(z,V,$,ie){var ge=ye($);if(typeof ge!="function")throw Error(t(150));if($=ge.call($),$==null)throw Error(t(151));for(var we=ge=null,Ee=V,Ie=V=0,Dt=null,ze=$.next();Ee!==null&&!ze.done;Ie++,ze=$.next()){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var Ai=J(z,Ee,ze.value,ie);if(Ai===null){Ee===null&&(Ee=Dt);break}r&&Ee&&Ai.alternate===null&&s(z,Ee),V=g(Ai,V,Ie),we===null?ge=Ai:we.sibling=Ai,we=Ai,Ee=Dt}if(ze.done)return a(z,Ee),nt&&ps(z,Ie),ge;if(Ee===null){for(;!ze.done;Ie++,ze=$.next())ze=te(z,ze.value,ie),ze!==null&&(V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze);return nt&&ps(z,Ie),ge}for(Ee=h(z,Ee);!ze.done;Ie++,ze=$.next())ze=ce(Ee,z,Ie,ze.value,ie),ze!==null&&(r&&ze.alternate!==null&&Ee.delete(ze.key===null?Ie:ze.key),V=g(ze,V,Ie),we===null?ge=ze:we.sibling=ze,we=ze);return r&&Ee.forEach(function(HE){return s(z,HE)}),nt&&ps(z,Ie),ge}function ft(z,V,$,ie){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ne:e:{for(var ge=$.key,we=V;we!==null;){if(we.key===ge){if(ge=$.type,ge===x){if(we.tag===7){a(z,we.sibling),V=f(we,$.props.children),V.return=z,z=V;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===kt&&Fm(ge)===we.type){a(z,we.sibling),V=f(we,$.props),V.ref=Fa(z,we,$),V.return=z,z=V;break e}a(z,we);break}else s(z,we);we=we.sibling}$.type===x?(V=Ts($.props.children,z.mode,ie,$.key),V.return=z,z=V):(ie=Xu($.type,$.key,$.props,null,z.mode,ie),ie.ref=Fa(z,V,$),ie.return=z,z=ie)}return w(z);case ae:e:{for(we=$.key;V!==null;){if(V.key===we)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){a(z,V.sibling),V=f(V,$.children||[]),V.return=z,z=V;break e}else{a(z,V);break}else s(z,V);V=V.sibling}V=zd($,z.mode,ie),V.return=z,z=V}return w(z);case kt:return we=$._init,ft(z,V,we($._payload),ie)}if(Pr($))return pe(z,V,$,ie);if(ye($))return me(z,V,$,ie);Cu(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(a(z,V.sibling),V=f(V,$),V.return=z,z=V):(a(z,V),V=Bd($,z.mode,ie),V.return=z,z=V),w(z)):a(z,V)}return ft}var Io=Um(!0),jm=Um(!1),Au=gi(null),ku=null,So=null,Yh=null;function Jh(){Yh=So=ku=null}function Zh(r){var s=Au.current;Ze(Au),r._currentValue=s}function ed(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Ro(r,s){ku=r,Yh=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(an=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(Yh!==r)if(r={context:r,memoizedValue:s,next:null},So===null){if(ku===null)throw Error(t(308));So=r,ku.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return s}var ms=null;function td(r){ms===null?ms=[r]:ms.push(r)}function Bm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,td(s)):(a.next=f.next,f.next=a),s.interleaved=a,zr(r,h)}function zr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var vi=!1;function nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function wi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,zr(r,a)}return f=h.interleaved,f===null?(s.next=s,td(h)):(s.next=f.next,f.next=s),h.interleaved=s,zr(r,a)}function Pu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ui(r,a)}}function $m(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function xu(r,s,a,h){var f=r.updateQueue;vi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,q=D.next;D.next=null,w===null?g=q:w.next=q,w=D;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==w&&(A===null?Z.firstBaseUpdate=q:A.next=q,Z.lastBaseUpdate=D))}if(g!==null){var te=f.baseState;w=0,Z=q=D=null,A=g;do{var J=A.lane,ce=A.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:ce,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var pe=r,me=A;switch(J=s,ce=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){te=pe.call(ce,te,J);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,J=typeof pe=="function"?pe.call(ce,te,J):pe,J==null)break e;te=le({},te,J);break e;case 2:vi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[A]:J.push(A))}else ce={eventTime:ce,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(q=Z=ce,D=te):Z=Z.next=ce,w|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;J=A,A=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(D=te),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ys|=w,r.lanes=w,r.memoizedState=te}}function Hm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ua={},pr=gi(Ua),ja=gi(Ua),Ba=gi(Ua);function gs(r){if(r===Ua)throw Error(t(174));return r}function rd(r,s){switch(Ye(Ba,s),Ye(ja,r),Ye(pr,Ua),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Tt(s,r)}Ze(pr),Ye(pr,s)}function Co(){Ze(pr),Ze(ja),Ze(Ba)}function qm(r){gs(Ba.current);var s=gs(pr.current),a=Tt(s,r.type);s!==a&&(Ye(ja,r),Ye(pr,a))}function id(r){ja.current===r&&(Ze(pr),Ze(ja))}var it=gi(0);function Nu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sd=[];function od(){for(var r=0;r<sd.length;r++)sd[r]._workInProgressVersionPrimary=null;sd.length=0}var Du=ee.ReactCurrentDispatcher,ad=ee.ReactCurrentBatchConfig,_s=0,st=null,St=null,xt=null,bu=!1,za=!1,$a=0,dE=0;function zt(){throw Error(t(321))}function ld(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Kn(r[a],s[a]))return!1;return!0}function ud(r,s,a,h,f,g){if(_s=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Du.current=r===null||r.memoizedState===null?gE:_E,r=a(h,f),za){g=0;do{if(za=!1,$a=0,25<=g)throw Error(t(301));g+=1,xt=St=null,s.updateQueue=null,Du.current=yE,r=a(h,f)}while(za)}if(Du.current=Vu,s=St!==null&&St.next!==null,_s=0,xt=St=st=null,bu=!1,s)throw Error(t(300));return r}function cd(){var r=$a!==0;return $a=0,r}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=r:xt=xt.next=r,xt}function On(){if(St===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var s=xt===null?st.memoizedState:xt.next;if(s!==null)xt=s,St=r;else{if(r===null)throw Error(t(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},xt===null?st.memoizedState=xt=r:xt=xt.next=r}return xt}function Ha(r,s){return typeof s=="function"?s(r):s}function hd(r){var s=On(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=St,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=w=null,D=null,q=g;do{var Z=q.lane;if((_s&Z)===Z)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var te={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(A=D=te,w=h):D=D.next=te,st.lanes|=Z,ys|=Z}q=q.next}while(q!==null&&q!==g);D===null?w=h:D.next=A,Kn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,st.lanes|=g,ys|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function dd(r){var s=On(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Kn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Wm(){}function Gm(r,s){var a=st,h=On(),f=s(),g=!Kn(h.memoizedState,f);if(g&&(h.memoizedState=f,an=!0),h=h.queue,fd(Xm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,qa(9,Qm.bind(null,a,h,f,s),void 0,null),Nt===null)throw Error(t(349));_s&30||Km(a,s,f)}return f}function Km(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Qm(r,s,a,h){s.value=a,s.getSnapshot=h,Ym(s)&&Jm(r)}function Xm(r,s,a){return a(function(){Ym(s)&&Jm(r)})}function Ym(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Kn(r,a)}catch{return!0}}function Jm(r){var s=zr(r,1);s!==null&&Zn(s,r,1,-1)}function Zm(r){var s=mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:r},s.queue=r,r=r.dispatch=mE.bind(null,st,r),[s.memoizedState,r]}function qa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function eg(){return On().memoizedState}function Ou(r,s,a,h){var f=mr();st.flags|=r,f.memoizedState=qa(1|s,a,void 0,h===void 0?null:h)}function Lu(r,s,a,h){var f=On();h=h===void 0?null:h;var g=void 0;if(St!==null){var w=St.memoizedState;if(g=w.destroy,h!==null&&ld(h,w.deps)){f.memoizedState=qa(s,a,g,h);return}}st.flags|=r,f.memoizedState=qa(1|s,a,g,h)}function tg(r,s){return Ou(8390656,8,r,s)}function fd(r,s){return Lu(2048,8,r,s)}function ng(r,s){return Lu(4,2,r,s)}function rg(r,s){return Lu(4,4,r,s)}function ig(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sg(r,s,a){return a=a!=null?a.concat([r]):null,Lu(4,4,ig.bind(null,s,r),a)}function pd(){}function og(r,s){var a=On();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&ld(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function ag(r,s){var a=On();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&ld(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function lg(r,s,a){return _s&21?(Kn(a,s)||(a=os(),st.lanes|=a,ys|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a)}function fE(r,s){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var h=ad.transition;ad.transition={};try{r(!1),s()}finally{Ve=a,ad.transition=h}}function ug(){return On().memoizedState}function pE(r,s,a){var h=Si(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},cg(r))hg(s,a);else if(a=Bm(r,s,a,h),a!==null){var f=Jt();Zn(a,r,h,f),dg(a,s,h)}}function mE(r,s,a){var h=Si(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(cg(r))hg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,a);if(f.hasEagerState=!0,f.eagerState=A,Kn(A,w)){var D=s.interleaved;D===null?(f.next=f,td(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=Bm(r,s,f,h),a!==null&&(f=Jt(),Zn(a,r,h,f),dg(a,s,h))}}function cg(r){var s=r.alternate;return r===st||s!==null&&s===st}function hg(r,s){za=bu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function dg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ui(r,a)}}var Vu={readContext:bn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},gE={readContext:bn,useCallback:function(r,s){return mr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:tg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ou(4194308,4,ig.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ou(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ou(4,2,r,s)},useMemo:function(r,s){var a=mr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=mr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=pE.bind(null,st,r),[h.memoizedState,r]},useRef:function(r){var s=mr();return r={current:r},s.memoizedState=r},useState:Zm,useDebugValue:pd,useDeferredValue:function(r){return mr().memoizedState=r},useTransition:function(){var r=Zm(!1),s=r[0];return r=fE.bind(null,r[1]),mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=st,f=mr();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));_s&30||Km(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,tg(Xm.bind(null,h,g,r),[r]),h.flags|=2048,qa(9,Qm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=mr(),s=Nt.identifierPrefix;if(nt){var a=Br,h=jr;a=(h&~(1<<32-Qt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=$a++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=dE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},_E={readContext:bn,useCallback:og,useContext:bn,useEffect:fd,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:hd,useRef:eg,useState:function(){return hd(Ha)},useDebugValue:pd,useDeferredValue:function(r){var s=On();return lg(s,St.memoizedState,r)},useTransition:function(){var r=hd(Ha)[0],s=On().memoizedState;return[r,s]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:ug,unstable_isNewReconciler:!1},yE={readContext:bn,useCallback:og,useContext:bn,useEffect:fd,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:dd,useRef:eg,useState:function(){return dd(Ha)},useDebugValue:pd,useDeferredValue:function(r){var s=On();return St===null?s.memoizedState=r:lg(s,St.memoizedState,r)},useTransition:function(){var r=dd(Ha)[0],s=On().memoizedState;return[r,s]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:ug,unstable_isNewReconciler:!1};function Xn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function md(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Mu={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Jt(),f=Si(r),g=$r(h,f);g.payload=s,a!=null&&(g.callback=a),s=wi(r,g,f),s!==null&&(Zn(s,r,f,h),Pu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Jt(),f=Si(r),g=$r(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=wi(r,g,f),s!==null&&(Zn(s,r,f,h),Pu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Jt(),h=Si(r),f=$r(a,h);f.tag=2,s!=null&&(f.callback=s),s=wi(r,f,h),s!==null&&(Zn(s,r,h,a),Pu(s,r,h))}};function fg(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Na(a,h)||!Na(f,g):!0}function pg(r,s,a){var h=!1,f=_i,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(f=on(s)?ds:Bt.current,h=s.contextTypes,g=(h=h!=null)?vo(r,f):_i),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function mg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Mu.enqueueReplaceState(s,s.state,null)}function gd(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},nd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=bn(g):(g=on(s)?ds:Bt.current,f.context=vo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(md(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Mu.enqueueReplaceState(f,f.state,null),xu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function _d(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function yd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var vE=typeof WeakMap=="function"?WeakMap:Map;function gg(r,s,a){a=$r(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Hu||(Hu=!0,bd=h),yd(r,s)},a}function _g(r,s,a){a=$r(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){yd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){yd(r,s),typeof h!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function yg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new vE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=bE.bind(null,r,s,a),s.then(r,r))}function vg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function wg(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=$r(-1,1),s.tag=2,wi(a,s,1))),a.lanes|=1),r)}var wE=ee.ReactCurrentOwner,an=!1;function Yt(r,s,a,h){s.child=r===null?jm(s,null,a,h):Io(s,r.child,a,h)}function Eg(r,s,a,h,f){a=a.render;var g=s.ref;return Ro(s,f),h=ud(r,s,a,h,g,f),a=cd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Hr(r,s,f)):(nt&&a&&Wh(s),s.flags|=1,Yt(r,s,h,f),s.child)}function Tg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!jd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Ig(r,s,g,h,f)):(r=Xu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(w,h)&&r.ref===s.ref)return Hr(r,s,f)}return s.flags|=1,r=Ci(g,h),r.ref=s.ref,r.return=s,s.child=r}function Ig(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Na(g,h)&&r.ref===s.ref)if(an=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(an=!0);else return s.lanes=r.lanes,Hr(r,s,f)}return vd(r,s,a,h,f)}function Sg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Po,En),En|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(Po,En),En|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ye(Po,En),En|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ye(Po,En),En|=h;return Yt(r,s,f,a),s.child}function Rg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function vd(r,s,a,h,f){var g=on(a)?ds:Bt.current;return g=vo(s,g),Ro(s,f),a=ud(r,s,a,h,g,f),h=cd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Hr(r,s,f)):(nt&&h&&Wh(s),s.flags|=1,Yt(r,s,a,f),s.child)}function Cg(r,s,a,h,f){if(on(a)){var g=!0;Eu(s)}else g=!1;if(Ro(s,f),s.stateNode===null)Uu(r,s),pg(s,a,h),gd(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var D=w.context,q=a.contextType;typeof q=="object"&&q!==null?q=bn(q):(q=on(a)?ds:Bt.current,q=vo(s,q));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||D!==q)&&mg(s,w,h,q),vi=!1;var J=s.memoizedState;w.state=J,xu(s,h,w,f),D=s.memoizedState,A!==h||J!==D||sn.current||vi?(typeof Z=="function"&&(md(s,a,Z,h),D=s.memoizedState),(A=vi||fg(s,a,A,h,J,D,q))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),w.props=h,w.state=D,w.context=q,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,zm(r,s),A=s.memoizedProps,q=s.type===s.elementType?A:Xn(s.type,A),w.props=q,te=s.pendingProps,J=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=bn(D):(D=on(a)?ds:Bt.current,D=vo(s,D));var ce=a.getDerivedStateFromProps;(Z=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==te||J!==D)&&mg(s,w,h,D),vi=!1,J=s.memoizedState,w.state=J,xu(s,h,w,f);var pe=s.memoizedState;A!==te||J!==pe||sn.current||vi?(typeof ce=="function"&&(md(s,a,ce,h),pe=s.memoizedState),(q=vi||fg(s,a,q,h,J,pe,D)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,pe,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,pe,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),w.props=h,w.state=pe,w.context=D,h=q):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return wd(r,s,a,h,g,f)}function wd(r,s,a,h,f,g){Rg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Nm(s,a,!1),Hr(r,s,g);h=s.stateNode,wE.current=s;var A=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Io(s,r.child,null,g),s.child=Io(s,null,A,g)):Yt(r,s,A,g),s.memoizedState=h.state,f&&Nm(s,a,!0),s.child}function Ag(r){var s=r.stateNode;s.pendingContext?Pm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pm(r,s.context,!1),rd(r,s.containerInfo)}function kg(r,s,a,h,f){return To(),Xh(f),s.flags|=256,Yt(r,s,a,h),s.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function Td(r){return{baseLanes:r,cachePool:null,transitions:null}}function Pg(r,s,a){var h=s.pendingProps,f=it.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(it,f&1),r===null)return Qh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Yu(w,h,0,null),r=Ts(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Td(a),s.memoizedState=Ed,r):Id(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return EE(r,s,w,h,A,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,A=f.sibling;var D={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Ci(f,D),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Ci(A,g):(g=Ts(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Td(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Ed,h}return g=r.child,r=g.sibling,h=Ci(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Id(r,s){return s=Yu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Fu(r,s,a,h){return h!==null&&Xh(h),Io(s,r.child,null,a),r=Id(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function EE(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=_d(Error(t(422))),Fu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Yu({mode:"visible",children:h.children},f,0,null),g=Ts(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Io(s,r.child,null,w),s.child.memoizedState=Td(w),s.memoizedState=Ed,g);if(!(s.mode&1))return Fu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=_d(g,h,void 0),Fu(r,s,w,h)}if(A=(w&r.childLanes)!==0,an||A){if(h=Nt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,zr(r,f),Zn(h,r,f,-1))}return Ud(),h=_d(Error(t(421))),Fu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=OE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,wn=mi(f.nextSibling),vn=s,nt=!0,Qn=null,r!==null&&(Nn[Dn++]=jr,Nn[Dn++]=Br,Nn[Dn++]=fs,jr=r.id,Br=r.overflow,fs=s),s=Id(s,h.children),s.flags|=4096,s)}function xg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),ed(r.return,s,a)}function Sd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Ng(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Yt(r,s,h.children,a),h=it.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xg(r,a,s);else if(r.tag===19)xg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(it,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Nu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Sd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Nu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Sd(s,!0,a,null,g);break;case"together":Sd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Uu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Hr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ys|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ci(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ci(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function TE(r,s,a){switch(s.tag){case 3:Ag(s),To();break;case 5:qm(s);break;case 1:on(s.type)&&Eu(s);break;case 4:rd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ye(Au,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):a&s.child.childLanes?Pg(r,s,a):(Ye(it,it.current&1),r=Hr(r,s,a),r!==null?r.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Ng(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return s.lanes=0,Sg(r,s,a)}return Hr(r,s,a)}var Dg,Rd,bg,Og;Dg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Rd=function(){},bg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,gs(pr.current);var g=null;switch(a){case"input":f=tn(r,f),h=tn(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=oa(r,f),h=oa(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=yu)}da(a,h);var w;a=null;for(q in f)if(!h.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var A=f[q];for(w in A)A.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in h){var D=h[q];if(A=f!=null?f[q]:void 0,h.hasOwnProperty(q)&&D!==A&&(D!=null||A!=null))if(q==="style")if(A){for(w in A)!A.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&A[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(q,a)),a=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(g=g||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&Je("scroll",r),g||A===D||(g=[])):(g=g||[]).push(q,D))}a&&(g=g||[]).push("style",a);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Og=function(r,s,a,h){a!==h&&(s.flags|=4)};function Wa(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function IE(r,s,a){var h=s.pendingProps;switch(Gh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&wu(),$t(s),null;case 3:return h=s.stateNode,Co(),Ze(sn),Ze(Bt),od(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ru(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qn!==null&&(Vd(Qn),Qn=null))),Rd(r,s),$t(s),null;case 5:id(s);var f=gs(Ba.current);if(a=s.type,r!==null&&s.stateNode!=null)bg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=gs(pr.current),Ru(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[fr]=s,h[Va]=g,r=(s.mode&1)!==0,a){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(f=0;f<ba.length;f++)Je(ba[f],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":kr(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":zs(h,g),Je("invalid",h)}da(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Je("scroll",h)}switch(a){case"input":Qe(h),$l(h,g,!0);break;case"textarea":Qe(h),aa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=yu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Et(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[fr]=s,r[Va]=h,Dg(r,s,!1,!1),s.stateNode=r;e:{switch(w=fa(a,h),a){case"dialog":Je("cancel",r),Je("close",r),f=h;break;case"iframe":case"object":case"embed":Je("load",r),f=h;break;case"video":case"audio":for(f=0;f<ba.length;f++)Je(ba[f],r);f=h;break;case"source":Je("error",r),f=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=h;break;case"details":Je("toggle",r),f=h;break;case"input":kr(r,h),f=tn(r,h),Je("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Je("invalid",r);break;case"textarea":zs(r,h),f=oa(r,h),Je("invalid",r);break;default:f=h}da(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var D=A[g];g==="style"?ca(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&la(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&ii(r,D):typeof D=="number"&&ii(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Je("scroll",r):D!=null&&Y(r,g,D,w))}switch(a){case"input":Qe(r),$l(r,h,!1);break;case"textarea":Qe(r),aa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+re(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?xr(r,!!h.multiple,g,!1):h.defaultValue!=null&&xr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=yu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)Og(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=gs(Ba.current),gs(pr.current),Ru(s)){if(h=s.stateNode,a=s.memoizedProps,h[fr]=s,(g=h.nodeValue!==a)&&(r=vn,r!==null))switch(r.tag){case 3:_u(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&_u(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[fr]=s,s.stateNode=h}return $t(s),null;case 13:if(Ze(it),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&wn!==null&&s.mode&1&&!(s.flags&128))Mm(),To(),s.flags|=98560,g=!1;else if(g=Ru(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[fr]=s}else To(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else Qn!==null&&(Vd(Qn),Qn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?Rt===0&&(Rt=3):Ud())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Co(),Rd(r,s),r===null&&Oa(s.stateNode.containerInfo),$t(s),null;case 10:return Zh(s.type._context),$t(s),null;case 17:return on(s.type)&&wu(),$t(s),null;case 19:if(Ze(it),g=s.memoizedState,g===null)return $t(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Wa(g,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Nu(r),w!==null){for(s.flags|=128,Wa(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ye(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>xo&&(s.flags|=128,h=!0,Wa(g,!1),s.lanes=4194304)}else{if(!h)if(r=Nu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!nt)return $t(s),null}else 2*Xe()-g.renderingStartTime>xo&&a!==1073741824&&(s.flags|=128,h=!0,Wa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=it.current,Ye(it,h?a&1|2:a&1),s):($t(s),null);case 22:case 23:return Fd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?En&1073741824&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function SE(r,s){switch(Gh(s),s.tag){case 1:return on(s.type)&&wu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),Ze(sn),Ze(Bt),od(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return id(s),null;case 13:if(Ze(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(it),null;case 4:return Co(),null;case 10:return Zh(s.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var ju=!1,Ht=!1,RE=typeof WeakSet=="function"?WeakSet:Set,de=null;function ko(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){lt(r,s,h)}else a.current=null}function Cd(r,s,a){try{a()}catch(h){lt(r,s,h)}}var Lg=!1;function CE(r,s){if(Fh=di,r=fm(),xh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,A=-1,D=-1,q=0,Z=0,te=r,J=null;t:for(;;){for(var ce;te!==a||f!==0&&te.nodeType!==3||(A=w+f),te!==g||h!==0&&te.nodeType!==3||(D=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ce=te.firstChild)!==null;)J=te,te=ce;for(;;){if(te===r)break t;if(J===a&&++q===f&&(A=w),J===g&&++Z===h&&(D=w),(ce=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ce}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uh={focusedElem:r,selectionRange:a},di=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ft=pe.memoizedState,z=s.stateNode,V=z.getSnapshotBeforeUpdate(s.elementType===s.type?me:Xn(s.type,me),ft);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){lt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Lg,Lg=!1,pe}function Ga(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Cd(s,a,g)}f=f.next}while(f!==h)}}function Bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Ad(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Vg(r){var s=r.alternate;s!==null&&(r.alternate=null,Vg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[fr],delete s[Va],delete s[$h],delete s[lE],delete s[uE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Mg(r){return r.tag===5||r.tag===3||r.tag===4}function Fg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function kd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=yu));else if(h!==4&&(r=r.child,r!==null))for(kd(r,s,a),r=r.sibling;r!==null;)kd(r,s,a),r=r.sibling}function Pd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Pd(r,s,a),r=r.sibling;r!==null;)Pd(r,s,a),r=r.sibling}var Vt=null,Yn=!1;function Ei(r,s,a){for(a=a.child;a!==null;)Ug(r,s,a),a=a.sibling}function Ug(r,s,a){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(is,a)}catch{}switch(a.tag){case 5:Ht||ko(a,s);case 6:var h=Vt,f=Yn;Vt=null,Ei(r,s,a),Vt=h,Yn=f,Vt!==null&&(Yn?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(Yn?(r=Vt,a=a.stateNode,r.nodeType===8?zh(r.parentNode,a):r.nodeType===1&&zh(r,a),Wn(r)):zh(Vt,a.stateNode));break;case 4:h=Vt,f=Yn,Vt=a.stateNode.containerInfo,Yn=!0,Ei(r,s,a),Vt=h,Yn=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Cd(a,s,w),f=f.next}while(f!==h)}Ei(r,s,a);break;case 1:if(!Ht&&(ko(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){lt(a,s,A)}Ei(r,s,a);break;case 21:Ei(r,s,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,Ei(r,s,a),Ht=h):Ei(r,s,a);break;default:Ei(r,s,a)}}function jg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new RE),s.forEach(function(h){var f=LE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Jn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Vt=A.stateNode,Yn=!1;break e;case 3:Vt=A.stateNode.containerInfo,Yn=!0;break e;case 4:Vt=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Vt===null)throw Error(t(160));Ug(g,w,f),Vt=null,Yn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(q){lt(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Bg(s,r),s=s.sibling}function Bg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Jn(s,r),gr(r),h&4){try{Ga(3,r,r.return),Bu(3,r)}catch(me){lt(r,r.return,me)}try{Ga(5,r,r.return)}catch(me){lt(r,r.return,me)}}break;case 1:Jn(s,r),gr(r),h&512&&a!==null&&ko(a,a.return);break;case 5:if(Jn(s,r),gr(r),h&512&&a!==null&&ko(a,a.return),r.flags&32){var f=r.stateNode;try{ii(f,"")}catch(me){lt(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Ki(f,g),fa(A,w);var q=fa(A,g);for(w=0;w<D.length;w+=2){var Z=D[w],te=D[w+1];Z==="style"?ca(f,te):Z==="dangerouslySetInnerHTML"?la(f,te):Z==="children"?ii(f,te):Y(f,Z,te,q)}switch(A){case"input":Qi(f,g);break;case"textarea":$s(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?xr(f,!!g.multiple,ce,!1):J!==!!g.multiple&&(g.defaultValue!=null?xr(f,!!g.multiple,g.defaultValue,!0):xr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Va]=g}catch(me){lt(r,r.return,me)}}break;case 6:if(Jn(s,r),gr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){lt(r,r.return,me)}}break;case 3:if(Jn(s,r),gr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Wn(s.containerInfo)}catch(me){lt(r,r.return,me)}break;case 4:Jn(s,r),gr(r);break;case 13:Jn(s,r),gr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Dd=Xe())),h&4&&jg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(q=Ht)||Z,Jn(s,r),Ht=q):Jn(s,r),gr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&r.mode&1)for(de=r,Z=r.child;Z!==null;){for(te=de=Z;de!==null;){switch(J=de,ce=J.child,J.tag){case 0:case 11:case 14:case 15:Ga(4,J,J.return);break;case 1:ko(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){h=J,a=J.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){lt(h,a,me)}}break;case 5:ko(J,J.return);break;case 22:if(J.memoizedState!==null){Hg(te);continue}}ce!==null?(ce.return=J,de=ce):Hg(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{f=te.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=te.stateNode,D=te.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=ua("display",w))}catch(me){lt(r,r.return,me)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(me){lt(r,r.return,me)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Jn(s,r),gr(r),h&4&&jg(r);break;case 21:break;default:Jn(s,r),gr(r)}}function gr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Mg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ii(f,""),h.flags&=-33);var g=Fg(r);Pd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=Fg(r);kd(r,A,w);break;default:throw Error(t(161))}}catch(D){lt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function AE(r,s,a){de=r,zg(r)}function zg(r,s,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||ju;if(!w){var A=f.alternate,D=A!==null&&A.memoizedState!==null||Ht;A=ju;var q=Ht;if(ju=w,(Ht=D)&&!q)for(de=f;de!==null;)w=de,D=w.child,w.tag===22&&w.memoizedState!==null?qg(f):D!==null?(D.return=w,de=D):qg(f);for(;g!==null;)de=g,zg(g),g=g.sibling;de=f,ju=A,Ht=q}$g(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,de=g):$g(r)}}function $g(r){for(;de!==null;){var s=de;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ht||Bu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Xn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Hm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Hm(s,w,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Wn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Ad(s)}catch(J){lt(s,s.return,J)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function Hg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function qg(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Bu(4,s)}catch(D){lt(s,a,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){lt(s,f,D)}}var g=s.return;try{Ad(s)}catch(D){lt(s,g,D)}break;case 5:var w=s.return;try{Ad(s)}catch(D){lt(s,w,D)}}}catch(D){lt(s,s.return,D)}if(s===r){de=null;break}var A=s.sibling;if(A!==null){A.return=s.return,de=A;break}de=s.return}}var kE=Math.ceil,zu=ee.ReactCurrentDispatcher,xd=ee.ReactCurrentOwner,Ln=ee.ReactCurrentBatchConfig,Be=0,Nt=null,_t=null,Mt=0,En=0,Po=gi(0),Rt=0,Ka=null,ys=0,$u=0,Nd=0,Qa=null,ln=null,Dd=0,xo=1/0,qr=null,Hu=!1,bd=null,Ti=null,qu=!1,Ii=null,Wu=0,Xa=0,Od=null,Gu=-1,Ku=0;function Jt(){return Be&6?Xe():Gu!==-1?Gu:Gu=Xe()}function Si(r){return r.mode&1?Be&2&&Mt!==0?Mt&-Mt:hE.transition!==null?(Ku===0&&(Ku=os()),Ku):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Sa(r.type)),r):1}function Zn(r,s,a,h){if(50<Xa)throw Xa=0,Od=null,Error(t(185));li(r,a,h),(!(Be&2)||r!==Nt)&&(r===Nt&&(!(Be&2)&&($u|=a),Rt===4&&Ri(r,Mt)),un(r,h),a===1&&Be===0&&!(s.mode&1)&&(xo=Xe()+500,Tu&&yi()))}function un(r,s){var a=r.callbackNode;br(r,s);var h=ss(r,r===Nt?Mt:0);if(h===0)a!==null&&va(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&va(a),s===1)r.tag===0?cE(Gg.bind(null,r)):Dm(Gg.bind(null,r)),oE(function(){!(Be&6)&&yi()}),a=null;else{switch(ci(h)){case 1:a=rs;break;case 4:a=si;break;case 16:a=kn;break;case 536870912:a=Kl;break;default:a=kn}a=t_(a,Wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Wg(r,s){if(Gu=-1,Ku=0,Be&6)throw Error(t(327));var a=r.callbackNode;if(No()&&r.callbackNode!==a)return null;var h=ss(r,r===Nt?Mt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Qu(r,h);else{s=h;var f=Be;Be|=2;var g=Qg();(Nt!==r||Mt!==s)&&(qr=null,xo=Xe()+500,ws(r,s));do try{NE();break}catch(A){Kg(r,A)}while(!0);Jh(),zu.current=g,Be=f,_t!==null?s=0:(Nt=null,Mt=0,s=Rt)}if(s!==0){if(s===2&&(f=gn(r),f!==0&&(h=f,s=Ld(r,f))),s===1)throw a=Ka,ws(r,0),Ri(r,h),un(r,Xe()),a;if(s===6)Ri(r,h);else{if(f=r.current.alternate,!(h&30)&&!PE(f)&&(s=Qu(r,h),s===2&&(g=gn(r),g!==0&&(h=g,s=Ld(r,g))),s===1))throw a=Ka,ws(r,0),Ri(r,h),un(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Es(r,ln,qr);break;case 3:if(Ri(r,h),(h&130023424)===h&&(s=Dd+500-Xe(),10<s)){if(ss(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Bh(Es.bind(null,r,ln,qr),s);break}Es(r,ln,qr);break;case 4:if(Ri(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Qt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kE(h/1960))-h,10<h){r.timeoutHandle=Bh(Es.bind(null,r,ln,qr),h);break}Es(r,ln,qr);break;case 5:Es(r,ln,qr);break;default:throw Error(t(329))}}}return un(r,Xe()),r.callbackNode===a?Wg.bind(null,r):null}function Ld(r,s){var a=Qa;return r.current.memoizedState.isDehydrated&&(ws(r,s).flags|=256),r=Qu(r,s),r!==2&&(s=ln,ln=a,s!==null&&Vd(s)),r}function Vd(r){ln===null?ln=r:ln.push.apply(ln,r)}function PE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Kn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(r,s){for(s&=~Nd,s&=~$u,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),h=1<<a;r[a]=-1,s&=~h}}function Gg(r){if(Be&6)throw Error(t(327));No();var s=ss(r,0);if(!(s&1))return un(r,Xe()),null;var a=Qu(r,s);if(r.tag!==0&&a===2){var h=gn(r);h!==0&&(s=h,a=Ld(r,h))}if(a===1)throw a=Ka,ws(r,0),Ri(r,s),un(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Es(r,ln,qr),un(r,Xe()),null}function Md(r,s){var a=Be;Be|=1;try{return r(s)}finally{Be=a,Be===0&&(xo=Xe()+500,Tu&&yi())}}function vs(r){Ii!==null&&Ii.tag===0&&!(Be&6)&&No();var s=Be;Be|=1;var a=Ln.transition,h=Ve;try{if(Ln.transition=null,Ve=1,r)return r()}finally{Ve=h,Ln.transition=a,Be=s,!(Be&6)&&yi()}}function Fd(){En=Po.current,Ze(Po)}function ws(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,sE(a)),_t!==null)for(a=_t.return;a!==null;){var h=a;switch(Gh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&wu();break;case 3:Co(),Ze(sn),Ze(Bt),od();break;case 5:id(h);break;case 4:Co();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:Zh(h.type._context);break;case 22:case 23:Fd()}a=a.return}if(Nt=r,_t=r=Ci(r.current,null),Mt=En=s,Rt=0,Ka=null,Nd=$u=ys=0,ln=Qa=null,ms!==null){for(s=0;s<ms.length;s++)if(a=ms[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}ms=null}return r}function Kg(r,s){do{var a=_t;try{if(Jh(),Du.current=Vu,bu){for(var h=st.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}bu=!1}if(_s=0,xt=St=st=null,za=!1,$a=0,xd.current=null,a===null||a.return===null){Rt=1,Ka=s,_t=null;break}e:{var g=r,w=a.return,A=a,D=s;if(s=Mt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,Z=A,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ce=vg(w);if(ce!==null){ce.flags&=-257,wg(ce,w,A,g,s),ce.mode&1&&yg(g,q,s),s=ce,D=q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(D),s.updateQueue=me}else pe.add(D);break e}else{if(!(s&1)){yg(g,q,s),Ud();break e}D=Error(t(426))}}else if(nt&&A.mode&1){var ft=vg(w);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),wg(ft,w,A,g,s),Xh(Ao(D,A));break e}}g=D=Ao(D,A),Rt!==4&&(Rt=2),Qa===null?Qa=[g]:Qa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=gg(g,D,s);$m(g,z);break e;case 1:A=D;var V=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ti===null||!Ti.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=_g(g,A,s);$m(g,ie);break e}}g=g.return}while(g!==null)}Yg(a)}catch(ge){s=ge,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function Qg(){var r=zu.current;return zu.current=Vu,r===null?Vu:r}function Ud(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Nt===null||!(ys&268435455)&&!($u&268435455)||Ri(Nt,Mt)}function Qu(r,s){var a=Be;Be|=2;var h=Qg();(Nt!==r||Mt!==s)&&(qr=null,ws(r,s));do try{xE();break}catch(f){Kg(r,f)}while(!0);if(Jh(),Be=a,zu.current=h,_t!==null)throw Error(t(261));return Nt=null,Mt=0,Rt}function xE(){for(;_t!==null;)Xg(_t)}function NE(){for(;_t!==null&&!Wl();)Xg(_t)}function Xg(r){var s=e_(r.alternate,r,En);r.memoizedProps=r.pendingProps,s===null?Yg(r):_t=s,xd.current=null}function Yg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=SE(a,s),a!==null){a.flags&=32767,_t=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,_t=null;return}}else if(a=IE(a,s,En),a!==null){_t=a;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);Rt===0&&(Rt=5)}function Es(r,s,a){var h=Ve,f=Ln.transition;try{Ln.transition=null,Ve=1,DE(r,s,a,h)}finally{Ln.transition=f,Ve=h}return null}function DE(r,s,a,h){do No();while(Ii!==null);if(Be&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ke(r,g),r===Nt&&(_t=Nt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||qu||(qu=!0,t_(kn,function(){return No(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Ln.transition,Ln.transition=null;var w=Ve;Ve=1;var A=Be;Be|=4,xd.current=null,CE(r,a),Bg(a,r),Jw(Uh),di=!!Fh,Uh=Fh=null,r.current=a,AE(a),Th(),Be=A,Ve=w,Ln.transition=g}else r.current=a;if(qu&&(qu=!1,Ii=r,Wu=f),g=r.pendingLanes,g===0&&(Ti=null),Ql(a.stateNode),un(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Hu)throw Hu=!1,r=bd,bd=null,r;return Wu&1&&r.tag!==0&&No(),g=r.pendingLanes,g&1?r===Od?Xa++:(Xa=0,Od=r):Xa=0,yi(),null}function No(){if(Ii!==null){var r=ci(Wu),s=Ln.transition,a=Ve;try{if(Ln.transition=null,Ve=16>r?16:r,Ii===null)var h=!1;else{if(r=Ii,Ii=null,Wu=0,Be&6)throw Error(t(331));var f=Be;for(Be|=4,de=r.current;de!==null;){var g=de,w=g.child;if(de.flags&16){var A=g.deletions;if(A!==null){for(var D=0;D<A.length;D++){var q=A[D];for(de=q;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:Ga(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,de=te;else for(;de!==null;){Z=de;var J=Z.sibling,ce=Z.return;if(Vg(Z),Z===q){de=null;break}if(J!==null){J.return=ce,de=J;break}de=ce}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,de=w;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ga(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,de=z;break e}de=g.return}}var V=r.current;for(de=V;de!==null;){w=de;var $=w.child;if(w.subtreeFlags&2064&&$!==null)$.return=w,de=$;else e:for(w=V;de!==null;){if(A=de,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Bu(9,A)}}catch(ge){lt(A,A.return,ge)}if(A===w){de=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,de=ie;break e}de=A.return}}if(Be=f,yi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(is,r)}catch{}h=!0}return h}finally{Ve=a,Ln.transition=s}}return!1}function Jg(r,s,a){s=Ao(a,s),s=gg(r,s,1),r=wi(r,s,1),s=Jt(),r!==null&&(li(r,1,s),un(r,s))}function lt(r,s,a){if(r.tag===3)Jg(r,r,a);else for(;s!==null;){if(s.tag===3){Jg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ti===null||!Ti.has(h))){r=Ao(a,r),r=_g(s,r,1),s=wi(s,r,1),r=Jt(),s!==null&&(li(s,1,r),un(s,r));break}}s=s.return}}function bE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Mt&a)===a&&(Rt===4||Rt===3&&(Mt&130023424)===Mt&&500>Xe()-Dd?ws(r,0):Nd|=a),un(r,s)}function Zg(r,s){s===0&&(r.mode&1?(s=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):s=1);var a=Jt();r=zr(r,s),r!==null&&(li(r,s,a),un(r,a))}function OE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Zg(r,a)}function LE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Zg(r,a)}var e_;e_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return an=!1,TE(r,s,a);an=!!(r.flags&131072)}else an=!1,nt&&s.flags&1048576&&bm(s,Su,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Uu(r,s),r=s.pendingProps;var f=vo(s,Bt.current);Ro(s,a),f=ud(null,s,h,r,f,a);var g=cd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(g=!0,Eu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,nd(s),f.updater=Mu,s.stateNode=f,f._reactInternals=s,gd(s,h,r,a),s=wd(null,s,h,!0,g,a)):(s.tag=0,nt&&g&&Wh(s),Yt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Uu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=ME(h),r=Xn(h,r),f){case 0:s=vd(null,s,h,r,a);break e;case 1:s=Cg(null,s,h,r,a);break e;case 11:s=Eg(null,s,h,r,a);break e;case 14:s=Tg(null,s,h,Xn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Xn(h,f),vd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Xn(h,f),Cg(r,s,h,f,a);case 3:e:{if(Ag(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,zm(r,s),xu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ao(Error(t(423)),s),s=kg(r,s,h,a,f);break e}else if(h!==f){f=Ao(Error(t(424)),s),s=kg(r,s,h,a,f);break e}else for(wn=mi(s.stateNode.containerInfo.firstChild),vn=s,nt=!0,Qn=null,a=jm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(To(),h===f){s=Hr(r,s,a);break e}Yt(r,s,h,a)}s=s.child}return s;case 5:return qm(s),r===null&&Qh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,jh(h,f)?w=null:g!==null&&jh(h,g)&&(s.flags|=32),Rg(r,s),Yt(r,s,w,a),s.child;case 6:return r===null&&Qh(s),null;case 13:return Pg(r,s,a);case 4:return rd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Io(s,null,h,a):Yt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Xn(h,f),Eg(r,s,h,f,a);case 7:return Yt(r,s,s.pendingProps,a),s.child;case 8:return Yt(r,s,s.pendingProps.children,a),s.child;case 12:return Yt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ye(Au,h._currentValue),h._currentValue=w,g!==null)if(Kn(g.value,w)){if(g.children===f.children&&!sn.current){s=Hr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var D=A.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=$r(-1,a&-a),D.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),q.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),ed(g.return,a,s),A.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,A=w.alternate,A!==null&&(A.lanes|=a),ed(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Yt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Ro(s,a),f=bn(f),h=h(f),s.flags|=1,Yt(r,s,h,a),s.child;case 14:return h=s.type,f=Xn(h,s.pendingProps),f=Xn(h.type,f),Tg(r,s,h,f,a);case 15:return Ig(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Xn(h,f),Uu(r,s),s.tag=1,on(h)?(r=!0,Eu(s)):r=!1,Ro(s,a),pg(s,h,f),gd(s,h,f,a),wd(null,s,h,!0,r,a);case 19:return Ng(r,s,a);case 22:return Sg(r,s,a)}throw Error(t(156,s.tag))};function t_(r,s){return Ys(r,s)}function VE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,a,h){return new VE(r,s,a,h)}function jd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ME(r){if(typeof r=="function")return jd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===mt)return 14}return 2}function Ci(r,s){var a=r.alternate;return a===null?(a=Vn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Xu(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")jd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return Ts(a.children,f,g,s);case R:w=8,f|=8;break;case C:return r=Vn(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case k:return r=Vn(13,a,s,f),r.elementType=k,r.lanes=g,r;case We:return r=Vn(19,a,s,f),r.elementType=We,r.lanes=g,r;case He:return Yu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case M:w=9;break e;case b:w=11;break e;case mt:w=14;break e;case kt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ts(r,s,a,h){return r=Vn(7,r,h,s),r.lanes=a,r}function Yu(r,s,a,h){return r=Vn(22,r,h,s),r.elementType=He,r.lanes=a,r.stateNode={isHidden:!1},r}function Bd(r,s,a){return r=Vn(6,r,null,s),r.lanes=a,r}function zd(r,s,a){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function FE(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function $d(r,s,a,h,f,g,w,A,D){return r=new FE(r,s,a,A,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(g),r}function UE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function n_(r){if(!r)return _i;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return xm(r,a,s)}return s}function r_(r,s,a,h,f,g,w,A,D){return r=$d(a,h,!0,r,f,g,w,A,D),r.context=n_(null),a=r.current,h=Jt(),f=Si(a),g=$r(h,f),g.callback=s??null,wi(a,g,f),r.current.lanes=f,li(r,f,h),un(r,h),r}function Ju(r,s,a,h){var f=s.current,g=Jt(),w=Si(f);return a=n_(a),s.context===null?s.context=a:s.pendingContext=a,s=$r(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=wi(f,s,w),r!==null&&(Zn(r,f,w,g),Pu(r,f,w)),w}function Zu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function i_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Hd(r,s){i_(r,s),(r=r.alternate)&&i_(r,s)}function jE(){return null}var s_=typeof reportError=="function"?reportError:function(r){console.error(r)};function qd(r){this._internalRoot=r}ec.prototype.render=qd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Ju(r,s,null,null)},ec.prototype.unmount=qd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;vs(function(){Ju(null,r,null,null)}),s[Fr]=null}};function ec(r){this._internalRoot=r}ec.prototype.unstable_scheduleHydration=function(r){if(r){var s=eu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ur.length&&s!==0&&s<ur[a].priority;a++);ur.splice(a,0,r),a===0&&ru(r)}};function Wd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function tc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function o_(){}function BE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var q=Zu(w);g.call(q)}}var w=r_(s,h,r,0,null,!1,!1,"",o_);return r._reactRootContainer=w,r[Fr]=w.current,Oa(r.nodeType===8?r.parentNode:r),vs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var q=Zu(D);A.call(q)}}var D=$d(r,0,!1,null,null,!1,!1,"",o_);return r._reactRootContainer=D,r[Fr]=D.current,Oa(r.nodeType===8?r.parentNode:r),vs(function(){Ju(s,D,a,h)}),D}function nc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var D=Zu(w);A.call(D)}}Ju(s,w,r,f)}else w=BE(a,s,r,f,h);return Zu(w)}Jl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=oi(s.pendingLanes);a!==0&&(ui(s,a|1),un(s,Xe()),!(Be&6)&&(xo=Xe()+500,yi()))}break;case 13:vs(function(){var h=zr(r,1);if(h!==null){var f=Jt();Zn(h,r,1,f)}}),Hd(r,1)}},eo=function(r){if(r.tag===13){var s=zr(r,134217728);if(s!==null){var a=Jt();Zn(s,r,134217728,a)}Hd(r,134217728)}},Zl=function(r){if(r.tag===13){var s=Si(r),a=zr(r,s);if(a!==null){var h=Jt();Zn(a,r,s,h)}Hd(r,s)}},eu=function(){return Ve},tu=function(r,s){var a=Ve;try{return Ve=r,s()}finally{Ve=a}},qs=function(r,s,a){switch(s){case"input":if(Qi(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=vu(h);if(!f)throw Error(t(90));pn(h),Qi(h,f)}}}break;case"textarea":$s(r,a);break;case"select":s=a.value,s!=null&&xr(r,!!a.multiple,s,!1)}},Zi=Md,ma=vs;var zE={usingClientEntryPoint:!1,Events:[Ma,_o,vu,ar,pa,Md]},Ya={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$E={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ya(r),r===null?null:r.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||jE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{is=rc.inject($E),mn=rc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE,cn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(s))throw Error(t(200));return UE(r,s,null,a)},cn.createRoot=function(r,s){if(!Wd(r))throw Error(t(299));var a=!1,h="",f=s_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=$d(r,1,!1,null,null,a,!1,h,f),r[Fr]=s.current,Oa(r.nodeType===8?r.parentNode:r),new qd(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ya(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return vs(r)},cn.hydrate=function(r,s,a){if(!tc(s))throw Error(t(200));return nc(null,r,s,!0,a)},cn.hydrateRoot=function(r,s,a){if(!Wd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=s_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=r_(s,null,r,1,a??null,f,!1,g,w),r[Fr]=s.current,Oa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new ec(s)},cn.render=function(r,s,a){if(!tc(s))throw Error(t(200));return nc(null,r,s,!1,a)},cn.unmountComponentAtNode=function(r){if(!tc(r))throw Error(t(40));return r._reactRootContainer?(vs(function(){nc(null,null,r,!1,function(){r._reactRootContainer=null,r[Fr]=null})}),!0):!1},cn.unstable_batchedUpdates=Md,cn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!tc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return nc(r,s,a,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var p_;function YE(){if(p_)return Qd.exports;p_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qd.exports=XE(),Qd.exports}var m_;function JE(){if(m_)return ic;m_=1;var n=YE();return ic.createRoot=n.createRoot,ic.hydrateRoot=n.hydrateRoot,ic}var ZE=JE(),Za={},g_;function eT(){if(g_)return Za;g_=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.parse=c,Za.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,P){const O=new l,j=E.length;if(j<2)return O;const L=(P==null?void 0:P.decode)||v;let H=0;do{const W=E.indexOf("=",H);if(W===-1)break;const Y=E.indexOf(";",H),ee=Y===-1?j:Y;if(W>ee){H=E.lastIndexOf(";",W-1)+1;continue}const ne=d(E,H,W),ae=p(E,W,ne),x=E.slice(ne,ae);if(O[x]===void 0){let R=d(E,W+1,ee),C=p(E,ee,R);const N=L(E.slice(R,C));O[x]=N}H=ee+1}while(H<j);return O}function d(E,P,O){do{const j=E.charCodeAt(P);if(j!==32&&j!==9)return P}while(++P<O);return O}function p(E,P,O){for(;P>O;){const j=E.charCodeAt(--P);if(j!==32&&j!==9)return P+1}return O}function _(E,P,O){const j=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const L=j(P);if(!e.test(L))throw new TypeError(`argument val is invalid: ${P}`);let H=E+"="+L;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function S(E){return o.call(E)==="[object Date]"}return Za}eT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __="popstate";function tT(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ls(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),gf("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");d=_===-1?p:p.slice(0,_)}return d+"#"+(typeof l=="string"?l:_l(l))}function i(o,l){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return rT(e,t,i,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nT(){return Math.random().toString(36).substring(2,10)}function y_(n,e){return{usr:n.state,key:n.key,idx:e}}function gf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:t,key:e&&e.key||i||nT()}}function _l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ls(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function rT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,_=v();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function v(){return(c.state||{idx:null}).idx}function S(){d="POP";let L=v(),H=L==null?null:L-_;_=L,p&&p({action:d,location:j.location,delta:H})}function E(L,H){d="PUSH";let W=gf(j.location,L,H);t&&t(W,L),_=v()+1;let Y=y_(W,_),ee=j.createHref(W);try{c.pushState(Y,"",ee)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(ee)}l&&p&&p({action:d,location:j.location,delta:1})}function P(L,H){d="REPLACE";let W=gf(j.location,L,H);t&&t(W,L),_=v();let Y=y_(W,_),ee=j.createHref(W);c.replaceState(Y,"",ee),l&&p&&p({action:d,location:j.location,delta:0})}function O(L){let H=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof L=="string"?L:_l(L);return W=W.replace(/ $/,"%20"),rt(H,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,H)}let j={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(__,S),p=L,()=>{o.removeEventListener(__,S),p=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let H=O(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:P,go(L){return c.go(L)}};return j}function Qy(n,e,t="/"){return iT(n,e,t,!1)}function iT(n,e,t,i){let o=typeof e=="string"?Ls(e):e,l=Fi(o.pathname||"/",t);if(l==null)return null;let c=Xy(n);sT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=gT(l);d=pT(c[p],_,i)}return d}function Xy(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=Xr([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xy(l.children,e,v,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:dT(_,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of Yy(l.path))o(l,c,p)}),e}function Yy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Yy(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function sT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var oT=/^:[\w-]+$/,aT=3,lT=2,uT=1,cT=10,hT=-2,v_=n=>n==="*";function dT(n,e){let t=n.split("/"),i=t.length;return t.some(v_)&&(i+=hT),e&&(i+=lT),t.filter(o=>!v_(o)).reduce((o,l)=>o+(oT.test(l)?aT:l===""?uT:cT),i)}function fT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function pT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",S=kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},v),E=p.route;if(!S&&_&&t&&!i[i.length-1].route.index&&(S=kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:Xr([l,S.pathname]),pathnameBase:wT(Xr([l,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(l=Xr([l,S.pathnameBase]))}return c}function kc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=mT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:v,isOptional:S},E)=>{if(v==="*"){let O=d[E]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const P=d[E];return S&&!P?_[v]=void 0:_[v]=(P||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:n}}function mT(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function gT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function _T(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ls(n):n;return{pathname:t?t.startsWith("/")?t:yT(t,e):e,search:ET(i),hash:TT(o)}}function yT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Jd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wf(n){let e=vT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Gf(n,e,t,i=!1){let o;typeof n=="string"?o=Ls(n):(o={...n},rt(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),S-=1;o.pathname=E.join("/")}d=S>=0?e[S]:"/"}let p=_T(o,d),_=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||v)&&(p.pathname+="/"),p}var Xr=n=>n.join("/").replace(/\/\/+/g,"/"),wT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ET=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function IT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jy=["POST","PUT","PATCH","DELETE"];new Set(Jy);var ST=["GET",...Jy];new Set(ST);var Qo=U.createContext(null);Qo.displayName="DataRouter";var Gc=U.createContext(null);Gc.displayName="DataRouterState";var Zy=U.createContext({isTransitioning:!1});Zy.displayName="ViewTransition";var RT=U.createContext(new Map);RT.displayName="Fetchers";var CT=U.createContext(null);CT.displayName="Await";var rr=U.createContext(null);rr.displayName="Navigation";var kl=U.createContext(null);kl.displayName="Location";var ir=U.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Kf=U.createContext(null);Kf.displayName="RouteError";function AT(n,{relative:e}={}){rt(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(rr),{hash:o,pathname:l,search:c}=Pl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Xr([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Xo(){return U.useContext(kl)!=null}function sr(){return rt(Xo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(kl).location}var ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tv(n){U.useContext(rr).static||U.useLayoutEffect(n)}function Yo(){let{isDataRoute:n}=U.useContext(ir);return n?zT():kT()}function kT(){rt(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Qo),{basename:e,navigator:t}=U.useContext(rr),{matches:i}=U.useContext(ir),{pathname:o}=sr(),l=JSON.stringify(Wf(i)),c=U.useRef(!1);return tv(()=>{c.current=!0}),U.useCallback((p,_={})=>{if(Mn(c.current,ev),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Gf(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xr([e,v.pathname])),(_.replace?t.replace:t.push)(v,_.state,_)},[e,t,l,o,n])}var PT=U.createContext(null);function xT(n){let e=U.useContext(ir).outlet;return e&&U.createElement(PT.Provider,{value:n},e)}function Pl(n,{relative:e}={}){let{matches:t}=U.useContext(ir),{pathname:i}=sr(),o=JSON.stringify(Wf(t));return U.useMemo(()=>Gf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function NT(n,e){return nv(n,e)}function nv(n,e,t,i){var H;rt(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(rr),{matches:l}=U.useContext(ir),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",v=c&&c.route;{let W=v&&v.path||"";rv(p,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=sr(),E;if(e){let W=typeof e=="string"?Ls(e):e;rt(_==="/"||((H=W.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),E=W}else E=S;let P=E.pathname||"/",O=P;if(_!=="/"){let W=_.replace(/^\//,"").split("/");O="/"+P.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=Qy(n,{pathname:O});Mn(v||j!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Mn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=VT(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},d,W.params),pathname:Xr([_,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:Xr([_,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,t,i);return e&&L?U.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},L):L}function DT(){let n=BT(),e=IT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,c)}var bT=U.createElement(DT,null),OT=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(ir.Provider,{value:this.props.routeContext},U.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LT({routeContext:n,match:e,children:t}){let i=U.useContext(Qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ir.Provider,{value:n},t)}function VT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:S}=t,E=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||E){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,v)=>{let S,E=!1,P=null,O=null;t&&(S=l&&_.route.id?l[_.route.id]:void 0,P=_.route.errorElement||bT,c&&(d<0&&v===0?(rv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):d===v&&(E=!0,O=_.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),L=()=>{let H;return S?H=P:E?H=O:_.route.Component?H=U.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,U.createElement(LT,{match:_,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?U.createElement(OT,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}function Qf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(n){let e=U.useContext(Qo);return rt(e,Qf(n)),e}function FT(n){let e=U.useContext(Gc);return rt(e,Qf(n)),e}function UT(n){let e=U.useContext(ir);return rt(e,Qf(n)),e}function Xf(n){let e=UT(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jT(){return Xf("useRouteId")}function BT(){var i;let n=U.useContext(Kf),e=FT("useRouteError"),t=Xf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function zT(){let{router:n}=MT("useNavigate"),e=Xf("useNavigate"),t=U.useRef(!1);return tv(()=>{t.current=!0}),U.useCallback(async(o,l={})=>{Mn(t.current,ev),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var w_={};function rv(n,e,t){!e&&!w_[n]&&(w_[n]=!0,Mn(!1,t))}U.memo($T);function $T({routes:n,future:e,state:t}){return nv(n,void 0,t,e)}function E_({to:n,replace:e,state:t,relative:i}){rt(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(rr);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(ir),{pathname:c}=sr(),d=Yo(),p=Gf(n,Wf(l),c,i==="path"),_=JSON.stringify(p);return U.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function HT(n){return xT(n.context)}function yr(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){rt(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ls(t));let{pathname:p="/",search:_="",hash:v="",state:S=null,key:E="default"}=t,P=U.useMemo(()=>{let O=Fi(p,c);return O==null?null:{location:{pathname:O,search:_,hash:v,state:S,key:E},navigationType:i}},[c,p,_,v,S,E,i]);return Mn(P!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(rr.Provider,{value:d},U.createElement(kl.Provider,{children:e,value:P}))}function WT({children:n,location:e}){return NT(_f(n),e)}function _f(n,e=[]){let t=[];return U.Children.forEach(n,(i,o)=>{if(!U.isValidElement(i))return;let l=[...e,o];if(i.type===U.Fragment){t.push.apply(t,_f(i.props.children,l));return}rt(i.type===yr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=_f(i.props.children,l)),t.push(c)}),t}var mc="get",gc="application/x-www-form-urlencoded";function Kc(n){return n!=null&&typeof n.tagName=="string"}function GT(n){return Kc(n)&&n.tagName.toLowerCase()==="button"}function KT(n){return Kc(n)&&n.tagName.toLowerCase()==="form"}function QT(n){return Kc(n)&&n.tagName.toLowerCase()==="input"}function XT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YT(n,e){return n.button===0&&(!e||e==="_self")&&!XT(n)}var sc=null;function JT(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var ZT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(n){return n!=null&&!ZT.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):n}function eI(n,e){let t,i,o,l,c;if(KT(n)){let d=n.getAttribute("action");i=d?Fi(d,e):null,t=n.getAttribute("method")||mc,o=Zd(n.getAttribute("enctype"))||gc,l=new FormData(n)}else if(GT(n)||QT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Fi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||mc,o=Zd(n.getAttribute("formenctype"))||Zd(d.getAttribute("enctype"))||gc,l=new FormData(d,n),!JT()){let{name:_,type:v,value:S}=n;if(v==="image"){let E=_?`${_}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else _&&l.append(_,S)}}else{if(Kc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mc,i=null,o=gc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Yf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rI(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await tI(l,t);return c.links?c.links():[]}return[]}));return aI(i.flat(1).filter(nI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function T_(n,e,t,i,o,l){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var v;return t[_].pathname!==p.pathname||((v=t[_].route.path)==null?void 0:v.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):l==="data"?e.filter((p,_)=>{var S;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function iI(n,e){return sI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function sI(n){return[...new Set(n)]}function oI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(oI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function lI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uI(){let n=U.useContext(Qo);return Yf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cI(){let n=U.useContext(Gc);return Yf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jf=U.createContext(void 0);Jf.displayName="FrameworkContext";function iv(){let n=U.useContext(Jf);return Yf(n,"You must render this element inside a <HydratedRouter> element"),n}function hI(n,e){let t=U.useContext(Jf),[i,o]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:v,onTouchStart:S}=e,E=U.useRef(null);U.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=H=>{H.forEach(W=>{c(W.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return E.current&&L.observe(E.current),()=>{L.disconnect()}}},[n]),U.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let P=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:el(d,P),onBlur:el(p,O),onMouseEnter:el(_,P),onMouseLeave:el(v,O),onTouchStart:el(S,P)}]:[!1,E,{}]}function el(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dI({page:n,...e}){let{router:t}=uI(),i=U.useMemo(()=>Qy(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(pI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function fI(n){let{manifest:e,routeModules:t}=iv(),[i,o]=U.useState([]);return U.useEffect(()=>{let l=!1;return rI(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function pI({page:n,matches:e,...t}){let i=sr(),{manifest:o,routeModules:l}=iv(),{loaderData:c,matches:d}=cI(),p=U.useMemo(()=>T_(n,e,d,o,i,"data"),[n,e,d,o,i]),_=U.useMemo(()=>T_(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,O=!1;if(e.forEach(L=>{var W;let H=o.routes[L.route.id];!H||!H.hasLoader||(!p.some(Y=>Y.route.id===L.route.id)&&L.route.id in c&&((W=l[L.route.id])!=null&&W.shouldRevalidate)||H.hasClientLoader?O=!0:P.add(L.route.id))}),P.size===0)return[];let j=lI(n);return O&&P.size>0&&j.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[j.pathname+j.search]},[c,i,o,p,e,n,l]),S=U.useMemo(()=>iI(_,o),[_,o]),E=fI(_);return U.createElement(U.Fragment,null,v.map(P=>U.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),S.map(P=>U.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),E.map(({key:P,link:O})=>U.createElement("link",{key:P,...O})))}function mI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sv&&(window.__reactRouterVersion="7.0.2")}catch{}function gI({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=tT({window:t,v5Compat:!0}));let o=i.current,[l,c]=U.useState({action:o.action,location:o.location}),d=U.useCallback(p=>{U.startTransition(()=>c(p))},[c]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(qT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:_,preventScrollReset:v,viewTransition:S,...E},P){let{basename:O}=U.useContext(rr),j=typeof _=="string"&&ov.test(_),L,H=!1;if(typeof _=="string"&&j&&(L=_,sv))try{let C=new URL(window.location.href),N=_.startsWith("//")?new URL(C.protocol+_):new URL(_),M=Fi(N.pathname,O);N.origin===C.origin&&M!=null?_=M+N.search+N.hash:H=!0}catch{Mn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=AT(_,{relative:o}),[Y,ee,ne]=hI(i,E),ae=wI(_,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:S});function x(C){e&&e(C),C.defaultPrevented||ae(C)}let R=U.createElement("a",{...E,...ne,href:L||W,onClick:H||l?e:x,ref:mI(P,ee),target:p,"data-discover":!j&&t==="render"?"true":void 0});return Y&&!j?U.createElement(U.Fragment,null,R,U.createElement(dI,{page:W})):R});cl.displayName="Link";var _I=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,..._},v){let S=Pl(c,{relative:_.relative}),E=sr(),P=U.useContext(Gc),{navigator:O,basename:j}=U.useContext(rr),L=P!=null&&RI(S)&&d===!0,H=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,W=E.pathname,Y=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&j&&(Y=Fi(Y,j)||Y);const ee=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ne=W===H||!o&&W.startsWith(H)&&W.charAt(ee)==="/",ae=Y!=null&&(Y===H||!o&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),x={isActive:ne,isPending:ae,isTransitioning:L},R=ne?e:void 0,C;typeof i=="function"?C=i(x):C=[i,ne?"active":null,ae?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(x):l;return U.createElement(cl,{..._,"aria-current":R,className:C,ref:v,style:N,to:c,viewTransition:d},typeof p=="function"?p(x):p)});_I.displayName="NavLink";var yI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=mc,action:d,onSubmit:p,relative:_,preventScrollReset:v,viewTransition:S,...E},P)=>{let O=II(),j=SI(d,{relative:_}),L=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&ov.test(d),W=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ee=Y.nativeEvent.submitter,ne=(ee==null?void 0:ee.getAttribute("formmethod"))||c;O(ee||Y.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:o,state:l,relative:_,preventScrollReset:v,viewTransition:S})};return U.createElement("form",{ref:P,method:L,action:j,onSubmit:i?p:W,...E,"data-discover":!H&&n==="render"?"true":void 0})});yI.displayName="Form";function vI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(n){let e=U.useContext(Qo);return rt(e,vI(n)),e}function wI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Yo(),p=sr(),_=Pl(n,{relative:l});return U.useCallback(v=>{if(YT(v,e)){v.preventDefault();let S=t!==void 0?t:_l(p)===_l(_);d(n,{replace:S,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,_,t,i,e,n,o,l,c])}var EI=0,TI=()=>`__${String(++EI)}__`;function II(){let{router:n}=av("useSubmit"),{basename:e}=U.useContext(rr),t=jT();return U.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:_}=eI(i,e);if(o.navigate===!1){let v=o.fetcherKey||TI();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function SI(n,{relative:e}={}){let{basename:t}=U.useContext(rr),i=U.useContext(ir);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Pl(n||".",{relative:e})},c=sr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(S=>S).forEach(S=>d.append("index",S));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Xr([t,l.pathname])),_l(l)}function RI(n,e={}){let t=U.useContext(Zy);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=av("useViewTransitionState"),o=Pl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Fi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return kc(o.pathname,c)!=null||kc(o.pathname,l)!=null}new TextEncoder;const CI="_sidebar_cvnr2_1",AI="_profileSection_cvnr2_19",kI="_navigation_cvnr2_35",PI="_avatar_cvnr2_43",xI="_userInfo_cvnr2_69",NI="_navList_cvnr2_105",DI="_navItem_cvnr2_123",bI="_navLink_cvnr2_131",OI="_createEventBtn_cvnr2_161",LI="_dropdown_cvnr2_197",VI="_dropdownItem_cvnr2_231",MI="_logoutBtn_cvnr2_253",FI="_dashboardContainer_cvnr2_295",UI="_mainContent_cvnr2_303",jI="_welcomeContainer_cvnr2_335",BI="_welcomeTitle_cvnr2_355",zI="_welcomeText_cvnr2_375",$I="_hamburgerBtn_cvnr2_383",HI="_overlay_cvnr2_409",qI="_sidebarOpen_cvnr2_449",xe={sidebar:CI,profileSection:AI,navigation:kI,avatar:PI,userInfo:xI,navList:NI,navItem:DI,navLink:bI,createEventBtn:OI,dropdown:LI,dropdownItem:VI,logoutBtn:MI,dashboardContainer:FI,mainContent:UI,welcomeContainer:jI,welcomeTitle:BI,welcomeText:zI,hamburgerBtn:$I,overlay:HI,sidebarOpen:qI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},p)=>U.createElement("svg",{ref:p,...GI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:lv("lucide",o),...d},[...c.map(([_,v])=>U.createElement(_,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(n,e)=>{const t=U.forwardRef(({className:i,...o},l)=>U.createElement(KI,{ref:l,iconNode:e,className:lv(`lucide-${WI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=wt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=wt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=wt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=wt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=wt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=wt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=wt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=wt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=wt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=wt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var S_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},c1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,v=l>>2,S=(l&3)<<4|d>>4;let E=(d&15)<<2|_>>6,P=_&63;p||(P=64,c||(E=64)),i.push(t[v],t[S],t[E],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):c1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||S==null)throw new h1;const E=l<<2|d>>4;if(i.push(E),_!==64){const P=d<<4&240|_>>2;if(i.push(P),S!==64){const O=_<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(n){const e=dv(n);return fv.encodeByteArray(e,!0)},Pc=function(n){return d1(n).replace(/\./g,"")},pv=function(n){try{return fv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=()=>f1().__FIREBASE_DEFAULTS__,m1=()=>{if(typeof process>"u"||typeof S_>"u")return;const n=S_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},g1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pv(n[1]);return e&&JSON.parse(e)},Qc=()=>{try{return p1()||m1()||g1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mv=n=>{var e,t;return(t=(e=Qc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gv=n=>{const e=mv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_v=()=>{var n;return(n=Qc())===null||n===void 0?void 0:n.config},yv=n=>{var e;return(e=Qc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function v1(){var n;const e=(n=Qc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function T1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I1(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function S1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function C1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="FirebaseError";class Ar extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=A1,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?k1(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ar(o,d,i)}}function k1(n,e){return n.replace(P1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const P1=/\{\$([^}]+)}/g;function x1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(R_(l)&&R_(c)){if(!xc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function R_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function rl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function il(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function N1(n,e){const t=new D1(n,e);return t.subscribe.bind(t)}class D1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");b1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=tf),o.error===void 0&&(o.error=tf),o.complete===void 0&&(o.complete=tf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class Ui{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new _1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V1(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(n){return n===Is?void 0:n}function V1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new O1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const F1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},U1=Oe.INFO,j1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},B1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=j1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zf{constructor(e){this.name=e,this._logLevel=U1,this._logHandler=B1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const z1=(n,e)=>e.some(t=>n instanceof t);let C_,A_;function $1(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,yf=new WeakMap,Ev=new WeakMap,nf=new WeakMap,ep=new WeakMap;function q1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Oi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&wv.set(t,n)}).catch(()=>{}),ep.set(e,n),e}function W1(n){if(yf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});yf.set(n,e)}let vf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ev.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function G1(n){vf=n(vf)}function K1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(rf(this),e,...t);return Ev.set(i,e.sort?e.sort():[e]),Oi(i)}:H1().includes(n)?function(...e){return n.apply(rf(this),e),Oi(wv.get(this))}:function(...e){return Oi(n.apply(rf(this),e))}}function Q1(n){return typeof n=="function"?K1(n):(n instanceof IDBTransaction&&W1(n),z1(n,$1())?new Proxy(n,vf):n)}function Oi(n){if(n instanceof IDBRequest)return q1(n);if(nf.has(n))return nf.get(n);const e=Q1(n);return e!==n&&(nf.set(n,e),ep.set(e,n)),e}const rf=n=>ep.get(n);function X1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Oi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Oi(c.result),p.oldVersion,p.newVersion,Oi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const Y1=["get","getKey","getAll","getAllKeys","count"],J1=["put","add","delete","clear"],sf=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sf.get(e))return sf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=J1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return sf.set(e,l),l}G1(n=>({...n,get:(e,t,i)=>k_(e,t)||n.get(e,t,i),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function eS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wf="@firebase/app",P_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Zf("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",oS="@firebase/auth",aS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",hS="@firebase/functions",dS="@firebase/functions-compat",fS="@firebase/installations",pS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",_S="@firebase/performance",yS="@firebase/performance-compat",vS="@firebase/remote-config",wS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",IS="@firebase/firestore",SS="@firebase/vertexai",RS="@firebase/firestore-compat",CS="firebase",AS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]",kS={[wf]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[oS]:"fire-auth",[aS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[hS]:"fire-fn",[dS]:"fire-fn-compat",[fS]:"fire-iid",[pS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[_S]:"fire-perf",[yS]:"fire-perf-compat",[vS]:"fire-rc",[wS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[IS]:"fire-fst",[RS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,PS=new Map,Tf=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ns(n){const e=n.name;if(Tf.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,n);for(const t of Nc.values())x_(t,n);for(const t of PS.values())x_(t,n);return!0}function Xc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new xl("app","Firebase",xS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=AS;function Dl(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ef,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(t||(t=_v()),!t)throw Li.create("no-options");const l=Nc.get(o);if(l){if(xc(t,l.options)&&xc(i,l.config))return l;throw Li.create("duplicate-app",{appName:o})}const c=new M1(o);for(const p of Tf.values())c.addComponent(p);const d=new NS(t,i,c);return Nc.set(o,d),d}function tp(n=Ef){const e=Nc.get(n);if(!e&&n===Ef&&_v())return Dl();if(!e)throw Li.create("no-app",{appName:n});return e}function Tr(n,e,t){var i;let o=(i=kS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(d.join(" "));return}Ns(new Ui(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebase-heartbeat-database",bS=1,yl="firebase-heartbeat-store";let of=null;function Tv(){return of||(of=X1(DS,bS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),of}async function OS(n){try{const t=(await Tv()).transaction(yl),i=await t.objectStore(yl).get(Iv(n));return await t.done,i}catch(e){if(e instanceof Ar)Zr.warn(e.message);else{const t=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function N_(n,e){try{const i=(await Tv()).transaction(yl,"readwrite");await i.objectStore(yl).put(e,Iv(n)),await i.done}catch(t){if(t instanceof Ar)Zr.warn(t.message);else{const i=Li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(i.message)}}}function Iv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1024,VS=30*24*60*60*1e3;class MS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new US(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=D_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=VS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Zr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=D_(),{heartbeatsToSend:i,unsentEntries:o}=FS(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zr.warn(t),""}}}function D_(){return new Date().toISOString().substring(0,10)}function FS(n,e=LS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),b_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),b_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class US{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?C1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return N_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return N_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){Ns(new Ui("platform-logger",e=>new Z1(e),"PRIVATE")),Ns(new Ui("heartbeat",e=>new MS(e),"PRIVATE")),Tr(wf,P_,n),Tr(wf,P_,"esm2017"),Tr("fire-js","")}jS("");var BS="firebase",zS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(BS,zS,"app");function np(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Sv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $S=Sv,Rv=new xl("auth","Firebase",Sv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Zf("@firebase/auth");function HS(n,...e){Dc.logLevel<=Oe.WARN&&Dc.warn(`Auth (${Vs}): ${n}`,...e)}function _c(n,...e){Dc.logLevel<=Oe.ERROR&&Dc.error(`Auth (${Vs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,...e){throw ip(n,...e)}function er(n,...e){return ip(n,...e)}function rp(n,e,t){const i=Object.assign(Object.assign({},$S()),{[e]:t});return new xl("auth","Firebase",i).create(e,{appName:n.name})}function Vi(n){return rp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qS(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fn(n,"argument-error"),rp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ip(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Rv.create(n,...e)}function Te(n,e,...t){if(!n)throw ip(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _c(e),new Error(e)}function ei(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WS(){return O_()==="http:"||O_()==="https:"}function O_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WS()||E1()||"connection"in navigator)?navigator.onLine:!0}function KS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=y1()||T1()}get(){return GS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new bl(3e4,6e4);function Ms(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qi(n,e,t,i,o={}){return Av(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Nl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return w1()||(_.referrerPolicy="no-referrer"),Cv.fetch()(kv(n,n.config.apiHost,t,d),_)})}async function Av(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},QS),e);try{const o=new JS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw oc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw oc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw rp(n,v,_);Fn(n,v)}}catch(o){if(o instanceof Ar)throw o;Fn(n,"network-request-failed",{message:String(o)})}}async function Yc(n,e,t,i,o={}){const l=await qi(n,e,t,i,o);return"mfaPendingCredential"in l&&Fn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function kv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?sp(n.config,o):`${n.config.apiScheme}://${o}`}function YS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),XS.get())})}}function oc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=er(n,e,i);return o.customData._tokenResponse=t,o}function L_(n){return n!==void 0&&n.enterprise!==void 0}class ZS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eR(n,e){return qi(n,"GET","/v2/recaptchaConfig",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function Pv(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nR(n,e=!1){const t=ot(n),i=await t.getIdToken(e),o=op(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:hl(af(o.auth_time)),issuedAtTime:hl(af(o.iat)),expirationTime:hl(af(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function af(n){return Number(n)*1e3}function op(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const o=pv(t);return o?JSON.parse(o):(_c("Failed to decode base64 JWT payload"),null)}catch(o){return _c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function V_(n){const e=op(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ar&&rR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await vl(n,Pv(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?xv(l.providerUserInfo):[],d=oR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function sR(n){const e=ot(n);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xv(n){return n.map(e=>{var{providerId:t}=e,i=np(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(n,e){const t=await Av(n,{},async()=>{const i=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=kv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Cv.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lR(n,e){return qi(n,"POST","/v2/accounts:revokeToken",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=V_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await aR(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Mo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await vl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nR(this,e)}reload(){return sR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await vl(this,tR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,_,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(_=t.createdAt)!==null&&_!==void 0?_:void 0,W=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:ee,isAnonymous:ne,providerData:ae,stsTokenManager:x}=t;Te(Y&&x,e,"internal-error");const R=Mo.fromJSON(this.name,x);Te(typeof Y=="string",e,"internal-error"),ki(S,e.name),ki(E,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof ne=="boolean",e,"internal-error"),ki(P,e.name),ki(O,e.name),ki(j,e.name),ki(L,e.name),ki(H,e.name),ki(W,e.name);const C=new Kr({uid:Y,auth:e,email:E,emailVerified:ee,displayName:S,isAnonymous:ne,photoURL:O,phoneNumber:P,tenantId:j,stsTokenManager:R,createdAt:H,lastLoginAt:W});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(N=>Object.assign({},N))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Mo;o.updateFromServerResponse(t);const l=new Kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await bc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?xv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Mo;d.updateFromIdToken(i);const p=new Kr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function Qr(n){ei(n instanceof Function,"Expected a class definition");let e=M_.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nv.type="NONE";const F_=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=yc(this.userKey,o.apiKey,l),this.fullPersistenceKey=yc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(Qr(F_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Qr(F_);const c=yc(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const v=await _._get(c);if(v){const S=Kr._fromJSON(e,v);_!==l&&(d=S),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new Fo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mv(e))return"Blackberry";if(Fv(e))return"Webos";if(bv(e))return"Safari";if((e.includes("chrome/")||Ov(e))&&!e.includes("edge/"))return"Chrome";if(Vv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Dv(n=Kt()){return/firefox\//i.test(n)}function bv(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ov(n=Kt()){return/crios\//i.test(n)}function Lv(n=Kt()){return/iemobile/i.test(n)}function Vv(n=Kt()){return/android/i.test(n)}function Mv(n=Kt()){return/blackberry/i.test(n)}function Fv(n=Kt()){return/webos/i.test(n)}function ap(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uR(n=Kt()){var e;return ap(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cR(){return I1()&&document.documentMode===10}function Uv(n=Kt()){return ap(n)||Vv(n)||Fv(n)||Mv(n)||/windows phone/i.test(n)||Lv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n,e=[]){let t;switch(n){case"Browser":t=U_(Kt());break;case"Worker":t=`${U_(Kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e={}){return qi(n,"GET","/v2/passwordPolicy",Ms(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=6;class pR{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:fR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pv(this,{idToken:e}),i=await Kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Vi(this));const t=e?ot(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dR(this),t=new pR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await lR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fs(n){return ot(n)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=N1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(n){Jc=n}function Bv(n){return Jc.loadJS(n)}function _R(){return Jc.recaptchaEnterpriseScript}function yR(){return Jc.gapiScript}function vR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wR{constructor(){this.enterprise=new ER}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ER{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const TR="recaptcha-enterprise",zv="NO_RECAPTCHA";class IR{constructor(e){this.type=TR,this.auth=Fs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{eR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new ZS(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;L_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{c(_)}).catch(()=>{c(zv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&L_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_R();p.length!==0&&(p+=d),Bv(p).then(()=>{o(d,l,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function B_(n,e,t,i=!1,o=!1){const l=new IR(n);let c;if(o)c=zv;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function z_(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await B_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await B_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e){const t=Xc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(xc(l,e??{}))return o;Fn(o,"already-initialized")}return t.initialize({options:e})}function RR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function CR(n,e,t){const i=Fs(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=$v(e),{host:c,port:d}=AR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),kR()}function $v(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AR(n){const e=$v(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:$_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:$_(c)}}}function $_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function PR(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e){return Yc(n,"POST","/v1/accounts:signInWithPassword",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(n,e){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}async function DR(n,e){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends lp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new wl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,t,"signInWithPassword",xR);case"emailLink":return NR(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,i,"signUpPassword",PR);case"emailLink":return DR(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return Yc(n,"POST","/v1/accounts:signInWithIdp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="http://localhost";class Ds extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=np(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ds(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LR(n){const e=rl(il(n)).link,t=e?rl(il(e)).deep_link_id:null,i=rl(il(n)).deep_link_id;return(i?rl(il(i)).link:null)||i||t||e||n}class up{constructor(e){var t,i,o,l,c,d;const p=rl(il(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,S=OR((o=p.mode)!==null&&o!==void 0?o:null);Te(_&&v&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=LR(e);try{return new up(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return wl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=up.parseLink(t);return Te(i,"argument-error"),wl._fromEmailAndCode(e,i.code,i.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ol{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ds._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Wr.credential(t,i)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ol{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ol{constructor(){super("twitter.com")}static credential(e,t){return Ds._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ni.credential(t,i)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Kr._fromIdTokenResponse(e,i,o),c=H_(i);return new Bo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=H_(i);return new Bo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function H_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Ar{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Oc(e,t,i,o)}}function Hv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,l,e,i):l})}async function VR(n,e,t=!1){const i=await vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,e,t=!1){const{auth:i}=n;if(wr(i.app))return Promise.reject(Vi(i));const o="reauthenticate";try{const l=await vl(n,Hv(i,o,e,n),t);Te(l.idToken,i,"internal-error");const c=op(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),Bo._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Fn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(n,e,t=!1){if(wr(n.app))return Promise.reject(Vi(n));const i="signIn",o=await Hv(n,i,e),l=await Bo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function FR(n,e){return qv(Fs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n){const e=Fs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jR(n,e,t){return wr(n.app)?Promise.reject(Vi(n)):FR(ot(n),Jo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UR(n),i})}function BR(n,e,t,i){return ot(n).onIdTokenChanged(e,t,i)}function zR(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function Rf(n){return ot(n).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,HR=10;class Gv extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);cR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gv.type="LOCAL";const qR=Gv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kv.type="SESSION";const Qv=Kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,l)),p=await WR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=hp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const E=S;if(E.data.eventId===_)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function KR(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YR(){return Xv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firebaseLocalStorageDb",JR=1,Vc="firebaseLocalStorage",Jv="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eh(n,e){return n.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function ZR(){const n=indexedDB.deleteDatabase(Yv);return new Ll(n).toPromise()}function Cf(){const n=indexedDB.open(Yv,JR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vc,{keyPath:Jv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vc)?e(i):(i.close(),await ZR(),e(await Cf()))})})}async function q_(n,e,t){const i=eh(n,!0).put({[Jv]:e,value:t});return new Ll(i).toPromise()}async function eC(n,e){const t=eh(n,!1).get(e),i=await new Ll(t).toPromise();return i===void 0?null:i.value}function W_(n,e){const t=eh(n,!0).delete(e);return new Ll(t).toPromise()}const tC=800,nC=3;class Zv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(YR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await q_(e,Lc,"1"),await W_(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>q_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>eC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=eh(o,!1).getAll();return new Ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zv.type="LOCAL";const rC=Zv;new bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e){return e?Qr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iC(n){return qv(n.auth,new dp(n),n.bypassAuthState)}function sC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),MR(t,new dp(n),n.bypassAuthState)}async function oC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),VR(t,new dp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:Fn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new bl(2e3,1e4);async function lC(n,e,t){if(wr(n.app))return Promise.reject(er(n,"operation-not-supported-in-this-environment"));const i=Fs(n);qS(n,e,cp);const o=e0(i,t);return new Ss(i,"signInViaPopup",e,o).executeNotNull()}class Ss extends t0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aC.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",vc=new Map;class cC extends t0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const i=await hC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(n,e){const t=pC(e),i=fC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function dC(n,e){vc.set(n._key(),e)}function fC(n){return Qr(n._redirectPersistence)}function pC(n){return yc(uC,n.config.apiKey,n.name)}async function mC(n,e,t=!1){if(wr(n.app))return Promise.reject(Vi(n));const i=Fs(n),o=e0(i,e),c=await new cC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=10*60*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!n0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(e))}saveEventToCache(e){this.cachedEventUids.add(G_(e)),this.lastProcessedEventTime=Date.now()}}function G_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EC=/^https?/;async function TC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vC(n);for(const t of e)try{if(IC(t))return}catch{}Fn(n,"unauthorized-domain")}function IC(n){const e=If(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!EC.test(t))return!1;if(wC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new bl(3e4,6e4);function K_(){const n=Ir().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RC(n){return new Promise((e,t)=>{var i,o,l;function c(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),t(er(n,"network-request-failed"))},timeout:SC.get()})}if(!((o=(i=Ir().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ir().gapi)===null||l===void 0)&&l.load)c();else{const d=vR("iframefcb");return Ir()[d]=()=>{gapi.load?c():t(er(n,"network-request-failed"))},Bv(`${yR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw wc=null,e})}let wc=null;function CC(n){return wc=wc||RC(n),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new bl(5e3,15e3),kC="__/auth/iframe",PC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sp(e,PC):`https://${n.config.authDomain}/${kC}`,i={apiKey:e.apiKey,appName:n.name,v:Vs},o=NC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Nl(i).slice(1)}`}async function bC(n){const e=await CC(n),t=Ir().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:DC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=er(n,"network-request-failed"),d=Ir().setTimeout(()=>{l(c)},AC.get());function p(){Ir().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,VC=600,MC="_blank",FC="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UC(n,e,t,i=LC,o=VC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},OC),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Kt().toLowerCase();t&&(d=Ov(_)?MC:t),Dv(_)&&(e=e||FC,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[P,O])=>`${E}${P}=${O},`,"");if(uR(_)&&d!=="_self")return jC(e||"",d),new Q_(null);const S=window.open(e||"",d,v);Te(S,n,"popup-blocked");try{S.focus()}catch{}return new Q_(S)}function jC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__/auth/handler",zC="emulator/auth/handler",$C=encodeURIComponent("fac");async function X_(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Vs,eventId:o};if(e instanceof cp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",x1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof Ol){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),_=p?`#${$C}=${encodeURIComponent(p)}`:"";return`${HC(n)}?${Nl(d).slice(1)}${_}`}function HC({config:n}){return n.emulator?sp(n,zC):`https://${n.authDomain}/${BC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qv,this._completeRedirectFn=mC,this._overrideRedirectResult=dC}async _openPopup(e,t,i,o){var l;ei((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await X_(e,t,i,If(),o);return UC(e,c,hp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await X_(e,t,i,If(),o);return KR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ei(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bC(e),i=new _C(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lf,{type:lf},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[lf];c!==void 0&&t(!!c),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uv()||bv()||ap()}}const WC=qC;var Y_="@firebase/auth",J_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QC(n){Ns(new Ui("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jv(n)},_=new mR(i,o,l,p);return RR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ns(new Ui("auth-internal",e=>{const t=Fs(e.getProvider("auth").getImmediate());return(i=>new GC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(Y_,J_,KC(n)),Tr(Y_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=5*60,YC=yv("authIdTokenMaxAge")||XC;let Z_=null;const JC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>YC)return;const o=t==null?void 0:t.token;Z_!==o&&(Z_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Mc(n=tp()){const e=Xc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SR(n,{popupRedirectResolver:WC,persistence:[rC,qR,Qv]}),i=yv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=JC(l.toString());zR(t,c,()=>c(t.currentUser)),BR(t,d=>c(d))}}const o=mv("auth");return o&&CR(t,`http://${o}`),t}function ZC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=er("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",ZC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QC("Browser");var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,r0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(N,M,b){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return R.prototype[M].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],M=x.g[2];var b=x.g[3],k=R+(b^C&(M^b))+N[0]+3614090360&4294967295;R=C+(k<<7&4294967295|k>>>25),k=b+(M^R&(C^M))+N[1]+3905402710&4294967295,b=R+(k<<12&4294967295|k>>>20),k=M+(C^b&(R^C))+N[2]+606105819&4294967295,M=b+(k<<17&4294967295|k>>>15),k=C+(R^M&(b^R))+N[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(b^C&(M^b))+N[4]+4118548399&4294967295,R=C+(k<<7&4294967295|k>>>25),k=b+(M^R&(C^M))+N[5]+1200080426&4294967295,b=R+(k<<12&4294967295|k>>>20),k=M+(C^b&(R^C))+N[6]+2821735955&4294967295,M=b+(k<<17&4294967295|k>>>15),k=C+(R^M&(b^R))+N[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(b^C&(M^b))+N[8]+1770035416&4294967295,R=C+(k<<7&4294967295|k>>>25),k=b+(M^R&(C^M))+N[9]+2336552879&4294967295,b=R+(k<<12&4294967295|k>>>20),k=M+(C^b&(R^C))+N[10]+4294925233&4294967295,M=b+(k<<17&4294967295|k>>>15),k=C+(R^M&(b^R))+N[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(b^C&(M^b))+N[12]+1804603682&4294967295,R=C+(k<<7&4294967295|k>>>25),k=b+(M^R&(C^M))+N[13]+4254626195&4294967295,b=R+(k<<12&4294967295|k>>>20),k=M+(C^b&(R^C))+N[14]+2792965006&4294967295,M=b+(k<<17&4294967295|k>>>15),k=C+(R^M&(b^R))+N[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=R+(M^b&(C^M))+N[1]+4129170786&4294967295,R=C+(k<<5&4294967295|k>>>27),k=b+(C^M&(R^C))+N[6]+3225465664&4294967295,b=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(b^R))+N[11]+643717713&4294967295,M=b+(k<<14&4294967295|k>>>18),k=C+(b^R&(M^b))+N[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^b&(C^M))+N[5]+3593408605&4294967295,R=C+(k<<5&4294967295|k>>>27),k=b+(C^M&(R^C))+N[10]+38016083&4294967295,b=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(b^R))+N[15]+3634488961&4294967295,M=b+(k<<14&4294967295|k>>>18),k=C+(b^R&(M^b))+N[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^b&(C^M))+N[9]+568446438&4294967295,R=C+(k<<5&4294967295|k>>>27),k=b+(C^M&(R^C))+N[14]+3275163606&4294967295,b=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(b^R))+N[3]+4107603335&4294967295,M=b+(k<<14&4294967295|k>>>18),k=C+(b^R&(M^b))+N[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(M^b&(C^M))+N[13]+2850285829&4294967295,R=C+(k<<5&4294967295|k>>>27),k=b+(C^M&(R^C))+N[2]+4243563512&4294967295,b=R+(k<<9&4294967295|k>>>23),k=M+(R^C&(b^R))+N[7]+1735328473&4294967295,M=b+(k<<14&4294967295|k>>>18),k=C+(b^R&(M^b))+N[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=R+(C^M^b)+N[5]+4294588738&4294967295,R=C+(k<<4&4294967295|k>>>28),k=b+(R^C^M)+N[8]+2272392833&4294967295,b=R+(k<<11&4294967295|k>>>21),k=M+(b^R^C)+N[11]+1839030562&4294967295,M=b+(k<<16&4294967295|k>>>16),k=C+(M^b^R)+N[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^b)+N[1]+2763975236&4294967295,R=C+(k<<4&4294967295|k>>>28),k=b+(R^C^M)+N[4]+1272893353&4294967295,b=R+(k<<11&4294967295|k>>>21),k=M+(b^R^C)+N[7]+4139469664&4294967295,M=b+(k<<16&4294967295|k>>>16),k=C+(M^b^R)+N[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^b)+N[13]+681279174&4294967295,R=C+(k<<4&4294967295|k>>>28),k=b+(R^C^M)+N[0]+3936430074&4294967295,b=R+(k<<11&4294967295|k>>>21),k=M+(b^R^C)+N[3]+3572445317&4294967295,M=b+(k<<16&4294967295|k>>>16),k=C+(M^b^R)+N[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(C^M^b)+N[9]+3654602809&4294967295,R=C+(k<<4&4294967295|k>>>28),k=b+(R^C^M)+N[12]+3873151461&4294967295,b=R+(k<<11&4294967295|k>>>21),k=M+(b^R^C)+N[15]+530742520&4294967295,M=b+(k<<16&4294967295|k>>>16),k=C+(M^b^R)+N[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=R+(M^(C|~b))+N[0]+4096336452&4294967295,R=C+(k<<6&4294967295|k>>>26),k=b+(C^(R|~M))+N[7]+1126891415&4294967295,b=R+(k<<10&4294967295|k>>>22),k=M+(R^(b|~C))+N[14]+2878612391&4294967295,M=b+(k<<15&4294967295|k>>>17),k=C+(b^(M|~R))+N[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~b))+N[12]+1700485571&4294967295,R=C+(k<<6&4294967295|k>>>26),k=b+(C^(R|~M))+N[3]+2399980690&4294967295,b=R+(k<<10&4294967295|k>>>22),k=M+(R^(b|~C))+N[10]+4293915773&4294967295,M=b+(k<<15&4294967295|k>>>17),k=C+(b^(M|~R))+N[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~b))+N[8]+1873313359&4294967295,R=C+(k<<6&4294967295|k>>>26),k=b+(C^(R|~M))+N[15]+4264355552&4294967295,b=R+(k<<10&4294967295|k>>>22),k=M+(R^(b|~C))+N[6]+2734768916&4294967295,M=b+(k<<15&4294967295|k>>>17),k=C+(b^(M|~R))+N[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=R+(M^(C|~b))+N[4]+4149444226&4294967295,R=C+(k<<6&4294967295|k>>>26),k=b+(C^(R|~M))+N[11]+3174756917&4294967295,b=R+(k<<10&4294967295|k>>>22),k=M+(R^(b|~C))+N[2]+718787259&4294967295,M=b+(k<<15&4294967295|k>>>17),k=C+(b^(M|~R))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+b&4294967295}i.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,N=this.B,M=this.h,b=0;b<R;){if(M==0)for(;b<=C;)o(this,x,b),b+=this.blockSize;if(typeof x=="string"){for(;b<R;)if(N[M++]=x.charCodeAt(b++),M==this.blockSize){o(this,N),M=0;break}}else for(;b<R;)if(N[M++]=x[b++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)x[C++]=this.g[R]>>>N&255;return x};function l(x,R){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function c(x,R){this.h=R;for(var C=[],N=!0,M=x.length-1;0<=M;M--){var b=x[M]|0;N&&b==R||(C[M]=b,N=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?l(x,function(R){return new c([R|0],0>R?-1:0)}):new c([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return L(_(-x));for(var R=[],C=1,N=0;x>=C;N++)R[N]=x/C|0,C*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(R,8)),N=S,M=0;M<x.length;M+=8){var b=Math.min(8,x.length-M),k=parseInt(x.substring(M,M+b),R);8>b?(b=_(Math.pow(R,b)),N=N.j(b).add(_(k))):(N=N.j(C),N=N.add(_(k)))}return N}var S=p(0),E=p(1),P=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-L(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);x+=(0<=N?N:4294967296+N)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(j(this))return"-"+L(this).toString(x);for(var R=_(Math.pow(x,6)),C=this,N="";;){var M=ee(C,R).g;C=H(C,M.j(R));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=M,O(C))return b+N;for(;6>b.length;)b="0"+b;N=b+N}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function j(x){return x.h==-1}n.l=function(x){return x=H(this,x),j(x)?-1:O(x)?0:1};function L(x){for(var R=x.g.length,C=[],N=0;N<R;N++)C[N]=~x.g[N];return new c(C,~x.h).add(E)}n.abs=function(){return j(this)?L(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],N=0,M=0;M<=R;M++){var b=N+(this.i(M)&65535)+(x.i(M)&65535),k=(b>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);N=k>>>16,b&=65535,k&=65535,C[M]=k<<16|b}return new c(C,C[C.length-1]&-2147483648?-1:0)};function H(x,R){return x.add(L(R))}n.j=function(x){if(O(this)||O(x))return S;if(j(this))return j(x)?L(this).j(L(x)):L(L(this).j(x));if(j(x))return L(this.j(L(x)));if(0>this.l(P)&&0>x.l(P))return _(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<x.g.length;M++){var b=this.i(N)>>>16,k=this.i(N)&65535,We=x.i(M)>>>16,mt=x.i(M)&65535;C[2*N+2*M]+=k*mt,W(C,2*N+2*M),C[2*N+2*M+1]+=b*mt,W(C,2*N+2*M+1),C[2*N+2*M+1]+=k*We,W(C,2*N+2*M+1),C[2*N+2*M+2]+=b*We,W(C,2*N+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new c(C,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Y(x,R){this.g=x,this.h=R}function ee(x,R){if(O(R))throw Error("division by zero");if(O(x))return new Y(S,S);if(j(x))return R=ee(L(x),R),new Y(L(R.g),L(R.h));if(j(R))return R=ee(x,L(R)),new Y(L(R.g),R.h);if(30<x.g.length){if(j(x)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,N=R;0>=N.l(x);)C=ne(C),N=ne(N);var M=ae(C,1),b=ae(N,1);for(N=ae(N,2),C=ae(C,2);!O(N);){var k=b.add(N);0>=k.l(x)&&(M=M.add(C),b=k),N=ae(N,1),C=ae(C,1)}return R=H(x,M.j(R)),new Y(M,R)}for(M=S;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),b=_(C),k=b.j(R);j(k)||0<k.l(x);)C-=N,b=_(C),k=b.j(R);O(b)&&(b=E),M=M.add(b),x=H(x,k)}return new Y(M,x)}n.A=function(x){return ee(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&x.i(N);return new c(C,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|x.i(N);return new c(C,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^x.i(N);return new c(C,this.h^x.h)};function ne(x){for(var R=x.g.length+1,C=[],N=0;N<R;N++)C[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(C,x.h)}function ae(x,R){var C=R>>5;R%=32;for(var N=x.g.length-C,M=[],b=0;b<N;b++)M[b]=0<R?x.i(b+C)>>>R|x.i(b+C+1)<<32-R:x.i(b+C);return new c(M,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,r0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=v,Cs=c}).apply(typeof ey<"u"?ey:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,sl,s0,Ec,Af,o0,a0,l0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in y))break e;y=y[B]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,T=!1,B={next:function(){if(!T&&y<u.length){var G=y++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function S(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function E(u,m,y){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,E.apply(null,arguments)}function P(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function O(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,B,G){for(var se=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)se[Ge-2]=arguments[Ge];return m.prototype[B].apply(T,se)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function L(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const B=u.length||0,G=T.length||0;u.length=B+G;for(let se=0;se<G;se++)u[B+se]=T[se]}else u.push(T)}}class H{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var ne=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ae(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function R(u){const m={};for(const y in u)m[y]=u[y];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(y in T)u[y]=T[y];for(let G=0;G<C.length;G++)y=C[G],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function b(u){d.setTimeout(()=>{throw u},0)}function k(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class We{constructor(){this.h=this.g=null}add(m,y){const T=mt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new H(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let He,oe=!1,ye=new We,le=()=>{const u=d.Promise.resolve(void 0);He=()=>{u.then(F)}};var F=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){b(y)}var m=mt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function Pe(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ne){e:{try{ee(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}O(Pe,_e);var be={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),re=0;function ue(u,m,y,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=B,this.key=++re,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,y,T,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var se=ht(u,m,T,B);return-1<se?(m=u[se],y||(m.fa=!1)):(m=new ue(m,this.src,G,!!T,B),m.fa=y,u.push(m)),m};function pn(u,m){var y=m.type;if(y in u.g){var T=u.g[y],B=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=B)&&Array.prototype.splice.call(T,B,1),G&&(Re(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ht(u,m,y,T){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==m&&G.capture==!!y&&G.ha==T)return B}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),kr={};function Ki(u,m,y,T,B){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ki(u,m[G],y,T,B);return null}return y=aa(y),u&&u[Fe]?u.K(m,y,_(T)?!!T.capture:!!T,B):Qi(u,m,y,!1,T,B)}function Qi(u,m,y,T,B,G){if(!m)throw Error("Invalid event type");var se=_(B)?!!B.capture:!!B,Ge=zs(u);if(Ge||(u[tn]=Ge=new Qe(u)),y=Ge.add(m,y,T,se,G),y.proxy)return y;if(T=$l(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ke||(B=se),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(xr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function $l(){function u(y){return m.call(u.src,u.listener,y)}const m=oa;return u}function Bs(u,m,y,T,B){if(Array.isArray(m))for(var G=0;G<m.length;G++)Bs(u,m[G],y,T,B);else T=_(T)?!!T.capture:!!T,y=aa(y),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],y=ht(G,y,T,B),-1<y&&(Re(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,y,T,B)),(y=-1<u?m[u]:null)&&Pr(y))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])pn(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(xr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=zs(m))?(pn(y,u),y.h==0&&(y.src=null,m[tn]=null)):Re(u)}}}function xr(u){return u in kr?kr[u]:kr[u]="on"+u}function oa(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Pr(u),u=y.call(T,m)}return u}function zs(u){return u=u[tn],u instanceof Qe?u:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function aa(u){return typeof u=="function"?u:(u[$s]||(u[$s]=function(m){return u.handleEvent(m)}),u[$s])}function Et(){K.call(this),this.i=new Qe(this),this.M=this,this.F=null}O(Et,K),Et.prototype[Fe]=!0,Et.prototype.removeEventListener=function(u,m,y,T){Bs(this,u,m,y,T)};function Tt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var B=m;m=new _e(T,u),N(m,B)}if(B=!0,y)for(var G=y.length-1;0<=G;G--){var se=m.g=y[G];B=Nr(se,T,!0,m)&&B}if(se=m.g=u,B=Nr(se,T,!0,m)&&B,B=Nr(se,T,!1,m)&&B,y)for(G=0;G<y.length;G++)se=m.g=y[G],B=Nr(se,T,!1,m)&&B}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Re(y[T]);delete u.g[m],u.h--}}this.F=null},Et.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Et.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Nr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,G=0;G<m.length;++G){var se=m[G];if(se&&!se.da&&se.capture==y){var Ge=se.listener,It=se.ha||se.src;se.fa&&pn(u.i,se),B=Ge.call(It,T)!==!1&&B}}return B&&!T.defaultPrevented}function la(u,m,y){if(typeof u=="function")y&&(u=E(u,y));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function ii(u){u.g=la(()=>{u.g=null,u.i&&(u.i=!1,ii(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xi extends K{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){K.call(this),this.h=u,this.g={}}O(Yi,K);var ua=[];function ca(u){ae(u.g,function(m,y){this.g.hasOwnProperty(y)&&Pr(m)},u),u.g={}}Yi.prototype.N=function(){Yi.aa.N.call(this),ca(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=d.JSON.stringify,da=d.JSON.parse,fa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ji(){}Ji.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function qs(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){_e.call(this,"d")}O(or,_e);function Ws(){_e.call(this,"c")}O(Ws,_e);var ar={},pa=null;function Zi(){return pa=pa||new Et}ar.La="serverreachability";function ma(u){_e.call(this,ar.La,u)}O(ma,_e);function Dr(u){const m=Zi();Tt(m,new ma(m))}ar.STAT_EVENT="statevent";function ga(u,m){_e.call(this,ar.STAT_EVENT,u),this.stat=m}O(ga,_e);function dt(u){const m=Zi();Tt(m,new ga(m,u))}ar.Ma="timingevent";function Gs(u,m){_e.call(this,ar.Ma,u),this.size=m}O(Gs,_e);function Un(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function ts(u,m,y,T,B,G){u.info(function(){if(u.g)if(G)for(var se="",Ge=G.split("&"),It=0;It<Ge.length;It++){var Ue=Ge[It].split("=");if(1<Ue.length){var Pt=Ue[0];Ue=Ue[1];var gt=Pt.split("_");se=2<=gt.length&&gt[1]=="type"?se+(Pt+"="+Ue+"&"):se+(Pt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+y+`
`+se})}function Ks(u,m,y,T,B,G,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+y+`
`+G+" "+se})}function jn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Eh(u,y)+(T?" "+T:"")})}function _a(u,m){u.info(function(){return"TIMEOUT: "+m})}es.prototype.info=function(){};function Eh(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return ha(y)}catch{return m}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function ns(){}O(ns,Ji),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},Bn=new ns;function zn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ql}function ql(){this.i=null,this.g="",this.h=!1}var ya={},Xs={};function Ys(u,m,y){u.L=1,u.v=ui(gn(m)),u.m=y,u.P=!0,va(u,null)}function va(u,m){u.F=Date.now(),Xe(u),u.A=gn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),hi(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ql,u.g=uu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Xi(E(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(ua[0]=B.toString()),B=ua);for(var G=0;G<B.length;G++){var se=Ki(y,B[G],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Dr(),ts(u.i,u.u,u.A,u.l,u.R,u.m)}zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const gt=rn(this.g);var m=this.g.Ba();const xn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Ra(this.g)))){this.J||gt!=4||m==7||(m==8||0>=xn?Dr(3):Dr(2)),rs(this);var y=this.g.Z();this.X=y;t:if(Wl(this)){var T=Ra(this.g);u="";var B=T.length,G=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),si(this);var se="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==B-1)});T.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,Ks(this.i,this.u,this.A,this.l,this.R,gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,It=this.g;if((Ge=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ge)){var Ue=Ge;break t}}Ue=null}if(y=Ue)jn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,y);else{this.o=!1,this.s=3,dt(12),kn(this),si(this);break e}}if(this.P){y=!0;let yn;for(;!this.J&&this.C<se.length;)if(yn=Th(this,se),yn==Xs){gt==4&&(this.s=4,dt(14),y=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==ya){this.s=4,dt(15),jn(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else jn(this.i,this.l,yn,null),wa(this,yn);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||se.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)jn(this.i,this.l,se,"[Invalid Chunked Response]"),kn(this),si(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Aa(Pt),Pt.M=!0,dt(11))}}else jn(this.i,this.l,se,null),wa(this,se);gt==4&&kn(this),this.o&&!this.J&&(gt==4?lo(this.j,this):(this.o=!1,Xe(this)))}else ro(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),kn(this),si(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Th(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Xs:(y=Number(m.substring(y,T)),isNaN(y)?ya:(T+=1,T+y>m.length?Xs:(m=m.slice(T,T+y),u.C=T+y,m)))}zn.prototype.cancel=function(){this.J=!0,kn(this)};function Xe(u){u.S=Date.now()+u.I,Gl(u,u.I)}function Gl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Un(E(u.ba,u),m)}function rs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_a(this.i,this.A),this.L!=2&&(Dr(),dt(17)),kn(this),this.s=2,si(this)):Gl(this,this.S-u)};function si(u){u.j.G==0||u.J||lo(u.j,u)}function kn(u){rs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ca(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function wa(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Qt(y.h,u))){if(!u.K&&Qt(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ao(y),Gn(y);else break e;oo(y),dt(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=Un(E(y.Za,y),6e3));if(1>=Ql(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Mr(y,11)}else if((u.K||y.g==u)&&ao(y),!W(m))for(B=y.Da.g.parse(m),m=0;m<B.length;m++){let Ue=B[m];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Pt=Ue[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const gt=Ue[4];gt!=null&&(y.Aa=gt,y.j.info("SVER="+y.Aa));const xn=Ue[5];xn!=null&&typeof xn=="number"&&0<xn&&(T=1.5*xn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const yn=u.g;if(yn){const cs=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var G=T.h;G.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ea(G,G.h),G.h=null))}if(T.D){const co=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(T.ya=co,Ke(T.I,T.D,co))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var se=u;if(T.qa=lu(T,T.J?T.ia:null,T.W),se.K){Xl(T.h,se);var Ge=se,It=T.L;It&&(Ge.I=It),Ge.B&&(rs(Ge),Xe(Ge)),T.g=se}else us(T);0<y.i.length&&hr(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Mr(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Mr(y,7):Lt(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}Dr(4)}catch{}}var Kl=class{constructor(u,m){this.g=u,this.map=m}};function is(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ql(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ea(u,m){u.g?u.g.add(m):u.h=m}function Xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}is.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function Js(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function oi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Zs(u),T=Js(u),B=T.length,G=0;G<B;G++)m.call(void 0,T[G],y&&y[G],u)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),B=null;if(0<=T){var G=u[y].substring(0,T);B=u[y].substring(T+1)}else G=u[y];m(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function br(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof br){this.h=u.h,os(this,u.j),this.o=u.o,this.g=u.g,ai(this,u.s),this.l=u.l;var m=u.i,y=new lr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),li(this,y),this.m=u.m}else u&&(m=String(u).match(ss))?(this.h=!1,os(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),ai(this,m[4]),this.l=Ve(m[5]||"",!0),li(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}br.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ci(m,eo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ci(m,eo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ci(y,y.charAt(0)=="/"?eu:Zl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ci(y,Ta)),u.join("")};function gn(u){return new br(u)}function os(u,m,y){u.j=y?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ai(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function li(u,m,y){m instanceof lr?(u.i=m,ur(u.i,u.h)):(y||(m=ci(m,tu)),u.i=new lr(m,u.h))}function Ke(u,m,y){u.i.set(m,y)}function ui(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ci(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Jl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var eo=/[#\/\?@]/g,Zl=/[#\?:]/g,eu=/[#\?]/g,tu=/[#\?@]/g,Ta=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&Ih(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=lr.prototype,n.add=function(u,m){Ot(this),this.i=null,u=Pn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function $n(u,m){Ot(u),m=Pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hn(u,m){return Ot(u),m=Pn(u,m),u.g.has(m)}n.forEach=function(u,m){Ot(this),this.g.forEach(function(y,T){y.forEach(function(B){u.call(m,B,T,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const B=u[T];for(let G=0;G<B.length;G++)y.push(m[T])}return y},n.V=function(u){Ot(this);let m=[];if(typeof u=="string")Hn(this,u)&&(m=m.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return Ot(this),this.i=null,u=Pn(this,u),Hn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function hi(u,m,y){$n(u,m),0<y.length&&(u.i=null,u.g.set(Pn(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const G=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var B=G;se[T]!==""&&(B+="="+encodeURIComponent(String(se[T]))),u.push(B)}}return this.i=u.join("&")};function Pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ur(u,m){m&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(y,T){var B=T.toLowerCase();T!=B&&($n(this,T),hi(this,B,y))},u)),u.j=m}function Sh(u,m){const y=new es;if(d.Image){const T=new Image;T.onload=P(nn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=P(nn,y,"TestLoadImage: error",!1,m,T),T.onabort=P(nn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=P(nn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function nu(u,m){const y=new es,T=new AbortController,B=setTimeout(()=>{T.abort(),nn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(B),G.ok?nn(y,"TestPingServer: ok",!0,m):nn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),nn(y,"TestPingServer: error",!1,m)})}function nn(u,m,y,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(y)}catch{}}function Rh(){this.g=new fa}function ru(u,m,y){const T=y||"";try{oi(u,function(B,G){let se=B;_(B)&&(se=ha(B)),m.push(T+G+"="+encodeURIComponent(se))})}catch(B){throw m.push(T+"type="+encodeURIComponent("_badmap")),B}}function Or(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Or,Ji),Or.prototype.g=function(){return new as(this.l,this.j)},Or.prototype.i=function(u){return function(){return u}}({});function as(u,m){Et.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(as,Et),n=as.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Wn(this),this.readyState==3&&iu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},n.Qa=function(u){this.g&&(this.response=u,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Lr(u){let m="";return ae(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function di(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Lr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ke(u,m,y))}function tt(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(tt,Et);var Ch=/^https?$/i,Ia=["POST","PUT"];n=tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Hs(this.o):Hs(Bn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){ls(this,G);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)y.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())y.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ia,m,void 0))||T||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of y)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{no(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){ls(this,G)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,to(u),_n(u)}function to(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),_n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)la(u.Ea,0,u);else if(Tt(u,"readystatechange"),rn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=se===0){var B=String(u.D).match(ss)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),T=!Ch.test(B?B.toLowerCase():"")}y=T}if(y)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var G=2<rn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",to(u)}}finally{_n(u)}}}}function _n(u,m){if(u.g){no(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Tt(u,"ready");try{y.onreadystatechange=T}catch{}}}function no(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),da(m)}};function Ra(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ro(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(W(u[T]))continue;var y=M(u[T]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=m[B]||[];m[B]=G,G.push(y)}x(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ca(u){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,u),this.cb=cr("retryDelaySeedMs",1e4,u),this.Wa=cr("forwardChannelMaxRetries",2,u),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new is(u&&u.concurrentRequestLimit),this.Da=new Rh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ca.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,T){dt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=lu(this,null,this.W),hr(this)};function Lt(u){if(io(u),u.G==3){var m=u.U++,y=gn(u.I);if(Ke(y,"SID",u.K),Ke(y,"RID",m),Ke(y,"TYPE","terminate"),Vr(u,y),m=new zn(u,u.j,m),m.L=2,m.v=ui(gn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}au(u)}function Gn(u){u.g&&(Aa(u),u.g.cancel(),u.g=null)}function io(u){Gn(u),u.u&&(d.clearTimeout(u.u),u.u=null),ao(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function hr(u){if(!mn(u.h)&&!u.s){u.s=!0;var m=u.Ga;He||le(),oe||(He(),oe=!0),ye.add(m,u),u.B=0}}function Ah(u,m){return Ql(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Un(E(u.Ga,u,m),ou(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new zn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=R(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=fi(this,B,m),y=gn(this.I),Ke(y,"RID",u),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),Vr(this,y),G&&(this.O?m="headers="+encodeURIComponent(String(Lr(G)))+"&"+m:this.m&&di(y,this.m,G)),Ea(this.h,B),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",m),Ke(y,"SID","null"),B.T=!0,Ys(B,y,null)):Ys(B,y,m),this.G=2}}else this.G==3&&(u?so(this,u):this.i.length==0||mn(this.h)||so(this))};function so(u,m){var y;m?y=m.l:y=u.U++;const T=gn(u.I);Ke(T,"SID",u.K),Ke(T,"RID",y),Ke(T,"AID",u.T),Vr(u,T),u.m&&u.o&&di(T,u.m,u.o),y=new zn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=fi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ea(u.h,y),Ys(y,T,m)}function Vr(u,m){u.H&&ae(u.H,function(y,T){Ke(m,T,y)}),u.l&&oi({},function(y,T){Ke(m,T,y)})}function fi(u,m,y){y=Math.min(u.i.length,y);var T=u.l?E(u.l.Na,u.l,u):null;e:{var B=u.i;let G=-1;for(;;){const se=["count="+y];G==-1?0<y?(G=B[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Ge=!0;for(let It=0;It<y;It++){let Ue=B[It].g;const Pt=B[It].map;if(Ue-=G,0>Ue)G=Math.max(0,B[It].g-100),Ge=!1;else try{ru(Pt,se,"req"+Ue+"_")}catch{T&&T(Pt)}}if(Ge){T=se.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,T}function us(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;He||le(),oe||(He(),oe=!0),ye.add(m,u),u.v=0}}function oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Un(E(u.Fa,u),ou(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Un(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Gn(this),su(this))};function Aa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function su(u){u.g=new zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=gn(u.qa);Ke(m,"RID","rpc"),Ke(m,"SID",u.K),Ke(m,"AID",u.T),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(m,"TO",u.ja),Ke(m,"TYPE","xmlhttp"),Vr(u,m),u.m&&u.o&&di(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ui(gn(m)),y.m=null,y.P=!0,va(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Gn(this),oo(this),dt(19))};function ao(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lo(u,m){var y=null;if(u.g==m){ao(u),Aa(u),u.g=null;var T=2}else if(Qt(u.h,m))y=m.D,Xl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;T=Zi(),Tt(T,new Gs(T,y)),hr(u)}else us(u);else if(B=m.s,B==3||B==0&&0<m.X||!(T==1&&Ah(u,m)||T==2&&oo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),B){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function ou(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Mr(u,m){if(u.j.info("Error code "+m),m==2){var y=E(u.fb,u),T=u.Xa;const B=!T;T=new br(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||os(T,"https"),ui(T),B?Sh(T.toString(),y):nu(T.toString(),y)}else dt(2);u.G=0,u.l&&u.l.sa(m),au(u),io(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function au(u){if(u.G=0,u.ka=[],u.l){const m=Yl(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function lu(u,m,y){var T=y instanceof br?gn(y):new br(y);if(T.g!="")m&&(T.g=m+"."+T.g),ai(T,T.s);else{var B=d.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var G=new br(null);T&&os(G,T),m&&(G.g=m),B&&ai(G,B),y&&(G.l=y),T=G}return y=u.D,m=u.ya,y&&m&&Ke(T,y,m),Ke(T,"VER",u.la),Vr(u,T),T}function uu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new tt(new Or({eb:y})):new tt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ka(){}n=ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uo(){}uo.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){Et.call(this),this.g=new Ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new dr(this)}O(Xt,Et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Lt(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ha(u),u=y);m.i.push(new Kl(m.Ya++,u)),m.G==3&&hr(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Xt.aa.N.call(this)};function cu(u){or.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(cu,or);function hu(){Ws.call(this),this.status=1}O(hu,Ws);function dr(u){this.g=u}O(dr,ka),dr.prototype.ua=function(){Tt(this.g,"a")},dr.prototype.ta=function(u){Tt(this.g,new cu(u))},dr.prototype.sa=function(u){Tt(this.g,new hu)},dr.prototype.ra=function(){Tt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,l0=function(){return new uo},a0=function(){return Zi()},o0=ar,Af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Ec=Qs,Hl.COMPLETE="complete",s0=Hl,qs.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Et.prototype.listen=Et.prototype.K,sl=qs,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,i0=tt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const ty="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Zf("@firebase/firestore");function Do(){return bs.logLevel}function he(n,...e){if(bs.logLevel<=Oe.DEBUG){const t=e.map(fp);bs.debug(`Firestore (${Zo}): ${n}`,...t)}}function ti(n,...e){if(bs.logLevel<=Oe.ERROR){const t=e.map(fp);bs.error(`Firestore (${Zo}): ${n}`,...t)}}function zo(n,...e){if(bs.logLevel<=Oe.WARN){const t=e.map(fp);bs.warn(`Firestore (${Zo}): ${n}`,...t)}}function fp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw ti(e),new Error(e)}function qe(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class tA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nA{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string"),new u0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Wt(e)}}class rA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new rA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new sA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=aA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function $o(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ct(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ct(0,0))}static max(){return new Ce(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends El{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const lA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends El{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return lA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}function uA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new ji(o,ve.empty(),e)}function cA(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ji(Ce.min(),ve.empty(),-1)}static max(){return new ji(Ce.max(),ve.empty(),-1)}}function hA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==dA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(v=>{c[_]=v,++d,d===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function pA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}th.oe=-1;function nh(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function mA(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ny(e)),e=_A(n.get(t),e);return ny(e)}function _A(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function ny(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function h0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new At(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new d0("Invalid base64 string: "+l):l}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const yA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=yA.exec(n);if(qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function rh(n){const e=n.mapValue.fields.__previous_value__;return pp(e)?rh(e):e}function Tl(n){const e=Bi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,i,o,l,c,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class Il{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pp(n)?4:EA(n)?9007199254740991:wA(n)?10:11:Se()}function Cr(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tl(n).isEqual(Tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Bi(o.timestampValue),d=Bi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return zi(o.bytesValue).isEqual(zi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return pt(o.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return pt(o.integerValue)===pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=pt(o.doubleValue),d=pt(l.doubleValue);return c===d?Fc(c)===Fc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return $o(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(ry(c)!==ry(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Cr(c[p],d[p])))return!1;return!0}(n,e);default:return Se()}}function Sl(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;const t=$i(n),i=$i(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=pt(l.integerValue||l.doubleValue),p=pt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return sy(n.timestampValue,e.timestampValue);case 4:return sy(Tl(n),Tl(e));case 5:return Me(n.stringValue,e.stringValue);case 6:return function(l,c){const d=zi(l),p=zi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const v=Me(d[_],p[_]);if(v!==0)return v}return Me(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Me(pt(l.latitude),pt(c.latitude));return d!==0?d:Me(pt(l.longitude),pt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,v;const S=l.fields||{},E=c.fields||{},P=(d=S.value)===null||d===void 0?void 0:d.arrayValue,O=(p=E.value)===null||p===void 0?void 0:p.arrayValue,j=Me(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:oy(P,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===uc.mapValue&&c===uc.mapValue)return 0;if(l===uc.mapValue)return 1;if(c===uc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},v=Object.keys(_);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const E=Me(p[S],v[S]);if(E!==0)return E;const P=Ho(d[p[S]],_[v[S]]);if(P!==0)return P}return Me(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function sy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Bi(n),i=Bi(e),o=Me(t.seconds,i.seconds);return o!==0?o:Me(t.nanos,i.nanos)}function oy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ho(t[o],i[o]);if(l)return l}return Me(t.length,i.length)}function qo(n){return kf(n)}function kf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Bi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=kf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${kf(t.fields[c])}`;return o+"}"}(n.mapValue):Se()}function Tc(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(n);return e?16+Tc(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Tc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Wi(i.fields,(l,c)=>{o+=l.length+Tc(c)}),o}(n.mapValue);default:throw Se()}}function ay(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pf(n){return!!n&&"integerValue"in n}function mp(n){return!!n&&"arrayValue"in n}function ly(n){return!!n&&"nullValue"in n}function uy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ic(n){return!!n&&"mapValue"in n}function wA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=dl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Wi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new dn(dl(this.value))}}function f0(n){const e=[];return Wi(n.fields,(t,i)=>{const o=new Ut([t]);if(Ic(i)){const l=f0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ce.min(),Ce.min(),Ce.min(),dn.empty(),0)}static newFoundDocument(e,t,i,o){return new Gt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ce.min(),Ce.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ce.min(),Ce.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.position=e,this.inclusive=t}}function cy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Ho(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function hy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function TA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{}class vt extends p0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SA(e,t,i):t==="array-contains"?new AA(e,i):t==="in"?new kA(e,i):t==="not-in"?new PA(e,i):t==="array-contains-any"?new xA(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new RA(e,i):new CA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends p0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new nr(e,t)}matches(e){return m0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m0(n){return n.op==="and"}function g0(n){return IA(n)&&m0(n)}function IA(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function xf(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(g0(n))return n.filters.map(e=>xf(e)).join(",");{const e=n.filters.map(t=>xf(t)).join(",");return`${n.op}(${e})`}}function _0(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&Cr(i.value,o.value)}(n,e):n instanceof nr?function(i,o){return o instanceof nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&_0(c,o.filters[d]),!0):!1}(n,e):void Se()}function y0(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof nr?function(t){return t.op.toString()+" {"+t.getFilters().map(y0).join(" ,")+"}"}(n):"Filter"}class SA extends vt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class RA extends vt{constructor(e,t){super(e,"in",t),this.keys=v0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CA extends vt{constructor(e,t){super(e,"not-in",t),this.keys=v0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function v0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class AA extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mp(t)&&Sl(t.arrayValue,this.value)}}class kA extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sl(this.value.arrayValue,t)}}class PA extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Sl(this.value.arrayValue,t)}}class xA extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Sl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function dy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new NA(n,e,t,i,o,l,c)}function gp(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>qo(i)).join(",")),e.ue=t}return e.ue}function _p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hy(n.startAt,e.startAt)&&hy(n.endAt,e.endAt)}function Nf(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DA(n,e,t,i,o,l,c,d){return new Vl(n,e,t,i,o,l,c,d)}function yp(n){return new Vl(n)}function fy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w0(n){return n.collectionGroup!==null}function fl(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new At(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new jc(l,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new jc(Ut.keyField(),i))}return e.ce}function Sr(n){const e=Ae(n);return e.le||(e.le=bA(e,fl(n))),e.le}function bA(n,e){if(n.limitType==="F")return dy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new jc(o.field,l)});const t=n.endAt?new Uc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Uc(n.startAt.position,n.startAt.inclusive):null;return dy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Df(n,e){const t=n.filters.concat([e]);return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bf(n,e,t){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ih(n,e){return _p(Sr(n),Sr(e))&&n.limitType===e.limitType}function E0(n){return`${gp(Sr(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>y0(o)).join(", ")}]`),nh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>qo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>qo(o)).join(",")),`Target(${i})`}(Sr(n))}; limitType=${n.limitType})`}function sh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of fl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=cy(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,fl(i),o)||i.endAt&&!function(c,d,p){const _=cy(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,fl(i),o))}(n,e)}function OA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T0(n){return(e,t)=>{let i=!1;for(const o of fl(n)){const l=LA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function LA(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?Ho(p,_):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new at(ve.comparator);function ni(){return VA}const I0=new at(ve.comparator);function ol(...n){let e=I0;for(const t of n)e=e.insert(t.key,t);return e}function S0(n){let e=I0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rs(){return pl()}function R0(){return pl()}function pl(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const MA=new at(ve.comparator),FA=new At(ve.comparator);function Le(...n){let e=FA;for(const t of n)e=e.add(t);return e}const UA=new At(Me);function jA(){return UA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function C0(n){return{integerValue:""+n}}function BA(n,e){return mA(e)?C0(e):vp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function zA(n,e,t){return n instanceof Rl?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&pp(l)&&(l=rh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Cl?k0(n,e):n instanceof Al?P0(n,e):function(o,l){const c=A0(o,l),d=py(c)+py(o.Pe);return Pf(c)&&Pf(o.Pe)?C0(d):vp(o.serializer,d)}(n,e)}function $A(n,e,t){return n instanceof Cl?k0(n,e):n instanceof Al?P0(n,e):t}function A0(n,e){return n instanceof Bc?function(i){return Pf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rl extends oh{}class Cl extends oh{constructor(e){super(),this.elements=e}}function k0(n,e){const t=x0(e);for(const i of n.elements)t.some(o=>Cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Al extends oh{constructor(e){super(),this.elements=e}}function P0(n,e){let t=x0(e);for(const i of n.elements)t=t.filter(o=>!Cr(o,i));return{arrayValue:{values:t}}}class Bc extends oh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function py(n){return pt(n.integerValue||n.doubleValue)}function x0(n){return mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.field=e,this.transform=t}}function qA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Cl&&o instanceof Cl||i instanceof Al&&o instanceof Al?$o(i.elements,o.elements,Cr):i instanceof Bc&&o instanceof Bc?Cr(i.Pe,o.Pe):i instanceof Rl&&o instanceof Rl}(n.transform,e.transform)}class WA{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ah{}function N0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wp(n.key,tr.none()):new Ml(n.key,n.data,tr.none());{const t=n.data,i=dn.empty();let o=new At(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Gi(n.key,i,new Rn(o.toArray()),tr.none())}}function GA(n,e,t){n instanceof Ml?function(o,l,c){const d=o.value.clone(),p=gy(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Gi?function(o,l,c){if(!Sc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=gy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(D0(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ml(n,e,t,i){return n instanceof Ml?function(l,c,d,p){if(!Sc(l.precondition,c))return d;const _=l.value.clone(),v=_y(l.fieldTransforms,p,c);return _.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Gi?function(l,c,d,p){if(!Sc(l.precondition,c))return d;const _=_y(l.fieldTransforms,p,c),v=c.data;return v.setAll(D0(l)),v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,c,d){return Sc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function KA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=A0(i.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(i.field,l))}return t||null}function my(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&$o(i,o,(l,c)=>qA(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ml extends ah{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gi extends ah{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function D0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gy(n,e,t){const i=new Map;qe(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,$A(c,d,t[o]))}return i}function _y(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,zA(l,c,e))}return i}class wp extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QA extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&GA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=R0();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=N0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(t,i)=>my(t,i))&&$o(this.baseMutations,e.baseMutations,(t,i)=>my(t,i))}}class Ep{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length);let o=function(){return MA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Ep(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,je;function ZA(n){switch(n){default:return Se();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function b0(n){if(n===void 0)return ti("GRPC error has no .code"),X.UNKNOWN;switch(n){case yt.OK:return X.OK;case yt.CANCELLED:return X.CANCELLED;case yt.UNKNOWN:return X.UNKNOWN;case yt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case yt.INTERNAL:return X.INTERNAL;case yt.UNAVAILABLE:return X.UNAVAILABLE;case yt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case yt.NOT_FOUND:return X.NOT_FOUND;case yt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case yt.ABORTED:return X.ABORTED;case yt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case yt.DATA_LOSS:return X.DATA_LOSS;default:return Se()}}(je=yt||(yt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Cs([4294967295,4294967295],0);function yy(n){const e=ek().encode(n),t=new r0;return t.update(e),new Uint8Array(t.digest())}function vy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([t,i],0),new Cs([o,l],0)]}class Tp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new al(`Invalid padding: ${t}`);if(i<0)throw new al(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new al(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Cs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Cs.fromNumber(i)));return o.compare(tk)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=yy(e),[i,o]=vy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Tp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=yy(e),[i,o]=vy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lh(Ce.min(),o,new at(Me),ni(),Le())}}class Fl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fl(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class O0{constructor(e,t){this.targetId=e,this.me=t}}class L0{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class wy{constructor(){this.fe=0,this.ge=Ey(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),i=Le();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new Fl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ey()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=cc(),this.Qe=cc(),this.Ke=new at(Me)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Nf(l))if(i===0){const c=new ve(l.path);this.We(t,c,Gt.newNoDocument(c,Ce.min()))}else qe(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=zi(i).toUint8Array()}catch(p){if(p instanceof d0)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tp(c,o,l)}catch(p){return zo(p instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Nf(d.target)){const p=new ve(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Gt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=Le();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new lh(e,t,this.Ke,this.ke,i);return this.ke=ni(),this.qe=cc(),this.Qe=cc(),this.Ke=new at(Me),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new wy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(Me),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(Me),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new wy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cc(){return new at(ve.comparator)}function Ey(){return new at(ve.comparator)}const rk={asc:"ASCENDING",desc:"DESCENDING"},ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Of(n,e){return n.useProto3Json||nh(e)?e:{value:e}}function zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ak(n,e){return zc(n,e.toTimestamp())}function Rr(n){return qe(!!n),Ce.fromTimestamp(function(t){const i=Bi(t);return new Ct(i.seconds,i.nanos)}(n))}function Ip(n,e){return Lf(n,e).canonicalString()}function Lf(n,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function M0(n){const e=et.fromString(n);return qe(z0(e)),e}function Vf(n,e){return Ip(n.databaseId,e.path)}function uf(n,e){const t=M0(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(U0(t))}function F0(n,e){return Ip(n.databaseId,e)}function lk(n){const e=M0(n);return e.length===4?et.emptyPath():U0(e)}function Mf(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U0(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ty(n,e,t){return{name:Vf(n,e),fields:t.value.mapValue.fields}}function uk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,v){return _.useProto3Json?(qe(v===void 0||typeof v=="string"),jt.fromBase64String(v||"")):(qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const v=_.code===void 0?X.UNKNOWN:b0(_.code);return new fe(v,_.message||"")}(c);t=new L0(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=uf(n,i.document.name),l=Rr(i.document.updateTime),c=i.document.createTime?Rr(i.document.createTime):Ce.min(),d=new dn({mapValue:{fields:i.document.fields}}),p=Gt.newFoundDocument(o,l,c,d),_=i.targetIds||[],v=i.removedTargetIds||[];t=new Rc(_,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=uf(n,i.document),l=i.readTime?Rr(i.readTime):Ce.min(),c=Gt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Rc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=uf(n,i.document),l=i.removedTargetIds||[];t=new Rc([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new JA(o,l),d=i.targetId;t=new O0(d,c)}}return t}function ck(n,e){let t;if(e instanceof Ml)t={update:Ty(n,e.key,e.value)};else if(e instanceof wp)t={delete:Vf(n,e.key)};else if(e instanceof Gi)t={update:Ty(n,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof QA))return Se();t={verify:Vf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Rl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Al)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ak(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()}(n,e.precondition)),t}function hk(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Rr(o.updateTime):Rr(l);return c.isEqual(Ce.min())&&(c=Rr(l)),new WA(c,o.transformResults||[])}(t,e))):[]}function dk(n,e){return{documents:[F0(n,e.path)]}}function fk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=F0(n,o);const l=function(_){if(_.length!==0)return B0(nr.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(v=>function(E){return{field:Oo(E.field),direction:gk(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Of(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function pk(n){let e=lk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(S){const E=j0(S);return E instanceof nr&&g0(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(E=>function(O){return new jc(Lo(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(S){let E;return E=typeof S=="object"?S.value:S,nh(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(S){const E=!!S.before,P=S.values||[];return new Uc(P,E)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const E=!S.before,P=S.values||[];return new Uc(P,E)}(t.endAt)),DA(e,o,c,l,d,"F",p,_)}function mk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(Lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nr.create(t.compositeFilter.filters.map(i=>j0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function gk(n){return rk[n]}function _k(n){return ik[n]}function yk(n){return sk[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return Ut.fromServerFormat(n.fieldPath)}function B0(n){return n instanceof vt?function(t){if(t.op==="=="){if(uy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(ly(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(ly(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:_k(t.op),value:t.value}}}(n):n instanceof nr?function(t){const i=t.getFilters().map(o=>B0(o));return i.length===1?i[0]:{compositeFilter:{op:yk(t.op),filters:i}}}(n):Se()}function vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function z0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t,i,o,l=Ce.min(),c=Ce.min(),d=jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.ht=e}}function Ek(n){const e=pk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.ln=new Ik}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ji.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class Ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new At(et.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new At(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Wo(0)}static Qn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy([n,e],[t,i]){const o=Me(n,t);return o===0?Me(e,i):o}class Sk{constructor(e){this.Gn=e,this.buffer=new At(Sy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Sy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Yn(3e5)})}}class Ck{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(th.oe);const i=new Sk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Iy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,_;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),Do()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function Ak(n,e){return new Ck(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ml(i.mutation,o,Rn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const o=Rs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=ol();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=ni();const c=pl(),d=function(){return pl()}();return t.forEach((p,_)=>{const v=i.get(_.key);o.has(_.key)&&(v===void 0||v.mutation instanceof Gi)?l=l.insert(_.key,_):v!==void 0?(c.set(_.key,v.mutation.getFieldMask()),ml(v.mutation,_,v.mutation.getFieldMask(),Ct.now())):c.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,v)=>c.set(_,v)),t.forEach((_,v)=>{var S;return d.set(_,new Pk(v,(S=c.get(_))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=pl();let o=new at((c,d)=>c-d),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let v=i.get(p)||Rn.empty();v=d.applyToLocalView(_,v),i.set(p,v);const S=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,S)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,v=p.value,S=R0();v.forEach(E=>{if(!l.has(E)){const P=N0(t.get(E),i.get(E));P!==null&&S.set(E,P),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Rs());let d=-1,p=l;return c.next(_=>Q.forEach(_,(v,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,Le())).next(v=>({batchId:d,changes:S0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=ol();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=ol();return this.indexManager.getCollectionParents(e,l).next(d=>Q.forEach(d,p=>{const _=function(S,E){return new Vl(E,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(v=>{v.forEach((S,E)=>{c=c.insert(S,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,_)=>{const v=_.getKey();c.get(v)===null&&(c=c.insert(v,Gt.newInvalidDocument(v)))});let d=ol();return c.forEach((p,_)=>{const v=l.get(p);v!==void 0&&ml(v.mutation,_,Rn.empty(),Ct.now()),sh(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Ek(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.overlays=new at(ve.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rs();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Rs(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new at((_,v)=>_-v);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let v=l.get(_.largestBatchId);v===null&&(v=Rs(),l=l.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const d=Rs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,v)=>d.set(_,v)),!(d.size()>=o)););return Q.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new YA(t,i));let l=this.Er.get(t);l===void 0&&(l=Le(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.dr=new At(bt.Ar),this.Rr=new At(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1);let l=Le();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new bt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Me(e.br,t.br)}static Vr(e,t){return Me(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(bt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XA(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Me);return t.forEach(o=>{const l=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),Q.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new bt(new ve(l),0);let d=new At(Me);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.br)),!0)},c),Q.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Q.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new bt(t,0),o=this.vr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Nr=e,this.docs=function(){return new at(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let i=ni();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Gt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=ni();const c=t.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:v}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||hA(cA(v),i)<=0||(o.has(v.key)||sh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Lr(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Vk(this)}getSize(e){return Q.resolve(this.size)}}class Vk extends kk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.persistence=e,this.Br=new Us(t=>gp(t),_p),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new Sp,this.targetCount=0,this.Qr=Wo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new th(0),this.Ur=!1,this.Ur=!0,this.Wr=new bk,this.referenceDelegate=e(this),this.Gr=new Mk(this),this.indexManager=new Tk,this.remoteDocumentCache=function(o){return new Lk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new wk(t),this.jr=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Ok(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new Fk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Fk extends fA{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Zr=new Sp,this.Xr=null}static ei(e){return new Rp(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class $c{constructor(e,t){this.persistence=e,this.ri=new Us(i=>gA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Ak(this,t)}static ei(e,t){return new $c(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tc(e.data.value)),t}ir(e,t,i){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Le(),o=Le();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Cp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return S1()?8:pA(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Uk;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Do()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Do()<=Oe.DEBUG&&he("QueryEngine","Query:",bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Do()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Q.resolve())}Xi(e,t){if(fy(t))return Q.resolve(null);let i=Sr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bf(t,null,"F"),i=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Le(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,d);return this.ss(t,_,c,p.readTime)?this.Xi(e,bf(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return fy(t)||o.isEqual(Ce.min())?Q.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?Q.resolve(null):(Do()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.os(e,c,t,uA(o,-1)).next(d=>d))})}rs(e,t){let i=new At(T0(e));return t.forEach((o,l)=>{sh(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Do()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",bo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ji.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new at(Me),this.cs=new Us(l=>gp(l),_p),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zk(n,e,t,i){return new Bk(n,e,t,i)}async function H0(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Le();for(const _ of o){c.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}for(const _ of l){d.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:d}))})})}function $k(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,v){const S=_.batch,E=S.keys();let P=Q.resolve();return E.forEach(O=>{P=P.next(()=>v.getEntry(p,O)).next(j=>{const L=_.docVersions.get(O);qe(L!==null),j.version.compareTo(L)<0&&(S.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),v.addEntry(j)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Le();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function q0(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Hk(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,S)=>{const E=o.get(S);if(!E)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,S)));let P=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),o=o.insert(S,P),function(j,L,H){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,P,v)&&d.push(t.Gr.updateTargetData(l,P))});let p=ni(),_=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(qk(l,c,e.documentUpdates).next(v=>{p=v.Is,_=v.Es})),!i.isEqual(Ce.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return Q.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function qk(n,e,t){let i=Le(),o=Le();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ni();return t.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function Wk(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gk(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new bi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Ff(n,e,t){const i=Ae(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ta(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Ry(n,e,t){const i=Ae(n);let o=Ce.min(),l=Le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,v){const S=Ae(p),E=S.cs.get(v);return E!==void 0?Q.resolve(S.us.get(E)):S.Gr.getTargetData(_,v)}(i,c,Sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?l:Le())).next(d=>(Kk(i,OA(e),d),{documents:d,ds:l})))}function Kk(n,e,t){let i=n.ls.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Cy{constructor(){this.activeTargetIds=jA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qk{constructor(){this._o=new Cy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Cy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function cf(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class Zk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=cf(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,l,c),this.Bo(t,p,_,o).then(v=>(he("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw zo("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=Yk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=cf();return new Promise((c,d)=>{const p=new i0;p.setWithCredentials(!0),p.listenOnce(s0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ec.NO_ERROR:const v=p.getResponseJson();he(qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Ec.TIMEOUT:he(qt,`RPC '${e}' ${l} timed out`),d(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const S=p.getStatus();if(he(qt,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const P=E==null?void 0:E.error;if(P&&P.status&&P.message){const O=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(H)>=0?H:X.UNKNOWN}(P.status);d(new fe(O,P.message))}else d(new fe(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(X.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(qt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);he(qt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=cf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=l0(),d=a0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");he(qt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=c.createWebChannel(v,p);let E=!1,P=!1;const O=new Jk({Eo:L=>{P?he(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(E||(he(qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),E=!0),he(qt,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Ao:()=>S.close()}),j=(L,H,W)=>{L.listen(H,Y=>{try{W(Y)}catch(ee){setTimeout(()=>{throw ee},0)}})};return j(S,sl.EventType.OPEN,()=>{P||(he(qt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),j(S,sl.EventType.CLOSE,()=>{P||(P=!0,he(qt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),j(S,sl.EventType.ERROR,L=>{P||(P=!0,zo(qt,`RPC '${e}' stream ${o} transport errored:`,L),O.Do(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),j(S,sl.EventType.MESSAGE,L=>{var H;if(!P){const W=L.data[0];qe(!!W);const Y=W,ee=(Y==null?void 0:Y.error)||((H=Y[0])===null||H===void 0?void 0:H.error);if(ee){he(qt,`RPC '${e}' stream ${o} received error:`,ee);const ne=ee.status;let ae=function(C){const N=yt[C];if(N!==void 0)return b0(N)}(ne),x=ee.message;ae===void 0&&(ae=X.INTERNAL,x="Unknown error status: "+ne+" with message "+ee.message),P=!0,O.Do(new fe(ae,x)),S.close()}else he(qt,`RPC '${e}' stream ${o} received:`,W),O.vo(W)}}),j(d,o0.STAT_EVENT,L=>{L.stat===Af.PROXY?he(qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Af.NOPROXY&&he(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){return new ok(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new W0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eP extends G0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=uk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Rr(c.readTime):Ce.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Mf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Nf(p)?{documents:dk(l,p)}:{query:fk(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=V0(l,c.resumeToken);const _=Of(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=zc(l,c.snapshotVersion.toTimestamp());const _=Of(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=mk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Mf(this.serializer),t.removeTarget=e,this.c_(t)}}class tP extends G0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hk(e.writeResults,e.commitTime),i=Rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Mf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ck(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Lf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(X.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Lf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(X.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ti(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{js(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.k_.add(4),await Ul(_),_.K_.set("Unknown"),_.k_.delete(4),await ch(_)}(this))})}),this.K_=new rP(i,o)}}async function ch(n){if(js(n))for(const e of n.q_)await e(!0)}async function Ul(n){for(const e of n.q_)await e(!1)}function K0(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),xp(t)?Pp(t):na(t).s_()&&kp(t,e))}function Ap(n,e){const t=Ae(n),i=na(t);t.B_.delete(e),i.s_()&&Q0(t,e),t.B_.size===0&&(i.s_()?i.a_():js(t)&&t.K_.set("Unknown"))}function kp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).V_(e)}function Q0(n,e){n.U_.xe(e),na(n).m_(e)}function Pp(n){n.U_=new nk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.K_.F_()}function xp(n){return js(n)&&!na(n).i_()&&n.B_.size>0}function js(n){return Ae(n).k_.size===0}function X0(n){n.U_=void 0}async function sP(n){n.K_.set("Online")}async function oP(n){n.B_.forEach((e,t)=>{kp(n,e)})}async function aP(n,e){X0(n),xp(n)?(n.K_.O_(e),Pp(n)):n.K_.set("Unknown")}async function lP(n,e,t){if(n.K_.set("Online"),e instanceof L0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hc(n,i)}else if(e instanceof Rc?n.U_.$e(e):e instanceof O0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ce.min()))try{const i=await q0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(_);v&&l.B_.set(_,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),Q0(l,p);const S=new bi(v.target,p,_,v.sequenceNumber);kp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await Hc(n,i)}}async function Hc(n,e,t){if(!ta(e))throw e;n.k_.add(1),await Ul(n),n.K_.set("Offline"),t||(t=()=>q0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ch(n)})}function Y0(n,e){return e().catch(t=>Hc(n,t,e))}async function hh(n){const e=Ae(n),t=Hi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;uP(e);)try{const o=await Wk(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,cP(e,o)}catch(o){await Hc(e,o)}J0(e)&&Z0(e)}function uP(n){return js(n)&&n.L_.length<10}function cP(n,e){n.L_.push(e);const t=Hi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function J0(n){return js(n)&&!Hi(n).i_()&&n.L_.length>0}function Z0(n){Hi(n).start()}async function hP(n){Hi(n).w_()}async function dP(n){const e=Hi(n);for(const t of n.L_)e.g_(t.mutations)}async function fP(n,e,t){const i=n.L_.shift(),o=Ep.from(i,e,t);await Y0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await hh(n)}async function pP(n,e){e&&Hi(n).f_&&await async function(i,o){if(function(c){return ZA(c)&&c!==X.ABORTED}(o.code)){const l=i.L_.shift();Hi(i).__(),await Y0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await hh(i)}}(n,e),J0(n)&&Z0(n)}async function ky(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=js(t);t.k_.add(3),await Ul(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ch(t)}async function mP(n,e){const t=Ae(n);e?(t.k_.delete(2),await ch(t)):e||(t.k_.add(2),await Ul(t),t.K_.set("Unknown"))}function na(n){return n.W_||(n.W_=function(t,i,o){const l=Ae(t);return l.b_(),new eP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:sP.bind(null,n),mo:oP.bind(null,n),po:aP.bind(null,n),R_:lP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),xp(n)?Pp(n):n.K_.set("Unknown")):(await n.W_.stop(),X0(n))})),n.W_}function Hi(n){return n.G_||(n.G_=function(t,i,o){const l=Ae(t);return l.b_(),new tP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:hP.bind(null,n),po:pP.bind(null,n),p_:dP.bind(null,n),y_:fP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await hh(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Np(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(n,e){if(ti("AsyncQueue",`${e}: ${n}`),ta(n))return new fe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=ol(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.z_=new at(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,o,l,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Go(e,t,jo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _P{constructor(){this.queries=xy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=xy(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function xy(){return new Us(n=>E0(n),ih)}async function ew(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new gP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Dp(c,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&bp(t)}async function tw(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yP(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&bp(t)}function vP(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function bp(n){n.X_.forEach(e=>{e.next()})}var Uf,Ny;(Ny=Uf||(Uf={})).na="default",Ny.Cache="cache";class nw{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.key=e}}class iw{constructor(e){this.key=e}}class wP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=T0(e),this.ma=new jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Py,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const E=o.get(v),P=sh(this.query,S)?S:null,O=!!E&&this.mutatedKeys.has(E.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;E&&P?E.data.isEqual(P.data)?O!==j&&(i.track({type:3,doc:P}),L=!0):this.ya(E,P)||(i.track({type:2,doc:P}),L=!0,(p&&this.Va(P,p)>0||_&&this.Va(P,_)<0)&&(d=!0)):!E&&P?(i.track({type:0,doc:P}),L=!0):E&&!P&&(i.track({type:1,doc:E}),L=!0,(p||_)&&(d=!0)),L&&(P?(c=c.add(P),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,S)=>function(P,O){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return j(P)-j(O)}(v.type,S.type)||this.Va(v.doc,S.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new Go(this.query,e.ma,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Py,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new iw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new rw(i))}),t}va(e){this.da=e.ds,this.Ra=Le();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Go.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class EP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TP{constructor(e){this.key=e,this.Fa=!1}}class IP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Us(d=>E0(d),ih),this.Oa=new Map,this.Na=new Set,this.La=new at(ve.comparator),this.Ba=new Map,this.ka=new Sp,this.qa={},this.Qa=new Map,this.Ka=Wo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function SP(n,e,t=!0){const i=cw(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await sw(i,e,t,!0),o}async function RP(n,e){const t=cw(n);await sw(t,e,!0,!1)}async function sw(n,e,t,i){const o=await Gk(n.localStore,Sr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await CP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&K0(n.remoteStore,o),d}async function CP(n,e,t,i,o){n.Ua=(S,E,P)=>async function(j,L,H,W){let Y=L.view.ga(H);Y.ss&&(Y=await Ry(j.localStore,L.query,!1).then(({documents:x})=>L.view.ga(x,Y)));const ee=W&&W.targetChanges.get(L.targetId),ne=W&&W.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(Y,j.isPrimaryClient,ee,ne);return by(j,L.targetId,ae.ba),ae.snapshot}(n,S,E,P);const l=await Ry(n.localStore,e,!0),c=new wP(e,l.ds),d=c.ga(l.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);by(n,t,_.ba);const v=new EP(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function AP(n,e,t){const i=Ae(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!ih(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ff(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ap(i.remoteStore,o.targetId),jf(i,o.targetId)}).catch(ea)):(jf(i,o.targetId),await Ff(i.localStore,o.targetId,!0))}async function kP(n,e){const t=Ae(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ap(t.remoteStore,i.targetId))}async function PP(n,e,t){const i=VP(n);try{const o=await function(c,d){const p=Ae(c),_=Ct.now(),v=d.reduce((P,O)=>P.add(O.key),Le());let S,E;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=ni(),j=Le();return p.hs.getEntries(P,v).next(L=>{O=L,O.forEach((H,W)=>{W.isValidDocument()||(j=j.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(L=>{S=L;const H=[];for(const W of d){const Y=KA(W,S.get(W.key).overlayedDocument);Y!=null&&H.push(new Gi(W.key,Y,f0(Y.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,H,d)}).next(L=>{E=L;const H=L.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(P,L.batchId,H)})}).then(()=>({batchId:E.batchId,changes:S0(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.qa[c.currentUser.toKey()];_||(_=new at(Me)),_=_.insert(d,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await jl(i,o.changes),await hh(i.remoteStore)}catch(o){const l=Dp(o,"Failed to persist write");t.reject(l)}}async function ow(n,e){const t=Ae(n);try{const i=await Hk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?qe(c.Fa):o.removedDocuments.size>0&&(qe(c.Fa),c.Fa=!1))}),await jl(t,i,e)}catch(i){await ea(i)}}function Dy(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let _=!1;p.queries.forEach((v,S)=>{for(const E of S.J_)E.ea(d)&&(_=!0)}),_&&bp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xP(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new at(ve.comparator);c=c.insert(l,Gt.newNoDocument(l,Ce.min()));const d=Le().add(l),p=new lh(Ce.min(),new Map,new at(Me),c,d);await ow(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Op(i)}else await Ff(i.localStore,e,!1).then(()=>jf(i,e,t)).catch(ea)}async function NP(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await $k(t.localStore,e);lw(t,i,null),aw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jl(t,o)}catch(o){await ea(o)}}async function DP(n,e,t){const i=Ae(n);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return p.mutationQueue.lookupMutationBatch(_,d).next(S=>(qe(S!==null),v=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>p.localDocuments.getDocuments(_,v))})}(i.localStore,e);lw(i,e,t),aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jl(i,o)}catch(o){await ea(o)}}function aw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function lw(n,e,t){const i=Ae(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||uw(n,i)})}function uw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Ap(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Op(n))}function by(n,e,t){for(const i of t)i instanceof rw?(n.ka.addReference(i.key,e),bP(n,i)):i instanceof iw?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||uw(n,i.key)):Se()}function bP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),Op(n))}function Op(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(et.fromString(e)),i=n.Ka.next();n.Ba.set(i,new TP(t)),n.La=n.La.insert(t,i),K0(n.remoteStore,new bi(Sr(yp(t.path)),i,"TargetPurposeLimboResolution",th.oe))}}async function jl(n,e,t){const i=Ae(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(_=>{var v;if((_||t)&&i.isPrimaryClient){const S=_?!_.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Cp.zi(p.targetId,_);l.push(S)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(_,E=>Q.forEach(E.Wi,P=>v.persistence.referenceDelegate.addReference(S,E.targetId,P)).next(()=>Q.forEach(E.Gi,P=>v.persistence.referenceDelegate.removeReference(S,E.targetId,P)))))}catch(S){if(!ta(S))throw S;he("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const E=S.targetId;if(!S.fromCache){const P=v.us.get(E),O=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(O);v.us=v.us.insert(E,j)}}}(i.localStore,l))}async function OP(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await H0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new fe(X.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(t,i.Ts)}}function LP(n,e){const t=Ae(n),i=t.Ba.get(e);if(i&&i.Fa)return Le().add(i.key);{let o=Le();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function cw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xP.bind(null,e),e.Ma.R_=yP.bind(null,e.eventManager),e.Ma.Wa=vP.bind(null,e.eventManager),e}function VP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,e),e}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zk(this.persistence,new jk,e.initialUser,this.serializer)}ja(e){return new $0(Rp.ei,this.serializer)}za(e){return new Qk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class MP extends qc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof $c);const i=this.persistence.referenceDelegate.garbageCollector;return new Rk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new $0(i=>$c.ei(i,t),this.serializer)}}class Bf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await mP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _P}()}createDatastore(e){const t=uh(e.databaseInfo.databaseId),i=function(l){return new Zk(l)}(e.databaseInfo);return function(l,c,d,p){return new nP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new iP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Dy(this.syncEngine,t,0),function(){return Ay.p()?new Ay:new Xk}())}createSyncEngine(e,t){return function(o,l,c,d,p,_,v){const S=new IP(o,l,c,d,p,_);return v&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);he("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Ul(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bf.provider={build:()=>new Bf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=c0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function df(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await H0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Oy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UP(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ky(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>ky(e.remoteStore,o)),n._onlineComponents=e}async function UP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await df(n,new qc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await df(n,new MP(void 0));return n._offlineComponents}async function dw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Oy(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Oy(n,new Bf))),n._onlineComponents}function jP(n){return dw(n).then(e=>e.syncEngine)}async function fw(n){const e=await dw(n),t=e.eventManager;return t.onListen=SP.bind(null,e.syncEngine),t.onUnlisten=AP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kP.bind(null,e.syncEngine),t}function BP(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new hw({next:E=>{v.eu(),c.enqueueAndForget(()=>tw(l,S));const P=E.docs.has(d);!P&&E.fromCache?_.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&E.fromCache&&p&&p.source==="server"?_.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(E)},error:E=>_.reject(E)}),S=new nw(yp(d.path),v,{includeMetadataChanges:!0,ua:!0});return ew(l,S)}(await fw(n),n.asyncQueue,e,t,i)),i.promise}function zP(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new hw({next:E=>{v.eu(),c.enqueueAndForget(()=>tw(l,S)),E.fromCache&&p.source==="server"?_.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(E)},error:E=>_.reject(E)}),S=new nw(d,v,{includeMetadataChanges:!0,ua:!0});return ew(l,S)}(await fw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e,t){if(!t)throw new fe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $P(n,e,t,i){if(e===!0&&i===!0)throw new fe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vy(n){if(!ve.isDocumentKey(n))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function My(n){if(ve.isDocumentKey(n))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dh(n);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new eA;switch(i.type){case"firstParty":return new iA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Ly.get(t);i&&(he("ComponentProvider","Removing Datastore"),Ly.delete(t),i.terminate())}(this),Promise.resolve()}}function HP(n,e,t,i={}){var o;const l=(n=ri(n,fh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Wt.MOCK_USER;else{d=vv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(_)}n._authCredentials=new tA(new u0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Mi extends ra{constructor(e,t,i){super(e,t,yp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ve(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function Jr(n,e,...t){if(n=ot(n),mw("collection","path",e),n instanceof fh){const i=et.fromString(e,...t);return My(i),new Mi(n,null,i)}{if(!(n instanceof fn||n instanceof Mi))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return My(i),new Mi(n.firestore,null,i)}}function ph(n,e,...t){if(n=ot(n),arguments.length===1&&(e=c0.newId()),mw("doc","path",e),n instanceof fh){const i=et.fromString(e,...t);return Vy(i),new fn(n,null,new ve(i))}{if(!(n instanceof fn||n instanceof Mi))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return Vy(i),new fn(n.firestore,n instanceof Mi?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new W0(this,"async_queue_retry"),this.fu=()=>{const i=hf();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=hf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=hf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Yr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ta(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ti("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Np.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ia extends fh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Uy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function sa(n,e){const t=typeof n=="object"?n:tp(),i=typeof n=="string"?n:"(default)",o=Xc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=gv("firestore");l&&HP(o,...l)}return o}function Lp(n){if(n._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qP(n),n._firestoreClient}function qP(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,_,v){return new vA(d,p,_,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,pw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new FP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(jt.fromBase64String(e))}catch(t){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^__.*__$/;class GP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ml(e,this.data,t,this.fieldTransforms)}}class gw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _w(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Fp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(_w(this.Mu)&&WP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class KP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uh(e)}$u(e,t,i,o=!1){return new Fp({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=uh(n._databaseId);return new KP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QP(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Bp("Data must be an object, but it was:",c,i);const d=yw(i,c);let p,_;if(l.merge)p=new Rn(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const E=zf(e,S,t);if(!c.contains(E))throw new fe(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ww(v,E)||v.push(E)}p=new Rn(v),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new GP(new dn(d),p,_)}class _h extends gh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}class jp extends gh{_toFieldTransform(e){return new HA(e.path,new Rl)}isEqual(e){return e instanceof jp}}function XP(n,e,t,i){const o=n.$u(1,e,t);Bp("Data must be an object, but it was:",o,i);const l=[],c=dn.empty();Wi(i,(p,_)=>{const v=zp(e,p,t);_=ot(_);const S=o.Bu(v);if(_ instanceof _h)l.push(v);else{const E=Bl(_,S);E!=null&&(l.push(v),c.set(v,E))}});const d=new Rn(l);return new gw(c,d,o.fieldTransforms)}function YP(n,e,t,i,o,l){const c=n.$u(1,e,t),d=[zf(e,i,t)],p=[o];if(l.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(zf(e,l[E])),p.push(l[E+1]);const _=[],v=dn.empty();for(let E=d.length-1;E>=0;--E)if(!ww(_,d[E])){const P=d[E];let O=p[E];O=ot(O);const j=c.Bu(P);if(O instanceof _h)_.push(P);else{const L=Bl(O,j);L!=null&&(_.push(P),v.set(P,L))}}const S=new Rn(_);return new gw(v,S,c.fieldTransforms)}function JP(n,e,t,i=!1){return Bl(t,n.$u(i?4:3,e))}function Bl(n,e){if(vw(n=ot(n)))return Bp("Unsupported field value:",e,n),yw(n,e);if(n instanceof gh)return function(i,o){if(!_w(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Bl(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ct.fromDate(i);return{timestampValue:zc(o.serializer,l)}}if(i instanceof Ct){const l=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zc(o.serializer,l)}}if(i instanceof Vp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ko)return{bytesValue:V0(o.serializer,i._byteString)};if(i instanceof fn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ip(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Mp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return vp(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${dh(i)}`)}(n,e)}function yw(n,e){const t={};return h0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(i,o)=>{const l=Bl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function vw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Vp||n instanceof Ko||n instanceof fn||n instanceof gh||n instanceof Mp)}function Bp(n,e,t){if(!vw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=dh(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function zf(n,e,t){if((e=ot(e))instanceof mh)return e._internalPath;if(typeof e=="string")return zp(n,e);throw Wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZP=new RegExp("[~\\*/\\[\\]]");function zp(n,e,t){if(e.search(ZP)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mh(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(X.INVALID_ARGUMENT,d+n+p)}function ww(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($p("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ex extends Ew{data(){return super.data()}}function $p(n,e){return typeof e=="string"?zp(n,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class nx extends Hp{}function As(n,e,...t){let i=[];e instanceof Hp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof qp).length,d=l.filter(p=>p instanceof yh).length;if(c>1||c>0&&d>0)throw new fe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class yh extends nx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yh(e,t,i)}_apply(e){const t=this._parse(e);return Tw(e._query,t),new ra(e.firestore,e.converter,Df(e._query,t))}_parse(e){const t=Up(e.firestore);return function(l,c,d,p,_,v,S){let E;if(_.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){By(S,v);const P=[];for(const O of S)P.push(jy(p,l,O));E={arrayValue:{values:P}}}else E=jy(p,l,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||By(S,v),E=JP(d,c,S,v==="in"||v==="not-in");return vt.create(_,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ks(n,e,t){const i=e,o=$p("where",n);return yh._create(o,i,t)}class qp extends Hp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)Tw(c,p),c=Df(c,p)}(e._query,t),new ra(e.firestore,e.converter,Df(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jy(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new fe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(e)&&t.indexOf("/")!==-1)throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!ve.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ay(n,new ve(i))}if(t instanceof fn)return ay(n,t._key);throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(t)}.`)}function By(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tw(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rx{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>pt(c.doubleValue));return new Mp(l)}convertGeoPoint(e){return new Vp(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);qe(z0(i));const o=new Il(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||ti(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iw extends Ew{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($p("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Cc extends Iw{data(e={}){return super.data(e)}}class sx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ll(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Cc(this._firestore,this._userDataWriter,i.key,i,new ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,v=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:ox(d.type),doc:p,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ox(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){n=ri(n,fn);const e=ri(n.firestore,ia);return BP(Lp(e),n._key).then(t=>ux(e,n,t))}class Rw extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function Ps(n){n=ri(n,ra);const e=ri(n.firestore,ia),t=Lp(e),i=new Rw(e);return tx(n._query),zP(t,n._query).then(o=>new sx(e,i,n,o))}function ax(n,e,t,...i){n=ri(n,fn);const o=ri(n.firestore,ia),l=Up(o);let c;return c=typeof(e=ot(e))=="string"||e instanceof mh?YP(l,"updateDoc",n._key,e,t,i):XP(l,"updateDoc",n._key,e),Wp(o,[c.toMutation(n._key,tr.exists(!0))])}function lx(n){return Wp(ri(n.firestore,ia),[new wp(n._key,tr.none())])}function Cw(n,e){const t=ri(n.firestore,ia),i=ph(n),o=ix(n.converter,e);return Wp(t,[QP(Up(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,tr.exists(!1))]).then(()=>i)}function Wp(n,e){return function(i,o){const l=new Yr;return i.asyncQueue.enqueueAndForget(async()=>PP(await jP(i),o,l)),l.promise}(Lp(n),e)}function ux(n,e,t){const i=t.docs.get(e._key),o=new Rw(n);return new Iw(n,o,e._key,i,new ll(t.hasPendingWrites,t.fromCache),e.converter)}function cx(){return new jp("serverTimestamp")}(function(e,t=!0){(function(o){Zo=o})(Vs),Ns(new Ui("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ia(new nA(i.getProvider("auth-internal")),new oA(i.getProvider("app-check-internal")),function(_,v){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Tr(ty,"4.7.5",e),Tr(ty,"4.7.5","esm2017")})();const hx={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};Dl(hx);const dx=()=>{const n=Yo(),[e,t]=U.useState(null),[i,o]=U.useState(null),[l,c]=U.useState(!1),d=Mc(),p=sa();U.useEffect(()=>{const W=d.onAuthStateChanged(async Y=>{if(t(Y),Y){const ee=Y.email,ne=await _(ee);o(ne),n("/dashboard",{state:{userData:ne}})}});return()=>W()},[]);const _=async W=>{try{const Y=As(Jr(p,"RegisteredAdmin"),ks("email","==",W)),ee=await Ps(Y);if(!ee.empty)return ee.docs[0].data();const ne=As(Jr(p,"RegisteredTeacher"),ks("email","==",W)),ae=await Ps(ne);if(!ae.empty)return ae.docs[0].data();const x=As(Jr(p,"RegisteredStudent"),ks("email","==",W)),R=await Ps(x);return R.empty?null:R.docs[0].data()}catch(Y){return console.error("Error fetching user data:",Y),null}},v=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},S=()=>{c(!1),n("/dashboard",{state:{userData:i}})},E=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},P=()=>{c(!l)},O=async()=>{const W=Mc();try{await Rf(W),console.log("User signed out successfully"),n("/login")}catch(Y){console.error("Error signing out:",Y)}},j=["Alice Smith","Bob Johnson","Carol Williams","David Brown","Eve Davis"],L=["Smith","Johnson","Williams","Brown","Davis"],H=["Scanner-001","Scanner-002","Scanner-003"];return I.jsxs(I.Fragment,{children:[I.jsx("button",{className:xe.hamburgerBtn,onClick:P,children:l?I.jsx(hv,{size:24}):I.jsx(o1,{size:24})}),I.jsxs("div",{className:`${xe.sidebar} ${l?xe.sidebarOpen:""}`,children:[I.jsx("div",{className:xe.profileSection,children:e&&i&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:xe.avatar,children:I.jsx("img",{src:e.photoURL,alt:"Profile"})}),I.jsxs("div",{className:xe.userInfo,children:[I.jsx("h3",{children:i.name}),I.jsx("p",{children:e.email})]})]})}),I.jsx("nav",{className:xe.navigation,children:I.jsxs("ul",{className:xe.navList,children:[I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{className:xe.navLink,onClick:S,children:[I.jsx(i1,{size:20}),I.jsx("span",{children:"Dashboard"})]})}),I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{onClick:v,className:xe.navLink,style:{cursor:"pointer"},children:[I.jsx(XI,{size:20}),I.jsx("span",{children:"Create Event"})]})}),I.jsxs(cl,{to:"/dashboard/event-list",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(ZI,{size:20}),I.jsx("span",{children:"Event List"})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(QI,{size:20}),I.jsx("span",{children:"Archive"})]})}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(ef,{size:20}),I.jsx("span",{children:"Students Registered"})]}),I.jsx("ul",{className:xe.dropdown,children:j.map((W,Y)=>I.jsx("li",{className:xe.dropdownItem,children:W},Y))})]}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(ef,{size:20}),I.jsx("span",{children:"Teacher Registered"})]}),I.jsx("ul",{className:xe.dropdown,children:L.map((W,Y)=>I.jsx("li",{className:xe.dropdownItem,children:W},Y))})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs(cl,{to:"/dashboard/student-registration",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(ef,{size:20}),I.jsx("span",{children:"Student Registration"})]})}),I.jsx("li",{className:xe.navItem,children:I.jsxs(cl,{to:"/dashboard/nfc-reader",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(I_,{size:20}),I.jsx("span",{children:"NFC Reader"})]})}),I.jsxs("li",{className:xe.navItem,children:[I.jsxs("a",{href:"#",className:xe.navLink,onClick:()=>c(!1),children:[I.jsx(I_,{size:20}),I.jsx("span",{children:"ESP32 NFC Scanners"})]}),I.jsx("ul",{className:xe.dropdown,children:H.map((W,Y)=>I.jsx("li",{className:xe.dropdownItem,children:W},Y))})]}),I.jsx("li",{className:xe.navItem,children:I.jsxs("div",{className:xe.navLink,onClick:E,children:[I.jsx(n1,{size:20}),I.jsx("span",{children:"File Manager"})]})})]})}),I.jsxs("button",{className:xe.logoutBtn,onClick:O,children:[I.jsx(s1,{size:20}),I.jsx("span",{children:"Logout"})]})]}),l&&I.jsx("div",{className:xe.overlay,onClick:P})]})};function fx(){var i;const n=sr(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return I.jsxs("div",{className:xe.dashboardContainer,children:[I.jsx(dx,{}),I.jsx("main",{className:xe.mainContent,children:t?I.jsxs("div",{className:xe.welcomeContainer,children:[I.jsxs("h1",{className:xe.welcomeTitle,children:["Welcome",I.jsx("br",{})," ",I.jsx("span",{children:e==null?void 0:e.name})]}),I.jsx("p",{className:xe.welcomeText,children:"Select an option from the sidebar to get started"})]}):I.jsx(HT,{})})]})}const px="_container_1vton_5",mx="_card_1vton_17",gx="_cardHeader_1vton_33",_x="_cardTitle_1vton_45",yx="_form_1vton_59",vx="_formGrid_1vton_69",wx="_formGroup_1vton_93",Ex="_label_1vton_105",Tx="_input_1vton_117",Ix="_select_1vton_119",Sx="_button_1vton_165",Rx="_tableContainer_1vton_215",Cx="_table_1vton_215",Ax="_status_1vton_273",kx="_statusPending_1vton_289",Px="_statusOngoing_1vton_299",xx="_statusCompleted_1vton_309",Nx="_error_1vton_321",Dx="_inputError_1vton_333",Ne={container:px,card:mx,cardHeader:gx,cardTitle:_x,form:yx,formGrid:vx,formGroup:wx,label:Ex,input:Tx,select:Ix,button:Sx,tableContainer:Rx,table:Cx,status:Ax,statusPending:kx,statusOngoing:Px,statusCompleted:xx,error:Nx,inputError:Dx},bx="_buttons_85dii_1",Ox="_add_85dii_77",Lx="_archive_85dii_77",Vx="_logout_85dii_77",Mx="_progress_85dii_77",Fx="_filemanager_85dii_77",Ux="_new_event_85dii_77",Cn={buttons:bx,add:Ox,archive:Lx,logout:Vx,progress:Mx,filemanager:Fx,new_event:Ux},jx=()=>{const n=sr(),{userData:e}=n.state||{},t=sa(),[i,o]=U.useState(""),[l,c]=U.useState("unlimited"),[d,p]=U.useState(""),[_,v]=U.useState(""),[S,E]=U.useState("event"),[P,O]=U.useState(""),[j,L]=U.useState("pending"),[H,W]=U.useState(""),[Y,ee]=U.useState(""),[ne,ae]=U.useState(""),[x,R]=U.useState(""),C=["ESP32-001","ESP32-002","ESP32-003"],N=async b=>{b.preventDefault();try{const k={eventName:i,entryLimit:l,maxEntries:l==="limited"?parseInt(d):null,locations:_,purpose:S,selectedEsp32:P,status:j,startDate:H,startTime:Y,endDate:ne,endTime:x,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},We=await Cw(Jr(t,"PendingEvent"),k);await ax(We,{docId:We.id}),console.log("Event created with ID: ",We.id),alert("Event created successfully!"),M()}catch(k){console.error("Error creating event: ",k),alert("Error creating event. Please try again.")}},M=()=>{o(""),c("unlimited"),p(""),v(""),E("event"),O(""),L("pending"),W(""),ee(""),ae(""),R("")};return I.jsx("div",{className:Ne.container,children:I.jsxs("div",{className:Ne.card,children:[I.jsx("div",{className:Ne.cardHeader,children:I.jsx("h2",{className:Ne.cardTitle,children:"Create New Event"})}),I.jsxs("form",{className:Ne.form,onSubmit:N,children:[I.jsxs("div",{className:Ne.formGrid,children:[I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Event Name"}),I.jsx("input",{type:"text",className:Ne.input,value:i,onChange:b=>o(b.target.value),placeholder:"Enter event name"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Entry Limit"}),I.jsxs("select",{className:Ne.select,value:l,onChange:b=>c(b.target.value),children:[I.jsx("option",{value:"unlimited",children:"Unlimited"}),I.jsx("option",{value:"limited",children:"Limited"})]})]}),l==="limited"&&I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Maximum Entries"}),I.jsx("input",{type:"number",className:Ne.input,value:d,onChange:b=>p(b.target.value),placeholder:"Enter maximum entries"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Location"}),I.jsx("input",{type:"text",className:Ne.input,value:_,onChange:b=>v(b.target.value),placeholder:"Enter location"})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Purpose"}),I.jsxs("select",{className:Ne.select,value:S,onChange:b=>E(b.target.value),children:[I.jsx("option",{value:"event",children:"Event Attendance"}),I.jsx("option",{value:"membership",children:"Membership Attendance"}),I.jsx("option",{value:"room",children:"Room Attendance"})]})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"ESP32 Device"}),I.jsx("select",{className:Ne.select,value:P,onChange:b=>O(b.target.value),children:C.map(b=>I.jsx("option",{value:b,children:b},b))})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Status"}),I.jsxs("select",{className:Ne.select,value:j,onChange:b=>L(b.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"ongoing",children:"Ongoing"}),I.jsx("option",{value:"completed",children:"Completed"}),I.jsx("option",{value:"pause",children:"Pause"}),I.jsx("option",{value:"continued",children:"Continued"})]})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Start Date"}),I.jsx("input",{type:"date",className:Ne.input,value:H,onChange:b=>W(b.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"Start Time"}),I.jsx("input",{type:"time",className:Ne.input,value:Y,onChange:b=>ee(b.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"End Date"}),I.jsx("input",{type:"date",className:Ne.input,value:ne,onChange:b=>ae(b.target.value)})]}),I.jsxs("div",{className:Ne.formGroup,children:[I.jsx("label",{className:Ne.label,children:"End Time"}),I.jsx("input",{type:"time",className:Ne.input,value:x,onChange:b=>R(b.target.value)})]})]}),I.jsx("button",{type:"submit",className:Cn.buttons,children:"Create Event"})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebasestorage.googleapis.com",kw="storageBucket",Bx=2*60*1e3,zx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ar{constructor(e,t,i=0){super(ff(e),`Firebase Storage: ${t} (${ff(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ff(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function ff(n){return"storage/"+n}function Gp(){const n="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,n)}function $x(n){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Hx(n){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,n)}function Wx(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gx(n){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Kx(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qx(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function Xx(n){return new ct(ut.INVALID_URL,"Invalid URL '"+n+"'.")}function Yx(n){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Jx(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kw+"' property when initializing the app?")}function Zx(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eN(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tN(n){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $f(n){return new ct(ut.INVALID_ARGUMENT,n)}function Pw(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function nN(n){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gl(n,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function tl(n){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=en.makeFromUrl(e,t)}catch{return new en(e,"")}if(i.path==="")return i;throw Yx(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${v}/b/${o}/o${E}`,"i"),O={bucket:1,path:3},j=t===Aw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",H=new RegExp(`^https?://${j}/${o}/${L}`,"i"),Y=[{regex:d,indices:p,postModify:l},{regex:P,indices:O,postModify:_},{regex:H,indices:{bucket:1,path:2},postModify:_}];for(let ee=0;ee<Y.length;ee++){const ne=Y[ee],ae=ne.regex.exec(e);if(ae){const x=ae[ne.indices.bucket];let R=ae[ne.indices.path];R||(R=""),i=new en(x,R),ne.postModify(i);break}}if(i==null)throw Xx(e);return i}}class rN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let _=!1;function v(...L){_||(_=!0,e.apply(null,L))}function S(L){o=setTimeout(()=>{o=null,n(P,p())},L)}function E(){l&&clearTimeout(l)}function P(L,...H){if(_){E();return}if(L){E(),v.call(null,L,...H);return}if(p()||c){E(),v.call(null,L,...H);return}i<64&&(i*=2);let Y;d===1?(d=2,Y=0):Y=(i+Math.random())*1e3,S(Y)}let O=!1;function j(L){O||(O=!0,E(),!_&&(o!==null?(L||(d=2),clearTimeout(o),S(0)):L||(d=1)))}return S(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function sN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){return n!==void 0}function aN(n){return typeof n=="object"&&!Array.isArray(n)}function Kp(n){return typeof n=="string"||n instanceof String}function zy(n){return Qp()&&n instanceof Blob}function Qp(){return typeof Blob<"u"}function Hf(n,e,t,i){if(i<e)throw $f(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw $f(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function xw(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var xs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(xs||(xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,i,o,l,c,d,p,_,v,S,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=v,this.connectionFactory_=S,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,O)=>{this.resolve_=P,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new dc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===xs.NO_ERROR,p=l.getStatus();if(!d||lN(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===xs.ABORT;i(!1,new dc(!1,null,v));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new dc(_,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());oN(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Gp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Pw():Qx();c(p)}else{const p=Kx();c(p)}};this.canceled_?t(!1,new dc(!1,null,!0)):this.backoffId_=iN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function cN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function hN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function fN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function pN(n,e,t,i,o,l,c=!0){const d=xw(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return dN(_,e),cN(_,t),hN(_,l),fN(_,i),new uN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gN(...n){const e=mN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Qp())return new Blob(n);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _N(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){if(typeof atob>"u")throw tN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pf{constructor(e,t){this.data=e,this.contentType=t||null}}function vN(n,e){switch(n){case Er.RAW:return new pf(Nw(e));case Er.BASE64:case Er.BASE64URL:return new pf(Dw(n,e));case Er.DATA_URL:return new pf(EN(e),TN(e))}throw Gp()}function Nw(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function wN(n){let e;try{e=decodeURIComponent(n)}catch{throw gl(Er.DATA_URL,"Malformed data URL.")}return Nw(e)}function Dw(n,e){switch(n){case Er.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw gl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw gl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yN(e)}catch(o){throw o.message.includes("polyfill")?o:gl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class bw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw gl(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=IN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function EN(n){const e=new bw(n);return e.base64?Dw(Er.BASE64,e.rest):wN(e.rest)}function TN(n){return new bw(n).contentType}function IN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){let i=0,o="";zy(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(zy(this.data_)){const i=this.data_,o=_N(i,e,t);return o===null?null:new Di(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Di(i,!0)}}static getBlob(...e){if(Qp()){const t=e.map(i=>i instanceof Di?i.data_:i);return new Di(gN.apply(null,t))}else{const t=e.map(c=>Kp(c)?vN(Er.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Di(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n){let e;try{e=JSON.parse(n)}catch{return null}return aN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function Ow(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n,e){return e}class Zt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||CN}}let fc=null;function AN(n){return!Kp(n)||n.length<2?n:Ow(n)}function Lw(){if(fc)return fc;const n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(l,c){return AN(c)}const t=new Zt("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new Zt("size");return o.xform=i,n.push(o),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),fc=n,fc}function kN(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new en(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function PN(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return kN(i,n),i}function Vw(n,e,t){const i=Xp(e);return i===null?null:PN(n,i,t)}function xN(n,e,t,i){const o=Xp(e);if(o===null||!Kp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(_=>{const v=n.bucket,S=n.fullPath,E="/b/"+c(v)+"/o/"+c(S),P=zl(E,t,i),O=xw({alt:"media",token:_});return P+O})[0]}function NN(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="prefixes",Hy="items";function DN(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$y])for(const o of t[$y]){const l=o.replace(/\/$/,""),c=n._makeStorageReference(new en(e,l));i.prefixes.push(c)}if(t[Hy])for(const o of t[Hy]){const l=n._makeStorageReference(new en(e,o.name));i.items.push(l)}return i}function bN(n,e,t){const i=Xp(t);return i===null?null:DN(n,e,i)}class vh{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n){if(!n)throw Gp()}function ON(n,e){function t(i,o){const l=Vw(n,o,e);return Yp(l!==null),l}return t}function LN(n,e){function t(i,o){const l=bN(n,e,o);return Yp(l!==null),l}return t}function VN(n,e){function t(i,o){const l=Vw(n,o,e);return Yp(l!==null),xN(l,o,n.host,n._protocol)}return t}function Jp(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Wx():o=qx():t.getStatus()===402?o=Hx(n.bucket):t.getStatus()===403?o=Gx(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Mw(n){const e=Jp(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=$x(n.path)),l.serverResponse=o.serverResponse,l}return t}function MN(n,e,t,i,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),d=zl(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,v=new vh(d,p,LN(n,e.bucket),_);return v.urlParams=l,v.errorHandler=Jp(e),v}function FN(n,e,t){const i=e.fullServerUrl(),o=zl(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new vh(o,l,VN(n,t),c);return d.errorHandler=Mw(e),d}function UN(n,e){const t=e.fullServerUrl(),i=zl(t,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(p,_){}const d=new vh(i,o,c,l);return d.successCodes=[200,204],d.errorHandler=Mw(e),d}function jN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function BN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=jN(null,e)),i}function zN(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Y="";for(let ee=0;ee<2;ee++)Y=Y+Math.random().toString().slice(2);return Y}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const _=BN(e,i,o),v=NN(_,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,E=`\r
--`+p+"--",P=Di.getBlob(S,i,E);if(P===null)throw Zx();const O={name:_.fullPath},j=zl(l,n.host,n._protocol),L="POST",H=n.maxUploadRetryTime,W=new vh(j,L,ON(n,t),H);return W.urlParams=O,W.headers=c,W.body=P.uploadData(),W.errorHandler=Jp(e),W}class $N{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw tl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HN extends $N{initXhr(){this.xhr_.responseType="text"}}function wh(){return new HN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this._service=e,t instanceof en?this._location=t:this._location=en.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Os(e,t)}get root(){const e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ow(this._location.path)}get storage(){return this._service}get parent(){const e=SN(this._location.path);if(e===null)return null;const t=new en(this._location.bucket,e);return new Os(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nN(e)}}function qN(n,e,t){n._throwIfRoot("uploadBytes");const i=zN(n.storage,n._location,Lw(),new Di(e,!0),t);return n.storage.makeRequestWithTokens(i,wh).then(o=>({metadata:o,ref:n}))}function WN(n){const e={prefixes:[],items:[]};return Fw(n,e).then(()=>e)}async function Fw(n,e,t){const o=await GN(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Fw(n,e,o.nextPageToken)}function GN(n,e){e!=null&&typeof e.maxResults=="number"&&Hf("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=MN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,wh)}function KN(n){n._throwIfRoot("getDownloadURL");const e=FN(n.storage,n._location,Lw());return n.storage.makeRequestWithTokens(e,wh).then(t=>{if(t===null)throw eN();return t})}function QN(n){n._throwIfRoot("deleteObject");const e=UN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,wh)}function XN(n,e){const t=RN(n._location.path,e),i=new en(n._location.bucket,t);return new Os(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){return/^[A-Za-z]+:\/\//.test(n)}function JN(n,e){return new Os(n,e)}function Uw(n,e){if(n instanceof Zp){const t=n;if(t._bucket==null)throw Jx();const i=new Os(t,t._bucket);return e!=null?Uw(i,e):i}else return e!==void 0?XN(n,e):n}function ZN(n,e){if(e&&YN(e)){if(n instanceof Zp)return JN(n,e);throw $f("To use ref(service, url), the first argument must be a Storage instance.")}else return Uw(n,e)}function qy(n,e){const t=e==null?void 0:e[kw];return t==null?null:en.makeFromBucketSpec(t,n)}function e2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:vv(o,n.app.options.projectId))}class Zp{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Aw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bx,this._maxUploadRetryTime=zx,this._requests=new Set,o!=null?this._bucket=en.makeFromBucketSpec(o,this._host):this._bucket=qy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=qy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Os(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new rN(Pw());{const c=pN(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Wy="@firebase/storage",Gy="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="storage";function Vo(n,e,t){return n=ot(n),qN(n,e,t)}function Ac(n){return n=ot(n),WN(n)}function ul(n){return n=ot(n),KN(n)}function nl(n){return n=ot(n),QN(n)}function Sn(n,e){return n=ot(n),ZN(n,e)}function em(n=tp(),e){n=ot(n);const i=Xc(n,jw).getImmediate({identifier:e}),o=gv("storage");return o&&t2(i,...o),i}function t2(n,e,t,i={}){e2(n,e,t,i)}function n2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Zp(t,i,o,e,Vs)}function r2(){Ns(new Ui(jw,n2,"PUBLIC").setMultipleInstances(!0)),Tr(Wy,Gy,""),Tr(Wy,Gy,"esm2017")}r2();const i2="_container_rixh2_3",s2="_form_rixh2_17",o2="_nfcButton_rixh2_47",a2="_scanButton_rixh2_47",l2="_scannerContainer_rixh2_65",u2="_scanner_rixh2_65",c2="_modalOverlay_rixh2_95",h2="_modalContent_rixh2_123",d2="_status_rixh2_147",f2="_statusWarning_rixh2_165",p2="_statusInfo_rixh2_179",m2="_statusSuccess_rixh2_193",g2="_statusError_rixh2_207",_2="_pulse_rixh2_1",y2="_reader_rixh2_293",vr={container:i2,form:s2,nfcButton:o2,scanButton:a2,scannerContainer:l2,scanner:u2,modalOverlay:c2,modalContent:h2,status:d2,statusWarning:f2,statusInfo:p2,statusSuccess:m2,statusError:g2,"animate-pulse":"_animate-pulse_rixh2_245",pulse:_2,reader:y2},v2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Bw=Dl(v2),Ky=sa(Bw),w2=em(Bw),E2=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return vr.statusWarning;case"error":return vr.statusError;case"success":return vr.statusSuccess;default:return vr.statusInfo}};return I.jsx("div",{className:vr.modalOverlay,children:I.jsx("div",{className:vr.modalContent,children:I.jsx("div",{className:`${vr.status} ${i()} ${t?vr["animate-pulse"]:""}`,children:n})})})},T2=()=>{const[n,e]=U.useState({studentName:"",email:"",course:"",campus:"",studentId:""}),[t,i]=U.useState(null),[o,l]=U.useState(!1),[c,d]=U.useState(""),[p,_]=U.useState(null),[v,S]=U.useState("info"),E=U.useRef(null),P=(ne,ae="info")=>{d(ne),S(ae)};U.useEffect(()=>()=>{p&&p.abort()},[p]);const O=ne=>{const ae=ne.target.files[0];i(ae)},j=async()=>{if(!t)return null;d("Uploading selfie...");const ne=n.email.replace(/[@.]/g,"_"),ae=Sn(w2,`users/${ne}/profile/${t.name}`),x=await Vo(ae,t);return await ul(x.ref)},L=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{l(!0),d("Waiting for NFC tag...");const ne=new NDEFReader;return _(ne),await ne.scan(),new Promise((ae,x)=>{const R=async({serialNumber:C})=>{try{if(d("Checking NFC authorization..."),!await W(C)){x(new Error("Unauthorized NFC tag"));return}d("Uploading data...");const M=await j(),b={...n,nfcSerialNumber:C,selfieUrl:M,createdAt:cx()};d("Saving to database...");const k=await Cw(Jr(Ky,"RegisteredStudent"),b);d("Writing to NFC tag...");try{await ne.write({records:[{recordType:"text",data:new TextEncoder().encode(k.id)}]}),d("Verifying NFC write..."),await H(k.id,ne)}catch(We){console.error("NFC Write Error:",We),d("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:k.id}]})}catch(mt){console.error("Fallback NFC Write Error:",mt),d("NFC write failed, but registration saved")}}ne.addEventListener("reading",R,{once:!0}),ae(k.id)}catch(N){ne.removeEventListener("reading",R),x(N)}};ne.addEventListener("reading",R,{once:!0})})}catch(ne){throw P(ne.message,"error"),ne}},H=async(ne,ae)=>new Promise((x,R)=>{const C=setTimeout(()=>{R(new Error("Verification timeout"))},5e3);ae.addEventListener("reading",({message:N})=>{clearTimeout(C),N.records.some(b=>b.recordType==="text"&&new TextDecoder().decode(b.data)===ne)?x():R(new Error("NFC write verification failed"))},{once:!0})}),W=async ne=>{try{const ae=ph(Ky,"Toregistered",ne);return(await Sw(ae)).exists()}catch(ae){return console.error("NFC Authorization Check Error:",ae),!1}},Y=()=>{e({studentName:"",email:"",course:"",campus:"",studentId:""}),i(null),d(""),E.current&&(E.current.value="")},ee=async ne=>{if(ne.preventDefault(),!("NDEFReader"in window)){P("NFC is not supported on this device","warning");return}if(window.confirm("Approach NFC tag to complete registration"))try{const ae=await L();P("Registration completed successfully!","success"),setTimeout(()=>{P(""),Y()},3e3)}catch(ae){console.error("Registration Error:",ae),P(`Registration failed: ${ae.message}`,"error")}finally{l(!1),p&&(p.abort(),_(null))}};return I.jsxs("div",{className:vr.container,children:[I.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&I.jsx(E2,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?v:"warning",isProcessing:o}),I.jsxs("form",{onSubmit:ee,className:vr.form,children:[I.jsx("input",{type:"text",placeholder:"Student Name",value:n.studentName,onChange:ne=>e({...n,studentName:ne.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:ne=>e({...n,email:ne.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:ne=>e({...n,course:ne.target.value}),required:!0,disabled:o}),I.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:ne=>e({...n,studentId:ne.target.value}),required:!0,disabled:o}),I.jsxs("select",{value:n.campus,onChange:ne=>e({...n,campus:ne.target.value}),required:!0,disabled:o,children:[I.jsx("option",{value:"",children:"Select Campus"}),I.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),I.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),I.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),I.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),I.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),I.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),I.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),I.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),t?I.jsxs("p",{children:["Selfie Captured: ",t.name]}):I.jsxs(I.Fragment,{children:[I.jsx("input",{type:"file",ref:E,onChange:O,accept:"image/*",capture:"user",style:{display:"none"},disabled:o}),I.jsx("button",{type:"button",onClick:()=>E.current.click(),className:Cn.buttons,disabled:o,children:"Take Profile Picture"})]}),I.jsx("button",{type:"submit",className:`${Cn.buttons} ${o?"animate-pulse":""}`,disabled:!n.studentId||!t||o||!("NDEFReader"in window),children:o?"Processing...":"Complete Registration with NFC"})]})]})},I2="_container_avr77_1",S2="_status_avr77_33",R2="_reading_avr77_51",C2="_pulse_avr77_1",A2="_error_avr77_59",k2="_studentInfo_avr77_77",P2="_infoGrid_avr77_107",x2="_infoRow_avr77_117",N2="_selfie_avr77_149",D2="_controls_avr77_171",b2="_button_avr77_185",O2="_readButton_avr77_213",L2="_resetButton_avr77_231",Tn={container:I2,status:S2,reading:R2,pulse:C2,error:A2,studentInfo:k2,infoGrid:P2,infoRow:x2,selfie:N2,controls:D2,button:b2,readButton:O2,resetButton:L2},V2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},M2=Dl(V2),F2=sa(M2),U2=()=>{const[n,e]=U.useState(null),[t,i]=U.useState(""),[o,l]=U.useState(!1),[c,d]=U.useState(null),p=async()=>{try{l(!0),i("Waiting for NFC card..."),d(null);const v=new NDEFReader;await v.scan(),v.addEventListener("reading",async({message:S})=>{try{const E=S.records.find(L=>L.recordType==="text");if(!E)throw new Error("Invalid NFC card: No student data found");const P=new TextDecoder().decode(E.data);i("Retrieving student data...");const O=ph(F2,"RegisteredStudent",P),j=await Sw(O);if(j.exists()){const L=j.data();e(L),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(E){d(E.message),e(null)}finally{l(!1),v.stop()}})}catch(v){d(v.message),l(!1)}},_=()=>{e(null),i(""),d(null),l(!1)};return I.jsxs("div",{className:Tn.container,children:[I.jsx("h1",{children:"Student NFC Reader"}),t&&I.jsx("div",{className:`${Tn.status} ${o?Tn.reading:""}`,children:t}),c&&I.jsx("div",{className:Tn.error,children:c}),n&&I.jsxs("div",{className:Tn.studentInfo,children:[I.jsx("h2",{children:"Student Information"}),I.jsxs("div",{className:Tn.infoGrid,children:[I.jsxs("div",{className:Tn.infoRow,children:[I.jsx("span",{children:"Name:"}),I.jsx("span",{children:n.studentName})]}),I.jsxs("div",{className:Tn.infoRow,children:[I.jsx("span",{children:"Student ID:"}),I.jsx("span",{children:n.studentId})]}),I.jsxs("div",{className:Tn.infoRow,children:[I.jsx("span",{children:"Email:"}),I.jsx("span",{children:n.email})]}),I.jsxs("div",{className:Tn.infoRow,children:[I.jsx("span",{children:"Course:"}),I.jsx("span",{children:n.course})]}),I.jsxs("div",{className:Tn.infoRow,children:[I.jsx("span",{children:"Campus:"}),I.jsx("span",{children:n.campus})]}),n.selfieUrl&&I.jsx("div",{className:Tn.selfie,children:I.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),I.jsxs("div",{className:Tn.controls,children:[I.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Cn.buttons} ${Cn.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&I.jsx("button",{onClick:_,className:`${Cn.buttons} ${Cn.buttons}`,children:"Clear & Scan New Card"})]})]})},j2="_login_container_158dy_9",B2="_login_card_158dy_31",z2="_login_title_158dy_49",$2="_login_form_158dy_67",H2="_form_group_158dy_79",q2="_login_input_158dy_89",W2="_login_button_158dy_121",G2="_error_message_158dy_167",K2="_divider_158dy_185",Q2="_google_button_158dy_233",X2="_google_icon_158dy_285",In={login_container:j2,login_card:B2,login_title:z2,login_form:$2,form_group:H2,login_input:q2,login_button:W2,error_message:G2,divider:K2,google_button:Q2,google_icon:X2},Y2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},J2=Dl(Y2),Z2=new Wr,pc=Mc(),mf=sa(J2),eD=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[o,l]=U.useState(""),[c,d]=U.useState(!1),p=Yo(),_=async E=>{try{const P=As(Jr(mf,"RegisteredAdmin"),ks("email","==",E));if(!(await Ps(P)).empty)return"admin";const j=As(Jr(mf,"RegisteredTeacher"),ks("email","==",E));if(!(await Ps(j)).empty)return"teacher";const H=As(Jr(mf,"RegisteredStudent"),ks("email","==",E));return(await Ps(H)).empty?null:"student"}catch(P){return console.error("Error checking user role:",P),null}},v=async E=>{E.preventDefault(),d(!0),l("");try{const P=await jR(pc,n,t),O=await _(P.user.email);O?(localStorage.setItem("userRole",O),p("/dashboard")):(await Rf(pc),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(P){l(P.message)}finally{d(!1)}},S=async()=>{d(!0),l("");try{const E=await lC(pc,Z2),P=await _(E.user.email);P?(localStorage.setItem("userRole",P),p("/dashboard")):(await Rf(pc),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(E){l(E.message)}finally{d(!1)}};return I.jsx("div",{className:In.login_container,children:I.jsxs("div",{className:In.login_card,children:[I.jsx("h1",{className:In.login_title,children:"Login"}),I.jsxs("form",{onSubmit:v,className:In.login_form,children:[I.jsx("div",{className:In.form_group,children:I.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:E=>e(E.target.value),required:!0,className:In.login_input})}),I.jsx("div",{className:In.form_group,children:I.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:E=>i(E.target.value),required:!0,className:In.login_input})}),o&&I.jsx("div",{className:In.error_message,children:o}),I.jsx("button",{type:"submit",className:In.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),I.jsx("div",{className:In.divider,children:I.jsx("span",{children:"Or continue with"})}),I.jsxs("button",{type:"button",onClick:S,disabled:c,className:In.google_button,children:[I.jsx("svg",{className:In.google_icon,viewBox:"0 0 24 24",children:I.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},tD="_event_list_container_15dvt_1",nD="_events_grid_15dvt_23",rD="_event_card_15dvt_33",iD="_card_header_15dvt_49",sD="_card_basic_info_15dvt_69",oD="_card_details_15dvt_93",aD="_event_info_15dvt_101",lD="_table_container_15dvt_125",uD="_action_buttons_15dvt_169",cD="_edit_btn_15dvt_179",hD="_delete_btn_15dvt_179",_r={event_list_container:tD,events_grid:nD,event_card:rD,card_header:iD,card_basic_info:sD,card_details:oD,event_info:aD,table_container:lD,action_buttons:uD,edit_btn:cD,delete_btn:hD},dD=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(null),o=Yo(),l=sa(),c=Mc();U.useEffect(()=>{d()},[]);const d=async()=>{try{const E=c.currentUser;if(!E)return;const P=Jr(l,"PendingEvent"),O=As(P,ks("createdBy","==",E.email)),L=(await Ps(O)).docs.map(H=>({id:H.id,...H.data()}));e(L)}catch(E){console.error("Error fetching events:",E)}},p=E=>E?E.toDate?E.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(E).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=E=>{o(`/dashboard/edit-event/${E}`)},v=async E=>{if(window.confirm("Are you sure you want to delete this event?"))try{await lx(ph(l,"events",E)),d()}catch(P){console.error("Error deleting event:",P)}},S=E=>{i(t===E?null:E)};return I.jsxs("div",{className:_r.event_list_container,children:[I.jsx("h2",{children:"Event List"}),I.jsx("div",{className:_r.events_grid,children:n.map(E=>{var P;return I.jsxs("div",{className:`${_r.event_card} ${t===E.id?"expanded":""}`,children:[I.jsxs("div",{className:_r.card_header,onClick:()=>S(E.id),children:[I.jsxs("div",{className:_r.card_basic_info,children:[I.jsx("h3",{children:E.eventName}),I.jsxs("p",{children:["ID: ",E.id]}),I.jsxs("p",{children:["Created: ",p(E.createdAt)]})]}),t===E.id?I.jsx(JI,{}):I.jsx(YI,{})]}),t===E.id&&I.jsxs("div",{className:_r.card_details,children:[I.jsxs("div",{className:_r.event_info,children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Location:"})," ",E.locations]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Description:"})," ",E.description]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Start Time:"})," ",E.startTime]}),I.jsxs("p",{children:[I.jsx("strong",{children:"End Time:"})," ",E.endTime]})]}),I.jsx("div",{className:_r.table_container,children:I.jsxs("table",{children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"STUDENT ID"}),I.jsx("th",{children:"STUDENT NAME"}),I.jsx("th",{children:"COURSE"}),I.jsx("th",{children:"CAMPUS"}),I.jsx("th",{children:"DATE"}),I.jsx("th",{children:"ACTIONS"})]})}),I.jsx("tbody",{children:(P=E.attendees)==null?void 0:P.map((O,j)=>I.jsxs("tr",{children:[I.jsx("td",{children:O.studentId}),I.jsx("td",{children:O.name}),I.jsx("td",{children:O.course}),I.jsx("td",{children:O.campus}),I.jsx("td",{children:p(O.dateAttended)}),I.jsxs("td",{className:"action-buttons",children:[I.jsx("button",{onClick:()=>_(E.id),className:_r.edit_btn,children:I.jsx(a1,{size:16})}),I.jsx("button",{onClick:()=>v(E.id),className:_r.delete_btn,children:I.jsx(l1,{size:16})})]})]},j))})]})})]})]},E.id)})})]})},fD="_fileManager_c4lw2_5",pD="_header_c4lw2_17",mD="_actions_c4lw2_45",gD="_navigation_c4lw2_55",_D="_backButton_c4lw2_77",yD="_currentPath_c4lw2_109",vD="_content_c4lw2_121",wD="_item_c4lw2_141",ED="_itemContent_c4lw2_171",TD="_actionButton_c4lw2_195",ID="_dropdownMenu_c4lw2_229",SD="_deleteButton_c4lw2_283",RD="_modal_c4lw2_301",CD="_modalContent_c4lw2_327",AD="_modalHeader_c4lw2_351",kD="_closeButton_c4lw2_379",PD="_modalNavigation_c4lw2_405",xD="_folderList_c4lw2_423",ND="_folderItem_c4lw2_443",DD="_folderContent_c4lw2_473",bD="_modalActions_c4lw2_485",OD="_cancelButton_c4lw2_503",LD="_authContainer_c4lw2_521",VD="_authMethods_c4lw2_539",MD="_passwordAuth_c4lw2_553",FD="_passwordInput_c4lw2_563",UD="_nfcAuth_c4lw2_579",jD="_error_c4lw2_587",$e={fileManager:fD,header:pD,actions:mD,navigation:gD,backButton:_D,currentPath:yD,content:vD,item:wD,itemContent:ED,actionButton:TD,dropdownMenu:ID,deleteButton:SD,modal:RD,modalContent:CD,modalHeader:AD,closeButton:kD,modalNavigation:PD,folderList:xD,folderItem:ND,folderContent:DD,modalActions:bD,cancelButton:OD,authContainer:LD,authMethods:VD,passwordAuth:MD,passwordInput:FD,nfcAuth:UD,error:jD},BD=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:l})=>{const c=U.useRef(null);return U.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),n?I.jsxs("div",{className:$e.dropdownMenu,ref:c,children:[I.jsx("button",{onClick:t,children:"Move"}),I.jsx("button",{onClick:i,children:"Copy"}),I.jsx("button",{onClick:l,children:"Rename"}),I.jsx("button",{onClick:o,className:$e.deleteButton,children:"Delete"})]}):null},zD=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:l,onSelect:c})=>{const[d,p]=U.useState([]),[_,v]=U.useState(""),S=em(),[E,P]=U.useState(null);U.useEffect(()=>{if(n){const H=`users/${i.email.replace("@","_").replace(".","_")}`;v(H),O(H)}},[n,i]);const O=async H=>{try{const W=Sn(S,H),ee=(await Ac(W)).prefixes.map(ne=>({name:ne.name,fullPath:`${H}/${ne.name}`}));p(ee)}catch(W){console.error("Error listing folders:",W)}},j=H=>{E&&P(E),v(H),O(H)},L=()=>{const H=`users/${i.email.replace("@","_").replace(".","_")}`,W=_.split("/").slice(0,-1).join("/");W.startsWith(H)&&(v(W),O(W))};return n?I.jsx("div",{className:$e.modal,children:I.jsxs("div",{className:$e.modalContent,children:[I.jsxs("div",{className:$e.modalHeader,children:[I.jsx("h3",{children:"Select Destination Folder"}),I.jsx("button",{onClick:e,className:$e.closeButton,children:I.jsx(hv,{size:20})})]}),I.jsxs("div",{className:$e.modalNavigation,children:[I.jsxs("button",{onClick:L,className:$e.backButton,children:[I.jsx(uv,{size:20}),"Back"]}),I.jsx("span",{className:$e.currentPath,children:_})]}),I.jsx("div",{className:$e.folderList,children:d.map(H=>I.jsx("div",{className:$e.folderItem,children:I.jsxs("div",{className:$e.folderContent,onClick:()=>j(H.fullPath),children:[I.jsx(cv,{size:24}),I.jsx("span",{children:H.name})]})},H.fullPath))}),I.jsxs("div",{className:$e.modalActions,children:[I.jsx("button",{onClick:()=>{c(_)},className:Cn.buttons,children:"Select This Folder"}),I.jsx("button",{onClick:e,className:`${Cn.buttons} ${$e.cancelButton}`,children:"Cancel"})]})]})}):null},$D=()=>{var Fe;const[n,e]=U.useState(!1),[t,i]=U.useState(""),[o,l]=U.useState(""),[c,d]=U.useState(""),[p,_]=U.useState([]),[v,S]=U.useState([]),[E,P]=U.useState(!1),O=sr();Yo();const j=em(),[L,H]=U.useState(null),[W,Y]=U.useState({x:0,y:0}),ee=(Fe=O.state)==null?void 0:Fe.userData,[ne,ae]=U.useState(!1),[x,R]=U.useState(null),[C,N]=U.useState(null);U.useEffect(()=>{"NDEFReader"in window&&P(!0)},[]),U.useEffect(()=>{if(n&&ee){const re=`users/${ee.email.replace("@","_").replace(".","_")}`;d(re),k(re)}},[n,ee]);const M=()=>{t===(ee==null?void 0:ee.upass)?(e(!0),l("")):l("Invalid password")},b=async()=>{try{const re=new NDEFReader;await re.scan(),re.addEventListener("reading",({serialNumber:ue})=>{ue===(ee==null?void 0:ee.currentnfcId)?(e(!0),l("")):l("Invalid NFC card")})}catch(re){l("Error reading NFC: "+re.message)}},k=async re=>{try{const ue=Sn(j,re),Re=await Ac(ue),Qe=Re.items.map(async tn=>{const kr=await ul(tn);return{name:tn.name,url:kr,type:"file"}}),pn=Re.prefixes.map(tn=>({name:tn.name,type:"folder"})),ht=await Promise.all(Qe);_(ht),S(pn)}catch(ue){console.error("Error listing files:",ue)}},We=async re=>{const ue=re.target.files[0];if(ue)try{const Re=Sn(j,`${c}/${ue.name}`);await Vo(Re,ue),await k(c)}catch(Re){console.error("Error uploading file:",Re)}},mt=async()=>{const re=prompt("Enter folder name:");if(!re)return;const ue=Sn(j,`${c}/${re}/.placeholder`),Re=new Blob([""],{type:"text/plain"});await Vo(ue,Re),await k(c)},kt=re=>{const ue=`${c}/${re}`;d(ue),k(ue)},He=()=>{const re=c.split("/").slice(0,-1).join("/");re.startsWith(`users/${ee.email.replace("@","_").replace(".","_")}`)&&(d(re),k(re))};if(!n)return I.jsxs("div",{className:$e.authContainer,children:[I.jsx("h2",{children:"Authentication Required"}),I.jsxs("div",{className:$e.authMethods,children:[I.jsxs("div",{className:$e.passwordAuth,children:[I.jsx("input",{type:"password",value:t,onChange:re=>i(re.target.value),placeholder:"Enter password",className:$e.passwordInput}),I.jsx("button",{onClick:M,className:Cn.buttons,children:"Submit"})]}),E&&I.jsx("div",{className:$e.nfcAuth,children:I.jsx("button",{onClick:b,className:Cn.buttons,children:"Authenticate with NFC"})})]}),o&&I.jsx("p",{className:$e.error,children:o})]});const oe=(re,ue)=>{re.preventDefault(),re.stopPropagation();const Re=re.currentTarget.getBoundingClientRect();Y({x:Re.left,y:Re.bottom}),H(ue),N(ue)},ye=async()=>{if(!C){alert("Please select an item to move"),console.log(C);return}R("move"),ae(!0)},le=async()=>{if(!C){alert("Please select an item to copy"),console.log(C);return}R("copy"),ae(!0)},F=async()=>{if(L)try{const re=`${c}/${L.name}`,ue=Sn(j,re);L.type==="file"?await nl(ue):await K(re),await k(c)}catch(re){console.error("Error deleting item:",re),alert(`Failed to delete ${L.name}. ${re.message}`)}},K=async re=>{try{const ue=Sn(j,re),Re=await Ac(ue);for(const Qe of Re.items)await nl(Qe);for(const Qe of Re.prefixes)await K(`${re}/${Qe.name}`)}catch(ue){throw console.error("Error deleting folder:",ue),ue}},_e=async()=>{if(!L)return;const re=prompt("Enter new name:",L.name);if(!(!re||re===L.name))try{const ue=Sn(j,`${c}/${L.name}`),Re=Sn(j,`${c}/${re}`);if(L.type==="file"){const Qe=await ul(ue),ht=await(await fetch(Qe)).blob();await Vo(Re,ht),await nl(ue)}await k(c)}catch(ue){console.error("Error renaming item:",ue)}},ke=async re=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:C,currentPath:c,destinationPath:re,operation:x}),!C){console.error("No item selected"),alert("Please select an item to move or copy"),ae(!1);return}try{const ue=Sn(j,`${c}/${C.name}`),Re=Sn(j,`${re}/${C.name}`);if(C.type==="file"){const Qe=await ul(ue),ht=await(await fetch(Qe)).blob();await Vo(Re,ht),x==="move"&&await nl(ue)}else await Pe(`${c}/${C.name}`,`${re}/${C.name}`,x==="move");ae(!1),R(null),await k(c)}catch(ue){console.error(`Error ${x}ing item:`,ue),alert(`Failed to ${x} item: ${ue.message}`),ae(!1),R(null)}},Pe=async(re,ue,Re=!1)=>{try{const Qe=Sn(j,re),pn=await Ac(Qe);for(const ht of pn.items){const tn=await ul(ht),Ki=await(await fetch(tn)).blob(),Qi=Sn(j,`${ue}/${ht.name}`);await Vo(Qi,Ki),Re&&await nl(ht)}for(const ht of pn.prefixes)await Pe(`${re}/${ht.name}`,`${ue}/${ht.name}`,Re)}catch(Qe){throw console.error("Error copying folder:",Qe),Qe}},be=(re,ue)=>I.jsxs("div",{className:$e.item,onClick:Re=>{Re.target.closest(`.${$e.actionButton}`)||Re.target.closest(`.${$e.dropdownMenu}`)||(ue==="folder"?kt(re.name):window.open(re.url,"_blank"))},children:[I.jsxs("div",{className:$e.itemContent,children:[ue==="folder"?I.jsx(cv,{size:24}):I.jsx(t1,{size:24}),I.jsx("span",{children:re.name})]}),I.jsx("button",{className:$e.actionButton,onClick:Re=>{Re.stopPropagation();const Qe={...re,type:ue};oe(Re,Qe)},children:I.jsx(e1,{size:16})}),(L==null?void 0:L.name)===re.name&&I.jsx(BD,{isOpen:!0,onClose:()=>{H(null)},onMove:ye,onCopy:le,onDelete:F,onRename:_e})]},`${ue}-${re.name}`);return I.jsxs("div",{className:$e.fileManager,children:[I.jsxs("div",{className:$e.header,children:[I.jsx("h2",{children:"File Manager"}),I.jsxs("div",{className:$e.actions,children:[c===`users/${ee.email.replace("@","_").replace(".","_")}`&&I.jsxs("button",{onClick:mt,className:Cn.buttons,children:[I.jsx(r1,{size:20}),"New Folder"]}),I.jsxs("label",{className:Cn.buttons,children:[I.jsx(u1,{size:20}),"Upload File",I.jsx("input",{type:"file",onChange:We,style:{display:"none"}})]})]})]}),I.jsxs("div",{className:$e.navigation,children:[I.jsxs("button",{onClick:He,className:$e.backButton,children:[I.jsx(uv,{size:20}),"Back"]}),I.jsx("span",{className:$e.currentPath,children:c})]}),I.jsxs("div",{className:$e.content,children:[v.map(re=>be(re,"folder")),p.map(re=>be(re,"file"))]}),I.jsx(zD,{isOpen:ne,onClose:()=>{ae(!1),R(null)},currentPath:c,userData:ee,selectedItem:C,operation:x,onSelect:ke})]})};function HD(){return I.jsx(gI,{children:I.jsxs(WT,{children:[I.jsx(yr,{path:"/",element:I.jsx(E_,{to:"/login",replace:!0})}),I.jsx(yr,{path:"/login",element:I.jsx(eD,{})}),I.jsxs(yr,{path:"/dashboard/*",element:I.jsx(fx,{}),children:[I.jsx(yr,{path:"create-event",element:I.jsx(jx,{})}),I.jsx(yr,{path:"student-registration",element:I.jsx(T2,{})}),I.jsx(yr,{path:"nfc-reader",element:I.jsx(U2,{})}),I.jsx(yr,{path:"event-list",element:I.jsx(dD,{})}),I.jsx(yr,{path:"file-manager",element:I.jsx($D,{})})]}),I.jsx(yr,{path:"*",element:I.jsx(E_,{to:"/login",replace:!0})})]})})}const qD=document.getElementById("root"),WD=ZE.createRoot(qD);WD.render(I.jsx(HD,{}));
