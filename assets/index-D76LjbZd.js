(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var _f={exports:{}},_l={},yf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function LT(){if(D_)return Oe;D_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=I&&B[I]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function P(B,Y,ve){this.props=B,this.context=Y,this.refs=D,this.updater=ve||b}P.prototype.isReactComponent={},P.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=P.prototype;function O(B,Y,ve){this.props=B,this.context=Y,this.refs=D,this.updater=ve||b}var G=O.prototype=new V;G.constructor=O,A(G,P.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,ue=Object.prototype.hasOwnProperty,ee={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(B,Y,ve){var Ne,be={},Me=null,Be=null;if(Y!=null)for(Ne in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)ue.call(Y,Ne)&&!x.hasOwnProperty(Ne)&&(be[Ne]=Y[Ne]);var re=arguments.length-2;if(re===1)be.children=ve;else if(1<re){for(var ce=Array(re),ke=0;ke<re;ke++)ce[ke]=arguments[ke+2];be.children=ce}if(B&&B.defaultProps)for(Ne in re=B.defaultProps,re)be[Ne]===void 0&&(be[Ne]=re[Ne]);return{$$typeof:n,type:B,key:Me,ref:Be,props:be,_owner:ee.current}}function k(B,Y){return{$$typeof:n,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function j(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ve){return Y[ve]})}var F=/\/+/g;function T(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):Y.toString(36)}function oe(B,Y,ve,Ne,be){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(Me){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case n:case e:Be=!0}}if(Be)return Be=B,be=be(Be),B=Ne===""?"."+T(Be,0):Ne,Q(be)?(ve="",B!=null&&(ve=B.replace(F,"$&/")+"/"),oe(be,Y,ve,"",function(ke){return ke})):be!=null&&(L(be)&&(be=k(be,ve+(!be.key||Be&&Be.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+B)),Y.push(be)),1;if(Be=0,Ne=Ne===""?".":Ne+":",Q(B))for(var re=0;re<B.length;re++){Me=B[re];var ce=Ne+T(Me,re);Be+=oe(Me,Y,ve,ce,be)}else if(ce=S(B),typeof ce=="function")for(B=ce.call(B),re=0;!(Me=B.next()).done;)Me=Me.value,ce=Ne+T(Me,re++),Be+=oe(Me,Y,ve,ce,be);else if(Me==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ve(B,Y,ve){if(B==null)return B;var Ne=[],be=0;return oe(B,Ne,"","",function(Me){return Y.call(ve,Me,be++)}),Ne}function Pe(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ve){(B._status===0||B._status===-1)&&(B._status=1,B._result=ve)},function(ve){(B._status===0||B._status===-1)&&(B._status=2,B._result=ve)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var De={current:null},se={transition:null},me={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:se,ReactCurrentOwner:ee};function le(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ve,forEach:function(B,Y,ve){Ve(B,function(){Y.apply(this,arguments)},ve)},count:function(B){var Y=0;return Ve(B,function(){Y++}),Y},toArray:function(B){return Ve(B,function(Y){return Y})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Oe.Component=P,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=O,Oe.StrictMode=i,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Oe.act=le,Oe.cloneElement=function(B,Y,ve){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ne=A({},B.props),be=B.key,Me=B.ref,Be=B._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,Be=ee.current),Y.key!==void 0&&(be=""+Y.key),B.type&&B.type.defaultProps)var re=B.type.defaultProps;for(ce in Y)ue.call(Y,ce)&&!x.hasOwnProperty(ce)&&(Ne[ce]=Y[ce]===void 0&&re!==void 0?re[ce]:Y[ce])}var ce=arguments.length-2;if(ce===1)Ne.children=ve;else if(1<ce){re=Array(ce);for(var ke=0;ke<ce;ke++)re[ke]=arguments[ke+2];Ne.children=re}return{$$typeof:n,type:B.type,key:be,ref:Me,props:Ne,_owner:Be}},Oe.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Oe.createElement=R,Oe.createFactory=function(B){var Y=R.bind(null,B);return Y.type=B,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(B){return{$$typeof:h,render:B}},Oe.isValidElement=L,Oe.lazy=function(B){return{$$typeof:w,_payload:{_status:-1,_result:B},_init:Pe}},Oe.memo=function(B,Y){return{$$typeof:_,type:B,compare:Y===void 0?null:Y}},Oe.startTransition=function(B){var Y=se.transition;se.transition={};try{B()}finally{se.transition=Y}},Oe.unstable_act=le,Oe.useCallback=function(B,Y){return De.current.useCallback(B,Y)},Oe.useContext=function(B){return De.current.useContext(B)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(B){return De.current.useDeferredValue(B)},Oe.useEffect=function(B,Y){return De.current.useEffect(B,Y)},Oe.useId=function(){return De.current.useId()},Oe.useImperativeHandle=function(B,Y,ve){return De.current.useImperativeHandle(B,Y,ve)},Oe.useInsertionEffect=function(B,Y){return De.current.useInsertionEffect(B,Y)},Oe.useLayoutEffect=function(B,Y){return De.current.useLayoutEffect(B,Y)},Oe.useMemo=function(B,Y){return De.current.useMemo(B,Y)},Oe.useReducer=function(B,Y,ve){return De.current.useReducer(B,Y,ve)},Oe.useRef=function(B){return De.current.useRef(B)},Oe.useState=function(B){return De.current.useState(B)},Oe.useSyncExternalStore=function(B,Y,ve){return De.current.useSyncExternalStore(B,Y,ve)},Oe.useTransition=function(){return De.current.useTransition()},Oe.version="18.3.1",Oe}var L_;function fp(){return L_||(L_=1,yf.exports=LT()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function OT(){if(O_)return _l;O_=1;var n=fp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,_){var w,I={},S=null,b=null;_!==void 0&&(S=""+_),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(I[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)I[w]===void 0&&(I[w]=p[w]);return{$$typeof:e,type:h,key:S,ref:b,props:I,_owner:o.current}}return _l.Fragment=t,_l.jsx=c,_l.jsxs=c,_l}var M_;function MT(){return M_||(M_=1,_f.exports=OT()),_f.exports}var y=MT(),M=fp(),kc={},vf={exports:{}},yn={},wf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function VT(){return V_||(V_=1,function(n){function e(se,me){var le=se.length;se.push(me);e:for(;0<le;){var B=le-1>>>1,Y=se[B];if(0<o(Y,me))se[B]=me,se[le]=Y,le=B;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var me=se[0],le=se.pop();if(le!==me){se[0]=le;e:for(var B=0,Y=se.length,ve=Y>>>1;B<ve;){var Ne=2*(B+1)-1,be=se[Ne],Me=Ne+1,Be=se[Me];if(0>o(be,le))Me<Y&&0>o(Be,be)?(se[B]=Be,se[Me]=le,B=Me):(se[B]=be,se[Ne]=le,B=Ne);else if(Me<Y&&0>o(Be,le))se[B]=Be,se[Me]=le,B=Me;else break e}}return me}function o(se,me){var le=se.sortIndex-me.sortIndex;return le!==0?le:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],_=[],w=1,I=null,S=3,b=!1,A=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var me=t(_);me!==null;){if(me.callback===null)i(_);else if(me.startTime<=se)i(_),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(_)}}function Q(se){if(D=!1,G(se),!A)if(t(p)!==null)A=!0,Pe(ue);else{var me=t(_);me!==null&&De(Q,me.startTime-se)}}function ue(se,me){A=!1,D&&(D=!1,V(R),R=-1),b=!0;var le=S;try{for(G(me),I=t(p);I!==null&&(!(I.expirationTime>me)||se&&!j());){var B=I.callback;if(typeof B=="function"){I.callback=null,S=I.priorityLevel;var Y=B(I.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(p)&&i(p),G(me)}else i(p);I=t(p)}if(I!==null)var ve=!0;else{var Ne=t(_);Ne!==null&&De(Q,Ne.startTime-me),ve=!1}return ve}finally{I=null,S=le,b=!1}}var ee=!1,x=null,R=-1,k=5,L=-1;function j(){return!(n.unstable_now()-L<k)}function F(){if(x!==null){var se=n.unstable_now();L=se;var me=!0;try{me=x(!0,se)}finally{me?T():(ee=!1,x=null)}}else ee=!1}var T;if(typeof O=="function")T=function(){O(F)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ve=oe.port2;oe.port1.onmessage=F,T=function(){Ve.postMessage(null)}}else T=function(){P(F,0)};function Pe(se){x=se,ee||(ee=!0,T())}function De(se,me){R=P(function(){se(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){A||b||(A=!0,Pe(ue))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var le=S;S=me;try{return se()}finally{S=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=S;S=se;try{return me()}finally{S=le}},n.unstable_scheduleCallback=function(se,me,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:w++,callback:me,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>B?(se.sortIndex=le,e(_,se),t(p)===null&&se===t(_)&&(D?(V(R),R=-1):D=!0,De(Q,le-B))):(se.sortIndex=Y,e(p,se),A||b||(A=!0,Pe(ue))),se},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(se){var me=S;return function(){var le=S;S=me;try{return se.apply(this,arguments)}finally{S=le}}}}(Ef)),Ef}var F_;function FT(){return F_||(F_=1,wf.exports=VT()),wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function jT(){if(j_)return yn;j_=1;var n=fp(),e=FT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function S(r){return p.call(I,r)?!0:p.call(w,r)?!1:_.test(r)?I[r]=!0:(w[r]=!0,!1)}function b(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,s,l,d){if(s===null||typeof s>"u"||b(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(r,s,l,d,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];P[s]=new D(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function O(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(V,O);P[s]=new D(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(V,O);P[s]=new D(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(V,O);P[s]=new D(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,d){var f=P.hasOwnProperty(s)?P[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,f,d)&&(l=null),d||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),ee=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,B;function Y(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var ve=!1;function Ne(r,s){if(!r||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){d=H}r.call(s.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=d.stack.split(`
`),E=f.length-1,N=g.length-1;1<=E&&0<=N&&f[E]!==g[N];)N--;for(;1<=E&&0<=N;E--,N--)if(f[E]!==g[N]){if(E!==1||N!==1)do if(E--,N--,0>N||f[E]!==g[N]){var U=`
`+f[E].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=E&&0<=N);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function be(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ee:return"Portal";case k:return"Profiler";case R:return"StrictMode";case T:return"Suspense";case oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ve:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case Pe:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=ce(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ze(r){r._valueTracker||(r._valueTracker=ke(r))}function In(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=ce(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function yt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Kt(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function jr(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=re(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function hs(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function fs(r,s){hs(r,s);var l=re(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?so(r,s.type,l):s.hasOwnProperty("defaultValue")&&so(r,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function hu(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function so(r,s,l){(s!=="number"||yt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ur=Array.isArray;function $r(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+re(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ca(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function oo(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ur(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:re(l)}}function ao(r,s){var l=re(s.value),d=re(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ra(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Rt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Rt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Br,ka=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function vi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ms=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(r){ms.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ps[s]=ps[r]})});function Aa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ps.hasOwnProperty(r)&&ps[r]?(""+s).trim():s+"px"}function xa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=Aa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var Pa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(r,s){if(s){if(Pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ba(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,On=null,vr=null;function co(r){if(r=nl(r)){if(typeof uo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Bu(s),uo(r.stateNode,r.type,s))}}function wr(r){On?vr?vr.push(r):vr=[r]:On=r}function Da(){if(On){var r=On,s=vr;if(vr=On=null,co(r),s)for(r=0;r<s.length;r++)co(s[r])}}function _s(r,s){return r(s)}function La(){}var zr=!1;function Oa(r,s,l){if(zr)return r(s,l);zr=!0;try{return _s(r,s,l)}finally{zr=!1,(On!==null||vr!==null)&&(La(),Da())}}function vt(r,s){var l=r.stateNode;if(l===null)return null;var d=Bu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ho=!1;if(h)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{ho=!1}function ys(r,s,l,d,f,g,E,N,U){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(te){this.onError(te)}}var vs=!1,fo=null,Yn=!1,Ma=null,qd={onError:function(r){vs=!0,fo=r}};function po(r,s,l,d,f,g,E,N,U){vs=!1,fo=null,ys.apply(qd,arguments)}function fu(r,s,l,d,f,g,E,N,U){if(po.apply(this,arguments),vs){if(vs){var H=fo;vs=!1,fo=null}else throw Error(t(198));Yn||(Yn=!0,Ma=H)}}function Xn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ws(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Jn(r){if(Xn(r)!==r)throw Error(t(188))}function pu(r){var s=r.alternate;if(!s){if(s=Xn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Jn(f),r;if(g===d)return Jn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var E=!1,N=f.child;N;){if(N===l){E=!0,l=f,d=g;break}if(N===d){E=!0,d=f,l=g;break}N=N.sibling}if(!E){for(N=g.child;N;){if(N===l){E=!0,l=g,d=f;break}if(N===d){E=!0,d=g,l=f;break}N=N.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Va(r){return r=pu(r),r!==null?mo(r):null}function mo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=mo(r);if(s!==null)return s;r=r.sibling}return null}var go=e.unstable_scheduleCallback,Fa=e.unstable_cancelCallback,mu=e.unstable_shouldYield,Wd=e.unstable_requestPaint,et=e.unstable_now,gu=e.unstable_getCurrentPriorityLevel,Es=e.unstable_ImmediatePriority,wi=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,_u=e.unstable_IdlePriority,Ts=null,Sn=null;function yu(r){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ts,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:wu,Ua=Math.log,vu=Math.LN2;function wu(r){return r>>>=0,r===0?32:31-(Ua(r)/vu|0)|0}var _o=64,yo=4194304;function Ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Is(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var N=E&~f;N!==0?d=Ei(N):(g&=E,g!==0&&(d=Ei(g)))}else E=l&~f,E!==0?d=Ei(E):g!==0&&(d=Ei(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-rn(s),f=1<<l,d|=r[l],s&=~f;return d}function Hd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-rn(g),N=1<<E,U=f[E];U===-1?(!(N&l)||N&d)&&(f[E]=Hd(N,s)):U<=s&&(r.expiredLanes|=N),g&=~N}}function Cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ss(){var r=_o;return _o<<=1,!(_o&4194240)&&(_o=64),r}function Ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ii(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-rn(s),r[s]=l}function Je(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-rn(l),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Si(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-rn(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var Ue=0;function Ci(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Eu,vo,Tu,Iu,Su,$a=!1,Er=[],Ft=null,Zn=null,er=null,Ri=new Map,Vn=new Map,Tr=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cu(r,s){switch(r){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ri.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(s.pointerId)}}function dn(r,s,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=nl(s),s!==null&&vo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Kd(r,s,l,d,f){switch(s){case"focusin":return Ft=dn(Ft,r,s,l,d,f),!0;case"dragenter":return Zn=dn(Zn,r,s,l,d,f),!0;case"mouseover":return er=dn(er,r,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return Ri.set(g,dn(Ri.get(g)||null,r,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Vn.set(g,dn(Vn.get(g)||null,r,s,l,d,f)),!0}return!1}function Ru(r){var s=xs(r.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=ws(l),s!==null){r.blockedOn=s,Su(r.priority,function(){Tu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=wo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);gs=d,l.target.dispatchEvent(d),gs=null}else return s=nl(l),s!==null&&vo(s),r.blockedOn=l,!1;s.shift()}return!0}function Cs(r,s,l){Wr(r)&&l.delete(s)}function ku(){$a=!1,Ft!==null&&Wr(Ft)&&(Ft=null),Zn!==null&&Wr(Zn)&&(Zn=null),er!==null&&Wr(er)&&(er=null),Ri.forEach(Cs),Vn.forEach(Cs)}function tr(r,s){r.blockedOn===s&&(r.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ku)))}function nr(r){function s(f){return tr(f,r)}if(0<Er.length){tr(Er[0],r);for(var l=1;l<Er.length;l++){var d=Er[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Ft!==null&&tr(Ft,r),Zn!==null&&tr(Zn,r),er!==null&&tr(er,r),Ri.forEach(s),Vn.forEach(s),l=0;l<Tr.length;l++)d=Tr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Tr.length&&(l=Tr[0],l.blockedOn===null);)Ru(l),l.blockedOn===null&&Tr.shift()}var Hr=Q.ReactCurrentBatchConfig,ki=!0;function ot(r,s,l,d){var f=Ue,g=Hr.transition;Hr.transition=null;try{Ue=1,Ba(r,s,l,d)}finally{Ue=f,Hr.transition=g}}function Qd(r,s,l,d){var f=Ue,g=Hr.transition;Hr.transition=null;try{Ue=4,Ba(r,s,l,d)}finally{Ue=f,Hr.transition=g}}function Ba(r,s,l,d){if(ki){var f=wo(r,s,l,d);if(f===null)oh(r,s,d,Rs,l),Cu(r,d);else if(Kd(f,r,s,l,d))d.stopPropagation();else if(Cu(r,d),s&4&&-1<Gd.indexOf(r)){for(;f!==null;){var g=nl(f);if(g!==null&&Eu(g),g=wo(r,s,l,d),g===null&&oh(r,s,d,Rs,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else oh(r,s,d,null,l)}}var Rs=null;function wo(r,s,l,d){if(Rs=null,r=lo(d),r=xs(r),r!==null)if(s=Xn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ws(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Rs=r,null}function za(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case Es:return 1;case wi:return 4;case Mn:case ja:return 16;case _u:return 536870912;default:return 16}default:return 16}}var Rn=null,Eo=null,hn=null;function qa(){if(hn)return hn;var r,s=Eo,l=s.length,d,f="value"in Rn?Rn.value:Rn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===f[g-d];d++);return hn=f.slice(r,1<d?1-d:void 0)}function To(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ir(){return!0}function Wa(){return!1}function jt(r){function s(l,d,f,g,E){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ir:Wa,this.isPropagationStopped=Wa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=jt(rr),Sr=le({},rr,{view:0,detail:0}),Yd=jt(Sr),So,Gr,Ai,ks=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ai&&(Ai&&r.type==="mousemove"?(So=r.screenX-Ai.screenX,Gr=r.screenY-Ai.screenY):Gr=So=0,Ai=r),So)},movementY:function(r){return"movementY"in r?r.movementY:Gr}}),Co=jt(ks),Ha=le({},ks,{dataTransfer:0}),Au=jt(Ha),Ro=le({},Sr,{relatedTarget:0}),ko=jt(Ro),xu=le({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=jt(xu),Pu=le({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Nu=jt(Pu),bu=le({},rr,{data:0}),Ga=jt(bu),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Du[r])?!!s[r]:!1}function Cr(){return Lu}var u=le({},Sr,{key:function(r){if(r.key){var s=Ao[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=To(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(r){return r.type==="keypress"?To(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?To(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=jt(u),v=le({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=jt(v),z=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),K=jt(z),ae=le({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=jt(ae),At=le({},ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=jt(At),Dt=[9,13,27,32],Tt=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var kn=h&&"TextEvent"in window&&!Fn,As=h&&(!Tt||Fn&&8<Fn&&11>=Fn),xo=" ",km=!1;function Am(r,s){switch(r){case"keyup":return Dt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function NE(r,s){switch(r){case"compositionend":return xm(s);case"keypress":return s.which!==32?null:(km=!0,xo);case"textInput":return r=s.data,r===xo&&km?null:r;default:return null}}function bE(r,s){if(Po)return r==="compositionend"||!Tt&&Am(r,s)?(r=qa(),hn=Eo=Rn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return As&&s.locale!=="ko"?null:s.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!DE[r.type]:s==="textarea"}function Nm(r,s,l,d){wr(d),s=ju(s,"onChange"),0<s.length&&(l=new Io("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ka=null,Qa=null;function LE(r){Qm(r,0)}function Ou(r){var s=Oo(r);if(In(s))return r}function OE(r,s){if(r==="change")return s}var bm=!1;if(h){var Xd;if(h){var Jd="oninput"in document;if(!Jd){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Jd=typeof Dm.oninput=="function"}Xd=Jd}else Xd=!1;bm=Xd&&(!document.documentMode||9<document.documentMode)}function Lm(){Ka&&(Ka.detachEvent("onpropertychange",Om),Qa=Ka=null)}function Om(r){if(r.propertyName==="value"&&Ou(Qa)){var s=[];Nm(s,Qa,r,lo(r)),Oa(LE,s)}}function ME(r,s,l){r==="focusin"?(Lm(),Ka=s,Qa=l,Ka.attachEvent("onpropertychange",Om)):r==="focusout"&&Lm()}function VE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(Qa)}function FE(r,s){if(r==="click")return Ou(s)}function jE(r,s){if(r==="input"||r==="change")return Ou(s)}function UE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ir=typeof Object.is=="function"?Object.is:UE;function Ya(r,s){if(ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!ir(r[f],s[f]))return!1}return!0}function Mm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vm(r,s){var l=Mm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mm(l)}}function Fm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Fm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jm(){for(var r=window,s=yt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=yt(r.document)}return s}function Zd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function $E(r){var s=jm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Fm(l.ownerDocument.documentElement,l)){if(d!==null&&Zd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Vm(l,g);var E=Vm(l,d);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var BE=h&&"documentMode"in document&&11>=document.documentMode,No=null,eh=null,Xa=null,th=!1;function Um(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;th||No==null||No!==yt(d)||(d=No,"selectionStart"in d&&Zd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xa&&Ya(Xa,d)||(Xa=d,d=ju(eh,"onSelect"),0<d.length&&(s=new Io("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=No)))}function Mu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var bo={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},nh={},$m={};h&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Vu(r){if(nh[r])return nh[r];if(!bo[r])return r;var s=bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in $m)return nh[r]=s[l];return r}var Bm=Vu("animationend"),zm=Vu("animationiteration"),qm=Vu("animationstart"),Wm=Vu("transitionend"),Hm=new Map,Gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(r,s){Hm.set(r,s),a(s,[r])}for(var rh=0;rh<Gm.length;rh++){var ih=Gm[rh],zE=ih.toLowerCase(),qE=ih[0].toUpperCase()+ih.slice(1);xi(zE,"on"+qE)}xi(Bm,"onAnimationEnd"),xi(zm,"onAnimationIteration"),xi(qm,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Wm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function Km(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,fu(d,s,void 0,r),r.currentTarget=null}function Qm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var N=d[E],U=N.instance,H=N.currentTarget;if(N=N.listener,U!==g&&f.isPropagationStopped())break e;Km(f,N,H),g=U}else for(E=0;E<d.length;E++){if(N=d[E],U=N.instance,H=N.currentTarget,N=N.listener,U!==g&&f.isPropagationStopped())break e;Km(f,N,H),g=U}}}if(Yn)throw r=Ma,Yn=!1,Ma=null,r}function nt(r,s){var l=s[hh];l===void 0&&(l=s[hh]=new Set);var d=r+"__bubble";l.has(d)||(Ym(s,r,2,!1),l.add(d))}function sh(r,s,l){var d=0;s&&(d|=4),Ym(l,r,d,s)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Za(r){if(!r[Fu]){r[Fu]=!0,i.forEach(function(l){l!=="selectionchange"&&(WE.has(l)||sh(l,!1,r),sh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Fu]||(s[Fu]=!0,sh("selectionchange",!1,s))}}function Ym(r,s,l,d){switch(za(s)){case 1:var f=ot;break;case 4:f=Qd;break;default:f=Ba}l=f.bind(null,s,l,r),f=void 0,!ho||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function oh(r,s,l,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(E===4)for(E=d.return;E!==null;){var U=E.tag;if((U===3||U===4)&&(U=E.stateNode.containerInfo,U===f||U.nodeType===8&&U.parentNode===f))return;E=E.return}for(;N!==null;){if(E=xs(N),E===null)return;if(U=E.tag,U===5||U===6){d=g=E;continue e}N=N.parentNode}}d=d.return}Oa(function(){var H=g,te=lo(l),ne=[];e:{var Z=Hm.get(r);if(Z!==void 0){var de=Io,ge=r;switch(r){case"keypress":if(To(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":ge="focus",de=ko;break;case"focusout":ge="blur",de=ko;break;case"beforeblur":case"afterblur":de=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=K;break;case Bm:case zm:case qm:de=Kr;break;case Wm:de=Ye;break;case"scroll":de=Yd;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var _e=(s&4)!==0,wt=!_e&&r==="scroll",q=_e?Z!==null?Z+"Capture":null:Z;_e=[];for(var $=H,W;$!==null;){W=$;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,q!==null&&(ie=vt($,q),ie!=null&&_e.push(el($,ie,W)))),wt)break;$=$.return}0<_e.length&&(Z=new de(Z,ge,null,l,te),ne.push({event:Z,listeners:_e}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",Z&&l!==gs&&(ge=l.relatedTarget||l.fromElement)&&(xs(ge)||ge[Qr]))break e;if((de||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=H,ge=ge?xs(ge):null,ge!==null&&(wt=Xn(ge),ge!==wt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=H),de!==ge)){if(_e=Co,ie="onMouseLeave",q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(_e=C,ie="onPointerLeave",q="onPointerEnter",$="pointer"),wt=de==null?Z:Oo(de),W=ge==null?Z:Oo(ge),Z=new _e(ie,$+"leave",de,l,te),Z.target=wt,Z.relatedTarget=W,ie=null,xs(te)===H&&(_e=new _e(q,$+"enter",ge,l,te),_e.target=W,_e.relatedTarget=wt,ie=_e),wt=ie,de&&ge)t:{for(_e=de,q=ge,$=0,W=_e;W;W=Do(W))$++;for(W=0,ie=q;ie;ie=Do(ie))W++;for(;0<$-W;)_e=Do(_e),$--;for(;0<W-$;)q=Do(q),W--;for(;$--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=Do(_e),q=Do(q)}_e=null}else _e=null;de!==null&&Xm(ne,Z,de,_e,!1),ge!==null&&wt!==null&&Xm(ne,wt,ge,_e,!0)}}e:{if(Z=H?Oo(H):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var ye=OE;else if(Pm(Z))if(bm)ye=jE;else{ye=VE;var Ee=ME}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=FE);if(ye&&(ye=ye(r,H))){Nm(ne,ye,l,te);break e}Ee&&Ee(r,Z,H),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&so(Z,"number",Z.value)}switch(Ee=H?Oo(H):window,r){case"focusin":(Pm(Ee)||Ee.contentEditable==="true")&&(No=Ee,eh=H,Xa=null);break;case"focusout":Xa=eh=No=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Um(ne,l,te);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Um(ne,l,te)}var Te;if(Tt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Po?Am(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(As&&l.locale!=="ko"&&(Po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Po&&(Te=qa()):(Rn=te,Eo="value"in Rn?Rn.value:Rn.textContent,Po=!0)),Ee=ju(H,Ce),0<Ee.length&&(Ce=new Ga(Ce,r,null,l,te),ne.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=xm(l),Te!==null&&(Ce.data=Te)))),(Te=kn?NE(r,l):bE(r,l))&&(H=ju(H,"onBeforeInput"),0<H.length&&(te=new Ga("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:H}),te.data=Te))}Qm(ne,s)})}function el(r,s,l){return{instance:r,listener:s,currentTarget:l}}function ju(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=vt(r,l),g!=null&&d.unshift(el(r,g,f)),g=vt(r,s),g!=null&&d.push(el(r,g,f))),r=r.return}return d}function Do(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Xm(r,s,l,d,f){for(var g=s._reactName,E=[];l!==null&&l!==d;){var N=l,U=N.alternate,H=N.stateNode;if(U!==null&&U===d)break;N.tag===5&&H!==null&&(N=H,f?(U=vt(l,g),U!=null&&E.unshift(el(l,U,N))):f||(U=vt(l,g),U!=null&&E.push(el(l,U,N)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Jm(r){return(typeof r=="string"?r:""+r).replace(HE,`
`).replace(GE,"")}function Uu(r,s,l){if(s=Jm(s),Jm(r)!==s&&l)throw Error(t(425))}function $u(){}var ah=null,lh=null;function uh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(r){return Zm.resolve(null).then(r).catch(YE)}:ch;function YE(r){setTimeout(function(){throw r})}function dh(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),nr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);nr(s)}function Pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function eg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Lo,tl="__reactProps$"+Lo,Qr="__reactContainer$"+Lo,hh="__reactEvents$"+Lo,XE="__reactListeners$"+Lo,JE="__reactHandles$"+Lo;function xs(r){var s=r[Rr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Qr]||l[Rr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=eg(r);r!==null;){if(l=r[Rr])return l;r=eg(r)}return s}r=l,l=r.parentNode}return null}function nl(r){return r=r[Rr]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Bu(r){return r[tl]||null}var fh=[],Mo=-1;function Ni(r){return{current:r}}function rt(r){0>Mo||(r.current=fh[Mo],fh[Mo]=null,Mo--)}function tt(r,s){Mo++,fh[Mo]=r.current,r.current=s}var bi={},Qt=Ni(bi),fn=Ni(!1),Ps=bi;function Vo(r,s){var l=r.type.contextTypes;if(!l)return bi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function pn(r){return r=r.childContextTypes,r!=null}function zu(){rt(fn),rt(Qt)}function tg(r,s,l){if(Qt.current!==bi)throw Error(t(168));tt(Qt,s),tt(fn,l)}function ng(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Be(r)||"Unknown",f));return le({},l,d)}function qu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||bi,Ps=Qt.current,tt(Qt,r),tt(fn,fn.current),!0}function rg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=ng(r,s,Ps),d.__reactInternalMemoizedMergedChildContext=r,rt(fn),rt(Qt),tt(Qt,r)):rt(fn),tt(fn,l)}var Yr=null,Wu=!1,ph=!1;function ig(r){Yr===null?Yr=[r]:Yr.push(r)}function ZE(r){Wu=!0,ig(r)}function Di(){if(!ph&&Yr!==null){ph=!0;var r=0,s=Ue;try{var l=Yr;for(Ue=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Yr=null,Wu=!1}catch(f){throw Yr!==null&&(Yr=Yr.slice(r+1)),go(Es,Di),f}finally{Ue=s,ph=!1}}return null}var Fo=[],jo=0,Hu=null,Gu=0,jn=[],Un=0,Ns=null,Xr=1,Jr="";function bs(r,s){Fo[jo++]=Gu,Fo[jo++]=Hu,Hu=r,Gu=s}function sg(r,s,l){jn[Un++]=Xr,jn[Un++]=Jr,jn[Un++]=Ns,Ns=r;var d=Xr;r=Jr;var f=32-rn(d)-1;d&=~(1<<f),l+=1;var g=32-rn(s)+f;if(30<g){var E=f-f%5;g=(d&(1<<E)-1).toString(32),d>>=E,f-=E,Xr=1<<32-rn(s)+f|l<<f|d,Jr=g+r}else Xr=1<<g|l<<f|d,Jr=r}function mh(r){r.return!==null&&(bs(r,1),sg(r,1,0))}function gh(r){for(;r===Hu;)Hu=Fo[--jo],Fo[jo]=null,Gu=Fo[--jo],Fo[jo]=null;for(;r===Ns;)Ns=jn[--Un],jn[Un]=null,Jr=jn[--Un],jn[Un]=null,Xr=jn[--Un],jn[Un]=null}var An=null,xn=null,at=!1,sr=null;function og(r,s){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ag(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,An=r,xn=Pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,An=r,xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ns!==null?{id:Xr,overflow:Jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,An=r,xn=null,!0):!1;default:return!1}}function _h(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yh(r){if(at){var s=xn;if(s){var l=s;if(!ag(r,s)){if(_h(r))throw Error(t(418));s=Pi(l.nextSibling);var d=An;s&&ag(r,s)?og(d,l):(r.flags=r.flags&-4097|2,at=!1,An=r)}}else{if(_h(r))throw Error(t(418));r.flags=r.flags&-4097|2,at=!1,An=r}}}function lg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;An=r}function Ku(r){if(r!==An)return!1;if(!at)return lg(r),at=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!uh(r.type,r.memoizedProps)),s&&(s=xn)){if(_h(r))throw ug(),Error(t(418));for(;s;)og(r,s),s=Pi(s.nextSibling)}if(lg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){xn=Pi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}xn=null}}else xn=An?Pi(r.stateNode.nextSibling):null;return!0}function ug(){for(var r=xn;r;)r=Pi(r.nextSibling)}function Uo(){xn=An=null,at=!1}function vh(r){sr===null?sr=[r]:sr.push(r)}var eT=Q.ReactCurrentBatchConfig;function rl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var N=f.refs;E===null?delete N[g]:N[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Qu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function cg(r){var s=r._init;return s(r._payload)}function dg(r){function s(q,$){if(r){var W=q.deletions;W===null?(q.deletions=[$],q.flags|=16):W.push($)}}function l(q,$){if(!r)return null;for(;$!==null;)s(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f(q,$){return q=$i(q,$),q.index=0,q.sibling=null,q}function g(q,$,W){return q.index=W,r?(W=q.alternate,W!==null?(W=W.index,W<$?(q.flags|=2,$):W):(q.flags|=2,$)):(q.flags|=1048576,$)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function N(q,$,W,ie){return $===null||$.tag!==6?($=df(W,q.mode,ie),$.return=q,$):($=f($,W),$.return=q,$)}function U(q,$,W,ie){var ye=W.type;return ye===x?te(q,$,W.props.children,ie,W.key):$!==null&&($.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pe&&cg(ye)===$.type)?(ie=f($,W.props),ie.ref=rl(q,$,W),ie.return=q,ie):(ie=vc(W.type,W.key,W.props,null,q.mode,ie),ie.ref=rl(q,$,W),ie.return=q,ie)}function H(q,$,W,ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=hf(W,q.mode,ie),$.return=q,$):($=f($,W.children||[]),$.return=q,$)}function te(q,$,W,ie,ye){return $===null||$.tag!==7?($=Us(W,q.mode,ie,ye),$.return=q,$):($=f($,W),$.return=q,$)}function ne(q,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=df(""+$,q.mode,W),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ue:return W=vc($.type,$.key,$.props,null,q.mode,W),W.ref=rl(q,null,$),W.return=q,W;case ee:return $=hf($,q.mode,W),$.return=q,$;case Pe:var ie=$._init;return ne(q,ie($._payload),W)}if(Ur($)||me($))return $=Us($,q.mode,W,null),$.return=q,$;Qu(q,$)}return null}function Z(q,$,W,ie){var ye=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:N(q,$,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ue:return W.key===ye?U(q,$,W,ie):null;case ee:return W.key===ye?H(q,$,W,ie):null;case Pe:return ye=W._init,Z(q,$,ye(W._payload),ie)}if(Ur(W)||me(W))return ye!==null?null:te(q,$,W,ie,null);Qu(q,W)}return null}function de(q,$,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return q=q.get(W)||null,N($,q,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ue:return q=q.get(ie.key===null?W:ie.key)||null,U($,q,ie,ye);case ee:return q=q.get(ie.key===null?W:ie.key)||null,H($,q,ie,ye);case Pe:var Ee=ie._init;return de(q,$,W,Ee(ie._payload),ye)}if(Ur(ie)||me(ie))return q=q.get(W)||null,te($,q,ie,ye,null);Qu($,ie)}return null}function ge(q,$,W,ie){for(var ye=null,Ee=null,Te=$,Ce=$=0,Mt=null;Te!==null&&Ce<W.length;Ce++){Te.index>Ce?(Mt=Te,Te=null):Mt=Te.sibling;var He=Z(q,Te,W[Ce],ie);if(He===null){Te===null&&(Te=Mt);break}r&&Te&&He.alternate===null&&s(q,Te),$=g(He,$,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He,Te=Mt}if(Ce===W.length)return l(q,Te),at&&bs(q,Ce),ye;if(Te===null){for(;Ce<W.length;Ce++)Te=ne(q,W[Ce],ie),Te!==null&&($=g(Te,$,Ce),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return at&&bs(q,Ce),ye}for(Te=d(q,Te);Ce<W.length;Ce++)Mt=de(Te,q,Ce,W[Ce],ie),Mt!==null&&(r&&Mt.alternate!==null&&Te.delete(Mt.key===null?Ce:Mt.key),$=g(Mt,$,Ce),Ee===null?ye=Mt:Ee.sibling=Mt,Ee=Mt);return r&&Te.forEach(function(Bi){return s(q,Bi)}),at&&bs(q,Ce),ye}function _e(q,$,W,ie){var ye=me(W);if(typeof ye!="function")throw Error(t(150));if(W=ye.call(W),W==null)throw Error(t(151));for(var Ee=ye=null,Te=$,Ce=$=0,Mt=null,He=W.next();Te!==null&&!He.done;Ce++,He=W.next()){Te.index>Ce?(Mt=Te,Te=null):Mt=Te.sibling;var Bi=Z(q,Te,He.value,ie);if(Bi===null){Te===null&&(Te=Mt);break}r&&Te&&Bi.alternate===null&&s(q,Te),$=g(Bi,$,Ce),Ee===null?ye=Bi:Ee.sibling=Bi,Ee=Bi,Te=Mt}if(He.done)return l(q,Te),at&&bs(q,Ce),ye;if(Te===null){for(;!He.done;Ce++,He=W.next())He=ne(q,He.value,ie),He!==null&&($=g(He,$,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return at&&bs(q,Ce),ye}for(Te=d(q,Te);!He.done;Ce++,He=W.next())He=de(Te,q,Ce,He.value,ie),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Ce:He.key),$=g(He,$,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(DT){return s(q,DT)}),at&&bs(q,Ce),ye}function wt(q,$,W,ie){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ue:e:{for(var ye=W.key,Ee=$;Ee!==null;){if(Ee.key===ye){if(ye=W.type,ye===x){if(Ee.tag===7){l(q,Ee.sibling),$=f(Ee,W.props.children),$.return=q,q=$;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pe&&cg(ye)===Ee.type){l(q,Ee.sibling),$=f(Ee,W.props),$.ref=rl(q,Ee,W),$.return=q,q=$;break e}l(q,Ee);break}else s(q,Ee);Ee=Ee.sibling}W.type===x?($=Us(W.props.children,q.mode,ie,W.key),$.return=q,q=$):(ie=vc(W.type,W.key,W.props,null,q.mode,ie),ie.ref=rl(q,$,W),ie.return=q,q=ie)}return E(q);case ee:e:{for(Ee=W.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){l(q,$.sibling),$=f($,W.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else s(q,$);$=$.sibling}$=hf(W,q.mode,ie),$.return=q,q=$}return E(q);case Pe:return Ee=W._init,wt(q,$,Ee(W._payload),ie)}if(Ur(W))return ge(q,$,W,ie);if(me(W))return _e(q,$,W,ie);Qu(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(l(q,$.sibling),$=f($,W),$.return=q,q=$):(l(q,$),$=df(W,q.mode,ie),$.return=q,q=$),E(q)):l(q,$)}return wt}var $o=dg(!0),hg=dg(!1),Yu=Ni(null),Xu=null,Bo=null,wh=null;function Eh(){wh=Bo=Xu=null}function Th(r){var s=Yu.current;rt(Yu),r._currentValue=s}function Ih(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function zo(r,s){Xu=r,wh=Bo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(mn=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if(wh!==r)if(r={context:r,memoizedValue:s,next:null},Bo===null){if(Xu===null)throw Error(t(308));Bo=r,Xu.dependencies={lanes:0,firstContext:r}}else Bo=Bo.next=r;return s}var Ds=null;function Sh(r){Ds===null?Ds=[r]:Ds.push(r)}function fg(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Sh(s)):(l.next=f.next,f.next=l),s.interleaved=l,Zr(r,d)}function Zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Li=!1;function Ch(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ei(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Oi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,We&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Zr(r,l)}return f=d.interleaved,f===null?(s.next=s,Sh(d)):(s.next=f.next,f.next=s),d.interleaved=s,Zr(r,l)}function Ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Si(r,l)}}function mg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Zu(r,s,l,d){var f=r.updateQueue;Li=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var U=N,H=U.next;U.next=null,E===null?g=H:E.next=H,E=U;var te=r.alternate;te!==null&&(te=te.updateQueue,N=te.lastBaseUpdate,N!==E&&(N===null?te.firstBaseUpdate=H:N.next=H,te.lastBaseUpdate=U))}if(g!==null){var ne=f.baseState;E=0,te=H=U=null,N=g;do{var Z=N.lane,de=N.eventTime;if((d&Z)===Z){te!==null&&(te=te.next={eventTime:de,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ge=r,_e=N;switch(Z=s,de=l,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){ne=ge.call(de,ne,Z);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,Z=typeof ge=="function"?ge.call(de,ne,Z):ge,Z==null)break e;ne=le({},ne,Z);break e;case 2:Li=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[N]:Z.push(N))}else de={eventTime:de,lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},te===null?(H=te=de,U=ne):te=te.next=de,E|=Z;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(te===null&&(U=ne),f.baseState=U,f.firstBaseUpdate=H,f.lastBaseUpdate=te,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ms|=E,r.lanes=E,r.memoizedState=ne}}function gg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var il={},kr=Ni(il),sl=Ni(il),ol=Ni(il);function Ls(r){if(r===il)throw Error(t(174));return r}function Rh(r,s){switch(tt(ol,s),tt(sl,r),tt(kr,il),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:kt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=kt(s,r)}rt(kr),tt(kr,s)}function qo(){rt(kr),rt(sl),rt(ol)}function _g(r){Ls(ol.current);var s=Ls(kr.current),l=kt(s,r.type);s!==l&&(tt(sl,r),tt(kr,l))}function kh(r){sl.current===r&&(rt(kr),rt(sl))}var ut=Ni(0);function ec(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ah=[];function xh(){for(var r=0;r<Ah.length;r++)Ah[r]._workInProgressVersionPrimary=null;Ah.length=0}var tc=Q.ReactCurrentDispatcher,Ph=Q.ReactCurrentBatchConfig,Os=0,ct=null,xt=null,Lt=null,nc=!1,al=!1,ll=0,tT=0;function Yt(){throw Error(t(321))}function Nh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ir(r[l],s[l]))return!1;return!0}function bh(r,s,l,d,f,g){if(Os=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tc.current=r===null||r.memoizedState===null?sT:oT,r=l(d,f),al){g=0;do{if(al=!1,ll=0,25<=g)throw Error(t(301));g+=1,Lt=xt=null,s.updateQueue=null,tc.current=aT,r=l(d,f)}while(al)}if(tc.current=sc,s=xt!==null&&xt.next!==null,Os=0,Lt=xt=ct=null,nc=!1,s)throw Error(t(300));return r}function Dh(){var r=ll!==0;return ll=0,r}function Ar(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Bn(){if(xt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var s=Lt===null?ct.memoizedState:Lt.next;if(s!==null)Lt=s,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Lt===null?ct.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function ul(r,s){return typeof s=="function"?s(r):s}function Lh(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=xt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var N=E=null,U=null,H=g;do{var te=H.lane;if((Os&te)===te)U!==null&&(U=U.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var ne={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};U===null?(N=U=ne,E=d):U=U.next=ne,ct.lanes|=te,Ms|=te}H=H.next}while(H!==null&&H!==g);U===null?E=d:U.next=N,ir(d,s.memoizedState)||(mn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=U,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ct.lanes|=g,Ms|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Oh(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);ir(g,s.memoizedState)||(mn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function yg(){}function vg(r,s){var l=ct,d=Bn(),f=s(),g=!ir(d.memoizedState,f);if(g&&(d.memoizedState=f,mn=!0),d=d.queue,Mh(Tg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,cl(9,Eg.bind(null,l,d,f,s),void 0,null),Ot===null)throw Error(t(349));Os&30||wg(l,s,f)}return f}function wg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Eg(r,s,l,d){s.value=l,s.getSnapshot=d,Ig(s)&&Sg(r)}function Tg(r,s,l){return l(function(){Ig(s)&&Sg(r)})}function Ig(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ir(r,l)}catch{return!0}}function Sg(r){var s=Zr(r,1);s!==null&&ur(s,r,1,-1)}function Cg(r){var s=Ar();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:r},s.queue=r,r=r.dispatch=iT.bind(null,ct,r),[s.memoizedState,r]}function cl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Rg(){return Bn().memoizedState}function rc(r,s,l,d){var f=Ar();ct.flags|=r,f.memoizedState=cl(1|s,l,void 0,d===void 0?null:d)}function ic(r,s,l,d){var f=Bn();d=d===void 0?null:d;var g=void 0;if(xt!==null){var E=xt.memoizedState;if(g=E.destroy,d!==null&&Nh(d,E.deps)){f.memoizedState=cl(s,l,g,d);return}}ct.flags|=r,f.memoizedState=cl(1|s,l,g,d)}function kg(r,s){return rc(8390656,8,r,s)}function Mh(r,s){return ic(2048,8,r,s)}function Ag(r,s){return ic(4,2,r,s)}function xg(r,s){return ic(4,4,r,s)}function Pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ng(r,s,l){return l=l!=null?l.concat([r]):null,ic(4,4,Pg.bind(null,s,r),l)}function Vh(){}function bg(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Nh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Dg(r,s){var l=Bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Nh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Lg(r,s,l){return Os&21?(ir(l,s)||(l=Ss(),ct.lanes|=l,Ms|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,mn=!0),r.memoizedState=l)}function nT(r,s){var l=Ue;Ue=l!==0&&4>l?l:4,r(!0);var d=Ph.transition;Ph.transition={};try{r(!1),s()}finally{Ue=l,Ph.transition=d}}function Og(){return Bn().memoizedState}function rT(r,s,l){var d=ji(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Mg(r))Vg(s,l);else if(l=fg(r,s,l,d),l!==null){var f=an();ur(l,r,d,f),Fg(l,s,d)}}function iT(r,s,l){var d=ji(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mg(r))Vg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,N=g(E,l);if(f.hasEagerState=!0,f.eagerState=N,ir(N,E)){var U=s.interleaved;U===null?(f.next=f,Sh(s)):(f.next=U.next,U.next=f),s.interleaved=f;return}}catch{}finally{}l=fg(r,s,f,d),l!==null&&(f=an(),ur(l,r,d,f),Fg(l,s,d))}}function Mg(r){var s=r.alternate;return r===ct||s!==null&&s===ct}function Vg(r,s){al=nc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Fg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Si(r,l)}}var sc={readContext:$n,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},sT={readContext:$n,useCallback:function(r,s){return Ar().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:kg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,rc(4194308,4,Pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return rc(4194308,4,r,s)},useInsertionEffect:function(r,s){return rc(4,2,r,s)},useMemo:function(r,s){var l=Ar();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Ar();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=rT.bind(null,ct,r),[d.memoizedState,r]},useRef:function(r){var s=Ar();return r={current:r},s.memoizedState=r},useState:Cg,useDebugValue:Vh,useDeferredValue:function(r){return Ar().memoizedState=r},useTransition:function(){var r=Cg(!1),s=r[0];return r=nT.bind(null,r[1]),Ar().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ct,f=Ar();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ot===null)throw Error(t(349));Os&30||wg(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,kg(Tg.bind(null,d,g,r),[r]),d.flags|=2048,cl(9,Eg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=Ar(),s=Ot.identifierPrefix;if(at){var l=Jr,d=Xr;l=(d&~(1<<32-rn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ll++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=tT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},oT={readContext:$n,useCallback:bg,useContext:$n,useEffect:Mh,useImperativeHandle:Ng,useInsertionEffect:Ag,useLayoutEffect:xg,useMemo:Dg,useReducer:Lh,useRef:Rg,useState:function(){return Lh(ul)},useDebugValue:Vh,useDeferredValue:function(r){var s=Bn();return Lg(s,xt.memoizedState,r)},useTransition:function(){var r=Lh(ul)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:Og,unstable_isNewReconciler:!1},aT={readContext:$n,useCallback:bg,useContext:$n,useEffect:Mh,useImperativeHandle:Ng,useInsertionEffect:Ag,useLayoutEffect:xg,useMemo:Dg,useReducer:Oh,useRef:Rg,useState:function(){return Oh(ul)},useDebugValue:Vh,useDeferredValue:function(r){var s=Bn();return xt===null?s.memoizedState=r:Lg(s,xt.memoizedState,r)},useTransition:function(){var r=Oh(ul)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:Og,unstable_isNewReconciler:!1};function or(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Fh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var oc={isMounted:function(r){return(r=r._reactInternals)?Xn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=an(),f=ji(r),g=ei(d,f);g.payload=s,l!=null&&(g.callback=l),s=Oi(r,g,f),s!==null&&(ur(s,r,f,d),Ju(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=an(),f=ji(r),g=ei(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Oi(r,g,f),s!==null&&(ur(s,r,f,d),Ju(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=an(),d=ji(r),f=ei(l,d);f.tag=2,s!=null&&(f.callback=s),s=Oi(r,f,d),s!==null&&(ur(s,r,d,l),Ju(s,r,d))}};function jg(r,s,l,d,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ya(l,d)||!Ya(f,g):!0}function Ug(r,s,l){var d=!1,f=bi,g=s.contextType;return typeof g=="object"&&g!==null?g=$n(g):(f=pn(s)?Ps:Qt.current,d=s.contextTypes,g=(d=d!=null)?Vo(r,f):bi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=oc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function $g(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&oc.enqueueReplaceState(s,s.state,null)}function jh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Ch(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=$n(g):(g=pn(s)?Ps:Qt.current,f.context=Vo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Fh(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&oc.enqueueReplaceState(f,f.state,null),Zu(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Wo(r,s){try{var l="",d=s;do l+=be(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Uh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function $h(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function Bg(r,s,l){l=ei(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){fc||(fc=!0,nf=d),$h(r,s)},l}function zg(r,s,l){l=ei(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){$h(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){$h(r,s),typeof d!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function qg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new lT;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=TT.bind(null,r,s,l),s.then(r,r))}function Wg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Hg(r,s,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ei(-1,1),s.tag=2,Oi(l,s,1))),l.lanes|=1),r)}var uT=Q.ReactCurrentOwner,mn=!1;function on(r,s,l,d){s.child=r===null?hg(s,null,l,d):$o(s,r.child,l,d)}function Gg(r,s,l,d,f){l=l.render;var g=s.ref;return zo(s,f),d=bh(r,s,l,d,g,f),l=Dh(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(at&&l&&mh(s),s.flags|=1,on(r,s,d,f),s.child)}function Kg(r,s,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!cf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Qg(r,s,g,d,f)):(r=vc(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(E,d)&&r.ref===s.ref)return ti(r,s,f)}return s.flags|=1,r=$i(g,d),r.ref=s.ref,r.return=s,s.child=r}function Qg(r,s,l,d,f){if(r!==null){var g=r.memoizedProps;if(Ya(g,d)&&r.ref===s.ref)if(mn=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(mn=!0);else return s.lanes=r.lanes,ti(r,s,f)}return Bh(r,s,l,d,f)}function Yg(r,s,l){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Go,Pn),Pn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,tt(Go,Pn),Pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,tt(Go,Pn),Pn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,tt(Go,Pn),Pn|=d;return on(r,s,f,l),s.child}function Xg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Bh(r,s,l,d,f){var g=pn(l)?Ps:Qt.current;return g=Vo(s,g),zo(s,f),l=bh(r,s,l,d,g,f),d=Dh(),r!==null&&!mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(at&&d&&mh(s),s.flags|=1,on(r,s,l,f),s.child)}function Jg(r,s,l,d,f){if(pn(l)){var g=!0;qu(s)}else g=!1;if(zo(s,f),s.stateNode===null)lc(r,s),Ug(s,l,d),jh(s,l,d,f),d=!0;else if(r===null){var E=s.stateNode,N=s.memoizedProps;E.props=N;var U=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=$n(H):(H=pn(l)?Ps:Qt.current,H=Vo(s,H));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==d||U!==H)&&$g(s,E,d,H),Li=!1;var Z=s.memoizedState;E.state=Z,Zu(s,d,E,f),U=s.memoizedState,N!==d||Z!==U||fn.current||Li?(typeof te=="function"&&(Fh(s,l,te,d),U=s.memoizedState),(N=Li||jg(s,l,N,d,Z,U,H))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=U),E.props=d,E.state=U,E.context=H,d=N):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,pg(r,s),N=s.memoizedProps,H=s.type===s.elementType?N:or(s.type,N),E.props=H,ne=s.pendingProps,Z=E.context,U=l.contextType,typeof U=="object"&&U!==null?U=$n(U):(U=pn(l)?Ps:Qt.current,U=Vo(s,U));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ne||Z!==U)&&$g(s,E,d,U),Li=!1,Z=s.memoizedState,E.state=Z,Zu(s,d,E,f);var ge=s.memoizedState;N!==ne||Z!==ge||fn.current||Li?(typeof de=="function"&&(Fh(s,l,de,d),ge=s.memoizedState),(H=Li||jg(s,l,H,d,Z,ge,U)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ge,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ge,U)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),E.props=d,E.state=ge,E.context=U,d=H):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),d=!1)}return zh(r,s,l,d,g,f)}function zh(r,s,l,d,f,g){Xg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return f&&rg(s,l,!1),ti(r,s,g);d=s.stateNode,uT.current=s;var N=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=$o(s,r.child,null,g),s.child=$o(s,null,N,g)):on(r,s,N,g),s.memoizedState=d.state,f&&rg(s,l,!0),s.child}function Zg(r){var s=r.stateNode;s.pendingContext?tg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&tg(r,s.context,!1),Rh(r,s.containerInfo)}function e_(r,s,l,d,f){return Uo(),vh(f),s.flags|=256,on(r,s,l,d),s.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Wh(r){return{baseLanes:r,cachePool:null,transitions:null}}function t_(r,s,l){var d=s.pendingProps,f=ut.current,g=!1,E=(s.flags&128)!==0,N;if((N=E)||(N=r!==null&&r.memoizedState===null?!1:(f&2)!==0),N?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),tt(ut,f&1),r===null)return yh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=wc(E,d,0,null),r=Us(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Wh(l),s.memoizedState=qh,r):Hh(s,E));if(f=r.memoizedState,f!==null&&(N=f.dehydrated,N!==null))return cT(r,s,E,d,N,f,l);if(g){g=d.fallback,E=s.mode,f=r.child,N=f.sibling;var U={mode:"hidden",children:d.children};return!(E&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=U,s.deletions=null):(d=$i(f,U),d.subtreeFlags=f.subtreeFlags&14680064),N!==null?g=$i(N,g):(g=Us(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?Wh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=qh,d}return g=r.child,r=g.sibling,d=$i(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Hh(r,s){return s=wc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ac(r,s,l,d){return d!==null&&vh(d),$o(s,r.child,null,l),r=Hh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cT(r,s,l,d,f,g,E){if(l)return s.flags&256?(s.flags&=-257,d=Uh(Error(t(422))),ac(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=wc({mode:"visible",children:d.children},f,0,null),g=Us(g,f,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&$o(s,r.child,null,E),s.child.memoizedState=Wh(E),s.memoizedState=qh,g);if(!(s.mode&1))return ac(r,s,E,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var N=d.dgst;return d=N,g=Error(t(419)),d=Uh(g,d,void 0),ac(r,s,E,d)}if(N=(E&r.childLanes)!==0,mn||N){if(d=Ot,d!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Zr(r,f),ur(d,r,f,-1))}return uf(),d=Uh(Error(t(421))),ac(r,s,E,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=IT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,xn=Pi(f.nextSibling),An=s,at=!0,sr=null,r!==null&&(jn[Un++]=Xr,jn[Un++]=Jr,jn[Un++]=Ns,Xr=r.id,Jr=r.overflow,Ns=s),s=Hh(s,d.children),s.flags|=4096,s)}function n_(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Ih(r.return,s,l)}function Gh(r,s,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function r_(r,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(on(r,s,d.children,l),d=ut.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&n_(r,l,s);else if(r.tag===19)n_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(tt(ut,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&ec(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Gh(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ec(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Gh(s,!0,l,null,g);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ti(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ms|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=$i(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=$i(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function dT(r,s,l){switch(s.tag){case 3:Zg(s),Uo();break;case 5:_g(s);break;case 1:pn(s.type)&&qu(s);break;case 4:Rh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;tt(Yu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(tt(ut,ut.current&1),s.flags|=128,null):l&s.child.childLanes?t_(r,s,l):(tt(ut,ut.current&1),r=ti(r,s,l),r!==null?r.sibling:null);tt(ut,ut.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return r_(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(ut,ut.current),d)break;return null;case 22:case 23:return s.lanes=0,Yg(r,s,l)}return ti(r,s,l)}var i_,Kh,s_,o_;i_=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kh=function(){},s_=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,Ls(kr.current);var g=null;switch(l){case"input":f=Kt(r,f),d=Kt(r,d),g=[];break;case"select":f=le({},f,{value:void 0}),d=le({},d,{value:void 0}),g=[];break;case"textarea":f=Ca(r,f),d=Ca(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=$u)}Na(l,d);var E;l=null;for(H in f)if(!d.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var N=f[H];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in d){var U=d[H];if(N=f!=null?f[H]:void 0,d.hasOwnProperty(H)&&U!==N&&(U!=null||N!=null))if(H==="style")if(N){for(E in N)!N.hasOwnProperty(E)||U&&U.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in U)U.hasOwnProperty(E)&&N[E]!==U[E]&&(l||(l={}),l[E]=U[E])}else l||(g||(g=[]),g.push(H,l)),l=U;else H==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,N=N?N.__html:void 0,U!=null&&N!==U&&(g=g||[]).push(H,U)):H==="children"?typeof U!="string"&&typeof U!="number"||(g=g||[]).push(H,""+U):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(U!=null&&H==="onScroll"&&nt("scroll",r),g||N===U||(g=[])):(g=g||[]).push(H,U))}l&&(g=g||[]).push("style",l);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},o_=function(r,s,l,d){l!==d&&(s.flags|=4)};function dl(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function hT(r,s,l){var d=s.pendingProps;switch(gh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return pn(s.type)&&zu(),Xt(s),null;case 3:return d=s.stateNode,qo(),rt(fn),rt(Qt),xh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,sr!==null&&(of(sr),sr=null))),Kh(r,s),Xt(s),null;case 5:kh(s);var f=Ls(ol.current);if(l=s.type,r!==null&&s.stateNode!=null)s_(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(r=Ls(kr.current),Ku(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[Rr]=s,d[tl]=g,r=(s.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(f=0;f<Ja.length;f++)nt(Ja[f],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":jr(d,g),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},nt("invalid",d);break;case"textarea":oo(d,g),nt("invalid",d)}Na(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var N=g[E];E==="children"?typeof N=="string"?d.textContent!==N&&(g.suppressHydrationWarning!==!0&&Uu(d.textContent,N,r),f=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&Uu(d.textContent,N,r),f=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&nt("scroll",d)}switch(l){case"input":Ze(d),hu(d,g,!0);break;case"textarea":Ze(d),Ra(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=$u)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Rt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Rr]=s,r[tl]=d,i_(r,s,!1,!1),s.stateNode=r;e:{switch(E=ba(l,d),l){case"dialog":nt("cancel",r),nt("close",r),f=d;break;case"iframe":case"object":case"embed":nt("load",r),f=d;break;case"video":case"audio":for(f=0;f<Ja.length;f++)nt(Ja[f],r);f=d;break;case"source":nt("error",r),f=d;break;case"img":case"image":case"link":nt("error",r),nt("load",r),f=d;break;case"details":nt("toggle",r),f=d;break;case"input":jr(r,d),f=Kt(r,d),nt("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=le({},d,{value:void 0}),nt("invalid",r);break;case"textarea":oo(r,d),f=Ca(r,d),nt("invalid",r);break;default:f=d}Na(l,f),N=f;for(g in N)if(N.hasOwnProperty(g)){var U=N[g];g==="style"?xa(r,U):g==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&ka(r,U)):g==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&vi(r,U):typeof U=="number"&&vi(r,""+U):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?U!=null&&g==="onScroll"&&nt("scroll",r):U!=null&&G(r,g,U,E))}switch(l){case"input":Ze(r),hu(r,d,!1);break;case"textarea":Ze(r),Ra(r);break;case"option":d.value!=null&&r.setAttribute("value",""+re(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?$r(r,!!d.multiple,g,!1):d.defaultValue!=null&&$r(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=$u)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)o_(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ls(ol.current),Ls(kr.current),Ku(s)){if(d=s.stateNode,l=s.memoizedProps,d[Rr]=s,(g=d.nodeValue!==l)&&(r=An,r!==null))switch(r.tag){case 3:Uu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Uu(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Rr]=s,s.stateNode=d}return Xt(s),null;case 13:if(rt(ut),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(at&&xn!==null&&s.mode&1&&!(s.flags&128))ug(),Uo(),s.flags|=98560,g=!1;else if(g=Ku(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Rr]=s}else Uo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Xt(s),g=!1}else sr!==null&&(of(sr),sr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||ut.current&1?Pt===0&&(Pt=3):uf())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return qo(),Kh(r,s),r===null&&Za(s.stateNode.containerInfo),Xt(s),null;case 10:return Th(s.type._context),Xt(s),null;case 17:return pn(s.type)&&zu(),Xt(s),null;case 19:if(rt(ut),g=s.memoizedState,g===null)return Xt(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)dl(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=ec(r),E!==null){for(s.flags|=128,dl(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return tt(ut,ut.current&1|2),s.child}r=r.sibling}g.tail!==null&&et()>Ko&&(s.flags|=128,d=!0,dl(g,!1),s.lanes=4194304)}else{if(!d)if(r=ec(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),dl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!at)return Xt(s),null}else 2*et()-g.renderingStartTime>Ko&&l!==1073741824&&(s.flags|=128,d=!0,dl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,l=ut.current,tt(ut,d?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return lf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Pn&1073741824&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function fT(r,s){switch(gh(s),s.tag){case 1:return pn(s.type)&&zu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qo(),rt(fn),rt(Qt),xh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return kh(s),null;case 13:if(rt(ut),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(ut),null;case 4:return qo(),null;case 10:return Th(s.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var uc=!1,Jt=!1,pT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){pt(r,s,d)}else l.current=null}function Qh(r,s,l){try{l()}catch(d){pt(r,s,d)}}var a_=!1;function mT(r,s){if(ah=ki,r=jm(),Zd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,N=-1,U=-1,H=0,te=0,ne=r,Z=null;t:for(;;){for(var de;ne!==l||f!==0&&ne.nodeType!==3||(N=E+f),ne!==g||d!==0&&ne.nodeType!==3||(U=E+d),ne.nodeType===3&&(E+=ne.nodeValue.length),(de=ne.firstChild)!==null;)Z=ne,ne=de;for(;;){if(ne===r)break t;if(Z===l&&++H===f&&(N=E),Z===g&&++te===d&&(U=E),(de=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=de}l=N===-1||U===-1?null:{start:N,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(lh={focusedElem:r,selectionRange:l},ki=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var ge=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,wt=ge.memoizedState,q=s.stateNode,$=q.getSnapshotBeforeUpdate(s.elementType===s.type?_e:or(s.type,_e),wt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){pt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return ge=a_,a_=!1,ge}function hl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Qh(s,l,g)}f=f.next}while(f!==d)}}function cc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Yh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function l_(r){var s=r.alternate;s!==null&&(r.alternate=null,l_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Rr],delete s[tl],delete s[hh],delete s[XE],delete s[JE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function u_(r){return r.tag===5||r.tag===3||r.tag===4}function c_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||u_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$u));else if(d!==4&&(r=r.child,r!==null))for(Xh(r,s,l),r=r.sibling;r!==null;)Xh(r,s,l),r=r.sibling}function Jh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Jh(r,s,l),r=r.sibling;r!==null;)Jh(r,s,l),r=r.sibling}var Ut=null,ar=!1;function Mi(r,s,l){for(l=l.child;l!==null;)d_(r,s,l),l=l.sibling}function d_(r,s,l){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ts,l)}catch{}switch(l.tag){case 5:Jt||Ho(l,s);case 6:var d=Ut,f=ar;Ut=null,Mi(r,s,l),Ut=d,ar=f,Ut!==null&&(ar?(r=Ut,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(ar?(r=Ut,l=l.stateNode,r.nodeType===8?dh(r.parentNode,l):r.nodeType===1&&dh(r,l),nr(r)):dh(Ut,l.stateNode));break;case 4:d=Ut,f=ar,Ut=l.stateNode.containerInfo,ar=!0,Mi(r,s,l),Ut=d,ar=f;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Qh(l,s,E),f=f.next}while(f!==d)}Mi(r,s,l);break;case 1:if(!Jt&&(Ho(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){pt(l,s,N)}Mi(r,s,l);break;case 21:Mi(r,s,l);break;case 22:l.mode&1?(Jt=(d=Jt)||l.memoizedState!==null,Mi(r,s,l),Jt=d):Mi(r,s,l);break;default:Mi(r,s,l)}}function h_(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new pT),s.forEach(function(d){var f=ST.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function lr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,E=s,N=E;e:for(;N!==null;){switch(N.tag){case 5:Ut=N.stateNode,ar=!1;break e;case 3:Ut=N.stateNode.containerInfo,ar=!0;break e;case 4:Ut=N.stateNode.containerInfo,ar=!0;break e}N=N.return}if(Ut===null)throw Error(t(160));d_(g,E,f),Ut=null,ar=!1;var U=f.alternate;U!==null&&(U.return=null),f.return=null}catch(H){pt(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)f_(s,r),s=s.sibling}function f_(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(lr(s,r),xr(r),d&4){try{hl(3,r,r.return),cc(3,r)}catch(_e){pt(r,r.return,_e)}try{hl(5,r,r.return)}catch(_e){pt(r,r.return,_e)}}break;case 1:lr(s,r),xr(r),d&512&&l!==null&&Ho(l,l.return);break;case 5:if(lr(s,r),xr(r),d&512&&l!==null&&Ho(l,l.return),r.flags&32){var f=r.stateNode;try{vi(f,"")}catch(_e){pt(r,r.return,_e)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,N=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&hs(f,g),ba(N,E);var H=ba(N,g);for(E=0;E<U.length;E+=2){var te=U[E],ne=U[E+1];te==="style"?xa(f,ne):te==="dangerouslySetInnerHTML"?ka(f,ne):te==="children"?vi(f,ne):G(f,te,ne,H)}switch(N){case"input":fs(f,g);break;case"textarea":ao(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?$r(f,!!g.multiple,de,!1):Z!==!!g.multiple&&(g.defaultValue!=null?$r(f,!!g.multiple,g.defaultValue,!0):$r(f,!!g.multiple,g.multiple?[]:"",!1))}f[tl]=g}catch(_e){pt(r,r.return,_e)}}break;case 6:if(lr(s,r),xr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(_e){pt(r,r.return,_e)}}break;case 3:if(lr(s,r),xr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{nr(s.containerInfo)}catch(_e){pt(r,r.return,_e)}break;case 4:lr(s,r),xr(r);break;case 13:lr(s,r),xr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(tf=et())),d&4&&h_(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(H=Jt)||te,lr(s,r),Jt=H):lr(s,r),xr(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!te&&r.mode&1)for(fe=r,te=r.child;te!==null;){for(ne=fe=te;fe!==null;){switch(Z=fe,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:hl(4,Z,Z.return);break;case 1:Ho(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(_e){pt(d,l,_e)}}break;case 5:Ho(Z,Z.return);break;case 22:if(Z.memoizedState!==null){g_(ne);continue}}de!==null?(de.return=Z,fe=de):g_(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{f=ne.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=ne.stateNode,U=ne.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null,N.style.display=Aa("display",E))}catch(_e){pt(r,r.return,_e)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=H?"":ne.memoizedProps}catch(_e){pt(r,r.return,_e)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:lr(s,r),xr(r),d&4&&h_(r);break;case 21:break;default:lr(s,r),xr(r)}}function xr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(u_(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(vi(f,""),d.flags&=-33);var g=c_(r);Jh(r,g,f);break;case 3:case 4:var E=d.stateNode.containerInfo,N=c_(r);Xh(r,N,E);break;default:throw Error(t(161))}}catch(U){pt(r,r.return,U)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function gT(r,s,l){fe=r,p_(r)}function p_(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&d){var E=f.memoizedState!==null||uc;if(!E){var N=f.alternate,U=N!==null&&N.memoizedState!==null||Jt;N=uc;var H=Jt;if(uc=E,(Jt=U)&&!H)for(fe=f;fe!==null;)E=fe,U=E.child,E.tag===22&&E.memoizedState!==null?__(f):U!==null?(U.return=E,fe=U):__(f);for(;g!==null;)fe=g,p_(g),g=g.sibling;fe=f,uc=N,Jt=H}m_(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,fe=g):m_(r)}}function m_(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Jt||cc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Jt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&gg(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}gg(s,E,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var U=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&nr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&Yh(s)}catch(Z){pt(s,s.return,Z)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function g_(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function __(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{cc(4,s)}catch(U){pt(s,l,U)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(U){pt(s,f,U)}}var g=s.return;try{Yh(s)}catch(U){pt(s,g,U)}break;case 5:var E=s.return;try{Yh(s)}catch(U){pt(s,E,U)}}}catch(U){pt(s,s.return,U)}if(s===r){fe=null;break}var N=s.sibling;if(N!==null){N.return=s.return,fe=N;break}fe=s.return}}var _T=Math.ceil,dc=Q.ReactCurrentDispatcher,Zh=Q.ReactCurrentOwner,zn=Q.ReactCurrentBatchConfig,We=0,Ot=null,It=null,$t=0,Pn=0,Go=Ni(0),Pt=0,fl=null,Ms=0,hc=0,ef=0,pl=null,gn=null,tf=0,Ko=1/0,ni=null,fc=!1,nf=null,Vi=null,pc=!1,Fi=null,mc=0,ml=0,rf=null,gc=-1,_c=0;function an(){return We&6?et():gc!==-1?gc:gc=et()}function ji(r){return r.mode&1?We&2&&$t!==0?$t&-$t:eT.transition!==null?(_c===0&&(_c=Ss()),_c):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:za(r.type)),r):1}function ur(r,s,l,d){if(50<ml)throw ml=0,rf=null,Error(t(185));Ii(r,l,d),(!(We&2)||r!==Ot)&&(r===Ot&&(!(We&2)&&(hc|=l),Pt===4&&Ui(r,$t)),_n(r,d),l===1&&We===0&&!(s.mode&1)&&(Ko=et()+500,Wu&&Di()))}function _n(r,s){var l=r.callbackNode;qr(r,s);var d=Is(r,r===Ot?$t:0);if(d===0)l!==null&&Fa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Fa(l),s===1)r.tag===0?ZE(v_.bind(null,r)):ig(v_.bind(null,r)),QE(function(){!(We&6)&&Di()}),l=null;else{switch(Ci(d)){case 1:l=Es;break;case 4:l=wi;break;case 16:l=Mn;break;case 536870912:l=_u;break;default:l=Mn}l=k_(l,y_.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function y_(r,s){if(gc=-1,_c=0,We&6)throw Error(t(327));var l=r.callbackNode;if(Qo()&&r.callbackNode!==l)return null;var d=Is(r,r===Ot?$t:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=yc(r,d);else{s=d;var f=We;We|=2;var g=E_();(Ot!==r||$t!==s)&&(ni=null,Ko=et()+500,Fs(r,s));do try{wT();break}catch(N){w_(r,N)}while(!0);Eh(),dc.current=g,We=f,It!==null?s=0:(Ot=null,$t=0,s=Pt)}if(s!==0){if(s===2&&(f=Cn(r),f!==0&&(d=f,s=sf(r,f))),s===1)throw l=fl,Fs(r,0),Ui(r,d),_n(r,et()),l;if(s===6)Ui(r,d);else{if(f=r.current.alternate,!(d&30)&&!yT(f)&&(s=yc(r,d),s===2&&(g=Cn(r),g!==0&&(d=g,s=sf(r,g))),s===1))throw l=fl,Fs(r,0),Ui(r,d),_n(r,et()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:js(r,gn,ni);break;case 3:if(Ui(r,d),(d&130023424)===d&&(s=tf+500-et(),10<s)){if(Is(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){an(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=ch(js.bind(null,r,gn,ni),s);break}js(r,gn,ni);break;case 4:if(Ui(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var E=31-rn(d);g=1<<E,E=s[E],E>f&&(f=E),d&=~g}if(d=f,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*_T(d/1960))-d,10<d){r.timeoutHandle=ch(js.bind(null,r,gn,ni),d);break}js(r,gn,ni);break;case 5:js(r,gn,ni);break;default:throw Error(t(329))}}}return _n(r,et()),r.callbackNode===l?y_.bind(null,r):null}function sf(r,s){var l=pl;return r.current.memoizedState.isDehydrated&&(Fs(r,s).flags|=256),r=yc(r,s),r!==2&&(s=gn,gn=l,s!==null&&of(s)),r}function of(r){gn===null?gn=r:gn.push.apply(gn,r)}function yT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!ir(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(r,s){for(s&=~ef,s&=~hc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-rn(s),d=1<<l;r[l]=-1,s&=~d}}function v_(r){if(We&6)throw Error(t(327));Qo();var s=Is(r,0);if(!(s&1))return _n(r,et()),null;var l=yc(r,s);if(r.tag!==0&&l===2){var d=Cn(r);d!==0&&(s=d,l=sf(r,d))}if(l===1)throw l=fl,Fs(r,0),Ui(r,s),_n(r,et()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,js(r,gn,ni),_n(r,et()),null}function af(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Ko=et()+500,Wu&&Di())}}function Vs(r){Fi!==null&&Fi.tag===0&&!(We&6)&&Qo();var s=We;We|=1;var l=zn.transition,d=Ue;try{if(zn.transition=null,Ue=1,r)return r()}finally{Ue=d,zn.transition=l,We=s,!(We&6)&&Di()}}function lf(){Pn=Go.current,rt(Go)}function Fs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,KE(l)),It!==null)for(l=It.return;l!==null;){var d=l;switch(gh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&zu();break;case 3:qo(),rt(fn),rt(Qt),xh();break;case 5:kh(d);break;case 4:qo();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:Th(d.type._context);break;case 22:case 23:lf()}l=l.return}if(Ot=r,It=r=$i(r.current,null),$t=Pn=s,Pt=0,fl=null,ef=hc=Ms=0,gn=pl=null,Ds!==null){for(s=0;s<Ds.length;s++)if(l=Ds[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,d.next=E}l.pending=d}Ds=null}return r}function w_(r,s){do{var l=It;try{if(Eh(),tc.current=sc,nc){for(var d=ct.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}nc=!1}if(Os=0,Lt=xt=ct=null,al=!1,ll=0,Zh.current=null,l===null||l.return===null){Pt=1,fl=s,It=null;break}e:{var g=r,E=l.return,N=l,U=s;if(s=$t,N.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var H=U,te=N,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Wg(E);if(de!==null){de.flags&=-257,Hg(de,E,N,g,s),de.mode&1&&qg(g,H,s),s=de,U=H;var ge=s.updateQueue;if(ge===null){var _e=new Set;_e.add(U),s.updateQueue=_e}else ge.add(U);break e}else{if(!(s&1)){qg(g,H,s),uf();break e}U=Error(t(426))}}else if(at&&N.mode&1){var wt=Wg(E);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Hg(wt,E,N,g,s),vh(Wo(U,N));break e}}g=U=Wo(U,N),Pt!==4&&(Pt=2),pl===null?pl=[g]:pl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=Bg(g,U,s);mg(g,q);break e;case 1:N=U;var $=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Vi===null||!Vi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=zg(g,N,s);mg(g,ie);break e}}g=g.return}while(g!==null)}I_(l)}catch(ye){s=ye,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function E_(){var r=dc.current;return dc.current=sc,r===null?sc:r}function uf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ot===null||!(Ms&268435455)&&!(hc&268435455)||Ui(Ot,$t)}function yc(r,s){var l=We;We|=2;var d=E_();(Ot!==r||$t!==s)&&(ni=null,Fs(r,s));do try{vT();break}catch(f){w_(r,f)}while(!0);if(Eh(),We=l,dc.current=d,It!==null)throw Error(t(261));return Ot=null,$t=0,Pt}function vT(){for(;It!==null;)T_(It)}function wT(){for(;It!==null&&!mu();)T_(It)}function T_(r){var s=R_(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,s===null?I_(r):It=s,Zh.current=null}function I_(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=fT(l,s),l!==null){l.flags&=32767,It=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,It=null;return}}else if(l=hT(l,s,Pn),l!==null){It=l;return}if(s=s.sibling,s!==null){It=s;return}It=s=r}while(s!==null);Pt===0&&(Pt=5)}function js(r,s,l){var d=Ue,f=zn.transition;try{zn.transition=null,Ue=1,ET(r,s,l,d)}finally{zn.transition=f,Ue=d}return null}function ET(r,s,l,d){do Qo();while(Fi!==null);if(We&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Je(r,g),r===Ot&&(It=Ot=null,$t=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||pc||(pc=!0,k_(Mn,function(){return Qo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=zn.transition,zn.transition=null;var E=Ue;Ue=1;var N=We;We|=4,Zh.current=null,mT(r,l),f_(l,r),$E(lh),ki=!!ah,lh=ah=null,r.current=l,gT(l),Wd(),We=N,Ue=E,zn.transition=g}else r.current=l;if(pc&&(pc=!1,Fi=r,mc=f),g=r.pendingLanes,g===0&&(Vi=null),yu(l.stateNode),_n(r,et()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(fc)throw fc=!1,r=nf,nf=null,r;return mc&1&&r.tag!==0&&Qo(),g=r.pendingLanes,g&1?r===rf?ml++:(ml=0,rf=r):ml=0,Di(),null}function Qo(){if(Fi!==null){var r=Ci(mc),s=zn.transition,l=Ue;try{if(zn.transition=null,Ue=16>r?16:r,Fi===null)var d=!1;else{if(r=Fi,Fi=null,mc=0,We&6)throw Error(t(331));var f=We;for(We|=4,fe=r.current;fe!==null;){var g=fe,E=g.child;if(fe.flags&16){var N=g.deletions;if(N!==null){for(var U=0;U<N.length;U++){var H=N[U];for(fe=H;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:hl(8,te,g)}var ne=te.child;if(ne!==null)ne.return=te,fe=ne;else for(;fe!==null;){te=fe;var Z=te.sibling,de=te.return;if(l_(te),te===H){fe=null;break}if(Z!==null){Z.return=de,fe=Z;break}fe=de}}}var ge=g.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var wt=_e.sibling;_e.sibling=null,_e=wt}while(_e!==null)}}fe=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:hl(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,fe=q;break e}fe=g.return}}var $=r.current;for(fe=$;fe!==null;){E=fe;var W=E.child;if(E.subtreeFlags&2064&&W!==null)W.return=E,fe=W;else e:for(E=$;fe!==null;){if(N=fe,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:cc(9,N)}}catch(ye){pt(N,N.return,ye)}if(N===E){fe=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,fe=ie;break e}fe=N.return}}if(We=f,Di(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ts,r)}catch{}d=!0}return d}finally{Ue=l,zn.transition=s}}return!1}function S_(r,s,l){s=Wo(l,s),s=Bg(r,s,1),r=Oi(r,s,1),s=an(),r!==null&&(Ii(r,1,s),_n(r,s))}function pt(r,s,l){if(r.tag===3)S_(r,r,l);else for(;s!==null;){if(s.tag===3){S_(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Vi===null||!Vi.has(d))){r=Wo(l,r),r=zg(s,r,1),s=Oi(s,r,1),r=an(),s!==null&&(Ii(s,1,r),_n(s,r));break}}s=s.return}}function TT(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=an(),r.pingedLanes|=r.suspendedLanes&l,Ot===r&&($t&l)===l&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>et()-tf?Fs(r,0):ef|=l),_n(r,s)}function C_(r,s){s===0&&(r.mode&1?(s=yo,yo<<=1,!(yo&130023424)&&(yo=4194304)):s=1);var l=an();r=Zr(r,s),r!==null&&(Ii(r,s,l),_n(r,l))}function IT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),C_(r,l)}function ST(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),C_(r,l)}var R_;R_=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||fn.current)mn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return mn=!1,dT(r,s,l);mn=!!(r.flags&131072)}else mn=!1,at&&s.flags&1048576&&sg(s,Gu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;lc(r,s),r=s.pendingProps;var f=Vo(s,Qt.current);zo(s,l),f=bh(null,s,d,r,f,l);var g=Dh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pn(d)?(g=!0,qu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ch(s),f.updater=oc,s.stateNode=f,f._reactInternals=s,jh(s,d,r,l),s=zh(null,s,d,!0,g,l)):(s.tag=0,at&&g&&mh(s),on(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(lc(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=RT(d),r=or(d,r),f){case 0:s=Bh(null,s,d,r,l);break e;case 1:s=Jg(null,s,d,r,l);break e;case 11:s=Gg(null,s,d,r,l);break e;case 14:s=Kg(null,s,d,or(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:or(d,f),Bh(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:or(d,f),Jg(r,s,d,f,l);case 3:e:{if(Zg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,pg(r,s),Zu(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Wo(Error(t(423)),s),s=e_(r,s,d,l,f);break e}else if(d!==f){f=Wo(Error(t(424)),s),s=e_(r,s,d,l,f);break e}else for(xn=Pi(s.stateNode.containerInfo.firstChild),An=s,at=!0,sr=null,l=hg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),d===f){s=ti(r,s,l);break e}on(r,s,d,l)}s=s.child}return s;case 5:return _g(s),r===null&&yh(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,uh(d,f)?E=null:g!==null&&uh(d,g)&&(s.flags|=32),Xg(r,s),on(r,s,E,l),s.child;case 6:return r===null&&yh(s),null;case 13:return t_(r,s,l);case 4:return Rh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=$o(s,null,d,l):on(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:or(d,f),Gg(r,s,d,f,l);case 7:return on(r,s,s.pendingProps,l),s.child;case 8:return on(r,s,s.pendingProps.children,l),s.child;case 12:return on(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,tt(Yu,d._currentValue),d._currentValue=E,g!==null)if(ir(g.value,E)){if(g.children===f.children&&!fn.current){s=ti(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){E=g.child;for(var U=N.firstContext;U!==null;){if(U.context===d){if(g.tag===1){U=ei(-1,l&-l),U.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?U.next=U:(U.next=te.next,te.next=U),H.pending=U}}g.lanes|=l,U=g.alternate,U!==null&&(U.lanes|=l),Ih(g.return,l,s),N.lanes|=l;break}U=U.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),Ih(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}on(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,zo(s,l),f=$n(f),d=d(f),s.flags|=1,on(r,s,d,l),s.child;case 14:return d=s.type,f=or(d,s.pendingProps),f=or(d.type,f),Kg(r,s,d,f,l);case 15:return Qg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:or(d,f),lc(r,s),s.tag=1,pn(d)?(r=!0,qu(s)):r=!1,zo(s,l),Ug(s,d,f),jh(s,d,f,l),zh(null,s,d,!0,r,l);case 19:return r_(r,s,l);case 22:return Yg(r,s,l)}throw Error(t(156,s.tag))};function k_(r,s){return go(r,s)}function CT(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,l,d){return new CT(r,s,l,d)}function cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function RT(r){if(typeof r=="function")return cf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ve)return 14}return 2}function $i(r,s){var l=r.alternate;return l===null?(l=qn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function vc(r,s,l,d,f,g){var E=2;if(d=r,typeof r=="function")cf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case x:return Us(l.children,f,g,s);case R:E=8,f|=8;break;case k:return r=qn(12,l,s,f|2),r.elementType=k,r.lanes=g,r;case T:return r=qn(13,l,s,f),r.elementType=T,r.lanes=g,r;case oe:return r=qn(19,l,s,f),r.elementType=oe,r.lanes=g,r;case De:return wc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:E=10;break e;case j:E=9;break e;case F:E=11;break e;case Ve:E=14;break e;case Pe:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=qn(E,l,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function Us(r,s,l,d){return r=qn(7,r,d,s),r.lanes=l,r}function wc(r,s,l,d){return r=qn(22,r,d,s),r.elementType=De,r.lanes=l,r.stateNode={isHidden:!1},r}function df(r,s,l){return r=qn(6,r,null,s),r.lanes=l,r}function hf(r,s,l){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function kT(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ff(r,s,l,d,f,g,E,N,U){return r=new kT(r,s,l,N,U),s===1?(s=1,g===!0&&(s|=8)):s=0,g=qn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(g),r}function AT(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function A_(r){if(!r)return bi;r=r._reactInternals;e:{if(Xn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(pn(l))return ng(r,l,s)}return s}function x_(r,s,l,d,f,g,E,N,U){return r=ff(l,d,!0,r,f,g,E,N,U),r.context=A_(null),l=r.current,d=an(),f=ji(l),g=ei(d,f),g.callback=s??null,Oi(l,g,f),r.current.lanes=f,Ii(r,f,d),_n(r,d),r}function Ec(r,s,l,d){var f=s.current,g=an(),E=ji(f);return l=A_(l),s.context===null?s.context=l:s.pendingContext=l,s=ei(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Oi(f,s,E),r!==null&&(ur(r,f,E,g),Ju(r,f,E)),E}function Tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function P_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function pf(r,s){P_(r,s),(r=r.alternate)&&P_(r,s)}function xT(){return null}var N_=typeof reportError=="function"?reportError:function(r){console.error(r)};function mf(r){this._internalRoot=r}Ic.prototype.render=mf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Ec(r,s,null,null)},Ic.prototype.unmount=mf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vs(function(){Ec(null,r,null,null)}),s[Qr]=null}};function Ic(r){this._internalRoot=r}Ic.prototype.unstable_scheduleHydration=function(r){if(r){var s=Iu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Tr.length&&s!==0&&s<Tr[l].priority;l++);Tr.splice(l,0,r),l===0&&Ru(r)}};function gf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function b_(){}function PT(r,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var H=Tc(E);g.call(H)}}var E=x_(s,d,r,0,null,!1,!1,"",b_);return r._reactRootContainer=E,r[Qr]=E.current,Za(r.nodeType===8?r.parentNode:r),Vs(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var N=d;d=function(){var H=Tc(U);N.call(H)}}var U=ff(r,0,!1,null,null,!1,!1,"",b_);return r._reactRootContainer=U,r[Qr]=U.current,Za(r.nodeType===8?r.parentNode:r),Vs(function(){Ec(s,U,l,d)}),U}function Cc(r,s,l,d,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var N=f;f=function(){var U=Tc(E);N.call(U)}}Ec(s,E,r,f)}else E=PT(l,s,r,f,d);return Tc(E)}Eu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ei(s.pendingLanes);l!==0&&(Si(s,l|1),_n(s,et()),!(We&6)&&(Ko=et()+500,Di()))}break;case 13:Vs(function(){var d=Zr(r,1);if(d!==null){var f=an();ur(d,r,1,f)}}),pf(r,1)}},vo=function(r){if(r.tag===13){var s=Zr(r,134217728);if(s!==null){var l=an();ur(s,r,134217728,l)}pf(r,134217728)}},Tu=function(r){if(r.tag===13){var s=ji(r),l=Zr(r,s);if(l!==null){var d=an();ur(l,r,s,d)}pf(r,s)}},Iu=function(){return Ue},Su=function(r,s){var l=Ue;try{return Ue=r,s()}finally{Ue=l}},uo=function(r,s,l){switch(s){case"input":if(fs(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=Bu(d);if(!f)throw Error(t(90));In(d),fs(d,f)}}}break;case"textarea":ao(r,l);break;case"select":s=l.value,s!=null&&$r(r,!!l.multiple,s,!1)}},_s=af,La=Vs;var NT={usingClientEntryPoint:!1,Events:[nl,Oo,Bu,wr,Da,af]},gl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bT={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Va(r),r===null?null:r.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||xT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Ts=Rc.inject(bT),Sn=Rc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NT,yn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(s))throw Error(t(200));return AT(r,s,null,l)},yn.createRoot=function(r,s){if(!gf(r))throw Error(t(299));var l=!1,d="",f=N_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=ff(r,1,!1,null,null,l,!1,d,f),r[Qr]=s.current,Za(r.nodeType===8?r.parentNode:r),new mf(s)},yn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Va(s),r=r===null?null:r.stateNode,r},yn.flushSync=function(r){return Vs(r)},yn.hydrate=function(r,s,l){if(!Sc(s))throw Error(t(200));return Cc(null,r,s,!0,l)},yn.hydrateRoot=function(r,s,l){if(!gf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",E=N_;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=x_(s,null,r,1,l??null,f,!1,g,E),r[Qr]=s.current,Za(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Ic(s)},yn.render=function(r,s,l){if(!Sc(s))throw Error(t(200));return Cc(null,r,s,!1,l)},yn.unmountComponentAtNode=function(r){if(!Sc(r))throw Error(t(40));return r._reactRootContainer?(Vs(function(){Cc(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},yn.unstable_batchedUpdates=af,yn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Sc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Cc(r,s,l,!1,d)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var U_;function UT(){if(U_)return vf.exports;U_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vf.exports=jT(),vf.exports}var $_;function $T(){if($_)return kc;$_=1;var n=UT();return kc.createRoot=n.createRoot,kc.hydrateRoot=n.hydrateRoot,kc}var BT=$T(),yl={},B_;function zT(){if(B_)return yl;B_=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=c,yl.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,b){const A=new a,D=S.length;if(D<2)return A;const P=(b==null?void 0:b.decode)||w;let V=0;do{const O=S.indexOf("=",V);if(O===-1)break;const G=S.indexOf(";",V),Q=G===-1?D:G;if(O>Q){V=S.lastIndexOf(";",O-1)+1;continue}const ue=h(S,V,O),ee=p(S,O,ue),x=S.slice(ue,ee);if(A[x]===void 0){let R=h(S,O+1,Q),k=p(S,Q,R);const L=P(S.slice(R,k));A[x]=L}V=Q+1}while(V<D);return A}function h(S,b,A){do{const D=S.charCodeAt(b);if(D!==32&&D!==9)return b}while(++b<A);return A}function p(S,b,A){for(;b>A;){const D=S.charCodeAt(--b);if(D!==32&&D!==9)return b+1}return A}function _(S,b,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=D(b);if(!e.test(P))throw new TypeError(`argument val is invalid: ${b}`);let V=S+"="+P;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!I(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return yl}zT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function qT(n={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=eo(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ff("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");h=_===-1?p:p.slice(0,_)}return h+"#"+(typeof a=="string"?a:Ml(a))}function i(o,a){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HT(e,t,i,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WT(){return Math.random().toString(36).substring(2,10)}function q_(n,e){return{usr:n.state,key:n.key,idx:e}}function Ff(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||i||WT()}}function Ml({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function HT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,_=w();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function w(){return(c.state||{idx:null}).idx}function I(){h="POP";let P=w(),V=P==null?null:P-_;_=P,p&&p({action:h,location:D.location,delta:V})}function S(P,V){h="PUSH";let O=Ff(D.location,P,V);t&&t(O,P),_=w()+1;let G=q_(O,_),Q=D.createHref(O);try{c.pushState(G,"",Q)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(Q)}a&&p&&p({action:h,location:D.location,delta:1})}function b(P,V){h="REPLACE";let O=Ff(D.location,P,V);t&&t(O,P),_=w();let G=q_(O,_),Q=D.createHref(O);c.replaceState(G,"",Q),a&&p&&p({action:h,location:D.location,delta:0})}function A(P){let V=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof P=="string"?P:Ml(P);return O=O.replace(/ $/,"%20"),lt(V,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,V)}let D={get action(){return h},get location(){return n(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,I),p=P,()=>{o.removeEventListener(z_,I),p=null}},createHref(P){return e(o,P)},createURL:A,encodeLocation(P){let V=A(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:b,go(P){return c.go(P)}};return D}function xv(n,e,t="/"){return GT(n,e,t,!1)}function GT(n,e,t,i){let o=typeof e=="string"?eo(e):e,a=es(o.pathname||"/",t);if(a==null)return null;let c=Pv(n);KT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let _=s1(a);h=r1(c[p],_,i)}return h}function Pv(n,e=[],t=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=li([i,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Pv(a.children,e,w,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:t1(_,a.index),routesMeta:w})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of Nv(a.path))o(a,c,p)}),e}function Nv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Nv(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function KT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:n1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QT=/^:[\w-]+$/,YT=3,XT=2,JT=1,ZT=10,e1=-2,W_=n=>n==="*";function t1(n,e){let t=n.split("/"),i=t.length;return t.some(W_)&&(i+=e1),e&&(i+=XT),t.filter(o=>!W_(o)).reduce((o,a)=>o+(QT.test(a)?YT:a===""?JT:ZT),i)}function n1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function r1(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],_=h===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",I=Xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},w),S=p.route;if(!I&&_&&t&&!i[i.length-1].route.index&&(I=Xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),c.push({params:o,pathname:li([a,I.pathname]),pathnameBase:u1(li([a,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(a=li([a,I.pathnameBase]))}return c}function Xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=i1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((_,{paramName:w,isOptional:I},S)=>{if(w==="*"){let A=h[S]||"";c=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=h[S];return I&&!b?_[w]=void 0:_[w]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:c,pattern:n}}function i1(n,e=!1,t=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function s1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function es(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function o1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?eo(n):n;return{pathname:t?t.startsWith("/")?t:a1(t,e):e,search:c1(i),hash:d1(o)}}function a1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Tf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pp(n){let e=l1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function mp(n,e,t,i=!1){let o;typeof n=="string"?o=eo(n):(o={...n},lt(!o.pathname||!o.pathname.includes("?"),Tf("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Tf("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Tf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let I=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}h=I>=0?e[I]:"/"}let p=o1(o,h),_=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||w)&&(p.pathname+="/"),p}var li=n=>n.join("/").replace(/\/\/+/g,"/"),u1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bv=["POST","PUT","PATCH","DELETE"];new Set(bv);var f1=["GET",...bv];new Set(f1);var ma=M.createContext(null);ma.displayName="DataRouter";var gd=M.createContext(null);gd.displayName="DataRouterState";var Dv=M.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var p1=M.createContext(new Map);p1.displayName="Fetchers";var m1=M.createContext(null);m1.displayName="Await";var mr=M.createContext(null);mr.displayName="Navigation";var Yl=M.createContext(null);Yl.displayName="Location";var gr=M.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var gp=M.createContext(null);gp.displayName="RouteError";function g1(n,{relative:e}={}){lt(ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(mr),{hash:o,pathname:a,search:c}=Xl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:li([t,a])),i.createHref({pathname:h,search:c,hash:o})}function ga(){return M.useContext(Yl)!=null}function _r(){return lt(ga(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Yl).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(n){M.useContext(mr).static||M.useLayoutEffect(n)}function ls(){let{isDataRoute:n}=M.useContext(gr);return n?N1():_1()}function _1(){lt(ga(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(ma),{basename:e,navigator:t}=M.useContext(mr),{matches:i}=M.useContext(gr),{pathname:o}=_r(),a=JSON.stringify(pp(i)),c=M.useRef(!1);return Ov(()=>{c.current=!0}),M.useCallback((p,_={})=>{if(Gn(c.current,Lv),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=mp(p,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:li([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,a,o,n])}var y1=M.createContext(null);function v1(n){let e=M.useContext(gr).outlet;return e&&M.createElement(y1.Provider,{value:n},e)}function Xl(n,{relative:e}={}){let{matches:t}=M.useContext(gr),{pathname:i}=_r(),o=JSON.stringify(pp(t));return M.useMemo(()=>mp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function w1(n,e){return Mv(n,e)}function Mv(n,e,t,i){var V;lt(ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(mr),{matches:a}=M.useContext(gr),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",w=c&&c.route;{let O=w&&w.path||"";Vv(p,!w||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let I=_r(),S;if(e){let O=typeof e=="string"?eo(e):e;lt(_==="/"||((V=O.pathname)==null?void 0:V.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=I;let b=S.pathname||"/",A=b;if(_!=="/"){let O=_.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=xv(n,{pathname:A});Gn(w||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Gn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=C1(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:li([_,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?_:li([_,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,i);return e&&P?M.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function E1(){let n=P1(),e=h1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,c)}var T1=M.createElement(E1,null),I1=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(gr.Provider,{value:this.props.routeContext},M.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S1({routeContext:n,match:e,children:t}){let i=M.useContext(ma);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(gr.Provider,{value:n},t)}function C1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(_=>_.route.id&&(a==null?void 0:a[_.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=p),_.route.id){let{loaderData:w,errors:I}=t,S=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||S){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,_,w)=>{let I,S=!1,b=null,A=null;t&&(I=a&&_.route.id?a[_.route.id]:void 0,b=_.route.errorElement||T1,c&&(h<0&&w===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):h===w&&(S=!0,A=_.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,w+1)),P=()=>{let V;return I?V=b:S?V=A:_.route.Component?V=M.createElement(_.route.Component,null):_.route.element?V=_.route.element:V=p,M.createElement(S1,{match:_,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:V})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?M.createElement(I1,{location:t.location,revalidation:t.revalidation,component:b,error:I,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}function _p(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(n){let e=M.useContext(ma);return lt(e,_p(n)),e}function k1(n){let e=M.useContext(gd);return lt(e,_p(n)),e}function A1(n){let e=M.useContext(gr);return lt(e,_p(n)),e}function yp(n){let e=A1(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function x1(){return yp("useRouteId")}function P1(){var i;let n=M.useContext(gp),e=k1("useRouteError"),t=yp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function N1(){let{router:n}=R1("useNavigate"),e=yp("useNavigate"),t=M.useRef(!1);return Ov(()=>{t.current=!0}),M.useCallback(async(o,a={})=>{Gn(t.current,Lv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var H_={};function Vv(n,e,t){!e&&!H_[n]&&(H_[n]=!0,Gn(!1,t))}M.memo(b1);function b1({routes:n,future:e,state:t}){return Mv(n,void 0,t,e)}function G_({to:n,replace:e,state:t,relative:i}){lt(ga(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(mr);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=M.useContext(gr),{pathname:c}=_r(),h=ls(),p=mp(n,pp(a),c,i==="path"),_=JSON.stringify(p);return M.useEffect(()=>{h(JSON.parse(_),{replace:e,state:t,relative:i})},[h,_,i,e,t]),null}function D1(n){return v1(n.context)}function bn(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){lt(!ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=eo(t));let{pathname:p="/",search:_="",hash:w="",state:I=null,key:S="default"}=t,b=M.useMemo(()=>{let A=es(p,c);return A==null?null:{location:{pathname:A,search:_,hash:w,state:I,key:S},navigationType:i}},[c,p,_,w,I,S,i]);return Gn(b!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(mr.Provider,{value:h},M.createElement(Yl.Provider,{children:e,value:b}))}function O1({children:n,location:e}){return w1(jf(n),e)}function jf(n,e=[]){let t=[];return M.Children.forEach(n,(i,o)=>{if(!M.isValidElement(i))return;let a=[...e,o];if(i.type===M.Fragment){t.push.apply(t,jf(i.props.children,a));return}lt(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=jf(i.props.children,a)),t.push(c)}),t}var jc="get",Uc="application/x-www-form-urlencoded";function _d(n){return n!=null&&typeof n.tagName=="string"}function M1(n){return _d(n)&&n.tagName.toLowerCase()==="button"}function V1(n){return _d(n)&&n.tagName.toLowerCase()==="form"}function F1(n){return _d(n)&&n.tagName.toLowerCase()==="input"}function j1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U1(n,e){return n.button===0&&(!e||e==="_self")&&!j1(n)}var Ac=null;function $1(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(n){return n!=null&&!B1.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):n}function z1(n,e){let t,i,o,a,c;if(V1(n)){let h=n.getAttribute("action");i=h?es(h,e):null,t=n.getAttribute("method")||jc,o=If(n.getAttribute("enctype"))||Uc,a=new FormData(n)}else if(M1(n)||F1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?es(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||jc,o=If(n.getAttribute("formenctype"))||If(h.getAttribute("enctype"))||Uc,a=new FormData(h,n),!$1()){let{name:_,type:w,value:I}=n;if(w==="image"){let S=_?`${_}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else _&&a.append(_,I)}}else{if(_d(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jc,i=null,o=Uc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function vp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function q1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function H1(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await q1(a,t);return c.links?c.links():[]}return[]}));return Y1(i.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K_(n,e,t,i,o,a){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,h=(p,_)=>{var w;return t[_].pathname!==p.pathname||((w=t[_].route.path)==null?void 0:w.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,_)=>c(p,_)||h(p,_)):a==="data"?e.filter((p,_)=>{var I;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,_)||h(p,_))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function G1(n,e){return K1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function K1(n){return[...new Set(n)]}function Q1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Y1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(Q1(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function X1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J1(){let n=M.useContext(ma);return vp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z1(){let n=M.useContext(gd);return vp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wp=M.createContext(void 0);wp.displayName="FrameworkContext";function Fv(){let n=M.useContext(wp);return vp(n,"You must render this element inside a <HydratedRouter> element"),n}function eI(n,e){let t=M.useContext(wp),[i,o]=M.useState(!1),[a,c]=M.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:_,onMouseLeave:w,onTouchStart:I}=e,S=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=V=>{V.forEach(O=>{c(O.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),M.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let b=()=>{o(!0)},A=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:vl(h,b),onBlur:vl(p,A),onMouseEnter:vl(_,b),onMouseLeave:vl(w,A),onTouchStart:vl(I,b)}]:[!1,S,{}]}function vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tI({page:n,...e}){let{router:t}=J1(),i=M.useMemo(()=>xv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(rI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function nI(n){let{manifest:e,routeModules:t}=Fv(),[i,o]=M.useState([]);return M.useEffect(()=>{let a=!1;return H1(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function rI({page:n,matches:e,...t}){let i=_r(),{manifest:o,routeModules:a}=Fv(),{loaderData:c,matches:h}=Z1(),p=M.useMemo(()=>K_(n,e,h,o,i,"data"),[n,e,h,o,i]),_=M.useMemo(()=>K_(n,e,h,o,i,"assets"),[n,e,h,o,i]),w=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,A=!1;if(e.forEach(P=>{var O;let V=o.routes[P.route.id];!V||!V.hasLoader||(!p.some(G=>G.route.id===P.route.id)&&P.route.id in c&&((O=a[P.route.id])!=null&&O.shouldRevalidate)||V.hasClientLoader?A=!0:b.add(P.route.id))}),b.size===0)return[];let D=X1(n);return A&&b.size>0&&D.searchParams.set("_routes",e.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[c,i,o,p,e,n,a]),I=M.useMemo(()=>G1(_,o),[_,o]),S=nI(_);return M.createElement(M.Fragment,null,w.map(b=>M.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),I.map(b=>M.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),S.map(({key:b,link:A})=>M.createElement("link",{key:b,...A})))}function iI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jv&&(window.__reactRouterVersion="7.0.2")}catch{}function sI({basename:n,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=qT({window:t,v5Compat:!0}));let o=i.current,[a,c]=M.useState({action:o.action,location:o.location}),h=M.useCallback(p=>{M.startTransition(()=>c(p))},[c]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.createElement(L1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:_,preventScrollReset:w,viewTransition:I,...S},b){let{basename:A}=M.useContext(mr),D=typeof _=="string"&&Uv.test(_),P,V=!1;if(typeof _=="string"&&D&&(P=_,jv))try{let k=new URL(window.location.href),L=_.startsWith("//")?new URL(k.protocol+_):new URL(_),j=es(L.pathname,A);L.origin===k.origin&&j!=null?_=j+L.search+L.hash:V=!0}catch{Gn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=g1(_,{relative:o}),[G,Q,ue]=eI(i,S),ee=uI(_,{replace:c,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:I});function x(k){e&&e(k),k.defaultPrevented||ee(k)}let R=M.createElement("a",{...S,...ue,href:P||O,onClick:V||a?e:x,ref:iI(b,Q),target:p,"data-discover":!D&&t==="render"?"true":void 0});return G&&!D?M.createElement(M.Fragment,null,R,M.createElement(tI,{page:O})):R});Wi.displayName="Link";var oI=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,..._},w){let I=Xl(c,{relative:_.relative}),S=_r(),b=M.useContext(gd),{navigator:A,basename:D}=M.useContext(mr),P=b!=null&&pI(I)&&h===!0,V=A.encodeLocation?A.encodeLocation(I).pathname:I.pathname,O=S.pathname,G=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(O=O.toLowerCase(),G=G?G.toLowerCase():null,V=V.toLowerCase()),G&&D&&(G=es(G,D)||G);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ue=O===V||!o&&O.startsWith(V)&&O.charAt(Q)==="/",ee=G!=null&&(G===V||!o&&G.startsWith(V)&&G.charAt(V.length)==="/"),x={isActive:ue,isPending:ee,isTransitioning:P},R=ue?e:void 0,k;typeof i=="function"?k=i(x):k=[i,ue?"active":null,ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(x):a;return M.createElement(Wi,{..._,"aria-current":R,className:k,ref:w,style:L,to:c,viewTransition:h},typeof p=="function"?p(x):p)});oI.displayName="NavLink";var aI=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=jc,action:h,onSubmit:p,relative:_,preventScrollReset:w,viewTransition:I,...S},b)=>{let A=hI(),D=fI(h,{relative:_}),P=c.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&Uv.test(h),O=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,ue=(Q==null?void 0:Q.getAttribute("formmethod"))||c;A(Q||G.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:a,relative:_,preventScrollReset:w,viewTransition:I})};return M.createElement("form",{ref:b,method:P,action:D,onSubmit:i?p:O,...S,"data-discover":!V&&n==="render"?"true":void 0})});aI.displayName="Form";function lI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $v(n){let e=M.useContext(ma);return lt(e,lI(n)),e}function uI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=ls(),p=_r(),_=Xl(n,{relative:a});return M.useCallback(w=>{if(U1(w,e)){w.preventDefault();let I=t!==void 0?t:Ml(p)===Ml(_);h(n,{replace:I,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,_,t,i,e,n,o,a,c])}var cI=0,dI=()=>`__${String(++cI)}__`;function hI(){let{router:n}=$v("useSubmit"),{basename:e}=M.useContext(mr),t=x1();return M.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:_}=z1(i,e);if(o.navigate===!1){let w=o.fetcherKey||dI();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function fI(n,{relative:e}={}){let{basename:t}=M.useContext(mr),i=M.useContext(gr);lt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Xl(n||".",{relative:e})},c=_r();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(I=>I).forEach(I=>h.append("index",I));let w=h.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:li([t,a.pathname])),Ml(a)}function pI(n,e={}){let t=M.useContext(Dv);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$v("useViewTransitionState"),o=Xl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=es(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=es(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Xc(o.pathname,c)!=null||Xc(o.pathname,a)!=null}new TextEncoder;const mI="_sidebar_86llt_1",gI="_profileSection_86llt_19",_I="_navigation_86llt_35",yI="_avatar_86llt_43",vI="_userInfo_86llt_69",wI="_navList_86llt_125",EI="_navItem_86llt_143",TI="_navLink_86llt_151",II="_createEventBtn_86llt_181",SI="_dropdown_86llt_217",CI="_dropdownItem_86llt_257",RI="_logoutBtn_86llt_279",kI="_dashboardContainer_86llt_321",AI="_mainContent_86llt_329",xI="_welcomeContainer_86llt_361",PI="_welcomeTitle_86llt_381",NI="_welcomeText_86llt_401",bI="_hamburgerBtn_86llt_409",DI="_overlay_86llt_435",LI="_sidebarOpen_86llt_475",Ie={sidebar:mI,profileSection:gI,navigation:_I,avatar:yI,userInfo:vI,navList:wI,navItem:EI,navLink:TI,createEventBtn:II,dropdown:SI,dropdownItem:CI,logoutBtn:RI,dashboardContainer:kI,mainContent:AI,welcomeContainer:xI,welcomeTitle:PI,welcomeText:NI,hamburgerBtn:bI,overlay:DI,sidebarOpen:LI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},p)=>M.createElement("svg",{ref:p,...MI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Bv("lucide",o),...h},[...c.map(([_,w])=>M.createElement(_,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(n,e)=>{const t=M.forwardRef(({className:i,...o},a)=>M.createElement(VI,{ref:a,iconNode:e,className:Bv(`lucide-${OI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=gt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=gt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=gt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=gt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=gt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=gt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=gt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=gt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=gt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=gt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=gt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=gt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=gt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=gt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=gt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=gt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=gt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=gt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,w=a>>2,I=(a&3)<<4|h>>4;let S=(h&15)<<2|_>>6,b=_&63;p||(b=64,c||(S=64)),i.push(t[w],t[I],t[S],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||_==null||I==null)throw new JI;const S=a<<2|h>>4;if(i.push(S),_!==64){const b=h<<4&240|_>>2;if(i.push(b),I!==64){const A=_<<6&192|I;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(n){const e=Gv(n);return Kv.encodeByteArray(e,!0)},Jc=function(n){return ZI(n).replace(/\./g,"")},Qv=function(n){try{return Kv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof Y_>"u")return;const n=Y_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qv(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return tS()||nS()||rS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yv=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Xv=n=>{const e=Yv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jv=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},Zv=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jc(JSON.stringify(t)),Jc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function oS(){var n;const e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class Vr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pS,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?mS(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Vr(o,h,i)}}function mS(n,e){return n.replace(gS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const gS=/\{\$([^}]+)}/g;function _S(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(X_(a)&&X_(c)){if(!Zc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function X_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Cl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yS(n,e){const t=new vS(n,e);return t.subscribe.bind(t)}class vS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Sf),o.error===void 0&&(o.error=Sf),o.complete===void 0&&(o.complete=Sf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){return n&&n._delegate?n._delegate:n}class ts{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new iS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(n){return n===Bs?void 0:n}function IS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ES(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const CS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},RS=Fe.INFO,kS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},AS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=kS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=RS,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const xS=(n,e)=>e.some(t=>n instanceof t);let J_,Z_;function PS(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tw=new WeakMap,Uf=new WeakMap,nw=new WeakMap,Cf=new WeakMap,Ip=new WeakMap;function bS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Xi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tw.set(t,n)}).catch(()=>{}),Ip.set(e,n),e}function DS(n){if(Uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Uf.set(n,e)}let $f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LS(n){$f=n($f)}function OS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Rf(this),e,...t);return nw.set(i,e.sort?e.sort():[e]),Xi(i)}:NS().includes(n)?function(...e){return n.apply(Rf(this),e),Xi(tw.get(this))}:function(...e){return Xi(n.apply(Rf(this),e))}}function MS(n){return typeof n=="function"?OS(n):(n instanceof IDBTransaction&&DS(n),xS(n,PS())?new Proxy(n,$f):n)}function Xi(n){if(n instanceof IDBRequest)return bS(n);if(Cf.has(n))return Cf.get(n);const e=MS(n);return e!==n&&(Cf.set(n,e),Ip.set(e,n)),e}const Rf=n=>Ip.get(n);function VS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Xi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Xi(c.result),p.oldVersion,p.newVersion,Xi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}const FS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],kf=new Map;function ey(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=jS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FS.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(h.shift())),(await Promise.all([_[t](...h),o&&p.done]))[0]};return kf.set(e,a),a}LS(n=>({...n,get:(e,t,i)=>ey(e,t)||n.get(e,t,i),has:(e,t)=>!!ey(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($S(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $S(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",ty="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Tp("@firebase/app"),BS="@firebase/app-compat",zS="@firebase/analytics-compat",qS="@firebase/analytics",WS="@firebase/app-check-compat",HS="@firebase/app-check",GS="@firebase/auth",KS="@firebase/auth-compat",QS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",rC="@firebase/messaging-compat",iC="@firebase/performance",sC="@firebase/performance-compat",oC="@firebase/remote-config",aC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",dC="@firebase/vertexai",hC="@firebase/firestore-compat",fC="firebase",pC="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",mC={[Bf]:"fire-core",[BS]:"fire-core-compat",[qS]:"fire-analytics",[zS]:"fire-analytics-compat",[HS]:"fire-app-check",[WS]:"fire-app-check-compat",[GS]:"fire-auth",[KS]:"fire-auth-compat",[QS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[rC]:"fire-fcm-compat",[iC]:"fire-perf",[sC]:"fire-perf-compat",[oC]:"fire-rc",[aC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[hC]:"fire-fst-compat",[dC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,gC=new Map,qf=new Map;function ny(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qs(n){const e=n.name;if(qf.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,n);for(const t of ed.values())ny(t,n);for(const t of gC.values())ny(t,n);return!0}function wd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Jl("app","Firebase",_C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=pC;function _a(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(t||(t=Jv()),!t)throw Ji.create("no-options");const a=ed.get(o);if(a){if(Zc(t,a.options)&&Zc(i,a.config))return a;throw Ji.create("duplicate-app",{appName:o})}const c=new SS(o);for(const p of qf.values())c.addComponent(p);const h=new yC(t,i,c);return ed.set(o,h),h}function Sp(n=zf){const e=ed.get(n);if(!e&&n===zf&&Jv())return _a();if(!e)throw Ji.create("no-app",{appName:n});return e}function br(n,e,t){var i;let o=(i=mC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}Qs(new ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",wC=1,Vl="firebase-heartbeat-store";let Af=null;function rw(){return Af||(Af=VS(vC,wC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),Af}async function EC(n){try{const t=(await rw()).transaction(Vl),i=await t.objectStore(Vl).get(iw(n));return await t.done,i}catch(e){if(e instanceof Vr)di.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function ry(n,e){try{const i=(await rw()).transaction(Vl,"readwrite");await i.objectStore(Vl).put(e,iw(n)),await i.done}catch(t){if(t instanceof Vr)di.warn(t.message);else{const i=Ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(i.message)}}}function iw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1024,IC=30*24*60*60*1e3;class SC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=IC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iy(),{heartbeatsToSend:i,unsentEntries:o}=CC(this._heartbeatsCache.heartbeats),a=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return di.warn(t),""}}}function iy(){return new Date().toISOString().substring(0,10)}function CC(n,e=TC){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),sy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sy(n){return Jc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){Qs(new ts("platform-logger",e=>new US(e),"PRIVATE")),Qs(new ts("heartbeat",e=>new SC(e),"PRIVATE")),br(Bf,ty,n),br(Bf,ty,"esm2017"),br("fire-js","")}kC("");var AC="firebase",xC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(AC,xC,"app");function Cp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=sw,ow=new Jl("auth","Firebase",sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Tp("@firebase/auth");function NC(n,...e){td.logLevel<=Fe.WARN&&td.warn(`Auth (${to}): ${n}`,...e)}function $c(n,...e){td.logLevel<=Fe.ERROR&&td.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(n,...e){throw kp(n,...e)}function hr(n,...e){return kp(n,...e)}function Rp(n,e,t){const i=Object.assign(Object.assign({},PC()),{[e]:t});return new Jl("auth","Firebase",i).create(e,{appName:n.name})}function ui(n){return Rp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Kn(n,"argument-error"),Rp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ow.create(n,...e)}function Se(n,e,...t){if(!n)throw kp(e,...t)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $c(e),new Error(e)}function hi(n,e){n||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function DC(){return oy()==="http:"||oy()==="https:"}function oy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DC()||lS()||"connection"in navigator)?navigator.onLine:!0}function OC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new eu(3e4,6e4);function gi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function _i(n,e,t,i,o={}){return lw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Zl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},a);return aS()||(_.referrerPolicy="no-referrer"),aw.fetch()(uw(n,n.config.apiHost,t,h),_)})}async function lw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},MC),e);try{const o=new jC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Pc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,_]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Pc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Pc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Rp(n,w,_);Kn(n,w)}}catch(o){if(o instanceof Vr)throw o;Kn(n,"network-request-failed",{message:String(o)})}}async function tu(n,e,t,i,o={}){const a=await _i(n,e,t,i,o);return"mfaPendingCredential"in a&&Kn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function uw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ap(n.config,o):`${n.config.apiScheme}://${o}`}function FC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(hr(this.auth,"network-request-failed")),VC.get())})}}function Pc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=hr(n,e,i);return o.customData._tokenResponse=t,o}function ay(n){return n!==void 0&&n.enterprise!==void 0}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $C(n,e){return _i(n,"GET","/v2/recaptchaConfig",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){return _i(n,"POST","/v1/accounts:delete",e)}async function cw(n,e){return _i(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zC(n,e=!1){const t=st(n),i=await t.getIdToken(e),o=xp(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Pl(xf(o.auth_time)),issuedAtTime:Pl(xf(o.iat)),expirationTime:Pl(xf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(n){return Number(n)*1e3}function xp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qv(t);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ly(n){const e=xp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vr&&qC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function qC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fl(n,cw(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?dw(a.providerUserInfo):[],h=GC(n.providerData,c),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),w=p?_:!1,I={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Hf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,I)}async function HC(n){const e=st(n);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function dw(n){return n.map(e=>{var{providerId:t}=e,i=Cp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e){const t=await lw(n,{},async()=>{const i=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=uw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",aw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QC(n,e){return _i(n,"POST","/v2/accounts:revokeToken",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ly(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=ly(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await KC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ra;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zC(this,e)}reload(){return HC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Fl(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,p,_,w;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,V=(_=t.createdAt)!==null&&_!==void 0?_:void 0,O=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:G,emailVerified:Q,isAnonymous:ue,providerData:ee,stsTokenManager:x}=t;Se(G&&x,e,"internal-error");const R=ra.fromJSON(this.name,x);Se(typeof G=="string",e,"internal-error"),zi(I,e.name),zi(S,e.name),Se(typeof Q=="boolean",e,"internal-error"),Se(typeof ue=="boolean",e,"internal-error"),zi(b,e.name),zi(A,e.name),zi(D,e.name),zi(P,e.name),zi(V,e.name),zi(O,e.name);const k=new si({uid:G,auth:e,email:S,emailVerified:Q,displayName:I,isAnonymous:ue,photoURL:A,phoneNumber:b,tenantId:D,stsTokenManager:R,createdAt:V,lastLoginAt:O});return ee&&Array.isArray(ee)&&(k.providerData=ee.map(L=>Object.assign({},L))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new ra;o.updateFromServerResponse(t);const a=new si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await nd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?dw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new ra;h.updateFromIdToken(i);const p=new si({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map;function oi(n){hi(n instanceof Function,"Expected a class definition");let e=uy.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hw.type="NONE";const cy=hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n,e,t){return`firebase:${n}:${e}:${t}`}class ia{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ia(oi(cy),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||oi(cy);const c=Bc(i,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const w=await _._get(c);if(w){const I=si._fromJSON(e,w);_!==a&&(h=I),a=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ia(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(c)}catch{}})),new ia(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yw(e))return"Blackberry";if(vw(e))return"Webos";if(pw(e))return"Safari";if((e.includes("chrome/")||mw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fw(n=nn()){return/firefox\//i.test(n)}function pw(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mw(n=nn()){return/crios\//i.test(n)}function gw(n=nn()){return/iemobile/i.test(n)}function _w(n=nn()){return/android/i.test(n)}function yw(n=nn()){return/blackberry/i.test(n)}function vw(n=nn()){return/webos/i.test(n)}function Pp(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YC(n=nn()){var e;return Pp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XC(){return cS()&&document.documentMode===10}function ww(n=nn()){return Pp(n)||_w(n)||vw(n)||yw(n)||/windows phone/i.test(n)||gw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e=[]){let t;switch(n){case"Browser":t=dy(nn());break;case"Worker":t=`${dy(nn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e={}){return _i(n,"GET","/v2/passwordPolicy",gi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=6;class tR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:eR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hy(this),this.idTokenSubscription=new hy(this),this.beforeStateQueue=new JC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cw(this,{idToken:e}),i=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(ui(this));const t=e?st(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZC(this),t=new tR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await QC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function us(n){return st(n)}class hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(n){Ed=n}function Tw(n){return Ed.loadJS(n)}function iR(){return Ed.recaptchaEnterpriseScript}function sR(){return Ed.gapiScript}function oR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aR{constructor(){this.enterprise=new lR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uR="recaptcha-enterprise",Iw="NO_RECAPTCHA";class cR{constructor(e){this.type=uR,this.auth=us(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{$C(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const _=new UC(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,c(_.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;ay(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{c(_)}).catch(()=>{c(Iw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&ay(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iR();p.length!==0&&(p+=h),Tw(p).then(()=>{o(h,a,c)}).catch(_=>{c(_)})}}).catch(h=>{c(h)})})}}async function fy(n,e,t,i=!1,o=!1){const a=new cR(n);let c;if(o)c=Iw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,_=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Gf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await fy(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await fy(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n,e){const t=wd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Zc(a,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function hR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fR(n,e,t){const i=us(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Sw(e),{host:c,port:h}=pR(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),mR()}function Sw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pR(n){const e=Sw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:py(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:py(c)}}}function py(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function gR(n,e){return _i(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",gi(n,e))}async function yR(n,e){return _i(n,"POST","/v1/accounts:sendOobCode",gi(n,e))}async function vR(n,e){return yR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",gi(n,e))}async function ER(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Np{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new jl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,t,"signInWithPassword",_R);case"emailLink":return wR(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,i,"signUpPassword",gR);case"emailLink":return ER(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="http://localhost";class Ys extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Cp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ys(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return sa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}buildRequest(){const e={requestUri:TR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(n){const e=Sl(Cl(n)).link,t=e?Sl(Cl(e)).deep_link_id:null,i=Sl(Cl(n)).deep_link_id;return(i?Sl(Cl(i)).link:null)||i||t||e||n}class bp{constructor(e){var t,i,o,a,c,h;const p=Sl(Cl(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,I=IR((o=p.mode)!==null&&o!==void 0?o:null);Se(_&&w&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=SR(e);try{return new bp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=bp.parseLink(t);return Se(i,"argument-error"),jl._fromEmailAndCode(e,i.code,i.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends nu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ri.credential(t,i)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends nu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends nu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ki.credential(t,i)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e){return tu(n,"POST","/v1/accounts:signUp",gi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await si._fromIdTokenResponse(e,i,o),c=my(i);return new Xs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=my(i);return new Xs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function my(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Vr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new rd(e,t,i,o)}}function Cw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(n,a,e,i):a})}async function RR(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e,t=!1){const{auth:i}=n;if(cr(i.app))return Promise.reject(ui(i));const o="reauthenticate";try{const a=await Fl(n,Cw(i,o,e,n),t);Se(a.idToken,i,"internal-error");const c=xp(a.idToken);Se(c,i,"internal-error");const{sub:h}=c;return Se(n.uid===h,i,"user-mismatch"),Xs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Kn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(n,e,t=!1){if(cr(n.app))return Promise.reject(ui(n));const i="signIn",o=await Cw(n,i,e),a=await Xs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function AR(n,e){return Rw(us(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(n){const e=us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Aw(n,e,t){if(cr(n.app))return Promise.reject(ui(n));const i=us(n),c=await Gf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kw(n),p}),h=await Xs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function Nc(n,e,t){return cr(n.app)?Promise.reject(ui(n)):AR(st(n),ya.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kw(n),i})}async function xw(n,e){const t=st(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await vR(t.auth,o);a!==n.email&&await n.reload()}function xR(n,e,t,i){return st(n).onIdTokenChanged(e,t,i)}function PR(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function Ul(n){return st(n).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1e3,bR=10;class Nw extends Pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ww(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);XC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nw.type="LOCAL";const DR=Nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bw.type="SESSION";const Dw=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Td(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async _=>_(t.origin,a)),p=await LR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const _=Lp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(S.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function MR(n){Dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function VR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jR(){return Lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firebaseLocalStorageDb",UR=1,sd="firebaseLocalStorage",Mw="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Id(n,e){return n.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function $R(){const n=indexedDB.deleteDatabase(Ow);return new ru(n).toPromise()}function Kf(){const n=indexedDB.open(Ow,UR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sd,{keyPath:Mw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sd)?e(i):(i.close(),await $R(),e(await Kf()))})})}async function gy(n,e,t){const i=Id(n,!0).put({[Mw]:e,value:t});return new ru(i).toPromise()}async function BR(n,e){const t=Id(n,!1).get(e),i=await new ru(t).toPromise();return i===void 0?null:i.value}function _y(n,e){const t=Id(n,!0).delete(e);return new ru(t).toPromise()}const zR=800,qR=3;class Vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(jR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kf();return await gy(e,id,"1"),await _y(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>gy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>BR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_y(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Id(o,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vw.type="LOCAL";const WR=Vw;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e){return e?oi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HR(n){return Rw(n.auth,new Op(n),n.bypassAuthState)}function GR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),kR(t,new Op(n),n.bypassAuthState)}async function KR(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),RR(t,new Op(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HR;case"linkViaPopup":case"linkViaRedirect":return KR;case"reauthViaPopup":case"reauthViaRedirect":return GR;default:Kn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new eu(2e3,1e4);async function YR(n,e,t){if(cr(n.app))return Promise.reject(hr(n,"operation-not-supported-in-this-environment"));const i=us(n);bC(n,e,Dp);const o=Fw(i,t);return new Ws(i,"signInViaPopup",e,o).executeNotNull()}class Ws extends jw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QR.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="pendingRedirect",zc=new Map;class JR extends jw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const i=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(n,e){const t=nk(e),i=tk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ek(n,e){zc.set(n._key(),e)}function tk(n){return oi(n._redirectPersistence)}function nk(n){return Bc(XR,n.config.apiKey,n.name)}async function rk(n,e,t=!1){if(cr(n.app))return Promise.reject(ui(n));const i=us(n),o=Fw(i,e),c=await new JR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=10*60*1e3;class sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ok(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Uw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(yy(e))}saveEventToCache(e){this.cachedEventUids.add(yy(e)),this.lastProcessedEventTime=Date.now()}}function yy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Uw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ok(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e={}){return _i(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uk=/^https?/;async function ck(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ak(n);for(const t of e)try{if(dk(t))return}catch{}Kn(n,"unauthorized-domain")}function dk(n){const e=Wf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!uk.test(t))return!1;if(lk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new eu(3e4,6e4);function vy(){const n=Dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fk(n){return new Promise((e,t)=>{var i,o,a;function c(){vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vy(),t(hr(n,"network-request-failed"))},timeout:hk.get()})}if(!((o=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)c();else{const h=oR("iframefcb");return Dr()[h]=()=>{gapi.load?c():t(hr(n,"network-request-failed"))},Tw(`${sR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw qc=null,e})}let qc=null;function pk(n){return qc=qc||fk(n),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new eu(5e3,15e3),gk="__/auth/iframe",_k="emulator/auth/iframe",yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,_k):`https://${n.config.authDomain}/${gk}`,i={apiKey:e.apiKey,appName:n.name,v:to},o=vk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Zl(i).slice(1)}`}async function Ek(n){const e=await pk(n),t=Dr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:wk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=hr(n,"network-request-failed"),h=Dr().setTimeout(()=>{a(c)},mk.get());function p(){Dr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ik=500,Sk=600,Ck="_blank",Rk="http://localhost";class wy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kk(n,e,t,i=Ik,o=Sk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Tk),{width:i.toString(),height:o.toString(),top:a,left:c}),_=nn().toLowerCase();t&&(h=mw(_)?Ck:t),fw(_)&&(e=e||Rk,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[b,A])=>`${S}${b}=${A},`,"");if(YC(_)&&h!=="_self")return Ak(e||"",h),new wy(null);const I=window.open(e||"",h,w);Se(I,n,"popup-blocked");try{I.focus()}catch{}return new wy(I)}function Ak(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="__/auth/handler",Pk="emulator/auth/handler",Nk=encodeURIComponent("fac");async function Ey(n,e,t,i,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:o};if(e instanceof Dp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",_S(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,I]of Object.entries({}))c[w]=I}if(e instanceof nu){const w=e.getScopes().filter(I=>I!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),_=p?`#${Nk}=${encodeURIComponent(p)}`:"";return`${bk(n)}?${Zl(h).slice(1)}${_}`}function bk({config:n}){return n.emulator?Ap(n,Pk):`https://${n.authDomain}/${xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class Dk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=rk,this._overrideRedirectResult=ek}async _openPopup(e,t,i,o){var a;hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Ey(e,t,i,Wf(),o);return kk(e,c,Lp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Ey(e,t,i,Wf(),o);return MR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(hi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Ek(e),i=new sk(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ck(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ww()||pw()||Pp()}}const Lk=Dk;var Ty="@firebase/auth",Iy="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vk(n){Qs(new ts("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(n)},_=new nR(i,o,a,p);return hR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new ts("auth-internal",e=>{const t=us(e.getProvider("auth").getImmediate());return(i=>new Ok(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Ty,Iy,Mk(n)),br(Ty,Iy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=5*60,jk=Zv("authIdTokenMaxAge")||Fk;let Sy=null;const Uk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>jk)return;const o=t==null?void 0:t.token;Sy!==o&&(Sy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fr(n=Sp()){const e=wd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dR(n,{popupRedirectResolver:Lk,persistence:[WR,DR,Dw]}),i=Zv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Uk(a.toString());PR(t,c,()=>c(t.currentUser)),xR(t,h=>c(h))}}const o=Yv("auth");return o&&fR(t,`http://${o}`),t}function $k(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=hr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",$k().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vk("Browser");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,$w;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function k(){}k.prototype=R.prototype,x.D=R.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(L,j,F){for(var T=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)T[oe-2]=arguments[oe];return R.prototype[j].apply(L,T)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,k){k||(k=0);var L=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)L[j]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(j=0;16>j;++j)L[j]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=x.g[0],k=x.g[1],j=x.g[2];var F=x.g[3],T=R+(F^k&(j^F))+L[0]+3614090360&4294967295;R=k+(T<<7&4294967295|T>>>25),T=F+(j^R&(k^j))+L[1]+3905402710&4294967295,F=R+(T<<12&4294967295|T>>>20),T=j+(k^F&(R^k))+L[2]+606105819&4294967295,j=F+(T<<17&4294967295|T>>>15),T=k+(R^j&(F^R))+L[3]+3250441966&4294967295,k=j+(T<<22&4294967295|T>>>10),T=R+(F^k&(j^F))+L[4]+4118548399&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(j^R&(k^j))+L[5]+1200080426&4294967295,F=R+(T<<12&4294967295|T>>>20),T=j+(k^F&(R^k))+L[6]+2821735955&4294967295,j=F+(T<<17&4294967295|T>>>15),T=k+(R^j&(F^R))+L[7]+4249261313&4294967295,k=j+(T<<22&4294967295|T>>>10),T=R+(F^k&(j^F))+L[8]+1770035416&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(j^R&(k^j))+L[9]+2336552879&4294967295,F=R+(T<<12&4294967295|T>>>20),T=j+(k^F&(R^k))+L[10]+4294925233&4294967295,j=F+(T<<17&4294967295|T>>>15),T=k+(R^j&(F^R))+L[11]+2304563134&4294967295,k=j+(T<<22&4294967295|T>>>10),T=R+(F^k&(j^F))+L[12]+1804603682&4294967295,R=k+(T<<7&4294967295|T>>>25),T=F+(j^R&(k^j))+L[13]+4254626195&4294967295,F=R+(T<<12&4294967295|T>>>20),T=j+(k^F&(R^k))+L[14]+2792965006&4294967295,j=F+(T<<17&4294967295|T>>>15),T=k+(R^j&(F^R))+L[15]+1236535329&4294967295,k=j+(T<<22&4294967295|T>>>10),T=R+(j^F&(k^j))+L[1]+4129170786&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^j&(R^k))+L[6]+3225465664&4294967295,F=R+(T<<9&4294967295|T>>>23),T=j+(R^k&(F^R))+L[11]+643717713&4294967295,j=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(j^F))+L[0]+3921069994&4294967295,k=j+(T<<20&4294967295|T>>>12),T=R+(j^F&(k^j))+L[5]+3593408605&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^j&(R^k))+L[10]+38016083&4294967295,F=R+(T<<9&4294967295|T>>>23),T=j+(R^k&(F^R))+L[15]+3634488961&4294967295,j=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(j^F))+L[4]+3889429448&4294967295,k=j+(T<<20&4294967295|T>>>12),T=R+(j^F&(k^j))+L[9]+568446438&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^j&(R^k))+L[14]+3275163606&4294967295,F=R+(T<<9&4294967295|T>>>23),T=j+(R^k&(F^R))+L[3]+4107603335&4294967295,j=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(j^F))+L[8]+1163531501&4294967295,k=j+(T<<20&4294967295|T>>>12),T=R+(j^F&(k^j))+L[13]+2850285829&4294967295,R=k+(T<<5&4294967295|T>>>27),T=F+(k^j&(R^k))+L[2]+4243563512&4294967295,F=R+(T<<9&4294967295|T>>>23),T=j+(R^k&(F^R))+L[7]+1735328473&4294967295,j=F+(T<<14&4294967295|T>>>18),T=k+(F^R&(j^F))+L[12]+2368359562&4294967295,k=j+(T<<20&4294967295|T>>>12),T=R+(k^j^F)+L[5]+4294588738&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^j)+L[8]+2272392833&4294967295,F=R+(T<<11&4294967295|T>>>21),T=j+(F^R^k)+L[11]+1839030562&4294967295,j=F+(T<<16&4294967295|T>>>16),T=k+(j^F^R)+L[14]+4259657740&4294967295,k=j+(T<<23&4294967295|T>>>9),T=R+(k^j^F)+L[1]+2763975236&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^j)+L[4]+1272893353&4294967295,F=R+(T<<11&4294967295|T>>>21),T=j+(F^R^k)+L[7]+4139469664&4294967295,j=F+(T<<16&4294967295|T>>>16),T=k+(j^F^R)+L[10]+3200236656&4294967295,k=j+(T<<23&4294967295|T>>>9),T=R+(k^j^F)+L[13]+681279174&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^j)+L[0]+3936430074&4294967295,F=R+(T<<11&4294967295|T>>>21),T=j+(F^R^k)+L[3]+3572445317&4294967295,j=F+(T<<16&4294967295|T>>>16),T=k+(j^F^R)+L[6]+76029189&4294967295,k=j+(T<<23&4294967295|T>>>9),T=R+(k^j^F)+L[9]+3654602809&4294967295,R=k+(T<<4&4294967295|T>>>28),T=F+(R^k^j)+L[12]+3873151461&4294967295,F=R+(T<<11&4294967295|T>>>21),T=j+(F^R^k)+L[15]+530742520&4294967295,j=F+(T<<16&4294967295|T>>>16),T=k+(j^F^R)+L[2]+3299628645&4294967295,k=j+(T<<23&4294967295|T>>>9),T=R+(j^(k|~F))+L[0]+4096336452&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~j))+L[7]+1126891415&4294967295,F=R+(T<<10&4294967295|T>>>22),T=j+(R^(F|~k))+L[14]+2878612391&4294967295,j=F+(T<<15&4294967295|T>>>17),T=k+(F^(j|~R))+L[5]+4237533241&4294967295,k=j+(T<<21&4294967295|T>>>11),T=R+(j^(k|~F))+L[12]+1700485571&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~j))+L[3]+2399980690&4294967295,F=R+(T<<10&4294967295|T>>>22),T=j+(R^(F|~k))+L[10]+4293915773&4294967295,j=F+(T<<15&4294967295|T>>>17),T=k+(F^(j|~R))+L[1]+2240044497&4294967295,k=j+(T<<21&4294967295|T>>>11),T=R+(j^(k|~F))+L[8]+1873313359&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~j))+L[15]+4264355552&4294967295,F=R+(T<<10&4294967295|T>>>22),T=j+(R^(F|~k))+L[6]+2734768916&4294967295,j=F+(T<<15&4294967295|T>>>17),T=k+(F^(j|~R))+L[13]+1309151649&4294967295,k=j+(T<<21&4294967295|T>>>11),T=R+(j^(k|~F))+L[4]+4149444226&4294967295,R=k+(T<<6&4294967295|T>>>26),T=F+(k^(R|~j))+L[11]+3174756917&4294967295,F=R+(T<<10&4294967295|T>>>22),T=j+(R^(F|~k))+L[2]+718787259&4294967295,j=F+(T<<15&4294967295|T>>>17),T=k+(F^(j|~R))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(j+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+F&4294967295}i.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var k=R-this.blockSize,L=this.B,j=this.h,F=0;F<R;){if(j==0)for(;F<=k;)o(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<R;)if(L[j++]=x.charCodeAt(F++),j==this.blockSize){o(this,L),j=0;break}}else for(;F<R;)if(L[j++]=x[F++],j==this.blockSize){o(this,L),j=0;break}}this.h=j,this.o+=R},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var k=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=k&255,k/=256;for(this.u(x),x=Array(16),R=k=0;4>R;++R)for(var L=0;32>L;L+=8)x[k++]=this.g[R]>>>L&255;return x};function a(x,R){var k=h;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=R(x)}function c(x,R){this.h=R;for(var k=[],L=!0,j=x.length-1;0<=j;j--){var F=x[j]|0;L&&F==R||(k[j]=F,L=!1)}this.g=k}var h={};function p(x){return-128<=x&&128>x?a(x,function(R){return new c([R|0],0>R?-1:0)}):new c([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return P(_(-x));for(var R=[],k=1,L=0;x>=k;L++)R[L]=x/k|0,k*=4294967296;return new c(R,0)}function w(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return P(w(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(R,8)),L=I,j=0;j<x.length;j+=8){var F=Math.min(8,x.length-j),T=parseInt(x.substring(j,j+F),R);8>F?(F=_(Math.pow(R,F)),L=L.j(F).add(_(T))):(L=L.j(k),L=L.add(_(T)))}return L}var I=p(0),S=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(D(this))return-P(this).m();for(var x=0,R=1,k=0;k<this.g.length;k++){var L=this.i(k);x+=(0<=L?L:4294967296+L)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(D(this))return"-"+P(this).toString(x);for(var R=_(Math.pow(x,6)),k=this,L="";;){var j=Q(k,R).g;k=V(k,j.j(R));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=j,A(k))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function D(x){return x.h==-1}n.l=function(x){return x=V(this,x),D(x)?-1:A(x)?0:1};function P(x){for(var R=x.g.length,k=[],L=0;L<R;L++)k[L]=~x.g[L];return new c(k,~x.h).add(S)}n.abs=function(){return D(this)?P(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),k=[],L=0,j=0;j<=R;j++){var F=L+(this.i(j)&65535)+(x.i(j)&65535),T=(F>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);L=T>>>16,F&=65535,T&=65535,k[j]=T<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function V(x,R){return x.add(P(R))}n.j=function(x){if(A(this)||A(x))return I;if(D(this))return D(x)?P(this).j(P(x)):P(P(this).j(x));if(D(x))return P(this.j(P(x)));if(0>this.l(b)&&0>x.l(b))return _(this.m()*x.m());for(var R=this.g.length+x.g.length,k=[],L=0;L<2*R;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<x.g.length;j++){var F=this.i(L)>>>16,T=this.i(L)&65535,oe=x.i(j)>>>16,Ve=x.i(j)&65535;k[2*L+2*j]+=T*Ve,O(k,2*L+2*j),k[2*L+2*j+1]+=F*Ve,O(k,2*L+2*j+1),k[2*L+2*j+1]+=T*oe,O(k,2*L+2*j+1),k[2*L+2*j+2]+=F*oe,O(k,2*L+2*j+2)}for(L=0;L<R;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=R;L<2*R;L++)k[L]=0;return new c(k,0)};function O(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function G(x,R){this.g=x,this.h=R}function Q(x,R){if(A(R))throw Error("division by zero");if(A(x))return new G(I,I);if(D(x))return R=Q(P(x),R),new G(P(R.g),P(R.h));if(D(R))return R=Q(x,P(R)),new G(P(R.g),R.h);if(30<x.g.length){if(D(x)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var k=S,L=R;0>=L.l(x);)k=ue(k),L=ue(L);var j=ee(k,1),F=ee(L,1);for(L=ee(L,2),k=ee(k,2);!A(L);){var T=F.add(L);0>=T.l(x)&&(j=j.add(k),F=T),L=ee(L,1),k=ee(k,1)}return R=V(x,j.j(R)),new G(j,R)}for(j=I;0<=x.l(R);){for(k=Math.max(1,Math.floor(x.m()/R.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=_(k),T=F.j(R);D(T)||0<T.l(x);)k-=L,F=_(k),T=F.j(R);A(F)&&(F=S),j=j.add(F),x=V(x,T)}return new G(j,x)}n.A=function(x){return Q(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)&x.i(L);return new c(k,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)|x.i(L);return new c(k,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)^x.i(L);return new c(k,this.h^x.h)};function ue(x){for(var R=x.g.length+1,k=[],L=0;L<R;L++)k[L]=x.i(L)<<1|x.i(L-1)>>>31;return new c(k,x.h)}function ee(x,R){var k=R>>5;R%=32;for(var L=x.g.length-k,j=[],F=0;F<L;F++)j[F]=0<R?x.i(F+k)>>>R|x.i(F+k+1)<<32-R:x.i(F+k);return new c(j,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$w=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=w,Gs=c}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bw,Rl,zw,Wc,Qf,qw,Ww,Hw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var C=0;C<u.length-1;C++){var z=u[C];if(!(z in v))break e;v=v[z]}u=u[u.length-1],C=v[u],m=m(C),m!=C&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,C=!1,z={next:function(){if(!C&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return C=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,C),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,S.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function A(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(C,z,K){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return m.prototype[z].apply(C,ae)}}function D(u){const m=u.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=u[C];return v}return[]}function P(u,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(p(C)){const z=u.length||0,K=C.length||0;u.length=z+K;for(let ae=0;ae<K;ae++)u[z+ae]=C[ae]}else u.push(C)}}class V{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function O(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ue=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ee(u,m,v){for(const C in u)m.call(v,u[C],C,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let v,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(v in C)u[v]=C[v];for(let K=0;K<k.length;K++)v=k[K],Object.prototype.hasOwnProperty.call(C,v)&&(u[v]=C[v])}}function j(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){h.setTimeout(()=>{throw u},0)}function T(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const C=Ve.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var Ve=new V(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,se=!1,me=new oe,le=()=>{const u=h.Promise.resolve(void 0);De=()=>{u.then(B)}};var B=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(v){F(v)}var m=Ve;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function be(u,m){if(ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{Q(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}A(be,ve);var Me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),re=0;function ce(u,m,v,C,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=z,this.key=++re,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ze(u){this.src=u,this.g={},this.h=0}Ze.prototype.add=function(u,m,v,C,z){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ae=yt(u,m,C,z);return-1<ae?(m=u[ae],v||(m.fa=!1)):(m=new ce(m,this.src,K,!!C,z),m.fa=v,u.push(m)),m};function In(u,m){var v=m.type;if(v in u.g){var C=u.g[v],z=Array.prototype.indexOf.call(C,m,void 0),K;(K=0<=z)&&Array.prototype.splice.call(C,z,1),K&&(ke(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yt(u,m,v,C){for(var z=0;z<u.length;++z){var K=u[z];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==C)return z}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),jr={};function hs(u,m,v,C,z){if(Array.isArray(m)){for(var K=0;K<m.length;K++)hs(u,m[K],v,C,z);return null}return v=Ra(v),u&&u[Be]?u.K(m,v,_(C)?!!C.capture:!!C,z):fs(u,m,v,!1,C,z)}function fs(u,m,v,C,z,K){if(!m)throw Error("Invalid event type");var ae=_(z)?!!z.capture:!!z,Ye=oo(u);if(Ye||(u[Kt]=Ye=new Ze(u)),v=Ye.add(m,v,C,ae,K),v.proxy)return v;if(C=hu(),v.proxy=C,C.src=u,C.listener=v,u.addEventListener)Ne||(z=ae),z===void 0&&(z=!1),u.addEventListener(m.toString(),C,z);else if(u.attachEvent)u.attachEvent($r(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hu(){function u(v){return m.call(u.src,u.listener,v)}const m=Ca;return u}function so(u,m,v,C,z){if(Array.isArray(m))for(var K=0;K<m.length;K++)so(u,m[K],v,C,z);else C=_(C)?!!C.capture:!!C,v=Ra(v),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=yt(K,v,C,z),-1<v&&(ke(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=oo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,v,C,z)),(v=-1<u?m[u]:null)&&Ur(v))}function Ur(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])In(m.i,u);else{var v=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(v,C,u.capture):m.detachEvent?m.detachEvent($r(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=oo(m))?(In(v,u),v.h==0&&(v.src=null,m[Kt]=null)):ke(u)}}}function $r(u){return u in jr?jr[u]:jr[u]="on"+u}function Ca(u,m){if(u.da)u=!0;else{m=new be(m,this);var v=u.listener,C=u.ha||u.src;u.fa&&Ur(u),u=v.call(C,m)}return u}function oo(u){return u=u[Kt],u instanceof Ze?u:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function Rt(){Y.call(this),this.i=new Ze(this),this.M=this,this.F=null}A(Rt,Y),Rt.prototype[Be]=!0,Rt.prototype.removeEventListener=function(u,m,v,C){so(this,u,m,v,C)};function kt(u,m){var v,C=u.F;if(C)for(v=[];C;C=C.F)v.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new ve(m,u);else if(m instanceof ve)m.target=m.target||u;else{var z=m;m=new ve(C,u),L(m,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ae=m.g=v[K];z=Br(ae,C,!0,m)&&z}if(ae=m.g=u,z=Br(ae,C,!0,m)&&z,z=Br(ae,C,!1,m)&&z,v)for(K=0;K<v.length;K++)ae=m.g=v[K],z=Br(ae,C,!1,m)&&z}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],C=0;C<v.length;C++)ke(v[C]);delete u.g[m],u.h--}}this.F=null},Rt.prototype.K=function(u,m,v,C){return this.i.add(String(u),m,!1,v,C)},Rt.prototype.L=function(u,m,v,C){return this.i.add(String(u),m,!0,v,C)};function Br(u,m,v,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,K=0;K<m.length;++K){var ae=m[K];if(ae&&!ae.da&&ae.capture==v){var Ye=ae.listener,At=ae.ha||ae.src;ae.fa&&In(u.i,ae),z=Ye.call(At,C)!==!1&&z}}return z&&!C.defaultPrevented}function ka(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function vi(u){u.g=ka(()=>{u.g=null,u.i&&(u.i=!1,vi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ps extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(u){Y.call(this),this.h=u,this.g={}}A(ms,Y);var Aa=[];function xa(u){ee(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ur(m)},u),u.g={}}ms.prototype.N=function(){ms.aa.N.call(this),xa(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=h.JSON.stringify,Na=h.JSON.parse,ba=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function gs(){}gs.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function uo(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){ve.call(this,"d")}A(vr,ve);function co(){ve.call(this,"c")}A(co,ve);var wr={},Da=null;function _s(){return Da=Da||new Rt}wr.La="serverreachability";function La(u){ve.call(this,wr.La,u)}A(La,ve);function zr(u){const m=_s();kt(m,new La(m))}wr.STAT_EVENT="statevent";function Oa(u,m){ve.call(this,wr.STAT_EVENT,u),this.stat=m}A(Oa,ve);function vt(u){const m=_s();kt(m,new Oa(m,u))}wr.Ma="timingevent";function ho(u,m){ve.call(this,wr.Ma,u),this.size=m}A(ho,ve);function Qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(u,m,v,C,z,K){u.info(function(){if(u.g)if(K)for(var ae="",Ye=K.split("&"),At=0;At<Ye.length;At++){var ze=Ye[At].split("=");if(1<ze.length){var Dt=ze[0];ze=ze[1];var Tt=Dt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Dt+"="+ze+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+m+`
`+v+`
`+ae})}function fo(u,m,v,C,z,K,ae){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+m+`
`+v+`
`+K+" "+ae})}function Yn(u,m,v,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qd(u,v)+(C?" "+C:"")})}function Ma(u,m){u.info(function(){return"TIMEOUT: "+m})}ys.prototype.info=function(){};function qd(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var C=v[u];if(!(2>C.length)){var z=C[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Pa(v)}catch{return m}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function ws(){}A(ws,gs),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},Xn=new ws;function Jn(u,m,v,C){this.j=u,this.i=m,this.l=v,this.R=C||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var Va={},mo={};function go(u,m,v){u.L=1,u.v=Si(Cn(m)),u.m=v,u.P=!0,Fa(u,null)}function Fa(u,m){u.F=Date.now(),et(u),u.A=Cn(u.v);var v=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),Ri(v.i,"t",C),u.C=0,v=u.j.J,u.h=new pu,u.g=bu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ps(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,C=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Aa[0]=z.toString()),z=Aa);for(var K=0;K<z.length;K++){var ae=hs(v,z[K],C||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zr(),vs(u.i,u.u,u.A,u.l,u.R,u.m)}Jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&hn(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=hn(this.g);var m=this.g.Ba();const Fn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||Tt!=4||m==7||(m==8||0>=Fn?zr(3):zr(2)),Es(this);var v=this.g.Z();this.X=v;t:if(mu(this)){var C=qa(this.g);u="";var z=C.length,K=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),wi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(K&&m==z-1)});C.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,fo(this.i,this.u,this.A,this.l,this.R,Tt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,At=this.g;if((Ye=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ye)){var ze=Ye;break t}}ze=null}if(v=ze)Yn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,v);else{this.o=!1,this.s=3,vt(12),Mn(this),wi(this);break e}}if(this.P){v=!0;let kn;for(;!this.J&&this.C<ae.length;)if(kn=Wd(this,ae),kn==mo){Tt==4&&(this.s=4,vt(14),v=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Va){this.s=4,vt(15),Yn(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Yn(this.i,this.l,kn,null),ja(this,kn);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)Yn(this.i,this.l,ae,"[Invalid Chunked Response]"),Mn(this),wi(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ha(Dt),Dt.M=!0,vt(11))}}else Yn(this.i,this.l,ae,null),ja(this,ae);Tt==4&&Mn(this),this.o&&!this.J&&(Tt==4?ko(this.j,this):(this.o=!1,et(this)))}else To(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Mn(this),wi(this)}}}catch{}finally{}};function mu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wd(u,m){var v=u.C,C=m.indexOf(`
`,v);return C==-1?mo:(v=Number(m.substring(v,C)),isNaN(v)?Va:(C+=1,C+v>m.length?mo:(m=m.slice(C,C+v),u.C=C+v,m)))}Jn.prototype.cancel=function(){this.J=!0,Mn(this)};function et(u){u.S=Date.now()+u.I,gu(u,u.I)}function gu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qn(S(u.ba,u),m)}function Es(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ma(this.i,this.A),this.L!=2&&(zr(),vt(17)),Mn(this),this.s=2,wi(this)):gu(this,this.S-u)};function wi(u){u.j.G==0||u.J||ko(u.j,u)}function Mn(u){Es(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ja(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||rn(v.h,u))){if(!u.K&&rn(v.h,u)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ro(v),rr(v);else break e;Co(v),vt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Qn(S(v.Za,v),6e3));if(1>=yu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Kr(v,11)}else if((u.K||v.g==u)&&Ro(v),!O(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let ze=z[m];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Dt=ze[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const Tt=ze[4];Tt!=null&&(v.Aa=Tt,v.j.info("SVER="+v.Aa));const Fn=ze[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(C=1.5*Fn,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const kn=u.g;if(kn){const As=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var K=C.h;K.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ua(K,K.h),K.h=null))}if(C.D){const xo=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(C.ya=xo,Je(C.I,C.D,xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var ae=u;if(C.qa=Nu(C,C.J?C.ia:null,C.W),ae.K){vu(C.h,ae);var Ye=ae,At=C.L;At&&(Ye.I=At),Ye.B&&(Es(Ye),et(Ye)),C.g=ae}else ks(C);0<v.i.length&&Sr(v)}else ze[0]!="stop"&&ze[0]!="close"||Kr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Kr(v,7):jt(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}zr(4)}catch{}}var _u=class{constructor(u,m){this.g=u,this.map=m}};function Ts(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yu(u){return u.h?1:u.g?u.g.size:0}function rn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ua(u,m){u.g?u.g.add(m):u.h=m}function vu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ts.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return D(u.i)}function _o(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,C=0;C<v;C++)m.push(u[C]);return m}m=[],v=0;for(C in u)m[v++]=u[C];return m}function yo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const C in u)m[v++]=C;return m}}}function Ei(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=yo(u),C=_o(u),z=C.length,K=0;K<z;K++)m.call(void 0,C[K],v&&v[K],u)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var C=u[v].indexOf("="),z=null;if(0<=C){var K=u[v].substring(0,C);z=u[v].substring(C+1)}else K=u[v];m(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof qr){this.h=u.h,Ss(this,u.j),this.o=u.o,this.g=u.g,Ti(this,u.s),this.l=u.l;var m=u.i,v=new Er;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ii(this,v),this.m=u.m}else u&&(m=String(u).match(Is))?(this.h=!1,Ss(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),Ti(this,m[4]),this.l=Ue(m[5]||"",!0),Ii(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}qr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ci(m,vo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ci(m,vo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ci(v,v.charAt(0)=="/"?Iu:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ci(v,$a)),u.join("")};function Cn(u){return new qr(u)}function Ss(u,m,v){u.j=v?Ue(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ti(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ii(u,m,v){m instanceof Er?(u.i=m,Tr(u.i,u.h)):(v||(m=Ci(m,Su)),u.i=new Er(m,u.h))}function Je(u,m,v){u.i.set(m,v)}function Si(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ci(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Eu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vo=/[#\/\?@]/g,Tu=/[#\?:]/g,Iu=/[#\?]/g,Su=/[#\?@]/g,$a=/#/g;function Er(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ft(u){u.g||(u.g=new Map,u.h=0,u.i&&Hd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Er.prototype,n.add=function(u,m){Ft(this),this.i=null,u=Vn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Zn(u,m){Ft(u),m=Vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function er(u,m){return Ft(u),m=Vn(u,m),u.g.has(m)}n.forEach=function(u,m){Ft(this),this.g.forEach(function(v,C){v.forEach(function(z){u.call(m,z,C,this)},this)},this)},n.na=function(){Ft(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const z=u[C];for(let K=0;K<z.length;K++)v.push(m[C])}return v},n.V=function(u){Ft(this);let m=[];if(typeof u=="string")er(this,u)&&(m=m.concat(this.g.get(Vn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ft(this),this.i=null,u=Vn(this,u),er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ri(u,m,v){Zn(u,m),0<v.length&&(u.i=null,u.g.set(Vn(u,m),D(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const K=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var z=K;ae[C]!==""&&(z+="="+encodeURIComponent(String(ae[C]))),u.push(z)}}return this.i=u.join("&")};function Vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Tr(u,m){m&&!u.j&&(Ft(u),u.i=null,u.g.forEach(function(v,C){var z=C.toLowerCase();C!=z&&(Zn(this,C),Ri(this,z,v))},u)),u.j=m}function Gd(u,m){const v=new ys;if(h.Image){const C=new Image;C.onload=b(dn,v,"TestLoadImage: loaded",!0,m,C),C.onerror=b(dn,v,"TestLoadImage: error",!1,m,C),C.onabort=b(dn,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=b(dn,v,"TestLoadImage: timeout",!1,m,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function Cu(u,m){const v=new ys,C=new AbortController,z=setTimeout(()=>{C.abort(),dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(K=>{clearTimeout(z),K.ok?dn(v,"TestPingServer: ok",!0,m):dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),dn(v,"TestPingServer: error",!1,m)})}function dn(u,m,v,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(v)}catch{}}function Kd(){this.g=new ba}function Ru(u,m,v){const C=v||"";try{Ei(u,function(z,K){let ae=z;_(z)&&(ae=Pa(z)),m.push(C+K+"="+encodeURIComponent(ae))})}catch(z){throw m.push(C+"type="+encodeURIComponent("_badmap")),z}}function Wr(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Wr,gs),Wr.prototype.g=function(){return new Cs(this.l,this.j)},Wr.prototype.i=function(u){return function(){return u}}({});function Cs(u,m){Rt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Cs,Rt),n=Cs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?tr(this):nr(this),this.readyState==3&&ku(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,tr(this))},n.Qa=function(u){this.g&&(this.response=u,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,nr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hr(u){let m="";return ee(u,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function ki(u,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=Hr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Je(u,m,v))}function ot(u){Rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ot,Rt);var Qd=/^https?$/i,Ba=["POST","PUT"];n=ot.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?lo(this.o):lo(Xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Rs(this,K);return}if(u=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)v.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())v.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ba,m,void 0))||C||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Rs(this,K)}};function Rs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,wo(u),Rn(u)}function wo(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Rn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(u){if(u.h&&typeof c<"u"&&(!u.v[1]||hn(u)!=4||u.Z()!=2)){if(u.u&&hn(u)==4)ka(u.Ea,0,u);else if(kt(u,"readystatechange"),hn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=ae===0){var z=String(u.D).match(Is)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),C=!Qd.test(z?z.toLowerCase():"")}v=C}if(v)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var K=2<hn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",wo(u)}}finally{Rn(u)}}}}function Rn(u,m){if(u.g){Eo(u);const v=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{v.onreadystatechange=C}catch{}}}function Eo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function hn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Na(m)}};function qa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function To(u){const m={};u=(u.g&&2<=hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(O(u[C]))continue;var v=j(u[C]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[z]||[];m[z]=K,K.push(v)}x(m,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Wa(u){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,u),this.cb=Ir("retryDelaySeedMs",1e4,u),this.Wa=Ir("forwardChannelMaxRetries",2,u),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(u&&u.concurrentRequestLimit),this.Da=new Kd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,C){vt(0),this.W=u,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=Nu(this,null,this.W),Sr(this)};function jt(u){if(Io(u),u.G==3){var m=u.U++,v=Cn(u.I);if(Je(v,"SID",u.K),Je(v,"RID",m),Je(v,"TYPE","terminate"),Gr(u,v),m=new Jn(u,u.j,m),m.L=2,m.v=Si(Cn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),et(m)}Pu(u)}function rr(u){u.g&&(Ha(u),u.g.cancel(),u.g=null)}function Io(u){rr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ro(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Sr(u){if(!Sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;De||le(),se||(De(),se=!0),me.add(m,u),u.B=0}}function Yd(u,m){return yu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qn(S(u.Ga,u,m),xu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Jn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=R(K),L(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ai(this,z,m),v=Cn(this.I),Je(v,"RID",u),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),Gr(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(Hr(K)))+"&"+m:this.m&&ki(v,this.m,K)),Ua(this.h,z),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",m),Je(v,"SID","null"),z.T=!0,go(z,v,null)):go(z,v,m),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Sn(this.h)||So(this))};function So(u,m){var v;m?v=m.l:v=u.U++;const C=Cn(u.I);Je(C,"SID",u.K),Je(C,"RID",v),Je(C,"AID",u.T),Gr(u,C),u.m&&u.o&&ki(C,u.m,u.o),v=new Jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ai(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ua(u.h,v),go(v,C,m)}function Gr(u,m){u.H&&ee(u.H,function(v,C){Je(m,C,v)}),u.l&&Ei({},function(v,C){Je(m,C,v)})}function Ai(u,m,v){v=Math.min(u.i.length,v);var C=u.l?S(u.l.Na,u.l,u):null;e:{var z=u.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ye=!0;for(let At=0;At<v;At++){let ze=z[At].g;const Dt=z[At].map;if(ze-=K,0>ze)K=Math.max(0,z[At].g-100),Ye=!1;else try{Ru(Dt,ae,"req"+ze+"_")}catch{C&&C(Dt)}}if(Ye){C=ae.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,C}function ks(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;De||le(),se||(De(),se=!0),me.add(m,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qn(S(u.Fa,u),xu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),rr(this),Au(this))};function Ha(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Au(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Cn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&ki(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Si(Cn(m)),v.m=null,v.P=!0,Fa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),Co(this),vt(19))};function Ro(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function ko(u,m){var v=null;if(u.g==m){Ro(u),Ha(u),u.g=null;var C=2}else if(rn(u.h,m))v=m.D,vu(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;C=_s(),kt(C,new ho(C,v)),Sr(u)}else ks(u);else if(z=m.s,z==3||z==0&&0<m.X||!(C==1&&Yd(u,m)||C==2&&Co(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Kr(u,5);break;case 4:Kr(u,10);break;case 3:Kr(u,6);break;default:Kr(u,2)}}}function xu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Kr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),C=u.Xa;const z=!C;C=new qr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ss(C,"https"),Si(C),z?Gd(C.toString(),v):Cu(C.toString(),v)}else vt(2);u.G=0,u.l&&u.l.sa(m),Pu(u),Io(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Pu(u){if(u.G=0,u.ka=[],u.l){const m=wu(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function Nu(u,m,v){var C=v instanceof qr?Cn(v):new qr(v);if(C.g!="")m&&(C.g=m+"."+C.g),Ti(C,C.s);else{var z=h.location;C=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var K=new qr(null);C&&Ss(K,C),m&&(K.g=m),z&&Ti(K,z),v&&(K.l=v),C=K}return v=u.D,m=u.ya,v&&m&&Je(C,v,m),Je(C,"VER",u.la),Gr(u,C),C}function bu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new Wr({eb:v})):new ot(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ga(){}n=Ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Rt.call(this),this.g=new Wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!O(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!O(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Cr(this)}A(sn,Rt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){jt(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Pa(u),u=v);m.i.push(new _u(m.Ya++,u)),m.G==3&&Sr(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,sn.aa.N.call(this)};function Du(u){vr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Du,vr);function Lu(){co.call(this),this.status=1}A(Lu,co);function Cr(u){this.g=u}A(Cr,Ga),Cr.prototype.ua=function(){kt(this.g,"a")},Cr.prototype.ta=function(u){kt(this.g,new Du(u))},Cr.prototype.sa=function(u){kt(this.g,new Lu)},Cr.prototype.ra=function(){kt(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Hw=function(){return new Ao},Ww=function(){return _s()},qw=wr,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,Wc=po,fu.COMPLETE="complete",zw=fu,uo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Rl=uo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,Bw=ot}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Tp("@firebase/firestore");function Jo(){return Js.logLevel}function he(n,...e){if(Js.logLevel<=Fe.DEBUG){const t=e.map(Mp);Js.debug(`Firestore (${va}): ${n}`,...t)}}function fi(n,...e){if(Js.logLevel<=Fe.ERROR){const t=e.map(Mp);Js.error(`Firestore (${va}): ${n}`,...t)}}function la(n,...e){if(Js.logLevel<=Fe.WARN){const t=e.map(Mp);Js.warn(`Firestore (${va}): ${n}`,...t)}}function Mp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Qe(n,e){n||Re()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class zk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qk{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ci)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new Gw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new en(e)}}class Wk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Wk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new Gk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Qk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function ua(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Nt(0,0))}static max(){return new Ae(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(),i===void 0?i=e.length-t:i>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends $l{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const Yk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends $l{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return Yk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(it.fromString(e))}static fromName(e){return new we(it.fromString(e).popFirst(5))}static empty(){return new we(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new it(e.slice()))}}function Xk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new ns(o,we.empty(),e)}function Jk(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(Ae.min(),we.empty(),-1)}static max(){return new ns(Ae.max(),we.empty(),-1)}}function Zk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==eA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(w=>{c[_]=w,++h,h===a&&i(c)},w=>o(w))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function nA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sd.oe=-1;function Cd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function rA(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ky(e)),e=sA(n.get(t),e);return ky(e)}function sA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function ky(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new zt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,i,o,a){return this}insert(e,t,i){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new bt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Yw("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=oA.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rd(n){const e=n.mapValue.fields.__previous_value__;return Vp(e)?Rd(e):e}function Bl(n){const e=rs(n.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,o,a,c,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class zl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vp(n)?4:uA(n)?9007199254740991:lA(n)?10:11:Re()}function Mr(n,e){if(n===e)return!0;const t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=rs(o.timestampValue),h=rs(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return is(o.bytesValue).isEqual(is(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Et(o.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Et(o.integerValue)===Et(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Et(o.doubleValue),h=Et(a.doubleValue);return c===h?od(c)===od(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return ua(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Ay(c)!==Ay(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Mr(c[p],h[p])))return!1;return!0}(n,e);default:return Re()}}function ql(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function ca(n,e){if(n===e)return 0;const t=ss(n),i=ss(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=Et(a.integerValue||a.doubleValue),p=Et(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Py(n.timestampValue,e.timestampValue);case 4:return Py(Bl(n),Bl(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(a,c){const h=is(a),p=is(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let _=0;_<h.length&&_<p.length;_++){const w=$e(h[_],p[_]);if(w!==0)return w}return $e(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=$e(Et(a.latitude),Et(c.latitude));return h!==0?h:$e(Et(a.longitude),Et(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ny(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,_,w;const I=a.fields||{},S=c.fields||{},b=(h=I.value)===null||h===void 0?void 0:h.arrayValue,A=(p=S.value)===null||p===void 0?void 0:p.arrayValue,D=$e(((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0,((w=A==null?void 0:A.values)===null||w===void 0?void 0:w.length)||0);return D!==0?D:Ny(b,A)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Lc.mapValue&&c===Lc.mapValue)return 0;if(a===Lc.mapValue)return 1;if(c===Lc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),_=c.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const S=$e(p[I],w[I]);if(S!==0)return S;const b=ca(h[p[I]],_[w[I]]);if(b!==0)return b}return $e(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Py(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=rs(n),i=rs(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function Ny(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ca(t[o],i[o]);if(a)return a}return $e(t.length,i.length)}function da(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=rs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Yf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Yf(t.fields[c])}`;return o+"}"}(n.mapValue):Re()}function Hc(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(n);return e?16+Hc(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Hc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return cs(i.fields,(a,c)=>{o+=a.length+Hc(c)}),o}(n.mapValue);default:throw Re()}}function by(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xf(n){return!!n&&"integerValue"in n}function Fp(n){return!!n&&"arrayValue"in n}function Dy(n){return!!n&&"nullValue"in n}function Ly(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gc(n){return!!n&&"mapValue"in n}function lA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Nl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=Wt.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=Nl(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){cs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new En(Nl(this.value))}}function Xw(n){const e=[];return cs(n.fields,(t,i)=>{const o=new Wt([t]);if(Gc(i)){const a=Xw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new tn(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.position=e,this.inclusive=t}}function Oy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=ca(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function My(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function cA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{}class Ct extends Jw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hA(e,t,i):t==="array-contains"?new mA(e,i):t==="in"?new gA(e,i):t==="not-in"?new _A(e,i):t==="array-contains-any"?new yA(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new fA(e,i):new pA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ca(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends Jw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new pr(e,t)}matches(e){return Zw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zw(n){return n.op==="and"}function e0(n){return dA(n)&&Zw(n)}function dA(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function Jf(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+da(n.value);if(e0(n))return n.filters.map(e=>Jf(e)).join(",");{const e=n.filters.map(t=>Jf(t)).join(",");return`${n.op}(${e})`}}function t0(n,e){return n instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)}(n,e):n instanceof pr?function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&t0(c,o.filters[h]),!0):!1}(n,e):void Re()}function n0(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${da(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(n0).join(" ,")+"}"}(n):"Filter"}class hA extends Ct{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class fA extends Ct{constructor(e,t){super(e,"in",t),this.keys=r0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pA extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=r0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class mA extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&ql(t.arrayValue,this.value)}}class gA extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class _A extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ql(this.value.arrayValue,t)}}class yA extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ql(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function Vy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new vA(n,e,t,i,o,a,c)}function jp(n){const e=xe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Jf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>da(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>da(i)).join(",")),e.ue=t}return e.ue}function Up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!t0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!My(n.startAt,e.startAt)&&My(n.endAt,e.endAt)}function Zf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wA(n,e,t,i,o,a,c,h){return new iu(n,e,t,i,o,a,c,h)}function $p(n){return new iu(n)}function Fy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i0(n){return n.collectionGroup!==null}function bl(n){const e=xe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new bt(Wt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(h=h.add(_.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ld(a,i))}),t.has(Wt.keyField().canonicalString())||e.ce.push(new ld(Wt.keyField(),i))}return e.ce}function Lr(n){const e=xe(n);return e.le||(e.le=EA(e,bl(n))),e.le}function EA(n,e){if(n.limitType==="F")return Vy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ld(o.field,a)});const t=n.endAt?new ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ad(n.startAt.position,n.startAt.inclusive):null;return Vy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ep(n,e){const t=n.filters.concat([e]);return new iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tp(n,e,t){return new iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kd(n,e){return Up(Lr(n),Lr(e))&&n.limitType===e.limitType}function s0(n){return`${jp(Lr(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>n0(o)).join(", ")}]`),Cd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>da(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>da(o)).join(",")),`Target(${i})`}(Lr(n))}; limitType=${n.limitType})`}function Ad(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of bl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const _=Oy(c,h,p);return c.inclusive?_<=0:_<0}(i.startAt,bl(i),o)||i.endAt&&!function(c,h,p){const _=Oy(c,h,p);return c.inclusive?_>=0:_>0}(i.endAt,bl(i),o))}(n,e)}function TA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o0(n){return(e,t)=>{let i=!1;for(const o of bl(n)){const a=IA(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function IA(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),_=h.data.field(a);return p!==null&&_!==null?ca(p,_):Re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new ft(we.comparator);function pi(){return SA}const a0=new ft(we.comparator);function kl(...n){let e=a0;for(const t of n)e=e.insert(t.key,t);return e}function l0(n){let e=a0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return Dl()}function u0(){return Dl()}function Dl(){return new no(n=>n.toString(),(n,e)=>n.isEqual(e))}const CA=new ft(we.comparator),RA=new bt(we.comparator);function je(...n){let e=RA;for(const t of n)e=e.add(t);return e}const kA=new bt($e);function AA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function c0(n){return{integerValue:""+n}}function xA(n,e){return rA(e)?c0(e):Bp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function PA(n,e,t){return n instanceof Wl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vp(a)&&(a=Rd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Hl?h0(n,e):n instanceof Gl?f0(n,e):function(o,a){const c=d0(o,a),h=jy(c)+jy(o.Pe);return Xf(c)&&Xf(o.Pe)?c0(h):Bp(o.serializer,h)}(n,e)}function NA(n,e,t){return n instanceof Hl?h0(n,e):n instanceof Gl?f0(n,e):t}function d0(n,e){return n instanceof ud?function(i){return Xf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Wl extends xd{}class Hl extends xd{constructor(e){super(),this.elements=e}}function h0(n,e){const t=p0(e);for(const i of n.elements)t.some(o=>Mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Gl extends xd{constructor(e){super(),this.elements=e}}function f0(n,e){let t=p0(e);for(const i of n.elements)t=t.filter(o=>!Mr(o,i));return{arrayValue:{values:t}}}class ud extends xd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jy(n){return Et(n.integerValue||n.doubleValue)}function p0(n){return Fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t){this.field=e,this.transform=t}}function DA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Hl&&o instanceof Hl||i instanceof Gl&&o instanceof Gl?ua(i.elements,o.elements,Mr):i instanceof ud&&o instanceof ud?Mr(i.Pe,o.Pe):i instanceof Wl&&o instanceof Wl}(n.transform,e.transform)}class LA{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pd{}function m0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zp(n.key,fr.none()):new su(n.key,n.data,fr.none());{const t=n.data,i=En.empty();let o=new bt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ds(n.key,i,new Ln(o.toArray()),fr.none())}}function OA(n,e,t){n instanceof su?function(o,a,c){const h=o.value.clone(),p=$y(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ds?function(o,a,c){if(!Kc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=$y(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(g0(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ll(n,e,t,i){return n instanceof su?function(a,c,h,p){if(!Kc(a.precondition,c))return h;const _=a.value.clone(),w=By(a.fieldTransforms,p,c);return _.setAll(w),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ds?function(a,c,h,p){if(!Kc(a.precondition,c))return h;const _=By(a.fieldTransforms,p,c),w=c.data;return w.setAll(g0(a)),w.setAll(_),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(a,c,h){return Kc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function MA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=d0(i.transform,o||null);a!=null&&(t===null&&(t=En.empty()),t.set(i.field,a))}return t||null}function Uy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ua(i,o,(a,c)=>DA(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends Pd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Pd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function g0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $y(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,NA(c,h,t[o]))}return i}function By(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,PA(a,c,e))}return i}class zp extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VA extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&OA(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=u0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=m0(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(t,i)=>Uy(t,i))&&ua(this.baseMutations,e.baseMutations,(t,i)=>Uy(t,i))}}class qp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=function(){return CA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new qp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function $A(n){switch(n){default:return Re();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function _0(n){if(n===void 0)return fi("GRPC error has no .code"),J.UNKNOWN;switch(n){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Re()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Gs([4294967295,4294967295],0);function zy(n){const e=BA().encode(n),t=new $w;return t.update(e),new Uint8Array(t.digest())}function qy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gs([t,i],0),new Gs([o,a],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Al(`Invalid padding: ${t}`);if(i<0)throw new Al(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Al(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Gs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Gs.fromNumber(i)));return o.compare(zA)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=zy(e),[i,o]=qy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Wp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=zy(e),[i,o]=qy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nd(Ae.min(),o,new ft($e),pi(),je())}}class ou{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ou(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class y0{constructor(e,t){this.targetId=e,this.me=t}}class v0{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Wy{constructor(){this.fe=0,this.ge=Hy(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Re()}}),new ou(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Hy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qA{constructor(e){this.Le=e,this.Be=new Map,this.ke=pi(),this.qe=Oc(),this.Qe=Oc(),this.Ke=new ft($e)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Zf(a))if(i===0){const c=new we(a.path);this.We(t,c,tn.newNoDocument(c,Ae.min()))}else Qe(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=is(i).toUint8Array()}catch(p){if(p instanceof Yw)return la("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Wp(c,o,a)}catch(p){return la(p instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Zf(h.target)){const p=new we(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,tn.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=je();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Nd(e,t,this.Ke,this.ke,i);return this.ke=pi(),this.qe=Oc(),this.Qe=Oc(),this.Ke=new ft($e),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Wy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt($e),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt($e),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Oc(){return new ft(we.comparator)}function Hy(){return new ft(we.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GA={and:"AND",or:"OR"};class KA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(n,e){return n.useProto3Json||Cd(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QA(n,e){return cd(n,e.toTimestamp())}function Or(n){return Qe(!!n),Ae.fromTimestamp(function(t){const i=rs(t);return new Nt(i.seconds,i.nanos)}(n))}function Hp(n,e){return rp(n,e).canonicalString()}function rp(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function E0(n){const e=it.fromString(n);return Qe(R0(e)),e}function ip(n,e){return Hp(n.databaseId,e.path)}function Nf(n,e){const t=E0(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(I0(t))}function T0(n,e){return Hp(n.databaseId,e)}function YA(n){const e=E0(n);return e.length===4?it.emptyPath():I0(e)}function sp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I0(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Gy(n,e,t){return{name:ip(n,e),fields:t.value.mapValue.fields}}function XA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(Qe(w===void 0||typeof w=="string"),Gt.fromBase64String(w||"")):(Qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Gt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const w=_.code===void 0?J.UNKNOWN:_0(_.code);return new pe(w,_.message||"")}(c);t=new v0(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Nf(n,i.document.name),a=Or(i.document.updateTime),c=i.document.createTime?Or(i.document.createTime):Ae.min(),h=new En({mapValue:{fields:i.document.fields}}),p=tn.newFoundDocument(o,a,c,h),_=i.targetIds||[],w=i.removedTargetIds||[];t=new Qc(_,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Nf(n,i.document),a=i.readTime?Or(i.readTime):Ae.min(),c=tn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Qc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Nf(n,i.document),a=i.removedTargetIds||[];t=new Qc([],a,o,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new UA(o,a),h=i.targetId;t=new y0(h,c)}}return t}function JA(n,e){let t;if(e instanceof su)t={update:Gy(n,e.key,e.value)};else if(e instanceof zp)t={delete:ip(n,e.key)};else if(e instanceof ds)t={update:Gy(n,e.key,e.data),updateMask:ax(e.fieldMask)};else{if(!(e instanceof VA))return Re();t={verify:ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Wl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ud)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Re()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:QA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function ZA(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Or(o.updateTime):Or(a);return c.isEqual(Ae.min())&&(c=Or(a)),new LA(c,o.transformResults||[])}(t,e))):[]}function ex(n,e){return{documents:[T0(n,e.path)]}}function tx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=T0(n,o);const a=function(_){if(_.length!==0)return C0(pr.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(_.length!==0)return _.map(w=>function(S){return{field:ea(S.field),direction:ix(S.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=np(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function nx(n){let e=YA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(I){const S=S0(I);return S instanceof pr&&e0(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(S=>function(A){return new ld(ta(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(S))}(t.orderBy));let h=null;t.limit&&(h=function(I){let S;return S=typeof I=="object"?I.value:I,Cd(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(I){const S=!!I.before,b=I.values||[];return new ad(b,S)}(t.startAt));let _=null;return t.endAt&&(_=function(I){const S=!I.before,b=I.values||[];return new ad(b,S)}(t.endAt)),wA(e,o,c,a,h,"F",p,_)}function rx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function S0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ta(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ta(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(i=>S0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function ix(n){return WA[n]}function sx(n){return HA[n]}function ox(n){return GA[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Wt.fromServerFormat(n.fieldPath)}function C0(n){return n instanceof Ct?function(t){if(t.op==="=="){if(Ly(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(Dy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ly(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(Dy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:sx(t.op),value:t.value}}}(n):n instanceof pr?function(t){const i=t.getFilters().map(o=>C0(o));return i.length===1?i[0]:{compositeFilter:{op:ox(t.op),filters:i}}}(n):Re()}function ax(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function R0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,i,o,a=Ae.min(),c=Ae.min(),h=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.ht=e}}function ux(n){const e=nx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.ln=new dx}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ns.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class dx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new bt(it.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new bt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ha(0)}static Qn(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy([n,e],[t,i]){const o=$e(n,t);return o===0?$e(e,i):o}class hx{constructor(e){this.Gn=e,this.buffer=new bt(Qy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Qy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ea(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await wa(t)}await this.Yn(3e5)})}}class px{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Sd.oe);const i=new hx(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ky)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,p,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,c=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,h=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(_=Date.now(),Jo()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:I})))}}function mx(n,e){return new px(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ll(i.mutation,o,Ln.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=kl();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=pi();const c=Dl(),h=function(){return Dl()}();return t.forEach((p,_)=>{const w=i.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ds)?a=a.insert(_.key,_):w!==void 0?(c.set(_.key,w.mutation.getFieldMask()),Ll(w.mutation,_,w.mutation.getFieldMask(),Nt.now())):c.set(_.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,w)=>c.set(_,w)),t.forEach((_,w)=>{var I;return h.set(_,new _x(w,(I=c.get(_))!==null&&I!==void 0?I:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Dl();let o=new ft((c,h)=>c-h),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let w=i.get(p)||Ln.empty();w=h.applyToLocalView(_,w),i.set(p,w);const I=(o.get(h.batchId)||je()).add(p);o=o.insert(h.batchId,I)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,w=p.value,I=u0();w.forEach(S=>{if(!a.has(S)){const b=m0(t.get(S),i.get(S));b!==null&&I.set(S,b),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,I))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Hs());let h=-1,p=a;return c.next(_=>X.forEach(_,(w,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),a.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,je())).next(w=>({batchId:h,changes:l0(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=kl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=kl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,p=>{const _=function(I,S){return new iu(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(w=>{w.forEach((I,S)=>{c=c.insert(I,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,_)=>{const w=_.getKey();c.get(w)===null&&(c=c.insert(w,tn.newInvalidDocument(w)))});let h=kl();return c.forEach((p,_)=>{const w=a.get(p);w!==void 0&&Ll(w.mutation,_,Ln.empty(),Nt.now()),Ad(t,_)&&(h=h.insert(p,_))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ux(o.bundledQuery),readTime:Or(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.overlays=new ft(we.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),a=t.length+1,c=new we(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ft((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let w=a.get(_.largestBatchId);w===null&&(w=Hs(),a=a.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const h=Hs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>h.set(_,w)),!(h.size()>=o)););return X.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jA(t,i));let a=this.Er.get(t);a===void 0&&(a=je(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.dr=new bt(Vt.Ar),this.Rr=new bt(Vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Vt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new it([])),i=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new it([])),i=new Vt(t,e),o=new Vt(t,e+1);let a=je();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Vt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||$e(e.br,t.br)}static Vr(e,t){return $e(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(Vt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FA(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bt($e);return t.forEach(o=>{const a=new Vt(o,0),c=new Vt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const c=new Vt(new we(a),0);let h=new bt($e);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(h=h.add(p.br)),!0)},c),X.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const a=new Vt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Vt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.Nr=e,this.docs=function(){return new ft(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=pi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=pi();const c=t.path,h=new we(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:w}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||Zk(Jk(w),i)<=0||(o.has(w.key)||Ad(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Re()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Sx(this)}getSize(e){return X.resolve(this.size)}}class Sx extends gx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.persistence=e,this.Br=new no(t=>jp(t),Up),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gp,this.targetCount=0,this.Qr=ha.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Sd(0),this.Ur=!1,this.Ur=!0,this.Wr=new Ex,this.referenceDelegate=e(this),this.Gr=new Cx(this),this.indexManager=new cx,this.remoteDocumentCache=function(o){return new Ix(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new lx(t),this.jr=new vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Tx(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new Rx(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Rx extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Zr=new Gp,this.Xr=null}static ei(e){return new Kp(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.ri=new no(i=>iA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=mx(this,t)}static ei(e,t){return new dd(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Ae.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Qp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return dS()?8:nA(nn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new kx;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Jo()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Jo()<=Fe.DEBUG&&he("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Jo()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):X.resolve())}Xi(e,t){if(Fy(t))return X.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=tp(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=je(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,h);return this.ss(t,_,c,p.readTime)?this.Xi(e,tp(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return Fy(t)||o.isEqual(Ae.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?X.resolve(null):(Jo()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.os(e,c,t,Xk(o,-1)).next(h=>h))})}rs(e,t){let i=new bt(o0(e));return t.forEach((o,a)=>{Ad(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Jo()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ns.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ft($e),this.cs=new no(a=>jp(a),Up),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Px(n,e,t,i){return new xx(n,e,t,i)}async function A0(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=je();for(const _ of o){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of a){h.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:h}))})})}function Nx(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,_,w){const I=_.batch,S=I.keys();let b=X.resolve();return S.forEach(A=>{b=b.next(()=>w.getEntry(p,A)).next(D=>{const P=_.docVersions.get(A);Qe(P!==null),D.version.compareTo(P)<0&&(I.applyToRemoteDocument(D,_),D.isValidDocument()&&(D.setReadTime(_.commitVersion),w.addEntry(D)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(p,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=je();for(let _=0;_<h.mutationResults.length;++_)h.mutationResults[_].transformResults.length>0&&(p=p.add(h.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function x0(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function bx(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((w,I)=>{const S=o.get(I);if(!S)return;h.push(t.Gr.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(a,w.addedDocuments,I)));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(I)!==null?b=b.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,i)),o=o.insert(I,b),function(D,P,V){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(S,b,w)&&h.push(t.Gr.updateTargetData(a,b))});let p=pi(),_=je();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(Dx(a,c,e.documentUpdates).next(w=>{p=w.Is,_=w.Es})),!i.isEqual(Ae.min())){const w=t.Gr.getLastRemoteSnapshotVersion(a).next(I=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(w)}return X.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.us=o,a))}function Dx(n,e,t){let i=je(),o=je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=pi();return t.forEach((h,p)=>{const _=a.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function Lx(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ox(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Yi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function op(n,e,t){const i=xe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ea(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Yy(n,e,t){const i=xe(n);let o=Ae.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,w){const I=xe(p),S=I.cs.get(w);return S!==void 0?X.resolve(I.us.get(S)):I.Gr.getTargetData(_,w)}(i,c,Lr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?a:je())).next(h=>(Mx(i,TA(e),h),{documents:h,ds:a})))}function Mx(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Xy{constructor(){this.activeTargetIds=AA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vx{constructor(){this._o=new Xy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Xy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function bf(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class $x extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=bf(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,a,c),this.Bo(t,p,_,o).then(w=>(he("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw la("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=jx[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=bf();return new Promise((c,h)=>{const p=new Bw;p.setWithCredentials(!0),p.listenOnce(zw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const w=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),c(w);break;case Wc.TIMEOUT:he(Zt,`RPC '${e}' ${a} timed out`),h(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const I=p.getStatus();if(he(Zt,`RPC '${e}' ${a} failed with status:`,I,"response text:",p.getResponseText()),I>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const A=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(V)>=0?V:J.UNKNOWN}(b.status);h(new pe(A,b.message))}else h(new pe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{he(Zt,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(o);he(Zt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=bf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Hw(),h=Ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");he(Zt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const I=c.createWebChannel(w,p);let S=!1,b=!1;const A=new Ux({Eo:P=>{b?he(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(S||(he(Zt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),he(Zt,`RPC '${e}' stream ${o} sending:`,P),I.send(P))},Ao:()=>I.close()}),D=(P,V,O)=>{P.listen(V,G=>{try{O(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(I,Rl.EventType.OPEN,()=>{b||(he(Zt,`RPC '${e}' stream ${o} transport opened.`),A.So())}),D(I,Rl.EventType.CLOSE,()=>{b||(b=!0,he(Zt,`RPC '${e}' stream ${o} transport closed`),A.Do())}),D(I,Rl.EventType.ERROR,P=>{b||(b=!0,la(Zt,`RPC '${e}' stream ${o} transport errored:`,P),A.Do(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),D(I,Rl.EventType.MESSAGE,P=>{var V;if(!b){const O=P.data[0];Qe(!!O);const G=O,Q=(G==null?void 0:G.error)||((V=G[0])===null||V===void 0?void 0:V.error);if(Q){he(Zt,`RPC '${e}' stream ${o} received error:`,Q);const ue=Q.status;let ee=function(k){const L=St[k];if(L!==void 0)return _0(L)}(ue),x=Q.message;ee===void 0&&(ee=J.INTERNAL,x="Unknown error status: "+ue+" with message "+Q.message),b=!0,A.Do(new pe(ee,x)),I.close()}else he(Zt,`RPC '${e}' stream ${o} received:`,O),A.vo(O)}}),D(h,qw.STAT_EVENT,P=>{P.stat===Qf.PROXY?he(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Qf.NOPROXY&&he(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n){return new KA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,i,o,a,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new P0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bx extends N0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=XA(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ae.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Or(c.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=sp(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Zf(p)?{documents:ex(a,p)}:{query:tx(a,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=w0(a,c.resumeToken);const _=np(a,c.expectedCount);_!==null&&(h.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=cd(a,c.snapshotVersion.toTimestamp());const _=np(a,c.expectedCount);_!==null&&(h.expectedCount=_)}return h}(this.serializer,e);const i=rx(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=sp(this.serializer),t.removeTarget=e,this.c_(t)}}class zx extends N0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=ZA(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=sp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>JA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,rp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,rp(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Wx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(fi(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{ro(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=xe(p);_.k_.add(4),await au(_),_.K_.set("Unknown"),_.k_.delete(4),await Dd(_)}(this))})}),this.K_=new Wx(i,o)}}async function Dd(n){if(ro(n))for(const e of n.q_)await e(!0)}async function au(n){for(const e of n.q_)await e(!1)}function b0(n,e){const t=xe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Zp(t)?Jp(t):Ta(t).s_()&&Xp(t,e))}function Yp(n,e){const t=xe(n),i=Ta(t);t.B_.delete(e),i.s_()&&D0(t,e),t.B_.size===0&&(i.s_()?i.a_():ro(t)&&t.K_.set("Unknown"))}function Xp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).V_(e)}function D0(n,e){n.U_.xe(e),Ta(n).m_(e)}function Jp(n){n.U_=new qA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.K_.F_()}function Zp(n){return ro(n)&&!Ta(n).i_()&&n.B_.size>0}function ro(n){return xe(n).k_.size===0}function L0(n){n.U_=void 0}async function Gx(n){n.K_.set("Online")}async function Kx(n){n.B_.forEach((e,t)=>{Xp(n,e)})}async function Qx(n,e){L0(n),Zp(n)?(n.K_.O_(e),Jp(n)):n.K_.set("Unknown")}async function Yx(n,e,t){if(n.K_.set("Online"),e instanceof v0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(n,i)}else if(e instanceof Qc?n.U_.$e(e):e instanceof y0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await x0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(_);w&&a.B_.set(_,w.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,_)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken(Gt.EMPTY_BYTE_STRING,w.snapshotVersion)),D0(a,p);const I=new Yi(w.target,p,_,w.sequenceNumber);Xp(a,I)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await hd(n,i)}}async function hd(n,e,t){if(!Ea(e))throw e;n.k_.add(1),await au(n),n.K_.set("Offline"),t||(t=()=>x0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Dd(n)})}function O0(n,e){return e().catch(t=>hd(n,t,e))}async function Ld(n){const e=xe(n),t=os(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Xx(e);)try{const o=await Lx(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,Jx(e,o)}catch(o){await hd(e,o)}M0(e)&&V0(e)}function Xx(n){return ro(n)&&n.L_.length<10}function Jx(n,e){n.L_.push(e);const t=os(n);t.s_()&&t.f_&&t.g_(e.mutations)}function M0(n){return ro(n)&&!os(n).i_()&&n.L_.length>0}function V0(n){os(n).start()}async function Zx(n){os(n).w_()}async function eP(n){const e=os(n);for(const t of n.L_)e.g_(t.mutations)}async function tP(n,e,t){const i=n.L_.shift(),o=qp.from(i,e,t);await O0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ld(n)}async function nP(n,e){e&&os(n).f_&&await async function(i,o){if(function(c){return $A(c)&&c!==J.ABORTED}(o.code)){const a=i.L_.shift();os(i).__(),await O0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ld(i)}}(n,e),M0(n)&&V0(n)}async function Zy(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=ro(t);t.k_.add(3),await au(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Dd(t)}async function rP(n,e){const t=xe(n);e?(t.k_.delete(2),await Dd(t)):e||(t.k_.add(2),await au(t),t.K_.set("Unknown"))}function Ta(n){return n.W_||(n.W_=function(t,i,o){const a=xe(t);return a.b_(),new Bx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Gx.bind(null,n),mo:Kx.bind(null,n),po:Qx.bind(null,n),R_:Yx.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Zp(n)?Jp(n):n.K_.set("Unknown")):(await n.W_.stop(),L0(n))})),n.W_}function os(n){return n.G_||(n.G_=function(t,i,o){const a=xe(t);return a.b_(),new zx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Zx.bind(null,n),po:nP.bind(null,n),p_:eP.bind(null,n),y_:tP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ld(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new em(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(n,e){if(fi("AsyncQueue",`${e}: ${n}`),Ea(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=kl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new oa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.z_=new ft(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class fa{constructor(e,t,i,o,a,c,h,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new fa(e,t,oa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class sP{constructor(){this.queries=tv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=xe(t),a=o.queries;o.queries=tv(),a.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function tv(){return new no(n=>s0(n),kd)}async function F0(n,e){const t=xe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new iP,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=tm(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&nm(t)}async function j0(n,e){const t=xe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function oP(n,e){const t=xe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&nm(t)}function aP(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function nm(n){n.X_.forEach(e=>{e.next()})}var ap,nv;(nv=ap||(ap={})).na="default",nv.Cache="cache";class U0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new fa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.key=e}}class B0{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=o0(e),this.ma=new oa(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new ev,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const S=o.get(w),b=Ad(this.query,I)?I:null,A=!!S&&this.mutatedKeys.has(S.key),D=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;S&&b?S.data.isEqual(b.data)?A!==D&&(i.track({type:3,doc:b}),P=!0):this.ya(S,b)||(i.track({type:2,doc:b}),P=!0,(p&&this.Va(b,p)>0||_&&this.Va(b,_)<0)&&(h=!0)):!S&&b?(i.track({type:0,doc:b}),P=!0):S&&!b&&(i.track({type:1,doc:S}),P=!0,(p||_)&&(h=!0)),P&&(b?(c=c.add(b),a=D?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,I)=>function(b,A){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return D(b)-D(A)}(w.type,I.type)||this.Va(w.doc,I.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new fa(this.query,e.ma,a,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ev,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new B0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new $0(i))}),t}va(e){this.da=e.ds,this.Ra=je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return fa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class cP{constructor(e){this.key=e,this.Fa=!1}}class dP{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new no(h=>s0(h),kd),this.Oa=new Map,this.Na=new Set,this.La=new ft(we.comparator),this.Ba=new Map,this.ka=new Gp,this.qa={},this.Qa=new Map,this.Ka=ha.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function hP(n,e,t=!0){const i=K0(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await z0(i,e,t,!0),o}async function fP(n,e){const t=K0(n);await z0(t,e,!0,!1)}async function z0(n,e,t,i){const o=await Ox(n.localStore,Lr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await pP(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&b0(n.remoteStore,o),h}async function pP(n,e,t,i,o){n.Ua=(I,S,b)=>async function(D,P,V,O){let G=P.view.ga(V);G.ss&&(G=await Yy(D.localStore,P.query,!1).then(({documents:x})=>P.view.ga(x,G)));const Q=O&&O.targetChanges.get(P.targetId),ue=O&&O.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(G,D.isPrimaryClient,Q,ue);return iv(D,P.targetId,ee.ba),ee.snapshot}(n,I,S,b);const a=await Yy(n.localStore,e,!0),c=new lP(e,a.ds),h=c.ga(a.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(h,n.isPrimaryClient,p);iv(n,t,_.ba);const w=new uP(e,t,c);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function mP(n,e,t){const i=xe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!kd(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await op(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Yp(i.remoteStore,o.targetId),lp(i,o.targetId)}).catch(wa)):(lp(i,o.targetId),await op(i.localStore,o.targetId,!0))}async function gP(n,e){const t=xe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Yp(t.remoteStore,i.targetId))}async function _P(n,e,t){const i=SP(n);try{const o=await function(c,h){const p=xe(c),_=Nt.now(),w=h.reduce((b,A)=>b.add(A.key),je());let I,S;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=pi(),D=je();return p.hs.getEntries(b,w).next(P=>{A=P,A.forEach((V,O)=>{O.isValidDocument()||(D=D.add(V))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,A)).next(P=>{I=P;const V=[];for(const O of h){const G=MA(O,I.get(O.key).overlayedDocument);G!=null&&V.push(new ds(O.key,G,Xw(G.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,_,V,h)}).next(P=>{S=P;const V=P.applyToLocalDocumentSet(I,D);return p.documentOverlayCache.saveOverlays(b,P.batchId,V)})}).then(()=>({batchId:S.batchId,changes:l0(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let _=c.qa[c.currentUser.toKey()];_||(_=new ft($e)),_=_.insert(h,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await lu(i,o.changes),await Ld(i.remoteStore)}catch(o){const a=tm(o,"Failed to persist write");t.reject(a)}}async function q0(n,e){const t=xe(n);try{const i=await bx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Qe(c.Fa):o.removedDocuments.size>0&&(Qe(c.Fa),c.Fa=!1))}),await lu(t,i,e)}catch(i){await wa(i)}}function rv(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=xe(c);p.onlineState=h;let _=!1;p.queries.forEach((w,I)=>{for(const S of I.J_)S.ea(h)&&(_=!0)}),_&&nm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yP(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new ft(we.comparator);c=c.insert(a,tn.newNoDocument(a,Ae.min()));const h=je().add(a),p=new Nd(Ae.min(),new Map,new ft($e),c,h);await q0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),rm(i)}else await op(i.localStore,e,!1).then(()=>lp(i,e,t)).catch(wa)}async function vP(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await Nx(t.localStore,e);H0(t,i,null),W0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lu(t,o)}catch(o){await wa(o)}}async function wP(n,e,t){const i=xe(n);try{const o=await function(c,h){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,h).next(I=>(Qe(I!==null),w=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(i.localStore,e);H0(i,e,t),W0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lu(i,o)}catch(o){await wa(o)}}function W0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function H0(n,e,t){const i=xe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||G0(n,i)})}function G0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Yp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),rm(n))}function iv(n,e,t){for(const i of t)i instanceof $0?(n.ka.addReference(i.key,e),EP(n,i)):i instanceof B0?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||G0(n,i.key)):Re()}function EP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),rm(n))}function rm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(it.fromString(e)),i=n.Ka.next();n.Ba.set(i,new cP(t)),n.La=n.La.insert(t,i),b0(n.remoteStore,new Yi(Lr($p(t.path)),i,"TargetPurposeLimboResolution",Sd.oe))}}async function lu(n,e,t){const i=xe(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(_=>{var w;if((_||t)&&i.isPrimaryClient){const I=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){o.push(_);const I=Qp.zi(p.targetId,_);a.push(I)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const w=xe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>X.forEach(_,S=>X.forEach(S.Wi,b=>w.persistence.referenceDelegate.addReference(I,S.targetId,b)).next(()=>X.forEach(S.Gi,b=>w.persistence.referenceDelegate.removeReference(I,S.targetId,b)))))}catch(I){if(!Ea(I))throw I;he("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const S=I.targetId;if(!I.fromCache){const b=w.us.get(S),A=b.snapshotVersion,D=b.withLastLimboFreeSnapshotVersion(A);w.us=w.us.insert(S,D)}}}(i.localStore,a))}async function TP(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await A0(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(p=>{p.reject(new pe(J.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lu(t,i.Ts)}}function IP(n,e){const t=xe(n),i=t.Ba.get(e);if(i&&i.Fa)return je().add(i.key);{let o=je();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function K0(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=q0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yP.bind(null,e),e.Ma.R_=oP.bind(null,e.eventManager),e.Ma.Wa=aP.bind(null,e.eventManager),e}function SP(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Px(this.persistence,new Ax,e.initialUser,this.serializer)}ja(e){return new k0(Kp.ei,this.serializer)}za(e){return new Vx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class CP extends fd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof dd);const i=this.persistence.referenceDelegate.garbageCollector;return new fx(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new k0(i=>dd.ei(i,t),this.serializer)}}class up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TP.bind(null,this.syncEngine),await rP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sP}()}createDatastore(e){const t=bd(e.databaseInfo.databaseId),i=function(a){return new $x(a)}(e.databaseInfo);return function(a,c,h,p){return new qx(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new Hx(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>rv(this.syncEngine,t,0),function(){return Jy.p()?new Jy:new Fx}())}createSyncEngine(e,t){return function(o,a,c,h,p,_,w){const I=new dP(o,a,c,h,p,_);return w&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=xe(o);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await au(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=tm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await A0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function sv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kP(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Zy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Zy(e.remoteStore,o)),n._onlineComponents=e}async function kP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;la("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new fd)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new CP(void 0));return n._offlineComponents}async function Y0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await sv(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await sv(n,new up))),n._onlineComponents}function AP(n){return Y0(n).then(e=>e.syncEngine)}async function X0(n){const e=await Y0(n),t=e.eventManager;return t.onListen=hP.bind(null,e.syncEngine),t.onUnlisten=mP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gP.bind(null,e.syncEngine),t}function xP(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,_){const w=new Q0({next:S=>{w.eu(),c.enqueueAndForget(()=>j0(a,I));const b=S.docs.has(h);!b&&S.fromCache?_.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&p&&p.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new U0($p(h.path),w,{includeMetadataChanges:!0,ua:!0});return F0(a,I)}(await X0(n),n.asyncQueue,e,t,i)),i.promise}function PP(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,_){const w=new Q0({next:S=>{w.eu(),c.enqueueAndForget(()=>j0(a,I)),S.fromCache&&p.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new U0(h,w,{includeMetadataChanges:!0,ua:!0});return F0(a,I)}(await X0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NP(n,e,t,i){if(e===!0&&i===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function av(n){if(!we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lv(n){if(we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Od(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Bk;switch(i.type){case"firstParty":return new Hk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ov.get(t);i&&(he("ComponentProvider","Removing Datastore"),ov.delete(t),i.terminate())}(this),Promise.resolve()}}function bP(n,e,t,i={}){var o;const a=(n=mi(n,Md))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=en.MOCK_USER;else{h=ew(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new en(_)}n._authCredentials=new zk(new Gw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Zi extends Ia{constructor(e,t,i){super(e,t,$p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new we(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function qt(n,e,...t){if(n=st(n),Z0("collection","path",e),n instanceof Md){const i=it.fromString(e,...t);return lv(i),new Zi(n,null,i)}{if(!(n instanceof Tn||n instanceof Zi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return lv(i),new Zi(n.firestore,null,i)}}function uu(n,e,...t){if(n=st(n),arguments.length===1&&(e=Kw.newId()),Z0("doc","path",e),n instanceof Md){const i=it.fromString(e,...t);return av(i),new Tn(n,null,new we(i))}{if(!(n instanceof Tn||n instanceof Zi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return av(i),new Tn(n.firestore,n instanceof Zi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new P0(this,"async_queue_retry"),this.fu=()=>{const i=Df();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Df();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Df();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ci;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ea(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw fi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=em.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Sa extends Md{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new cv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function yi(n,e){const t=typeof n=="object"?n:Sp(),i=typeof n=="string"?n:"(default)",o=wd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Xv("firestore");a&&bP(o,...a)}return o}function im(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DP(n),n._firestoreClient}function DP(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,_,w){return new aA(h,p,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,J0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new RP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Gt.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=/^__.*__$/;class OP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class eE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class am{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(tE(this.Mu)&&LP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class MP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||bd(e)}$u(e,t,i,o=!1){return new am({Mu:e,methodName:t,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(n){const e=n._freezeSettings(),t=bd(n._databaseId);return new MP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VP(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);cm("Data must be an object, but it was:",c,i);const h=nE(i,c);let p,_;if(a.merge)p=new Ln(c.fieldMask),_=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const I of a.mergeFields){const S=cp(e,I,t);if(!c.contains(S))throw new pe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);iE(w,S)||w.push(S)}p=new Ln(w),_=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=c.fieldTransforms;return new OP(new En(h),p,_)}class jd extends Fd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}class um extends Fd{_toFieldTransform(e){return new bA(e.path,new Wl)}isEqual(e){return e instanceof um}}function FP(n,e,t,i){const o=n.$u(1,e,t);cm("Data must be an object, but it was:",o,i);const a=[],c=En.empty();cs(i,(p,_)=>{const w=dm(e,p,t);_=st(_);const I=o.Bu(w);if(_ instanceof jd)a.push(w);else{const S=cu(_,I);S!=null&&(a.push(w),c.set(w,S))}});const h=new Ln(a);return new eE(c,h,o.fieldTransforms)}function jP(n,e,t,i,o,a){const c=n.$u(1,e,t),h=[cp(e,i,t)],p=[o];if(a.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(cp(e,a[S])),p.push(a[S+1]);const _=[],w=En.empty();for(let S=h.length-1;S>=0;--S)if(!iE(_,h[S])){const b=h[S];let A=p[S];A=st(A);const D=c.Bu(b);if(A instanceof jd)_.push(b);else{const P=cu(A,D);P!=null&&(_.push(b),w.set(b,P))}}const I=new Ln(_);return new eE(w,I,c.fieldTransforms)}function UP(n,e,t,i=!1){return cu(t,n.$u(i?4:3,e))}function cu(n,e){if(rE(n=st(n)))return cm("Unsupported field value:",e,n),nE(n,e);if(n instanceof Fd)return function(i,o){if(!tE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let p=cu(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Nt.fromDate(i);return{timestampValue:cd(o.serializer,a)}}if(i instanceof Nt){const a=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(o.serializer,a)}}if(i instanceof sm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pa)return{bytesValue:w0(o.serializer,i._byteString)};if(i instanceof Tn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof om)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return Bp(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Od(i)}`)}(n,e)}function nE(n,e){const t={};return Qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(n,(i,o)=>{const a=cu(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function rE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof sm||n instanceof pa||n instanceof Tn||n instanceof Fd||n instanceof om)}function cm(n,e,t){if(!rE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Od(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function cp(n,e,t){if((e=st(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return dm(n,e);throw pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const $P=new RegExp("[~\\*/\\[\\]]");function dm(n,e,t){if(e.search($P)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pd(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,h+n+p)}function iE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BP extends sE{data(){return super.data()}}function hm(n,e){return typeof e=="string"?dm(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class qP extends fm{}function Nr(n,e,...t){let i=[];e instanceof fm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof pm).length,h=a.filter(p=>p instanceof Ud).length;if(c>1||c>0&&h>0)throw new pe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Ud extends qP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ud(e,t,i)}_apply(e){const t=this._parse(e);return oE(e._query,t),new Ia(e.firestore,e.converter,ep(e._query,t))}_parse(e){const t=lm(e.firestore);return function(a,c,h,p,_,w,I){let S;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){hv(I,w);const b=[];for(const A of I)b.push(dv(p,a,A));S={arrayValue:{values:b}}}else S=dv(p,a,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||hv(I,w),S=UP(h,c,I,w==="in"||w==="not-in");return Ct.create(_,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Dn(n,e,t){const i=e,o=hm("where",n);return Ud._create(o,i,t)}class pm extends fm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const h=a.getFlattenedFilters();for(const p of h)oE(c,p),c=ep(c,p)}(e._query,t),new Ia(e.firestore,e.converter,ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dv(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new pe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i0(e)&&t.indexOf("/")!==-1)throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!we.isDocumentKey(i))throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return by(n,new we(i))}if(t instanceof Tn)return by(n,t._key);throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function hv(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oE(n,e){const t=function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WP{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Et(c.doubleValue));return new om(a)}convertGeoPoint(e){return new sm(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const t=rs(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Qe(R0(i));const o=new zl(i.get(1),i.get(3)),a=new we(i.popFirst(5));return o.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aE extends sE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Yc extends aE{data(e={}){return super.data(e)}}class GP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Yc(this._firestore,this._userDataWriter,i.key,i,new xl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new Yc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new Yc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new xl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return h.type!==0&&(_=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:KP(h.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n){n=mi(n,Tn);const e=mi(n.firestore,Sa);return xP(im(e),n._key).then(t=>YP(e,n,t))}class lE extends WP{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function wn(n){n=mi(n,Ia);const e=mi(n.firestore,Sa),t=im(e),i=new lE(e);return zP(n._query),PP(t,n._query).then(o=>new GP(e,i,n,o))}function Kl(n,e,t,...i){n=mi(n,Tn);const o=mi(n.firestore,Sa),a=lm(o);let c;return c=typeof(e=st(e))=="string"||e instanceof Vd?jP(a,"updateDoc",n._key,e,t,i):FP(a,"updateDoc",n._key,e),_m(o,[c.toMutation(n._key,fr.exists(!0))])}function QP(n){return _m(mi(n.firestore,Sa),[new zp(n._key,fr.none())])}function gm(n,e){const t=mi(n.firestore,Sa),i=uu(n),o=HP(n.converter,e);return _m(t,[VP(lm(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,fr.exists(!1))]).then(()=>i)}function _m(n,e){return function(i,o){const a=new ci;return i.asyncQueue.enqueueAndForget(async()=>_P(await AP(i),o,a)),a.promise}(im(n),e)}function YP(n,e,t){const i=t.docs.get(e._key),o=new lE(n);return new aE(n,o,e._key,i,new xl(t.hasPendingWrites,t.fromCache),e.converter)}function uE(){return new um("serverTimestamp")}(function(e,t=!0){(function(o){va=o})(to),Qs(new ts("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Sa(new qk(i.getProvider("auth-internal")),new Kk(i.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(_.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),br(Ry,"4.7.5",e),br(Ry,"4.7.5","esm2017")})();const XP={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};_a(XP);const JP=()=>{const n=ls(),[e,t]=M.useState(null),[i,o]=M.useState(null),[a,c]=M.useState(!1),[h,p]=M.useState([]),[_,w]=M.useState([]),[I,S]=M.useState(null);M.useState(!1);const b=Fr(),A=yi();M.useEffect(()=>{const x=b.onAuthStateChanged(async k=>{if(t(k),k){const L=k.email,j=await D(L);o(j),n("/dashboard",{state:{userData:j}})}});return(async()=>{try{if("NDEFReader"in window){const k=await window.NDEFReader;k&&(k.abort(),console.log("Existing NFC reader cleaned up"))}}catch(k){console.error("Error cleaning up NFC reader:",k)}})(),()=>{x(),I&&I.abort()}},[]),M.useEffect(()=>{(async()=>{try{const k=(await wn(qt(A,"RegisteredTeacher"))).docs.map(F=>F.data().name).slice(0,5);p(k);const j=(await wn(qt(A,"RegisteredStudent"))).docs.map(F=>F.data().name).slice(0,5);w(j)}catch(R){console.error("Error fetching registered users:",R)}})()},[A]);const D=async x=>{try{const R=Nr(qt(A,"RegisteredAdmin"),Dn("email","==",x)),k=await wn(R);if(!k.empty)return k.docs[0].data();const L=Nr(qt(A,"RegisteredTeacher"),Dn("email","==",x)),j=await wn(L);if(!j.empty)return j.docs[0].data();const F=Nr(qt(A,"RegisteredStudent"),Dn("email","==",x)),T=await wn(F);return T.empty?null:T.docs[0].data()}catch(R){return console.error("Error fetching user data:",R),null}},P=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},V=()=>{c(!1),n("/dashboard",{state:{userData:i}})},O=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},G=()=>{c(!a)},Q=async()=>{try{I&&I.abort(),await Ul(b),console.log("User signed out successfully"),n("/login")}catch(x){console.error("Error signing out:",x)}},ue=["Scanner-001","Scanner-002","Scanner-003"],ee=(i==null?void 0:i.position)==="Student";return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:Ie.hamburgerBtn,onClick:G,children:a?y.jsx(yd,{size:24}):y.jsx(KI,{size:24})}),y.jsxs("div",{className:`${Ie.sidebar} ${a?Ie.sidebarOpen:""}`,children:[y.jsx("div",{className:Ie.profileSection,children:e&&i&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:Ie.avatar,children:y.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),y.jsxs("div",{className:Ie.userInfo,children:[y.jsx("h3",{children:i.name}),y.jsx("p",{children:e.email}),y.jsx("br",{}),y.jsx("span",{children:i.position})]})]})}),y.jsx("nav",{className:Ie.navigation,children:y.jsxs("ul",{className:Ie.navList,children:[y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:V,children:[y.jsx(HI,{size:20}),y.jsx("span",{children:"Dashboard"})]})}),ee?y.jsxs(y.Fragment,{children:[y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(xc,{size:20}),y.jsx("span",{children:"Event Attendance"})]})}),y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(xc,{size:20}),y.jsx("span",{children:"Room Attendance"})]})}),y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(xc,{size:20}),y.jsx("span",{children:"Membership Attendance"})]})})]}):y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{onClick:P,className:Ie.navLink,style:{cursor:"pointer"},children:[y.jsx(FI,{size:20}),y.jsx("span",{children:"Create Event"})]})}),!ee&&y.jsxs(y.Fragment,{children:[y.jsxs(Wi,{to:"/dashboard/event-list",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx($I,{size:20}),y.jsx("span",{children:"Event List"})]}),y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(xc,{size:20}),y.jsx("span",{children:"Archive"})]})}),y.jsxs("li",{className:Ie.navItem,children:[y.jsxs(Wi,{to:"/dashboard/registered-students",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(na,{size:20}),y.jsx("span",{children:"Registered Students"})]}),y.jsx("ul",{className:Ie.dropdown,children:_.map((x,R)=>y.jsx("li",{className:Ie.dropdownItem,children:x},R))})]}),y.jsxs("li",{className:Ie.navItem,children:[y.jsxs(Wi,{to:"/dashboard/registered-teachers",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(na,{size:20}),y.jsx("span",{children:"Registered Teacher"})]}),y.jsx("ul",{className:Ie.dropdown,children:h.map((x,R)=>y.jsx("li",{className:Ie.dropdownItem,children:x},R))})]}),y.jsx("li",{className:Ie.navItem,children:y.jsxs(Wi,{to:"/dashboard/teacher-registration",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(na,{size:20}),y.jsx("span",{children:"Teacher Registration"})]})}),y.jsx("li",{className:Ie.navItem,children:y.jsxs(Wi,{to:"/dashboard/student-registration",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(na,{size:20}),y.jsx("span",{children:"Student Registration"})]})}),y.jsx("li",{className:Ie.navItem,children:y.jsxs(Wi,{to:"/dashboard/nfc-reader",className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(Q_,{size:20}),y.jsx("span",{children:"NFC Reader"})]})}),y.jsxs("li",{className:Ie.navItem,children:[y.jsxs("div",{className:Ie.navLink,onClick:()=>c(!1),children:[y.jsx(Q_,{size:20}),y.jsx("span",{children:"ESP32 NFC Scanners"})]}),y.jsx("ul",{className:Ie.dropdown,children:ue.map((x,R)=>y.jsx("li",{className:Ie.dropdownItem,children:x},R))})]})]}),y.jsx("li",{className:Ie.navItem,children:y.jsxs("div",{className:Ie.navLink,onClick:O,children:[y.jsx(qI,{size:20}),y.jsx("span",{children:"File Manager"})]})})]})}),y.jsxs("button",{className:Ie.logoutBtn,onClick:Q,children:[y.jsx(GI,{size:20}),y.jsx("span",{children:"Logout"})]})]}),a&&y.jsx("div",{className:Ie.overlay,onClick:G})]})};function ZP(){var i;const n=_r(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return y.jsxs("div",{className:Ie.dashboardContainer,children:[y.jsx(JP,{}),y.jsx("main",{className:Ie.mainContent,children:t?y.jsxs("div",{className:Ie.welcomeContainer,children:[y.jsxs("h1",{className:Ie.welcomeTitle,children:["Welcome",y.jsx("br",{})," ",y.jsx("span",{children:e==null?void 0:e.name})]}),y.jsx("p",{className:Ie.welcomeText,children:"Select an option from the sidebar to get started"})]}):y.jsx(D1,{})})]})}const eN="_container_1vton_5",tN="_card_1vton_17",nN="_cardHeader_1vton_33",rN="_cardTitle_1vton_45",iN="_form_1vton_59",sN="_formGrid_1vton_69",oN="_formGroup_1vton_93",aN="_label_1vton_105",lN="_input_1vton_117",uN="_select_1vton_119",cN="_button_1vton_165",dN="_tableContainer_1vton_215",hN="_table_1vton_215",fN="_status_1vton_273",pN="_statusPending_1vton_289",mN="_statusOngoing_1vton_299",gN="_statusCompleted_1vton_309",_N="_error_1vton_321",yN="_inputError_1vton_333",Le={container:eN,card:tN,cardHeader:nN,cardTitle:rN,form:iN,formGrid:sN,formGroup:oN,label:aN,input:lN,select:uN,button:cN,tableContainer:dN,table:hN,status:fN,statusPending:pN,statusOngoing:mN,statusCompleted:gN,error:_N,inputError:yN},vN="_buttons_85dii_1",wN="_add_85dii_77",EN="_archive_85dii_77",TN="_logout_85dii_77",IN="_progress_85dii_77",SN="_filemanager_85dii_77",CN="_new_event_85dii_77",Ht={buttons:vN,add:wN,archive:EN,logout:TN,progress:IN,filemanager:SN,new_event:CN},RN=()=>{const n=_r(),{userData:e}=n.state||{},t=yi(),[i,o]=M.useState(""),[a,c]=M.useState("unlimited"),[h,p]=M.useState(""),[_,w]=M.useState(""),[I,S]=M.useState("event"),[b,A]=M.useState(""),[D,P]=M.useState("pending"),[V,O]=M.useState(""),[G,Q]=M.useState(""),[ue,ee]=M.useState(""),[x,R]=M.useState(""),k=["ESP32-001","ESP32-002","ESP32-003"],L=async F=>{F.preventDefault();try{const T={eventName:i,entryLimit:a,maxEntries:a==="limited"?parseInt(h):null,locations:_,purpose:I,selectedEsp32:b,status:D,startDate:V,startTime:G,endDate:ue,endTime:x,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},oe=await gm(qt(t,"PendingEvent"),T);await Kl(oe,{docId:oe.id}),console.log("Event created with ID: ",oe.id),alert("Event created successfully!"),j()}catch(T){console.error("Error creating event: ",T),alert("Error creating event. Please try again.")}},j=()=>{o(""),c("unlimited"),p(""),w(""),S("event"),A(""),P("pending"),O(""),Q(""),ee(""),R("")};return y.jsx("div",{className:Le.container,children:y.jsxs("div",{className:Le.card,children:[y.jsx("div",{className:Le.cardHeader,children:y.jsx("h2",{className:Le.cardTitle,children:"Create New Event"})}),y.jsxs("form",{className:Le.form,onSubmit:L,children:[y.jsxs("div",{className:Le.formGrid,children:[y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Event Name"}),y.jsx("input",{type:"text",className:Le.input,value:i,onChange:F=>o(F.target.value),placeholder:"Enter event name"})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Entry Limit"}),y.jsxs("select",{className:Le.select,value:a,name:"Entry Limit",onChange:F=>c(F.target.value),children:[y.jsx("option",{value:"unlimited",children:"Unlimited"}),y.jsx("option",{value:"limited",children:"Limited"})]})]}),a==="limited"&&y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Maximum Entries"}),y.jsx("input",{type:"number",className:Le.input,value:h,onChange:F=>p(F.target.value),placeholder:"Enter maximum entries"})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Location"}),y.jsx("input",{type:"text",className:Le.input,value:_,onChange:F=>w(F.target.value),placeholder:"Enter location"})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Purpose"}),y.jsxs("select",{className:Le.select,value:I,name:"Purpose",onChange:F=>S(F.target.value),children:[y.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),y.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"}),y.jsx("option",{value:"room",name:"Purpose",children:"Room Attendance"})]})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"ESP32 Device"}),y.jsx("select",{className:Le.select,value:b,name:"ESP32 Device",onChange:F=>A(F.target.value),children:k.map(F=>y.jsx("option",{value:F,children:F},F))})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Status"}),y.jsxs("select",{className:Le.select,value:D,name:"Status",onChange:F=>P(F.target.value),children:[y.jsx("option",{value:"pending",name:"Status",children:"Pending"}),y.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"}),y.jsx("option",{value:"completed",name:"Status",children:"Completed"}),y.jsx("option",{value:"pause",name:"Status",children:"Pause"}),y.jsx("option",{value:"continued",name:"Status",children:"Continued"})]})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Start Date"}),y.jsx("input",{type:"date",className:Le.input,value:V,name:"Start Date",onChange:F=>O(F.target.value)})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"Start Time"}),y.jsx("input",{type:"time",className:Le.input,value:G,name:"Start Time",onChange:F=>Q(F.target.value)})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"End Date"}),y.jsx("input",{type:"date",className:Le.input,value:ue,name:"End Date",onChange:F=>ee(F.target.value)})]}),y.jsxs("div",{className:Le.formGroup,children:[y.jsx("label",{className:Le.label,children:"End Time"}),y.jsx("input",{type:"time",className:Le.input,value:x,name:"End Time",onChange:F=>R(F.target.value)})]})]}),y.jsx("button",{type:"submit",className:Ht.buttons,name:"Create Event Submit",children:y.jsx("span",{children:"Create Event"})})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebasestorage.googleapis.com",dE="storageBucket",kN=2*60*1e3,AN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Vr{constructor(e,t,i=0){super(Of(e),`Firebase Storage: ${t} (${Of(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Of(n){return"storage/"+n}function ym(){const n="An unknown error occurred, please check the error payload for server response.";return new _t(mt.UNKNOWN,n)}function xN(n){return new _t(mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PN(n){return new _t(mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(mt.UNAUTHENTICATED,n)}function bN(){return new _t(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DN(n){return new _t(mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function LN(){return new _t(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ON(){return new _t(mt.CANCELED,"User canceled the upload/download.")}function MN(n){return new _t(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function VN(n){return new _t(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function FN(){return new _t(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dE+"' property when initializing the app?")}function jN(){return new _t(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UN(){return new _t(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $N(n){return new _t(mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(n){return new _t(mt.INVALID_ARGUMENT,n)}function hE(){return new _t(mt.APP_DELETED,"The Firebase app was deleted.")}function BN(n){return new _t(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ol(n,e){return new _t(mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wl(n){throw new _t(mt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=cn.makeFromUrl(e,t)}catch{return new cn(e,"")}if(i.path==="")return i;throw VN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(Q){Q.path_=decodeURIComponent(Q.path)}const w="v[A-Za-z0-9_]+",I=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",b=new RegExp(`^https?://${I}/${w}/b/${o}/o${S}`,"i"),A={bucket:1,path:3},D=t===cE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",V=new RegExp(`^https?://${D}/${o}/${P}`,"i"),G=[{regex:h,indices:p,postModify:a},{regex:b,indices:A,postModify:_},{regex:V,indices:{bucket:1,path:2},postModify:_}];for(let Q=0;Q<G.length;Q++){const ue=G[Q],ee=ue.regex.exec(e);if(ee){const x=ee[ue.indices.bucket];let R=ee[ue.indices.path];R||(R=""),i=new cn(x,R),ue.postModify(i);break}}if(i==null)throw MN(e);return i}}class zN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,e,t){let i=1,o=null,a=null,c=!1,h=0;function p(){return h===2}let _=!1;function w(...P){_||(_=!0,e.apply(null,P))}function I(P){o=setTimeout(()=>{o=null,n(b,p())},P)}function S(){a&&clearTimeout(a)}function b(P,...V){if(_){S();return}if(P){S(),w.call(null,P,...V);return}if(p()||c){S(),w.call(null,P,...V);return}i<64&&(i*=2);let G;h===1?(h=2,G=0):G=(i+Math.random())*1e3,I(G)}let A=!1;function D(P){A||(A=!0,S(),!_&&(o!==null?(P||(h=2),clearTimeout(o),I(0)):P||(h=1)))}return I(0),a=setTimeout(()=>{c=!0,D(!0)},t),D}function WN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){return n!==void 0}function GN(n){return typeof n=="object"&&!Array.isArray(n)}function vm(n){return typeof n=="string"||n instanceof String}function fv(n){return wm()&&n instanceof Blob}function wm(){return typeof Blob<"u"}function hp(n,e,t,i){if(i<e)throw dp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw dp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function fE(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ks;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,i,o,a,c,h,p,_,w,I,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=I,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Vc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const p=h.loaded,_=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===Ks.NO_ERROR,p=a.getStatus();if(!h||KN(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===Ks.ABORT;i(!1,new Vc(!1,null,w));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new Vc(_,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());HN(p)?a(p):a()}catch(p){c(p)}else if(h!==null){const p=ym();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?hE():ON();c(p)}else{const p=LN();c(p)}};this.canceled_?t(!1,new Vc(!1,null,!0)):this.backoffId_=qN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function YN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function e2(n,e,t,i,o,a,c=!0){const h=fE(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return JN(_,e),YN(_,t),XN(_,a),ZN(_,i),new QN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n2(...n){const e=t2();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(wm())return new Blob(n);throw new _t(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){if(typeof atob>"u")throw $N("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mf{constructor(e,t){this.data=e,this.contentType=t||null}}function pE(n,e){switch(n){case dr.RAW:return new Mf(mE(e));case dr.BASE64:case dr.BASE64URL:return new Mf(gE(n,e));case dr.DATA_URL:return new Mf(o2(e),a2(e))}throw ym()}function mE(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,c=n.charCodeAt(++t);i=65536|(a&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function s2(n){let e;try{e=decodeURIComponent(n)}catch{throw Ol(dr.DATA_URL,"Malformed data URL.")}return mE(e)}function gE(n,e){switch(n){case dr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Ol(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Ol(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=i2(e)}catch(o){throw o.message.includes("polyfill")?o:Ol(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class _E{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ol(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=l2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function o2(n){const e=new _E(n);return e.base64?gE(dr.BASE64,e.rest):s2(e.rest)}function a2(n){return new _E(n).contentType}function l2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t){let i=0,o="";fv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(fv(this.data_)){const i=this.data_,o=r2(i,e,t);return o===null?null:new Qi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qi(i,!0)}}static getBlob(...e){if(wm()){const t=e.map(i=>i instanceof Qi?i.data_:i);return new Qi(n2.apply(null,t))}else{const t=e.map(c=>vm(c)?pE(dr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new Qi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){let e;try{e=JSON.parse(n)}catch{return null}return GN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function c2(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function yE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n,e){return e}class ln{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||d2}}let Fc=null;function h2(n){return!vm(n)||n.length<2?n:yE(n)}function vE(){if(Fc)return Fc;const n=[];n.push(new ln("bucket")),n.push(new ln("generation")),n.push(new ln("metageneration")),n.push(new ln("name","fullPath",!0));function e(a,c){return h2(c)}const t=new ln("name");t.xform=e,n.push(t);function i(a,c){return c!==void 0?Number(c):c}const o=new ln("size");return o.xform=i,n.push(o),n.push(new ln("timeCreated")),n.push(new ln("updated")),n.push(new ln("md5Hash",null,!0)),n.push(new ln("cacheControl",null,!0)),n.push(new ln("contentDisposition",null,!0)),n.push(new ln("contentEncoding",null,!0)),n.push(new ln("contentLanguage",null,!0)),n.push(new ln("contentType",null,!0)),n.push(new ln("metadata","customMetadata",!0)),Fc=n,Fc}function f2(n,e){function t(){const i=n.bucket,o=n.fullPath,a=new cn(i,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function p2(n,e,t){const i={};i.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return f2(i,n),i}function wE(n,e,t){const i=Em(e);return i===null?null:p2(n,i,t)}function m2(n,e,t,i){const o=Em(e);if(o===null||!vm(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(_=>{const w=n.bucket,I=n.fullPath,S="/b/"+c(w)+"/o/"+c(I),b=du(S,t,i),A=fE({alt:"media",token:_});return b+A})[0]}function g2(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="prefixes",mv="items";function _2(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pv])for(const o of t[pv]){const a=o.replace(/\/$/,""),c=n._makeStorageReference(new cn(e,a));i.prefixes.push(c)}if(t[mv])for(const o of t[mv]){const a=n._makeStorageReference(new cn(e,o.name));i.items.push(a)}return i}function y2(n,e,t){const i=Em(t);return i===null?null:_2(n,e,i)}class $d{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){if(!n)throw ym()}function v2(n,e){function t(i,o){const a=wE(n,o,e);return Tm(a!==null),a}return t}function w2(n,e){function t(i,o){const a=y2(n,e,o);return Tm(a!==null),a}return t}function E2(n,e){function t(i,o){const a=wE(n,o,e);return Tm(a!==null),m2(a,o,n.host,n._protocol)}return t}function Im(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=bN():o=NN():t.getStatus()===402?o=PN(n.bucket):t.getStatus()===403?o=DN(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function EE(n){const e=Im(n);function t(i,o){let a=e(i,o);return i.getStatus()===404&&(a=xN(n.path)),a.serverResponse=o.serverResponse,a}return t}function T2(n,e,t,i,o){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),o&&(a.maxResults=o);const c=e.bucketOnlyServerUrl(),h=du(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,w=new $d(h,p,w2(n,e.bucket),_);return w.urlParams=a,w.errorHandler=Im(e),w}function I2(n,e,t){const i=e.fullServerUrl(),o=du(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,h=new $d(o,a,E2(n,t),c);return h.errorHandler=EE(e),h}function S2(n,e){const t=e.fullServerUrl(),i=du(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function c(p,_){}const h=new $d(i,o,c,a);return h.successCodes=[200,204],h.errorHandler=EE(e),h}function C2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function R2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=C2(null,e)),i}function k2(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let G="";for(let Q=0;Q<2;Q++)G=G+Math.random().toString().slice(2);return G}const p=h();c["Content-Type"]="multipart/related; boundary="+p;const _=R2(e,i,o),w=g2(_,t),I="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+p+"--",b=Qi.getBlob(I,i,S);if(b===null)throw jN();const A={name:_.fullPath},D=du(a,n.host,n._protocol),P="POST",V=n.maxUploadRetryTime,O=new $d(D,P,v2(n,t),V);return O.urlParams=A,O.headers=c,O.body=b.uploadData(),O.errorHandler=Im(e),O}class A2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class x2 extends A2{initXhr(){this.xhr_.responseType="text"}}function Bd(){return new x2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this._service=e,t instanceof cn?this._location=t:this._location=cn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zs(e,t)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yE(this._location.path)}get storage(){return this._service}get parent(){const e=u2(this._location.path);if(e===null)return null;const t=new cn(this._location.bucket,e);return new Zs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BN(e)}}function TE(n,e,t){n._throwIfRoot("uploadBytes");const i=k2(n.storage,n._location,vE(),new Qi(e,!0),t);return n.storage.makeRequestWithTokens(i,Bd).then(o=>({metadata:o,ref:n}))}function P2(n,e,t=dr.RAW,i){n._throwIfRoot("uploadString");const o=pE(t,e),a=Object.assign({},i);return a.contentType==null&&o.contentType!=null&&(a.contentType=o.contentType),TE(n,o.data,a)}function N2(n){const e={prefixes:[],items:[]};return IE(n,e).then(()=>e)}async function IE(n,e,t){const o=await b2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await IE(n,e,o.nextPageToken)}function b2(n,e){e!=null&&typeof e.maxResults=="number"&&hp("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=T2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Bd)}function D2(n){n._throwIfRoot("getDownloadURL");const e=I2(n.storage,n._location,vE());return n.storage.makeRequestWithTokens(e,Bd).then(t=>{if(t===null)throw UN();return t})}function L2(n){n._throwIfRoot("deleteObject");const e=S2(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Bd)}function O2(n,e){const t=c2(n._location.path,e),i=new cn(n._location.bucket,t);return new Zs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){return/^[A-Za-z]+:\/\//.test(n)}function V2(n,e){return new Zs(n,e)}function SE(n,e){if(n instanceof Sm){const t=n;if(t._bucket==null)throw FN();const i=new Zs(t,t._bucket);return e!=null?SE(i,e):i}else return e!==void 0?O2(n,e):n}function F2(n,e){if(e&&M2(e)){if(n instanceof Sm)return V2(n,e);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return SE(n,e)}function gv(n,e){const t=e==null?void 0:e[dE];return t==null?null:cn.makeFromBucketSpec(t,n)}function j2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:ew(o,n.app.options.projectId))}class Sm{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=cE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kN,this._maxUploadRetryTime=AN,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=gv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=gv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new zN(hE());{const c=e2(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const _v="@firebase/storage",yv="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="storage";function qs(n,e,t){return n=st(n),TE(n,e,t)}function U2(n,e,t,i){return n=st(n),P2(n,e,t,i)}function aa(n){return n=st(n),N2(n)}function ai(n){return n=st(n),D2(n)}function El(n){return n=st(n),L2(n)}function Bt(n,e){return n=st(n),F2(n,e)}function io(n=Sp(),e){n=st(n);const i=wd(n,CE).getImmediate({identifier:e}),o=Xv("storage");return o&&$2(i,...o),i}function $2(n,e,t,i={}){j2(n,e,t,i)}function B2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Sm(t,i,o,e,to)}function z2(){Qs(new ts(CE,B2,"PUBLIC").setMultipleInstances(!0)),br(_v,yv,""),br(_v,yv,"esm2017")}z2();const q2="_container_rixh2_3",W2="_form_rixh2_17",H2="_nfcButton_rixh2_47",G2="_scanButton_rixh2_47",K2="_scannerContainer_rixh2_65",Q2="_scanner_rixh2_65",Y2="_modalOverlay_rixh2_95",X2="_modalContent_rixh2_123",J2="_status_rixh2_147",Z2="_statusWarning_rixh2_165",eb="_statusInfo_rixh2_179",tb="_statusSuccess_rixh2_193",nb="_statusError_rixh2_207",rb="_pulse_rixh2_1",ib="_reader_rixh2_293",Wn={container:q2,form:W2,nfcButton:H2,scanButton:G2,scannerContainer:K2,scanner:Q2,modalOverlay:Y2,modalContent:X2,status:J2,statusWarning:Z2,statusInfo:eb,statusSuccess:tb,statusError:nb,"animate-pulse":"_animate-pulse_rixh2_245",pulse:rb,reader:ib},sb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Cm=_a(sb),vv=yi(Cm),ob=io(Cm),ab=Fr(Cm),lb=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Wn.statusWarning;case"error":return Wn.statusError;case"success":return Wn.statusSuccess;default:return Wn.statusInfo}};return y.jsx("div",{className:Wn.modalOverlay,children:y.jsx("div",{className:Wn.modalContent,children:y.jsx("div",{className:`${Wn.status} ${i()} ${t?Wn["animate-pulse"]:""}`,children:n})})})},ub=()=>{const[n,e]=M.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[t,i]=M.useState(null),[o,a]=M.useState("capture"),[c,h]=M.useState(!1),[p,_]=M.useState(""),[w,I]=M.useState(null),[S,b]=M.useState("info"),[A,D]=M.useState(null),P=M.useRef(null),V=M.useRef(null),O=(T,oe="info")=>{_(T),b(oe)};M.useEffect(()=>()=>{w&&w.abort()},[w]);const G=T=>{const oe=T.target.files[0];i(oe)},Q=T=>{a(T),i(null),P.current&&(P.current.value=""),V.current&&(V.current.value="")},ue=async()=>{try{const T=await Aw(ab,n.email,n.upass);return await xw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},ee=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;I(T),await T.scan();const oe=await new Promise((Ve,Pe)=>{const De=async se=>{try{const me=se.serialNumber;if(!await L(me)){Pe(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",De),Ve(me)}catch(me){Pe(me)}};T.addEventListener("reading",De),setTimeout(()=>{T.removeEventListener("reading",De),Pe(new Error("NFC tag read timeout"))},3e4)});return D(oe),O("NFC tag detected successfully","success"),oe}catch(T){throw O(T.message,"error"),T}finally{w&&(w.abort(),I(null))}},x=async()=>{const T=Fr(),oe=ls();try{await Ul(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Ve){console.error("Error signing out:",Ve)}},R=async()=>{if(!t)return null;try{O("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=Bt(ob,`users/${T}/profile/${t.name}`),Ve=await qs(oe,t),Pe=await ai(Ve.ref);return O("Selfie uploaded successfully!","success"),Pe}catch(T){throw O("Failed to upload selfie: "+T.message,"error"),T}},k=async()=>{try{h(!0);const T=await R();O("Saving your registration details...","info");const Ve={...n,nfcSerialNumber:A,selfieUrl:T,position:"Student",createdAt:uE()},Pe=await gm(qt(vv,"RegisteredStudent"),Ve);await Kl(Pe,{currentnfcId:Pe.id}),O("Registration details saved successfully!","success"),O("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Pe.id)}]}),O("NFC tag written successfully!","success"),O("Creating your account...","info");const se=await ue();return await Kl(Pe,{firebaseUserId:se.uid}),O("Registration completed! Please check your email for verification.","success"),await x(),setTimeout(()=>{O(""),j()},5e3),Pe.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,O(oe,"error"),T}finally{h(!1)}},L=async T=>{try{const oe=uu(vv,"Toregistered",T);return(await mm(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},j=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),i(null),_(""),D(null),P.current&&(P.current.value="")},F=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){O("NFC is not supported on this device","warning");return}try{if(O("Waiting for NFC tag... Please place your card","info"),await ee(),O("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){D(null),O("");return}await k()}catch(oe){console.error("Registration Error:",oe),O("Registration process failed: "+oe.message,"error")}};return y.jsxs("div",{className:Wn.container,children:[y.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||p)&&y.jsx(lb,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?S:"warning",isProcessing:c}),y.jsxs("form",{onSubmit:F,className:Wn.form,children:[y.jsx("input",{type:"text",placeholder:"Student Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:T=>e({...n,course:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:T=>e({...n,studentId:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),y.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[y.jsx("option",{value:"",children:"Select Campus"}),y.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),y.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),y.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),y.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),y.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),y.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),y.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),y.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),y.jsxs("div",{className:Wn.uploadOptionContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:P,onChange:G,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>P.current.click(),className:Ht.buttons,disabled:c,children:"Take Profile Picture"})]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:V,onChange:G,accept:"image/*",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>V.current.click(),className:Ht.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&y.jsxs("p",{children:["Selected Image: ",t.name,y.jsx("button",{type:"button",onClick:()=>i(null),className:Wn.clearImageButton,disabled:c,children:"Clear"})]}),y.jsx("button",{type:"submit",className:`${Ht.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:A?"Complete Registration":"Scan NFC Tag"})]})]})},cb="_container_avr77_1",db="_status_avr77_33",hb="_reading_avr77_51",fb="_pulse_avr77_1",pb="_error_avr77_59",mb="_studentInfo_avr77_77",gb="_infoGrid_avr77_107",_b="_infoRow_avr77_117",yb="_selfie_avr77_149",vb="_controls_avr77_171",wb="_button_avr77_185",Eb="_readButton_avr77_213",Tb="_resetButton_avr77_231",Nn={container:cb,status:db,reading:hb,pulse:fb,error:pb,studentInfo:mb,infoGrid:gb,infoRow:_b,selfie:yb,controls:vb,button:wb,readButton:Eb,resetButton:Tb},Ib={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Sb=_a(Ib),Cb=yi(Sb),Rb=()=>{const[n,e]=M.useState(null),[t,i]=M.useState(""),[o,a]=M.useState(!1),[c,h]=M.useState(null),p=async()=>{try{a(!0),i("Waiting for NFC card..."),h(null);const w=new NDEFReader;await w.scan(),w.addEventListener("reading",async({message:I})=>{try{const S=I.records.find(P=>P.recordType==="text");if(!S)throw new Error("Invalid NFC card: No student data found");const b=new TextDecoder().decode(S.data);i("Retrieving student data...");const A=uu(Cb,"RegisteredStudent",b),D=await mm(A);if(D.exists()){const P=D.data();e(P),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(S){h(S.message),e(null)}finally{a(!1),w.stop()}})}catch(w){h(w.message),a(!1)}},_=()=>{e(null),i(""),h(null),a(!1)};return y.jsxs("div",{className:Nn.container,children:[y.jsx("h1",{children:"Student NFC Reader"}),t&&y.jsx("div",{className:`${Nn.status} ${o?Nn.reading:""}`,children:t}),c&&y.jsx("div",{className:Nn.error,children:c}),n&&y.jsxs("div",{className:Nn.studentInfo,children:[y.jsx("h2",{children:"Student Information"}),y.jsxs("div",{className:Nn.infoGrid,children:[y.jsxs("div",{className:Nn.infoRow,children:[y.jsx("span",{children:"Name:"}),y.jsx("span",{children:n.studentName})]}),y.jsxs("div",{className:Nn.infoRow,children:[y.jsx("span",{children:"Student ID:"}),y.jsx("span",{children:n.studentId})]}),y.jsxs("div",{className:Nn.infoRow,children:[y.jsx("span",{children:"Email:"}),y.jsx("span",{children:n.email})]}),y.jsxs("div",{className:Nn.infoRow,children:[y.jsx("span",{children:"Course:"}),y.jsx("span",{children:n.course})]}),y.jsxs("div",{className:Nn.infoRow,children:[y.jsx("span",{children:"Campus:"}),y.jsx("span",{children:n.campus})]}),n.selfieUrl&&y.jsx("div",{className:Nn.selfie,children:y.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),y.jsxs("div",{className:Nn.controls,children:[y.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Ht.buttons} ${Ht.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&y.jsx("button",{onClick:_,className:`${Ht.buttons} ${Ht.buttons}`,children:"Clear & Scan New Card"})]})]})},kb="_login_container_ff4m2_9",Ab="_login_card_ff4m2_35",xb="_login_title_ff4m2_53",Pb="_login_form_ff4m2_71",Nb="_form_group_ff4m2_83",bb="_login_input_ff4m2_93",Db="_login_button_ff4m2_125",Lb="_error_message_ff4m2_171",Ob="_divider_ff4m2_189",Mb="_google_button_ff4m2_237",Vb="_google_icon_ff4m2_289",Fb="_terminal_overlay_ff4m2_301",un={login_container:kb,login_card:Ab,login_title:xb,login_form:Pb,form_group:Nb,login_input:bb,login_button:Db,error_message:Lb,divider:Ob,google_button:Mb,google_icon:Vb,terminal_overlay:Fb},jb="_terminal_overlay_3kq0p_1",Ub="_terminal_window_3kq0p_33",$b="_terminal_header_3kq0p_51",Bb="_terminal_dots_3kq0p_67",zb="_terminal_dot_3kq0p_67",qb="_dot_close_3kq0p_91",Wb="_dot_minimize_3kq0p_93",Hb="_dot_maximize_3kq0p_95",Gb="_terminal_title_3kq0p_99",Kb="_terminal_content_3kq0p_113",Qb="_command_line_3kq0p_161",Yb="_prompt_3kq0p_171",Xb="_prompt_user_3kq0p_185",Jb="_prompt_at_3kq0p_187",Zb="_prompt_host_3kq0p_189",eD="_prompt_path_3kq0p_191",tD="_prompt_symbol_3kq0p_193",nD="_command_3kq0p_161",rD="_output_3kq0p_221",iD="_success_3kq0p_233",sD="_error_3kq0p_239",oD="_processing_3kq0p_247",aD="_cursor_3kq0p_263",lD="_blink_3kq0p_1",uD="_processing_text_3kq0p_291",Ke={terminal_overlay:jb,terminal_window:Ub,terminal_header:$b,terminal_dots:Bb,terminal_dot:zb,dot_close:qb,dot_minimize:Wb,dot_maximize:Hb,terminal_title:Gb,terminal_content:Kb,command_line:Qb,prompt:Yb,prompt_user:Xb,prompt_at:Jb,prompt_host:Zb,prompt_path:eD,prompt_symbol:tD,command:nD,output:rD,success:iD,error:sD,processing:oD,cursor:aD,blink:lD,processing_text:uD},cD=({isLoading:n=!1,steps:e=[],email:t="",title:i="user@icct_verified:~",processingText:o="Processing...",processDelay:a=300,stepDelay:c=500,connectionTimeout:h=1e4})=>{const[p,_]=M.useState([]),[w,I]=M.useState(0),[S,b]=M.useState("checking"),A=V=>{if(!V)return"*****@****.com";const[O,G]=V.split("@"),Q=O.charAt(0)+"*".repeat(O.length-2)+O.charAt(O.length-1),[ue,ee]=G.split("."),x=ue.charAt(0)+"*".repeat(ue.length-1);return`${Q}@${x}.${ee}`},D=()=>new Promise(V=>{if(!n){V(!1);return}(()=>{navigator.onLine?fetch("https://www.google.com",{mode:"no-cors",cache:"no-store"}).then(()=>V(!0)).catch(()=>V(!1)):V(!1)})()});if(M.useEffect(()=>{if(!n){_([]),I(0),b("checking");return}let V=[],O=0,G=!0,Q;const ue=()=>{Q=setTimeout(()=>{G&&b("slow")},h),D().then(x=>{clearTimeout(Q),G&&(b(x?"connected":"disconnected"),x&&ee())})},ee=()=>{if(!G||O>=e.length)return;const x=e[O],R=typeof x.command=="function"?x.command({email:A(t)}):x.command;V=[...V,{type:"command",text:R}],_([...V]);let k=0;const L=()=>{if(!G||k>=x.output.length)return;const j=typeof x.output[k]=="function"?x.output[k]({email:A(t)}):x.output[k],F=j.startsWith(""),T=j.startsWith("");V=[...V,{type:"output",text:j,status:F?`${Ke.success}`:T?"error":"normal"}],_([...V]),k++,k<x.output.length?setTimeout(L,a):(O++,I(O),O<e.length&&setTimeout(ee,c))};setTimeout(L,a)};return ue(),()=>{G=!1,clearTimeout(Q)}},[n,t,e,a,c,h]),!n)return null;const P=()=>{switch(S){case"checking":return y.jsxs("div",{className:Ke.connection_status,children:[y.jsx("span",{className:Ke.cursor}),y.jsx("span",{children:"Checking internet connection..."})]});case"slow":return y.jsxs("div",{className:Ke.connection_status,children:[y.jsx("span",{className:`${Ke.cursor} ${Ke.warning}`}),y.jsx("span",{children:"Internet connection seems slow. Please wait..."})]});case"disconnected":return y.jsxs("div",{className:Ke.connection_status,children:[y.jsx("span",{className:`${Ke.cursor} ${Ke.error}`}),y.jsx("span",{children:"No internet connection. Please check your network."})]});default:return null}};return y.jsx("div",{className:Ke.terminal_overlay,children:y.jsxs("div",{className:Ke.terminal_window,children:[y.jsxs("div",{className:Ke.terminal_header,children:[y.jsxs("div",{className:Ke.terminal_dots,children:[y.jsx("div",{className:`${Ke.terminal_dot} ${Ke.dot_close}`}),y.jsx("div",{className:`${Ke.terminal_dot} ${Ke.dot_minimize}`}),y.jsx("div",{className:`${Ke.terminal_dot} ${Ke.dot_maximize}`})]}),y.jsx("div",{className:"terminal-title",children:i})]}),y.jsxs("div",{className:"terminal-content",children:[P(),S==="connected"&&y.jsxs(y.Fragment,{children:[p.map((V,O)=>y.jsx("div",{children:V.type==="command"?y.jsxs("div",{className:Ke.command_line,children:[y.jsxs("div",{className:Ke.prompt,children:[y.jsx("span",{className:Ke.prompt_user,children:"user"}),y.jsx("span",{className:Ke.prompt_at,children:"@"}),y.jsx("span",{className:Ke.prompt_host,children:"ubuntu"}),y.jsx("span",{className:Ke.prompt_path,children:":~"}),y.jsx("span",{className:Ke.prompt_symbol,children:"$"})]}),y.jsx("span",{className:Ke.command,children:V.text})]}):y.jsx("div",{className:`${Ke.output} ${V.status}`,children:V.text})},O)),w<e.length&&y.jsxs("div",{className:Ke.processing,children:[y.jsx("span",{className:Ke.cursor}),y.jsx("span",{className:Ke.processing_text,children:o})]})]})]})]})})},dD={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},hD=_a(dD),fD=new ri,$s=Fr(),Yo=yi(hD),pD=()=>{const[n,e]=M.useState(""),[t,i]=M.useState(""),[o,a]=M.useState(""),[c,h]=M.useState(!1),[p,_]=M.useState(!1),[w,I]=M.useState(null),[S,b]=M.useState(!1),A=ls(),[D,P]=M.useState(!1),V=[{command:"sudo system-check --verify-permissions",output:["Checking system permissions...","Verifying user access..."," Permissions verified successfully"]},{command:"initialize-services --mode secure",output:["Starting system services...","Loading security modules...","Configuring network interfaces..."," Services initialized"]},{command:({email:ee})=>`authenticate-user --email "${ee}"`,output:[({email:ee})=>`Authenticating ${ee}...`,"Validating credentials...","Checking access level..."," Authentication successful"]}];M.useEffect(()=>{let ee=null;return(async()=>{if(!S)if("NDEFReader"in window)try{const R=new window.NDEFReader;await R.scan(),_(!0),I(R),P(!0),ee=R,R.onreading=async({message:k})=>{try{const L=k.records.find(F=>F.recordType==="text");if(!L)throw new Error("Invalid NFC card: No user data found");const j=new TextDecoder().decode(L.data);try{const F=await O(j);F?(localStorage.setItem("userRole",F),b(!0),A("/dashboard")):a("NFC card is not registered in the system.")}catch(F){P(!1),console.error("Authentication error:",F),a("Failed to authenticate with NFC card.")}}catch(L){P(!1),console.error("Error processing NFC card:",L),a("Failed to process NFC card.")}},R.onerror=k=>{P(!1),console.error("NFC read error:",k),a("Error reading NFC card.")}}catch(R){P(!1),console.error("Error setting up NFC:",R),_(!1)}else P(!1),_(!1)})(),()=>{var R;if(ee)try{ee.abort(),(R=ee.removeAllListeners)==null||R.call(ee),I(null),_(!1)}catch(k){console.error("Error cleaning up NFC reader:",k)}}},[S]);const O=async(ee,x)=>{try{const R=Nr(qt(Yo,"RegisteredAdmin"),Dn("currentnfcId","==",ee),Dn("email","==",x)),k=await wn(R);if(!k.empty){const oe=k.docs[0].data();return await Nc($s,oe.email,oe.upass),"admin"}const L=Nr(qt(Yo,"RegisteredTeacher"),Dn("currentnfcId","==",ee),Dn("email","==",x)),j=await wn(L);if(!j.empty){const oe=j.docs[0].data();return await Nc($s,oe.email,oe.upass),"teacher"}const F=Nr(qt(Yo,"RegisteredStudent"),Dn("currentnfcId","==",ee),Dn("email","==",x)),T=await wn(F);if(!T.empty){const oe=T.docs[0].data();return await Nc($s,oe.email,oe.upass),"student"}return null}catch(R){throw console.error("Error checking user role by NFC:",R),R}},G=async ee=>{try{const x=Nr(qt(Yo,"RegisteredAdmin"),Dn("email","==",ee));if(!(await wn(x)).empty)return"admin";const k=Nr(qt(Yo,"RegisteredTeacher"),Dn("email","==",ee));if(!(await wn(k)).empty)return"teacher";const j=Nr(qt(Yo,"RegisteredStudent"),Dn("email","==",ee));return(await wn(j)).empty?null:"student"}catch(x){return console.error("Error checking user role:",x),null}},Q=async ee=>{ee.preventDefault(),h(!0),P(!0),a("");try{const x=await Nc($s,n,t),R=await G(x.user.email);R?(localStorage.setItem("userRole",R),b(!0),A("/dashboard")):(await Ul($s),alert("Access denied. You are not registered as an admin, teacher, or student."),a("Access denied. Please contact your administrator."))}catch(x){a(x.message),P(!1)}finally{}},ue=async()=>{h(!0),P(!0),a("");try{const ee=await YR($s,fD),x=await G(ee.user.email);x?(localStorage.setItem("userRole",x),b(!0),A("/dashboard")):(await Ul($s),alert("Access denied. You are not registered as an admin, teacher, or student."),a("Access denied. Please contact your administrator."))}catch(ee){a(ee.message),P(!1)}finally{}};return y.jsxs("div",{className:un.login_container,children:[D&&y.jsx("div",{className:un.terminal_overlay,children:y.jsx(cD,{isLoading:c,steps:V,email:n,title:"user@ubuntu:~/login",processingText:"Processing...",processDelay:300,stepDelay:500,connectionTimeout:15e3})}),y.jsxs("div",{className:un.login_card,children:[y.jsx("h1",{className:un.login_title,children:"Login"}),p&&y.jsx("div",{className:un.nfc_status,children:y.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),y.jsxs("form",{onSubmit:Q,className:un.login_form,children:[y.jsx("div",{className:un.form_group,children:y.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:ee=>e(ee.target.value),required:!0,className:un.login_input})}),y.jsx("div",{className:un.form_group,children:y.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:ee=>i(ee.target.value),required:!0,className:un.login_input})}),o&&y.jsx("div",{className:un.error_message,children:o}),y.jsx("button",{type:"submit",className:un.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),y.jsx("div",{className:un.divider,children:y.jsx("span",{children:"Or continue with"})}),y.jsxs("button",{type:"button",onClick:ue,disabled:c,className:un.google_button,children:[y.jsx("svg",{className:un.google_icon,viewBox:"0 0 24 24",children:y.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})]})},mD="_event_list_container_15dvt_1",gD="_events_grid_15dvt_23",_D="_event_card_15dvt_33",yD="_card_header_15dvt_49",vD="_card_basic_info_15dvt_69",wD="_card_details_15dvt_93",ED="_event_info_15dvt_101",TD="_table_container_15dvt_125",ID="_action_buttons_15dvt_169",SD="_edit_btn_15dvt_179",CD="_delete_btn_15dvt_179",Pr={event_list_container:mD,events_grid:gD,event_card:_D,card_header:yD,card_basic_info:vD,card_details:wD,event_info:ED,table_container:TD,action_buttons:ID,edit_btn:SD,delete_btn:CD},RD=()=>{const[n,e]=M.useState([]),[t,i]=M.useState(null),o=ls(),a=yi(),c=Fr();M.useEffect(()=>{h()},[]);const h=async()=>{try{const S=c.currentUser;if(!S)return;const b=qt(a,"PendingEvent"),A=Nr(b,Dn("createdBy","==",S.email)),P=(await wn(A)).docs.map(V=>({id:V.id,...V.data()}));e(P)}catch(S){console.error("Error fetching events:",S)}},p=S=>S?S.toDate?S.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(S).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=S=>{o(`/dashboard/edit-event/${S}`)},w=async S=>{if(window.confirm("Are you sure you want to delete this event?"))try{await QP(uu(a,"events",S)),h()}catch(b){console.error("Error deleting event:",b)}},I=S=>{i(t===S?null:S)};return y.jsxs("div",{className:Pr.event_list_container,children:[y.jsx("h2",{children:"Event List"}),y.jsx("div",{className:Pr.events_grid,children:n.map(S=>{var b;return y.jsxs("div",{className:`${Pr.event_card} ${t===S.id?"expanded":""}`,children:[y.jsxs("div",{className:Pr.card_header,onClick:()=>I(S.id),children:[y.jsxs("div",{className:Pr.card_basic_info,children:[y.jsx("h3",{children:S.eventName}),y.jsxs("p",{children:["ID: ",S.id]}),y.jsxs("p",{children:["Created: ",p(S.createdAt)]})]}),t===S.id?y.jsx(UI,{}):y.jsx(jI,{})]}),t===S.id&&y.jsxs("div",{className:Pr.card_details,children:[y.jsxs("div",{className:Pr.event_info,children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Location:"})," ",S.locations]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Description:"})," ",S.description]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Start Time:"})," ",S.startTime]}),y.jsxs("p",{children:[y.jsx("strong",{children:"End Time:"})," ",S.endTime]})]}),y.jsx("div",{className:Pr.table_container,children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"STUDENT ID"}),y.jsx("th",{children:"STUDENT NAME"}),y.jsx("th",{children:"COURSE"}),y.jsx("th",{children:"CAMPUS"}),y.jsx("th",{children:"DATE"}),y.jsx("th",{children:"ACTIONS"})]})}),y.jsx("tbody",{children:(b=S.attendees)==null?void 0:b.map((A,D)=>y.jsxs("tr",{children:[y.jsx("td",{children:A.studentId}),y.jsx("td",{children:A.name}),y.jsx("td",{children:A.course}),y.jsx("td",{children:A.campus}),y.jsx("td",{children:p(A.dateAttended)}),y.jsxs("td",{className:"action-buttons",children:[y.jsx("button",{onClick:()=>_(S.id),className:Pr.edit_btn,children:y.jsx(QI,{size:16})}),y.jsx("button",{onClick:()=>w(S.id),className:Pr.delete_btn,children:y.jsx(Ep,{size:16})})]})]},D))})]})})]})]},S.id)})})]})},kD="_fileManager_c4lw2_5",AD="_header_c4lw2_17",xD="_actions_c4lw2_45",PD="_navigation_c4lw2_55",ND="_backButton_c4lw2_77",bD="_currentPath_c4lw2_109",DD="_content_c4lw2_121",LD="_item_c4lw2_141",OD="_itemContent_c4lw2_171",MD="_actionButton_c4lw2_195",VD="_dropdownMenu_c4lw2_229",FD="_deleteButton_c4lw2_283",jD="_modal_c4lw2_301",UD="_modalContent_c4lw2_327",$D="_modalHeader_c4lw2_351",BD="_closeButton_c4lw2_379",zD="_modalNavigation_c4lw2_405",qD="_folderList_c4lw2_423",WD="_folderItem_c4lw2_443",HD="_folderContent_c4lw2_473",GD="_modalActions_c4lw2_485",KD="_cancelButton_c4lw2_503",QD="_authContainer_c4lw2_521",YD="_authMethods_c4lw2_539",XD="_passwordAuth_c4lw2_553",JD="_passwordInput_c4lw2_563",ZD="_nfcAuth_c4lw2_579",eL="_error_c4lw2_587",Ge={fileManager:kD,header:AD,actions:xD,navigation:PD,backButton:ND,currentPath:bD,content:DD,item:LD,itemContent:OD,actionButton:MD,dropdownMenu:VD,deleteButton:FD,modal:jD,modalContent:UD,modalHeader:$D,closeButton:BD,modalNavigation:zD,folderList:qD,folderItem:WD,folderContent:HD,modalActions:GD,cancelButton:KD,authContainer:QD,authMethods:YD,passwordAuth:XD,passwordInput:JD,nfcAuth:ZD,error:eL},RE=6048e5,tL=864e5,wv=Symbol.for("constructDateFrom");function as(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&wv in n?n[wv](e):n instanceof Date?new n.constructor(e):new Date(e)}function yr(n,e){return as(e||n,n)}let nL={};function zd(){return nL}function Ql(n,e){var h,p,_,w;const t=zd(),i=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((w=(_=t.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??0,o=yr(n,e==null?void 0:e.in),a=o.getDay(),c=(a<i?7:0)+a-i;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function md(n,e){return Ql(n,{...e,weekStartsOn:1})}function kE(n,e){const t=yr(n,e==null?void 0:e.in),i=t.getFullYear(),o=as(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const a=md(o),c=as(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=md(c);return t.getTime()>=a.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function Ev(n){const e=yr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function rL(n,...e){const t=as.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function Tv(n,e){const t=yr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function iL(n,e,t){const[i,o]=rL(t==null?void 0:t.in,n,e),a=Tv(i),c=Tv(o),h=+a-Ev(a),p=+c-Ev(c);return Math.round((h-p)/tL)}function sL(n,e){const t=kE(n,e),i=as(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),md(i)}function oL(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function aL(n){return!(!oL(n)&&typeof n!="number"||isNaN(+yr(n)))}function lL(n,e){const t=yr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const uL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cL=(n,e,t)=>{let i;const o=uL[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Vf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const dL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pL={date:Vf({formats:dL,defaultWidth:"full"}),time:Vf({formats:hL,defaultWidth:"full"}),dateTime:Vf({formats:fL,defaultWidth:"full"})},mL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gL=(n,e,t,i)=>mL[n];function Tl(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):c;o=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[c]}const a=n.argumentCallback?n.argumentCallback(e):e;return o[a]}}const _L={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IL=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},SL={ordinalNumber:IL,era:Tl({values:_L,defaultWidth:"wide"}),quarter:Tl({values:yL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Tl({values:vL,defaultWidth:"wide"}),day:Tl({values:wL,defaultWidth:"wide"}),dayPeriod:Tl({values:EL,defaultWidth:"wide",formattingValues:TL,defaultFormattingWidth:"wide"})};function Il(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],a=e.match(o);if(!a)return null;const c=a[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?RL(h,I=>I.test(c)):CL(h,I=>I.test(c));let _;_=n.valueCallback?n.valueCallback(p):p,_=t.valueCallback?t.valueCallback(_):_;const w=e.slice(c.length);return{value:_,rest:w}}}function CL(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function RL(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function kL(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],a=e.match(n.parsePattern);if(!a)return null;let c=n.valueCallback?n.valueCallback(a[0]):a[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}const AL=/^(\d+)(th|st|nd|rd)?/i,xL=/\d+/i,PL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NL={any:[/^b/i,/^(a|c)/i]},bL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DL={any:[/1/i,/2/i,/3/i,/4/i]},LL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ML={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UL={ordinalNumber:kL({matchPattern:AL,parsePattern:xL,valueCallback:n=>parseInt(n,10)}),era:Il({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),quarter:Il({matchPatterns:bL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Il({matchPatterns:LL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any"}),day:Il({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:VL,defaultParseWidth:"any"}),dayPeriod:Il({matchPatterns:FL,defaultMatchWidth:"any",parsePatterns:jL,defaultParseWidth:"any"})},$L={code:"en-US",formatDistance:cL,formatLong:pL,formatRelative:gL,localize:SL,match:UL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BL(n,e){const t=yr(n,e==null?void 0:e.in);return iL(t,lL(t))+1}function zL(n,e){const t=yr(n,e==null?void 0:e.in),i=+md(t)-+sL(t);return Math.round(i/RE)+1}function AE(n,e){var w,I,S,b;const t=yr(n,e==null?void 0:e.in),i=t.getFullYear(),o=zd(),a=(e==null?void 0:e.firstWeekContainsDate)??((I=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(S=o.locale)==null?void 0:S.options)==null?void 0:b.firstWeekContainsDate)??1,c=as((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,a),c.setHours(0,0,0,0);const h=Ql(c,e),p=as((e==null?void 0:e.in)||n,0);p.setFullYear(i,0,a),p.setHours(0,0,0,0);const _=Ql(p,e);return+t>=+h?i+1:+t>=+_?i:i-1}function qL(n,e){var h,p,_,w;const t=zd(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((w=(_=t.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,o=AE(n,e),a=as((e==null?void 0:e.in)||n,0);return a.setFullYear(o,0,i),a.setHours(0,0,0,0),Ql(a,e)}function WL(n,e){const t=yr(n,e==null?void 0:e.in),i=+Ql(t,e)-+qL(t,e);return Math.round(i/RE)+1}function Xe(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const qi={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return Xe(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(n,e){return Xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xe(n.getHours()%12||12,e.length)},H(n,e){return Xe(n.getHours(),e.length)},m(n,e){return Xe(n.getMinutes(),e.length)},s(n,e){return Xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return Xe(o,e.length)}},Xo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iv={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return qi.y(n,e)},Y:function(n,e,t,i){const o=AE(n,i),a=o>0?o:1-o;if(e==="YY"){const c=a%100;return Xe(c,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Xe(a,e.length)},R:function(n,e){const t=kE(n);return Xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xe(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Xe(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Xe(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return qi.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return Xe(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=WL(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Xe(o,e.length)},I:function(n,e,t){const i=zL(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Xe(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):qi.d(n,e)},D:function(n,e,t){const i=BL(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Xe(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Xe(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Xe(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Xe(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=Xo.noon:i===0?o=Xo.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=Xo.evening:i>=12?o=Xo.afternoon:i>=4?o=Xo.morning:o=Xo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return qi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):qi.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):qi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):qi.s(n,e)},S:function(n,e){return qi.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Cv(i);case"XXXX":case"XX":return zs(i);case"XXXXX":case"XXX":default:return zs(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return Cv(i);case"xxxx":case"xx":return zs(i);case"xxxxx":case"xxx":default:return zs(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Sv(i,":");case"OOOO":default:return"GMT"+zs(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Sv(i,":");case"zzzz":default:return"GMT"+zs(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return Xe(i,e.length)},T:function(n,e,t){return Xe(+n,e.length)}};function Sv(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),a=i%60;return a===0?t+String(o):t+String(o)+e+Xe(a,2)}function Cv(n,e){return n%60===0?(n>0?"-":"+")+Xe(Math.abs(n)/60,2):zs(n,e)}function zs(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Xe(Math.trunc(i/60),2),a=Xe(i%60,2);return t+o+e+a}const Rv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xE=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},HL=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return Rv(n,e);let a;switch(i){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Rv(i,e)).replace("{{time}}",xE(o,e))},GL={p:xE,P:HL},KL=/^D+$/,QL=/^Y+$/,YL=["D","DD","YY","YYYY"];function XL(n){return KL.test(n)}function JL(n){return QL.test(n)}function ZL(n,e,t){const i=eO(n,e,t);if(console.warn(i),YL.includes(n))throw new RangeError(i)}function eO(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rO=/^'([^]*?)'?$/,iO=/''/g,sO=/[a-zA-Z]/;function kv(n,e,t){var w,I,S,b;const i=zd(),o=i.locale??$L,a=i.firstWeekContainsDate??((I=(w=i.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,c=i.weekStartsOn??((b=(S=i.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??0,h=yr(n,t==null?void 0:t.in);if(!aL(h))throw new RangeError("Invalid time value");let p=e.match(nO).map(A=>{const D=A[0];if(D==="p"||D==="P"){const P=GL[D];return P(A,o.formatLong)}return A}).join("").match(tO).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const D=A[0];if(D==="'")return{isToken:!1,value:oO(A)};if(Iv[D])return{isToken:!0,value:A};if(D.match(sO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:A}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const _={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return p.map(A=>{if(!A.isToken)return A.value;const D=A.value;(JL(D)||XL(D))&&ZL(D,e,String(n));const P=Iv[D[0]];return P(h,D,o.localize,_)}).join("")}function oO(n){const e=n.match(rO);return e?e[1].replace(iO,"'"):n}const PE=({children:n,currentPath:e,userData:t})=>{const i=Fr(),o=io(),[a,c]=M.useState([]),h=I=>I.replace(/[@.]/g,"_"),p=async()=>{if(!i.currentUser||a.length===0)return;const I=h(i.currentUser.email),S=kv(new Date,"yyyy-MM-dd"),b=`users/${I}/process_log/${S}_activity.txt`,A=Bt(o,b);try{let D="";try{const O=await ai(A);D=await(await fetch(O)).text()}catch{console.log("Creating new log file for today")}const P=a.join(`
`),V=D?`${D}
${P}`:P;await U2(A,V,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),c([])}catch(D){console.error("Error saving logs:",D)}},_=I=>{if(!i.currentUser)return;const S=`[${kv(new Date,"yyyy-MM-dd HH:mm:ss")}] ${I}`;c(b=>[...b,S])},w=I=>{if(I.type==="file"){const A=I.files;return A&&A.length>0?Array.from(A).map(D=>`${D.name} (${(D.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const S=I.querySelector("span");if(S)return S.textContent.trim();const b=I.querySelector("span");if(b)return b.textContent.trim();if(I.tagName.toLowerCase()==="a")return I.getAttribute("to")||I.getAttribute("href")||"Link";if(I.tagName.toLowerCase()==="input"){const A=I.getAttribute("placeholder");if(A)return`Input: ${A}`;const D=I.getAttribute("name");if(D)return`Input: ${D}`;const P=document.querySelector(`label[for="${I.id}"]`);if(P)return`Input: ${P.textContent.trim()}`}if(I.tagName.toLowerCase()==="select"){const A=I.getAttribute("name");if(A)return`Select: ${A}`}return I.className||I.tagName.toLowerCase()};return M.useEffect(()=>{const I=setInterval(p,6e4);return()=>{clearInterval(I),p()}},[a]),M.useEffect(()=>{const I=A=>{var V;const D=A.target,P=D.closest(".styles_navItem__");if(P){const O=w(P);let G="Sidebar Navigation";O.includes("Dashboard")?G="Dashboard Navigation":O.includes("Create Event")?G="Event Creation":O.includes("Event List")?G="Event Listing":O.includes("Registered Students")?G="Student Management":O.includes("Registered Teacher")?G="Teacher Management":O.includes("Teacher Registration")?G="Teacher Registration":O.includes("Student Registration")?G="Student Registration":O.includes("NFC Reader")?G="NFC Management":O.includes("File Manager")?G="File Management":O.includes("Logout")&&(G="Authentication");const Q=`${G}: Clicked "${O}"`;_(Q)}if(["button","div","li","a"].includes(D.tagName.toLowerCase())){(V=D.textContent)==null||V.trim().toLowerCase();const O=w(D),G=`Clicked on ${D.tagName.toLowerCase()}: ${O}`;_(G)}},S=A=>{const D=A.target;if(["input","textarea","select"].includes(D.tagName.toLowerCase())){const V=`Input value in ${w(D)} - Final Value: ${D.value}`;_(V)}},b=A=>{const D=A.target,P=D.getAttribute("name"),V=D.getAttribute("id"),O=`Form submitted${P?` - Form Name: "${P}"`:V?` - Form ID: "${V}"`:""}`;_(O),p()};return document.addEventListener("click",I),document.addEventListener("blur",S,!0),document.addEventListener("submit",b),()=>{document.removeEventListener("click",I),document.removeEventListener("blur",S,!0),document.removeEventListener("submit",b)}},[i.currentUser]),M.useEffect(()=>{const I=V=>{const O=V.target.files[0];if(!O)return;const G=`${e}/${O.name}`,Q=`File Upload: "${O.name}" (${(O.size/1024).toFixed(2)} KB) to "${G}"`;_(Q)},S=V=>{const O=`${e}/${V}`,G=`Created Folder: "${V}" at "${O}"`;_(G)},b=(V,O)=>{const G=`${e}/${V.name}`,Q=`Moved ${V.type}: "${V.name}" from "${G}" to "${O}"`;_(Q)},A=(V,O)=>{const G=`${e}/${V.name}`,Q=`Copied ${V.type}: "${V.name}" from "${G}" to "${O}"`;_(Q)},D=V=>{const O=`${e}/${V.name}`,G=`Deleted ${V.type}: "${V.name}" from "${O}"`;_(G)},P=(V,O)=>{`${e}${V.name}`;const G=`Renamed ${V.type}: from "${V.name}" to "${O}" at path "${e}"`;_(G)};return window.userActionLogger={onFileUpload:I,onCreateFolder:S,onMove:b,onCopy:A,onDelete:D,onRename:P},()=>{delete window.userActionLogger}},[e,t]),y.jsx(y.Fragment,{children:n})},aO=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:a})=>{const c=M.useRef(null);return M.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[e]),n?y.jsxs("div",{className:Ge.dropdownMenu,ref:c,children:[y.jsx("button",{onClick:t,children:"Move"}),y.jsx("button",{onClick:i,children:"Copy"}),y.jsx("button",{onClick:a,children:"Rename"}),y.jsx("button",{onClick:o,className:Ge.deleteButton,children:"Delete"})]}):null},lO=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:a,onSelect:c})=>{const[h,p]=M.useState([]),[_,w]=M.useState(""),I=io(),[S,b]=M.useState(null);M.useEffect(()=>{if(n){const V=`users/${i.email.replace("@","_").replace(".","_")}`;w(V),A(V)}},[n,i]);const A=async V=>{try{const O=Bt(I,V),Q=(await aa(O)).prefixes.map(ue=>({name:ue.name,fullPath:`${V}/${ue.name}`}));p(Q)}catch(O){console.error("Error listing folders:",O)}},D=V=>{S&&b(S),w(V),A(V)},P=()=>{const V=`users/${i.email.replace("@","_").replace(".","_")}`,O=_.split("/").slice(0,-1).join("/");O.startsWith(V)&&(w(O),A(O))};return n?y.jsx("div",{className:Ge.modal,children:y.jsxs("div",{className:Ge.modalContent,children:[y.jsxs("div",{className:Ge.modalHeader,children:[y.jsx("h3",{children:"Select Destination Folder"}),y.jsx("button",{onClick:e,className:Ge.closeButton,children:y.jsx(yd,{size:20})})]}),y.jsxs("div",{className:Ge.modalNavigation,children:[y.jsxs("button",{onClick:P,className:Ge.backButton,children:[y.jsx(zv,{size:20}),"Back"]}),y.jsx("span",{className:Ge.currentPath,children:_})]}),y.jsx("div",{className:Ge.folderList,children:h.map(V=>y.jsx("div",{className:Ge.folderItem,children:y.jsxs("div",{className:Ge.folderContent,onClick:()=>D(V.fullPath),children:[y.jsx(Wv,{size:24}),y.jsx("span",{children:V.name})]})},V.fullPath))}),y.jsxs("div",{className:Ge.modalActions,children:[y.jsx("button",{onClick:()=>{c(_)},className:Ht.buttons,children:"Select This Folder"}),y.jsx("button",{onClick:e,className:`${Ht.buttons} ${Ge.cancelButton}`,children:"Cancel"})]})]})}):null},uO=()=>{var Be;const[n,e]=M.useState(!1),[t,i]=M.useState(""),[o,a]=M.useState(""),[c,h]=M.useState(""),[p,_]=M.useState([]),[w,I]=M.useState([]),[S,b]=M.useState(!1),A=_r();ls();const D=io(),[P,V]=M.useState(null),[O,G]=M.useState({x:0,y:0}),Q=(Be=A.state)==null?void 0:Be.userData,[ue,ee]=M.useState(!1),[x,R]=M.useState(null),[k,L]=M.useState(null);M.useEffect(()=>{"NDEFReader"in window&&b(!0)},[]),M.useEffect(()=>{if(n&&Q){const re=`users/${Q.email.replace("@","_").replace(".","_")}`;h(re),T(re)}},[n,Q]);const j=()=>{t===(Q==null?void 0:Q.upass)?(e(!0),a("")):a("Invalid password")},F=async()=>{try{const re=new NDEFReader;await re.scan(),re.addEventListener("reading",({serialNumber:ce})=>{ce===(Q==null?void 0:Q.currentnfcId)?(e(!0),a("")):a("Invalid NFC card")})}catch(re){a("Error reading NFC: "+re.message)}},T=async re=>{try{const ce=Bt(D,re),ke=await aa(ce),Ze=ke.items.map(async Kt=>{const jr=await ai(Kt);return{name:Kt.name,url:jr,type:"file"}}),In=ke.prefixes.filter(Kt=>Kt.name!=="process_log").map(Kt=>({name:Kt.name,type:"folder"})),yt=await Promise.all(Ze);_(yt),I(In)}catch(ce){console.error("Error listing files:",ce)}},oe=async re=>{const ce=re.target.files[0];if(ce)try{const ke=Bt(D,`${c}/${ce.name}`);await qs(ke,ce),window.userActionLogger&&window.userActionLogger.onFileUpload(re),await T(c)}catch(ke){console.error("Error uploading file:",ke)}},Ve=async()=>{const re=prompt("Enter folder name:");if(!re)return;const ce=Bt(D,`${c}/${re}/.placeholder`),ke=new Blob([""],{type:"text/plain"});await qs(ce,ke),window.userActionLogger&&window.userActionLogger.onCreateFolder(re),await T(c)},Pe=re=>{const ce=`${c}/${re}`;h(ce),T(ce)},De=()=>{const re=c.split("/").slice(0,-1).join("/");re.startsWith(`users/${Q.email.replace("@","_").replace(".","_")}`)&&(h(re),T(re))};if(!n)return y.jsxs("div",{className:Ge.authContainer,children:[y.jsx("h2",{children:"Authentication Required"}),y.jsxs("div",{className:Ge.authMethods,children:[y.jsxs("div",{className:Ge.passwordAuth,children:[y.jsx("input",{type:"password",value:t,onChange:re=>i(re.target.value),placeholder:"Enter password",className:Ge.passwordInput}),y.jsx("button",{onClick:j,className:Ht.buttons,children:"Submit"})]}),S&&y.jsx("div",{className:Ge.nfcAuth,children:y.jsx("button",{onClick:F,className:Ht.buttons,children:"Authenticate with NFC"})})]}),o&&y.jsx("p",{className:Ge.error,children:o})]});const se=(re,ce)=>{re.preventDefault(),re.stopPropagation();const ke=re.currentTarget.getBoundingClientRect();G({x:ke.left,y:ke.bottom}),V(ce),L(ce)},me=async()=>{if(!k){alert("Please select an item to move"),console.log(k);return}R("move"),ee(!0)},le=async()=>{if(!k){alert("Please select an item to copy"),console.log(k);return}R("copy"),ee(!0)},B=async()=>{if(P)try{const re=`${c}/${P.name}`,ce=Bt(D,re);P.type==="file"?await El(ce):await Y(re),window.userActionLogger&&window.userActionLogger.onDelete(P),await T(c)}catch(re){console.error("Error deleting item:",re),alert(`Failed to delete ${P.name}. ${re.message}`)}},Y=async re=>{try{const ce=Bt(D,re),ke=await aa(ce);for(const Ze of ke.items)await El(Ze);for(const Ze of ke.prefixes)await Y(`${re}/${Ze.name}`)}catch(ce){throw console.error("Error deleting folder:",ce),ce}},ve=async()=>{if(!P)return;const re=prompt("Enter new name:",P.name);if(!(!re||re===P.name))try{const ce=Bt(D,`${c}/${P.name}`),ke=Bt(D,`${c}/${re}`);if(P.type==="file"){const Ze=await ai(ce),yt=await(await fetch(Ze)).blob();await qs(ke,yt),await El(ce)}window.userActionLogger&&window.userActionLogger.onRename(P,re),await T(c)}catch(ce){console.error("Error renaming item:",ce)}},Ne=async re=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:k,currentPath:c,destinationPath:re,operation:x}),!k){console.error("No item selected"),alert("Please select an item to move or copy"),ee(!1);return}try{const ce=Bt(D,`${c}/${k.name}`),ke=Bt(D,`${re}/${k.name}`);if(k.type==="file"){const Ze=await ai(ce),yt=await(await fetch(Ze)).blob();await qs(ke,yt),x==="move"&&await El(ce)}else await be(`${c}/${k.name}`,`${re}/${k.name}`,x==="move");window.userActionLogger&&(x==="move"?window.userActionLogger.onMove(k,re):x==="copy"&&window.userActionLogger.onCopy(k,re)),ee(!1),R(null),await T(c)}catch(ce){console.error(`Error ${x}ing item:`,ce),alert(`Failed to ${x} item: ${ce.message}`),ee(!1),R(null)}},be=async(re,ce,ke=!1)=>{try{const Ze=Bt(D,re),In=await aa(Ze);for(const yt of In.items){const Kt=await ai(yt),hs=await(await fetch(Kt)).blob(),fs=Bt(D,`${ce}/${yt.name}`);await qs(fs,hs),ke&&await El(yt)}for(const yt of In.prefixes)await be(`${re}/${yt.name}`,`${ce}/${yt.name}`,ke)}catch(Ze){throw console.error("Error copying folder:",Ze),Ze}},Me=(re,ce)=>y.jsxs("div",{className:Ge.item,onClick:ke=>{ke.target.closest(`.${Ge.actionButton}`)||ke.target.closest(`.${Ge.dropdownMenu}`)||(ce==="folder"?Pe(re.name):window.open(re.url,"_blank"))},children:[y.jsxs("div",{className:Ge.itemContent,children:[ce==="folder"?y.jsx(Wv,{size:24}):y.jsx(zI,{size:24}),y.jsx("span",{children:re.name})]}),y.jsx("button",{className:Ge.actionButton,onClick:ke=>{ke.stopPropagation();const Ze={...re,type:ce};se(ke,Ze)},children:y.jsx(BI,{size:16})}),(P==null?void 0:P.name)===re.name&&y.jsx(aO,{isOpen:!0,onClose:()=>{V(null)},onMove:me,onCopy:le,onDelete:B,onRename:ve})]},`${ce}-${re.name}`);return y.jsx(PE,{currentPath:c,userData:Q,children:y.jsxs("div",{className:Ge.fileManager,children:[y.jsxs("div",{className:Ge.header,children:[y.jsx("h2",{children:"File Manager"}),y.jsxs("div",{className:Ge.actions,children:[c===`users/${Q.email.replace("@","_").replace(".","_")}`&&y.jsxs("button",{onClick:Ve,className:Ht.buttons,children:[y.jsx(WI,{size:20}),"New Folder"]}),y.jsxs("label",{className:Ht.buttons,children:[y.jsx(YI,{size:20}),"Upload File",y.jsx("input",{type:"file",onChange:oe,style:{display:"none"}})]})]})]}),y.jsxs("div",{className:Ge.navigation,children:[y.jsxs("button",{onClick:De,className:Ge.backButton,children:[y.jsx(zv,{size:20}),"Back"]}),y.jsx("span",{className:Ge.currentPath,children:c})]}),y.jsxs("div",{className:Ge.content,children:[w.map(re=>Me(re,"folder")),p.map(re=>Me(re,"file"))]}),y.jsx(lO,{isOpen:ue,onClose:()=>{ee(!1),R(null)},currentPath:c,userData:Q,selectedItem:k,operation:x,onSelect:Ne})]})})},cO="_container_9esca_3",dO="_form_9esca_17",hO="_nfcButton_9esca_47",fO="_scanButton_9esca_47",pO="_scannerContainer_9esca_65",mO="_scanner_9esca_65",gO="_modalOverlay_9esca_95",_O="_modalContent_9esca_123",yO="_status_9esca_147",vO="_statusWarning_9esca_165",wO="_statusInfo_9esca_179",EO="_statusSuccess_9esca_193",TO="_statusError_9esca_207",IO="_pulse_9esca_1",SO="_reader_9esca_293",CO="_uploadOptionContainer_9esca_303",RO="_clearImageButton_9esca_317",Hn={container:cO,form:dO,nfcButton:hO,scanButton:fO,scannerContainer:pO,scanner:mO,modalOverlay:gO,modalContent:_O,status:yO,statusWarning:vO,statusInfo:wO,statusSuccess:EO,statusError:TO,"animate-pulse":"_animate-pulse_9esca_245",pulse:IO,reader:SO,uploadOptionContainer:CO,clearImageButton:RO},kO={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Rm=_a(kO),Av=yi(Rm),AO=io(Rm),xO=Fr(Rm),PO=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Hn.statusWarning;case"error":return Hn.statusError;case"success":return Hn.statusSuccess;default:return Hn.statusInfo}};return y.jsx("div",{className:Hn.modalOverlay,children:y.jsx("div",{className:Hn.modalContent,children:y.jsx("div",{className:`${Hn.status} ${i()} ${t?Hn["animate-pulse"]:""}`,children:n})})})},NO=()=>{const[n,e]=M.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[t,i]=M.useState(null),[o,a]=M.useState("capture"),[c,h]=M.useState(!1),[p,_]=M.useState(""),[w,I]=M.useState(null),[S,b]=M.useState("info"),[A,D]=M.useState(null),P=M.useRef(null),V=M.useRef(null),O=(T,oe="info")=>{_(T),b(oe)};M.useEffect(()=>()=>{w&&w.abort()},[w]);const G=T=>{const oe=T.target.files[0];i(oe)},Q=T=>{a(T),i(null),P.current&&(P.current.value=""),V.current&&(V.current.value="")},ue=async()=>{try{const T=await Aw(xO,n.email,n.upass);return await xw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},ee=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;I(T),await T.scan();const oe=await new Promise((Ve,Pe)=>{const De=async se=>{try{const me=se.serialNumber;if(!await L(me)){Pe(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",De),Ve(me)}catch(me){Pe(me)}};T.addEventListener("reading",De),setTimeout(()=>{T.removeEventListener("reading",De),Pe(new Error("NFC tag read timeout"))},3e4)});return D(oe),O("NFC tag detected successfully","success"),oe}catch(T){throw O(T.message,"error"),T}finally{w&&(w.abort(),I(null))}},x=async()=>{const T=Fr(),oe=ls();try{await Ul(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Ve){console.error("Error signing out:",Ve)}},R=async()=>{if(!t)return null;try{O("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=Bt(AO,`users/${T}/profile/${t.name}`),Ve=await qs(oe,t),Pe=await ai(Ve.ref);return O("Selfie uploaded successfully!","success"),Pe}catch(T){throw O("Failed to upload selfie: "+T.message,"error"),T}},k=async()=>{try{h(!0);const T=await R();O("Saving your registration details...","info");const Ve={...n,nfcSerialNumber:A,selfieUrl:T,position:"Teacher",createdAt:uE()},Pe=await gm(qt(Av,"RegisteredTeacher"),Ve);await Kl(Pe,{currentnfcId:Pe.id}),O("Registration details saved successfully!","success"),O("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(Pe.id)}]}),O("NFC tag written successfully!","success"),O("Creating your account...","info");const se=await ue();return await Kl(Pe,{firebaseUserId:se.uid}),O("Registration completed! Please check your email for verification.","success"),await x(),setTimeout(()=>{O(""),j()},5e3),Pe.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,O(oe,"error"),T}finally{h(!1)}},L=async T=>{try{const oe=uu(Av,"Toregistered",T);return(await mm(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},j=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),i(null),_(""),D(null),P.current&&(P.current.value="")},F=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){O("NFC is not supported on this device","warning");return}try{if(O("Waiting for NFC tag... Please place your card","info"),await ee(),O("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){D(null),O("");return}await k()}catch(oe){console.error("Registration Error:",oe),O("Registration process failed: "+oe.message,"error")}};return y.jsxs("div",{className:Hn.container,children:[y.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||p)&&y.jsx(PO,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?S:"warning",isProcessing:c}),y.jsxs("form",{onSubmit:F,className:Hn.form,children:[y.jsx("input",{type:"text",placeholder:"Teacher Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Teacher ID",value:n.teacherId,onChange:T=>e({...n,teacherId:T.target.value}),required:!0,disabled:c}),y.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),y.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[y.jsx("option",{value:"",children:"Select Campus"}),y.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),y.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),y.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),y.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),y.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),y.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),y.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),y.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),y.jsxs("div",{className:Hn.uploadOptionContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:P,onChange:G,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>P.current.click(),className:Ht.buttons,disabled:c,children:"Take Profile Picture"})]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:V,onChange:G,accept:"image/*",style:{display:"none"},disabled:c}),y.jsx("button",{type:"button",onClick:()=>V.current.click(),className:Ht.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&y.jsxs("p",{children:["Selected Image: ",t.name,y.jsx("button",{type:"button",onClick:()=>i(null),className:Hn.clearImageButton,disabled:c,children:"Clear"})]}),y.jsx("button",{type:"submit",className:`${Ht.buttons} ${c?"animate-pulse":""}`,disabled:!n.teacherId||!t||c||!("NDEFReader"in window),children:A?"Complete Registration":"Scan NFC Tag"})]})]})},bO="_registeredUsersContainer_1u027_1",DO="_header_1u027_9",LO="_tableContainer_1u027_29",OO="_usersTable_1u027_37",MO="_actionButtons_1u027_71",VO="_viewLogsButton_1u027_101",FO="_editButton_1u027_117",jO="_deleteButton_1u027_133",UO="_loadingContainer_1u027_149",$O="_errorContainer_1u027_151",BO="_noUsersContainer_1u027_153",zO="_modalOverlay_1u027_165",qO="_modalContent_1u027_191",WO="_logViewerContainer_1u027_211",HO="_logViewerHeader_1u027_223",GO="_closeButton_1u027_249",KO="_logsList_1u027_273",QO="_logEntry_1u027_285",YO="_logContent_1u027_313",XO="_logLoading_1u027_335",JO="_logError_1u027_337",ZO="_noLogsMessage_1u027_339",dt={registeredUsersContainer:bO,header:DO,tableContainer:LO,usersTable:OO,actionButtons:MO,viewLogsButton:VO,editButton:FO,deleteButton:jO,loadingContainer:UO,errorContainer:$O,noUsersContainer:BO,modalOverlay:zO,modalContent:qO,logViewerContainer:WO,logViewerHeader:HO,closeButton:GO,logsList:KO,logEntry:QO,logContent:YO,logLoading:XO,logError:JO,noLogsMessage:ZO},eM=({email:n,onClose:e})=>{const[t,i]=M.useState([]),[o,a]=M.useState(!0),[c,h]=M.useState(null);Fr();const p=io(),_=w=>w.replace(/[@.]/g,"_");return M.useEffect(()=>{(async()=>{try{a(!0);const I=_(n),S=Bt(p,`users/${I}/process_log`),A=(await aa(S)).items.map(async V=>{const O=await ai(V),Q=await(await fetch(O)).text(),ue=V.name.split("/").pop();return{timestamp:ue.replace(".txt",""),content:Q,filename:ue}}),P=(await Promise.all(A)).sort((V,O)=>O.timestamp.localeCompare(V.timestamp));i(P),h(null)}catch(I){console.error("Error fetching logs:",I),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),o?y.jsx("div",{className:dt.logLoading,children:"Loading logs..."}):c?y.jsx("div",{className:dt.logError,children:c}):y.jsxs("div",{className:dt.logViewerContainer,children:[y.jsxs("div",{className:dt.logViewerHeader,children:[y.jsxs("h2",{children:["User Activity Logs for ",n]}),y.jsx("button",{onClick:e,className:dt.closeButton,children:y.jsx(yd,{size:24})})]}),t.length===0?y.jsx("p",{className:dt.noLogsMessage,children:"No logs found"}):y.jsx("div",{className:dt.logsList,children:t.map((w,I)=>y.jsxs("div",{className:dt.logEntry,children:[y.jsxs("h3",{children:["Log from ",w.timestamp]}),y.jsx("pre",{className:dt.logContent,children:w.content})]},I))})]})},tM=()=>{const[n,e]=M.useState([]),[t,i]=M.useState(!0),[o,a]=M.useState(null),[c,h]=M.useState(null),[p,_]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const D=yi(),V=(await wn(qt(D,"RegisteredTeacher"))).docs.map(O=>({id:O.id,...O.data()}));e(V),i(!1)}catch(D){console.error("Error fetching registered teachers:",D),a("Failed to load teachers"),i(!1)}})()},[]);const w=A=>{h(A),_(!0)},I=A=>{console.log("Edit teacher:",A)},S=A=>{console.log("Delete teacher:",A)},b=()=>{_(!1),h(null)};return t?y.jsx("div",{className:dt.loadingContainer,children:"Loading teachers..."}):o?y.jsx("div",{className:dt.errorContainer,children:o}):y.jsxs("div",{className:dt.registeredUsersContainer,children:[y.jsxs("div",{className:dt.header,children:[y.jsx(na,{size:24}),y.jsx("h2",{children:"Registered Teachers"})]}),y.jsx("div",{className:dt.tableContainer,children:y.jsxs("table",{className:dt.usersTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Teacher ID"}),y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"NFC CARD"}),y.jsx("th",{children:"Campus"}),y.jsx("th",{children:"Date Added"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:n.map(A=>y.jsxs("tr",{className:dt.teacherRow,children:[y.jsx("td",{children:A.teacherId}),y.jsx("td",{children:A.name}),y.jsx("td",{children:A.email}),y.jsx("td",{children:A.currentnfcId}),y.jsx("td",{children:A.campus}),y.jsx("td",{children:new Date(A.createdAt*1e3).toLocaleString()}),y.jsx("td",{children:y.jsxs("div",{className:dt.actionButtons,children:[y.jsx("button",{onClick:()=>w(A),className:dt.viewLogsButton,title:"View Logs",children:y.jsx(qv,{size:18})}),y.jsx("button",{onClick:()=>I(A),className:dt.editButton,title:"Edit",children:y.jsx(Hv,{size:18})}),y.jsx("button",{onClick:()=>S(A),className:dt.deleteButton,title:"Delete",children:y.jsx(Ep,{size:18})})]})})]},A.id))})]})}),n.length===0&&y.jsx("div",{className:dt.noUsersContainer,children:"No registered teachers found."}),p&&c&&y.jsx("div",{className:dt.modalOverlay,children:y.jsx("div",{className:dt.modalContent,children:y.jsx(eM,{email:c.email,onClose:b})})})]})},nM="_registeredUsersContainer_ixiei_1",rM="_header_ixiei_9",iM="_tableContainer_ixiei_29",sM="_usersTable_ixiei_37",oM="_actionButtons_ixiei_71",aM="_viewLogsButton_ixiei_101",lM="_editButton_ixiei_117",uM="_deleteButton_ixiei_133",cM="_loadingContainer_ixiei_149",dM="_errorContainer_ixiei_151",hM="_noUsersContainer_ixiei_153",fM="_modalOverlay_ixiei_165",pM="_modalContent_ixiei_191",mM="_logViewerContainer_ixiei_211",gM="_logViewerHeader_ixiei_223",_M="_closeButton_ixiei_249",yM="_logsList_ixiei_273",vM="_logEntry_ixiei_285",wM="_logContent_ixiei_313",EM="_logLoading_ixiei_335",TM="_logError_ixiei_337",IM="_noLogsMessage_ixiei_339",ht={registeredUsersContainer:nM,header:rM,tableContainer:iM,usersTable:sM,actionButtons:oM,viewLogsButton:aM,editButton:lM,deleteButton:uM,loadingContainer:cM,errorContainer:dM,noUsersContainer:hM,modalOverlay:fM,modalContent:pM,logViewerContainer:mM,logViewerHeader:gM,closeButton:_M,logsList:yM,logEntry:vM,logContent:wM,logLoading:EM,logError:TM,noLogsMessage:IM},SM=({email:n,onClose:e})=>{const[t,i]=M.useState([]),[o,a]=M.useState(!0),[c,h]=M.useState(null);Fr();const p=io(),_=w=>w.replace(/[@.]/g,"_");return M.useEffect(()=>{(async()=>{try{a(!0);const I=_(n),S=Bt(p,`users/${I}/process_log`),A=(await aa(S)).items.map(async V=>{const O=await ai(V),Q=await(await fetch(O)).text(),ue=V.name.split("/").pop();return{timestamp:ue.replace(".txt",""),content:Q,filename:ue}}),P=(await Promise.all(A)).sort((V,O)=>O.timestamp.localeCompare(V.timestamp));i(P),h(null)}catch(I){console.error("Error fetching logs:",I),h("Failed to fetch logs. Please try again later.")}finally{a(!1)}})()},[n]),o?y.jsx("div",{className:ht.logLoading,children:"Loading logs..."}):c?y.jsx("div",{className:ht.logError,children:c}):y.jsxs("div",{className:ht.logViewerContainer,children:[y.jsxs("div",{className:ht.logViewerHeader,children:[y.jsxs("h2",{children:["User Activity Logs for ",n]}),y.jsx("button",{onClick:e,className:ht.closeButton,children:y.jsx(yd,{size:24})})]}),t.length===0?y.jsx("p",{className:ht.noLogsMessage,children:"No logs found"}):y.jsx("div",{className:ht.logsList,children:t.map((w,I)=>y.jsxs("div",{className:ht.logEntry,children:[y.jsxs("h3",{children:["Log from ",w.timestamp]}),y.jsx("pre",{className:ht.logContent,children:w.content})]},I))})]})},CM=()=>{const[n,e]=M.useState([]),[t,i]=M.useState(!0),[o,a]=M.useState(null),[c,h]=M.useState(null),[p,_]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const D=yi(),V=(await wn(qt(D,"RegisteredStudent"))).docs.map(O=>({id:O.id,...O.data()}));e(V),i(!1)}catch(D){console.error("Error fetching registered teachers:",D),a("Failed to load teachers"),i(!1)}})()},[]);const w=A=>{h(A),_(!0)},I=A=>{console.log("Edit student:",A)},S=A=>{console.log("Delete teacher:",A)},b=()=>{_(!1),h(null)};return t?y.jsx("div",{className:ht.loadingContainer,children:"Loading students..."}):o?y.jsx("div",{className:ht.errorContainer,children:o}):y.jsxs("div",{className:ht.registeredUsersContainer,children:[y.jsxs("div",{className:ht.header,children:[y.jsx(na,{size:24}),y.jsx("h2",{children:"Registered Student"})]}),y.jsx("div",{className:ht.tableContainer,children:y.jsxs("table",{className:ht.usersTable,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Student ID"}),y.jsx("th",{children:"Name"}),y.jsx("th",{children:"Email"}),y.jsx("th",{children:"NFC CARD"}),y.jsx("th",{children:"Campus"}),y.jsx("th",{children:"Date Added"}),y.jsx("th",{children:"Actions"})]})}),y.jsx("tbody",{children:n.map(A=>y.jsxs("tr",{className:ht.studentRow,children:[y.jsx("td",{children:A.studentId}),y.jsx("td",{children:A.name}),y.jsx("td",{children:A.email}),y.jsx("td",{children:A.currentnfcId}),y.jsx("td",{children:A.campus}),y.jsx("td",{children:new Date(A.createdAt*1e3).toLocaleString()}),y.jsx("td",{children:y.jsxs("div",{className:ht.actionButtons,children:[y.jsx("button",{onClick:()=>w(A),className:ht.viewLogsButton,title:"View Logs",children:y.jsx(qv,{size:18})}),y.jsx("button",{onClick:()=>I(A),className:ht.editButton,title:"Edit",children:y.jsx(Hv,{size:18})}),y.jsx("button",{onClick:()=>S(A),className:ht.deleteButton,title:"Delete",children:y.jsx(Ep,{size:18})})]})})]},A.id))})]})}),n.length===0&&y.jsx("div",{className:ht.noUsersContainer,children:"No registered students found."}),p&&c&&y.jsx("div",{className:ht.modalOverlay,children:y.jsx("div",{className:ht.modalContent,children:y.jsx(SM,{email:c.email,onClose:b})})})]})};function RM(){return y.jsx(PE,{children:y.jsx(sI,{children:y.jsxs(O1,{children:[y.jsx(bn,{path:"/",element:y.jsx(G_,{to:"/login",replace:!0})}),y.jsx(bn,{path:"/login",element:y.jsx(pD,{})}),y.jsxs(bn,{path:"/dashboard/*",element:y.jsx(ZP,{}),children:[y.jsx(bn,{path:"create-event",element:y.jsx(RN,{})}),y.jsx(bn,{path:"registered-teachers",element:y.jsx(tM,{})}),y.jsx(bn,{path:"registered-students",element:y.jsx(CM,{})}),y.jsx(bn,{path:"teacher-registration",element:y.jsx(NO,{})}),y.jsx(bn,{path:"student-registration",element:y.jsx(ub,{})}),y.jsx(bn,{path:"nfc-reader",element:y.jsx(Rb,{})}),y.jsx(bn,{path:"event-list",element:y.jsx(RD,{})}),y.jsx(bn,{path:"file-manager",element:y.jsx(uO,{})})]}),y.jsx(bn,{path:"*",element:y.jsx(G_,{to:"/login",replace:!0})})]})})})}const kM=document.getElementById("root"),AM=BT.createRoot(kM);AM.render(y.jsx(RM,{}));
