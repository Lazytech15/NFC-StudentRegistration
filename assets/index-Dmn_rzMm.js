(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var rf={exports:{}},ll={},sf={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function rT(){if(y_)return Le;y_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=R&&U[R]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function D(U,X,ve){this.props=U,this.context=X,this.refs=j,this.updater=ve||N}D.prototype.isReactComponent={},D.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},D.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=D.prototype;function z(U,X,ve){this.props=U,this.context=X,this.refs=j,this.updater=ve||N}var G=z.prototype=new H;G.constructor=z,b(G,D.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,ae=Object.prototype.hasOwnProperty,le={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(U,X,ve){var Ne,De={},Ve=null,$e=null;if(X!=null)for(Ne in X.ref!==void 0&&($e=X.ref),X.key!==void 0&&(Ve=""+X.key),X)ae.call(X,Ne)&&!P.hasOwnProperty(Ne)&&(De[Ne]=X[Ne]);var ne=arguments.length-2;if(ne===1)De.children=ve;else if(1<ne){for(var ce=Array(ne),Ae=0;Ae<ne;Ae++)ce[Ae]=arguments[Ae+2];De.children=ce}if(U&&U.defaultProps)for(Ne in ne=U.defaultProps,ne)De[Ne]===void 0&&(De[Ne]=ne[Ne]);return{$$typeof:n,type:U,key:Ve,ref:$e,props:De,_owner:le.current}}function A(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return X[ve]})}var L=/\/+/g;function T(U,X){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):X.toString(36)}function oe(U,X,ve,Ne,De){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Ve){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case n:case e:$e=!0}}if($e)return $e=U,De=De($e),U=Ne===""?"."+T($e,0):Ne,Q(De)?(ve="",U!=null&&(ve=U.replace(L,"$&/")+"/"),oe(De,X,ve,"",function(Ae){return Ae})):De!=null&&(x(De)&&(De=A(De,ve+(!De.key||$e&&$e.key===De.key?"":(""+De.key).replace(L,"$&/")+"/")+U)),X.push(De)),1;if($e=0,Ne=Ne===""?".":Ne+":",Q(U))for(var ne=0;ne<U.length;ne++){Ve=U[ne];var ce=Ne+T(Ve,ne);$e+=oe(Ve,X,ve,ce,De)}else if(ce=I(U),typeof ce=="function")for(U=ce.call(U),ne=0;!(Ve=U.next()).done;)Ve=Ve.value,ce=Ne+T(Ve,ne++),$e+=oe(Ve,X,ve,ce,De);else if(Ve==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return $e}function Me(U,X,ve){if(U==null)return U;var Ne=[],De=0;return oe(U,Ne,"","",function(Ve){return X.call(ve,Ve,De++)}),Ne}function xe(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var be={current:null},ie={transition:null},me={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:le};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Me,forEach:function(U,X,ve){Me(U,function(){X.apply(this,arguments)},ve)},count:function(U){var X=0;return Me(U,function(){X++}),X},toArray:function(U){return Me(U,function(X){return X})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=D,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=z,Le.StrictMode=i,Le.Suspense=p,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Le.act=ue,Le.cloneElement=function(U,X,ve){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ne=b({},U.props),De=U.key,Ve=U.ref,$e=U._owner;if(X!=null){if(X.ref!==void 0&&(Ve=X.ref,$e=le.current),X.key!==void 0&&(De=""+X.key),U.type&&U.type.defaultProps)var ne=U.type.defaultProps;for(ce in X)ae.call(X,ce)&&!P.hasOwnProperty(ce)&&(Ne[ce]=X[ce]===void 0&&ne!==void 0?ne[ce]:X[ce])}var ce=arguments.length-2;if(ce===1)Ne.children=ve;else if(1<ce){ne=Array(ce);for(var Ae=0;Ae<ce;Ae++)ne[Ae]=arguments[Ae+2];Ne.children=ne}return{$$typeof:n,type:U.type,key:De,ref:Ve,props:Ne,_owner:$e}},Le.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Le.createElement=C,Le.createFactory=function(U){var X=C.bind(null,U);return X.type=U,X},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:d,render:U}},Le.isValidElement=x,Le.lazy=function(U){return{$$typeof:w,_payload:{_status:-1,_result:U},_init:xe}},Le.memo=function(U,X){return{$$typeof:_,type:U,compare:X===void 0?null:X}},Le.startTransition=function(U){var X=ie.transition;ie.transition={};try{U()}finally{ie.transition=X}},Le.unstable_act=ue,Le.useCallback=function(U,X){return be.current.useCallback(U,X)},Le.useContext=function(U){return be.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return be.current.useDeferredValue(U)},Le.useEffect=function(U,X){return be.current.useEffect(U,X)},Le.useId=function(){return be.current.useId()},Le.useImperativeHandle=function(U,X,ve){return be.current.useImperativeHandle(U,X,ve)},Le.useInsertionEffect=function(U,X){return be.current.useInsertionEffect(U,X)},Le.useLayoutEffect=function(U,X){return be.current.useLayoutEffect(U,X)},Le.useMemo=function(U,X){return be.current.useMemo(U,X)},Le.useReducer=function(U,X,ve){return be.current.useReducer(U,X,ve)},Le.useRef=function(U){return be.current.useRef(U)},Le.useState=function(U){return be.current.useState(U)},Le.useSyncExternalStore=function(U,X,ve){return be.current.useSyncExternalStore(U,X,ve)},Le.useTransition=function(){return be.current.useTransition()},Le.version="18.3.1",Le}var v_;function Zf(){return v_||(v_=1,sf.exports=rT()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function iT(){if(w_)return ll;w_=1;var n=Zf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var w,R={},I=null,N=null;_!==void 0&&(I=""+_),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(N=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(R[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)R[w]===void 0&&(R[w]=p[w]);return{$$typeof:e,type:d,key:I,ref:N,props:R,_owner:o.current}}return ll.Fragment=t,ll.jsx=c,ll.jsxs=c,ll}var E_;function sT(){return E_||(E_=1,rf.exports=iT()),rf.exports}var v=sT(),V=Zf(),mc={},of={exports:{}},dn={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function oT(){return T_||(T_=1,function(n){function e(ie,me){var ue=ie.length;ie.push(me);e:for(;0<ue;){var U=ue-1>>>1,X=ie[U];if(0<o(X,me))ie[U]=me,ie[ue]=X,ue=U;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var me=ie[0],ue=ie.pop();if(ue!==me){ie[0]=ue;e:for(var U=0,X=ie.length,ve=X>>>1;U<ve;){var Ne=2*(U+1)-1,De=ie[Ne],Ve=Ne+1,$e=ie[Ve];if(0>o(De,ue))Ve<X&&0>o($e,De)?(ie[U]=$e,ie[Ve]=ue,U=Ve):(ie[U]=De,ie[Ne]=ue,U=Ne);else if(Ve<X&&0>o($e,ue))ie[U]=$e,ie[Ve]=ue,U=Ve;else break e}}return me}function o(ie,me){var ue=ie.sortIndex-me.sortIndex;return ue!==0?ue:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],w=1,R=null,I=3,N=!1,b=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ie){for(var me=t(_);me!==null;){if(me.callback===null)i(_);else if(me.startTime<=ie)i(_),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(_)}}function Q(ie){if(j=!1,G(ie),!b)if(t(p)!==null)b=!0,xe(ae);else{var me=t(_);me!==null&&be(Q,me.startTime-ie)}}function ae(ie,me){b=!1,j&&(j=!1,H(C),C=-1),N=!0;var ue=I;try{for(G(me),R=t(p);R!==null&&(!(R.expirationTime>me)||ie&&!M());){var U=R.callback;if(typeof U=="function"){R.callback=null,I=R.priorityLevel;var X=U(R.expirationTime<=me);me=n.unstable_now(),typeof X=="function"?R.callback=X:R===t(p)&&i(p),G(me)}else i(p);R=t(p)}if(R!==null)var ve=!0;else{var Ne=t(_);Ne!==null&&be(Q,Ne.startTime-me),ve=!1}return ve}finally{R=null,I=ue,N=!1}}var le=!1,P=null,C=-1,A=5,x=-1;function M(){return!(n.unstable_now()-x<A)}function L(){if(P!==null){var ie=n.unstable_now();x=ie;var me=!0;try{me=P(!0,ie)}finally{me?T():(le=!1,P=null)}}else le=!1}var T;if(typeof z=="function")T=function(){z(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Me=oe.port2;oe.port1.onmessage=L,T=function(){Me.postMessage(null)}}else T=function(){D(L,0)};function xe(ie){P=ie,le||(le=!0,T())}function be(ie,me){C=D(function(){ie(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||N||(b=!0,xe(ae))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var ue=I;I=me;try{return ie()}finally{I=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=I;I=ie;try{return me()}finally{I=ue}},n.unstable_scheduleCallback=function(ie,me,ue){var U=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,ie={id:w++,callback:me,priorityLevel:ie,startTime:ue,expirationTime:X,sortIndex:-1},ue>U?(ie.sortIndex=ue,e(_,ie),t(p)===null&&ie===t(_)&&(j?(H(C),C=-1):j=!0,be(Q,ue-U))):(ie.sortIndex=X,e(p,ie),b||N||(b=!0,xe(ae))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var me=I;return function(){var ue=I;I=me;try{return ie.apply(this,arguments)}finally{I=ue}}}}(lf)),lf}var I_;function aT(){return I_||(I_=1,af.exports=oT()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function lT(){if(S_)return dn;S_=1;var n=Zf(),e=aT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function I(r){return p.call(R,r)?!0:p.call(w,r)?!1:_.test(r)?R[r]=!0:(w[r]=!0,!1)}function N(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,a,h){if(s===null||typeof s>"u"||N(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,z);D[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,z);D[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,z);D[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,h){var f=D.hasOwnProperty(s)?D[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),le=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var ve=!1;function Ne(r,s){if(!r||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,k=g.length-1;1<=E&&0<=k&&f[E]!==g[k];)k--;for(;1<=E&&0<=k;E--,k--)if(f[E]!==g[k]){if(E!==1||k!==1)do if(E--,k--,0>k||f[E]!==g[k]){var O=`
`+f[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function De(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case le:return"Portal";case A:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Me:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case xe:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ae(r){var s=ce(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ye(r){r._valueTracker||(r._valueTracker=Ae(r))}function vn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=ce(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ft(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function rn(r,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function br(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ne(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function rs(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function is(r,s){rs(r,s);var a=ne(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ys(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ys(r,s.type,ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function eu(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ys(r,s,a){(s!=="number"||ft(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Or=Array.isArray;function Lr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ne(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ga(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Js(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Or(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ne(a)}}function Zs(r,s){var a=ne(s.value),h=ne(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function _a(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vr,ya=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function di(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(r){os.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ss[s]=ss[r]})});function va(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ss.hasOwnProperty(r)&&ss[r]?(""+s).trim():s+"px"}function wa(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=va(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Ea=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ta(r,s){if(s){if(Ea[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ia(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function eo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var to=null,xn=null,dr=null;function no(r){if(r=Ka(r)){if(typeof to!="function")throw Error(t(280));var s=r.stateNode;s&&(s=xu(s),to(r.stateNode,r.type,s))}}function fr(r){xn?dr?dr.push(r):dr=[r]:xn=r}function Sa(){if(xn){var r=xn,s=dr;if(dr=xn=null,no(r),s)for(r=0;r<s.length;r++)no(s[r])}}function ls(r,s){return r(s)}function Ra(){}var Mr=!1;function Ca(r,s,a){if(Mr)return r(s,a);Mr=!0;try{return ls(r,s,a)}finally{Mr=!1,(xn!==null||dr!==null)&&(Ra(),Sa())}}function pt(r,s){var a=r.stateNode;if(a===null)return null;var h=xu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var ro=!1;if(d)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{ro=!1}function us(r,s,a,h,f,g,E,k,O){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(ee){this.onError(ee)}}var cs=!1,io=null,Hn=!1,Aa=null,Nh={onError:function(r){cs=!0,io=r}};function so(r,s,a,h,f,g,E,k,O){cs=!1,io=null,us.apply(Nh,arguments)}function tu(r,s,a,h,f,g,E,k,O){if(so.apply(this,arguments),cs){if(cs){var W=io;cs=!1,io=null}else throw Error(t(198));Hn||(Hn=!0,Aa=W)}}function Wn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function hs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Kn(r){if(Wn(r)!==r)throw Error(t(188))}function nu(r){var s=r.alternate;if(!s){if(s=Wn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Kn(f),r;if(g===h)return Kn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,k=f.child;k;){if(k===a){E=!0,a=f,h=g;break}if(k===h){E=!0,h=f,a=g;break}k=k.sibling}if(!E){for(k=g.child;k;){if(k===a){E=!0,a=g,h=f;break}if(k===h){E=!0,h=g,a=f;break}k=k.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ka(r){return r=nu(r),r!==null?oo(r):null}function oo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=oo(r);if(s!==null)return s;r=r.sibling}return null}var ao=e.unstable_scheduleCallback,Pa=e.unstable_cancelCallback,ru=e.unstable_shouldYield,Dh=e.unstable_requestPaint,Je=e.unstable_now,iu=e.unstable_getCurrentPriorityLevel,ds=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,xa=e.unstable_LowPriority,su=e.unstable_IdlePriority,fs=null,wn=null;function ou(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(fs,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:lu,Na=Math.log,au=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(Na(r)/au|0)|0}var lo=64,uo=4194304;function pi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ps(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var k=E&~f;k!==0?h=pi(k):(g&=E,g!==0&&(h=pi(g)))}else E=a&~f,E!==0?h=pi(E):g!==0&&(h=pi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Yt(s),f=1<<a,h|=r[a],s&=~f;return h}function bh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Yt(g),k=1<<E,O=f[E];O===-1?(!(k&a)||k&h)&&(f[E]=bh(k,s)):O<=s&&(r.expiredLanes|=k),g&=~k}}function En(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ms(){var r=lo;return lo<<=1,!(lo&4194240)&&(lo=64),r}function mi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function gi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=a}function Xe(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Yt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function _i(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Yt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Ue=0;function yi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var uu,co,cu,hu,du,Da=!1,pr=[],Ot=null,Gn=null,Qn=null,vi=new Map,Dn=new Map,mr=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(r,s){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(s.pointerId)}}function sn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ka(s),s!==null&&co(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Lh(r,s,a,h,f){switch(s){case"focusin":return Ot=sn(Ot,r,s,a,h,f),!0;case"dragenter":return Gn=sn(Gn,r,s,a,h,f),!0;case"mouseover":return Qn=sn(Qn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return vi.set(g,sn(vi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Dn.set(g,sn(Dn.get(g)||null,r,s,a,h,f)),!0}return!1}function pu(r){var s=ws(r.target);if(s!==null){var a=Wn(s);if(a!==null){if(s=a.tag,s===13){if(s=hs(a),s!==null){r.blockedOn=s,du(r.priority,function(){cu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ho(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);as=h,a.target.dispatchEvent(h),as=null}else return s=Ka(a),s!==null&&co(s),r.blockedOn=a,!1;s.shift()}return!0}function gs(r,s,a){jr(r)&&a.delete(s)}function mu(){Da=!1,Ot!==null&&jr(Ot)&&(Ot=null),Gn!==null&&jr(Gn)&&(Gn=null),Qn!==null&&jr(Qn)&&(Qn=null),vi.forEach(gs),Dn.forEach(gs)}function Xn(r,s){r.blockedOn===s&&(r.blockedOn=null,Da||(Da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mu)))}function Yn(r){function s(f){return Xn(f,r)}if(0<pr.length){Xn(pr[0],r);for(var a=1;a<pr.length;a++){var h=pr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ot!==null&&Xn(Ot,r),Gn!==null&&Xn(Gn,r),Qn!==null&&Xn(Qn,r),vi.forEach(s),Dn.forEach(s),a=0;a<mr.length;a++)h=mr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)pu(a),a.blockedOn===null&&mr.shift()}var Ur=Q.ReactCurrentBatchConfig,wi=!0;function rt(r,s,a,h){var f=Ue,g=Ur.transition;Ur.transition=null;try{Ue=1,ba(r,s,a,h)}finally{Ue=f,Ur.transition=g}}function Vh(r,s,a,h){var f=Ue,g=Ur.transition;Ur.transition=null;try{Ue=4,ba(r,s,a,h)}finally{Ue=f,Ur.transition=g}}function ba(r,s,a,h){if(wi){var f=ho(r,s,a,h);if(f===null)Kh(r,s,h,_s,a),fu(r,h);else if(Lh(f,r,s,a,h))h.stopPropagation();else if(fu(r,h),s&4&&-1<Oh.indexOf(r)){for(;f!==null;){var g=Ka(f);if(g!==null&&uu(g),g=ho(r,s,a,h),g===null&&Kh(r,s,h,_s,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Kh(r,s,h,null,a)}}var _s=null;function ho(r,s,a,h){if(_s=null,r=eo(h),r=ws(r),r!==null)if(s=Wn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=hs(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return _s=r,null}function Oa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iu()){case ds:return 1;case fi:return 4;case Nn:case xa:return 16;case su:return 536870912;default:return 16}default:return 16}}var Tn=null,fo=null,on=null;function La(){if(on)return on;var r,s=fo,a=s.length,h,f="value"in Tn?Tn.value:Tn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===f[g-h];h++);return on=f.slice(r,1<h?1-h:void 0)}function po(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function gr(){return!0}function Va(){return!1}function Lt(r){function s(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gr:Va,this.isPropagationStopped=Va,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Lt(Jn),_r=ue({},Jn,{view:0,detail:0}),Mh=Lt(_r),go,Br,Ei,ys=ue({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?(go=r.screenX-Ei.screenX,Br=r.screenY-Ei.screenY):Br=go=0,Ei=r),go)},movementY:function(r){return"movementY"in r?r.movementY:Br}}),_o=Lt(ys),Ma=ue({},ys,{dataTransfer:0}),gu=Lt(Ma),yo=ue({},_r,{relatedTarget:0}),vo=Lt(yo),_u=ue({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Lt(_u),yu=ue({},Jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vu=Lt(yu),wu=ue({},Jn,{data:0}),Fa=Lt(wu),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Eu[r])?!!s[r]:!1}function yr(){return Tu}var u=ue({},_r,{key:function(r){if(r.key){var s=wo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(r){return r.type==="keypress"?po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Lt(u),y=ue({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Lt(y),B=ue({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),K=Lt(B),se=ue({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Lt(se),St=ue({},ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Lt(St),Pt=[9,13,27,32],_t=d&&"CompositionEvent"in window,bn=null;d&&"documentMode"in document&&(bn=document.documentMode);var In=d&&"TextEvent"in window&&!bn,vs=d&&(!_t||bn&&8<bn&&11>=bn),Eo=" ",dm=!1;function fm(r,s){switch(r){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function eE(r,s){switch(r){case"compositionend":return pm(s);case"keypress":return s.which!==32?null:(dm=!0,Eo);case"textInput":return r=s.data,r===Eo&&dm?null:r;default:return null}}function tE(r,s){if(To)return r==="compositionend"||!_t&&fm(r,s)?(r=La(),on=fo=Tn=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vs&&s.locale!=="ko"?null:s.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!nE[r.type]:s==="textarea"}function gm(r,s,a,h){fr(h),s=Au(s,"onChange"),0<s.length&&(a=new mo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ja=null,Ua=null;function rE(r){Om(r,0)}function Iu(r){var s=Ao(r);if(vn(s))return r}function iE(r,s){if(r==="change")return s}var _m=!1;if(d){var Fh;if(d){var jh="oninput"in document;if(!jh){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),jh=typeof ym.oninput=="function"}Fh=jh}else Fh=!1;_m=Fh&&(!document.documentMode||9<document.documentMode)}function vm(){ja&&(ja.detachEvent("onpropertychange",wm),Ua=ja=null)}function wm(r){if(r.propertyName==="value"&&Iu(Ua)){var s=[];gm(s,Ua,r,eo(r)),Ca(rE,s)}}function sE(r,s,a){r==="focusin"?(vm(),ja=s,Ua=a,ja.attachEvent("onpropertychange",wm)):r==="focusout"&&vm()}function oE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(Ua)}function aE(r,s){if(r==="click")return Iu(s)}function lE(r,s){if(r==="input"||r==="change")return Iu(s)}function uE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:uE;function Ba(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Zn(r[f],s[f]))return!1}return!0}function Em(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Tm(r,s){var a=Em(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Em(a)}}function Im(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Im(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sm(){for(var r=window,s=ft();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ft(r.document)}return s}function Uh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function cE(r){var s=Sm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Im(a.ownerDocument.documentElement,a)){if(h!==null&&Uh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Tm(a,g);var E=Tm(a,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hE=d&&"documentMode"in document&&11>=document.documentMode,Io=null,Bh=null,$a=null,$h=!1;function Rm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||Io==null||Io!==ft(h)||(h=Io,"selectionStart"in h&&Uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$a&&Ba($a,h)||($a=h,h=Au(Bh,"onSelect"),0<h.length&&(s=new mo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Io)))}function Su(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var So={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},zh={},Cm={};d&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Ru(r){if(zh[r])return zh[r];if(!So[r])return r;var s=So[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cm)return zh[r]=s[a];return r}var Am=Ru("animationend"),km=Ru("animationiteration"),Pm=Ru("animationstart"),xm=Ru("transitionend"),Nm=new Map,Dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(r,s){Nm.set(r,s),l(s,[r])}for(var qh=0;qh<Dm.length;qh++){var Hh=Dm[qh],dE=Hh.toLowerCase(),fE=Hh[0].toUpperCase()+Hh.slice(1);Ti(dE,"on"+fE)}Ti(Am,"onAnimationEnd"),Ti(km,"onAnimationIteration"),Ti(Pm,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(xm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function bm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,tu(h,s,void 0,r),r.currentTarget=null}function Om(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var k=h[E],O=k.instance,W=k.currentTarget;if(k=k.listener,O!==g&&f.isPropagationStopped())break e;bm(f,k,W),g=O}else for(E=0;E<h.length;E++){if(k=h[E],O=k.instance,W=k.currentTarget,k=k.listener,O!==g&&f.isPropagationStopped())break e;bm(f,k,W),g=O}}}if(Hn)throw r=Aa,Hn=!1,Aa=null,r}function et(r,s){var a=s[Zh];a===void 0&&(a=s[Zh]=new Set);var h=r+"__bubble";a.has(h)||(Lm(s,r,2,!1),a.add(h))}function Wh(r,s,a){var h=0;s&&(h|=4),Lm(a,r,h,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function qa(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(a){a!=="selectionchange"&&(pE.has(a)||Wh(a,!1,r),Wh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,Wh("selectionchange",!1,s))}}function Lm(r,s,a,h){switch(Oa(s)){case 1:var f=rt;break;case 4:f=Vh;break;default:f=ba}a=f.bind(null,s,a,r),f=void 0,!ro||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Kh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var k=h.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;E=E.return}for(;k!==null;){if(E=ws(k),E===null)return;if(O=E.tag,O===5||O===6){h=g=E;continue e}k=k.parentNode}}h=h.return}Ca(function(){var W=g,ee=eo(a),te=[];e:{var Z=Nm.get(r);if(Z!==void 0){var he=mo,ge=r;switch(r){case"keypress":if(po(a)===0)break e;case"keydown":case"keyup":he=m;break;case"focusin":ge="focus",he=vo;break;case"focusout":ge="blur",he=vo;break;case"beforeblur":case"afterblur":he=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=K;break;case Am:case km:case Pm:he=$r;break;case xm:he=Qe;break;case"scroll":he=Mh;break;case"wheel":he=ze;break;case"copy":case"cut":case"paste":he=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var _e=(s&4)!==0,mt=!_e&&r==="scroll",$=_e?Z!==null?Z+"Capture":null:Z;_e=[];for(var F=W,q;F!==null;){q=F;var re=q.stateNode;if(q.tag===5&&re!==null&&(q=re,$!==null&&(re=pt(F,$),re!=null&&_e.push(Ha(F,re,q)))),mt)break;F=F.return}0<_e.length&&(Z=new he(Z,ge,null,a,ee),te.push({event:Z,listeners:_e}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",Z&&a!==as&&(ge=a.relatedTarget||a.fromElement)&&(ws(ge)||ge[zr]))break e;if((he||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(ge=a.relatedTarget||a.toElement,he=W,ge=ge?ws(ge):null,ge!==null&&(mt=Wn(ge),ge!==mt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=W),he!==ge)){if(_e=_o,re="onMouseLeave",$="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(_e=S,re="onPointerLeave",$="onPointerEnter",F="pointer"),mt=he==null?Z:Ao(he),q=ge==null?Z:Ao(ge),Z=new _e(re,F+"leave",he,a,ee),Z.target=mt,Z.relatedTarget=q,re=null,ws(ee)===W&&(_e=new _e($,F+"enter",ge,a,ee),_e.target=q,_e.relatedTarget=mt,re=_e),mt=re,he&&ge)t:{for(_e=he,$=ge,F=0,q=_e;q;q=Ro(q))F++;for(q=0,re=$;re;re=Ro(re))q++;for(;0<F-q;)_e=Ro(_e),F--;for(;0<q-F;)$=Ro($),q--;for(;F--;){if(_e===$||$!==null&&_e===$.alternate)break t;_e=Ro(_e),$=Ro($)}_e=null}else _e=null;he!==null&&Vm(te,Z,he,_e,!1),ge!==null&&mt!==null&&Vm(te,mt,ge,_e,!0)}}e:{if(Z=W?Ao(W):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var ye=iE;else if(mm(Z))if(_m)ye=lE;else{ye=oE;var Ee=sE}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=aE);if(ye&&(ye=ye(r,W))){gm(te,ye,a,ee);break e}Ee&&Ee(r,Z,W),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&Ys(Z,"number",Z.value)}switch(Ee=W?Ao(W):window,r){case"focusin":(mm(Ee)||Ee.contentEditable==="true")&&(Io=Ee,Bh=W,$a=null);break;case"focusout":$a=Bh=Io=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Rm(te,a,ee);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Rm(te,a,ee)}var Te;if(_t)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else To?fm(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(vs&&a.locale!=="ko"&&(To||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&To&&(Te=La()):(Tn=ee,fo="value"in Tn?Tn.value:Tn.textContent,To=!0)),Ee=Au(W,Re),0<Ee.length&&(Re=new Fa(Re,r,null,a,ee),te.push({event:Re,listeners:Ee}),Te?Re.data=Te:(Te=pm(a),Te!==null&&(Re.data=Te)))),(Te=In?eE(r,a):tE(r,a))&&(W=Au(W,"onBeforeInput"),0<W.length&&(ee=new Fa("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:W}),ee.data=Te))}Om(te,s)})}function Ha(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Au(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=pt(r,a),g!=null&&h.unshift(Ha(r,g,f)),g=pt(r,s),g!=null&&h.push(Ha(r,g,f))),r=r.return}return h}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vm(r,s,a,h,f){for(var g=s._reactName,E=[];a!==null&&a!==h;){var k=a,O=k.alternate,W=k.stateNode;if(O!==null&&O===h)break;k.tag===5&&W!==null&&(k=W,f?(O=pt(a,g),O!=null&&E.unshift(Ha(a,O,k))):f||(O=pt(a,g),O!=null&&E.push(Ha(a,O,k)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function Mm(r){return(typeof r=="string"?r:""+r).replace(mE,`
`).replace(gE,"")}function ku(r,s,a){if(s=Mm(s),Mm(r)!==s&&a)throw Error(t(425))}function Pu(){}var Gh=null,Qh=null;function Xh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(r){return Fm.resolve(null).then(r).catch(vE)}:Yh;function vE(r){setTimeout(function(){throw r})}function Jh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Yn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Yn(s)}function Ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function jm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Co=Math.random().toString(36).slice(2),vr="__reactFiber$"+Co,Wa="__reactProps$"+Co,zr="__reactContainer$"+Co,Zh="__reactEvents$"+Co,wE="__reactListeners$"+Co,EE="__reactHandles$"+Co;function ws(r){var s=r[vr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[zr]||a[vr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=jm(r);r!==null;){if(a=r[vr])return a;r=jm(r)}return s}r=a,a=r.parentNode}return null}function Ka(r){return r=r[vr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xu(r){return r[Wa]||null}var ed=[],ko=-1;function Si(r){return{current:r}}function tt(r){0>ko||(r.current=ed[ko],ed[ko]=null,ko--)}function Ze(r,s){ko++,ed[ko]=r.current,r.current=s}var Ri={},zt=Si(Ri),an=Si(!1),Es=Ri;function Po(r,s){var a=r.type.contextTypes;if(!a)return Ri;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function ln(r){return r=r.childContextTypes,r!=null}function Nu(){tt(an),tt(zt)}function Um(r,s,a){if(zt.current!==Ri)throw Error(t(168));Ze(zt,s),Ze(an,a)}function Bm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,$e(r)||"Unknown",f));return ue({},a,h)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ri,Es=zt.current,Ze(zt,r),Ze(an,an.current),!0}function $m(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Bm(r,s,Es),h.__reactInternalMemoizedMergedChildContext=r,tt(an),tt(zt),Ze(zt,r)):tt(an),Ze(an,a)}var qr=null,bu=!1,td=!1;function zm(r){qr===null?qr=[r]:qr.push(r)}function TE(r){bu=!0,zm(r)}function Ci(){if(!td&&qr!==null){td=!0;var r=0,s=Ue;try{var a=qr;for(Ue=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}qr=null,bu=!1}catch(f){throw qr!==null&&(qr=qr.slice(r+1)),ao(ds,Ci),f}finally{Ue=s,td=!1}}return null}var xo=[],No=0,Ou=null,Lu=0,On=[],Ln=0,Ts=null,Hr=1,Wr="";function Is(r,s){xo[No++]=Lu,xo[No++]=Ou,Ou=r,Lu=s}function qm(r,s,a){On[Ln++]=Hr,On[Ln++]=Wr,On[Ln++]=Ts,Ts=r;var h=Hr;r=Wr;var f=32-Yt(h)-1;h&=~(1<<f),a+=1;var g=32-Yt(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Hr=1<<32-Yt(s)+f|a<<f|h,Wr=g+r}else Hr=1<<g|a<<f|h,Wr=r}function nd(r){r.return!==null&&(Is(r,1),qm(r,1,0))}function rd(r){for(;r===Ou;)Ou=xo[--No],xo[No]=null,Lu=xo[--No],xo[No]=null;for(;r===Ts;)Ts=On[--Ln],On[Ln]=null,Wr=On[--Ln],On[Ln]=null,Hr=On[--Ln],On[Ln]=null}var Sn=null,Rn=null,it=!1,er=null;function Hm(r,s){var a=jn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Wm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Sn=r,Rn=Ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Sn=r,Rn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ts!==null?{id:Hr,overflow:Wr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=jn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Sn=r,Rn=null,!0):!1;default:return!1}}function id(r){return(r.mode&1)!==0&&(r.flags&128)===0}function sd(r){if(it){var s=Rn;if(s){var a=s;if(!Wm(r,s)){if(id(r))throw Error(t(418));s=Ii(a.nextSibling);var h=Sn;s&&Wm(r,s)?Hm(h,a):(r.flags=r.flags&-4097|2,it=!1,Sn=r)}}else{if(id(r))throw Error(t(418));r.flags=r.flags&-4097|2,it=!1,Sn=r}}}function Km(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function Vu(r){if(r!==Sn)return!1;if(!it)return Km(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Xh(r.type,r.memoizedProps)),s&&(s=Rn)){if(id(r))throw Gm(),Error(t(418));for(;s;)Hm(r,s),s=Ii(s.nextSibling)}if(Km(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Rn=Ii(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Rn=null}}else Rn=Sn?Ii(r.stateNode.nextSibling):null;return!0}function Gm(){for(var r=Rn;r;)r=Ii(r.nextSibling)}function Do(){Rn=Sn=null,it=!1}function od(r){er===null?er=[r]:er.push(r)}var IE=Q.ReactCurrentBatchConfig;function Ga(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var k=f.refs;E===null?delete k[g]:k[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Mu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Qm(r){var s=r._init;return s(r._payload)}function Xm(r){function s($,F){if(r){var q=$.deletions;q===null?($.deletions=[F],$.flags|=16):q.push(F)}}function a($,F){if(!r)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function h($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function f($,F){return $=Oi($,F),$.index=0,$.sibling=null,$}function g($,F,q){return $.index=q,r?(q=$.alternate,q!==null?(q=q.index,q<F?($.flags|=2,F):q):($.flags|=2,F)):($.flags|=1048576,F)}function E($){return r&&$.alternate===null&&($.flags|=2),$}function k($,F,q,re){return F===null||F.tag!==6?(F=Yd(q,$.mode,re),F.return=$,F):(F=f(F,q),F.return=$,F)}function O($,F,q,re){var ye=q.type;return ye===P?ee($,F,q.props.children,re,q.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&Qm(ye)===F.type)?(re=f(F,q.props),re.ref=Ga($,F,q),re.return=$,re):(re=ac(q.type,q.key,q.props,null,$.mode,re),re.ref=Ga($,F,q),re.return=$,re)}function W($,F,q,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Jd(q,$.mode,re),F.return=$,F):(F=f(F,q.children||[]),F.return=$,F)}function ee($,F,q,re,ye){return F===null||F.tag!==7?(F=Ns(q,$.mode,re,ye),F.return=$,F):(F=f(F,q),F.return=$,F)}function te($,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Yd(""+F,$.mode,q),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ae:return q=ac(F.type,F.key,F.props,null,$.mode,q),q.ref=Ga($,null,F),q.return=$,q;case le:return F=Jd(F,$.mode,q),F.return=$,F;case xe:var re=F._init;return te($,re(F._payload),q)}if(Or(F)||me(F))return F=Ns(F,$.mode,q,null),F.return=$,F;Mu($,F)}return null}function Z($,F,q,re){var ye=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:k($,F,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ae:return q.key===ye?O($,F,q,re):null;case le:return q.key===ye?W($,F,q,re):null;case xe:return ye=q._init,Z($,F,ye(q._payload),re)}if(Or(q)||me(q))return ye!==null?null:ee($,F,q,re,null);Mu($,q)}return null}function he($,F,q,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(q)||null,k(F,$,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ae:return $=$.get(re.key===null?q:re.key)||null,O(F,$,re,ye);case le:return $=$.get(re.key===null?q:re.key)||null,W(F,$,re,ye);case xe:var Ee=re._init;return he($,F,q,Ee(re._payload),ye)}if(Or(re)||me(re))return $=$.get(q)||null,ee(F,$,re,ye,null);Mu(F,re)}return null}function ge($,F,q,re){for(var ye=null,Ee=null,Te=F,Re=F=0,Dt=null;Te!==null&&Re<q.length;Re++){Te.index>Re?(Dt=Te,Te=null):Dt=Te.sibling;var We=Z($,Te,q[Re],re);if(We===null){Te===null&&(Te=Dt);break}r&&Te&&We.alternate===null&&s($,Te),F=g(We,F,Re),Ee===null?ye=We:Ee.sibling=We,Ee=We,Te=Dt}if(Re===q.length)return a($,Te),it&&Is($,Re),ye;if(Te===null){for(;Re<q.length;Re++)Te=te($,q[Re],re),Te!==null&&(F=g(Te,F,Re),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return it&&Is($,Re),ye}for(Te=h($,Te);Re<q.length;Re++)Dt=he(Te,$,Re,q[Re],re),Dt!==null&&(r&&Dt.alternate!==null&&Te.delete(Dt.key===null?Re:Dt.key),F=g(Dt,F,Re),Ee===null?ye=Dt:Ee.sibling=Dt,Ee=Dt);return r&&Te.forEach(function(Li){return s($,Li)}),it&&Is($,Re),ye}function _e($,F,q,re){var ye=me(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var Ee=ye=null,Te=F,Re=F=0,Dt=null,We=q.next();Te!==null&&!We.done;Re++,We=q.next()){Te.index>Re?(Dt=Te,Te=null):Dt=Te.sibling;var Li=Z($,Te,We.value,re);if(Li===null){Te===null&&(Te=Dt);break}r&&Te&&Li.alternate===null&&s($,Te),F=g(Li,F,Re),Ee===null?ye=Li:Ee.sibling=Li,Ee=Li,Te=Dt}if(We.done)return a($,Te),it&&Is($,Re),ye;if(Te===null){for(;!We.done;Re++,We=q.next())We=te($,We.value,re),We!==null&&(F=g(We,F,Re),Ee===null?ye=We:Ee.sibling=We,Ee=We);return it&&Is($,Re),ye}for(Te=h($,Te);!We.done;Re++,We=q.next())We=he(Te,$,Re,We.value,re),We!==null&&(r&&We.alternate!==null&&Te.delete(We.key===null?Re:We.key),F=g(We,F,Re),Ee===null?ye=We:Ee.sibling=We,Ee=We);return r&&Te.forEach(function(nT){return s($,nT)}),it&&Is($,Re),ye}function mt($,F,q,re){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ae:e:{for(var ye=q.key,Ee=F;Ee!==null;){if(Ee.key===ye){if(ye=q.type,ye===P){if(Ee.tag===7){a($,Ee.sibling),F=f(Ee,q.props.children),F.return=$,$=F;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&Qm(ye)===Ee.type){a($,Ee.sibling),F=f(Ee,q.props),F.ref=Ga($,Ee,q),F.return=$,$=F;break e}a($,Ee);break}else s($,Ee);Ee=Ee.sibling}q.type===P?(F=Ns(q.props.children,$.mode,re,q.key),F.return=$,$=F):(re=ac(q.type,q.key,q.props,null,$.mode,re),re.ref=Ga($,F,q),re.return=$,$=re)}return E($);case le:e:{for(Ee=q.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){a($,F.sibling),F=f(F,q.children||[]),F.return=$,$=F;break e}else{a($,F);break}else s($,F);F=F.sibling}F=Jd(q,$.mode,re),F.return=$,$=F}return E($);case xe:return Ee=q._init,mt($,F,Ee(q._payload),re)}if(Or(q))return ge($,F,q,re);if(me(q))return _e($,F,q,re);Mu($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(a($,F.sibling),F=f(F,q),F.return=$,$=F):(a($,F),F=Yd(q,$.mode,re),F.return=$,$=F),E($)):a($,F)}return mt}var bo=Xm(!0),Ym=Xm(!1),Fu=Si(null),ju=null,Oo=null,ad=null;function ld(){ad=Oo=ju=null}function ud(r){var s=Fu.current;tt(Fu),r._currentValue=s}function cd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Lo(r,s){ju=r,ad=Oo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(un=!0),r.firstContext=null)}function Vn(r){var s=r._currentValue;if(ad!==r)if(r={context:r,memoizedValue:s,next:null},Oo===null){if(ju===null)throw Error(t(308));Oo=r,ju.dependencies={lanes:0,firstContext:r}}else Oo=Oo.next=r;return s}var Ss=null;function hd(r){Ss===null?Ss=[r]:Ss.push(r)}function Jm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,hd(s)):(a.next=f.next,f.next=a),s.interleaved=a,Kr(r,h)}function Kr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ai=!1;function dd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,He&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Kr(r,a)}return f=h.interleaved,f===null?(s.next=s,hd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Kr(r,a)}function Uu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,_i(r,a)}}function eg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Bu(r,s,a,h){var f=r.updateQueue;Ai=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var O=k,W=O.next;O.next=null,E===null?g=W:E.next=W,E=O;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==E&&(k===null?ee.firstBaseUpdate=W:k.next=W,ee.lastBaseUpdate=O))}if(g!==null){var te=f.baseState;E=0,ee=W=O=null,k=g;do{var Z=k.lane,he=k.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=r,_e=k;switch(Z=s,he=a,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){te=ge.call(he,te,Z);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,Z=typeof ge=="function"?ge.call(he,te,Z):ge,Z==null)break e;te=ue({},te,Z);break e;case 2:Ai=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[k]:Z.push(k))}else he={eventTime:he,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(W=ee=he,O=te):ee=ee.next=he,E|=Z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(O=te),f.baseState=O,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);As|=E,r.lanes=E,r.memoizedState=te}}function tg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Qa={},wr=Si(Qa),Xa=Si(Qa),Ya=Si(Qa);function Rs(r){if(r===Qa)throw Error(t(174));return r}function fd(r,s){switch(Ze(Ya,s),Ze(Xa,r),Ze(wr,Qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=It(s,r)}tt(wr),Ze(wr,s)}function Vo(){tt(wr),tt(Xa),tt(Ya)}function ng(r){Rs(Ya.current);var s=Rs(wr.current),a=It(s,r.type);s!==a&&(Ze(Xa,r),Ze(wr,a))}function pd(r){Xa.current===r&&(tt(wr),tt(Xa))}var at=Si(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var md=[];function gd(){for(var r=0;r<md.length;r++)md[r]._workInProgressVersionPrimary=null;md.length=0}var zu=Q.ReactCurrentDispatcher,_d=Q.ReactCurrentBatchConfig,Cs=0,lt=null,Rt=null,xt=null,qu=!1,Ja=!1,Za=0,SE=0;function qt(){throw Error(t(321))}function yd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Zn(r[a],s[a]))return!1;return!0}function vd(r,s,a,h,f,g){if(Cs=g,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,zu.current=r===null||r.memoizedState===null?kE:PE,r=a(h,f),Ja){g=0;do{if(Ja=!1,Za=0,25<=g)throw Error(t(301));g+=1,xt=Rt=null,s.updateQueue=null,zu.current=xE,r=a(h,f)}while(Ja)}if(zu.current=Ku,s=Rt!==null&&Rt.next!==null,Cs=0,xt=Rt=lt=null,qu=!1,s)throw Error(t(300));return r}function wd(){var r=Za!==0;return Za=0,r}function Er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?lt.memoizedState=xt=r:xt=xt.next=r,xt}function Mn(){if(Rt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=xt===null?lt.memoizedState:xt.next;if(s!==null)xt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},xt===null?lt.memoizedState=xt=r:xt=xt.next=r}return xt}function el(r,s){return typeof s=="function"?s(r):s}function Ed(r){var s=Mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Rt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var k=E=null,O=null,W=g;do{var ee=W.lane;if((Cs&ee)===ee)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var te={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(k=O=te,E=h):O=O.next=te,lt.lanes|=ee,As|=ee}W=W.next}while(W!==null&&W!==g);O===null?E=h:O.next=k,Zn(h,s.memoizedState)||(un=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=O,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,lt.lanes|=g,As|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Td(r){var s=Mn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Zn(g,s.memoizedState)||(un=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function rg(){}function ig(r,s){var a=lt,h=Mn(),f=s(),g=!Zn(h.memoizedState,f);if(g&&(h.memoizedState=f,un=!0),h=h.queue,Id(ag.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,tl(9,og.bind(null,a,h,f,s),void 0,null),Nt===null)throw Error(t(349));Cs&30||sg(a,s,f)}return f}function sg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function og(r,s,a,h){s.value=a,s.getSnapshot=h,lg(s)&&ug(r)}function ag(r,s,a){return a(function(){lg(s)&&ug(r)})}function lg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Zn(r,a)}catch{return!0}}function ug(r){var s=Kr(r,1);s!==null&&ir(s,r,1,-1)}function cg(r){var s=Er();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:r},s.queue=r,r=r.dispatch=AE.bind(null,lt,r),[s.memoizedState,r]}function tl(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function hg(){return Mn().memoizedState}function Hu(r,s,a,h){var f=Er();lt.flags|=r,f.memoizedState=tl(1|s,a,void 0,h===void 0?null:h)}function Wu(r,s,a,h){var f=Mn();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var E=Rt.memoizedState;if(g=E.destroy,h!==null&&yd(h,E.deps)){f.memoizedState=tl(s,a,g,h);return}}lt.flags|=r,f.memoizedState=tl(1|s,a,g,h)}function dg(r,s){return Hu(8390656,8,r,s)}function Id(r,s){return Wu(2048,8,r,s)}function fg(r,s){return Wu(4,2,r,s)}function pg(r,s){return Wu(4,4,r,s)}function mg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function gg(r,s,a){return a=a!=null?a.concat([r]):null,Wu(4,4,mg.bind(null,s,r),a)}function Sd(){}function _g(r,s){var a=Mn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&yd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function yg(r,s){var a=Mn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&yd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function vg(r,s,a){return Cs&21?(Zn(a,s)||(a=ms(),lt.lanes|=a,As|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,un=!0),r.memoizedState=a)}function RE(r,s){var a=Ue;Ue=a!==0&&4>a?a:4,r(!0);var h=_d.transition;_d.transition={};try{r(!1),s()}finally{Ue=a,_d.transition=h}}function wg(){return Mn().memoizedState}function CE(r,s,a){var h=Di(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Eg(r))Tg(s,a);else if(a=Jm(r,s,a,h),a!==null){var f=en();ir(a,r,h,f),Ig(a,s,h)}}function AE(r,s,a){var h=Di(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eg(r))Tg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,k=g(E,a);if(f.hasEagerState=!0,f.eagerState=k,Zn(k,E)){var O=s.interleaved;O===null?(f.next=f,hd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}a=Jm(r,s,f,h),a!==null&&(f=en(),ir(a,r,h,f),Ig(a,s,h))}}function Eg(r){var s=r.alternate;return r===lt||s!==null&&s===lt}function Tg(r,s){Ja=qu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ig(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,_i(r,a)}}var Ku={readContext:Vn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},kE={readContext:Vn,useCallback:function(r,s){return Er().memoizedState=[r,s===void 0?null:s],r},useContext:Vn,useEffect:dg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Hu(4194308,4,mg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Hu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Hu(4,2,r,s)},useMemo:function(r,s){var a=Er();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Er();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=CE.bind(null,lt,r),[h.memoizedState,r]},useRef:function(r){var s=Er();return r={current:r},s.memoizedState=r},useState:cg,useDebugValue:Sd,useDeferredValue:function(r){return Er().memoizedState=r},useTransition:function(){var r=cg(!1),s=r[0];return r=RE.bind(null,r[1]),Er().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=lt,f=Er();if(it){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));Cs&30||sg(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,dg(ag.bind(null,h,g,r),[r]),h.flags|=2048,tl(9,og.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Er(),s=Nt.identifierPrefix;if(it){var a=Wr,h=Hr;a=(h&~(1<<32-Yt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Za++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=SE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},PE={readContext:Vn,useCallback:_g,useContext:Vn,useEffect:Id,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:yg,useReducer:Ed,useRef:hg,useState:function(){return Ed(el)},useDebugValue:Sd,useDeferredValue:function(r){var s=Mn();return vg(s,Rt.memoizedState,r)},useTransition:function(){var r=Ed(el)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:rg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1},xE={readContext:Vn,useCallback:_g,useContext:Vn,useEffect:Id,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:yg,useReducer:Td,useRef:hg,useState:function(){return Td(el)},useDebugValue:Sd,useDeferredValue:function(r){var s=Mn();return Rt===null?s.memoizedState=r:vg(s,Rt.memoizedState,r)},useTransition:function(){var r=Td(el)[0],s=Mn().memoizedState;return[r,s]},useMutableSource:rg,useSyncExternalStore:ig,useId:wg,unstable_isNewReconciler:!1};function tr(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Rd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ue({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Gu={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=en(),f=Di(r),g=Gr(h,f);g.payload=s,a!=null&&(g.callback=a),s=ki(r,g,f),s!==null&&(ir(s,r,f,h),Uu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=en(),f=Di(r),g=Gr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ki(r,g,f),s!==null&&(ir(s,r,f,h),Uu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=en(),h=Di(r),f=Gr(a,h);f.tag=2,s!=null&&(f.callback=s),s=ki(r,f,h),s!==null&&(ir(s,r,h,a),Uu(s,r,h))}};function Sg(r,s,a,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ba(a,h)||!Ba(f,g):!0}function Rg(r,s,a){var h=!1,f=Ri,g=s.contextType;return typeof g=="object"&&g!==null?g=Vn(g):(f=ln(s)?Es:zt.current,h=s.contextTypes,g=(h=h!=null)?Po(r,f):Ri),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Cg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Gu.enqueueReplaceState(s,s.state,null)}function Cd(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},dd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Vn(g):(g=ln(s)?Es:zt.current,f.context=Po(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Rd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Gu.enqueueReplaceState(f,f.state,null),Bu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Mo(r,s){try{var a="",h=s;do a+=De(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Ad(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function kd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function Ag(r,s,a){a=Gr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){tc||(tc=!0,zd=h),kd(r,s)},a}function kg(r,s,a){a=Gr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){kd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){kd(r,s),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Pg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new NE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=HE.bind(null,r,s,a),s.then(r,r))}function xg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ng(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Gr(-1,1),s.tag=2,ki(a,s,1))),a.lanes|=1),r)}var DE=Q.ReactCurrentOwner,un=!1;function Zt(r,s,a,h){s.child=r===null?Ym(s,null,a,h):bo(s,r.child,a,h)}function Dg(r,s,a,h,f){a=a.render;var g=s.ref;return Lo(s,f),h=vd(r,s,a,h,g,f),a=wd(),r!==null&&!un?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Qr(r,s,f)):(it&&a&&nd(s),s.flags|=1,Zt(r,s,h,f),s.child)}function bg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Xd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Og(r,s,g,h,f)):(r=ac(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ba,a(E,h)&&r.ref===s.ref)return Qr(r,s,f)}return s.flags|=1,r=Oi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Og(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Ba(g,h)&&r.ref===s.ref)if(un=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(un=!0);else return s.lanes=r.lanes,Qr(r,s,f)}return Pd(r,s,a,h,f)}function Lg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(jo,Cn),Cn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(jo,Cn),Cn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ze(jo,Cn),Cn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ze(jo,Cn),Cn|=h;return Zt(r,s,f,a),s.child}function Vg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Pd(r,s,a,h,f){var g=ln(a)?Es:zt.current;return g=Po(s,g),Lo(s,f),a=vd(r,s,a,h,g,f),h=wd(),r!==null&&!un?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Qr(r,s,f)):(it&&h&&nd(s),s.flags|=1,Zt(r,s,a,f),s.child)}function Mg(r,s,a,h,f){if(ln(a)){var g=!0;Du(s)}else g=!1;if(Lo(s,f),s.stateNode===null)Xu(r,s),Rg(s,a,h),Cd(s,a,h,f),h=!0;else if(r===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var O=E.context,W=a.contextType;typeof W=="object"&&W!==null?W=Vn(W):(W=ln(a)?Es:zt.current,W=Po(s,W));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==h||O!==W)&&Cg(s,E,h,W),Ai=!1;var Z=s.memoizedState;E.state=Z,Bu(s,h,E,f),O=s.memoizedState,k!==h||Z!==O||an.current||Ai?(typeof ee=="function"&&(Rd(s,a,ee,h),O=s.memoizedState),(k=Ai||Sg(s,a,k,h,Z,O,W))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),E.props=h,E.state=O,E.context=W,h=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Zm(r,s),k=s.memoizedProps,W=s.type===s.elementType?k:tr(s.type,k),E.props=W,te=s.pendingProps,Z=E.context,O=a.contextType,typeof O=="object"&&O!==null?O=Vn(O):(O=ln(a)?Es:zt.current,O=Po(s,O));var he=a.getDerivedStateFromProps;(ee=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==te||Z!==O)&&Cg(s,E,h,O),Ai=!1,Z=s.memoizedState,E.state=Z,Bu(s,h,E,f);var ge=s.memoizedState;k!==te||Z!==ge||an.current||Ai?(typeof he=="function"&&(Rd(s,a,he,h),ge=s.memoizedState),(W=Ai||Sg(s,a,W,h,Z,ge,O)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ge,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ge,O)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),E.props=h,E.state=ge,E.context=O,h=W):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return xd(r,s,a,h,g,f)}function xd(r,s,a,h,f,g){Vg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&$m(s,a,!1),Qr(r,s,g);h=s.stateNode,DE.current=s;var k=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=bo(s,r.child,null,g),s.child=bo(s,null,k,g)):Zt(r,s,k,g),s.memoizedState=h.state,f&&$m(s,a,!0),s.child}function Fg(r){var s=r.stateNode;s.pendingContext?Um(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Um(r,s.context,!1),fd(r,s.containerInfo)}function jg(r,s,a,h,f){return Do(),od(f),s.flags|=256,Zt(r,s,a,h),s.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Dd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ug(r,s,a){var h=s.pendingProps,f=at.current,g=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ze(at,f&1),r===null)return sd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=lc(E,h,0,null),r=Ns(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Dd(a),s.memoizedState=Nd,r):bd(s,E));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return bE(r,s,E,h,k,f,a);if(g){g=h.fallback,E=s.mode,f=r.child,k=f.sibling;var O={mode:"hidden",children:h.children};return!(E&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Oi(f,O),h.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Oi(k,g):(g=Ns(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?Dd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=Nd,h}return g=r.child,r=g.sibling,h=Oi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function bd(r,s){return s=lc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qu(r,s,a,h){return h!==null&&od(h),bo(s,r.child,null,a),r=bd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bE(r,s,a,h,f,g,E){if(a)return s.flags&256?(s.flags&=-257,h=Ad(Error(t(422))),Qu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=lc({mode:"visible",children:h.children},f,0,null),g=Ns(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&bo(s,r.child,null,E),s.child.memoizedState=Dd(E),s.memoizedState=Nd,g);if(!(s.mode&1))return Qu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(t(419)),h=Ad(g,h,void 0),Qu(r,s,E,h)}if(k=(E&r.childLanes)!==0,un||k){if(h=Nt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Kr(r,f),ir(h,r,f,-1))}return Qd(),h=Ad(Error(t(421))),Qu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=WE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Rn=Ii(f.nextSibling),Sn=s,it=!0,er=null,r!==null&&(On[Ln++]=Hr,On[Ln++]=Wr,On[Ln++]=Ts,Hr=r.id,Wr=r.overflow,Ts=s),s=bd(s,h.children),s.flags|=4096,s)}function Bg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),cd(r.return,s,a)}function Od(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function $g(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Zt(r,s,h.children,a),h=at.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bg(r,a,s);else if(r.tag===19)Bg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ze(at,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&$u(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Od(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&$u(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Od(s,!0,a,null,g);break;case"together":Od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Qr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),As|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Oi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Oi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function OE(r,s,a){switch(s.tag){case 3:Fg(s),Do();break;case 5:ng(s);break;case 1:ln(s.type)&&Du(s);break;case 4:fd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ze(Fu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(at,at.current&1),s.flags|=128,null):a&s.child.childLanes?Ug(r,s,a):(Ze(at,at.current&1),r=Qr(r,s,a),r!==null?r.sibling:null);Ze(at,at.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return $g(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(at,at.current),h)break;return null;case 22:case 23:return s.lanes=0,Lg(r,s,a)}return Qr(r,s,a)}var zg,Ld,qg,Hg;zg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ld=function(){},qg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Rs(wr.current);var g=null;switch(a){case"input":f=rn(r,f),h=rn(r,h),g=[];break;case"select":f=ue({},f,{value:void 0}),h=ue({},h,{value:void 0}),g=[];break;case"textarea":f=ga(r,f),h=ga(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Pu)}Ta(a,h);var E;a=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var k=f[W];for(E in k)k.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var O=h[W];if(k=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&O!==k&&(O!=null||k!=null))if(W==="style")if(k){for(E in k)!k.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in O)O.hasOwnProperty(E)&&k[E]!==O[E]&&(a||(a={}),a[E]=O[E])}else a||(g||(g=[]),g.push(W,a)),a=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(g=g||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&et("scroll",r),g||k===O||(g=[])):(g=g||[]).push(W,O))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Hg=function(r,s,a,h){a!==h&&(s.flags|=4)};function nl(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function LE(r,s,a){var h=s.pendingProps;switch(rd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return ln(s.type)&&Nu(),Ht(s),null;case 3:return h=s.stateNode,Vo(),tt(an),tt(zt),gd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,er!==null&&(Wd(er),er=null))),Ld(r,s),Ht(s),null;case 5:pd(s);var f=Rs(Ya.current);if(a=s.type,r!==null&&s.stateNode!=null)qg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(r=Rs(wr.current),Vu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[vr]=s,h[Wa]=g,r=(s.mode&1)!==0,a){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<za.length;f++)et(za[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":br(h,g),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},et("invalid",h);break;case"textarea":Js(h,g),et("invalid",h)}Ta(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var k=g[E];E==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&ku(h.textContent,k,r),f=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&ku(h.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&et("scroll",h)}switch(a){case"input":Ye(h),eu(h,g,!0);break;case"textarea":Ye(h),_a(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Pu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[vr]=s,r[Wa]=h,zg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Ia(a,h),a){case"dialog":et("cancel",r),et("close",r),f=h;break;case"iframe":case"object":case"embed":et("load",r),f=h;break;case"video":case"audio":for(f=0;f<za.length;f++)et(za[f],r);f=h;break;case"source":et("error",r),f=h;break;case"img":case"image":case"link":et("error",r),et("load",r),f=h;break;case"details":et("toggle",r),f=h;break;case"input":br(r,h),f=rn(r,h),et("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ue({},h,{value:void 0}),et("invalid",r);break;case"textarea":Js(r,h),f=ga(r,h),et("invalid",r);break;default:f=h}Ta(a,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var O=k[g];g==="style"?wa(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ya(r,O)):g==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&di(r,O):typeof O=="number"&&di(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&et("scroll",r):O!=null&&G(r,g,O,E))}switch(a){case"input":Ye(r),eu(r,h,!1);break;case"textarea":Ye(r),_a(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ne(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Lr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Lr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Pu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)Hg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Rs(Ya.current),Rs(wr.current),Vu(s)){if(h=s.stateNode,a=s.memoizedProps,h[vr]=s,(g=h.nodeValue!==a)&&(r=Sn,r!==null))switch(r.tag){case 3:ku(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[vr]=s,s.stateNode=h}return Ht(s),null;case 13:if(tt(at),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&Rn!==null&&s.mode&1&&!(s.flags&128))Gm(),Do(),s.flags|=98560,g=!1;else if(g=Vu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[vr]=s}else Do(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ht(s),g=!1}else er!==null&&(Wd(er),er=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||at.current&1?Ct===0&&(Ct=3):Qd())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return Vo(),Ld(r,s),r===null&&qa(s.stateNode.containerInfo),Ht(s),null;case 10:return ud(s.type._context),Ht(s),null;case 17:return ln(s.type)&&Nu(),Ht(s),null;case 19:if(tt(at),g=s.memoizedState,g===null)return Ht(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)nl(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=$u(r),E!==null){for(s.flags|=128,nl(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ze(at,at.current&1|2),s.child}r=r.sibling}g.tail!==null&&Je()>Uo&&(s.flags|=128,h=!0,nl(g,!1),s.lanes=4194304)}else{if(!h)if(r=$u(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),nl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!it)return Ht(s),null}else 2*Je()-g.renderingStartTime>Uo&&a!==1073741824&&(s.flags|=128,h=!0,nl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,a=at.current,Ze(at,h?a&1|2:a&1),s):(Ht(s),null);case 22:case 23:return Gd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Cn&1073741824&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function VE(r,s){switch(rd(s),s.tag){case 1:return ln(s.type)&&Nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Vo(),tt(an),tt(zt),gd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return pd(s),null;case 13:if(tt(at),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Do()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(at),null;case 4:return Vo(),null;case 10:return ud(s.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Yu=!1,Wt=!1,ME=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Fo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ct(r,s,h)}else a.current=null}function Vd(r,s,a){try{a()}catch(h){ct(r,s,h)}}var Wg=!1;function FE(r,s){if(Gh=wi,r=Sm(),Uh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,k=-1,O=-1,W=0,ee=0,te=r,Z=null;t:for(;;){for(var he;te!==a||f!==0&&te.nodeType!==3||(k=E+f),te!==g||h!==0&&te.nodeType!==3||(O=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(he=te.firstChild)!==null;)Z=te,te=he;for(;;){if(te===r)break t;if(Z===a&&++W===f&&(k=E),Z===g&&++ee===h&&(O=E),(he=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=he}a=k===-1||O===-1?null:{start:k,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qh={focusedElem:r,selectionRange:a},wi=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var ge=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,mt=ge.memoizedState,$=s.stateNode,F=$.getSnapshotBeforeUpdate(s.elementType===s.type?_e:tr(s.type,_e),mt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ct(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return ge=Wg,Wg=!1,ge}function rl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Vd(s,a,g)}f=f.next}while(f!==h)}}function Ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Md(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Kg(r){var s=r.alternate;s!==null&&(r.alternate=null,Kg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[vr],delete s[Wa],delete s[Zh],delete s[wE],delete s[EE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gg(r){return r.tag===5||r.tag===3||r.tag===4}function Qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pu));else if(h!==4&&(r=r.child,r!==null))for(Fd(r,s,a),r=r.sibling;r!==null;)Fd(r,s,a),r=r.sibling}function jd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(jd(r,s,a),r=r.sibling;r!==null;)jd(r,s,a),r=r.sibling}var Vt=null,nr=!1;function Pi(r,s,a){for(a=a.child;a!==null;)Xg(r,s,a),a=a.sibling}function Xg(r,s,a){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(fs,a)}catch{}switch(a.tag){case 5:Wt||Fo(a,s);case 6:var h=Vt,f=nr;Vt=null,Pi(r,s,a),Vt=h,nr=f,Vt!==null&&(nr?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(nr?(r=Vt,a=a.stateNode,r.nodeType===8?Jh(r.parentNode,a):r.nodeType===1&&Jh(r,a),Yn(r)):Jh(Vt,a.stateNode));break;case 4:h=Vt,f=nr,Vt=a.stateNode.containerInfo,nr=!0,Pi(r,s,a),Vt=h,nr=f;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Vd(a,s,E),f=f.next}while(f!==h)}Pi(r,s,a);break;case 1:if(!Wt&&(Fo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(k){ct(a,s,k)}Pi(r,s,a);break;case 21:Pi(r,s,a);break;case 22:a.mode&1?(Wt=(h=Wt)||a.memoizedState!==null,Pi(r,s,a),Wt=h):Pi(r,s,a);break;default:Pi(r,s,a)}}function Yg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new ME),s.forEach(function(h){var f=KE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function rr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,E=s,k=E;e:for(;k!==null;){switch(k.tag){case 5:Vt=k.stateNode,nr=!1;break e;case 3:Vt=k.stateNode.containerInfo,nr=!0;break e;case 4:Vt=k.stateNode.containerInfo,nr=!0;break e}k=k.return}if(Vt===null)throw Error(t(160));Xg(g,E,f),Vt=null,nr=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(W){ct(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Jg(s,r),s=s.sibling}function Jg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(rr(s,r),Tr(r),h&4){try{rl(3,r,r.return),Ju(3,r)}catch(_e){ct(r,r.return,_e)}try{rl(5,r,r.return)}catch(_e){ct(r,r.return,_e)}}break;case 1:rr(s,r),Tr(r),h&512&&a!==null&&Fo(a,a.return);break;case 5:if(rr(s,r),Tr(r),h&512&&a!==null&&Fo(a,a.return),r.flags&32){var f=r.stateNode;try{di(f,"")}catch(_e){ct(r,r.return,_e)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,k=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&rs(f,g),Ia(k,E);var W=Ia(k,g);for(E=0;E<O.length;E+=2){var ee=O[E],te=O[E+1];ee==="style"?wa(f,te):ee==="dangerouslySetInnerHTML"?ya(f,te):ee==="children"?di(f,te):G(f,ee,te,W)}switch(k){case"input":is(f,g);break;case"textarea":Zs(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?Lr(f,!!g.multiple,he,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Lr(f,!!g.multiple,g.defaultValue,!0):Lr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Wa]=g}catch(_e){ct(r,r.return,_e)}}break;case 6:if(rr(s,r),Tr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(_e){ct(r,r.return,_e)}}break;case 3:if(rr(s,r),Tr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Yn(s.containerInfo)}catch(_e){ct(r,r.return,_e)}break;case 4:rr(s,r),Tr(r);break;case 13:rr(s,r),Tr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||($d=Je())),h&4&&Yg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Wt=(W=Wt)||ee,rr(s,r),Wt=W):rr(s,r),Tr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&r.mode&1)for(fe=r,ee=r.child;ee!==null;){for(te=fe=ee;fe!==null;){switch(Z=fe,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:rl(4,Z,Z.return);break;case 1:Fo(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(_e){ct(h,a,_e)}}break;case 5:Fo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){t_(te);continue}}he!==null?(he.return=Z,fe=he):t_(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=te.stateNode,O=te.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=va("display",E))}catch(_e){ct(r,r.return,_e)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(_e){ct(r,r.return,_e)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:rr(s,r),Tr(r),h&4&&Yg(r);break;case 21:break;default:rr(s,r),Tr(r)}}function Tr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Gg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(di(f,""),h.flags&=-33);var g=Qg(r);jd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,k=Qg(r);Fd(r,k,E);break;default:throw Error(t(161))}}catch(O){ct(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jE(r,s,a){fe=r,Zg(r)}function Zg(r,s,a){for(var h=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Yu;if(!E){var k=f.alternate,O=k!==null&&k.memoizedState!==null||Wt;k=Yu;var W=Wt;if(Yu=E,(Wt=O)&&!W)for(fe=f;fe!==null;)E=fe,O=E.child,E.tag===22&&E.memoizedState!==null?n_(f):O!==null?(O.return=E,fe=O):n_(f);for(;g!==null;)fe=g,Zg(g),g=g.sibling;fe=f,Yu=k,Wt=W}e_(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,fe=g):e_(r)}}function e_(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Wt||Ju(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Wt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:tr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&tg(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}tg(s,E,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Yn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&Md(s)}catch(Z){ct(s,s.return,Z)}}if(s===r){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function t_(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function n_(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ju(4,s)}catch(O){ct(s,a,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(O){ct(s,f,O)}}var g=s.return;try{Md(s)}catch(O){ct(s,g,O)}break;case 5:var E=s.return;try{Md(s)}catch(O){ct(s,E,O)}}}catch(O){ct(s,s.return,O)}if(s===r){fe=null;break}var k=s.sibling;if(k!==null){k.return=s.return,fe=k;break}fe=s.return}}var UE=Math.ceil,Zu=Q.ReactCurrentDispatcher,Ud=Q.ReactCurrentOwner,Fn=Q.ReactCurrentBatchConfig,He=0,Nt=null,yt=null,Mt=0,Cn=0,jo=Si(0),Ct=0,il=null,As=0,ec=0,Bd=0,sl=null,cn=null,$d=0,Uo=1/0,Xr=null,tc=!1,zd=null,xi=null,nc=!1,Ni=null,rc=0,ol=0,qd=null,ic=-1,sc=0;function en(){return He&6?Je():ic!==-1?ic:ic=Je()}function Di(r){return r.mode&1?He&2&&Mt!==0?Mt&-Mt:IE.transition!==null?(sc===0&&(sc=ms()),sc):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:Oa(r.type)),r):1}function ir(r,s,a,h){if(50<ol)throw ol=0,qd=null,Error(t(185));gi(r,a,h),(!(He&2)||r!==Nt)&&(r===Nt&&(!(He&2)&&(ec|=a),Ct===4&&bi(r,Mt)),hn(r,h),a===1&&He===0&&!(s.mode&1)&&(Uo=Je()+500,bu&&Ci()))}function hn(r,s){var a=r.callbackNode;Fr(r,s);var h=ps(r,r===Nt?Mt:0);if(h===0)a!==null&&Pa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Pa(a),s===1)r.tag===0?TE(i_.bind(null,r)):zm(i_.bind(null,r)),yE(function(){!(He&6)&&Ci()}),a=null;else{switch(yi(h)){case 1:a=ds;break;case 4:a=fi;break;case 16:a=Nn;break;case 536870912:a=su;break;default:a=Nn}a=d_(a,r_.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function r_(r,s){if(ic=-1,sc=0,He&6)throw Error(t(327));var a=r.callbackNode;if(Bo()&&r.callbackNode!==a)return null;var h=ps(r,r===Nt?Mt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=oc(r,h);else{s=h;var f=He;He|=2;var g=o_();(Nt!==r||Mt!==s)&&(Xr=null,Uo=Je()+500,Ps(r,s));do try{zE();break}catch(k){s_(r,k)}while(!0);ld(),Zu.current=g,He=f,yt!==null?s=0:(Nt=null,Mt=0,s=Ct)}if(s!==0){if(s===2&&(f=En(r),f!==0&&(h=f,s=Hd(r,f))),s===1)throw a=il,Ps(r,0),bi(r,h),hn(r,Je()),a;if(s===6)bi(r,h);else{if(f=r.current.alternate,!(h&30)&&!BE(f)&&(s=oc(r,h),s===2&&(g=En(r),g!==0&&(h=g,s=Hd(r,g))),s===1))throw a=il,Ps(r,0),bi(r,h),hn(r,Je()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:xs(r,cn,Xr);break;case 3:if(bi(r,h),(h&130023424)===h&&(s=$d+500-Je(),10<s)){if(ps(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){en(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Yh(xs.bind(null,r,cn,Xr),s);break}xs(r,cn,Xr);break;case 4:if(bi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Yt(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*UE(h/1960))-h,10<h){r.timeoutHandle=Yh(xs.bind(null,r,cn,Xr),h);break}xs(r,cn,Xr);break;case 5:xs(r,cn,Xr);break;default:throw Error(t(329))}}}return hn(r,Je()),r.callbackNode===a?r_.bind(null,r):null}function Hd(r,s){var a=sl;return r.current.memoizedState.isDehydrated&&(Ps(r,s).flags|=256),r=oc(r,s),r!==2&&(s=cn,cn=a,s!==null&&Wd(s)),r}function Wd(r){cn===null?cn=r:cn.push.apply(cn,r)}function BE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Zn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bi(r,s){for(s&=~Bd,s&=~ec,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Yt(s),h=1<<a;r[a]=-1,s&=~h}}function i_(r){if(He&6)throw Error(t(327));Bo();var s=ps(r,0);if(!(s&1))return hn(r,Je()),null;var a=oc(r,s);if(r.tag!==0&&a===2){var h=En(r);h!==0&&(s=h,a=Hd(r,h))}if(a===1)throw a=il,Ps(r,0),bi(r,s),hn(r,Je()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,xs(r,cn,Xr),hn(r,Je()),null}function Kd(r,s){var a=He;He|=1;try{return r(s)}finally{He=a,He===0&&(Uo=Je()+500,bu&&Ci())}}function ks(r){Ni!==null&&Ni.tag===0&&!(He&6)&&Bo();var s=He;He|=1;var a=Fn.transition,h=Ue;try{if(Fn.transition=null,Ue=1,r)return r()}finally{Ue=h,Fn.transition=a,He=s,!(He&6)&&Ci()}}function Gd(){Cn=jo.current,tt(jo)}function Ps(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,_E(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(rd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Nu();break;case 3:Vo(),tt(an),tt(zt),gd();break;case 5:pd(h);break;case 4:Vo();break;case 13:tt(at);break;case 19:tt(at);break;case 10:ud(h.type._context);break;case 22:case 23:Gd()}a=a.return}if(Nt=r,yt=r=Oi(r.current,null),Mt=Cn=s,Ct=0,il=null,Bd=ec=As=0,cn=sl=null,Ss!==null){for(s=0;s<Ss.length;s++)if(a=Ss[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}Ss=null}return r}function s_(r,s){do{var a=yt;try{if(ld(),zu.current=Ku,qu){for(var h=lt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}qu=!1}if(Cs=0,xt=Rt=lt=null,Ja=!1,Za=0,Ud.current=null,a===null||a.return===null){Ct=1,il=s,yt=null;break}e:{var g=r,E=a.return,k=a,O=s;if(s=Mt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,ee=k,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=xg(E);if(he!==null){he.flags&=-257,Ng(he,E,k,g,s),he.mode&1&&Pg(g,W,s),s=he,O=W;var ge=s.updateQueue;if(ge===null){var _e=new Set;_e.add(O),s.updateQueue=_e}else ge.add(O);break e}else{if(!(s&1)){Pg(g,W,s),Qd();break e}O=Error(t(426))}}else if(it&&k.mode&1){var mt=xg(E);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Ng(mt,E,k,g,s),od(Mo(O,k));break e}}g=O=Mo(O,k),Ct!==4&&(Ct=2),sl===null?sl=[g]:sl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=Ag(g,O,s);eg(g,$);break e;case 1:k=O;var F=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(xi===null||!xi.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=kg(g,k,s);eg(g,re);break e}}g=g.return}while(g!==null)}l_(a)}catch(ye){s=ye,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function o_(){var r=Zu.current;return Zu.current=Ku,r===null?Ku:r}function Qd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(As&268435455)&&!(ec&268435455)||bi(Nt,Mt)}function oc(r,s){var a=He;He|=2;var h=o_();(Nt!==r||Mt!==s)&&(Xr=null,Ps(r,s));do try{$E();break}catch(f){s_(r,f)}while(!0);if(ld(),He=a,Zu.current=h,yt!==null)throw Error(t(261));return Nt=null,Mt=0,Ct}function $E(){for(;yt!==null;)a_(yt)}function zE(){for(;yt!==null&&!ru();)a_(yt)}function a_(r){var s=h_(r.alternate,r,Cn);r.memoizedProps=r.pendingProps,s===null?l_(r):yt=s,Ud.current=null}function l_(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=VE(a,s),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,yt=null;return}}else if(a=LE(a,s,Cn),a!==null){yt=a;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=r}while(s!==null);Ct===0&&(Ct=5)}function xs(r,s,a){var h=Ue,f=Fn.transition;try{Fn.transition=null,Ue=1,qE(r,s,a,h)}finally{Fn.transition=f,Ue=h}return null}function qE(r,s,a,h){do Bo();while(Ni!==null);if(He&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Xe(r,g),r===Nt&&(yt=Nt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||nc||(nc=!0,d_(Nn,function(){return Bo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Fn.transition,Fn.transition=null;var E=Ue;Ue=1;var k=He;He|=4,Ud.current=null,FE(r,a),Jg(a,r),cE(Qh),wi=!!Gh,Qh=Gh=null,r.current=a,jE(a),Dh(),He=k,Ue=E,Fn.transition=g}else r.current=a;if(nc&&(nc=!1,Ni=r,rc=f),g=r.pendingLanes,g===0&&(xi=null),ou(a.stateNode),hn(r,Je()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(tc)throw tc=!1,r=zd,zd=null,r;return rc&1&&r.tag!==0&&Bo(),g=r.pendingLanes,g&1?r===qd?ol++:(ol=0,qd=r):ol=0,Ci(),null}function Bo(){if(Ni!==null){var r=yi(rc),s=Fn.transition,a=Ue;try{if(Fn.transition=null,Ue=16>r?16:r,Ni===null)var h=!1;else{if(r=Ni,Ni=null,rc=0,He&6)throw Error(t(331));var f=He;for(He|=4,fe=r.current;fe!==null;){var g=fe,E=g.child;if(fe.flags&16){var k=g.deletions;if(k!==null){for(var O=0;O<k.length;O++){var W=k[O];for(fe=W;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:rl(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,fe=te;else for(;fe!==null;){ee=fe;var Z=ee.sibling,he=ee.return;if(Kg(ee),ee===W){fe=null;break}if(Z!==null){Z.return=he,fe=Z;break}fe=he}}}var ge=g.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var mt=_e.sibling;_e.sibling=null,_e=mt}while(_e!==null)}}fe=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:rl(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,fe=$;break e}fe=g.return}}var F=r.current;for(fe=F;fe!==null;){E=fe;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,fe=q;else e:for(E=F;fe!==null;){if(k=fe,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Ju(9,k)}}catch(ye){ct(k,k.return,ye)}if(k===E){fe=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,fe=re;break e}fe=k.return}}if(He=f,Ci(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(fs,r)}catch{}h=!0}return h}finally{Ue=a,Fn.transition=s}}return!1}function u_(r,s,a){s=Mo(a,s),s=Ag(r,s,1),r=ki(r,s,1),s=en(),r!==null&&(gi(r,1,s),hn(r,s))}function ct(r,s,a){if(r.tag===3)u_(r,r,a);else for(;s!==null;){if(s.tag===3){u_(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){r=Mo(a,r),r=kg(s,r,1),s=ki(s,r,1),r=en(),s!==null&&(gi(s,1,r),hn(s,r));break}}s=s.return}}function HE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=en(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Mt&a)===a&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>Je()-$d?Ps(r,0):Bd|=a),hn(r,s)}function c_(r,s){s===0&&(r.mode&1?(s=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):s=1);var a=en();r=Kr(r,s),r!==null&&(gi(r,s,a),hn(r,a))}function WE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),c_(r,a)}function KE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),c_(r,a)}var h_;h_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||an.current)un=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return un=!1,OE(r,s,a);un=!!(r.flags&131072)}else un=!1,it&&s.flags&1048576&&qm(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Xu(r,s),r=s.pendingProps;var f=Po(s,zt.current);Lo(s,a),f=vd(null,s,h,r,f,a);var g=wd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ln(h)?(g=!0,Du(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,dd(s),f.updater=Gu,s.stateNode=f,f._reactInternals=s,Cd(s,h,r,a),s=xd(null,s,h,!0,g,a)):(s.tag=0,it&&g&&nd(s),Zt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Xu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=QE(h),r=tr(h,r),f){case 0:s=Pd(null,s,h,r,a);break e;case 1:s=Mg(null,s,h,r,a);break e;case 11:s=Dg(null,s,h,r,a);break e;case 14:s=bg(null,s,h,tr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Pd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Mg(r,s,h,f,a);case 3:e:{if(Fg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Zm(r,s),Bu(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Mo(Error(t(423)),s),s=jg(r,s,h,a,f);break e}else if(h!==f){f=Mo(Error(t(424)),s),s=jg(r,s,h,a,f);break e}else for(Rn=Ii(s.stateNode.containerInfo.firstChild),Sn=s,it=!0,er=null,a=Ym(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),h===f){s=Qr(r,s,a);break e}Zt(r,s,h,a)}s=s.child}return s;case 5:return ng(s),r===null&&sd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Xh(h,f)?E=null:g!==null&&Xh(h,g)&&(s.flags|=32),Vg(r,s),Zt(r,s,E,a),s.child;case 6:return r===null&&sd(s),null;case 13:return Ug(r,s,a);case 4:return fd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=bo(s,null,h,a):Zt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Dg(r,s,h,f,a);case 7:return Zt(r,s,s.pendingProps,a),s.child;case 8:return Zt(r,s,s.pendingProps.children,a),s.child;case 12:return Zt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,Ze(Fu,h._currentValue),h._currentValue=E,g!==null)if(Zn(g.value,E)){if(g.children===f.children&&!an.current){s=Qr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){E=g.child;for(var O=k.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Gr(-1,a&-a),O.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),W.pending=O}}g.lanes|=a,O=g.alternate,O!==null&&(O.lanes|=a),cd(g.return,a,s),k.lanes|=a;break}O=O.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,k=E.alternate,k!==null&&(k.lanes|=a),cd(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Zt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Lo(s,a),f=Vn(f),h=h(f),s.flags|=1,Zt(r,s,h,a),s.child;case 14:return h=s.type,f=tr(h,s.pendingProps),f=tr(h.type,f),bg(r,s,h,f,a);case 15:return Og(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:tr(h,f),Xu(r,s),s.tag=1,ln(h)?(r=!0,Du(s)):r=!1,Lo(s,a),Rg(s,h,f),Cd(s,h,f,a),xd(null,s,h,!0,r,a);case 19:return $g(r,s,a);case 22:return Lg(r,s,a)}throw Error(t(156,s.tag))};function d_(r,s){return ao(r,s)}function GE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,s,a,h){return new GE(r,s,a,h)}function Xd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function QE(r){if(typeof r=="function")return Xd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Me)return 14}return 2}function Oi(r,s){var a=r.alternate;return a===null?(a=jn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ac(r,s,a,h,f,g){var E=2;if(h=r,typeof r=="function")Xd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return Ns(a.children,f,g,s);case C:E=8,f|=8;break;case A:return r=jn(12,a,s,f|2),r.elementType=A,r.lanes=g,r;case T:return r=jn(13,a,s,f),r.elementType=T,r.lanes=g,r;case oe:return r=jn(19,a,s,f),r.elementType=oe,r.lanes=g,r;case be:return lc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:E=10;break e;case M:E=9;break e;case L:E=11;break e;case Me:E=14;break e;case xe:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=jn(E,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ns(r,s,a,h){return r=jn(7,r,h,s),r.lanes=a,r}function lc(r,s,a,h){return r=jn(22,r,h,s),r.elementType=be,r.lanes=a,r.stateNode={isHidden:!1},r}function Yd(r,s,a){return r=jn(6,r,null,s),r.lanes=a,r}function Jd(r,s,a){return s=jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function XE(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Zd(r,s,a,h,f,g,E,k,O){return r=new XE(r,s,a,k,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=jn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(g),r}function YE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function f_(r){if(!r)return Ri;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(ln(a))return Bm(r,a,s)}return s}function p_(r,s,a,h,f,g,E,k,O){return r=Zd(a,h,!0,r,f,g,E,k,O),r.context=f_(null),a=r.current,h=en(),f=Di(a),g=Gr(h,f),g.callback=s??null,ki(a,g,f),r.current.lanes=f,gi(r,f,h),hn(r,h),r}function uc(r,s,a,h){var f=s.current,g=en(),E=Di(f);return a=f_(a),s.context===null?s.context=a:s.pendingContext=a,s=Gr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ki(f,s,E),r!==null&&(ir(r,f,E,g),Uu(r,f,E)),E}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function m_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ef(r,s){m_(r,s),(r=r.alternate)&&m_(r,s)}function JE(){return null}var g_=typeof reportError=="function"?reportError:function(r){console.error(r)};function tf(r){this._internalRoot=r}hc.prototype.render=tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));uc(r,s,null,null)},hc.prototype.unmount=tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ks(function(){uc(null,r,null,null)}),s[zr]=null}};function hc(r){this._internalRoot=r}hc.prototype.unstable_scheduleHydration=function(r){if(r){var s=hu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<mr.length&&s!==0&&s<mr[a].priority;a++);mr.splice(a,0,r),a===0&&pu(r)}};function nf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function __(){}function ZE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=cc(E);g.call(W)}}var E=p_(s,h,r,0,null,!1,!1,"",__);return r._reactRootContainer=E,r[zr]=E.current,qa(r.nodeType===8?r.parentNode:r),ks(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var k=h;h=function(){var W=cc(O);k.call(W)}}var O=Zd(r,0,!1,null,null,!1,!1,"",__);return r._reactRootContainer=O,r[zr]=O.current,qa(r.nodeType===8?r.parentNode:r),ks(function(){uc(s,O,a,h)}),O}function fc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var k=f;f=function(){var O=cc(E);k.call(O)}}uc(s,E,r,f)}else E=ZE(a,s,r,f,h);return cc(E)}uu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=pi(s.pendingLanes);a!==0&&(_i(s,a|1),hn(s,Je()),!(He&6)&&(Uo=Je()+500,Ci()))}break;case 13:ks(function(){var h=Kr(r,1);if(h!==null){var f=en();ir(h,r,1,f)}}),ef(r,1)}},co=function(r){if(r.tag===13){var s=Kr(r,134217728);if(s!==null){var a=en();ir(s,r,134217728,a)}ef(r,134217728)}},cu=function(r){if(r.tag===13){var s=Di(r),a=Kr(r,s);if(a!==null){var h=en();ir(a,r,s,h)}ef(r,s)}},hu=function(){return Ue},du=function(r,s){var a=Ue;try{return Ue=r,s()}finally{Ue=a}},to=function(r,s,a){switch(s){case"input":if(is(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=xu(h);if(!f)throw Error(t(90));vn(h),is(h,f)}}}break;case"textarea":Zs(r,a);break;case"select":s=a.value,s!=null&&Lr(r,!!a.multiple,s,!1)}},ls=Kd,Ra=ks;var eT={usingClientEntryPoint:!1,Events:[Ka,Ao,xu,fr,Sa,Kd]},al={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tT={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ka(r),r===null?null:r.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||JE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{fs=pc.inject(tT),wn=pc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT,dn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(s))throw Error(t(200));return YE(r,s,null,a)},dn.createRoot=function(r,s){if(!nf(r))throw Error(t(299));var a=!1,h="",f=g_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Zd(r,1,!1,null,null,a,!1,h,f),r[zr]=s.current,qa(r.nodeType===8?r.parentNode:r),new tf(s)},dn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ka(s),r=r===null?null:r.stateNode,r},dn.flushSync=function(r){return ks(r)},dn.hydrate=function(r,s,a){if(!dc(s))throw Error(t(200));return fc(null,r,s,!0,a)},dn.hydrateRoot=function(r,s,a){if(!nf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=g_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=p_(s,null,r,1,a??null,f,!1,g,E),r[zr]=s.current,qa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new hc(s)},dn.render=function(r,s,a){if(!dc(s))throw Error(t(200));return fc(null,r,s,!1,a)},dn.unmountComponentAtNode=function(r){if(!dc(r))throw Error(t(40));return r._reactRootContainer?(ks(function(){fc(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},dn.unstable_batchedUpdates=Kd,dn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!dc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return fc(r,s,a,!1,h)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var R_;function uT(){if(R_)return of.exports;R_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),of.exports=lT(),of.exports}var C_;function cT(){if(C_)return mc;C_=1;var n=uT();return mc.createRoot=n.createRoot,mc.hydrateRoot=n.hydrateRoot,mc}var hT=cT(),ul={},A_;function dT(){if(A_)return ul;A_=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=c,ul.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,N){const b=new l,j=I.length;if(j<2)return b;const D=(N==null?void 0:N.decode)||w;let H=0;do{const z=I.indexOf("=",H);if(z===-1)break;const G=I.indexOf(";",H),Q=G===-1?j:G;if(z>Q){H=I.lastIndexOf(";",z-1)+1;continue}const ae=d(I,H,z),le=p(I,z,ae),P=I.slice(ae,le);if(b[P]===void 0){let C=d(I,z+1,Q),A=p(I,Q,C);const x=D(I.slice(C,A));b[P]=x}H=Q+1}while(H<j);return b}function d(I,N,b){do{const j=I.charCodeAt(N);if(j!==32&&j!==9)return N}while(++N<b);return b}function p(I,N,b){for(;N>b;){const j=I.charCodeAt(--N);if(j!==32&&j!==9)return N+1}return b}function _(I,N,b){const j=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const D=j(N);if(!e.test(D))throw new TypeError(`argument val is invalid: ${N}`);let H=I+"="+D;if(!b)return H;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);H+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);H+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);H+="; Path="+b.path}if(b.expires){if(!R(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);H+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(H+="; HttpOnly"),b.secure&&(H+="; Secure"),b.partitioned&&(H+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return H}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function R(I){return o.call(I)==="[object Date]"}return ul}dT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k_="popstate";function fT(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ws(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sf("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");d=_===-1?p:p.slice(0,_)}return d+"#"+(typeof l=="string"?l:Rl(l))}function i(o,l){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mT(e,t,i,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pT(){return Math.random().toString(36).substring(2,10)}function P_(n,e){return{usr:n.state,key:n.key,idx:e}}function Sf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:t,key:e&&e.key||i||pT()}}function Rl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ws(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,_=w();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function w(){return(c.state||{idx:null}).idx}function R(){d="POP";let D=w(),H=D==null?null:D-_;_=D,p&&p({action:d,location:j.location,delta:H})}function I(D,H){d="PUSH";let z=Sf(j.location,D,H);t&&t(z,D),_=w()+1;let G=P_(z,_),Q=j.createHref(z);try{c.pushState(G,"",Q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(Q)}l&&p&&p({action:d,location:j.location,delta:1})}function N(D,H){d="REPLACE";let z=Sf(j.location,D,H);t&&t(z,D),_=w();let G=P_(z,_),Q=j.createHref(z);c.replaceState(G,"",Q),l&&p&&p({action:d,location:j.location,delta:0})}function b(D){let H=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof D=="string"?D:Rl(D);return z=z.replace(/ $/,"%20"),st(H,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,H)}let j={get action(){return d},get location(){return n(o,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(k_,R),p=D,()=>{o.removeEventListener(k_,R),p=null}},createHref(D){return e(o,D)},createURL:b,encodeLocation(D){let H=b(D);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:N,go(D){return c.go(D)}};return j}function ov(n,e,t="/"){return gT(n,e,t,!1)}function gT(n,e,t,i){let o=typeof e=="string"?Ws(e):e,l=Wi(o.pathname||"/",t);if(l==null)return null;let c=av(n);_T(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=kT(l);d=CT(c[p],_,i)}return d}function av(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ti([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(st(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),av(l.children,e,w,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:ST(_,l.index),routesMeta:w})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of lv(l.path))o(l,c,p)}),e}function lv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=lv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function _T(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yT=/^:[\w-]+$/,vT=3,wT=2,ET=1,TT=10,IT=-2,x_=n=>n==="*";function ST(n,e){let t=n.split("/"),i=t.length;return t.some(x_)&&(i+=IT),e&&(i+=wT),t.filter(o=>!x_(o)).reduce((o,l)=>o+(yT.test(l)?vT:l===""?ET:TT),i)}function RT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function CT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},w),I=p.route;if(!R&&_&&t&&!i[i.length-1].route.index&&(R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!R)return null;Object.assign(o,R.params),c.push({params:o,pathname:ti([l,R.pathname]),pathnameBase:DT(ti([l,R.pathnameBase])),route:I}),R.pathnameBase!=="/"&&(l=ti([l,R.pathnameBase]))}return c}function Uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:w,isOptional:R},I)=>{if(w==="*"){let b=d[I]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const N=d[I];return R&&!N?_[w]=void 0:_[w]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:n}}function AT(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function kT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function PT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ws(n):n;return{pathname:t?t.startsWith("/")?t:xT(t,e):e,search:bT(i),hash:OT(o)}}function xT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function uf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ep(n){let e=NT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function tp(n,e,t,i=!1){let o;typeof n=="string"?o=Ws(n):(o={...n},st(!o.pathname||!o.pathname.includes("?"),uf("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),uf("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),uf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let R=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),R-=1;o.pathname=I.join("/")}d=R>=0?e[R]:"/"}let p=PT(o,d),_=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||w)&&(p.pathname+="/"),p}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),DT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var uv=["POST","PUT","PATCH","DELETE"];new Set(uv);var VT=["GET",...uv];new Set(VT);var oa=V.createContext(null);oa.displayName="DataRouter";var ih=V.createContext(null);ih.displayName="DataRouterState";var cv=V.createContext({isTransitioning:!1});cv.displayName="ViewTransition";var MT=V.createContext(new Map);MT.displayName="Fetchers";var FT=V.createContext(null);FT.displayName="Await";var ur=V.createContext(null);ur.displayName="Navigation";var Fl=V.createContext(null);Fl.displayName="Location";var cr=V.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var np=V.createContext(null);np.displayName="RouteError";function jT(n,{relative:e}={}){st(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(ur),{hash:o,pathname:l,search:c}=jl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ti([t,l])),i.createHref({pathname:d,search:c,hash:o})}function aa(){return V.useContext(Fl)!=null}function hr(){return st(aa(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Fl).location}var hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dv(n){V.useContext(ur).static||V.useLayoutEffect(n)}function Zi(){let{isDataRoute:n}=V.useContext(cr);return n?eI():UT()}function UT(){st(aa(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(oa),{basename:e,navigator:t}=V.useContext(ur),{matches:i}=V.useContext(cr),{pathname:o}=hr(),l=JSON.stringify(ep(i)),c=V.useRef(!1);return dv(()=>{c.current=!0}),V.useCallback((p,_={})=>{if($n(c.current,hv),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=tp(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ti([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,l,o,n])}var BT=V.createContext(null);function $T(n){let e=V.useContext(cr).outlet;return e&&V.createElement(BT.Provider,{value:n},e)}function jl(n,{relative:e}={}){let{matches:t}=V.useContext(cr),{pathname:i}=hr(),o=JSON.stringify(ep(t));return V.useMemo(()=>tp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function zT(n,e){return fv(n,e)}function fv(n,e,t,i){var H;st(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(ur),{matches:l}=V.useContext(cr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",w=c&&c.route;{let z=w&&w.path||"";pv(p,!w||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let R=hr(),I;if(e){let z=typeof e=="string"?Ws(e):e;st(_==="/"||((H=z.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),I=z}else I=R;let N=I.pathname||"/",b=N;if(_!=="/"){let z=_.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=ov(n,{pathname:b});$n(w||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),$n(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=GT(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:ti([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ti([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&D?V.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},D):D}function qT(){let n=ZT(),e=LT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,c)}var HT=V.createElement(qT,null),WT=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(cr.Provider,{value:this.props.routeContext},V.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KT({routeContext:n,match:e,children:t}){let i=V.useContext(oa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(cr.Provider,{value:n},t)}function GT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:w,errors:R}=t,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,w)=>{let R,I=!1,N=null,b=null;t&&(R=l&&_.route.id?l[_.route.id]:void 0,N=_.route.errorElement||HT,c&&(d<0&&w===0?(pv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):d===w&&(I=!0,b=_.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,w+1)),D=()=>{let H;return R?H=N:I?H=b:_.route.Component?H=V.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,V.createElement(KT,{match:_,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?V.createElement(WT,{location:t.location,revalidation:t.revalidation,component:N,error:R,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):D()},null)}function rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(n){let e=V.useContext(oa);return st(e,rp(n)),e}function XT(n){let e=V.useContext(ih);return st(e,rp(n)),e}function YT(n){let e=V.useContext(cr);return st(e,rp(n)),e}function ip(n){let e=YT(n),t=e.matches[e.matches.length-1];return st(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JT(){return ip("useRouteId")}function ZT(){var i;let n=V.useContext(np),e=XT("useRouteError"),t=ip("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function eI(){let{router:n}=QT("useNavigate"),e=ip("useNavigate"),t=V.useRef(!1);return dv(()=>{t.current=!0}),V.useCallback(async(o,l={})=>{$n(t.current,hv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var N_={};function pv(n,e,t){!e&&!N_[n]&&(N_[n]=!0,$n(!1,t))}V.memo(tI);function tI({routes:n,future:e,state:t}){return fv(n,void 0,t,e)}function D_({to:n,replace:e,state:t,relative:i}){st(aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(ur);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(cr),{pathname:c}=hr(),d=Zi(),p=tp(n,ep(l),c,i==="path"),_=JSON.stringify(p);return V.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function nI(n){return $T(n.context)}function kn(n){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){st(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ws(t));let{pathname:p="/",search:_="",hash:w="",state:R=null,key:I="default"}=t,N=V.useMemo(()=>{let b=Wi(p,c);return b==null?null:{location:{pathname:b,search:_,hash:w,state:R,key:I},navigationType:i}},[c,p,_,w,R,I,i]);return $n(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:V.createElement(ur.Provider,{value:d},V.createElement(Fl.Provider,{children:e,value:N}))}function iI({children:n,location:e}){return zT(Rf(n),e)}function Rf(n,e=[]){let t=[];return V.Children.forEach(n,(i,o)=>{if(!V.isValidElement(i))return;let l=[...e,o];if(i.type===V.Fragment){t.push.apply(t,Rf(i.props.children,l));return}st(i.type===kn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Rf(i.props.children,l)),t.push(c)}),t}var Ac="get",kc="application/x-www-form-urlencoded";function sh(n){return n!=null&&typeof n.tagName=="string"}function sI(n){return sh(n)&&n.tagName.toLowerCase()==="button"}function oI(n){return sh(n)&&n.tagName.toLowerCase()==="form"}function aI(n){return sh(n)&&n.tagName.toLowerCase()==="input"}function lI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uI(n,e){return n.button===0&&(!e||e==="_self")&&!lI(n)}var gc=null;function cI(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var hI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cf(n){return n!=null&&!hI.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):n}function dI(n,e){let t,i,o,l,c;if(oI(n)){let d=n.getAttribute("action");i=d?Wi(d,e):null,t=n.getAttribute("method")||Ac,o=cf(n.getAttribute("enctype"))||kc,l=new FormData(n)}else if(sI(n)||aI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Wi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Ac,o=cf(n.getAttribute("formenctype"))||cf(d.getAttribute("enctype"))||kc,l=new FormData(d,n),!cI()){let{name:_,type:w,value:R}=n;if(w==="image"){let I=_?`${_}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else _&&l.append(_,R)}}else{if(sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ac,i=null,o=kc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function sp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function fI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mI(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await fI(l,t);return c.links?c.links():[]}return[]}));return vI(i.flat(1).filter(pI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b_(n,e,t,i,o,l){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var w;return t[_].pathname!==p.pathname||((w=t[_].route.path)==null?void 0:w.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):l==="data"?e.filter((p,_)=>{var R;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=t[0])==null?void 0:R.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function gI(n,e){return _I(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function _I(n){return[...new Set(n)]}function yI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(yI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function wI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function EI(){let n=V.useContext(oa);return sp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TI(){let n=V.useContext(ih);return sp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var op=V.createContext(void 0);op.displayName="FrameworkContext";function mv(){let n=V.useContext(op);return sp(n,"You must render this element inside a <HydratedRouter> element"),n}function II(n,e){let t=V.useContext(op),[i,o]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,I=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=H=>{H.forEach(z=>{c(z.isIntersecting)})},D=new IntersectionObserver(j,{threshold:.5});return I.current&&D.observe(I.current),()=>{D.disconnect()}}},[n]),V.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let N=()=>{o(!0)},b=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:cl(d,N),onBlur:cl(p,b),onMouseEnter:cl(_,N),onMouseLeave:cl(w,b),onTouchStart:cl(R,N)}]:[!1,I,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SI({page:n,...e}){let{router:t}=EI(),i=V.useMemo(()=>ov(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(CI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function RI(n){let{manifest:e,routeModules:t}=mv(),[i,o]=V.useState([]);return V.useEffect(()=>{let l=!1;return mI(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function CI({page:n,matches:e,...t}){let i=hr(),{manifest:o,routeModules:l}=mv(),{loaderData:c,matches:d}=TI(),p=V.useMemo(()=>b_(n,e,d,o,i,"data"),[n,e,d,o,i]),_=V.useMemo(()=>b_(n,e,d,o,i,"assets"),[n,e,d,o,i]),w=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,b=!1;if(e.forEach(D=>{var z;let H=o.routes[D.route.id];!H||!H.hasLoader||(!p.some(G=>G.route.id===D.route.id)&&D.route.id in c&&((z=l[D.route.id])!=null&&z.shouldRevalidate)||H.hasClientLoader?b=!0:N.add(D.route.id))}),N.size===0)return[];let j=wI(n);return b&&N.size>0&&j.searchParams.set("_routes",e.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[c,i,o,p,e,n,l]),R=V.useMemo(()=>gI(_,o),[_,o]),I=RI(_);return V.createElement(V.Fragment,null,w.map(N=>V.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),R.map(N=>V.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),I.map(({key:N,link:b})=>V.createElement("link",{key:N,...b})))}function AI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gv&&(window.__reactRouterVersion="7.0.2")}catch{}function kI({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=fT({window:t,v5Compat:!0}));let o=i.current,[l,c]=V.useState({action:o.action,location:o.location}),d=V.useCallback(p=>{V.startTransition(()=>c(p))},[c]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(rI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var _v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:_,preventScrollReset:w,viewTransition:R,...I},N){let{basename:b}=V.useContext(ur),j=typeof _=="string"&&_v.test(_),D,H=!1;if(typeof _=="string"&&j&&(D=_,gv))try{let A=new URL(window.location.href),x=_.startsWith("//")?new URL(A.protocol+_):new URL(_),M=Wi(x.pathname,b);x.origin===A.origin&&M!=null?_=M+x.search+x.hash:H=!0}catch{$n(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=jT(_,{relative:o}),[G,Q,ae]=II(i,I),le=DI(_,{replace:c,state:d,target:p,preventScrollReset:w,relative:o,viewTransition:R});function P(A){e&&e(A),A.defaultPrevented||le(A)}let C=V.createElement("a",{...I,...ae,href:D||z,onClick:H||l?e:P,ref:AI(N,Q),target:p,"data-discover":!j&&t==="render"?"true":void 0});return G&&!j?V.createElement(V.Fragment,null,C,V.createElement(SI,{page:z})):C});Mi.displayName="Link";var PI=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,..._},w){let R=jl(c,{relative:_.relative}),I=hr(),N=V.useContext(ih),{navigator:b,basename:j}=V.useContext(ur),D=N!=null&&MI(R)&&d===!0,H=b.encodeLocation?b.encodeLocation(R).pathname:R.pathname,z=I.pathname,G=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,H=H.toLowerCase()),G&&j&&(G=Wi(G,j)||G);const Q=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ae=z===H||!o&&z.startsWith(H)&&z.charAt(Q)==="/",le=G!=null&&(G===H||!o&&G.startsWith(H)&&G.charAt(H.length)==="/"),P={isActive:ae,isPending:le,isTransitioning:D},C=ae?e:void 0,A;typeof i=="function"?A=i(P):A=[i,ae?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(P):l;return V.createElement(Mi,{..._,"aria-current":C,className:A,ref:w,style:x,to:c,viewTransition:d},typeof p=="function"?p(P):p)});PI.displayName="NavLink";var xI=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=Ac,action:d,onSubmit:p,relative:_,preventScrollReset:w,viewTransition:R,...I},N)=>{let b=LI(),j=VI(d,{relative:_}),D=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&_v.test(d),z=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Q=G.nativeEvent.submitter,ae=(Q==null?void 0:Q.getAttribute("formmethod"))||c;b(Q||G.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:_,preventScrollReset:w,viewTransition:R})};return V.createElement("form",{ref:N,method:D,action:j,onSubmit:i?p:z,...I,"data-discover":!H&&n==="render"?"true":void 0})});xI.displayName="Form";function NI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yv(n){let e=V.useContext(oa);return st(e,NI(n)),e}function DI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Zi(),p=hr(),_=jl(n,{relative:l});return V.useCallback(w=>{if(uI(w,e)){w.preventDefault();let R=t!==void 0?t:Rl(p)===Rl(_);d(n,{replace:R,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,_,t,i,e,n,o,l,c])}var bI=0,OI=()=>`__${String(++bI)}__`;function LI(){let{router:n}=yv("useSubmit"),{basename:e}=V.useContext(ur),t=JT();return V.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:_}=dI(i,e);if(o.navigate===!1){let w=o.fetcherKey||OI();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function VI(n,{relative:e}={}){let{basename:t}=V.useContext(ur),i=V.useContext(cr);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...jl(n||".",{relative:e})},c=hr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(w=>w==="")){d.delete("index"),p.filter(R=>R).forEach(R=>d.append("index",R));let w=d.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ti([t,l.pathname])),Rl(l)}function MI(n,e={}){let t=V.useContext(cv);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yv("useViewTransitionState"),o=jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Uc(o.pathname,c)!=null||Uc(o.pathname,l)!=null}new TextEncoder;const FI="_sidebar_86llt_1",jI="_profileSection_86llt_19",UI="_navigation_86llt_35",BI="_avatar_86llt_43",$I="_userInfo_86llt_69",zI="_navList_86llt_125",qI="_navItem_86llt_143",HI="_navLink_86llt_151",WI="_createEventBtn_86llt_181",KI="_dropdown_86llt_217",GI="_dropdownItem_86llt_257",QI="_logoutBtn_86llt_279",XI="_dashboardContainer_86llt_321",YI="_mainContent_86llt_329",JI="_welcomeContainer_86llt_361",ZI="_welcomeTitle_86llt_381",e1="_welcomeText_86llt_401",t1="_hamburgerBtn_86llt_409",n1="_overlay_86llt_435",r1="_sidebarOpen_86llt_475",Ie={sidebar:FI,profileSection:jI,navigation:UI,avatar:BI,userInfo:$I,navList:zI,navItem:qI,navLink:HI,createEventBtn:WI,dropdown:KI,dropdownItem:GI,logoutBtn:QI,dashboardContainer:XI,mainContent:YI,welcomeContainer:JI,welcomeTitle:ZI,welcomeText:e1,hamburgerBtn:t1,overlay:n1,sidebarOpen:r1};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},p)=>V.createElement("svg",{ref:p,...s1,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:vv("lucide",o),...d},[...c.map(([_,w])=>V.createElement(_,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(n,e)=>{const t=V.forwardRef(({className:i,...o},l)=>V.createElement(o1,{ref:l,iconNode:e,className:vv(`lucide-${i1(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Et("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Et("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Et("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Et("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Et("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Et("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},E1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,w=l>>2,R=(l&3)<<4|d>>4;let I=(d&15)<<2|_>>6,N=_&63;p||(N=64,c||(I=64)),i.push(t[w],t[R],t[I],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Iv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):E1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const R=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||R==null)throw new T1;const I=l<<2|d>>4;if(i.push(I),_!==64){const N=d<<4&240|_>>2;if(i.push(N),R!==64){const b=_<<6&192|R;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(n){const e=Iv(n);return Sv.encodeByteArray(e,!0)},Bc=function(n){return I1(n).replace(/\./g,"")},Rv=function(n){try{return Sv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=()=>S1().__FIREBASE_DEFAULTS__,C1=()=>{if(typeof process>"u"||typeof L_>"u")return;const n=L_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rv(n[1]);return e&&JSON.parse(e)},oh=()=>{try{return R1()||C1()||A1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cv=n=>{var e,t;return(t=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Av=n=>{const e=Cv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},kv=()=>{var n;return(n=oh())===null||n===void 0?void 0:n.config},Pv=n=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bc(JSON.stringify(t)),Bc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function x1(){var n;const e=(n=oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function b1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O1(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function L1(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="FirebaseError";class Dr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=F1,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?j1(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Dr(o,d,i)}}function j1(n,e){return n.replace(U1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const U1=/\{\$([^}]+)}/g;function B1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $c(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(V_(l)&&V_(c)){if(!$c(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function V_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $1(n,e){const t=new z1(n,e);return t.subscribe.bind(t)}class z1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");q1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=hf),o.error===void 0&&(o.error=hf),o.complete===void 0&&(o.complete=hf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class Ki{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new k1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K1(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:W1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W1(n){return n===Ls?void 0:n}function K1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const Q1={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},X1=Fe.INFO,Y1={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},J1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=Y1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=J1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Z1=(n,e)=>e.some(t=>n instanceof t);let M_,F_;function eS(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Cf=new WeakMap,Dv=new WeakMap,df=new WeakMap,lp=new WeakMap;function nS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(zi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Nv.set(t,n)}).catch(()=>{}),lp.set(e,n),e}function rS(n){if(Cf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Cf.set(n,e)}let Af={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Dv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iS(n){Af=n(Af)}function sS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ff(this),e,...t);return Dv.set(i,e.sort?e.sort():[e]),zi(i)}:tS().includes(n)?function(...e){return n.apply(ff(this),e),zi(Nv.get(this))}:function(...e){return zi(n.apply(ff(this),e))}}function oS(n){return typeof n=="function"?sS(n):(n instanceof IDBTransaction&&rS(n),Z1(n,eS())?new Proxy(n,Af):n)}function zi(n){if(n instanceof IDBRequest)return nS(n);if(df.has(n))return df.get(n);const e=oS(n);return e!==n&&(df.set(n,e),lp.set(e,n)),e}const ff=n=>lp.get(n);function aS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=zi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(zi(c.result),p.oldVersion,p.newVersion,zi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const lS=["get","getKey","getAll","getAllKeys","count"],uS=["put","add","delete","clear"],pf=new Map;function j_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=uS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||lS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return pf.set(e,l),l}iS(n=>({...n,get:(e,t,i)=>j_(e,t)||n.get(e,t,i),has:(e,t)=>!!j_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function hS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",U_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new ap("@firebase/app"),dS="@firebase/app-compat",fS="@firebase/analytics-compat",pS="@firebase/analytics",mS="@firebase/app-check-compat",gS="@firebase/app-check",_S="@firebase/auth",yS="@firebase/auth-compat",vS="@firebase/database",wS="@firebase/data-connect",ES="@firebase/database-compat",TS="@firebase/functions",IS="@firebase/functions-compat",SS="@firebase/installations",RS="@firebase/installations-compat",CS="@firebase/messaging",AS="@firebase/messaging-compat",kS="@firebase/performance",PS="@firebase/performance-compat",xS="@firebase/remote-config",NS="@firebase/remote-config-compat",DS="@firebase/storage",bS="@firebase/storage-compat",OS="@firebase/firestore",LS="@firebase/vertexai",VS="@firebase/firestore-compat",MS="firebase",FS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",jS={[kf]:"fire-core",[dS]:"fire-core-compat",[pS]:"fire-analytics",[fS]:"fire-analytics-compat",[gS]:"fire-app-check",[mS]:"fire-app-check-compat",[_S]:"fire-auth",[yS]:"fire-auth-compat",[vS]:"fire-rtdb",[wS]:"fire-data-connect",[ES]:"fire-rtdb-compat",[TS]:"fire-fn",[IS]:"fire-fn-compat",[SS]:"fire-iid",[RS]:"fire-iid-compat",[CS]:"fire-fcm",[AS]:"fire-fcm-compat",[kS]:"fire-perf",[PS]:"fire-perf-compat",[xS]:"fire-rc",[NS]:"fire-rc-compat",[DS]:"fire-gcs",[bS]:"fire-gcs-compat",[OS]:"fire-fst",[VS]:"fire-fst-compat",[LS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,US=new Map,xf=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bs(n){const e=n.name;if(xf.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,n);for(const t of zc.values())B_(t,n);for(const t of US.values())B_(t,n);return!0}function ah(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Ul("app","Firebase",BS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=FS;function la(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(t||(t=kv()),!t)throw qi.create("no-options");const l=zc.get(o);if(l){if($c(t,l.options)&&$c(i,l.config))return l;throw qi.create("duplicate-app",{appName:o})}const c=new G1(o);for(const p of xf.values())c.addComponent(p);const d=new $S(t,i,c);return zc.set(o,d),d}function up(n=Pf){const e=zc.get(n);if(!e&&n===Pf&&kv())return la();if(!e)throw qi.create("no-app",{appName:n});return e}function Ar(n,e,t){var i;let o=(i=jS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}Bs(new Ki(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebase-heartbeat-database",qS=1,Cl="firebase-heartbeat-store";let mf=null;function bv(){return mf||(mf=aS(zS,qS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),mf}async function HS(n){try{const t=(await bv()).transaction(Cl),i=await t.objectStore(Cl).get(Ov(n));return await t.done,i}catch(e){if(e instanceof Dr)ii.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function $_(n,e){try{const i=(await bv()).transaction(Cl,"readwrite");await i.objectStore(Cl).put(e,Ov(n)),await i.done}catch(t){if(t instanceof Dr)ii.warn(t.message);else{const i=qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(i.message)}}}function Ov(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1024,KS=30*24*60*60*1e3;class GS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=z_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=KS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z_(),{heartbeatsToSend:i,unsentEntries:o}=QS(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ii.warn(t),""}}}function z_(){return new Date().toISOString().substring(0,10)}function QS(n,e=WS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),q_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),q_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function q_(n){return Bc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){Bs(new Ki("platform-logger",e=>new cS(e),"PRIVATE")),Bs(new Ki("heartbeat",e=>new GS(e),"PRIVATE")),Ar(kf,U_,n),Ar(kf,U_,"esm2017"),Ar("fire-js","")}YS("");var JS="firebase",ZS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(JS,ZS,"app");function cp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eR=Lv,Vv=new Ul("auth","Firebase",Lv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new ap("@firebase/auth");function tR(n,...e){qc.logLevel<=Fe.WARN&&qc.warn(`Auth (${Ks}): ${n}`,...e)}function Pc(n,...e){qc.logLevel<=Fe.ERROR&&qc.error(`Auth (${Ks}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n,...e){throw dp(n,...e)}function or(n,...e){return dp(n,...e)}function hp(n,e,t){const i=Object.assign(Object.assign({},eR()),{[e]:t});return new Ul("auth","Firebase",i).create(e,{appName:n.name})}function ni(n){return hp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&zn(n,"argument-error"),hp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Vv.create(n,...e)}function Se(n,e,...t){if(!n)throw dp(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pc(e),new Error(e)}function si(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rR(){return H_()==="http:"||H_()==="https:"}function H_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rR()||D1()||"connection"in navigator)?navigator.onLine:!0}function sR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=P1()||b1()}get(){return iR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new $l(3e4,6e4);function ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ci(n,e,t,i,o={}){return Fv(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Bl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return N1()||(_.referrerPolicy="no-referrer"),Mv.fetch()(jv(n,n.config.apiHost,t,d),_)})}async function Fv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},oR),e);try{const o=new uR(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw yc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hp(n,w,_);zn(n,w)}}catch(o){if(o instanceof Dr)throw o;zn(n,"network-request-failed",{message:String(o)})}}async function zl(n,e,t,i,o={}){const l=await ci(n,e,t,i,o);return"mfaPendingCredential"in l&&zn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function jv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?fp(n.config,o):`${n.config.apiScheme}://${o}`}function lR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(or(this.auth,"network-request-failed")),aR.get())})}}function yc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=or(n,e,i);return o.customData._tokenResponse=t,o}function W_(n){return n!==void 0&&n.enterprise!==void 0}class cR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hR(n,e){return ci(n,"GET","/v2/recaptchaConfig",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function Uv(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fR(n,e=!1){const t=ot(n),i=await t.getIdToken(e),o=pp(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:vl(gf(o.auth_time)),issuedAtTime:vl(gf(o.iat)),expirationTime:vl(gf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gf(n){return Number(n)*1e3}function pp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rv(t);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function K_(n){const e=pp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Dr&&pR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function pR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Al(n,Uv(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Bv(l.providerUserInfo):[],d=_R(n.providerData,c),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),w=p?_:!1,R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Df(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,R)}async function gR(n){const e=ot(n);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _R(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Bv(n){return n.map(e=>{var{providerId:t}=e,i=cp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e){const t=await Fv(n,{},async()=>{const i=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=jv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Mv.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vR(n,e){return ci(n,"POST","/v2/accounts:revokeToken",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=K_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await yR(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Qo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Df(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Al(this,dR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,_,w;const R=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(_=t.createdAt)!==null&&_!==void 0?_:void 0,z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:G,emailVerified:Q,isAnonymous:ae,providerData:le,stsTokenManager:P}=t;Se(G&&P,e,"internal-error");const C=Qo.fromJSON(this.name,P);Se(typeof G=="string",e,"internal-error"),Vi(R,e.name),Vi(I,e.name),Se(typeof Q=="boolean",e,"internal-error"),Se(typeof ae=="boolean",e,"internal-error"),Vi(N,e.name),Vi(b,e.name),Vi(j,e.name),Vi(D,e.name),Vi(H,e.name),Vi(z,e.name);const A=new Zr({uid:G,auth:e,email:I,emailVerified:Q,displayName:R,isAnonymous:ae,photoURL:b,phoneNumber:N,tenantId:j,stsTokenManager:C,createdAt:H,lastLoginAt:z});return le&&Array.isArray(le)&&(A.providerData=le.map(x=>Object.assign({},x))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new Qo;o.updateFromServerResponse(t);const l=new Zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Bv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Qo;d.updateFromIdToken(i);const p=new Zr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Df(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function ei(n){si(n instanceof Function,"Expected a class definition");let e=G_.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$v.type="NONE";const Q_=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,l),this.fullPersistenceKey=xc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xo(ei(Q_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||ei(Q_);const c=xc(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const w=await _._get(c);if(w){const R=Zr._fromJSON(e,w);_!==l&&(d=R),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Xo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new Xo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gv(e))return"Blackberry";if(Qv(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||Hv(e))&&!e.includes("edge/"))return"Chrome";if(Kv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zv(n=Xt()){return/firefox\//i.test(n)}function qv(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hv(n=Xt()){return/crios\//i.test(n)}function Wv(n=Xt()){return/iemobile/i.test(n)}function Kv(n=Xt()){return/android/i.test(n)}function Gv(n=Xt()){return/blackberry/i.test(n)}function Qv(n=Xt()){return/webos/i.test(n)}function mp(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wR(n=Xt()){var e;return mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ER(){return O1()&&document.documentMode===10}function Xv(n=Xt()){return mp(n)||Kv(n)||Qv(n)||Gv(n)||/windows phone/i.test(n)||Wv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n,e=[]){let t;switch(n){case"Browser":t=X_(Xt());break;case"Worker":t=`${X_(Xt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ks}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(n,e={}){return ci(n,"GET","/v2/passwordPolicy",ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=6;class RR{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:SR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new TR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uv(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(ni(this));const t=e?ot(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IR(this),t=new RR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function es(n){return ot(n)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$1(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(n){lh=n}function Jv(n){return lh.loadJS(n)}function kR(){return lh.recaptchaEnterpriseScript}function PR(){return lh.gapiScript}function xR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NR{constructor(){this.enterprise=new DR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bR="recaptcha-enterprise",Zv="NO_RECAPTCHA";class OR{constructor(e){this.type=bR,this.auth=es(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{hR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new cR(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;W_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{c(_)}).catch(()=>{c(Zv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&W_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kR();p.length!==0&&(p+=d),Jv(p).then(()=>{o(d,l,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function J_(n,e,t,i=!1,o=!1){const l=new OR(n);let c;if(o)c=Zv;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await J_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await J_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){const t=ah(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if($c(l,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function VR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MR(n,e,t){const i=es(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=ew(e),{host:c,port:d}=FR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),jR()}function ew(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FR(n){const e=ew(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Z_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Z_(c)}}}function Z_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function UR(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",ui(n,e))}async function $R(n,e){return ci(n,"POST","/v1/accounts:sendOobCode",ui(n,e))}async function zR(n,e){return $R(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}async function HR(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends gp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new kl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new kl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,t,"signInWithPassword",BR);case"emailLink":return qR(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,i,"signUpPassword",UR);case"emailLink":return HR(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="http://localhost";class $s extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=cp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new $s(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Yo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GR(n){const e=fl(pl(n)).link,t=e?fl(pl(e)).deep_link_id:null,i=fl(pl(n)).deep_link_id;return(i?fl(pl(i)).link:null)||i||t||e||n}class _p{constructor(e){var t,i,o,l,c,d;const p=fl(pl(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,R=KR((o=p.mode)!==null&&o!==void 0?o:null);Se(_&&w&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=GR(e);try{return new _p(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,t){return kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=_p.parseLink(t);return Se(i,"argument-error"),kl._fromEmailAndCode(e,i.code,i.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ql{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Yr.credential(t,i)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ql{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ql{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ui.credential(t,i)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e){return zl(n,"POST","/v1/accounts:signUp",ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Zr._fromIdTokenResponse(e,i,o),c=ey(i);return new zs({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ey(i);return new zs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ey(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Dr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Wc(e,t,i,o)}}function tw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(n,l,e,i):l})}async function XR(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e,t=!1){const{auth:i}=n;if(sr(i.app))return Promise.reject(ni(i));const o="reauthenticate";try{const l=await Al(n,tw(i,o,e,n),t);Se(l.idToken,i,"internal-error");const c=pp(l.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(n.uid===d,i,"user-mismatch"),zs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n,e,t=!1){if(sr(n.app))return Promise.reject(ni(n));const i="signIn",o=await tw(n,i,e),l=await zs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function JR(n,e){return nw(es(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(n){const e=es(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iw(n,e,t){if(sr(n.app))return Promise.reject(ni(n));const i=es(n),c=await bf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&rw(n),p}),d=await zs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function vc(n,e,t){return sr(n.app)?Promise.reject(ni(n)):JR(ot(n),ua.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rw(n),i})}async function sw(n,e){const t=ot(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await zR(t.auth,o);l!==n.email&&await n.reload()}function ZR(n,e,t,i){return ot(n).onIdTokenChanged(e,t,i)}function eC(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function Pl(n){return ot(n).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class aw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);ER()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aw.type="LOCAL";const rC=aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,l)),p=await iC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=vp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(R){const I=R;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function oC(n){kr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function aC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uC(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",cC=1,Gc="firebaseLocalStorage",dw="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ch(n,e){return n.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function hC(){const n=indexedDB.deleteDatabase(hw);return new Hl(n).toPromise()}function Of(){const n=indexedDB.open(hw,cC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gc,{keyPath:dw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gc)?e(i):(i.close(),await hC(),e(await Of()))})})}async function ty(n,e,t){const i=ch(n,!0).put({[dw]:e,value:t});return new Hl(i).toPromise()}async function dC(n,e){const t=ch(n,!1).get(e),i=await new Hl(t).toPromise();return i===void 0?null:i.value}function ny(n,e){const t=ch(n,!0).delete(e);return new Hl(t).toPromise()}const fC=800,pC=3;class fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Of(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>pC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(uC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new sC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Of();return await ty(e,Kc,"1"),await ny(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ty(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>dC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ny(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ch(o,!1).getAll();return new Hl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fw.type="LOCAL";const mC=fw;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n,e){return e?ei(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gC(n){return nw(n.auth,new wp(n),n.bypassAuthState)}function _C(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),YR(t,new wp(n),n.bypassAuthState)}async function yC(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),XR(t,new wp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:zn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new $l(2e3,1e4);async function wC(n,e,t){if(sr(n.app))return Promise.reject(or(n,"operation-not-supported-in-this-environment"));const i=es(n);nR(n,e,yp);const o=pw(i,t);return new Ms(i,"signInViaPopup",e,o).executeNotNull()}class Ms extends mw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="pendingRedirect",Nc=new Map;class TC extends mw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await IC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IC(n,e){const t=CC(e),i=RC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function SC(n,e){Nc.set(n._key(),e)}function RC(n){return ei(n._redirectPersistence)}function CC(n){return xc(EC,n.config.apiKey,n.name)}async function AC(n,e,t=!1){if(sr(n.app))return Promise.reject(ni(n));const i=es(n),o=pw(i,e),c=await new TC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=10*60*1e3;class PC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!gw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(or(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ry(e))}saveEventToCache(e){this.cachedEventUids.add(ry(e)),this.lastProcessedEventTime=Date.now()}}function ry(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function OC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NC(n);for(const t of e)try{if(LC(t))return}catch{}zn(n,"unauthorized-domain")}function LC(n){const e=Nf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!bC.test(t))return!1;if(DC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new $l(3e4,6e4);function iy(){const n=kr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MC(n){return new Promise((e,t)=>{var i,o,l;function c(){iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iy(),t(or(n,"network-request-failed"))},timeout:VC.get()})}if(!((o=(i=kr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=kr().gapi)===null||l===void 0)&&l.load)c();else{const d=xR("iframefcb");return kr()[d]=()=>{gapi.load?c():t(or(n,"network-request-failed"))},Jv(`${PR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function FC(n){return Dc=Dc||MC(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new $l(5e3,15e3),UC="__/auth/iframe",BC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fp(e,BC):`https://${n.config.authDomain}/${UC}`,i={apiKey:e.apiKey,appName:n.name,v:Ks},o=zC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Bl(i).slice(1)}`}async function HC(n){const e=await FC(n),t=kr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:qC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=or(n,"network-request-failed"),d=kr().setTimeout(()=>{l(c)},jC.get());function p(){kr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,GC=600,QC="_blank",XC="http://localhost";class sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YC(n,e,t,i=KC,o=GC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},WC),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Xt().toLowerCase();t&&(d=Hv(_)?QC:t),zv(_)&&(e=e||XC,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[N,b])=>`${I}${N}=${b},`,"");if(wR(_)&&d!=="_self")return JC(e||"",d),new sy(null);const R=window.open(e||"",d,w);Se(R,n,"popup-blocked");try{R.focus()}catch{}return new sy(R)}function JC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__/auth/handler",eA="emulator/auth/handler",tA=encodeURIComponent("fac");async function oy(n,e,t,i,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ks,eventId:o};if(e instanceof yp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",B1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,R]of Object.entries({}))c[w]=R}if(e instanceof ql){const w=e.getScopes().filter(R=>R!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),_=p?`#${tA}=${encodeURIComponent(p)}`:"";return`${nA(n)}?${Bl(d).slice(1)}${_}`}function nA({config:n}){return n.emulator?fp(n,eA):`https://${n.authDomain}/${ZC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class rA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=AC,this._overrideRedirectResult=SC}async _openPopup(e,t,i,o){var l;si((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await oy(e,t,i,Nf(),o);return YC(e,c,vp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await oy(e,t,i,Nf(),o);return oC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(si(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await HC(e),i=new PC(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_f,{type:_f},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[_f];c!==void 0&&t(!!c),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xv()||qv()||mp()}}const iA=rA;var ay="@firebase/auth",ly="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aA(n){Bs(new Ki("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yv(n)},_=new CR(i,o,l,p);return VR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bs(new Ki("auth-internal",e=>{const t=es(e.getProvider("auth").getImmediate());return(i=>new sA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(ay,ly,oA(n)),Ar(ay,ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=5*60,uA=Pv("authIdTokenMaxAge")||lA;let uy=null;const cA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uA)return;const o=t==null?void 0:t.token;uy!==o&&(uy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Gs(n=up()){const e=ah(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LR(n,{popupRedirectResolver:iA,persistence:[mC,rC,uw]}),i=Pv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=cA(l.toString());eC(t,c,()=>c(t.currentUser)),ZR(t,d=>c(d))}}const o=Cv("auth");return o&&MR(t,`http://${o}`),t}function hA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=or("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",hA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aA("Browser");var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,_w;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function A(){}A.prototype=C.prototype,P.D=C.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(x,M,L){for(var T=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)T[oe-2]=arguments[oe];return C.prototype[M].apply(x,T)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,A){A||(A=0);var x=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)x[M]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(M=0;16>M;++M)x[M]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=P.g[0],A=P.g[1],M=P.g[2];var L=P.g[3],T=C+(L^A&(M^L))+x[0]+3614090360&4294967295;C=A+(T<<7&4294967295|T>>>25),T=L+(M^C&(A^M))+x[1]+3905402710&4294967295,L=C+(T<<12&4294967295|T>>>20),T=M+(A^L&(C^A))+x[2]+606105819&4294967295,M=L+(T<<17&4294967295|T>>>15),T=A+(C^M&(L^C))+x[3]+3250441966&4294967295,A=M+(T<<22&4294967295|T>>>10),T=C+(L^A&(M^L))+x[4]+4118548399&4294967295,C=A+(T<<7&4294967295|T>>>25),T=L+(M^C&(A^M))+x[5]+1200080426&4294967295,L=C+(T<<12&4294967295|T>>>20),T=M+(A^L&(C^A))+x[6]+2821735955&4294967295,M=L+(T<<17&4294967295|T>>>15),T=A+(C^M&(L^C))+x[7]+4249261313&4294967295,A=M+(T<<22&4294967295|T>>>10),T=C+(L^A&(M^L))+x[8]+1770035416&4294967295,C=A+(T<<7&4294967295|T>>>25),T=L+(M^C&(A^M))+x[9]+2336552879&4294967295,L=C+(T<<12&4294967295|T>>>20),T=M+(A^L&(C^A))+x[10]+4294925233&4294967295,M=L+(T<<17&4294967295|T>>>15),T=A+(C^M&(L^C))+x[11]+2304563134&4294967295,A=M+(T<<22&4294967295|T>>>10),T=C+(L^A&(M^L))+x[12]+1804603682&4294967295,C=A+(T<<7&4294967295|T>>>25),T=L+(M^C&(A^M))+x[13]+4254626195&4294967295,L=C+(T<<12&4294967295|T>>>20),T=M+(A^L&(C^A))+x[14]+2792965006&4294967295,M=L+(T<<17&4294967295|T>>>15),T=A+(C^M&(L^C))+x[15]+1236535329&4294967295,A=M+(T<<22&4294967295|T>>>10),T=C+(M^L&(A^M))+x[1]+4129170786&4294967295,C=A+(T<<5&4294967295|T>>>27),T=L+(A^M&(C^A))+x[6]+3225465664&4294967295,L=C+(T<<9&4294967295|T>>>23),T=M+(C^A&(L^C))+x[11]+643717713&4294967295,M=L+(T<<14&4294967295|T>>>18),T=A+(L^C&(M^L))+x[0]+3921069994&4294967295,A=M+(T<<20&4294967295|T>>>12),T=C+(M^L&(A^M))+x[5]+3593408605&4294967295,C=A+(T<<5&4294967295|T>>>27),T=L+(A^M&(C^A))+x[10]+38016083&4294967295,L=C+(T<<9&4294967295|T>>>23),T=M+(C^A&(L^C))+x[15]+3634488961&4294967295,M=L+(T<<14&4294967295|T>>>18),T=A+(L^C&(M^L))+x[4]+3889429448&4294967295,A=M+(T<<20&4294967295|T>>>12),T=C+(M^L&(A^M))+x[9]+568446438&4294967295,C=A+(T<<5&4294967295|T>>>27),T=L+(A^M&(C^A))+x[14]+3275163606&4294967295,L=C+(T<<9&4294967295|T>>>23),T=M+(C^A&(L^C))+x[3]+4107603335&4294967295,M=L+(T<<14&4294967295|T>>>18),T=A+(L^C&(M^L))+x[8]+1163531501&4294967295,A=M+(T<<20&4294967295|T>>>12),T=C+(M^L&(A^M))+x[13]+2850285829&4294967295,C=A+(T<<5&4294967295|T>>>27),T=L+(A^M&(C^A))+x[2]+4243563512&4294967295,L=C+(T<<9&4294967295|T>>>23),T=M+(C^A&(L^C))+x[7]+1735328473&4294967295,M=L+(T<<14&4294967295|T>>>18),T=A+(L^C&(M^L))+x[12]+2368359562&4294967295,A=M+(T<<20&4294967295|T>>>12),T=C+(A^M^L)+x[5]+4294588738&4294967295,C=A+(T<<4&4294967295|T>>>28),T=L+(C^A^M)+x[8]+2272392833&4294967295,L=C+(T<<11&4294967295|T>>>21),T=M+(L^C^A)+x[11]+1839030562&4294967295,M=L+(T<<16&4294967295|T>>>16),T=A+(M^L^C)+x[14]+4259657740&4294967295,A=M+(T<<23&4294967295|T>>>9),T=C+(A^M^L)+x[1]+2763975236&4294967295,C=A+(T<<4&4294967295|T>>>28),T=L+(C^A^M)+x[4]+1272893353&4294967295,L=C+(T<<11&4294967295|T>>>21),T=M+(L^C^A)+x[7]+4139469664&4294967295,M=L+(T<<16&4294967295|T>>>16),T=A+(M^L^C)+x[10]+3200236656&4294967295,A=M+(T<<23&4294967295|T>>>9),T=C+(A^M^L)+x[13]+681279174&4294967295,C=A+(T<<4&4294967295|T>>>28),T=L+(C^A^M)+x[0]+3936430074&4294967295,L=C+(T<<11&4294967295|T>>>21),T=M+(L^C^A)+x[3]+3572445317&4294967295,M=L+(T<<16&4294967295|T>>>16),T=A+(M^L^C)+x[6]+76029189&4294967295,A=M+(T<<23&4294967295|T>>>9),T=C+(A^M^L)+x[9]+3654602809&4294967295,C=A+(T<<4&4294967295|T>>>28),T=L+(C^A^M)+x[12]+3873151461&4294967295,L=C+(T<<11&4294967295|T>>>21),T=M+(L^C^A)+x[15]+530742520&4294967295,M=L+(T<<16&4294967295|T>>>16),T=A+(M^L^C)+x[2]+3299628645&4294967295,A=M+(T<<23&4294967295|T>>>9),T=C+(M^(A|~L))+x[0]+4096336452&4294967295,C=A+(T<<6&4294967295|T>>>26),T=L+(A^(C|~M))+x[7]+1126891415&4294967295,L=C+(T<<10&4294967295|T>>>22),T=M+(C^(L|~A))+x[14]+2878612391&4294967295,M=L+(T<<15&4294967295|T>>>17),T=A+(L^(M|~C))+x[5]+4237533241&4294967295,A=M+(T<<21&4294967295|T>>>11),T=C+(M^(A|~L))+x[12]+1700485571&4294967295,C=A+(T<<6&4294967295|T>>>26),T=L+(A^(C|~M))+x[3]+2399980690&4294967295,L=C+(T<<10&4294967295|T>>>22),T=M+(C^(L|~A))+x[10]+4293915773&4294967295,M=L+(T<<15&4294967295|T>>>17),T=A+(L^(M|~C))+x[1]+2240044497&4294967295,A=M+(T<<21&4294967295|T>>>11),T=C+(M^(A|~L))+x[8]+1873313359&4294967295,C=A+(T<<6&4294967295|T>>>26),T=L+(A^(C|~M))+x[15]+4264355552&4294967295,L=C+(T<<10&4294967295|T>>>22),T=M+(C^(L|~A))+x[6]+2734768916&4294967295,M=L+(T<<15&4294967295|T>>>17),T=A+(L^(M|~C))+x[13]+1309151649&4294967295,A=M+(T<<21&4294967295|T>>>11),T=C+(M^(A|~L))+x[4]+4149444226&4294967295,C=A+(T<<6&4294967295|T>>>26),T=L+(A^(C|~M))+x[11]+3174756917&4294967295,L=C+(T<<10&4294967295|T>>>22),T=M+(C^(L|~A))+x[2]+718787259&4294967295,M=L+(T<<15&4294967295|T>>>17),T=A+(L^(M|~C))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var A=C-this.blockSize,x=this.B,M=this.h,L=0;L<C;){if(M==0)for(;L<=A;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<C;)if(x[M++]=P.charCodeAt(L++),M==this.blockSize){o(this,x),M=0;break}}else for(;L<C;)if(x[M++]=P[L++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var A=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=A&255,A/=256;for(this.u(P),P=Array(16),C=A=0;4>C;++C)for(var x=0;32>x;x+=8)P[A++]=this.g[C]>>>x&255;return P};function l(P,C){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=C(P)}function c(P,C){this.h=C;for(var A=[],x=!0,M=P.length-1;0<=M;M--){var L=P[M]|0;x&&L==C||(A[M]=L,x=!1)}this.g=A}var d={};function p(P){return-128<=P&&128>P?l(P,function(C){return new c([C|0],0>C?-1:0)}):new c([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return R;if(0>P)return D(_(-P));for(var C=[],A=1,x=0;P>=A;x++)C[x]=P/A|0,A*=4294967296;return new c(C,0)}function w(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return D(w(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(C,8)),x=R,M=0;M<P.length;M+=8){var L=Math.min(8,P.length-M),T=parseInt(P.substring(M,M+L),C);8>L?(L=_(Math.pow(C,L)),x=x.j(L).add(_(T))):(x=x.j(A),x=x.add(_(T)))}return x}var R=p(0),I=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-D(this).m();for(var P=0,C=1,A=0;A<this.g.length;A++){var x=this.i(A);P+=(0<=x?x:4294967296+x)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(j(this))return"-"+D(this).toString(P);for(var C=_(Math.pow(P,6)),A=this,x="";;){var M=Q(A,C).g;A=H(A,M.j(C));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=M,b(A))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=H(this,P),j(P)?-1:b(P)?0:1};function D(P){for(var C=P.g.length,A=[],x=0;x<C;x++)A[x]=~P.g[x];return new c(A,~P.h).add(I)}n.abs=function(){return j(this)?D(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],x=0,M=0;M<=C;M++){var L=x+(this.i(M)&65535)+(P.i(M)&65535),T=(L>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);x=T>>>16,L&=65535,T&=65535,A[M]=T<<16|L}return new c(A,A[A.length-1]&-2147483648?-1:0)};function H(P,C){return P.add(D(C))}n.j=function(P){if(b(this)||b(P))return R;if(j(this))return j(P)?D(this).j(D(P)):D(D(this).j(P));if(j(P))return D(this.j(D(P)));if(0>this.l(N)&&0>P.l(N))return _(this.m()*P.m());for(var C=this.g.length+P.g.length,A=[],x=0;x<2*C;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<P.g.length;M++){var L=this.i(x)>>>16,T=this.i(x)&65535,oe=P.i(M)>>>16,Me=P.i(M)&65535;A[2*x+2*M]+=T*Me,z(A,2*x+2*M),A[2*x+2*M+1]+=L*Me,z(A,2*x+2*M+1),A[2*x+2*M+1]+=T*oe,z(A,2*x+2*M+1),A[2*x+2*M+2]+=L*oe,z(A,2*x+2*M+2)}for(x=0;x<C;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=C;x<2*C;x++)A[x]=0;return new c(A,0)};function z(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function G(P,C){this.g=P,this.h=C}function Q(P,C){if(b(C))throw Error("division by zero");if(b(P))return new G(R,R);if(j(P))return C=Q(D(P),C),new G(D(C.g),D(C.h));if(j(C))return C=Q(P,D(C)),new G(D(C.g),C.h);if(30<P.g.length){if(j(P)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var A=I,x=C;0>=x.l(P);)A=ae(A),x=ae(x);var M=le(A,1),L=le(x,1);for(x=le(x,2),A=le(A,2);!b(x);){var T=L.add(x);0>=T.l(P)&&(M=M.add(A),L=T),x=le(x,1),A=le(A,1)}return C=H(P,M.j(C)),new G(M,C)}for(M=R;0<=P.l(C);){for(A=Math.max(1,Math.floor(P.m()/C.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=_(A),T=L.j(C);j(T)||0<T.l(P);)A-=x,L=_(A),T=L.j(C);b(L)&&(L=I),M=M.add(L),P=H(P,T)}return new G(M,P)}n.A=function(P){return Q(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)&P.i(x);return new c(A,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)|P.i(x);return new c(A,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)^P.i(x);return new c(A,this.h^P.h)};function ae(P){for(var C=P.g.length+1,A=[],x=0;x<C;x++)A[x]=P.i(x)<<1|P.i(x-1)>>>31;return new c(A,P.h)}function le(P,C){var A=C>>5;C%=32;for(var x=P.g.length-A,M=[],L=0;L<x;L++)M[L]=0<C?P.i(L+A)>>>C|P.i(L+A+1)<<32-C:P.i(L+A);return new c(M,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_w=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=w,js=c}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,ml,vw,bc,Lf,ww,Ew,Tw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in y))break e;y=y[B]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,S=!1,B={next:function(){if(!S&&y<u.length){var K=y++;return{value:m(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function I(u,m,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,I.apply(null,arguments)}function N(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,B,K){for(var se=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)se[Qe-2]=arguments[Qe];return m.prototype[B].apply(S,se)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function D(u,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(p(S)){const B=u.length||0,K=S.length||0;u.length=B+K;for(let se=0;se<K;se++)u[B+se]=S[se]}else u.push(S)}}class H{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Q(u){return Q[" "](u),u}Q[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function P(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function C(u){const m={};for(const y in u)m[y]=u[y];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(y in S)u[y]=S[y];for(let K=0;K<A.length;K++)y=A[K],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function L(u){d.setTimeout(()=>{throw u},0)}function T(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,y){const S=Me.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Me=new H(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ie=!1,me=new oe,ue=()=>{const u=d.Promise.resolve(void 0);be=()=>{u.then(U)}};var U=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(y){L(y)}var m=Me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function De(u,m){if(ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ae){e:{try{Q(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}b(De,ve);var Ve={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ce(u,m,y,S,B){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=B,this.key=++ne,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,y,S,B){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var se=ft(u,m,S,B);return-1<se?(m=u[se],y||(m.fa=!1)):(m=new ce(m,this.src,K,!!S,B),m.fa=y,u.push(m)),m};function vn(u,m){var y=m.type;if(y in u.g){var S=u.g[y],B=Array.prototype.indexOf.call(S,m,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Ae(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ft(u,m,y,S){for(var B=0;B<u.length;++B){var K=u[B];if(!K.da&&K.listener==m&&K.capture==!!y&&K.ha==S)return B}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),br={};function rs(u,m,y,S,B){if(Array.isArray(m)){for(var K=0;K<m.length;K++)rs(u,m[K],y,S,B);return null}return y=_a(y),u&&u[$e]?u.K(m,y,_(S)?!!S.capture:!!S,B):is(u,m,y,!1,S,B)}function is(u,m,y,S,B,K){if(!m)throw Error("Invalid event type");var se=_(B)?!!B.capture:!!B,Qe=Js(u);if(Qe||(u[rn]=Qe=new Ye(u)),y=Qe.add(m,y,S,se,K),y.proxy)return y;if(S=eu(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)Ne||(B=se),B===void 0&&(B=!1),u.addEventListener(m.toString(),S,B);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function eu(){function u(y){return m.call(u.src,u.listener,y)}const m=ga;return u}function Ys(u,m,y,S,B){if(Array.isArray(m))for(var K=0;K<m.length;K++)Ys(u,m[K],y,S,B);else S=_(S)?!!S.capture:!!S,y=_a(y),u&&u[$e]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],y=ft(K,y,S,B),-1<y&&(Ae(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ft(m,y,S,B)),(y=-1<u?m[u]:null)&&Or(y))}function Or(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[$e])vn(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Lr(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=Js(m))?(vn(y,u),y.h==0&&(y.src=null,m[rn]=null)):Ae(u)}}}function Lr(u){return u in br?br[u]:br[u]="on"+u}function ga(u,m){if(u.da)u=!0;else{m=new De(m,this);var y=u.listener,S=u.ha||u.src;u.fa&&Or(u),u=y.call(S,m)}return u}function Js(u){return u=u[rn],u instanceof Ye?u:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(u){return typeof u=="function"?u:(u[Zs]||(u[Zs]=function(m){return u.handleEvent(m)}),u[Zs])}function Tt(){X.call(this),this.i=new Ye(this),this.M=this,this.F=null}b(Tt,X),Tt.prototype[$e]=!0,Tt.prototype.removeEventListener=function(u,m,y,S){Ys(this,u,m,y,S)};function It(u,m){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new ve(m,u);else if(m instanceof ve)m.target=m.target||u;else{var B=m;m=new ve(S,u),x(m,B)}if(B=!0,y)for(var K=y.length-1;0<=K;K--){var se=m.g=y[K];B=Vr(se,S,!0,m)&&B}if(se=m.g=u,B=Vr(se,S,!0,m)&&B,B=Vr(se,S,!1,m)&&B,y)for(K=0;K<y.length;K++)se=m.g=y[K],B=Vr(se,S,!1,m)&&B}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],S=0;S<y.length;S++)Ae(y[S]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},Tt.prototype.L=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function Vr(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,K=0;K<m.length;++K){var se=m[K];if(se&&!se.da&&se.capture==y){var Qe=se.listener,St=se.ha||se.src;se.fa&&vn(u.i,se),B=Qe.call(St,S)!==!1&&B}}return B&&!S.defaultPrevented}function ya(u,m,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function di(u){u.g=ya(()=>{u.g=null,u.i&&(u.i=!1,di(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ss extends X{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(u){X.call(this),this.h=u,this.g={}}b(os,X);var va=[];function wa(u){le(u.g,function(m,y){this.g.hasOwnProperty(y)&&Or(m)},u),u.g={}}os.prototype.N=function(){os.aa.N.call(this),wa(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=d.JSON.stringify,Ta=d.JSON.parse,Ia=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function as(){}as.prototype.h=null;function eo(u){return u.h||(u.h=u.i())}function to(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ve.call(this,"d")}b(dr,ve);function no(){ve.call(this,"c")}b(no,ve);var fr={},Sa=null;function ls(){return Sa=Sa||new Tt}fr.La="serverreachability";function Ra(u){ve.call(this,fr.La,u)}b(Ra,ve);function Mr(u){const m=ls();It(m,new Ra(m))}fr.STAT_EVENT="statevent";function Ca(u,m){ve.call(this,fr.STAT_EVENT,u),this.stat=m}b(Ca,ve);function pt(u){const m=ls();It(m,new Ca(m,u))}fr.Ma="timingevent";function ro(u,m){ve.call(this,fr.Ma,u),this.size=m}b(ro,ve);function qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function cs(u,m,y,S,B,K){u.info(function(){if(u.g)if(K)for(var se="",Qe=K.split("&"),St=0;St<Qe.length;St++){var ze=Qe[St].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var _t=Pt.split("_");se=2<=_t.length&&_t[1]=="type"?se+(Pt+"="+ze+"&"):se+(Pt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+m+`
`+y+`
`+se})}function io(u,m,y,S,B,K,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+m+`
`+y+`
`+K+" "+se})}function Hn(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,y)+(S?" "+S:"")})}function Aa(u,m){u.info(function(){return"TIMEOUT: "+m})}us.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Ea(y)}catch{return m}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function hs(){}b(hs,as),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Wn=new hs;function Kn(u,m,y,S){this.j=u,this.i=m,this.l=y,this.R=S||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var ka={},oo={};function ao(u,m,y){u.L=1,u.v=_i(En(m)),u.m=y,u.P=!0,Pa(u,null)}function Pa(u,m){u.F=Date.now(),Je(u),u.A=En(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),vi(y.i,"t",S),u.C=0,y=u.j.J,u.h=new nu,u.g=wu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new ss(I(u.Y,u,u.g),u.O)),m=u.U,y=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(va[0]=B.toString()),B=va);for(var K=0;K<B.length;K++){var se=rs(y,B[K],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mr(),cs(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&on(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const _t=on(this.g);var m=this.g.Ba();const bn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||_t!=4||m==7||(m==8||0>=bn?Mr(3):Mr(2)),ds(this);var y=this.g.Z();this.X=y;t:if(ru(this)){var S=La(this.g);u="";var B=S.length,K=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),fi(this);var se="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(K&&m==B-1)});S.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,io(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,St=this.g;if((Qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Qe)){var ze=Qe;break t}}ze=null}if(y=ze)Hn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,y);else{this.o=!1,this.s=3,pt(12),Nn(this),fi(this);break e}}if(this.P){y=!0;let In;for(;!this.J&&this.C<se.length;)if(In=Dh(this,se),In==oo){_t==4&&(this.s=4,pt(14),y=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==ka){this.s=4,pt(15),Hn(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else Hn(this.i,this.l,In,null),xa(this,In);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||se.length!=0||this.h.h||(this.s=1,pt(16),y=!1),this.o=this.o&&y,!y)Hn(this.i,this.l,se,"[Invalid Chunked Response]"),Nn(this),fi(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ma(Pt),Pt.M=!0,pt(11))}}else Hn(this.i,this.l,se,null),xa(this,se);_t==4&&Nn(this),this.o&&!this.J&&(_t==4?vo(this.j,this):(this.o=!1,Je(this)))}else po(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Nn(this),fi(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Dh(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?oo:(y=Number(m.substring(y,S)),isNaN(y)?ka:(S+=1,S+y>m.length?oo:(m=m.slice(S,S+y),u.C=S+y,m)))}Kn.prototype.cancel=function(){this.J=!0,Nn(this)};function Je(u){u.S=Date.now()+u.I,iu(u,u.I)}function iu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qn(I(u.ba,u),m)}function ds(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Aa(this.i,this.A),this.L!=2&&(Mr(),pt(17)),Nn(this),this.s=2,fi(this)):iu(this,this.S-u)};function fi(u){u.j.G==0||u.J||vo(u.j,u)}function Nn(u){ds(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,wa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function xa(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Yt(y.h,u))){if(!u.K&&Yt(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)yo(y),Jn(y);else break e;_o(y),pt(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=qn(I(y.Za,y),6e3));if(1>=ou(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else $r(y,11)}else if((u.K||y.g==u)&&yo(y),!z(m))for(B=y.Da.g.parse(m),m=0;m<B.length;m++){let ze=B[m];if(y.T=ze[0],ze=ze[1],y.G==2)if(ze[0]=="c"){y.K=ze[1],y.ia=ze[2];const Pt=ze[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const _t=ze[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const bn=ze[5];bn!=null&&typeof bn=="number"&&0<bn&&(S=1.5*bn,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const In=u.g;if(In){const vs=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var K=S.h;K.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Na(K,K.h),K.h=null))}if(S.D){const Eo=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(S.ya=Eo,Xe(S.I,S.D,Eo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var se=u;if(S.qa=vu(S,S.J?S.ia:null,S.W),se.K){au(S.h,se);var Qe=se,St=S.L;St&&(Qe.I=St),Qe.B&&(ds(Qe),Je(Qe)),S.g=se}else ys(S);0<y.i.length&&_r(y)}else ze[0]!="stop"&&ze[0]!="close"||$r(y,7);else y.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?$r(y,7):Lt(y):ze[0]!="noop"&&y.l&&y.l.ta(ze),y.v=0)}}Mr(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function fs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ou(u){return u.h?1:u.g?u.g.size:0}function Yt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Na(u,m){u.g?u.g.add(m):u.h=m}function au(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fs.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function lo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,S=0;S<y;S++)m.push(u[S]);return m}m=[],y=0;for(S in u)m[y++]=u[S];return m}function uo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const S in u)m[y++]=S;return m}}}function pi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=uo(u),S=lo(u),B=S.length,K=0;K<B;K++)m.call(void 0,S[K],y&&y[K],u)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),B=null;if(0<=S){var K=u[y].substring(0,S);B=u[y].substring(S+1)}else K=u[y];m(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fr){this.h=u.h,ms(this,u.j),this.o=u.o,this.g=u.g,mi(this,u.s),this.l=u.l;var m=u.i,y=new pr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),gi(this,y),this.m=u.m}else u&&(m=String(u).match(ps))?(this.h=!1,ms(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),mi(this,m[4]),this.l=Ue(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yi(m,co,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yi(m,co,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(yi(y,y.charAt(0)=="/"?hu:cu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",yi(y,Da)),u.join("")};function En(u){return new Fr(u)}function ms(u,m,y){u.j=y?Ue(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function mi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,y){m instanceof pr?(u.i=m,mr(u.i,u.h)):(y||(m=yi(m,du)),u.i=new pr(m,u.h))}function Xe(u,m,y){u.i.set(m,y)}function _i(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,uu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,cu=/[#\?:]/g,hu=/[#\?]/g,du=/[#\?@]/g,Da=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&bh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=pr.prototype,n.add=function(u,m){Ot(this),this.i=null,u=Dn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Gn(u,m){Ot(u),m=Dn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qn(u,m){return Ot(u),m=Dn(u,m),u.g.has(m)}n.forEach=function(u,m){Ot(this),this.g.forEach(function(y,S){y.forEach(function(B){u.call(m,B,S,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const B=u[S];for(let K=0;K<B.length;K++)y.push(m[S])}return y},n.V=function(u){Ot(this);let m=[];if(typeof u=="string")Qn(this,u)&&(m=m.concat(this.g.get(Dn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return Ot(this),this.i=null,u=Dn(this,u),Qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vi(u,m,y){Gn(u,m),0<y.length&&(u.i=null,u.g.set(Dn(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const K=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=K;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),u.push(B)}}return this.i=u.join("&")};function Dn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function mr(u,m){m&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(y,S){var B=S.toLowerCase();S!=B&&(Gn(this,S),vi(this,B,y))},u)),u.j=m}function Oh(u,m){const y=new us;if(d.Image){const S=new Image;S.onload=N(sn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=N(sn,y,"TestLoadImage: error",!1,m,S),S.onabort=N(sn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=N(sn,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function fu(u,m){const y=new us,S=new AbortController,B=setTimeout(()=>{S.abort(),sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?sn(y,"TestPingServer: ok",!0,m):sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),sn(y,"TestPingServer: error",!1,m)})}function sn(u,m,y,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(y)}catch{}}function Lh(){this.g=new Ia}function pu(u,m,y){const S=y||"";try{pi(u,function(B,K){let se=B;_(B)&&(se=Ea(B)),m.push(S+K+"="+encodeURIComponent(se))})}catch(B){throw m.push(S+"type="+encodeURIComponent("_badmap")),B}}function jr(u){this.l=u.Ub||null,this.j=u.eb||!1}b(jr,as),jr.prototype.g=function(){return new gs(this.l,this.j)},jr.prototype.i=function(u){return function(){return u}}({});function gs(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(gs,Tt),n=gs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):Yn(this),this.readyState==3&&mu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},n.Qa=function(u){this.g&&(this.response=u,Xn(this))},n.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ur(u){let m="";return le(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function wi(u,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=Ur(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Xe(u,m,y))}function rt(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(rt,Tt);var Vh=/^https?$/i,ba=["POST","PUT"];n=rt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?eo(this.o):eo(Wn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){_s(this,K);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)y.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())y.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ba,m,void 0))||S||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of y)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){_s(this,K)}};function _s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ho(u),Tn(u)}function ho(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},n.bb=function(){Oa(this)};function Oa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||on(u)!=4||u.Z()!=2)){if(u.u&&on(u)==4)ya(u.Ea,0,u);else if(It(u,"readystatechange"),on(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=se===0){var B=String(u.D).match(ps)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!Vh.test(B?B.toLowerCase():"")}y=S}if(y)It(u,"complete"),It(u,"success");else{u.m=6;try{var K=2<on(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",ho(u)}}finally{Tn(u)}}}}function Tn(u,m){if(u.g){fo(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||It(u,"ready");try{y.onreadystatechange=S}catch{}}}function fo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function on(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ta(m)}};function La(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function po(u){const m={};u=(u.g&&2<=on(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(z(u[S]))continue;var y=M(u[S]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=m[B]||[];m[B]=K,K.push(y)}P(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Va(u){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,u),this.cb=gr("retryDelaySeedMs",1e4,u),this.Wa=gr("forwardChannelMaxRetries",2,u),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fs(u&&u.concurrentRequestLimit),this.Da=new Lh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,S){pt(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=vu(this,null,this.W),_r(this)};function Lt(u){if(mo(u),u.G==3){var m=u.U++,y=En(u.I);if(Xe(y,"SID",u.K),Xe(y,"RID",m),Xe(y,"TYPE","terminate"),Br(u,y),m=new Kn(u,u.j,m),m.L=2,m.v=_i(En(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=wu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}yu(u)}function Jn(u){u.g&&(Ma(u),u.g.cancel(),u.g=null)}function mo(u){Jn(u),u.u&&(d.clearTimeout(u.u),u.u=null),yo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function _r(u){if(!wn(u.h)&&!u.s){u.s=!0;var m=u.Ga;be||ue(),ie||(be(),ie=!0),me.add(m,u),u.B=0}}function Mh(u,m){return ou(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qn(I(u.Ga,u,m),_u(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Kn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=C(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Ei(this,B,m),y=En(this.I),Xe(y,"RID",u),Xe(y,"CVER",22),this.D&&Xe(y,"X-HTTP-Session-Id",this.D),Br(this,y),K&&(this.O?m="headers="+encodeURIComponent(String(Ur(K)))+"&"+m:this.m&&wi(y,this.m,K)),Na(this.h,B),this.Ua&&Xe(y,"TYPE","init"),this.P?(Xe(y,"$req",m),Xe(y,"SID","null"),B.T=!0,ao(B,y,null)):ao(B,y,m),this.G=2}}else this.G==3&&(u?go(this,u):this.i.length==0||wn(this.h)||go(this))};function go(u,m){var y;m?y=m.l:y=u.U++;const S=En(u.I);Xe(S,"SID",u.K),Xe(S,"RID",y),Xe(S,"AID",u.T),Br(u,S),u.m&&u.o&&wi(S,u.m,u.o),y=new Kn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ei(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,y),ao(y,S,m)}function Br(u,m){u.H&&le(u.H,function(y,S){Xe(m,S,y)}),u.l&&pi({},function(y,S){Xe(m,S,y)})}function Ei(u,m,y){y=Math.min(u.i.length,y);var S=u.l?I(u.l.Na,u.l,u):null;e:{var B=u.i;let K=-1;for(;;){const se=["count="+y];K==-1?0<y?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Qe=!0;for(let St=0;St<y;St++){let ze=B[St].g;const Pt=B[St].map;if(ze-=K,0>ze)K=Math.max(0,B[St].g-100),Qe=!1;else try{pu(Pt,se,"req"+ze+"_")}catch{S&&S(Pt)}}if(Qe){S=se.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,S}function ys(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;be||ue(),ie||(be(),ie=!0),me.add(m,u),u.v=0}}function _o(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qn(I(u.Fa,u),_u(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Jn(this),gu(this))};function Ma(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function gu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=En(u.qa);Xe(m,"RID","rpc"),Xe(m,"SID",u.K),Xe(m,"AID",u.T),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(m,"TO",u.ja),Xe(m,"TYPE","xmlhttp"),Br(u,m),u.m&&u.o&&wi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=_i(En(m)),y.m=null,y.P=!0,Pa(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),_o(this),pt(19))};function yo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vo(u,m){var y=null;if(u.g==m){yo(u),Ma(u),u.g=null;var S=2}else if(Yt(u.h,m))y=m.D,au(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;S=ls(),It(S,new ro(S,y)),_r(u)}else ys(u);else if(B=m.s,B==3||B==0&&0<m.X||!(S==1&&Mh(u,m)||S==2&&_o(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),B){case 1:$r(u,5);break;case 4:$r(u,10);break;case 3:$r(u,6);break;default:$r(u,2)}}}function _u(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function $r(u,m){if(u.j.info("Error code "+m),m==2){var y=I(u.fb,u),S=u.Xa;const B=!S;S=new Fr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ms(S,"https"),_i(S),B?Oh(S.toString(),y):fu(S.toString(),y)}else pt(2);u.G=0,u.l&&u.l.sa(m),yu(u),mo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=lu(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function vu(u,m,y){var S=y instanceof Fr?En(y):new Fr(y);if(S.g!="")m&&(S.g=m+"."+S.g),mi(S,S.s);else{var B=d.location;S=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var K=new Fr(null);S&&ms(K,S),m&&(K.g=m),B&&mi(K,B),y&&(K.l=y),S=K}return y=u.D,m=u.ya,y&&m&&Xe(S,y,m),Xe(S,"VER",u.la),Br(u,S),S}function wu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new jr({eb:y})):new rt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(u,m){return new Jt(u,m)};function Jt(u,m){Tt.call(this),this.g=new Va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new yr(this)}b(Jt,Tt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Lt(this.g)},Jt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ea(u),u=y);m.i.push(new su(m.Ya++,u)),m.G==3&&_r(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Jt.aa.N.call(this)};function Eu(u){dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,dr);function Tu(){no.call(this),this.status=1}b(Tu,no);function yr(u){this.g=u}b(yr,Fa),yr.prototype.ua=function(){It(this.g,"a")},yr.prototype.ta=function(u){It(this.g,new Eu(u))},yr.prototype.sa=function(u){It(this.g,new Tu)},yr.prototype.ra=function(){It(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Tw=function(){return new wo},Ew=function(){return ls()},ww=fr,Lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,bc=so,tu.COMPLETE="complete",vw=tu,to.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,ml=to,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,yw=rt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const hy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new ap("@firebase/firestore");function zo(){return qs.logLevel}function de(n,...e){if(qs.logLevel<=Fe.DEBUG){const t=e.map(Ep);qs.debug(`Firestore (${ca}): ${n}`,...t)}}function oi(n,...e){if(qs.logLevel<=Fe.ERROR){const t=e.map(Ep);qs.error(`Firestore (${ca}): ${n}`,...t)}}function Zo(n,...e){if(qs.logLevel<=Fe.WARN){const t=e.map(Ep);qs.warn(`Firestore (${ca}): ${n}`,...t)}}function Ep(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function Ge(n,e){n||Ce()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ri)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new Iw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Gt(e)}}class mA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _A{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new _A(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=vA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function ea(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new At(0,0))}static max(){return new ke(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nt extends xl{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends xl{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(nt.fromString(e))}static fromName(e){return new we(nt.fromString(e).popFirst(5))}static empty(){return new we(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new nt(e.slice()))}}function EA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new Gi(o,we.empty(),e)}function TA(n){return new Gi(n.readTime,n.key,-1)}class Gi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Gi(ke.min(),we.empty(),-1)}static max(){return new Gi(ke.max(),we.empty(),-1)}}function IA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==SA)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,i)=>{t(e)})}static reject(e){return new Y((t,i)=>{i(e)})}static waitFor(e){return new Y((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next(o=>o?Y.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Y((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(w=>{c[_]=w,++d,d===l&&i(c)},w=>o(w))}})}static doWhile(e,t){return new Y((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function CA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hh.oe=-1;function dh(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function AA(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dy(e)),e=PA(n.get(t),e);return dy(e)}function PA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function dy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new kt(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Cw("Invalid base64 string: "+l):l}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=xA.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function fh(n){const e=n.mapValue.fields.__previous_value__;return Tp(e)?fh(e):e}function Nl(n){const e=Qi(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,i,o,l,c,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class Dl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tp(n)?4:bA(n)?9007199254740991:DA(n)?10:11:Ce()}function Nr(n,e){if(n===e)return!0;const t=Yi(n);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Qi(o.timestampValue),d=Qi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Xi(o.bytesValue).isEqual(Xi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=gt(o.doubleValue),d=gt(l.doubleValue);return c===d?Qc(c)===Qc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(fy(c)!==fy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Nr(c[p],d[p])))return!1;return!0}(n,e);default:return Ce()}}function bl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=Yi(n),i=Yi(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=gt(l.integerValue||l.doubleValue),p=gt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return my(n.timestampValue,e.timestampValue);case 4:return my(Nl(n),Nl(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Xi(l),p=Xi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const w=Be(d[_],p[_]);if(w!==0)return w}return Be(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Be(gt(l.latitude),gt(c.latitude));return d!==0?d:Be(gt(l.longitude),gt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,w;const R=l.fields||{},I=c.fields||{},N=(d=R.value)===null||d===void 0?void 0:d.arrayValue,b=(p=I.value)===null||p===void 0?void 0:p.arrayValue,j=Be(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((w=b==null?void 0:b.values)===null||w===void 0?void 0:w.length)||0);return j!==0?j:gy(N,b)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Tc.mapValue&&c===Tc.mapValue)return 0;if(l===Tc.mapValue)return 1;if(c===Tc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let R=0;R<p.length&&R<w.length;++R){const I=Be(p[R],w[R]);if(I!==0)return I;const N=ta(d[p[R]],_[w[R]]);if(N!==0)return N}return Be(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function my(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Qi(n),i=Qi(e),o=Be(t.seconds,i.seconds);return o!==0?o:Be(t.nanos,i.nanos)}function gy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ta(t[o],i[o]);if(l)return l}return Be(t.length,i.length)}function na(n){return Vf(n)}function Vf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Qi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Vf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Vf(t.fields[c])}`;return o+"}"}(n.mapValue):Ce()}function Oc(n){switch(Yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(n);return e?16+Oc(e):16;case 5:return 2*n.stringValue.length;case 6:return Xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Oc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ts(i.fields,(l,c)=>{o+=l.length+Oc(c)}),o}(n.mapValue);default:throw Ce()}}function _y(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mf(n){return!!n&&"integerValue"in n}function Ip(n){return!!n&&"arrayValue"in n}function yy(n){return!!n&&"nullValue"in n}function vy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lc(n){return!!n&&"mapValue"in n}function DA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=wl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=wl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ts(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new _n(wl(this.value))}}function Aw(n){const e=[];return ts(n.fields,(t,i)=>{const o=new Ut([t]);if(Lc(i)){const l=Aw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,ke.min(),ke.min(),ke.min(),_n.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,ke.min(),ke.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,ke.min(),ke.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.position=e,this.inclusive=t}}function wy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=ta(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ey(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function OA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class wt extends kw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VA(e,t,i):t==="array-contains"?new jA(e,i):t==="in"?new UA(e,i):t==="not-in"?new BA(e,i):t==="array-contains-any"?new $A(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MA(e,i):new FA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ta(t,this.value)):t!==null&&Yi(this.value)===Yi(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends kw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lr(e,t)}matches(e){return Pw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pw(n){return n.op==="and"}function xw(n){return LA(n)&&Pw(n)}function LA(n){for(const e of n.filters)if(e instanceof lr)return!1;return!0}function Ff(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+na(n.value);if(xw(n))return n.filters.map(e=>Ff(e)).join(",");{const e=n.filters.map(t=>Ff(t)).join(",");return`${n.op}(${e})`}}function Nw(n,e){return n instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&Nr(i.value,o.value)}(n,e):n instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Nw(c,o.filters[d]),!0):!1}(n,e):void Ce()}function Dw(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(Dw).join(" ,")+"}"}(n):"Filter"}class VA extends wt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class MA extends wt{constructor(e,t){super(e,"in",t),this.keys=bw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FA extends wt{constructor(e,t){super(e,"not-in",t),this.keys=bw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class jA extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ip(t)&&bl(t.arrayValue,this.value)}}class UA extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bl(this.value.arrayValue,t)}}class BA extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bl(this.value.arrayValue,t)}}class $A extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Ty(n,e=null,t=[],i=[],o=null,l=null,c=null){return new zA(n,e,t,i,o,l,c)}function Sp(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ff(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>na(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>na(i)).join(",")),e.ue=t}return e.ue}function Rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ey(n.startAt,e.startAt)&&Ey(n.endAt,e.endAt)}function jf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qA(n,e,t,i,o,l,c,d){return new Wl(n,e,t,i,o,l,c,d)}function Cp(n){return new Wl(n)}function Iy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ow(n){return n.collectionGroup!==null}function El(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new kt(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Yc(l,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new Yc(Ut.keyField(),i))}return e.ce}function Pr(n){const e=Pe(n);return e.le||(e.le=HA(e,El(n))),e.le}function HA(n,e){if(n.limitType==="F")return Ty(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Yc(o.field,l)});const t=n.endAt?new Xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xc(n.startAt.position,n.startAt.inclusive):null;return Ty(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Uf(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bf(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ph(n,e){return Rp(Pr(n),Pr(e))&&n.limitType===e.limitType}function Lw(n){return`${Sp(Pr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Dw(o)).join(", ")}]`),dh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${i})`}(Pr(n))}; limitType=${n.limitType})`}function mh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of El(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=wy(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,El(i),o)||i.endAt&&!function(c,d,p){const _=wy(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,El(i),o))}(n,e)}function WA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(e,t)=>{let i=!1;for(const o of El(n)){const l=KA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function KA(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?ta(p,_):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new ut(we.comparator);function ai(){return GA}const Mw=new ut(we.comparator);function gl(...n){let e=Mw;for(const t of n)e=e.insert(t.key,t);return e}function Fw(n){let e=Mw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Fs(){return Tl()}function jw(){return Tl()}function Tl(){return new Qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const QA=new ut(we.comparator),XA=new kt(we.comparator);function je(...n){let e=XA;for(const t of n)e=e.add(t);return e}const YA=new kt(Be);function JA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function Uw(n){return{integerValue:""+n}}function ZA(n,e){return AA(e)?Uw(e):Ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function ek(n,e,t){return n instanceof Ol?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Tp(l)&&(l=fh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Ll?$w(n,e):n instanceof Vl?zw(n,e):function(o,l){const c=Bw(o,l),d=Sy(c)+Sy(o.Pe);return Mf(c)&&Mf(o.Pe)?Uw(d):Ap(o.serializer,d)}(n,e)}function tk(n,e,t){return n instanceof Ll?$w(n,e):n instanceof Vl?zw(n,e):t}function Bw(n,e){return n instanceof Jc?function(i){return Mf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ol extends gh{}class Ll extends gh{constructor(e){super(),this.elements=e}}function $w(n,e){const t=qw(e);for(const i of n.elements)t.some(o=>Nr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Vl extends gh{constructor(e){super(),this.elements=e}}function zw(n,e){let t=qw(e);for(const i of n.elements)t=t.filter(o=>!Nr(o,i));return{arrayValue:{values:t}}}class Jc extends gh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Sy(n){return gt(n.integerValue||n.doubleValue)}function qw(n){return Ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.field=e,this.transform=t}}function rk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ll&&o instanceof Ll||i instanceof Vl&&o instanceof Vl?ea(i.elements,o.elements,Nr):i instanceof Jc&&o instanceof Jc?Nr(i.Pe,o.Pe):i instanceof Ol&&o instanceof Ol}(n.transform,e.transform)}class ik{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _h{}function Hw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kp(n.key,ar.none()):new Kl(n.key,n.data,ar.none());{const t=n.data,i=_n.empty();let o=new kt(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ns(n.key,i,new Pn(o.toArray()),ar.none())}}function sk(n,e,t){n instanceof Kl?function(o,l,c){const d=o.value.clone(),p=Cy(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ns?function(o,l,c){if(!Vc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Cy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Ww(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Il(n,e,t,i){return n instanceof Kl?function(l,c,d,p){if(!Vc(l.precondition,c))return d;const _=l.value.clone(),w=Ay(l.fieldTransforms,p,c);return _.setAll(w),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ns?function(l,c,d,p){if(!Vc(l.precondition,c))return d;const _=Ay(l.fieldTransforms,p,c),w=c.data;return w.setAll(Ww(l)),w.setAll(_),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(R=>R.field))}(n,e,t,i):function(l,c,d){return Vc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ok(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Bw(i.transform,o||null);l!=null&&(t===null&&(t=_n.empty()),t.set(i.field,l))}return t||null}function Ry(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ea(i,o,(l,c)=>rk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kl extends _h{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends _h{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ww(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Cy(n,e,t){const i=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,tk(c,d,t[o]))}return i}function Ay(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,ek(l,c,e))}return i}class kp extends _h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ak extends _h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&sk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=jw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Hw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,i)=>Ry(t,i))&&ea(this.baseMutations,e.baseMutations,(t,i)=>Ry(t,i))}}class Pp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length);let o=function(){return QA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Pp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,qe;function hk(n){switch(n){default:return Ce();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Kw(n){if(n===void 0)return oi("GRPC error has no .code"),J.UNKNOWN;switch(n){case vt.OK:return J.OK;case vt.CANCELLED:return J.CANCELLED;case vt.UNKNOWN:return J.UNKNOWN;case vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case vt.INTERNAL:return J.INTERNAL;case vt.UNAVAILABLE:return J.UNAVAILABLE;case vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case vt.NOT_FOUND:return J.NOT_FOUND;case vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case vt.ABORTED:return J.ABORTED;case vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case vt.DATA_LOSS:return J.DATA_LOSS;default:return Ce()}}(qe=vt||(vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new js([4294967295,4294967295],0);function ky(n){const e=dk().encode(n),t=new _w;return t.update(e),new Uint8Array(t.digest())}function Py(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new js([t,i],0),new js([o,l],0)]}class xp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(i<0)throw new _l(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=js.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(js.fromNumber(i)));return o.compare(fk)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ky(e),[i,o]=Py(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new xp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=ky(e),[i,o]=Py(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yh(ke.min(),o,new ut(Be),ai(),je())}}class Gl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gl(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Gw{constructor(e,t){this.targetId=e,this.me=t}}class Qw{constructor(e,t,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class xy{constructor(){this.fe=0,this.ge=Ny(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce()}}),new Gl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ny()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=Ic(),this.Qe=Ic(),this.Ke=new ut(Be)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(jf(l))if(i===0){const c=new we(l.path);this.We(t,c,Qt.newNoDocument(c,ke.min()))}else Ge(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Xi(i).toUint8Array()}catch(p){if(p instanceof Cw)return Zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new xp(c,o,l)}catch(p){return Zo(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&jf(d.target)){const p=new we(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Qt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=je();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new yh(e,t,this.Ke,this.ke,i);return this.ke=ai(),this.qe=Ic(),this.Qe=Ic(),this.Ke=new ut(Be),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new xy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt(Be),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Be),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new xy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new ut(we.comparator)}function Ny(){return new ut(we.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $f(n,e){return n.useProto3Json||dh(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vk(n,e){return Zc(n,e.toTimestamp())}function xr(n){return Ge(!!n),ke.fromTimestamp(function(t){const i=Qi(t);return new At(i.seconds,i.nanos)}(n))}function Np(n,e){return zf(n,e).canonicalString()}function zf(n,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Yw(n){const e=nt.fromString(n);return Ge(n0(e)),e}function qf(n,e){return Np(n.databaseId,e.path)}function yf(n,e){const t=Yw(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Zw(t))}function Jw(n,e){return Np(n.databaseId,e)}function wk(n){const e=Yw(n);return e.length===4?nt.emptyPath():Zw(e)}function Hf(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Zw(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Dy(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function Ek(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,w){return _.useProto3Json?(Ge(w===void 0||typeof w=="string"),$t.fromBase64String(w||"")):(Ge(w===void 0||w instanceof Buffer||w instanceof Uint8Array),$t.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const w=_.code===void 0?J.UNKNOWN:Kw(_.code);return new pe(w,_.message||"")}(c);t=new Qw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yf(n,i.document.name),l=xr(i.document.updateTime),c=i.document.createTime?xr(i.document.createTime):ke.min(),d=new _n({mapValue:{fields:i.document.fields}}),p=Qt.newFoundDocument(o,l,c,d),_=i.targetIds||[],w=i.removedTargetIds||[];t=new Mc(_,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yf(n,i.document),l=i.readTime?xr(i.readTime):ke.min(),c=Qt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Mc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yf(n,i.document),l=i.removedTargetIds||[];t=new Mc([],l,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new ck(o,l),d=i.targetId;t=new Gw(d,c)}}return t}function Tk(n,e){let t;if(e instanceof Kl)t={update:Dy(n,e.key,e.value)};else if(e instanceof kp)t={delete:qf(n,e.key)};else if(e instanceof ns)t={update:Dy(n,e.key,e.data),updateMask:Nk(e.fieldMask)};else{if(!(e instanceof ak))return Ce();t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Ol)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:vk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce()}(n,e.precondition)),t}function Ik(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?xr(o.updateTime):xr(l);return c.isEqual(ke.min())&&(c=xr(l)),new ik(c,o.transformResults||[])}(t,e))):[]}function Sk(n,e){return{documents:[Jw(n,e.path)]}}function Rk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Jw(n,o);const l=function(_){if(_.length!==0)return t0(lr.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(w=>function(I){return{field:Ho(I.field),direction:kk(I.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=$f(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function Ck(n){let e=wk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(R){const I=e0(R);return I instanceof lr&&xw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(R){return R.map(I=>function(b){return new Yc(Wo(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(R){let I;return I=typeof R=="object"?R.value:R,dh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(R){const I=!!R.before,N=R.values||[];return new Xc(N,I)}(t.startAt));let _=null;return t.endAt&&(_=function(R){const I=!R.before,N=R.values||[];return new Xc(N,I)}(t.endAt)),qA(e,o,c,l,d,"F",p,_)}function Ak(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function e0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Wo(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wo(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(i=>e0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function kk(n){return mk[n]}function Pk(n){return gk[n]}function xk(n){return _k[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Ut.fromServerFormat(n.fieldPath)}function t0(n){return n instanceof wt?function(t){if(t.op==="=="){if(vy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(yy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(yy(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Pk(t.op),value:t.value}}}(n):n instanceof lr?function(t){const i=t.getFilters().map(o=>t0(o));return i.length===1?i[0]:{compositeFilter:{op:xk(t.op),filters:i}}}(n):Ce()}function Nk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function n0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,i,o,l=ke.min(),c=ke.min(),d=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.ht=e}}function bk(n){const e=Ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.ln=new Lk}addToCollectionParentIndex(e,t){return this.ln.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Gi.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class Lk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new kt(nt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ra(0)}static Qn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy([n,e],[t,i]){const o=Be(n,t);return o===0?Be(e,i):o}class Vk{constructor(e){this.Gn=e,this.buffer=new kt(Oy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Oy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Yn(3e5)})}}class Fk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(hh.oe);const i=new Vk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(by)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),by):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,c=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(i=R,d=Date.now(),this.removeTargets(e,i,t))).next(R=>(l=R,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(_=Date.now(),zo()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}function jk(n,e){return new Fk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Il(i.mutation,o,Pn.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=Fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=gl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=ai();const c=Tl(),d=function(){return Tl()}();return t.forEach((p,_)=>{const w=i.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ns)?l=l.insert(_.key,_):w!==void 0?(c.set(_.key,w.mutation.getFieldMask()),Il(w.mutation,_,w.mutation.getFieldMask(),At.now())):c.set(_.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,w)=>c.set(_,w)),t.forEach((_,w)=>{var R;return d.set(_,new Bk(w,(R=c.get(_))!==null&&R!==void 0?R:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Tl();let o=new ut((c,d)=>c-d),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let w=i.get(p)||Pn.empty();w=d.applyToLocalView(_,w),i.set(p,w);const R=(o.get(d.batchId)||je()).add(p);o=o.insert(d.batchId,R)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,w=p.value,R=jw();w.forEach(I=>{if(!l.has(I)){const N=Hw(t.get(I),i.get(I));N!==null&&R.set(I,N),l=l.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Y.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ow(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Y.resolve(Fs());let d=-1,p=l;return c.next(_=>Y.forEach(_,(w,R)=>(d<R.largestBatchId&&(d=R.largestBatchId),l.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,je())).next(w=>({batchId:d,changes:Fw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=gl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=gl();return this.indexManager.getCollectionParents(e,l).next(d=>Y.forEach(d,p=>{const _=function(R,I){return new Wl(I,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(w=>{w.forEach((R,I)=>{c=c.insert(R,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,_)=>{const w=_.getKey();c.get(w)===null&&(c=c.insert(w,Qt.newInvalidDocument(w)))});let d=gl();return c.forEach((p,_)=>{const w=l.get(p);w!==void 0&&Il(w.mutation,_,Pn.empty(),At.now()),mh(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Y.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:bk(o.bundledQuery),readTime:xr(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.overlays=new ut(we.comparator),this.Er=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fs();return Y.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=Fs(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ut((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let w=l.get(_.largestBatchId);w===null&&(w=Fs(),l=l.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=Fs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=o)););return Y.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new uk(t,i));let l=this.Er.get(t);l===void 0&&(l=je(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.dr=new kt(bt.Ar),this.Rr=new kt(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new nt([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new nt([])),i=new bt(t,e),o=new bt(t,e+1);let l=je();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new bt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Be(e.br,t.br)}static Vr(e,t){return Be(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(bt.Ar)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lk(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Be);return t.forEach(o=>{const l=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),Y.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new bt(new we(l),0);let d=new kt(Be);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.br)),!0)},c),Y.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Y.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new bt(t,0),o=this.vr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Nr=e,this.docs=function(){return new ut(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))}),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=ai();const c=t.path,d=new we(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:w}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||IA(TA(w),i)<=0||(o.has(w.key)||mh(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ce()}Lr(e,t){return Y.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Gk(this)}getSize(e){return Y.resolve(this.size)}}class Gk extends Uk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Y.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.persistence=e,this.Br=new Qs(t=>Sp(t),Rp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new Dp,this.targetCount=0,this.Qr=ra.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Y.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Un(t),Y.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Y.waitFor(l).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new hh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Hk,this.referenceDelegate=e(this),this.Gr=new Qk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(o){return new Kk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Dk(t),this.jr=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Wk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new Xk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Y.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Xk extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Zr=new Dp,this.Xr=null}static ei(e){return new bp(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,ke.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Y.or([()=>Y.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.ri=new Qs(i=>kA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jk(this,t)}static ei(e,t){return new eh(e,t)}Hr(){}Jr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Y.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Y.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oc(e.data.value)),t}ir(e,t,i){return Y.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=je(),o=je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Op(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return L1()?8:CA(Xt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Yk;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(zo()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Y.resolve()):(zo()<=Fe.DEBUG&&de("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(zo()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):Y.resolve())}Xi(e,t){if(Iy(t))return Y.resolve(null);let i=Pr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Bf(t,null,"F"),i=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=je(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,d);return this.ss(t,_,c,p.readTime)?this.Xi(e,Bf(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return Iy(t)||o.isEqual(ke.min())?Y.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?Y.resolve(null):(zo()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.os(e,c,t,EA(o,-1)).next(d=>d))})}rs(e,t){let i=new kt(Vw(e));return t.forEach((o,l)=>{mh(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return zo()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",qo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Gi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ut(Be),this.cs=new Qs(l=>Sp(l),Rp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $k(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function eP(n,e,t,i){return new Zk(n,e,t,i)}async function i0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=je();for(const _ of o){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of l){d.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:d}))})})}function tP(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,w){const R=_.batch,I=R.keys();let N=Y.resolve();return I.forEach(b=>{N=N.next(()=>w.getEntry(p,b)).next(j=>{const D=_.docVersions.get(b);Ge(D!==null),j.version.compareTo(D)<0&&(R.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),w.addEntry(j)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,R))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=je();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function s0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function nP(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((w,R)=>{const I=o.get(R);if(!I)return;d.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,R).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,R)));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(R)!==null?N=N.withResumeToken($t.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),o=o.insert(R,N),function(j,D,H){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,N,w)&&d.push(t.Gr.updateTargetData(l,N))});let p=ai(),_=je();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),d.push(rP(l,c,e.documentUpdates).next(w=>{p=w.Is,_=w.Es})),!i.isEqual(ke.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(R=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(w)}return Y.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function rP(n,e,t){let i=je(),o=je();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ai();return t.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function iP(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function sP(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Y.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new $i(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Wf(n,e,t){const i=Pe(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!da(c))throw c;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Ly(n,e,t){const i=Pe(n);let o=ke.min(),l=je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,w){const R=Pe(p),I=R.cs.get(w);return I!==void 0?Y.resolve(R.us.get(I)):R.Gr.getTargetData(_,w)}(i,c,Pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:ke.min(),t?l:je())).next(d=>(oP(i,WA(e),d),{documents:d,ds:l})))}function oP(n,e,t){let i=n.ls.get(e)||ke.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Vy{constructor(){this.activeTargetIds=JA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this._o=new Vy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Vy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function vf(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class hP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=vf(),p=this.No(t,i.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,l,c),this.Bo(t,p,_,o).then(w=>(de("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw Zo("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=uP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=vf();return new Promise((c,d)=>{const p=new yw;p.setWithCredentials(!0),p.listenOnce(vw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bc.NO_ERROR:const w=p.getResponseJson();de(Kt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case bc.TIMEOUT:de(Kt,`RPC '${e}' ${l} timed out`),d(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const R=p.getStatus();if(de(Kt,`RPC '${e}' ${l} failed with status:`,R,"response text:",p.getResponseText()),R>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const b=function(D){const H=D.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(N.status);d(new pe(b,N.message))}else d(new pe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{de(Kt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);de(Kt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=vf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Tw(),d=Ew(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");de(Kt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const R=c.createWebChannel(w,p);let I=!1,N=!1;const b=new cP({Eo:D=>{N?de(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(I||(de(Kt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),I=!0),de(Kt,`RPC '${e}' stream ${o} sending:`,D),R.send(D))},Ao:()=>R.close()}),j=(D,H,z)=>{D.listen(H,G=>{try{z(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return j(R,ml.EventType.OPEN,()=>{N||(de(Kt,`RPC '${e}' stream ${o} transport opened.`),b.So())}),j(R,ml.EventType.CLOSE,()=>{N||(N=!0,de(Kt,`RPC '${e}' stream ${o} transport closed`),b.Do())}),j(R,ml.EventType.ERROR,D=>{N||(N=!0,Zo(Kt,`RPC '${e}' stream ${o} transport errored:`,D),b.Do(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),j(R,ml.EventType.MESSAGE,D=>{var H;if(!N){const z=D.data[0];Ge(!!z);const G=z,Q=(G==null?void 0:G.error)||((H=G[0])===null||H===void 0?void 0:H.error);if(Q){de(Kt,`RPC '${e}' stream ${o} received error:`,Q);const ae=Q.status;let le=function(A){const x=vt[A];if(x!==void 0)return Kw(x)}(ae),P=Q.message;le===void 0&&(le=J.INTERNAL,P="Unknown error status: "+ae+" with message "+Q.message),N=!0,b.Do(new pe(le,P)),R.close()}else de(Kt,`RPC '${e}' stream ${o} received:`,z),b.vo(z)}}),j(d,ww.STAT_EVENT,D=>{D.stat===Lf.PROXY?de(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Lf.NOPROXY&&de(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n){return new yk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new o0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dP extends a0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Ek(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?xr(c.readTime):ke.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Hf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=jf(p)?{documents:Sk(l,p)}:{query:Rk(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Xw(l,c.resumeToken);const _=$f(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=Zc(l,c.snapshotVersion.toTimestamp());const _=$f(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=Ak(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Hf(this.serializer),t.removeTarget=e,this.c_(t)}}class fP extends a0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ik(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Hf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tk(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,zf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(J.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,zf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class mP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):de("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Xs(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Pe(p);_.k_.add(4),await Ql(_),_.K_.set("Unknown"),_.k_.delete(4),await wh(_)}(this))})}),this.K_=new mP(i,o)}}async function wh(n){if(Xs(n))for(const e of n.q_)await e(!0)}async function Ql(n){for(const e of n.q_)await e(!1)}function l0(n,e){const t=Pe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Fp(t)?Mp(t):fa(t).s_()&&Vp(t,e))}function Lp(n,e){const t=Pe(n),i=fa(t);t.B_.delete(e),i.s_()&&u0(t,e),t.B_.size===0&&(i.s_()?i.a_():Xs(t)&&t.K_.set("Unknown"))}function Vp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).V_(e)}function u0(n,e){n.U_.xe(e),fa(n).m_(e)}function Mp(n){n.U_=new pk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.K_.F_()}function Fp(n){return Xs(n)&&!fa(n).i_()&&n.B_.size>0}function Xs(n){return Pe(n).k_.size===0}function c0(n){n.U_=void 0}async function _P(n){n.K_.set("Online")}async function yP(n){n.B_.forEach((e,t)=>{Vp(n,e)})}async function vP(n,e){c0(n),Fp(n)?(n.K_.O_(e),Mp(n)):n.K_.set("Unknown")}async function wP(n,e,t){if(n.K_.set("Online"),e instanceof Qw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await th(n,i)}else if(e instanceof Mc?n.U_.$e(e):e instanceof Gw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(ke.min()))try{const i=await s0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.B_.get(_);w&&l.B_.set(_,w.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const w=l.B_.get(p);if(!w)return;l.B_.set(p,w.withResumeToken($t.EMPTY_BYTE_STRING,w.snapshotVersion)),u0(l,p);const R=new $i(w.target,p,_,w.sequenceNumber);Vp(l,R)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de("RemoteStore","Failed to raise snapshot:",i),await th(n,i)}}async function th(n,e,t){if(!da(e))throw e;n.k_.add(1),await Ql(n),n.K_.set("Offline"),t||(t=()=>s0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await wh(n)})}function h0(n,e){return e().catch(t=>th(n,t,e))}async function Eh(n){const e=Pe(n),t=Ji(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;EP(e);)try{const o=await iP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,TP(e,o)}catch(o){await th(e,o)}d0(e)&&f0(e)}function EP(n){return Xs(n)&&n.L_.length<10}function TP(n,e){n.L_.push(e);const t=Ji(n);t.s_()&&t.f_&&t.g_(e.mutations)}function d0(n){return Xs(n)&&!Ji(n).i_()&&n.L_.length>0}function f0(n){Ji(n).start()}async function IP(n){Ji(n).w_()}async function SP(n){const e=Ji(n);for(const t of n.L_)e.g_(t.mutations)}async function RP(n,e,t){const i=n.L_.shift(),o=Pp.from(i,e,t);await h0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Eh(n)}async function CP(n,e){e&&Ji(n).f_&&await async function(i,o){if(function(c){return hk(c)&&c!==J.ABORTED}(o.code)){const l=i.L_.shift();Ji(i).__(),await h0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Eh(i)}}(n,e),d0(n)&&f0(n)}async function Fy(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const i=Xs(t);t.k_.add(3),await Ql(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await wh(t)}async function AP(n,e){const t=Pe(n);e?(t.k_.delete(2),await wh(t)):e||(t.k_.add(2),await Ql(t),t.K_.set("Unknown"))}function fa(n){return n.W_||(n.W_=function(t,i,o){const l=Pe(t);return l.b_(),new dP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:_P.bind(null,n),mo:yP.bind(null,n),po:vP.bind(null,n),R_:wP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Fp(n)?Mp(n):n.K_.set("Unknown")):(await n.W_.stop(),c0(n))})),n.W_}function Ji(n){return n.G_||(n.G_=function(t,i,o){const l=Pe(t);return l.b_(),new fP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:IP.bind(null,n),po:CP.bind(null,n),p_:SP.bind(null,n),y_:RP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Eh(n)):(await n.G_.stop(),n.L_.length>0&&(de("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new jp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(n,e){if(oi("AsyncQueue",`${e}: ${n}`),da(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=gl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.z_=new ut(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ia{constructor(e,t,i,o,l,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ia(e,t,Jo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class PP{constructor(){this.queries=Uy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=Uy(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function Uy(){return new Qs(n=>Lw(n),ph)}async function p0(n,e){const t=Pe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new kP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Up(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Bp(t)}async function m0(n,e){const t=Pe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function xP(n,e){const t=Pe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Bp(t)}function NP(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Bp(n){n.X_.forEach(e=>{e.next()})}var Kf,By;(By=Kf||(Kf={})).na="default",By.Cache="cache";class g0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class DP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=Vw(e),this.ma=new Jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new jy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,R)=>{const I=o.get(w),N=mh(this.query,R)?R:null,b=!!I&&this.mutatedKeys.has(I.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let D=!1;I&&N?I.data.isEqual(N.data)?b!==j&&(i.track({type:3,doc:N}),D=!0):this.ya(I,N)||(i.track({type:2,doc:N}),D=!0,(p&&this.Va(N,p)>0||_&&this.Va(N,_)<0)&&(d=!0)):!I&&N?(i.track({type:0,doc:N}),D=!0):I&&!N&&(i.track({type:1,doc:I}),D=!0,(p||_)&&(d=!0)),D&&(N?(c=c.add(N),l=j?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,R)=>function(N,b){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return j(N)-j(b)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new ia(this.query,e.ma,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new jy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new y0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new _0(i))}),t}va(e){this.da=e.ds,this.Ra=je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ia.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class bP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OP{constructor(e){this.key=e,this.Fa=!1}}class LP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Qs(d=>Lw(d),ph),this.Oa=new Map,this.Na=new Set,this.La=new ut(we.comparator),this.Ba=new Map,this.ka=new Dp,this.qa={},this.Qa=new Map,this.Ka=ra.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function VP(n,e,t=!0){const i=S0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await v0(i,e,t,!0),o}async function MP(n,e){const t=S0(n);await v0(t,e,!0,!1)}async function v0(n,e,t,i){const o=await sP(n.localStore,Pr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await FP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&l0(n.remoteStore,o),d}async function FP(n,e,t,i,o){n.Ua=(R,I,N)=>async function(j,D,H,z){let G=D.view.ga(H);G.ss&&(G=await Ly(j.localStore,D.query,!1).then(({documents:P})=>D.view.ga(P,G)));const Q=z&&z.targetChanges.get(D.targetId),ae=z&&z.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(G,j.isPrimaryClient,Q,ae);return zy(j,D.targetId,le.ba),le.snapshot}(n,R,I,N);const l=await Ly(n.localStore,e,!0),c=new DP(e,l.ds),d=c.ga(l.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);zy(n,t,_.ba);const w=new bP(e,t,c);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function jP(n,e,t){const i=Pe(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!ph(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Wf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Lp(i.remoteStore,o.targetId),Gf(i,o.targetId)}).catch(ha)):(Gf(i,o.targetId),await Wf(i.localStore,o.targetId,!0))}async function UP(n,e){const t=Pe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lp(t.remoteStore,i.targetId))}async function BP(n,e,t){const i=GP(n);try{const o=await function(c,d){const p=Pe(c),_=At.now(),w=d.reduce((N,b)=>N.add(b.key),je());let R,I;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let b=ai(),j=je();return p.hs.getEntries(N,w).next(D=>{b=D,b.forEach((H,z)=>{z.isValidDocument()||(j=j.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,b)).next(D=>{R=D;const H=[];for(const z of d){const G=ok(z,R.get(z.key).overlayedDocument);G!=null&&H.push(new ns(z.key,G,Aw(G.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(N,_,H,d)}).next(D=>{I=D;const H=D.applyToLocalDocumentSet(R,j);return p.documentOverlayCache.saveOverlays(N,D.batchId,H)})}).then(()=>({batchId:I.batchId,changes:Fw(R)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.qa[c.currentUser.toKey()];_||(_=new ut(Be)),_=_.insert(d,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await Xl(i,o.changes),await Eh(i.remoteStore)}catch(o){const l=Up(o,"Failed to persist write");t.reject(l)}}async function w0(n,e){const t=Pe(n);try{const i=await nP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ge(c.Fa):o.removedDocuments.size>0&&(Ge(c.Fa),c.Fa=!1))}),await Xl(t,i,e)}catch(i){await ha(i)}}function $y(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Pe(c);p.onlineState=d;let _=!1;p.queries.forEach((w,R)=>{for(const I of R.J_)I.ea(d)&&(_=!0)}),_&&Bp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $P(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new ut(we.comparator);c=c.insert(l,Qt.newNoDocument(l,ke.min()));const d=je().add(l),p=new yh(ke.min(),new Map,new ut(Be),c,d);await w0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),$p(i)}else await Wf(i.localStore,e,!1).then(()=>Gf(i,e,t)).catch(ha)}async function zP(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await tP(t.localStore,e);T0(t,i,null),E0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(t,o)}catch(o){await ha(o)}}async function qP(n,e,t){const i=Pe(n);try{const o=await function(c,d){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,d).next(R=>(Ge(R!==null),w=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(i.localStore,e);T0(i,e,t),E0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xl(i,o)}catch(o){await ha(o)}}function E0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function T0(n,e,t){const i=Pe(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||I0(n,i)})}function I0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Lp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),$p(n))}function zy(n,e,t){for(const i of t)i instanceof _0?(n.ka.addReference(i.key,e),HP(n,i)):i instanceof y0?(de("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||I0(n,i.key)):Ce()}function HP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(de("SyncEngine","New document in limbo: "+t),n.Na.add(i),$p(n))}function $p(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(nt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new OP(t)),n.La=n.La.insert(t,i),l0(n.remoteStore,new $i(Pr(Cp(t.path)),i,"TargetPurposeLimboResolution",hh.oe))}}async function Xl(n,e,t){const i=Pe(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(_=>{var w;if((_||t)&&i.isPrimaryClient){const R=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){o.push(_);const R=Op.zi(p.targetId,_);l.push(R)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const w=Pe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Y.forEach(_,I=>Y.forEach(I.Wi,N=>w.persistence.referenceDelegate.addReference(R,I.targetId,N)).next(()=>Y.forEach(I.Gi,N=>w.persistence.referenceDelegate.removeReference(R,I.targetId,N)))))}catch(R){if(!da(R))throw R;de("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const I=R.targetId;if(!R.fromCache){const N=w.us.get(I),b=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(b);w.us=w.us.insert(I,j)}}}(i.localStore,l))}async function WP(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const i=await i0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new pe(J.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(t,i.Ts)}}function KP(n,e){const t=Pe(n),i=t.Ba.get(e);if(i&&i.Fa)return je().add(i.key);{let o=je();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function S0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.Ma.R_=xP.bind(null,e.eventManager),e.Ma.Wa=NP.bind(null,e.eventManager),e}function GP(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qP.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return eP(this.persistence,new Jk,e.initialUser,this.serializer)}ja(e){return new r0(bp.ei,this.serializer)}za(e){return new aP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class QP extends nh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ge(this.persistence.referenceDelegate instanceof eh);const i=this.persistence.referenceDelegate.garbageCollector;return new Mk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new r0(i=>eh.ei(i,t),this.serializer)}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$y(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WP.bind(null,this.syncEngine),await AP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PP}()}createDatastore(e){const t=vh(e.databaseInfo.databaseId),i=function(l){return new hP(l)}(e.databaseInfo);return function(l,c,d,p){return new pP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new gP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>$y(this.syncEngine,t,0),function(){return My.p()?new My:new lP}())}createSyncEngine(e,t){return function(o,l,c,d,p,_,w){const R=new LP(o,l,c,d,p,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Pe(o);de("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Ql(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=Sw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Up(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ef(n,e){n.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await i0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await YP(n);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Fy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Fy(e.remoteStore,o)),n._onlineComponents=e}async function YP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ef(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Ef(n,new nh)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Ef(n,new QP(void 0));return n._offlineComponents}async function C0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await qy(n,n._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await qy(n,new Qf))),n._onlineComponents}function JP(n){return C0(n).then(e=>e.syncEngine)}async function A0(n){const e=await C0(n),t=e.eventManager;return t.onListen=VP.bind(null,e.syncEngine),t.onUnlisten=jP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UP.bind(null,e.syncEngine),t}function ZP(n,e,t={}){const i=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const w=new R0({next:I=>{w.eu(),c.enqueueAndForget(()=>m0(l,R));const N=I.docs.has(d);!N&&I.fromCache?_.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&p&&p.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),R=new g0(Cp(d.path),w,{includeMetadataChanges:!0,ua:!0});return p0(l,R)}(await A0(n),n.asyncQueue,e,t,i)),i.promise}function ex(n,e,t={}){const i=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const w=new R0({next:I=>{w.eu(),c.enqueueAndForget(()=>m0(l,R)),I.fromCache&&p.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),R=new g0(d,w,{includeMetadataChanges:!0,ua:!0});return p0(l,R)}(await A0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tx(n,e,t,i){if(e===!0&&i===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Wy(n){if(!we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ky(n){if(we.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dA;switch(i.type){case"firstParty":return new gA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Hy.get(t);i&&(de("ComponentProvider","Removing Datastore"),Hy.delete(t),i.terminate())}(this),Promise.resolve()}}function nx(n,e,t,i={}){var o;const l=(n=li(n,Ih))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Gt.MOCK_USER;else{d=xv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Gt(_)}n._authCredentials=new fA(new Iw(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Hi extends pa{constructor(e,t,i){super(e,t,Cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new we(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function jt(n,e,...t){if(n=ot(n),P0("collection","path",e),n instanceof Ih){const i=nt.fromString(e,...t);return Ky(i),new Hi(n,null,i)}{if(!(n instanceof yn||n instanceof Hi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return Ky(i),new Hi(n.firestore,null,i)}}function Yl(n,e,...t){if(n=ot(n),arguments.length===1&&(e=Sw.newId()),P0("doc","path",e),n instanceof Ih){const i=nt.fromString(e,...t);return Wy(i),new yn(n,null,new we(i))}{if(!(n instanceof yn||n instanceof Hi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return Wy(i),new yn(n.firestore,n instanceof Hi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new o0(this,"async_queue_retry"),this.fu=()=>{const i=wf();i&&de("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!da(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw oi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=jp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ma extends Ih{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Qy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qy(e),this._firestoreClient=void 0,await e}}}function hi(n,e){const t=typeof n=="object"?n:up(),i=typeof n=="string"?n:"(default)",o=ah(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Av("firestore");l&&nx(o,...l)}return o}function zp(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rx(n),n._firestoreClient}function rx(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,_,w){return new NA(d,p,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,k0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new XP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa($t.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=/^__.*__$/;class sx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kl(e,this.data,t,this.fieldTransforms)}}class x0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function N0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Wp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return rh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(N0(this.Mu)&&ix.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ox{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vh(e)}$u(e,t,i,o=!1){return new Wp({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new ox(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ax(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Qp("Data must be an object, but it was:",c,i);const d=D0(i,c);let p,_;if(l.merge)p=new Pn(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const R of l.mergeFields){const I=Xf(e,R,t);if(!c.contains(I))throw new pe(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);O0(w,I)||w.push(I)}p=new Pn(w),_=c.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=c.fieldTransforms;return new sx(new _n(d),p,_)}class Ch extends Rh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class Gp extends Rh{_toFieldTransform(e){return new nk(e.path,new Ol)}isEqual(e){return e instanceof Gp}}function lx(n,e,t,i){const o=n.$u(1,e,t);Qp("Data must be an object, but it was:",o,i);const l=[],c=_n.empty();ts(i,(p,_)=>{const w=Xp(e,p,t);_=ot(_);const R=o.Bu(w);if(_ instanceof Ch)l.push(w);else{const I=Jl(_,R);I!=null&&(l.push(w),c.set(w,I))}});const d=new Pn(l);return new x0(c,d,o.fieldTransforms)}function ux(n,e,t,i,o,l){const c=n.$u(1,e,t),d=[Xf(e,i,t)],p=[o];if(l.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Xf(e,l[I])),p.push(l[I+1]);const _=[],w=_n.empty();for(let I=d.length-1;I>=0;--I)if(!O0(_,d[I])){const N=d[I];let b=p[I];b=ot(b);const j=c.Bu(N);if(b instanceof Ch)_.push(N);else{const D=Jl(b,j);D!=null&&(_.push(N),w.set(N,D))}}const R=new Pn(_);return new x0(w,R,c.fieldTransforms)}function cx(n,e,t,i=!1){return Jl(t,n.$u(i?4:3,e))}function Jl(n,e){if(b0(n=ot(n)))return Qp("Unsupported field value:",e,n),D0(n,e);if(n instanceof Rh)return function(i,o){if(!N0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Jl(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:Zc(o.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zc(o.serializer,l)}}if(i instanceof qp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:Xw(o.serializer,i._byteString)};if(i instanceof yn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Np(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Hp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Ap(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Th(i)}`)}(n,e)}function D0(n,e){const t={};return Rw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(i,o)=>{const l=Jl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function b0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof qp||n instanceof sa||n instanceof yn||n instanceof Rh||n instanceof Hp)}function Qp(n,e,t){if(!b0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Th(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Xf(n,e,t){if((e=ot(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return Xp(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const hx=new RegExp("[~\\*/\\[\\]]");function Xp(n,e,t){if(e.search(hx)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new pe(J.INVALID_ARGUMENT,d+n+p)}function O0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dx extends L0{data(){return super.data()}}function Yp(n,e){return typeof e=="string"?Xp(n,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class px extends Jp{}function Sr(n,e,...t){let i=[];e instanceof Jp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Zp).length,d=l.filter(p=>p instanceof Ah).length;if(c>1||c>0&&d>0)throw new pe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Ah extends px{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ah(e,t,i)}_apply(e){const t=this._parse(e);return V0(e._query,t),new pa(e.firestore,e.converter,Uf(e._query,t))}_parse(e){const t=Kp(e.firestore);return function(l,c,d,p,_,w,R){let I;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new pe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Yy(R,w);const N=[];for(const b of R)N.push(Xy(p,l,b));I={arrayValue:{values:N}}}else I=Xy(p,l,R)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Yy(R,w),I=cx(d,c,R,w==="in"||w==="not-in");return wt.create(_,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Rr(n,e,t){const i=e,o=Yp("where",n);return Ah._create(o,i,t)}class Zp extends Jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)V0(c,p),c=Uf(c,p)}(e._query,t),new pa(e.firestore,e.converter,Uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xy(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new pe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&t.indexOf("/")!==-1)throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(nt.fromString(t));if(!we.isDocumentKey(i))throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _y(n,new we(i))}if(t instanceof yn)return _y(n,t._key);throw new pe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function Yy(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mx{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ts(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>gt(c.doubleValue));return new Hp(l)}convertGeoPoint(e){return new qp(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=Qi(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);Ge(n0(i));const o=new Dl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||oi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M0 extends L0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Yp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Fc extends M0{data(e={}){return super.data(e)}}class _x{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new yl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Fc(this._firestore,this._userDataWriter,i.key,i,new yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Fc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Fc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:yx(d.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n){n=li(n,yn);const e=li(n.firestore,ma);return ZP(zp(e),n._key).then(t=>wx(e,n,t))}class F0 extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function gn(n){n=li(n,pa);const e=li(n.firestore,ma),t=zp(e),i=new F0(e);return fx(n._query),ex(t,n._query).then(o=>new _x(e,i,n,o))}function Ml(n,e,t,...i){n=li(n,yn);const o=li(n.firestore,ma),l=Kp(o);let c;return c=typeof(e=ot(e))=="string"||e instanceof Sh?ux(l,"updateDoc",n._key,e,t,i):lx(l,"updateDoc",n._key,e),nm(o,[c.toMutation(n._key,ar.exists(!0))])}function vx(n){return nm(li(n.firestore,ma),[new kp(n._key,ar.none())])}function tm(n,e){const t=li(n.firestore,ma),i=Yl(n),o=gx(n.converter,e);return nm(t,[ax(Kp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function nm(n,e){return function(i,o){const l=new ri;return i.asyncQueue.enqueueAndForget(async()=>BP(await JP(i),o,l)),l.promise}(zp(n),e)}function wx(n,e,t){const i=t.docs.get(e._key),o=new F0(n);return new M0(n,o,e._key,i,new yl(t.hasPendingWrites,t.fromCache),e.converter)}function j0(){return new Gp("serverTimestamp")}(function(e,t=!0){(function(o){ca=o})(Ks),Bs(new Ki("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ma(new pA(i.getProvider("auth-internal")),new yA(i.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(_.options.projectId,w)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ar(hy,"4.7.5",e),Ar(hy,"4.7.5","esm2017")})();const Ex={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};la(Ex);const Tx=()=>{const n=Zi(),[e,t]=V.useState(null),[i,o]=V.useState(null),[l,c]=V.useState(!1),[d,p]=V.useState([]),[_,w]=V.useState([]),[R,I]=V.useState(null),N=Gs(),b=hi();V.useEffect(()=>{const P=N.onAuthStateChanged(async A=>{if(t(A),A){const x=A.email,M=await j(x);o(M),n("/dashboard",{state:{userData:M}})}});return(async()=>{try{if("NDEFReader"in window){const A=await window.NDEFReader;A&&(A.abort(),console.log("Existing NFC reader cleaned up"))}}catch(A){console.error("Error cleaning up NFC reader:",A)}})(),()=>{P(),R&&R.abort()}},[]),V.useEffect(()=>{(async()=>{try{const A=(await gn(jt(b,"RegisteredTeacher"))).docs.map(L=>L.data().name).slice(0,5);p(A);const M=(await gn(jt(b,"RegisteredStudent"))).docs.map(L=>L.data().name).slice(0,5);w(M)}catch(C){console.error("Error fetching registered users:",C)}})()},[b]);const j=async P=>{try{const C=Sr(jt(b,"RegisteredAdmin"),Rr("email","==",P)),A=await gn(C);if(!A.empty)return A.docs[0].data();const x=Sr(jt(b,"RegisteredTeacher"),Rr("email","==",P)),M=await gn(x);if(!M.empty)return M.docs[0].data();const L=Sr(jt(b,"RegisteredStudent"),Rr("email","==",P)),T=await gn(L);return T.empty?null:T.docs[0].data()}catch(C){return console.error("Error fetching user data:",C),null}},D=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},H=()=>{c(!1),n("/dashboard",{state:{userData:i}})},z=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},G=()=>{c(!l)},Q=async()=>{try{R&&R.abort(),await Pl(N),console.log("User signed out successfully"),n("/login")}catch(P){console.error("Error signing out:",P)}},ae=["Scanner-001","Scanner-002","Scanner-003"],le=(i==null?void 0:i.position)==="Student";return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:Ie.hamburgerBtn,onClick:G,children:l?v.jsx(Tv,{size:24}):v.jsx(_1,{size:24})}),v.jsxs("div",{className:`${Ie.sidebar} ${l?Ie.sidebarOpen:""}`,children:[v.jsx("div",{className:Ie.profileSection,children:e&&i&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Ie.avatar,children:v.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),v.jsxs("div",{className:Ie.userInfo,children:[v.jsx("h3",{children:i.name}),v.jsx("p",{children:e.email}),v.jsx("br",{}),v.jsx("span",{children:i.position})]})]})}),v.jsx("nav",{className:Ie.navigation,children:v.jsxs("ul",{className:Ie.navList,children:[v.jsx("li",{className:Ie.navItem,children:v.jsxs("div",{className:Ie.navLink,onClick:H,children:[v.jsx(m1,{size:20}),v.jsx("span",{children:"Dashboard"})]})}),le?v.jsxs(v.Fragment,{children:[v.jsx("li",{className:Ie.navItem,children:v.jsxs("a",{href:"#",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(_c,{size:20}),v.jsx("span",{children:"Event Attendance"})]})}),v.jsx("li",{className:Ie.navItem,children:v.jsxs("a",{href:"#",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(_c,{size:20}),v.jsx("span",{children:"Room Attendance"})]})}),v.jsx("li",{className:Ie.navItem,children:v.jsxs("a",{href:"#",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(_c,{size:20}),v.jsx("span",{children:"Membership Attendance"})]})})]}):v.jsx("li",{className:Ie.navItem,children:v.jsxs("div",{onClick:D,className:Ie.navLink,style:{cursor:"pointer"},children:[v.jsx(a1,{size:20}),v.jsx("span",{children:"Create Event"})]})}),!le&&v.jsxs(v.Fragment,{children:[v.jsxs(Mi,{to:"/dashboard/event-list",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(c1,{size:20}),v.jsx("span",{children:"Event List"})]}),v.jsx("li",{className:Ie.navItem,children:v.jsxs("a",{href:"#",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(_c,{size:20}),v.jsx("span",{children:"Archive"})]})}),v.jsxs("li",{className:Ie.navItem,children:[v.jsxs(Mi,{to:"/dashboard/registered-students",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(Ko,{size:20}),v.jsx("span",{children:"Registered Students"})]}),v.jsx("ul",{className:Ie.dropdown,children:_.map((P,C)=>v.jsx("li",{className:Ie.dropdownItem,children:P},C))})]}),v.jsxs("li",{className:Ie.navItem,children:[v.jsxs(Mi,{to:"/dashboard/registered-teachers",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(Ko,{size:20}),v.jsx("span",{children:"Registered Teacher"})]}),v.jsx("ul",{className:Ie.dropdown,children:d.map((P,C)=>v.jsx("li",{className:Ie.dropdownItem,children:P},C))})]}),v.jsx("li",{className:Ie.navItem,children:v.jsxs(Mi,{to:"/dashboard/teacher-registration",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(Ko,{size:20}),v.jsx("span",{children:"Teacher Registration"})]})}),v.jsx("li",{className:Ie.navItem,children:v.jsxs(Mi,{to:"/dashboard/student-registration",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(Ko,{size:20}),v.jsx("span",{children:"Student Registration"})]})}),v.jsx("li",{className:Ie.navItem,children:v.jsxs(Mi,{to:"/dashboard/nfc-reader",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(O_,{size:20}),v.jsx("span",{children:"NFC Reader"})]})}),v.jsxs("li",{className:Ie.navItem,children:[v.jsxs("a",{href:"#",className:Ie.navLink,onClick:()=>c(!1),children:[v.jsx(O_,{size:20}),v.jsx("span",{children:"ESP32 NFC Scanners"})]}),v.jsx("ul",{className:Ie.dropdown,children:ae.map((P,C)=>v.jsx("li",{className:Ie.dropdownItem,children:P},C))})]})]}),v.jsx("li",{className:Ie.navItem,children:v.jsxs("div",{className:Ie.navLink,onClick:z,children:[v.jsx(f1,{size:20}),v.jsx("span",{children:"File Manager"})]})})]})}),v.jsxs("button",{className:Ie.logoutBtn,onClick:Q,children:[v.jsx(g1,{size:20}),v.jsx("span",{children:"Logout"})]})]}),l&&v.jsx("div",{className:Ie.overlay,onClick:G})]})};function Ix(){var i;const n=hr(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return v.jsxs("div",{className:Ie.dashboardContainer,children:[v.jsx(Tx,{}),v.jsx("main",{className:Ie.mainContent,children:t?v.jsxs("div",{className:Ie.welcomeContainer,children:[v.jsxs("h1",{className:Ie.welcomeTitle,children:["Welcome",v.jsx("br",{})," ",v.jsx("span",{children:e==null?void 0:e.name})]}),v.jsx("p",{className:Ie.welcomeText,children:"Select an option from the sidebar to get started"})]}):v.jsx(nI,{})})]})}const Sx="_container_1vton_5",Rx="_card_1vton_17",Cx="_cardHeader_1vton_33",Ax="_cardTitle_1vton_45",kx="_form_1vton_59",Px="_formGrid_1vton_69",xx="_formGroup_1vton_93",Nx="_label_1vton_105",Dx="_input_1vton_117",bx="_select_1vton_119",Ox="_button_1vton_165",Lx="_tableContainer_1vton_215",Vx="_table_1vton_215",Mx="_status_1vton_273",Fx="_statusPending_1vton_289",jx="_statusOngoing_1vton_299",Ux="_statusCompleted_1vton_309",Bx="_error_1vton_321",$x="_inputError_1vton_333",Oe={container:Sx,card:Rx,cardHeader:Cx,cardTitle:Ax,form:kx,formGrid:Px,formGroup:xx,label:Nx,input:Dx,select:bx,button:Ox,tableContainer:Lx,table:Vx,status:Mx,statusPending:Fx,statusOngoing:jx,statusCompleted:Ux,error:Bx,inputError:$x},zx="_buttons_85dii_1",qx="_add_85dii_77",Hx="_archive_85dii_77",Wx="_logout_85dii_77",Kx="_progress_85dii_77",Gx="_filemanager_85dii_77",Qx="_new_event_85dii_77",Bt={buttons:zx,add:qx,archive:Hx,logout:Wx,progress:Kx,filemanager:Gx,new_event:Qx},Xx=()=>{const n=hr(),{userData:e}=n.state||{},t=hi(),[i,o]=V.useState(""),[l,c]=V.useState("unlimited"),[d,p]=V.useState(""),[_,w]=V.useState(""),[R,I]=V.useState("event"),[N,b]=V.useState(""),[j,D]=V.useState("pending"),[H,z]=V.useState(""),[G,Q]=V.useState(""),[ae,le]=V.useState(""),[P,C]=V.useState(""),A=["ESP32-001","ESP32-002","ESP32-003"],x=async L=>{L.preventDefault();try{const T={eventName:i,entryLimit:l,maxEntries:l==="limited"?parseInt(d):null,locations:_,purpose:R,selectedEsp32:N,status:j,startDate:H,startTime:G,endDate:ae,endTime:P,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},oe=await tm(jt(t,"PendingEvent"),T);await Ml(oe,{docId:oe.id}),console.log("Event created with ID: ",oe.id),alert("Event created successfully!"),M()}catch(T){console.error("Error creating event: ",T),alert("Error creating event. Please try again.")}},M=()=>{o(""),c("unlimited"),p(""),w(""),I("event"),b(""),D("pending"),z(""),Q(""),le(""),C("")};return v.jsx("div",{className:Oe.container,children:v.jsxs("div",{className:Oe.card,children:[v.jsx("div",{className:Oe.cardHeader,children:v.jsx("h2",{className:Oe.cardTitle,children:"Create New Event"})}),v.jsxs("form",{className:Oe.form,onSubmit:x,children:[v.jsxs("div",{className:Oe.formGrid,children:[v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Event Name"}),v.jsx("input",{type:"text",className:Oe.input,value:i,onChange:L=>o(L.target.value),placeholder:"Enter event name"})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Entry Limit"}),v.jsxs("select",{className:Oe.select,value:l,onChange:L=>c(L.target.value),children:[v.jsx("option",{value:"unlimited",children:"Unlimited"}),v.jsx("option",{value:"limited",children:"Limited"})]})]}),l==="limited"&&v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Maximum Entries"}),v.jsx("input",{type:"number",className:Oe.input,value:d,onChange:L=>p(L.target.value),placeholder:"Enter maximum entries"})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Location"}),v.jsx("input",{type:"text",className:Oe.input,value:_,onChange:L=>w(L.target.value),placeholder:"Enter location"})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Purpose"}),v.jsxs("select",{className:Oe.select,value:R,onChange:L=>I(L.target.value),children:[v.jsx("option",{value:"event",children:"Event Attendance"}),v.jsx("option",{value:"membership",children:"Membership Attendance"}),v.jsx("option",{value:"room",children:"Room Attendance"})]})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"ESP32 Device"}),v.jsx("select",{className:Oe.select,value:N,onChange:L=>b(L.target.value),children:A.map(L=>v.jsx("option",{value:L,children:L},L))})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Status"}),v.jsxs("select",{className:Oe.select,value:j,onChange:L=>D(L.target.value),children:[v.jsx("option",{value:"pending",children:"Pending"}),v.jsx("option",{value:"ongoing",children:"Ongoing"}),v.jsx("option",{value:"completed",children:"Completed"}),v.jsx("option",{value:"pause",children:"Pause"}),v.jsx("option",{value:"continued",children:"Continued"})]})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Start Date"}),v.jsx("input",{type:"date",className:Oe.input,value:H,onChange:L=>z(L.target.value)})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"Start Time"}),v.jsx("input",{type:"time",className:Oe.input,value:G,onChange:L=>Q(L.target.value)})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"End Date"}),v.jsx("input",{type:"date",className:Oe.input,value:ae,onChange:L=>le(L.target.value)})]}),v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{className:Oe.label,children:"End Time"}),v.jsx("input",{type:"time",className:Oe.input,value:P,onChange:L=>C(L.target.value)})]})]}),v.jsx("button",{type:"submit",className:Bt.buttons,children:"Create Event"})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebasestorage.googleapis.com",B0="storageBucket",Yx=2*60*1e3,Jx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Dr{constructor(e,t,i=0){super(Tf(e),`Firebase Storage: ${t} (${Tf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Tf(n){return"storage/"+n}function rm(){const n="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,n)}function Zx(n){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function eN(n){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,n)}function nN(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rN(n){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function iN(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sN(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function oN(n){return new dt(ht.INVALID_URL,"Invalid URL '"+n+"'.")}function aN(n){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lN(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B0+"' property when initializing the app?")}function uN(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cN(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hN(n){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yf(n){return new dt(ht.INVALID_ARGUMENT,n)}function $0(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function dN(n){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(n,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function hl(n){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=nn.makeFromUrl(e,t)}catch{return new nn(e,"")}if(i.path==="")return i;throw aN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(Q){Q.path_=decodeURIComponent(Q.path)}const w="v[A-Za-z0-9_]+",R=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",N=new RegExp(`^https?://${R}/${w}/b/${o}/o${I}`,"i"),b={bucket:1,path:3},j=t===U0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",H=new RegExp(`^https?://${j}/${o}/${D}`,"i"),G=[{regex:d,indices:p,postModify:l},{regex:N,indices:b,postModify:_},{regex:H,indices:{bucket:1,path:2},postModify:_}];for(let Q=0;Q<G.length;Q++){const ae=G[Q],le=ae.regex.exec(e);if(le){const P=le[ae.indices.bucket];let C=le[ae.indices.path];C||(C=""),i=new nn(P,C),ae.postModify(i);break}}if(i==null)throw oN(e);return i}}class fN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let _=!1;function w(...D){_||(_=!0,e.apply(null,D))}function R(D){o=setTimeout(()=>{o=null,n(N,p())},D)}function I(){l&&clearTimeout(l)}function N(D,...H){if(_){I();return}if(D){I(),w.call(null,D,...H);return}if(p()||c){I(),w.call(null,D,...H);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,R(G)}let b=!1;function j(D){b||(b=!0,I(),!_&&(o!==null?(D||(d=2),clearTimeout(o),R(0)):D||(d=1)))}return R(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function mN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){return n!==void 0}function _N(n){return typeof n=="object"&&!Array.isArray(n)}function im(n){return typeof n=="string"||n instanceof String}function Jy(n){return sm()&&n instanceof Blob}function sm(){return typeof Blob<"u"}function Jf(n,e,t,i){if(i<e)throw Yf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Yf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function z0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Us;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,i,o,l,c,d,p,_,w,R,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=R,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,b)=>{this.resolve_=N,this.reject_=b,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Rc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Us.NO_ERROR,p=l.getStatus();if(!d||yN(p,this.additionalRetryCodes_)&&this.retry){const w=l.getErrorCode()===Us.ABORT;i(!1,new Rc(!1,null,w));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new Rc(_,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());gN(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=rm();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?$0():sN();c(p)}else{const p=iN();c(p)}};this.canceled_?t(!1,new Rc(!1,null,!0)):this.backoffId_=pN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function wN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function EN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function IN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SN(n,e,t,i,o,l,c=!0){const d=z0(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return TN(_,e),wN(_,t),EN(_,l),IN(_,i),new vN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CN(...n){const e=RN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(sm())return new Blob(n);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){if(typeof atob>"u")throw hN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class If{constructor(e,t){this.data=e,this.contentType=t||null}}function PN(n,e){switch(n){case Cr.RAW:return new If(q0(e));case Cr.BASE64:case Cr.BASE64URL:return new If(H0(n,e));case Cr.DATA_URL:return new If(NN(e),DN(e))}throw rm()}function q0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function xN(n){let e;try{e=decodeURIComponent(n)}catch{throw Sl(Cr.DATA_URL,"Malformed data URL.")}return q0(e)}function H0(n,e){switch(n){case Cr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Sl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Sl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=kN(e)}catch(o){throw o.message.includes("polyfill")?o:Sl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class W0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sl(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=bN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function NN(n){const e=new W0(n);return e.base64?H0(Cr.BASE64,e.rest):xN(e.rest)}function DN(n){return new W0(n).contentType}function bN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){let i=0,o="";Jy(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Jy(this.data_)){const i=this.data_,o=AN(i,e,t);return o===null?null:new Bi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Bi(i,!0)}}static getBlob(...e){if(sm()){const t=e.map(i=>i instanceof Bi?i.data_:i);return new Bi(CN.apply(null,t))}else{const t=e.map(c=>im(c)?PN(Cr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Bi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n){let e;try{e=JSON.parse(n)}catch{return null}return _N(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function LN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function K0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){return e}class tn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||VN}}let Cc=null;function MN(n){return!im(n)||n.length<2?n:K0(n)}function G0(){if(Cc)return Cc;const n=[];n.push(new tn("bucket")),n.push(new tn("generation")),n.push(new tn("metageneration")),n.push(new tn("name","fullPath",!0));function e(l,c){return MN(c)}const t=new tn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new tn("size");return o.xform=i,n.push(o),n.push(new tn("timeCreated")),n.push(new tn("updated")),n.push(new tn("md5Hash",null,!0)),n.push(new tn("cacheControl",null,!0)),n.push(new tn("contentDisposition",null,!0)),n.push(new tn("contentEncoding",null,!0)),n.push(new tn("contentLanguage",null,!0)),n.push(new tn("contentType",null,!0)),n.push(new tn("metadata","customMetadata",!0)),Cc=n,Cc}function FN(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new nn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function jN(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return FN(i,n),i}function Q0(n,e,t){const i=om(e);return i===null?null:jN(n,i,t)}function UN(n,e,t,i){const o=om(e);if(o===null||!im(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(_=>{const w=n.bucket,R=n.fullPath,I="/b/"+c(w)+"/o/"+c(R),N=Zl(I,t,i),b=z0({alt:"media",token:_});return N+b})[0]}function BN(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="prefixes",ev="items";function $N(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Zy])for(const o of t[Zy]){const l=o.replace(/\/$/,""),c=n._makeStorageReference(new nn(e,l));i.prefixes.push(c)}if(t[ev])for(const o of t[ev]){const l=n._makeStorageReference(new nn(e,o.name));i.items.push(l)}return i}function zN(n,e,t){const i=om(t);return i===null?null:$N(n,e,i)}class kh{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n){if(!n)throw rm()}function qN(n,e){function t(i,o){const l=Q0(n,o,e);return am(l!==null),l}return t}function HN(n,e){function t(i,o){const l=zN(n,e,o);return am(l!==null),l}return t}function WN(n,e){function t(i,o){const l=Q0(n,o,e);return am(l!==null),UN(l,o,n.host,n._protocol)}return t}function lm(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=nN():o=tN():t.getStatus()===402?o=eN(n.bucket):t.getStatus()===403?o=rN(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function X0(n){const e=lm(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=Zx(n.path)),l.serverResponse=o.serverResponse,l}return t}function KN(n,e,t,i,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),d=Zl(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,w=new kh(d,p,HN(n,e.bucket),_);return w.urlParams=l,w.errorHandler=lm(e),w}function GN(n,e,t){const i=e.fullServerUrl(),o=Zl(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new kh(o,l,WN(n,t),c);return d.errorHandler=X0(e),d}function QN(n,e){const t=e.fullServerUrl(),i=Zl(t,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(p,_){}const d=new kh(i,o,c,l);return d.successCodes=[200,204],d.errorHandler=X0(e),d}function XN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function YN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=XN(null,e)),i}function JN(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let Q=0;Q<2;Q++)G=G+Math.random().toString().slice(2);return G}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const _=YN(e,i,o),w=BN(_,t),R="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,I=`\r
--`+p+"--",N=Bi.getBlob(R,i,I);if(N===null)throw uN();const b={name:_.fullPath},j=Zl(l,n.host,n._protocol),D="POST",H=n.maxUploadRetryTime,z=new kh(j,D,qN(n,t),H);return z.urlParams=b,z.headers=c,z.body=N.uploadData(),z.errorHandler=lm(e),z}class ZN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e2 extends ZN{initXhr(){this.xhr_.responseType="text"}}function Ph(){return new e2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this._service=e,t instanceof nn?this._location=t:this._location=nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hs(e,t)}get root(){const e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K0(this._location.path)}get storage(){return this._service}get parent(){const e=ON(this._location.path);if(e===null)return null;const t=new nn(this._location.bucket,e);return new Hs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dN(e)}}function t2(n,e,t){n._throwIfRoot("uploadBytes");const i=JN(n.storage,n._location,G0(),new Bi(e,!0),t);return n.storage.makeRequestWithTokens(i,Ph).then(o=>({metadata:o,ref:n}))}function n2(n){const e={prefixes:[],items:[]};return Y0(n,e).then(()=>e)}async function Y0(n,e,t){const o=await r2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Y0(n,e,o.nextPageToken)}function r2(n,e){e!=null&&typeof e.maxResults=="number"&&Jf("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=KN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ph)}function i2(n){n._throwIfRoot("getDownloadURL");const e=GN(n.storage,n._location,G0());return n.storage.makeRequestWithTokens(e,Ph).then(t=>{if(t===null)throw cN();return t})}function s2(n){n._throwIfRoot("deleteObject");const e=QN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ph)}function o2(n,e){const t=LN(n._location.path,e),i=new nn(n._location.bucket,t);return new Hs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){return/^[A-Za-z]+:\/\//.test(n)}function l2(n,e){return new Hs(n,e)}function J0(n,e){if(n instanceof um){const t=n;if(t._bucket==null)throw lN();const i=new Hs(t,t._bucket);return e!=null?J0(i,e):i}else return e!==void 0?o2(n,e):n}function u2(n,e){if(e&&a2(e)){if(n instanceof um)return l2(n,e);throw Yf("To use ref(service, url), the first argument must be a Storage instance.")}else return J0(n,e)}function tv(n,e){const t=e==null?void 0:e[B0];return t==null?null:nn.makeFromBucketSpec(t,n)}function c2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:xv(o,n.app.options.projectId))}class um{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=U0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yx,this._maxUploadRetryTime=Jx,this._requests=new Set,o!=null?this._bucket=nn.makeFromBucketSpec(o,this._host):this._bucket=tv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=tv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hs(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new fN($0());{const c=SN(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const nv="@firebase/storage",rv="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="storage";function Vs(n,e,t){return n=ot(n),t2(n,e,t)}function jc(n){return n=ot(n),n2(n)}function Go(n){return n=ot(n),i2(n)}function dl(n){return n=ot(n),s2(n)}function pn(n,e){return n=ot(n),u2(n,e)}function xh(n=up(),e){n=ot(n);const i=ah(n,Z0).getImmediate({identifier:e}),o=Av("storage");return o&&h2(i,...o),i}function h2(n,e,t,i={}){c2(n,e,t,i)}function d2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new um(t,i,o,e,Ks)}function f2(){Bs(new Ki(Z0,d2,"PUBLIC").setMultipleInstances(!0)),Ar(nv,rv,""),Ar(nv,rv,"esm2017")}f2();const p2="_container_rixh2_3",m2="_form_rixh2_17",g2="_nfcButton_rixh2_47",_2="_scanButton_rixh2_47",y2="_scannerContainer_rixh2_65",v2="_scanner_rixh2_65",w2="_modalOverlay_rixh2_95",E2="_modalContent_rixh2_123",T2="_status_rixh2_147",I2="_statusWarning_rixh2_165",S2="_statusInfo_rixh2_179",R2="_statusSuccess_rixh2_193",C2="_statusError_rixh2_207",A2="_pulse_rixh2_1",k2="_reader_rixh2_293",Un={container:p2,form:m2,nfcButton:g2,scanButton:_2,scannerContainer:y2,scanner:v2,modalOverlay:w2,modalContent:E2,status:T2,statusWarning:I2,statusInfo:S2,statusSuccess:R2,statusError:C2,"animate-pulse":"_animate-pulse_rixh2_245",pulse:A2,reader:k2},P2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},cm=la(P2),iv=hi(cm),x2=xh(cm),N2=Gs(cm),D2=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Un.statusWarning;case"error":return Un.statusError;case"success":return Un.statusSuccess;default:return Un.statusInfo}};return v.jsx("div",{className:Un.modalOverlay,children:v.jsx("div",{className:Un.modalContent,children:v.jsx("div",{className:`${Un.status} ${i()} ${t?Un["animate-pulse"]:""}`,children:n})})})},b2=()=>{const[n,e]=V.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[t,i]=V.useState(null),[o,l]=V.useState("capture"),[c,d]=V.useState(!1),[p,_]=V.useState(""),[w,R]=V.useState(null),[I,N]=V.useState("info"),[b,j]=V.useState(null),D=V.useRef(null),H=V.useRef(null),z=(T,oe="info")=>{_(T),N(oe)};V.useEffect(()=>()=>{w&&w.abort()},[w]);const G=T=>{const oe=T.target.files[0];i(oe)},Q=T=>{l(T),i(null),D.current&&(D.current.value=""),H.current&&(H.current.value="")},ae=async()=>{try{const T=await iw(N2,n.email,n.upass);return await sw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},le=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;R(T),await T.scan();const oe=await new Promise((Me,xe)=>{const be=async ie=>{try{const me=ie.serialNumber;if(!await x(me)){xe(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",be),Me(me)}catch(me){xe(me)}};T.addEventListener("reading",be),setTimeout(()=>{T.removeEventListener("reading",be),xe(new Error("NFC tag read timeout"))},3e4)});return j(oe),z("NFC tag detected successfully","success"),oe}catch(T){throw z(T.message,"error"),T}finally{w&&(w.abort(),R(null))}},P=async()=>{const T=Gs(),oe=Zi();try{await Pl(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Me){console.error("Error signing out:",Me)}},C=async()=>{if(!t)return null;try{z("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=pn(x2,`users/${T}/profile/${t.name}`),Me=await Vs(oe,t),xe=await Go(Me.ref);return z("Selfie uploaded successfully!","success"),xe}catch(T){throw z("Failed to upload selfie: "+T.message,"error"),T}},A=async()=>{try{d(!0);const T=await C();z("Saving your registration details...","info");const Me={...n,nfcSerialNumber:b,selfieUrl:T,position:"Student",createdAt:j0()},xe=await tm(jt(iv,"RegisteredStudent"),Me);await Ml(xe,{currentnfcId:xe.id}),z("Registration details saved successfully!","success"),z("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(xe.id)}]}),z("NFC tag written successfully!","success"),z("Creating your account...","info");const ie=await ae();return await Ml(xe,{firebaseUserId:ie.uid}),z("Registration completed! Please check your email for verification.","success"),await P(),setTimeout(()=>{z(""),M()},5e3),xe.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,z(oe,"error"),T}finally{d(!1)}},x=async T=>{try{const oe=Yl(iv,"Toregistered",T);return(await em(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},M=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),i(null),_(""),j(null),D.current&&(D.current.value="")},L=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){z("NFC is not supported on this device","warning");return}try{if(z("Waiting for NFC tag... Please place your card","info"),await le(),z("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){j(null),z("");return}await A()}catch(oe){console.error("Registration Error:",oe),z("Registration process failed: "+oe.message,"error")}};return v.jsxs("div",{className:Un.container,children:[v.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||p)&&v.jsx(D2,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?I:"warning",isProcessing:c}),v.jsxs("form",{onSubmit:L,className:Un.form,children:[v.jsx("input",{type:"text",placeholder:"Student Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:T=>e({...n,course:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:T=>e({...n,studentId:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),v.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[v.jsx("option",{value:"",children:"Select Campus"}),v.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),v.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),v.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),v.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),v.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),v.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),v.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),v.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),v.jsxs("div",{className:Un.uploadOptionContainer,children:[v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",ref:D,onChange:G,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),v.jsx("button",{type:"button",onClick:()=>D.current.click(),className:Bt.buttons,disabled:c,children:"Take Profile Picture"})]}):v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",ref:H,onChange:G,accept:"image/*",style:{display:"none"},disabled:c}),v.jsx("button",{type:"button",onClick:()=>H.current.click(),className:Bt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&v.jsxs("p",{children:["Selected Image: ",t.name,v.jsx("button",{type:"button",onClick:()=>i(null),className:Un.clearImageButton,disabled:c,children:"Clear"})]}),v.jsx("button",{type:"submit",className:`${Bt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:b?"Complete Registration":"Scan NFC Tag"})]})]})},O2="_container_avr77_1",L2="_status_avr77_33",V2="_reading_avr77_51",M2="_pulse_avr77_1",F2="_error_avr77_59",j2="_studentInfo_avr77_77",U2="_infoGrid_avr77_107",B2="_infoRow_avr77_117",$2="_selfie_avr77_149",z2="_controls_avr77_171",q2="_button_avr77_185",H2="_readButton_avr77_213",W2="_resetButton_avr77_231",An={container:O2,status:L2,reading:V2,pulse:M2,error:F2,studentInfo:j2,infoGrid:U2,infoRow:B2,selfie:$2,controls:z2,button:q2,readButton:H2,resetButton:W2},K2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},G2=la(K2),Q2=hi(G2),X2=()=>{const[n,e]=V.useState(null),[t,i]=V.useState(""),[o,l]=V.useState(!1),[c,d]=V.useState(null),p=async()=>{try{l(!0),i("Waiting for NFC card..."),d(null);const w=new NDEFReader;await w.scan(),w.addEventListener("reading",async({message:R})=>{try{const I=R.records.find(D=>D.recordType==="text");if(!I)throw new Error("Invalid NFC card: No student data found");const N=new TextDecoder().decode(I.data);i("Retrieving student data...");const b=Yl(Q2,"RegisteredStudent",N),j=await em(b);if(j.exists()){const D=j.data();e(D),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(I){d(I.message),e(null)}finally{l(!1),w.stop()}})}catch(w){d(w.message),l(!1)}},_=()=>{e(null),i(""),d(null),l(!1)};return v.jsxs("div",{className:An.container,children:[v.jsx("h1",{children:"Student NFC Reader"}),t&&v.jsx("div",{className:`${An.status} ${o?An.reading:""}`,children:t}),c&&v.jsx("div",{className:An.error,children:c}),n&&v.jsxs("div",{className:An.studentInfo,children:[v.jsx("h2",{children:"Student Information"}),v.jsxs("div",{className:An.infoGrid,children:[v.jsxs("div",{className:An.infoRow,children:[v.jsx("span",{children:"Name:"}),v.jsx("span",{children:n.studentName})]}),v.jsxs("div",{className:An.infoRow,children:[v.jsx("span",{children:"Student ID:"}),v.jsx("span",{children:n.studentId})]}),v.jsxs("div",{className:An.infoRow,children:[v.jsx("span",{children:"Email:"}),v.jsx("span",{children:n.email})]}),v.jsxs("div",{className:An.infoRow,children:[v.jsx("span",{children:"Course:"}),v.jsx("span",{children:n.course})]}),v.jsxs("div",{className:An.infoRow,children:[v.jsx("span",{children:"Campus:"}),v.jsx("span",{children:n.campus})]}),n.selfieUrl&&v.jsx("div",{className:An.selfie,children:v.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),v.jsxs("div",{className:An.controls,children:[v.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Bt.buttons} ${Bt.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&v.jsx("button",{onClick:_,className:`${Bt.buttons} ${Bt.buttons}`,children:"Clear & Scan New Card"})]})]})},Y2="_login_container_158dy_9",J2="_login_card_158dy_31",Z2="_login_title_158dy_49",eD="_login_form_158dy_67",tD="_form_group_158dy_79",nD="_login_input_158dy_89",rD="_login_button_158dy_121",iD="_error_message_158dy_167",sD="_divider_158dy_185",oD="_google_button_158dy_233",aD="_google_icon_158dy_285",fn={login_container:Y2,login_card:J2,login_title:Z2,login_form:eD,form_group:tD,login_input:nD,login_button:rD,error_message:iD,divider:sD,google_button:oD,google_icon:aD},lD={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},uD=la(lD),cD=new Yr,Ds=Gs(),$o=hi(uD),hD=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[o,l]=V.useState(""),[c,d]=V.useState(!1),[p,_]=V.useState(!1),[w,R]=V.useState(null),[I,N]=V.useState(!1),b=Zi();V.useEffect(()=>{let G=null;return(async()=>{if(!I)if("NDEFReader"in window)try{const ae=new window.NDEFReader;await ae.scan(),_(!0),R(ae),G=ae,ae.onreading=async({message:le})=>{try{const P=le.records.find(A=>A.recordType==="text");if(!P)throw new Error("Invalid NFC card: No user data found");const C=new TextDecoder().decode(P.data);try{const A=await j(C);A?(localStorage.setItem("userRole",A),N(!0),b("/dashboard")):l("NFC card is not registered in the system.")}catch(A){console.error("Authentication error:",A),l("Failed to authenticate with NFC card.")}}catch(P){console.error("Error processing NFC card:",P),l("Failed to process NFC card.")}},ae.onerror=le=>{console.error("NFC read error:",le),l("Error reading NFC card.")}}catch(ae){console.error("Error setting up NFC:",ae),_(!1)}else _(!1)})(),()=>{var ae;if(G)try{G.abort(),(ae=G.removeAllListeners)==null||ae.call(G),R(null),_(!1)}catch(le){console.error("Error cleaning up NFC reader:",le)}}},[I]);const j=async G=>{try{const Q=Sr(jt($o,"RegisteredAdmin"),Rr("currentnfcId","==",G)),ae=await gn(Q);if(!ae.empty){const x=ae.docs[0].data();return await vc(Ds,x.email,x.upass),"admin"}const le=Sr(jt($o,"RegisteredTeacher"),Rr("currentnfcId","==",G)),P=await gn(le);if(!P.empty){const x=P.docs[0].data();return await vc(Ds,x.email,x.upass),"teacher"}const C=Sr(jt($o,"RegisteredStudent"),Rr("currentnfcId","==",G)),A=await gn(C);if(!A.empty){const x=A.docs[0].data();return await vc(Ds,x.email,x.upass),"student"}return null}catch(Q){throw console.error("Error checking user role by NFC:",Q),Q}},D=async G=>{try{const Q=Sr(jt($o,"RegisteredAdmin"),Rr("email","==",G));if(!(await gn(Q)).empty)return"admin";const le=Sr(jt($o,"RegisteredTeacher"),Rr("email","==",G));if(!(await gn(le)).empty)return"teacher";const C=Sr(jt($o,"RegisteredStudent"),Rr("email","==",G));return(await gn(C)).empty?null:"student"}catch(Q){return console.error("Error checking user role:",Q),null}},H=async G=>{G.preventDefault(),d(!0),l("");try{const Q=await vc(Ds,n,t),ae=await D(Q.user.email);ae?(localStorage.setItem("userRole",ae),N(!0),b("/dashboard")):(await Pl(Ds),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(Q){l(Q.message)}finally{d(!1)}},z=async()=>{d(!0),l("");try{const G=await wC(Ds,cD),Q=await D(G.user.email);Q?(localStorage.setItem("userRole",Q),N(!0),b("/dashboard")):(await Pl(Ds),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(G){l(G.message)}finally{d(!1)}};return v.jsx("div",{className:fn.login_container,children:v.jsxs("div",{className:fn.login_card,children:[v.jsx("h1",{className:fn.login_title,children:"Login"}),p&&v.jsx("div",{className:fn.nfc_status,children:v.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),v.jsxs("form",{onSubmit:H,className:fn.login_form,children:[v.jsx("div",{className:fn.form_group,children:v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:G=>e(G.target.value),required:!0,className:fn.login_input})}),v.jsx("div",{className:fn.form_group,children:v.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:G=>i(G.target.value),required:!0,className:fn.login_input})}),o&&v.jsx("div",{className:fn.error_message,children:o}),v.jsx("button",{type:"submit",className:fn.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),v.jsx("div",{className:fn.divider,children:v.jsx("span",{children:"Or continue with"})}),v.jsxs("button",{type:"button",onClick:z,disabled:c,className:fn.google_button,children:[v.jsx("svg",{className:fn.google_icon,viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},dD="_event_list_container_15dvt_1",fD="_events_grid_15dvt_23",pD="_event_card_15dvt_33",mD="_card_header_15dvt_49",gD="_card_basic_info_15dvt_69",_D="_card_details_15dvt_93",yD="_event_info_15dvt_101",vD="_table_container_15dvt_125",wD="_action_buttons_15dvt_169",ED="_edit_btn_15dvt_179",TD="_delete_btn_15dvt_179",Ir={event_list_container:dD,events_grid:fD,event_card:pD,card_header:mD,card_basic_info:gD,card_details:_D,event_info:yD,table_container:vD,action_buttons:wD,edit_btn:ED,delete_btn:TD},ID=()=>{const[n,e]=V.useState([]),[t,i]=V.useState(null),o=Zi(),l=hi(),c=Gs();V.useEffect(()=>{d()},[]);const d=async()=>{try{const I=c.currentUser;if(!I)return;const N=jt(l,"PendingEvent"),b=Sr(N,Rr("createdBy","==",I.email)),D=(await gn(b)).docs.map(H=>({id:H.id,...H.data()}));e(D)}catch(I){console.error("Error fetching events:",I)}},p=I=>I?I.toDate?I.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(I).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=I=>{o(`/dashboard/edit-event/${I}`)},w=async I=>{if(window.confirm("Are you sure you want to delete this event?"))try{await vx(Yl(l,"events",I)),d()}catch(N){console.error("Error deleting event:",N)}},R=I=>{i(t===I?null:I)};return v.jsxs("div",{className:Ir.event_list_container,children:[v.jsx("h2",{children:"Event List"}),v.jsx("div",{className:Ir.events_grid,children:n.map(I=>{var N;return v.jsxs("div",{className:`${Ir.event_card} ${t===I.id?"expanded":""}`,children:[v.jsxs("div",{className:Ir.card_header,onClick:()=>R(I.id),children:[v.jsxs("div",{className:Ir.card_basic_info,children:[v.jsx("h3",{children:I.eventName}),v.jsxs("p",{children:["ID: ",I.id]}),v.jsxs("p",{children:["Created: ",p(I.createdAt)]})]}),t===I.id?v.jsx(u1,{}):v.jsx(l1,{})]}),t===I.id&&v.jsxs("div",{className:Ir.card_details,children:[v.jsxs("div",{className:Ir.event_info,children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",I.locations]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Description:"})," ",I.description]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Start Time:"})," ",I.startTime]}),v.jsxs("p",{children:[v.jsx("strong",{children:"End Time:"})," ",I.endTime]})]}),v.jsx("div",{className:Ir.table_container,children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"STUDENT ID"}),v.jsx("th",{children:"STUDENT NAME"}),v.jsx("th",{children:"COURSE"}),v.jsx("th",{children:"CAMPUS"}),v.jsx("th",{children:"DATE"}),v.jsx("th",{children:"ACTIONS"})]})}),v.jsx("tbody",{children:(N=I.attendees)==null?void 0:N.map((b,j)=>v.jsxs("tr",{children:[v.jsx("td",{children:b.studentId}),v.jsx("td",{children:b.name}),v.jsx("td",{children:b.course}),v.jsx("td",{children:b.campus}),v.jsx("td",{children:p(b.dateAttended)}),v.jsxs("td",{className:"action-buttons",children:[v.jsx("button",{onClick:()=>_(I.id),className:Ir.edit_btn,children:v.jsx(y1,{size:16})}),v.jsx("button",{onClick:()=>w(I.id),className:Ir.delete_btn,children:v.jsx(v1,{size:16})})]})]},j))})]})})]})]},I.id)})})]})},SD="_fileManager_c4lw2_5",RD="_header_c4lw2_17",CD="_actions_c4lw2_45",AD="_navigation_c4lw2_55",kD="_backButton_c4lw2_77",PD="_currentPath_c4lw2_109",xD="_content_c4lw2_121",ND="_item_c4lw2_141",DD="_itemContent_c4lw2_171",bD="_actionButton_c4lw2_195",OD="_dropdownMenu_c4lw2_229",LD="_deleteButton_c4lw2_283",VD="_modal_c4lw2_301",MD="_modalContent_c4lw2_327",FD="_modalHeader_c4lw2_351",jD="_closeButton_c4lw2_379",UD="_modalNavigation_c4lw2_405",BD="_folderList_c4lw2_423",$D="_folderItem_c4lw2_443",zD="_folderContent_c4lw2_473",qD="_modalActions_c4lw2_485",HD="_cancelButton_c4lw2_503",WD="_authContainer_c4lw2_521",KD="_authMethods_c4lw2_539",GD="_passwordAuth_c4lw2_553",QD="_passwordInput_c4lw2_563",XD="_nfcAuth_c4lw2_579",YD="_error_c4lw2_587",Ke={fileManager:SD,header:RD,actions:CD,navigation:AD,backButton:kD,currentPath:PD,content:xD,item:ND,itemContent:DD,actionButton:bD,dropdownMenu:OD,deleteButton:LD,modal:VD,modalContent:MD,modalHeader:FD,closeButton:jD,modalNavigation:UD,folderList:BD,folderItem:$D,folderContent:zD,modalActions:qD,cancelButton:HD,authContainer:WD,authMethods:KD,passwordAuth:GD,passwordInput:QD,nfcAuth:XD,error:YD},JD=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:l})=>{const c=V.useRef(null);return V.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),n?v.jsxs("div",{className:Ke.dropdownMenu,ref:c,children:[v.jsx("button",{onClick:t,children:"Move"}),v.jsx("button",{onClick:i,children:"Copy"}),v.jsx("button",{onClick:l,children:"Rename"}),v.jsx("button",{onClick:o,className:Ke.deleteButton,children:"Delete"})]}):null},ZD=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:l,onSelect:c})=>{const[d,p]=V.useState([]),[_,w]=V.useState(""),R=xh(),[I,N]=V.useState(null);V.useEffect(()=>{if(n){const H=`users/${i.email.replace("@","_").replace(".","_")}`;w(H),b(H)}},[n,i]);const b=async H=>{try{const z=pn(R,H),Q=(await jc(z)).prefixes.map(ae=>({name:ae.name,fullPath:`${H}/${ae.name}`}));p(Q)}catch(z){console.error("Error listing folders:",z)}},j=H=>{I&&N(I),w(H),b(H)},D=()=>{const H=`users/${i.email.replace("@","_").replace(".","_")}`,z=_.split("/").slice(0,-1).join("/");z.startsWith(H)&&(w(z),b(z))};return n?v.jsx("div",{className:Ke.modal,children:v.jsxs("div",{className:Ke.modalContent,children:[v.jsxs("div",{className:Ke.modalHeader,children:[v.jsx("h3",{children:"Select Destination Folder"}),v.jsx("button",{onClick:e,className:Ke.closeButton,children:v.jsx(Tv,{size:20})})]}),v.jsxs("div",{className:Ke.modalNavigation,children:[v.jsxs("button",{onClick:D,className:Ke.backButton,children:[v.jsx(wv,{size:20}),"Back"]}),v.jsx("span",{className:Ke.currentPath,children:_})]}),v.jsx("div",{className:Ke.folderList,children:d.map(H=>v.jsx("div",{className:Ke.folderItem,children:v.jsxs("div",{className:Ke.folderContent,onClick:()=>j(H.fullPath),children:[v.jsx(Ev,{size:24}),v.jsx("span",{children:H.name})]})},H.fullPath))}),v.jsxs("div",{className:Ke.modalActions,children:[v.jsx("button",{onClick:()=>{c(_)},className:Bt.buttons,children:"Select This Folder"}),v.jsx("button",{onClick:e,className:`${Bt.buttons} ${Ke.cancelButton}`,children:"Cancel"})]})]})}):null},eb=()=>{var $e;const[n,e]=V.useState(!1),[t,i]=V.useState(""),[o,l]=V.useState(""),[c,d]=V.useState(""),[p,_]=V.useState([]),[w,R]=V.useState([]),[I,N]=V.useState(!1),b=hr();Zi();const j=xh(),[D,H]=V.useState(null),[z,G]=V.useState({x:0,y:0}),Q=($e=b.state)==null?void 0:$e.userData,[ae,le]=V.useState(!1),[P,C]=V.useState(null),[A,x]=V.useState(null);V.useEffect(()=>{"NDEFReader"in window&&N(!0)},[]),V.useEffect(()=>{if(n&&Q){const ne=`users/${Q.email.replace("@","_").replace(".","_")}`;d(ne),T(ne)}},[n,Q]);const M=()=>{t===(Q==null?void 0:Q.upass)?(e(!0),l("")):l("Invalid password")},L=async()=>{try{const ne=new NDEFReader;await ne.scan(),ne.addEventListener("reading",({serialNumber:ce})=>{ce===(Q==null?void 0:Q.currentnfcId)?(e(!0),l("")):l("Invalid NFC card")})}catch(ne){l("Error reading NFC: "+ne.message)}},T=async ne=>{try{const ce=pn(j,ne),Ae=await jc(ce),Ye=Ae.items.map(async rn=>{const br=await Go(rn);return{name:rn.name,url:br,type:"file"}}),vn=Ae.prefixes.map(rn=>({name:rn.name,type:"folder"})),ft=await Promise.all(Ye);_(ft),R(vn)}catch(ce){console.error("Error listing files:",ce)}},oe=async ne=>{const ce=ne.target.files[0];if(ce)try{const Ae=pn(j,`${c}/${ce.name}`);await Vs(Ae,ce),await T(c)}catch(Ae){console.error("Error uploading file:",Ae)}},Me=async()=>{const ne=prompt("Enter folder name:");if(!ne)return;const ce=pn(j,`${c}/${ne}/.placeholder`),Ae=new Blob([""],{type:"text/plain"});await Vs(ce,Ae),await T(c)},xe=ne=>{const ce=`${c}/${ne}`;d(ce),T(ce)},be=()=>{const ne=c.split("/").slice(0,-1).join("/");ne.startsWith(`users/${Q.email.replace("@","_").replace(".","_")}`)&&(d(ne),T(ne))};if(!n)return v.jsxs("div",{className:Ke.authContainer,children:[v.jsx("h2",{children:"Authentication Required"}),v.jsxs("div",{className:Ke.authMethods,children:[v.jsxs("div",{className:Ke.passwordAuth,children:[v.jsx("input",{type:"password",value:t,onChange:ne=>i(ne.target.value),placeholder:"Enter password",className:Ke.passwordInput}),v.jsx("button",{onClick:M,className:Bt.buttons,children:"Submit"})]}),I&&v.jsx("div",{className:Ke.nfcAuth,children:v.jsx("button",{onClick:L,className:Bt.buttons,children:"Authenticate with NFC"})})]}),o&&v.jsx("p",{className:Ke.error,children:o})]});const ie=(ne,ce)=>{ne.preventDefault(),ne.stopPropagation();const Ae=ne.currentTarget.getBoundingClientRect();G({x:Ae.left,y:Ae.bottom}),H(ce),x(ce)},me=async()=>{if(!A){alert("Please select an item to move"),console.log(A);return}C("move"),le(!0)},ue=async()=>{if(!A){alert("Please select an item to copy"),console.log(A);return}C("copy"),le(!0)},U=async()=>{if(D)try{const ne=`${c}/${D.name}`,ce=pn(j,ne);D.type==="file"?await dl(ce):await X(ne),await T(c)}catch(ne){console.error("Error deleting item:",ne),alert(`Failed to delete ${D.name}. ${ne.message}`)}},X=async ne=>{try{const ce=pn(j,ne),Ae=await jc(ce);for(const Ye of Ae.items)await dl(Ye);for(const Ye of Ae.prefixes)await X(`${ne}/${Ye.name}`)}catch(ce){throw console.error("Error deleting folder:",ce),ce}},ve=async()=>{if(!D)return;const ne=prompt("Enter new name:",D.name);if(!(!ne||ne===D.name))try{const ce=pn(j,`${c}/${D.name}`),Ae=pn(j,`${c}/${ne}`);if(D.type==="file"){const Ye=await Go(ce),ft=await(await fetch(Ye)).blob();await Vs(Ae,ft),await dl(ce)}await T(c)}catch(ce){console.error("Error renaming item:",ce)}},Ne=async ne=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:A,currentPath:c,destinationPath:ne,operation:P}),!A){console.error("No item selected"),alert("Please select an item to move or copy"),le(!1);return}try{const ce=pn(j,`${c}/${A.name}`),Ae=pn(j,`${ne}/${A.name}`);if(A.type==="file"){const Ye=await Go(ce),ft=await(await fetch(Ye)).blob();await Vs(Ae,ft),P==="move"&&await dl(ce)}else await De(`${c}/${A.name}`,`${ne}/${A.name}`,P==="move");le(!1),C(null),await T(c)}catch(ce){console.error(`Error ${P}ing item:`,ce),alert(`Failed to ${P} item: ${ce.message}`),le(!1),C(null)}},De=async(ne,ce,Ae=!1)=>{try{const Ye=pn(j,ne),vn=await jc(Ye);for(const ft of vn.items){const rn=await Go(ft),rs=await(await fetch(rn)).blob(),is=pn(j,`${ce}/${ft.name}`);await Vs(is,rs),Ae&&await dl(ft)}for(const ft of vn.prefixes)await De(`${ne}/${ft.name}`,`${ce}/${ft.name}`,Ae)}catch(Ye){throw console.error("Error copying folder:",Ye),Ye}},Ve=(ne,ce)=>v.jsxs("div",{className:Ke.item,onClick:Ae=>{Ae.target.closest(`.${Ke.actionButton}`)||Ae.target.closest(`.${Ke.dropdownMenu}`)||(ce==="folder"?xe(ne.name):window.open(ne.url,"_blank"))},children:[v.jsxs("div",{className:Ke.itemContent,children:[ce==="folder"?v.jsx(Ev,{size:24}):v.jsx(d1,{size:24}),v.jsx("span",{children:ne.name})]}),v.jsx("button",{className:Ke.actionButton,onClick:Ae=>{Ae.stopPropagation();const Ye={...ne,type:ce};ie(Ae,Ye)},children:v.jsx(h1,{size:16})}),(D==null?void 0:D.name)===ne.name&&v.jsx(JD,{isOpen:!0,onClose:()=>{H(null)},onMove:me,onCopy:ue,onDelete:U,onRename:ve})]},`${ce}-${ne.name}`);return v.jsxs("div",{className:Ke.fileManager,children:[v.jsxs("div",{className:Ke.header,children:[v.jsx("h2",{children:"File Manager"}),v.jsxs("div",{className:Ke.actions,children:[c===`users/${Q.email.replace("@","_").replace(".","_")}`&&v.jsxs("button",{onClick:Me,className:Bt.buttons,children:[v.jsx(p1,{size:20}),"New Folder"]}),v.jsxs("label",{className:Bt.buttons,children:[v.jsx(w1,{size:20}),"Upload File",v.jsx("input",{type:"file",onChange:oe,style:{display:"none"}})]})]})]}),v.jsxs("div",{className:Ke.navigation,children:[v.jsxs("button",{onClick:be,className:Ke.backButton,children:[v.jsx(wv,{size:20}),"Back"]}),v.jsx("span",{className:Ke.currentPath,children:c})]}),v.jsxs("div",{className:Ke.content,children:[w.map(ne=>Ve(ne,"folder")),p.map(ne=>Ve(ne,"file"))]}),v.jsx(ZD,{isOpen:ae,onClose:()=>{le(!1),C(null)},currentPath:c,userData:Q,selectedItem:A,operation:P,onSelect:Ne})]})},tb="_container_9esca_3",nb="_form_9esca_17",rb="_nfcButton_9esca_47",ib="_scanButton_9esca_47",sb="_scannerContainer_9esca_65",ob="_scanner_9esca_65",ab="_modalOverlay_9esca_95",lb="_modalContent_9esca_123",ub="_status_9esca_147",cb="_statusWarning_9esca_165",hb="_statusInfo_9esca_179",db="_statusSuccess_9esca_193",fb="_statusError_9esca_207",pb="_pulse_9esca_1",mb="_reader_9esca_293",gb="_uploadOptionContainer_9esca_303",_b="_clearImageButton_9esca_317",Bn={container:tb,form:nb,nfcButton:rb,scanButton:ib,scannerContainer:sb,scanner:ob,modalOverlay:ab,modalContent:lb,status:ub,statusWarning:cb,statusInfo:hb,statusSuccess:db,statusError:fb,"animate-pulse":"_animate-pulse_9esca_245",pulse:pb,reader:mb,uploadOptionContainer:gb,clearImageButton:_b},yb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},hm=la(yb),sv=hi(hm),vb=xh(hm),wb=Gs(hm),Eb=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return Bn.statusWarning;case"error":return Bn.statusError;case"success":return Bn.statusSuccess;default:return Bn.statusInfo}};return v.jsx("div",{className:Bn.modalOverlay,children:v.jsx("div",{className:Bn.modalContent,children:v.jsx("div",{className:`${Bn.status} ${i()} ${t?Bn["animate-pulse"]:""}`,children:n})})})},Tb=()=>{const[n,e]=V.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[t,i]=V.useState(null),[o,l]=V.useState("capture"),[c,d]=V.useState(!1),[p,_]=V.useState(""),[w,R]=V.useState(null),[I,N]=V.useState("info"),[b,j]=V.useState(null),D=V.useRef(null),H=V.useRef(null),z=(T,oe="info")=>{_(T),N(oe)};V.useEffect(()=>()=>{w&&w.abort()},[w]);const G=T=>{const oe=T.target.files[0];i(oe)},Q=T=>{l(T),i(null),D.current&&(D.current.value=""),H.current&&(H.current.value="")},ae=async()=>{try{const T=await iw(wb,n.email,n.upass);return await sw(T.user),T.user}catch(T){switch(T.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw T}}},le=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{_("Waiting for NFC tag...");const T=new NDEFReader;R(T),await T.scan();const oe=await new Promise((Me,xe)=>{const be=async ie=>{try{const me=ie.serialNumber;if(!await x(me)){xe(new Error("Unauthorized NFC tag"));return}T.removeEventListener("reading",be),Me(me)}catch(me){xe(me)}};T.addEventListener("reading",be),setTimeout(()=>{T.removeEventListener("reading",be),xe(new Error("NFC tag read timeout"))},3e4)});return j(oe),z("NFC tag detected successfully","success"),oe}catch(T){throw z(T.message,"error"),T}finally{w&&(w.abort(),R(null))}},P=async()=>{const T=Gs(),oe=Zi();try{await Pl(T),console.log("User signed out successfully"),setTimeout(()=>{oe("/login")},2e3)}catch(Me){console.error("Error signing out:",Me)}},C=async()=>{if(!t)return null;try{z("Uploading selfie...","info");const T=n.email.replace(/[@.]/g,"_"),oe=pn(vb,`users/${T}/profile/${t.name}`),Me=await Vs(oe,t),xe=await Go(Me.ref);return z("Selfie uploaded successfully!","success"),xe}catch(T){throw z("Failed to upload selfie: "+T.message,"error"),T}},A=async()=>{try{d(!0);const T=await C();z("Saving your registration details...","info");const Me={...n,nfcSerialNumber:b,selfieUrl:T,position:"Teacher",createdAt:j0()},xe=await tm(jt(sv,"RegisteredTeacher"),Me);await Ml(xe,{currentnfcId:xe.id}),z("Registration details saved successfully!","success"),z("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(xe.id)}]}),z("NFC tag written successfully!","success"),z("Creating your account...","info");const ie=await ae();return await Ml(xe,{firebaseUserId:ie.uid}),z("Registration completed! Please check your email for verification.","success"),await P(),setTimeout(()=>{z(""),M()},5e3),xe.id}catch(T){console.error("Registration Error:",T);let oe="Registration failed: ";throw T.code==="auth/email-already-in-use"?oe="This email is already registered. Please use a different email.":T.code==="not-found"?oe="NFC tag not found. Please try again.":T.code==="network-error"?oe="Network connection issue. Please check your internet connection.":oe+=T.message,z(oe,"error"),T}finally{d(!1)}},x=async T=>{try{const oe=Yl(sv,"Toregistered",T);return(await em(oe)).exists()}catch(oe){return console.error("NFC Authorization Check Error:",oe),!1}},M=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),i(null),_(""),j(null),D.current&&(D.current.value="")},L=async T=>{if(T.preventDefault(),!("NDEFReader"in window)){z("NFC is not supported on this device","warning");return}try{if(z("Waiting for NFC tag... Please place your card","info"),await le(),z("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){j(null),z("");return}await A()}catch(oe){console.error("Registration Error:",oe),z("Registration process failed: "+oe.message,"error")}};return v.jsxs("div",{className:Bn.container,children:[v.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||p)&&v.jsx(Eb,{message:"NDEFReader"in window?p:"NFC is not supported on this device",type:"NDEFReader"in window?I:"warning",isProcessing:c}),v.jsxs("form",{onSubmit:L,className:Bn.form,children:[v.jsx("input",{type:"text",placeholder:"Teacher Name",value:n.name,onChange:T=>e({...n,name:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:T=>e({...n,email:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"text",placeholder:"Teacher ID",value:n.teacherId,onChange:T=>e({...n,teacherId:T.target.value}),required:!0,disabled:c}),v.jsx("input",{type:"text",placeholder:"Password",value:n.upass,onChange:T=>e({...n,upass:T.target.value}),required:!0,disabled:c}),v.jsxs("select",{value:n.campus,onChange:T=>e({...n,campus:T.target.value}),required:!0,disabled:c,children:[v.jsx("option",{value:"",children:"Select Campus"}),v.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),v.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),v.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),v.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),v.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),v.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),v.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),v.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),v.jsxs("div",{className:Bn.uploadOptionContainer,children:[v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>Q("capture"),disabled:c}),"Capture Selfie"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>Q("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",ref:D,onChange:G,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),v.jsx("button",{type:"button",onClick:()=>D.current.click(),className:Bt.buttons,disabled:c,children:"Take Profile Picture"})]}):v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",ref:H,onChange:G,accept:"image/*",style:{display:"none"},disabled:c}),v.jsx("button",{type:"button",onClick:()=>H.current.click(),className:Bt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&v.jsxs("p",{children:["Selected Image: ",t.name,v.jsx("button",{type:"button",onClick:()=>i(null),className:Bn.clearImageButton,disabled:c,children:"Clear"})]}),v.jsx("button",{type:"submit",className:`${Bt.buttons} ${c?"animate-pulse":""}`,disabled:!n.teacherId||!t||c||!("NDEFReader"in window),children:b?"Complete Registration":"Scan NFC Tag"})]})]})},Ib="_tableContainer_9o359_1",Sb="_registeredUsersContainer_9o359_11",Rb="_header_9o359_25",Cb="_usersTable_9o359_51",Ab="_loadingContainer_9o359_93",kb="_errorContainer_9o359_95",Pb="_noUsersContainer_9o359_97",bs={tableContainer:Ib,registeredUsersContainer:Sb,header:Rb,usersTable:Cb,loadingContainer:Ab,errorContainer:kb,noUsersContainer:Pb},xb=()=>{const[n,e]=V.useState([]),[t,i]=V.useState(!0),[o,l]=V.useState(null);return V.useEffect(()=>{(async()=>{try{const d=hi(),_=(await gn(jt(d,"RegisteredTeacher"))).docs.map(w=>({id:w.id,...w.data()}));e(_),i(!1)}catch(d){console.error("Error fetching registered teachers:",d),l("Failed to load teachers"),i(!1)}})()},[]),t?v.jsx("div",{className:bs.loadingContainer,children:"Loading teachers..."}):o?v.jsx("div",{className:bs.errorContainer,children:o}):v.jsxs("div",{className:bs.registeredUsersContainer,children:[v.jsxs("div",{className:bs.header,children:[v.jsx(Ko,{size:24}),v.jsx("h2",{children:"Registered Teachers"})]}),v.jsx("div",{className:bs.tableContainer,children:v.jsxs("table",{className:bs.usersTable,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Teacher ID"}),v.jsx("th",{children:"Name"}),v.jsx("th",{children:"Email"}),v.jsx("th",{children:"NFC CARD"}),v.jsx("th",{children:"Campus"}),v.jsx("th",{children:"Date Added"})]})}),v.jsx("tbody",{children:n.map(c=>v.jsxs("tr",{children:[v.jsx("td",{children:c.teacherId}),v.jsx("td",{children:c.name}),v.jsx("td",{children:c.email}),v.jsx("td",{children:c.currentnfcId}),v.jsx("td",{children:c.campus}),v.jsx("td",{children:new Date(c.createdAt*1e3).toLocaleString()})]},c.id))})]})}),n.length===0&&v.jsx("div",{className:bs.noUsersContainer,children:"No registered teachers found."})]})},Nb="_tableContainer_9o359_1",Db="_registeredUsersContainer_9o359_11",bb="_header_9o359_25",Ob="_usersTable_9o359_51",Lb="_loadingContainer_9o359_93",Vb="_errorContainer_9o359_95",Mb="_noUsersContainer_9o359_97",Os={tableContainer:Nb,registeredUsersContainer:Db,header:bb,usersTable:Ob,loadingContainer:Lb,errorContainer:Vb,noUsersContainer:Mb},Fb=()=>{const[n,e]=V.useState([]),[t,i]=V.useState(!0),[o,l]=V.useState(null);return V.useEffect(()=>{(async()=>{try{const d=hi(),_=(await gn(jt(d,"RegisteredStudent"))).docs.map(w=>({id:w.id,...w.data()}));e(_),i(!1)}catch(d){console.error("Error fetching registered students:",d),l("Failed to load students"),i(!1)}})()},[]),t?v.jsx("div",{className:Os.loadingContainer,children:"Loading students..."}):o?v.jsx("div",{className:Os.errorContainer,children:o}):v.jsxs("div",{className:Os.registeredUsersContainer,children:[v.jsxs("div",{className:Os.header,children:[v.jsx(Ko,{size:24}),v.jsx("h2",{children:"Registered Students"})]}),v.jsx("div",{className:Os.tableContainer,children:v.jsxs("table",{className:Os.usersTable,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Student ID"}),v.jsx("th",{children:"Name"}),v.jsx("th",{children:"Email"}),v.jsx("th",{children:"NFC CARD"}),v.jsx("th",{children:"Campus"}),v.jsx("th",{children:"Date Added"})]})}),v.jsx("tbody",{children:n.map(c=>v.jsxs("tr",{children:[v.jsx("td",{children:c.studentId}),v.jsx("td",{children:c.name}),v.jsx("td",{children:c.email}),v.jsx("td",{children:c.currentnfcId}),v.jsx("td",{children:c.campus}),v.jsx("td",{children:new Date(c.createdAt*1e3).toLocaleString()})]},c.id))})]})}),n.length===0&&v.jsx("div",{className:Os.noUsersContainer,children:"No registered students found."})]})};function jb(){return v.jsx(kI,{children:v.jsxs(iI,{children:[v.jsx(kn,{path:"/",element:v.jsx(D_,{to:"/login",replace:!0})}),v.jsx(kn,{path:"/login",element:v.jsx(hD,{})}),v.jsxs(kn,{path:"/dashboard/*",element:v.jsx(Ix,{}),children:[v.jsx(kn,{path:"create-event",element:v.jsx(Xx,{})}),v.jsx(kn,{path:"registered-teachers",element:v.jsx(xb,{})}),v.jsx(kn,{path:"registered-students",element:v.jsx(Fb,{})}),v.jsx(kn,{path:"teacher-registration",element:v.jsx(Tb,{})}),v.jsx(kn,{path:"student-registration",element:v.jsx(b2,{})}),v.jsx(kn,{path:"nfc-reader",element:v.jsx(X2,{})}),v.jsx(kn,{path:"event-list",element:v.jsx(ID,{})}),v.jsx(kn,{path:"file-manager",element:v.jsx(eb,{})})]}),v.jsx(kn,{path:"*",element:v.jsx(D_,{to:"/login",replace:!0})})]})})}const Ub=document.getElementById("root"),Bb=hT.createRoot(Ub);Bb.render(v.jsx(jb,{}));
