(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Jd={exports:{}},rl={},Zd={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function XE(){if(h_)return De;h_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),R=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=R&&j[R]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function L(j,Q,_e){this.props=j,this.context=Q,this.refs=U,this.updater=_e||N}L.prototype.isReactComponent={},L.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=L.prototype;function z(j,Q,_e){this.props=j,this.context=Q,this.refs=U,this.updater=_e||N}var G=z.prototype=new B;G.constructor=z,O(G,L.prototype),G.isPureReactComponent=!0;var J=Array.isArray,te=Object.prototype.hasOwnProperty,re={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(j,Q,_e){var Pe,xe={},Oe=null,Ue=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)te.call(Q,Pe)&&!x.hasOwnProperty(Pe)&&(xe[Pe]=Q[Pe]);var ie=arguments.length-2;if(ie===1)xe.children=_e;else if(1<ie){for(var ue=Array(ie),Re=0;Re<ie;Re++)ue[Re]=arguments[Re+2];xe.children=ue}if(j&&j.defaultProps)for(Pe in ie=j.defaultProps,ie)xe[Pe]===void 0&&(xe[Pe]=ie[Pe]);return{$$typeof:n,type:j,key:Oe,ref:Ue,props:xe,_owner:re.current}}function S(j,Q){return{$$typeof:n,type:j.type,key:Q,ref:j.ref,props:j.props,_owner:j._owner}}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function V(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(_e){return Q[_e]})}var b=/\/+/g;function A(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):Q.toString(36)}function be(j,Q,_e,Pe,xe){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Oe){case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=j,xe=xe(Ue),j=Pe===""?"."+A(Ue,0):Pe,J(xe)?(_e="",j!=null&&(_e=j.replace(b,"$&/")+"/"),be(xe,Q,_e,"",function(Re){return Re})):xe!=null&&(P(xe)&&(xe=S(xe,_e+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+j)),Q.push(xe)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",J(j))for(var ie=0;ie<j.length;ie++){Oe=j[ie];var ue=Pe+A(Oe,ie);Ue+=be(Oe,Q,_e,ue,xe)}else if(ue=T(j),typeof ue=="function")for(j=ue.call(j),ie=0;!(Oe=j.next()).done;)Oe=Oe.value,ue=Pe+A(Oe,ie++),Ue+=be(Oe,Q,_e,ue,xe);else if(Oe==="object")throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function st(j,Q,_e){if(j==null)return j;var Pe=[],xe=0;return be(j,Pe,"","",function(Oe){return Q.call(_e,Oe,xe++)}),Pe}function tt(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(_e){(j._status===0||j._status===-1)&&(j._status=1,j._result=_e)},function(_e){(j._status===0||j._status===-1)&&(j._status=2,j._result=_e)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var $e={current:null},oe={transition:null},ye={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:oe,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:st,forEach:function(j,Q,_e){st(j,function(){Q.apply(this,arguments)},_e)},count:function(j){var Q=0;return st(j,function(){Q++}),Q},toArray:function(j){return st(j,function(Q){return Q})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=L,De.Fragment=t,De.Profiler=o,De.PureComponent=z,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=le,De.cloneElement=function(j,Q,_e){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Pe=O({},j.props),xe=j.key,Oe=j.ref,Ue=j._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,Ue=re.current),Q.key!==void 0&&(xe=""+Q.key),j.type&&j.type.defaultProps)var ie=j.type.defaultProps;for(ue in Q)te.call(Q,ue)&&!x.hasOwnProperty(ue)&&(Pe[ue]=Q[ue]===void 0&&ie!==void 0?ie[ue]:Q[ue])}var ue=arguments.length-2;if(ue===1)Pe.children=_e;else if(1<ue){ie=Array(ue);for(var Re=0;Re<ue;Re++)ie[Re]=arguments[Re+2];Pe.children=ie}return{$$typeof:n,type:j.type,key:xe,ref:Oe,props:Pe,_owner:Ue}},De.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},De.createElement=C,De.createFactory=function(j){var Q=C.bind(null,j);return Q.type=j,Q},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:d,render:j}},De.isValidElement=P,De.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:tt}},De.memo=function(j,Q){return{$$typeof:_,type:j,compare:Q===void 0?null:Q}},De.startTransition=function(j){var Q=oe.transition;oe.transition={};try{j()}finally{oe.transition=Q}},De.unstable_act=le,De.useCallback=function(j,Q){return $e.current.useCallback(j,Q)},De.useContext=function(j){return $e.current.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j){return $e.current.useDeferredValue(j)},De.useEffect=function(j,Q){return $e.current.useEffect(j,Q)},De.useId=function(){return $e.current.useId()},De.useImperativeHandle=function(j,Q,_e){return $e.current.useImperativeHandle(j,Q,_e)},De.useInsertionEffect=function(j,Q){return $e.current.useInsertionEffect(j,Q)},De.useLayoutEffect=function(j,Q){return $e.current.useLayoutEffect(j,Q)},De.useMemo=function(j,Q){return $e.current.useMemo(j,Q)},De.useReducer=function(j,Q,_e){return $e.current.useReducer(j,Q,_e)},De.useRef=function(j){return $e.current.useRef(j)},De.useState=function(j){return $e.current.useState(j)},De.useSyncExternalStore=function(j,Q,_e){return $e.current.useSyncExternalStore(j,Q,_e)},De.useTransition=function(){return $e.current.useTransition()},De.version="18.3.1",De}var d_;function Gf(){return d_||(d_=1,Zd.exports=XE()),Zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function YE(){if(f_)return rl;f_=1;var n=Gf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var v,R={},T=null,N=null;_!==void 0&&(T=""+_),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(N=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(R[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)R[v]===void 0&&(R[v]=p[v]);return{$$typeof:e,type:d,key:T,ref:N,props:R,_owner:o.current}}return rl.Fragment=t,rl.jsx=c,rl.jsxs=c,rl}var p_;function JE(){return p_||(p_=1,Jd.exports=YE()),Jd.exports}var E=JE(),F=Gf(),ac={},ef={exports:{}},hn={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function ZE(){return m_||(m_=1,function(n){function e(oe,ye){var le=oe.length;oe.push(ye);e:for(;0<le;){var j=le-1>>>1,Q=oe[j];if(0<o(Q,ye))oe[j]=ye,oe[le]=Q,le=j;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ye=oe[0],le=oe.pop();if(le!==ye){oe[0]=le;e:for(var j=0,Q=oe.length,_e=Q>>>1;j<_e;){var Pe=2*(j+1)-1,xe=oe[Pe],Oe=Pe+1,Ue=oe[Oe];if(0>o(xe,le))Oe<Q&&0>o(Ue,xe)?(oe[j]=Ue,oe[Oe]=le,j=Oe):(oe[j]=xe,oe[Pe]=le,j=Pe);else if(Oe<Q&&0>o(Ue,le))oe[j]=Ue,oe[Oe]=le,j=Oe;else break e}}return ye}function o(oe,ye){var le=oe.sortIndex-ye.sortIndex;return le!==0?le:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],v=1,R=null,T=3,N=!1,O=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(oe){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=oe)i(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function J(oe){if(U=!1,G(oe),!O)if(t(p)!==null)O=!0,tt(te);else{var ye=t(_);ye!==null&&$e(J,ye.startTime-oe)}}function te(oe,ye){O=!1,U&&(U=!1,B(C),C=-1),N=!0;var le=T;try{for(G(ye),R=t(p);R!==null&&(!(R.expirationTime>ye)||oe&&!V());){var j=R.callback;if(typeof j=="function"){R.callback=null,T=R.priorityLevel;var Q=j(R.expirationTime<=ye);ye=n.unstable_now(),typeof Q=="function"?R.callback=Q:R===t(p)&&i(p),G(ye)}else i(p);R=t(p)}if(R!==null)var _e=!0;else{var Pe=t(_);Pe!==null&&$e(J,Pe.startTime-ye),_e=!1}return _e}finally{R=null,T=le,N=!1}}var re=!1,x=null,C=-1,S=5,P=-1;function V(){return!(n.unstable_now()-P<S)}function b(){if(x!==null){var oe=n.unstable_now();P=oe;var ye=!0;try{ye=x(!0,oe)}finally{ye?A():(re=!1,x=null)}}else re=!1}var A;if(typeof z=="function")A=function(){z(b)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,st=be.port2;be.port1.onmessage=b,A=function(){st.postMessage(null)}}else A=function(){L(b,0)};function tt(oe){x=oe,re||(re=!0,A())}function $e(oe,ye){C=L(function(){oe(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){O||N||(O=!0,tt(te))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var le=T;T=ye;try{return oe()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=T;T=oe;try{return ye()}finally{T=le}},n.unstable_scheduleCallback=function(oe,ye,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,oe){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,oe={id:v++,callback:ye,priorityLevel:oe,startTime:le,expirationTime:Q,sortIndex:-1},le>j?(oe.sortIndex=le,e(_,oe),t(p)===null&&oe===t(_)&&(U?(B(C),C=-1):U=!0,$e(J,le-j))):(oe.sortIndex=Q,e(p,oe),O||N||(O=!0,tt(te))),oe},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(oe){var ye=T;return function(){var le=T;T=ye;try{return oe.apply(this,arguments)}finally{T=le}}}}(nf)),nf}var g_;function eT(){return g_||(g_=1,tf.exports=ZE()),tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function tT(){if(__)return hn;__=1;var n=Gf(),e=eT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},R={};function T(r){return p.call(R,r)?!0:p.call(v,r)?!1:_.test(r)?R[r]=!0:(v[r]=!0,!1)}function N(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,h){if(s===null||typeof s>"u"||N(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new U(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new U(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new U(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new U(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new U(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new U(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new U(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new U(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new U(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,z);L[s]=new U(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,z);L[s]=new U(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,z);L[s]=new U(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new U(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new U(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,h){var f=L.hasOwnProperty(s)?L[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,h)&&(a=null),h||f===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),re=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,j;function Q(r){if(j===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var _e=!1;function Pe(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,k=g.length-1;1<=w&&0<=k&&f[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==g[k]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=k);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function xe(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case re:return"Portal";case S:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case st:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case tt:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qe(r){r._valueTracker||(r._valueTracker=Re(r))}function _n(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=ue(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ft(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nn(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Dr(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ie(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Yi(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Ji(r,s){Yi(r,s);var a=ie(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Hs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Hs(r,s.type,ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Wl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Hs(r,s,a){(s!=="number"||ft(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var br=Array.isArray;function Or(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ie(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ha(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function qs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(br(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ie(a)}}function Ws(r,s){var a=ie(s.value),h=ie(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function da(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Lr,fa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Lr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ai(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(r){es.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Zi[s]=Zi[r]})});function pa(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Zi.hasOwnProperty(r)&&Zi[r]?(""+s).trim():s+"px"}function ma(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=pa(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ga=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(r,s){if(s){if(ga[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ya(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function Ks(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gs=null,kn=null,lr=null;function Qs(r){if(r=za(r)){if(typeof Gs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Tu(s),Gs(r.stateNode,r.type,s))}}function ur(r){kn?lr?lr.push(r):lr=[r]:kn=r}function va(){if(kn){var r=kn,s=lr;if(lr=kn=null,Qs(r),s)for(r=0;r<s.length;r++)Qs(s[r])}}function ns(r,s){return r(s)}function wa(){}var Vr=!1;function Ea(r,s,a){if(Vr)return r(s,a);Vr=!0;try{return ns(r,s,a)}finally{Vr=!1,(kn!==null||lr!==null)&&(wa(),va())}}function pt(r,s){var a=r.stateNode;if(a===null)return null;var h=Tu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Xs=!1;if(d)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Xs=!1}function rs(r,s,a,h,f,g,w,k,D){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(ee){this.onError(ee)}}var is=!1,Ys=null,Bn=!1,Ta=null,Ch={onError:function(r){is=!0,Ys=r}};function Js(r,s,a,h,f,g,w,k,D){is=!1,Ys=null,rs.apply(Ch,arguments)}function Kl(r,s,a,h,f,g,w,k,D){if(Js.apply(this,arguments),is){if(is){var W=Ys;is=!1,Ys=null}else throw Error(t(198));Bn||(Bn=!0,Ta=W)}}function zn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ss(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function $n(r){if(zn(r)!==r)throw Error(t(188))}function Gl(r){var s=r.alternate;if(!s){if(s=zn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return $n(f),r;if(g===h)return $n(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,h=g;break}if(k===h){w=!0,h=f,a=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===a){w=!0,a=g,h=f;break}if(k===h){w=!0,h=g,a=f;break}k=k.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Ia(r){return r=Gl(r),r!==null?Zs(r):null}function Zs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Zs(r);if(s!==null)return s;r=r.sibling}return null}var eo=e.unstable_scheduleCallback,Sa=e.unstable_cancelCallback,Ql=e.unstable_shouldYield,Ah=e.unstable_requestPaint,Xe=e.unstable_now,Xl=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Ra=e.unstable_LowPriority,Yl=e.unstable_IdlePriority,as=null,yn=null;function Jl(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(as,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:eu,Ca=Math.log,Zl=Math.LN2;function eu(r){return r>>>=0,r===0?32:31-(Ca(r)/Zl|0)|0}var to=64,no=4194304;function ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ls(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var k=w&~f;k!==0?h=ui(k):(g&=w,g!==0&&(h=ui(g)))}else w=a&~f,w!==0?h=ui(w):g!==0&&(h=ui(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Xt(s),f=1<<a,h|=r[a],s&=~f;return h}function kh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Xt(g),k=1<<w,D=f[w];D===-1?(!(k&a)||k&h)&&(f[w]=kh(k,s)):D<=s&&(r.expiredLanes|=k),g&=~k}}function vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function us(){var r=to;return to<<=1,!(to&4194240)&&(to=64),r}function ci(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function hi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xt(s),r[s]=a}function Ge(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Xt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function di(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Xt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Me=0;function fi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var tu,ro,nu,ru,iu,Aa=!1,cr=[],Ot=null,Hn=null,qn=null,pi=new Map,xn=new Map,hr=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(r,s){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function rn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=za(s),s!==null&&ro(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function xh(r,s,a,h,f){switch(s){case"focusin":return Ot=rn(Ot,r,s,a,h,f),!0;case"dragenter":return Hn=rn(Hn,r,s,a,h,f),!0;case"mouseover":return qn=rn(qn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return pi.set(g,rn(pi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,xn.set(g,rn(xn.get(g)||null,r,s,a,h,f)),!0}return!1}function ou(r){var s=ps(r.target);if(s!==null){var a=zn(s);if(a!==null){if(s=a.tag,s===13){if(s=ss(a),s!==null){r.blockedOn=s,iu(r.priority,function(){nu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=io(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ts=h,a.target.dispatchEvent(h),ts=null}else return s=za(a),s!==null&&ro(s),r.blockedOn=a,!1;s.shift()}return!0}function cs(r,s,a){Fr(r)&&a.delete(s)}function au(){Aa=!1,Ot!==null&&Fr(Ot)&&(Ot=null),Hn!==null&&Fr(Hn)&&(Hn=null),qn!==null&&Fr(qn)&&(qn=null),pi.forEach(cs),xn.forEach(cs)}function Wn(r,s){r.blockedOn===s&&(r.blockedOn=null,Aa||(Aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,au)))}function Kn(r){function s(f){return Wn(f,r)}if(0<cr.length){Wn(cr[0],r);for(var a=1;a<cr.length;a++){var h=cr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ot!==null&&Wn(Ot,r),Hn!==null&&Wn(Hn,r),qn!==null&&Wn(qn,r),pi.forEach(s),xn.forEach(s),a=0;a<hr.length;a++)h=hr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)ou(a),a.blockedOn===null&&hr.shift()}var Ur=J.ReactCurrentBatchConfig,mi=!0;function nt(r,s,a,h){var f=Me,g=Ur.transition;Ur.transition=null;try{Me=1,ka(r,s,a,h)}finally{Me=f,Ur.transition=g}}function Nh(r,s,a,h){var f=Me,g=Ur.transition;Ur.transition=null;try{Me=4,ka(r,s,a,h)}finally{Me=f,Ur.transition=g}}function ka(r,s,a,h){if(mi){var f=io(r,s,a,h);if(f===null)zh(r,s,h,hs,a),su(r,h);else if(xh(f,r,s,a,h))h.stopPropagation();else if(su(r,h),s&4&&-1<Ph.indexOf(r)){for(;f!==null;){var g=za(f);if(g!==null&&tu(g),g=io(r,s,a,h),g===null&&zh(r,s,h,hs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else zh(r,s,h,null,a)}}var hs=null;function io(r,s,a,h){if(hs=null,r=Ks(h),r=ps(r),r!==null)if(s=zn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ss(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return hs=r,null}function Pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xl()){case os:return 1;case li:return 4;case Pn:case Ra:return 16;case Yl:return 536870912;default:return 16}default:return 16}}var wn=null,so=null,sn=null;function xa(){if(sn)return sn;var r,s=so,a=s.length,h,f="value"in wn?wn.value:wn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return sn=f.slice(r,1<h?1-h:void 0)}function oo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function dr(){return!0}function Na(){return!1}function Lt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?dr:Na,this.isPropagationStopped=Na,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Lt(Gn),fr=le({},Gn,{view:0,detail:0}),Dh=Lt(fr),lo,jr,gi,ds=le({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(lo=r.screenX-gi.screenX,jr=r.screenY-gi.screenY):jr=lo=0,gi=r),lo)},movementY:function(r){return"movementY"in r?r.movementY:jr}}),uo=Lt(ds),Da=le({},ds,{dataTransfer:0}),lu=Lt(Da),co=le({},fr,{relatedTarget:0}),ho=Lt(co),uu=le({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=Lt(uu),cu=le({},Gn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hu=Lt(cu),du=le({},Gn,{data:0}),ba=Lt(du),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fu[r])?!!s[r]:!1}function pr(){return pu}var u=le({},fr,{key:function(r){if(r.key){var s=fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Lt(u),y=le({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Lt(y),$=le({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),K=Lt($),ae=le({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Lt(ae),St=le({},ds,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Lt(St),Pt=[9,13,27,32],_t=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var En=d&&"TextEvent"in window&&!Nn,fs=d&&(!_t||Nn&&8<Nn&&11>=Nn),po=" ",sm=!1;function om(r,s){switch(r){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function K0(r,s){switch(r){case"compositionend":return am(s);case"keypress":return s.which!==32?null:(sm=!0,po);case"textInput":return r=s.data,r===po&&sm?null:r;default:return null}}function G0(r,s){if(mo)return r==="compositionend"||!_t&&om(r,s)?(r=xa(),sn=so=wn=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Q0[r.type]:s==="textarea"}function um(r,s,a,h){ur(h),s=vu(s,"onChange"),0<s.length&&(a=new ao("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Oa=null,La=null;function X0(r){Am(r,0)}function mu(r){var s=wo(r);if(_n(s))return r}function Y0(r,s){if(r==="change")return s}var cm=!1;if(d){var bh;if(d){var Oh="oninput"in document;if(!Oh){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Oh=typeof hm.oninput=="function"}bh=Oh}else bh=!1;cm=bh&&(!document.documentMode||9<document.documentMode)}function dm(){Oa&&(Oa.detachEvent("onpropertychange",fm),La=Oa=null)}function fm(r){if(r.propertyName==="value"&&mu(La)){var s=[];um(s,La,r,Ks(r)),Ea(X0,s)}}function J0(r,s,a){r==="focusin"?(dm(),Oa=s,La=a,Oa.attachEvent("onpropertychange",fm)):r==="focusout"&&dm()}function Z0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mu(La)}function eE(r,s){if(r==="click")return mu(s)}function tE(r,s){if(r==="input"||r==="change")return mu(s)}function nE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qn=typeof Object.is=="function"?Object.is:nE;function Va(r,s){if(Qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Qn(r[f],s[f]))return!1}return!0}function pm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mm(r,s){var a=pm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pm(a)}}function gm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?gm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function _m(){for(var r=window,s=ft();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ft(r.document)}return s}function Lh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function rE(r){var s=_m(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&gm(a.ownerDocument.documentElement,a)){if(h!==null&&Lh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=mm(a,g);var w=mm(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iE=d&&"documentMode"in document&&11>=document.documentMode,go=null,Vh=null,Ma=null,Mh=!1;function ym(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||go==null||go!==ft(h)||(h=go,"selectionStart"in h&&Lh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ma&&Va(Ma,h)||(Ma=h,h=vu(Vh,"onSelect"),0<h.length&&(s=new ao("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=go)))}function gu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var _o={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Fh={},vm={};d&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _u(r){if(Fh[r])return Fh[r];if(!_o[r])return r;var s=_o[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in vm)return Fh[r]=s[a];return r}var wm=_u("animationend"),Em=_u("animationiteration"),Tm=_u("animationstart"),Im=_u("transitionend"),Sm=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(r,s){Sm.set(r,s),l(s,[r])}for(var Uh=0;Uh<Rm.length;Uh++){var jh=Rm[Uh],sE=jh.toLowerCase(),oE=jh[0].toUpperCase()+jh.slice(1);_i(sE,"on"+oE)}_i(wm,"onAnimationEnd"),_i(Em,"onAnimationIteration"),_i(Tm,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Im,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Cm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Kl(h,s,void 0,r),r.currentTarget=null}function Am(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var k=h[w],D=k.instance,W=k.currentTarget;if(k=k.listener,D!==g&&f.isPropagationStopped())break e;Cm(f,k,W),g=D}else for(w=0;w<h.length;w++){if(k=h[w],D=k.instance,W=k.currentTarget,k=k.listener,D!==g&&f.isPropagationStopped())break e;Cm(f,k,W),g=D}}}if(Bn)throw r=Ta,Bn=!1,Ta=null,r}function Je(r,s){var a=s[Gh];a===void 0&&(a=s[Gh]=new Set);var h=r+"__bubble";a.has(h)||(km(s,r,2,!1),a.add(h))}function Bh(r,s,a){var h=0;s&&(h|=4),km(a,r,h,s)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[yu]){r[yu]=!0,i.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Bh(a,!1,r),Bh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yu]||(s[yu]=!0,Bh("selectionchange",!1,s))}}function km(r,s,a,h){switch(Pa(s)){case 1:var f=nt;break;case 4:f=Nh;break;default:f=ka}a=f.bind(null,s,a,r),f=void 0,!Xs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function zh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var k=h.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;k!==null;){if(w=ps(k),w===null)return;if(D=w.tag,D===5||D===6){h=g=w;continue e}k=k.parentNode}}h=h.return}Ea(function(){var W=g,ee=Ks(a),ne=[];e:{var Z=Sm.get(r);if(Z!==void 0){var ce=ao,pe=r;switch(r){case"keypress":if(oo(a)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":pe="focus",ce=ho;break;case"focusout":pe="blur",ce=ho;break;case"beforeblur":case"afterblur":ce=ho;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case wm:case Em:case Tm:ce=Br;break;case Im:ce=Ke;break;case"scroll":ce=Dh;break;case"wheel":ce=je;break;case"copy":case"cut":case"paste":ce=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var me=(s&4)!==0,mt=!me&&r==="scroll",H=me?Z!==null?Z+"Capture":null:Z;me=[];for(var M=W,q;M!==null;){q=M;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=pt(M,H),se!=null&&me.push(ja(M,se,q)))),mt)break;M=M.return}0<me.length&&(Z=new ce(Z,pe,null,a,ee),ne.push({event:Z,listeners:me}))}}if(!(s&7)){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&a!==ts&&(pe=a.relatedTarget||a.fromElement)&&(ps(pe)||pe[zr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=W,pe=pe?ps(pe):null,pe!==null&&(mt=zn(pe),pe!==mt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=W),ce!==pe)){if(me=uo,se="onMouseLeave",H="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(me=I,se="onPointerLeave",H="onPointerEnter",M="pointer"),mt=ce==null?Z:wo(ce),q=pe==null?Z:wo(pe),Z=new me(se,M+"leave",ce,a,ee),Z.target=mt,Z.relatedTarget=q,se=null,ps(ee)===W&&(me=new me(H,M+"enter",pe,a,ee),me.target=q,me.relatedTarget=mt,se=me),mt=se,ce&&pe)t:{for(me=ce,H=pe,M=0,q=me;q;q=yo(q))M++;for(q=0,se=H;se;se=yo(se))q++;for(;0<M-q;)me=yo(me),M--;for(;0<q-M;)H=yo(H),q--;for(;M--;){if(me===H||H!==null&&me===H.alternate)break t;me=yo(me),H=yo(H)}me=null}else me=null;ce!==null&&Pm(ne,Z,ce,me,!1),pe!==null&&mt!==null&&Pm(ne,mt,pe,me,!0)}}e:{if(Z=W?wo(W):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ge=Y0;else if(lm(Z))if(cm)ge=tE;else{ge=Z0;var we=J0}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=eE);if(ge&&(ge=ge(r,W))){um(ne,ge,a,ee);break e}we&&we(r,Z,W),r==="focusout"&&(we=Z._wrapperState)&&we.controlled&&Z.type==="number"&&Hs(Z,"number",Z.value)}switch(we=W?wo(W):window,r){case"focusin":(lm(we)||we.contentEditable==="true")&&(go=we,Vh=W,Ma=null);break;case"focusout":Ma=Vh=go=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,ym(ne,a,ee);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":ym(ne,a,ee)}var Ee;if(_t)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else mo?om(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(fs&&a.locale!=="ko"&&(mo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&mo&&(Ee=xa()):(wn=ee,so="value"in wn?wn.value:wn.textContent,mo=!0)),we=vu(W,Ie),0<we.length&&(Ie=new ba(Ie,r,null,a,ee),ne.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=am(a),Ee!==null&&(Ie.data=Ee)))),(Ee=En?K0(r,a):G0(r,a))&&(W=vu(W,"onBeforeInput"),0<W.length&&(ee=new ba("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:W}),ee.data=Ee))}Am(ne,s)})}function ja(r,s,a){return{instance:r,listener:s,currentTarget:a}}function vu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=pt(r,a),g!=null&&h.unshift(ja(r,g,f)),g=pt(r,s),g!=null&&h.push(ja(r,g,f))),r=r.return}return h}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Pm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var k=a,D=k.alternate,W=k.stateNode;if(D!==null&&D===h)break;k.tag===5&&W!==null&&(k=W,f?(D=pt(a,g),D!=null&&w.unshift(ja(a,D,k))):f||(D=pt(a,g),D!=null&&w.push(ja(a,D,k)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function xm(r){return(typeof r=="string"?r:""+r).replace(lE,`
`).replace(uE,"")}function wu(r,s,a){if(s=xm(s),xm(r)!==s&&a)throw Error(t(425))}function Eu(){}var $h=null,Hh=null;function qh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,hE=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(r){return Nm.resolve(null).then(r).catch(dE)}:Wh;function dE(r){setTimeout(function(){throw r})}function Kh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Kn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Kn(s)}function yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Dm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var vo=Math.random().toString(36).slice(2),mr="__reactFiber$"+vo,Ba="__reactProps$"+vo,zr="__reactContainer$"+vo,Gh="__reactEvents$"+vo,fE="__reactListeners$"+vo,pE="__reactHandles$"+vo;function ps(r){var s=r[mr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[zr]||a[mr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Dm(r);r!==null;){if(a=r[mr])return a;r=Dm(r)}return s}r=a,a=r.parentNode}return null}function za(r){return r=r[mr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Tu(r){return r[Ba]||null}var Qh=[],Eo=-1;function vi(r){return{current:r}}function Ze(r){0>Eo||(r.current=Qh[Eo],Qh[Eo]=null,Eo--)}function Ye(r,s){Eo++,Qh[Eo]=r.current,r.current=s}var wi={},Bt=vi(wi),on=vi(!1),ms=wi;function To(r,s){var a=r.type.contextTypes;if(!a)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function an(r){return r=r.childContextTypes,r!=null}function Iu(){Ze(on),Ze(Bt)}function bm(r,s,a){if(Bt.current!==wi)throw Error(t(168));Ye(Bt,s),Ye(on,a)}function Om(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ue(r)||"Unknown",f));return le({},a,h)}function Su(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,ms=Bt.current,Ye(Bt,r),Ye(on,on.current),!0}function Lm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Om(r,s,ms),h.__reactInternalMemoizedMergedChildContext=r,Ze(on),Ze(Bt),Ye(Bt,r)):Ze(on),Ye(on,a)}var $r=null,Ru=!1,Xh=!1;function Vm(r){$r===null?$r=[r]:$r.push(r)}function mE(r){Ru=!0,Vm(r)}function Ei(){if(!Xh&&$r!==null){Xh=!0;var r=0,s=Me;try{var a=$r;for(Me=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}$r=null,Ru=!1}catch(f){throw $r!==null&&($r=$r.slice(r+1)),eo(os,Ei),f}finally{Me=s,Xh=!1}}return null}var Io=[],So=0,Cu=null,Au=0,Dn=[],bn=0,gs=null,Hr=1,qr="";function _s(r,s){Io[So++]=Au,Io[So++]=Cu,Cu=r,Au=s}function Mm(r,s,a){Dn[bn++]=Hr,Dn[bn++]=qr,Dn[bn++]=gs,gs=r;var h=Hr;r=qr;var f=32-Xt(h)-1;h&=~(1<<f),a+=1;var g=32-Xt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Hr=1<<32-Xt(s)+f|a<<f|h,qr=g+r}else Hr=1<<g|a<<f|h,qr=r}function Yh(r){r.return!==null&&(_s(r,1),Mm(r,1,0))}function Jh(r){for(;r===Cu;)Cu=Io[--So],Io[So]=null,Au=Io[--So],Io[So]=null;for(;r===gs;)gs=Dn[--bn],Dn[bn]=null,qr=Dn[--bn],Dn[bn]=null,Hr=Dn[--bn],Dn[bn]=null}var Tn=null,In=null,rt=!1,Xn=null;function Fm(r,s){var a=Mn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Um(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tn=r,In=yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=gs!==null?{id:Hr,overflow:qr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Mn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Tn=r,In=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ed(r){if(rt){var s=In;if(s){var a=s;if(!Um(r,s)){if(Zh(r))throw Error(t(418));s=yi(a.nextSibling);var h=Tn;s&&Um(r,s)?Fm(h,a):(r.flags=r.flags&-4097|2,rt=!1,Tn=r)}}else{if(Zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,Tn=r}}}function jm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function ku(r){if(r!==Tn)return!1;if(!rt)return jm(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!qh(r.type,r.memoizedProps)),s&&(s=In)){if(Zh(r))throw Bm(),Error(t(418));for(;s;)Fm(r,s),s=yi(s.nextSibling)}if(jm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){In=yi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}In=null}}else In=Tn?yi(r.stateNode.nextSibling):null;return!0}function Bm(){for(var r=In;r;)r=yi(r.nextSibling)}function Ro(){In=Tn=null,rt=!1}function td(r){Xn===null?Xn=[r]:Xn.push(r)}var gE=J.ReactCurrentBatchConfig;function $a(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var k=f.refs;w===null?delete k[g]:k[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Pu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function zm(r){var s=r._init;return s(r._payload)}function $m(r){function s(H,M){if(r){var q=H.deletions;q===null?(H.deletions=[M],H.flags|=16):q.push(M)}}function a(H,M){if(!r)return null;for(;M!==null;)s(H,M),M=M.sibling;return null}function h(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function f(H,M){return H=Pi(H,M),H.index=0,H.sibling=null,H}function g(H,M,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<M?(H.flags|=2,M):q):(H.flags|=2,M)):(H.flags|=1048576,M)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function k(H,M,q,se){return M===null||M.tag!==6?(M=Wd(q,H.mode,se),M.return=H,M):(M=f(M,q),M.return=H,M)}function D(H,M,q,se){var ge=q.type;return ge===x?ee(H,M,q.props.children,se,q.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===tt&&zm(ge)===M.type)?(se=f(M,q.props),se.ref=$a(H,M,q),se.return=H,se):(se=Zu(q.type,q.key,q.props,null,H.mode,se),se.ref=$a(H,M,q),se.return=H,se)}function W(H,M,q,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Kd(q,H.mode,se),M.return=H,M):(M=f(M,q.children||[]),M.return=H,M)}function ee(H,M,q,se,ge){return M===null||M.tag!==7?(M=Rs(q,H.mode,se,ge),M.return=H,M):(M=f(M,q),M.return=H,M)}function ne(H,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Wd(""+M,H.mode,q),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case te:return q=Zu(M.type,M.key,M.props,null,H.mode,q),q.ref=$a(H,null,M),q.return=H,q;case re:return M=Kd(M,H.mode,q),M.return=H,M;case tt:var se=M._init;return ne(H,se(M._payload),q)}if(br(M)||ye(M))return M=Rs(M,H.mode,q,null),M.return=H,M;Pu(H,M)}return null}function Z(H,M,q,se){var ge=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:k(H,M,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case te:return q.key===ge?D(H,M,q,se):null;case re:return q.key===ge?W(H,M,q,se):null;case tt:return ge=q._init,Z(H,M,ge(q._payload),se)}if(br(q)||ye(q))return ge!==null?null:ee(H,M,q,se,null);Pu(H,q)}return null}function ce(H,M,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,k(M,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case te:return H=H.get(se.key===null?q:se.key)||null,D(M,H,se,ge);case re:return H=H.get(se.key===null?q:se.key)||null,W(M,H,se,ge);case tt:var we=se._init;return ce(H,M,q,we(se._payload),ge)}if(br(se)||ye(se))return H=H.get(q)||null,ee(M,H,se,ge,null);Pu(M,se)}return null}function pe(H,M,q,se){for(var ge=null,we=null,Ee=M,Ie=M=0,Dt=null;Ee!==null&&Ie<q.length;Ie++){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var He=Z(H,Ee,q[Ie],se);if(He===null){Ee===null&&(Ee=Dt);break}r&&Ee&&He.alternate===null&&s(H,Ee),M=g(He,M,Ie),we===null?ge=He:we.sibling=He,we=He,Ee=Dt}if(Ie===q.length)return a(H,Ee),rt&&_s(H,Ie),ge;if(Ee===null){for(;Ie<q.length;Ie++)Ee=ne(H,q[Ie],se),Ee!==null&&(M=g(Ee,M,Ie),we===null?ge=Ee:we.sibling=Ee,we=Ee);return rt&&_s(H,Ie),ge}for(Ee=h(H,Ee);Ie<q.length;Ie++)Dt=ce(Ee,H,Ie,q[Ie],se),Dt!==null&&(r&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ie:Dt.key),M=g(Dt,M,Ie),we===null?ge=Dt:we.sibling=Dt,we=Dt);return r&&Ee.forEach(function(xi){return s(H,xi)}),rt&&_s(H,Ie),ge}function me(H,M,q,se){var ge=ye(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var we=ge=null,Ee=M,Ie=M=0,Dt=null,He=q.next();Ee!==null&&!He.done;Ie++,He=q.next()){Ee.index>Ie?(Dt=Ee,Ee=null):Dt=Ee.sibling;var xi=Z(H,Ee,He.value,se);if(xi===null){Ee===null&&(Ee=Dt);break}r&&Ee&&xi.alternate===null&&s(H,Ee),M=g(xi,M,Ie),we===null?ge=xi:we.sibling=xi,we=xi,Ee=Dt}if(He.done)return a(H,Ee),rt&&_s(H,Ie),ge;if(Ee===null){for(;!He.done;Ie++,He=q.next())He=ne(H,He.value,se),He!==null&&(M=g(He,M,Ie),we===null?ge=He:we.sibling=He,we=He);return rt&&_s(H,Ie),ge}for(Ee=h(H,Ee);!He.done;Ie++,He=q.next())He=ce(Ee,H,Ie,He.value,se),He!==null&&(r&&He.alternate!==null&&Ee.delete(He.key===null?Ie:He.key),M=g(He,M,Ie),we===null?ge=He:we.sibling=He,we=He);return r&&Ee.forEach(function(QE){return s(H,QE)}),rt&&_s(H,Ie),ge}function mt(H,M,q,se){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case te:e:{for(var ge=q.key,we=M;we!==null;){if(we.key===ge){if(ge=q.type,ge===x){if(we.tag===7){a(H,we.sibling),M=f(we,q.props.children),M.return=H,H=M;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===tt&&zm(ge)===we.type){a(H,we.sibling),M=f(we,q.props),M.ref=$a(H,we,q),M.return=H,H=M;break e}a(H,we);break}else s(H,we);we=we.sibling}q.type===x?(M=Rs(q.props.children,H.mode,se,q.key),M.return=H,H=M):(se=Zu(q.type,q.key,q.props,null,H.mode,se),se.ref=$a(H,M,q),se.return=H,H=se)}return w(H);case re:e:{for(we=q.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(H,M.sibling),M=f(M,q.children||[]),M.return=H,H=M;break e}else{a(H,M);break}else s(H,M);M=M.sibling}M=Kd(q,H.mode,se),M.return=H,H=M}return w(H);case tt:return we=q._init,mt(H,M,we(q._payload),se)}if(br(q))return pe(H,M,q,se);if(ye(q))return me(H,M,q,se);Pu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(a(H,M.sibling),M=f(M,q),M.return=H,H=M):(a(H,M),M=Wd(q,H.mode,se),M.return=H,H=M),w(H)):a(H,M)}return mt}var Co=$m(!0),Hm=$m(!1),xu=vi(null),Nu=null,Ao=null,nd=null;function rd(){nd=Ao=Nu=null}function id(r){var s=xu.current;Ze(xu),r._currentValue=s}function sd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function ko(r,s){Nu=r,nd=Ao=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(ln=!0),r.firstContext=null)}function On(r){var s=r._currentValue;if(nd!==r)if(r={context:r,memoizedValue:s,next:null},Ao===null){if(Nu===null)throw Error(t(308));Ao=r,Nu.dependencies={lanes:0,firstContext:r}}else Ao=Ao.next=r;return s}var ys=null;function od(r){ys===null?ys=[r]:ys.push(r)}function qm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,od(s)):(a.next=f.next,f.next=a),s.interleaved=a,Wr(r,h)}function Wr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ti=!1;function ad(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,ze&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Wr(r,a)}return f=h.interleaved,f===null?(s.next=s,od(h)):(s.next=f.next,f.next=s),h.interleaved=s,Wr(r,a)}function Du(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,di(r,a)}}function Km(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function bu(r,s,a,h){var f=r.updateQueue;Ti=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var D=k,W=D.next;D.next=null,w===null?g=W:w.next=W,w=D;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==w&&(k===null?ee.firstBaseUpdate=W:k.next=W,ee.lastBaseUpdate=D))}if(g!==null){var ne=f.baseState;w=0,ee=W=D=null,k=g;do{var Z=k.lane,ce=k.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var pe=r,me=k;switch(Z=s,ce=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ce,ne,Z);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Z=typeof pe=="function"?pe.call(ce,ne,Z):pe,Z==null)break e;ne=le({},ne,Z);break e;case 2:Ti=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[k]:Z.push(k))}else ce={eventTime:ce,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(W=ee=ce,D=ne):ee=ee.next=ce,w|=Z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Es|=w,r.lanes=w,r.memoizedState=ne}}function Gm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ha={},gr=vi(Ha),qa=vi(Ha),Wa=vi(Ha);function vs(r){if(r===Ha)throw Error(t(174));return r}function ld(r,s){switch(Ye(Wa,s),Ye(qa,r),Ye(gr,Ha),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=It(s,r)}Ze(gr),Ye(gr,s)}function Po(){Ze(gr),Ze(qa),Ze(Wa)}function Qm(r){vs(Wa.current);var s=vs(gr.current),a=It(s,r.type);s!==a&&(Ye(qa,r),Ye(gr,a))}function ud(r){qa.current===r&&(Ze(gr),Ze(qa))}var ot=vi(0);function Ou(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cd=[];function hd(){for(var r=0;r<cd.length;r++)cd[r]._workInProgressVersionPrimary=null;cd.length=0}var Lu=J.ReactCurrentDispatcher,dd=J.ReactCurrentBatchConfig,ws=0,at=null,Rt=null,xt=null,Vu=!1,Ka=!1,Ga=0,_E=0;function zt(){throw Error(t(321))}function fd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Qn(r[a],s[a]))return!1;return!0}function pd(r,s,a,h,f,g){if(ws=g,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lu.current=r===null||r.memoizedState===null?EE:TE,r=a(h,f),Ka){g=0;do{if(Ka=!1,Ga=0,25<=g)throw Error(t(301));g+=1,xt=Rt=null,s.updateQueue=null,Lu.current=IE,r=a(h,f)}while(Ka)}if(Lu.current=Uu,s=Rt!==null&&Rt.next!==null,ws=0,xt=Rt=at=null,Vu=!1,s)throw Error(t(300));return r}function md(){var r=Ga!==0;return Ga=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=r:xt=xt.next=r,xt}function Ln(){if(Rt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=xt===null?at.memoizedState:xt.next;if(s!==null)xt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},xt===null?at.memoizedState=xt=r:xt=xt.next=r}return xt}function Qa(r,s){return typeof s=="function"?s(r):s}function gd(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Rt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var k=w=null,D=null,W=g;do{var ee=W.lane;if((ws&ee)===ee)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(k=D=ne,w=h):D=D.next=ne,at.lanes|=ee,Es|=ee}W=W.next}while(W!==null&&W!==g);D===null?w=h:D.next=k,Qn(h,s.memoizedState)||(ln=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,at.lanes|=g,Es|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function _d(r){var s=Ln(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Qn(g,s.memoizedState)||(ln=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Xm(){}function Ym(r,s){var a=at,h=Ln(),f=s(),g=!Qn(h.memoizedState,f);if(g&&(h.memoizedState=f,ln=!0),h=h.queue,yd(eg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Xa(9,Zm.bind(null,a,h,f,s),void 0,null),Nt===null)throw Error(t(349));ws&30||Jm(a,s,f)}return f}function Jm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Zm(r,s,a,h){s.value=a,s.getSnapshot=h,tg(s)&&ng(r)}function eg(r,s,a){return a(function(){tg(s)&&ng(r)})}function tg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Qn(r,a)}catch{return!0}}function ng(r){var s=Wr(r,1);s!==null&&er(s,r,1,-1)}function rg(r){var s=_r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},s.queue=r,r=r.dispatch=wE.bind(null,at,r),[s.memoizedState,r]}function Xa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function ig(){return Ln().memoizedState}function Mu(r,s,a,h){var f=_r();at.flags|=r,f.memoizedState=Xa(1|s,a,void 0,h===void 0?null:h)}function Fu(r,s,a,h){var f=Ln();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var w=Rt.memoizedState;if(g=w.destroy,h!==null&&fd(h,w.deps)){f.memoizedState=Xa(s,a,g,h);return}}at.flags|=r,f.memoizedState=Xa(1|s,a,g,h)}function sg(r,s){return Mu(8390656,8,r,s)}function yd(r,s){return Fu(2048,8,r,s)}function og(r,s){return Fu(4,2,r,s)}function ag(r,s){return Fu(4,4,r,s)}function lg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ug(r,s,a){return a=a!=null?a.concat([r]):null,Fu(4,4,lg.bind(null,s,r),a)}function vd(){}function cg(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function hg(r,s){var a=Ln();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&fd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function dg(r,s,a){return ws&21?(Qn(a,s)||(a=us(),at.lanes|=a,Es|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=a)}function yE(r,s){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var h=dd.transition;dd.transition={};try{r(!1),s()}finally{Me=a,dd.transition=h}}function fg(){return Ln().memoizedState}function vE(r,s,a){var h=Ai(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},pg(r))mg(s,a);else if(a=qm(r,s,a,h),a!==null){var f=Zt();er(a,r,h,f),gg(a,s,h)}}function wE(r,s,a){var h=Ai(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(pg(r))mg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,k=g(w,a);if(f.hasEagerState=!0,f.eagerState=k,Qn(k,w)){var D=s.interleaved;D===null?(f.next=f,od(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=qm(r,s,f,h),a!==null&&(f=Zt(),er(a,r,h,f),gg(a,s,h))}}function pg(r){var s=r.alternate;return r===at||s!==null&&s===at}function mg(r,s){Ka=Vu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function gg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,di(r,a)}}var Uu={readContext:On,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},EE={readContext:On,useCallback:function(r,s){return _r().memoizedState=[r,s===void 0?null:s],r},useContext:On,useEffect:sg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Mu(4194308,4,lg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Mu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Mu(4,2,r,s)},useMemo:function(r,s){var a=_r();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=_r();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=vE.bind(null,at,r),[h.memoizedState,r]},useRef:function(r){var s=_r();return r={current:r},s.memoizedState=r},useState:rg,useDebugValue:vd,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=rg(!1),s=r[0];return r=yE.bind(null,r[1]),_r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=at,f=_r();if(rt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));ws&30||Jm(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,sg(eg.bind(null,h,g,r),[r]),h.flags|=2048,Xa(9,Zm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=_r(),s=Nt.identifierPrefix;if(rt){var a=qr,h=Hr;a=(h&~(1<<32-Xt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ga++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=_E++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},TE={readContext:On,useCallback:cg,useContext:On,useEffect:yd,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:gd,useRef:ig,useState:function(){return gd(Qa)},useDebugValue:vd,useDeferredValue:function(r){var s=Ln();return dg(s,Rt.memoizedState,r)},useTransition:function(){var r=gd(Qa)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Xm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1},IE={readContext:On,useCallback:cg,useContext:On,useEffect:yd,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:_d,useRef:ig,useState:function(){return _d(Qa)},useDebugValue:vd,useDeferredValue:function(r){var s=Ln();return Rt===null?s.memoizedState=r:dg(s,Rt.memoizedState,r)},useTransition:function(){var r=_d(Qa)[0],s=Ln().memoizedState;return[r,s]},useMutableSource:Xm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1};function Yn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function wd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ju={isMounted:function(r){return(r=r._reactInternals)?zn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Zt(),f=Ai(r),g=Kr(h,f);g.payload=s,a!=null&&(g.callback=a),s=Ii(r,g,f),s!==null&&(er(s,r,f,h),Du(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Zt(),f=Ai(r),g=Kr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ii(r,g,f),s!==null&&(er(s,r,f,h),Du(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Zt(),h=Ai(r),f=Kr(a,h);f.tag=2,s!=null&&(f.callback=s),s=Ii(r,f,h),s!==null&&(er(s,r,h,a),Du(s,r,h))}};function _g(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Va(a,h)||!Va(f,g):!0}function yg(r,s,a){var h=!1,f=wi,g=s.contextType;return typeof g=="object"&&g!==null?g=On(g):(f=an(s)?ms:Bt.current,h=s.contextTypes,g=(h=h!=null)?To(r,f):wi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ju,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function vg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&ju.enqueueReplaceState(s,s.state,null)}function Ed(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},ad(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=On(g):(g=an(s)?ms:Bt.current,f.context=To(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&ju.enqueueReplaceState(f,f.state,null),bu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function xo(r,s){try{var a="",h=s;do a+=xe(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Td(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Id(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var SE=typeof WeakMap=="function"?WeakMap:Map;function wg(r,s,a){a=Kr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Ku||(Ku=!0,Fd=h),Id(r,s)},a}function Eg(r,s,a){a=Kr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Id(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Id(r,s),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Tg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new SE;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=FE.bind(null,r,s,a),s.then(r,r))}function Ig(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Sg(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Kr(-1,1),s.tag=2,Ii(a,s,1))),a.lanes|=1),r)}var RE=J.ReactCurrentOwner,ln=!1;function Jt(r,s,a,h){s.child=r===null?Hm(s,null,a,h):Co(s,r.child,a,h)}function Rg(r,s,a,h,f){a=a.render;var g=s.ref;return ko(s,f),h=pd(r,s,a,h,g,f),a=md(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Gr(r,s,f)):(rt&&a&&Yh(s),s.flags|=1,Jt(r,s,h,f),s.child)}function Cg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!qd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Ag(r,s,g,h,f)):(r=Zu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Va,a(w,h)&&r.ref===s.ref)return Gr(r,s,f)}return s.flags|=1,r=Pi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Ag(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Va(g,h)&&r.ref===s.ref)if(ln=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(ln=!0);else return s.lanes=r.lanes,Gr(r,s,f)}return Sd(r,s,a,h,f)}function kg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Do,Sn),Sn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(Do,Sn),Sn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ye(Do,Sn),Sn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ye(Do,Sn),Sn|=h;return Jt(r,s,f,a),s.child}function Pg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Sd(r,s,a,h,f){var g=an(a)?ms:Bt.current;return g=To(s,g),ko(s,f),a=pd(r,s,a,h,g,f),h=md(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Gr(r,s,f)):(rt&&h&&Yh(s),s.flags|=1,Jt(r,s,a,f),s.child)}function xg(r,s,a,h,f){if(an(a)){var g=!0;Su(s)}else g=!1;if(ko(s,f),s.stateNode===null)zu(r,s),yg(s,a,h),Ed(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,k=s.memoizedProps;w.props=k;var D=w.context,W=a.contextType;typeof W=="object"&&W!==null?W=On(W):(W=an(a)?ms:Bt.current,W=To(s,W));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==h||D!==W)&&vg(s,w,h,W),Ti=!1;var Z=s.memoizedState;w.state=Z,bu(s,h,w,f),D=s.memoizedState,k!==h||Z!==D||on.current||Ti?(typeof ee=="function"&&(wd(s,a,ee,h),D=s.memoizedState),(k=Ti||_g(s,a,k,h,Z,D,W))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),w.props=h,w.state=D,w.context=W,h=k):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Wm(r,s),k=s.memoizedProps,W=s.type===s.elementType?k:Yn(s.type,k),w.props=W,ne=s.pendingProps,Z=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=On(D):(D=an(a)?ms:Bt.current,D=To(s,D));var ce=a.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==ne||Z!==D)&&vg(s,w,h,D),Ti=!1,Z=s.memoizedState,w.state=Z,bu(s,h,w,f);var pe=s.memoizedState;k!==ne||Z!==pe||on.current||Ti?(typeof ce=="function"&&(wd(s,a,ce,h),pe=s.memoizedState),(W=Ti||_g(s,a,W,h,Z,pe,D)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,pe,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,pe,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),w.props=h,w.state=pe,w.context=D,h=W):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return Rd(r,s,a,h,g,f)}function Rd(r,s,a,h,f,g){Pg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Lm(s,a,!1),Gr(r,s,g);h=s.stateNode,RE.current=s;var k=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Co(s,r.child,null,g),s.child=Co(s,null,k,g)):Jt(r,s,k,g),s.memoizedState=h.state,f&&Lm(s,a,!0),s.child}function Ng(r){var s=r.stateNode;s.pendingContext?bm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&bm(r,s.context,!1),ld(r,s.containerInfo)}function Dg(r,s,a,h,f){return Ro(),td(f),s.flags|=256,Jt(r,s,a,h),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Ad(r){return{baseLanes:r,cachePool:null,transitions:null}}function bg(r,s,a){var h=s.pendingProps,f=ot.current,g=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(ot,f&1),r===null)return ed(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ec(w,h,0,null),r=Rs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Ad(a),s.memoizedState=Cd,r):kd(s,w));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return CE(r,s,w,h,k,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,k=f.sibling;var D={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Pi(f,D),h.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Pi(k,g):(g=Rs(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Ad(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Cd,h}return g=r.child,r=g.sibling,h=Pi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function kd(r,s){return s=ec({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Bu(r,s,a,h){return h!==null&&td(h),Co(s,r.child,null,a),r=kd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function CE(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Td(Error(t(422))),Bu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=ec({mode:"visible",children:h.children},f,0,null),g=Rs(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Co(s,r.child,null,w),s.child.memoizedState=Ad(w),s.memoizedState=Cd,g);if(!(s.mode&1))return Bu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(t(419)),h=Td(g,h,void 0),Bu(r,s,w,h)}if(k=(w&r.childLanes)!==0,ln||k){if(h=Nt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Wr(r,f),er(h,r,f,-1))}return Hd(),h=Td(Error(t(421))),Bu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=UE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,In=yi(f.nextSibling),Tn=s,rt=!0,Xn=null,r!==null&&(Dn[bn++]=Hr,Dn[bn++]=qr,Dn[bn++]=gs,Hr=r.id,qr=r.overflow,gs=s),s=kd(s,h.children),s.flags|=4096,s)}function Og(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),sd(r.return,s,a)}function Pd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Lg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Jt(r,s,h.children,a),h=ot.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Og(r,a,s);else if(r.tag===19)Og(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(ot,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Ou(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Pd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ou(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Pd(s,!0,a,null,g);break;case"together":Pd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Gr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function AE(r,s,a){switch(s.tag){case 3:Ng(s),Ro();break;case 5:Qm(s);break;case 1:an(s.type)&&Su(s);break;case 4:ld(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ye(xu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(ot,ot.current&1),s.flags|=128,null):a&s.child.childLanes?bg(r,s,a):(Ye(ot,ot.current&1),r=Gr(r,s,a),r!==null?r.sibling:null);Ye(ot,ot.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Lg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(ot,ot.current),h)break;return null;case 22:case 23:return s.lanes=0,kg(r,s,a)}return Gr(r,s,a)}var Vg,xd,Mg,Fg;Vg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xd=function(){},Mg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,vs(gr.current);var g=null;switch(a){case"input":f=nn(r,f),h=nn(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=ha(r,f),h=ha(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Eu)}_a(a,h);var w;a=null;for(W in f)if(!h.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var k=f[W];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var D=h[W];if(k=f!=null?f[W]:void 0,h.hasOwnProperty(W)&&D!==k&&(D!=null||k!=null))if(W==="style")if(k){for(w in k)!k.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&k[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,k=k?k.__html:void 0,D!=null&&k!==D&&(g=g||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&Je("scroll",r),g||k===D||(g=[])):(g=g||[]).push(W,D))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Fg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ya(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function kE(r,s,a){var h=s.pendingProps;switch(Jh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return an(s.type)&&Iu(),$t(s),null;case 3:return h=s.stateNode,Po(),Ze(on),Ze(Bt),hd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Xn!==null&&(Bd(Xn),Xn=null))),xd(r,s),$t(s),null;case 5:ud(s);var f=vs(Wa.current);if(a=s.type,r!==null&&s.stateNode!=null)Mg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=vs(gr.current),ku(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[mr]=s,h[Ba]=g,r=(s.mode&1)!==0,a){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Dr(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":qs(h,g),Je("invalid",h)}_a(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&wu(h.textContent,k,r),f=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&wu(h.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Je("scroll",h)}switch(a){case"input":Qe(h),Wl(h,g,!0);break;case"textarea":Qe(h),da(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Eu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[mr]=s,r[Ba]=h,Vg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ya(a,h),a){case"dialog":Je("cancel",r),Je("close",r),f=h;break;case"iframe":case"object":case"embed":Je("load",r),f=h;break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],r);f=h;break;case"source":Je("error",r),f=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=h;break;case"details":Je("toggle",r),f=h;break;case"input":Dr(r,h),f=nn(r,h),Je("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Je("invalid",r);break;case"textarea":qs(r,h),f=ha(r,h),Je("invalid",r);break;default:f=h}_a(a,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var D=k[g];g==="style"?ma(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&fa(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&ai(r,D):typeof D=="number"&&ai(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Je("scroll",r):D!=null&&G(r,g,D,w))}switch(a){case"input":Qe(r),Wl(r,h,!1);break;case"textarea":Qe(r),da(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ie(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Or(r,!!h.multiple,g,!1):h.defaultValue!=null&&Or(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Eu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)Fg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=vs(Wa.current),vs(gr.current),ku(s)){if(h=s.stateNode,a=s.memoizedProps,h[mr]=s,(g=h.nodeValue!==a)&&(r=Tn,r!==null))switch(r.tag){case 3:wu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[mr]=s,s.stateNode=h}return $t(s),null;case 13:if(Ze(ot),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&In!==null&&s.mode&1&&!(s.flags&128))Bm(),Ro(),s.flags|=98560,g=!1;else if(g=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[mr]=s}else Ro(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else Xn!==null&&(Bd(Xn),Xn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||ot.current&1?Ct===0&&(Ct=3):Hd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Po(),xd(r,s),r===null&&Ua(s.stateNode.containerInfo),$t(s),null;case 10:return id(s.type._context),$t(s),null;case 17:return an(s.type)&&Iu(),$t(s),null;case 19:if(Ze(ot),g=s.memoizedState,g===null)return $t(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ya(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Ou(r),w!==null){for(s.flags|=128,Ya(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ye(ot,ot.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>bo&&(s.flags|=128,h=!0,Ya(g,!1),s.lanes=4194304)}else{if(!h)if(r=Ou(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ya(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!rt)return $t(s),null}else 2*Xe()-g.renderingStartTime>bo&&a!==1073741824&&(s.flags|=128,h=!0,Ya(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=ot.current,Ye(ot,h?a&1|2:a&1),s):($t(s),null);case 22:case 23:return $d(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Sn&1073741824&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function PE(r,s){switch(Jh(s),s.tag){case 1:return an(s.type)&&Iu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Po(),Ze(on),Ze(Bt),hd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ud(s),null;case 13:if(Ze(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(ot),null;case 4:return Po(),null;case 10:return id(s.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var $u=!1,Ht=!1,xE=typeof WeakSet=="function"?WeakSet:Set,de=null;function No(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ct(r,s,h)}else a.current=null}function Nd(r,s,a){try{a()}catch(h){ct(r,s,h)}}var Ug=!1;function NE(r,s){if($h=mi,r=_m(),Lh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,k=-1,D=-1,W=0,ee=0,ne=r,Z=null;t:for(;;){for(var ce;ne!==a||f!==0&&ne.nodeType!==3||(k=w+f),ne!==g||h!==0&&ne.nodeType!==3||(D=w+h),ne.nodeType===3&&(w+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===r)break t;if(Z===a&&++W===f&&(k=w),Z===g&&++ee===h&&(D=w),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}a=k===-1||D===-1?null:{start:k,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hh={focusedElem:r,selectionRange:a},mi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,mt=pe.memoizedState,H=s.stateNode,M=H.getSnapshotBeforeUpdate(s.elementType===s.type?me:Yn(s.type,me),mt);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ct(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Ug,Ug=!1,pe}function Ja(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Nd(s,a,g)}f=f.next}while(f!==h)}}function Hu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Dd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function jg(r){var s=r.alternate;s!==null&&(r.alternate=null,jg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mr],delete s[Ba],delete s[Gh],delete s[fE],delete s[pE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Bg(r){return r.tag===5||r.tag===3||r.tag===4}function zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Eu));else if(h!==4&&(r=r.child,r!==null))for(bd(r,s,a),r=r.sibling;r!==null;)bd(r,s,a),r=r.sibling}function Od(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Od(r,s,a),r=r.sibling;r!==null;)Od(r,s,a),r=r.sibling}var Vt=null,Jn=!1;function Si(r,s,a){for(a=a.child;a!==null;)$g(r,s,a),a=a.sibling}function $g(r,s,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(as,a)}catch{}switch(a.tag){case 5:Ht||No(a,s);case 6:var h=Vt,f=Jn;Vt=null,Si(r,s,a),Vt=h,Jn=f,Vt!==null&&(Jn?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(Jn?(r=Vt,a=a.stateNode,r.nodeType===8?Kh(r.parentNode,a):r.nodeType===1&&Kh(r,a),Kn(r)):Kh(Vt,a.stateNode));break;case 4:h=Vt,f=Jn,Vt=a.stateNode.containerInfo,Jn=!0,Si(r,s,a),Vt=h,Jn=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Nd(a,s,w),f=f.next}while(f!==h)}Si(r,s,a);break;case 1:if(!Ht&&(No(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(k){ct(a,s,k)}Si(r,s,a);break;case 21:Si(r,s,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,Si(r,s,a),Ht=h):Si(r,s,a);break;default:Si(r,s,a)}}function Hg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new xE),s.forEach(function(h){var f=jE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Zn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 5:Vt=k.stateNode,Jn=!1;break e;case 3:Vt=k.stateNode.containerInfo,Jn=!0;break e;case 4:Vt=k.stateNode.containerInfo,Jn=!0;break e}k=k.return}if(Vt===null)throw Error(t(160));$g(g,w,f),Vt=null,Jn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){ct(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qg(s,r),s=s.sibling}function qg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zn(s,r),yr(r),h&4){try{Ja(3,r,r.return),Hu(3,r)}catch(me){ct(r,r.return,me)}try{Ja(5,r,r.return)}catch(me){ct(r,r.return,me)}}break;case 1:Zn(s,r),yr(r),h&512&&a!==null&&No(a,a.return);break;case 5:if(Zn(s,r),yr(r),h&512&&a!==null&&No(a,a.return),r.flags&32){var f=r.stateNode;try{ai(f,"")}catch(me){ct(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,k=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Yi(f,g),ya(k,w);var W=ya(k,g);for(w=0;w<D.length;w+=2){var ee=D[w],ne=D[w+1];ee==="style"?ma(f,ne):ee==="dangerouslySetInnerHTML"?fa(f,ne):ee==="children"?ai(f,ne):G(f,ee,ne,W)}switch(k){case"input":Ji(f,g);break;case"textarea":Ws(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Or(f,!!g.multiple,ce,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Or(f,!!g.multiple,g.defaultValue,!0):Or(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ba]=g}catch(me){ct(r,r.return,me)}}break;case 6:if(Zn(s,r),yr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){ct(r,r.return,me)}}break;case 3:if(Zn(s,r),yr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Kn(s.containerInfo)}catch(me){ct(r,r.return,me)}break;case 4:Zn(s,r),yr(r);break;case 13:Zn(s,r),yr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Md=Xe())),h&4&&Hg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(W=Ht)||ee,Zn(s,r),Ht=W):Zn(s,r),yr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&r.mode&1)for(de=r,ee=r.child;ee!==null;){for(ne=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ja(4,Z,Z.return);break;case 1:No(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ct(h,a,me)}}break;case 5:No(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Gg(ne);continue}}ce!==null?(ce.return=Z,de=ce):Gg(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=ne.stateNode,D=ne.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,k.style.display=pa("display",w))}catch(me){ct(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(me){ct(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Zn(s,r),yr(r),h&4&&Hg(r);break;case 21:break;default:Zn(s,r),yr(r)}}function yr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Bg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ai(f,""),h.flags&=-33);var g=zg(r);Od(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,k=zg(r);bd(r,k,w);break;default:throw Error(t(161))}}catch(D){ct(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function DE(r,s,a){de=r,Wg(r)}function Wg(r,s,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||$u;if(!w){var k=f.alternate,D=k!==null&&k.memoizedState!==null||Ht;k=$u;var W=Ht;if($u=w,(Ht=D)&&!W)for(de=f;de!==null;)w=de,D=w.child,w.tag===22&&w.memoizedState!==null?Qg(f):D!==null?(D.return=w,de=D):Qg(f);for(;g!==null;)de=g,Wg(g),g=g.sibling;de=f,$u=k,Ht=W}Kg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,de=g):Kg(r)}}function Kg(r){for(;de!==null;){var s=de;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ht||Hu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Yn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Gm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Gm(s,w,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Kn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Dd(s)}catch(Z){ct(s,s.return,Z)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function Gg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function Qg(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Hu(4,s)}catch(D){ct(s,a,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){ct(s,f,D)}}var g=s.return;try{Dd(s)}catch(D){ct(s,g,D)}break;case 5:var w=s.return;try{Dd(s)}catch(D){ct(s,w,D)}}}catch(D){ct(s,s.return,D)}if(s===r){de=null;break}var k=s.sibling;if(k!==null){k.return=s.return,de=k;break}de=s.return}}var bE=Math.ceil,qu=J.ReactCurrentDispatcher,Ld=J.ReactCurrentOwner,Vn=J.ReactCurrentBatchConfig,ze=0,Nt=null,yt=null,Mt=0,Sn=0,Do=vi(0),Ct=0,Za=null,Es=0,Wu=0,Vd=0,el=null,un=null,Md=0,bo=1/0,Qr=null,Ku=!1,Fd=null,Ri=null,Gu=!1,Ci=null,Qu=0,tl=0,Ud=null,Xu=-1,Yu=0;function Zt(){return ze&6?Xe():Xu!==-1?Xu:Xu=Xe()}function Ai(r){return r.mode&1?ze&2&&Mt!==0?Mt&-Mt:gE.transition!==null?(Yu===0&&(Yu=us()),Yu):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Pa(r.type)),r):1}function er(r,s,a,h){if(50<tl)throw tl=0,Ud=null,Error(t(185));hi(r,a,h),(!(ze&2)||r!==Nt)&&(r===Nt&&(!(ze&2)&&(Wu|=a),Ct===4&&ki(r,Mt)),cn(r,h),a===1&&ze===0&&!(s.mode&1)&&(bo=Xe()+500,Ru&&Ei()))}function cn(r,s){var a=r.callbackNode;Mr(r,s);var h=ls(r,r===Nt?Mt:0);if(h===0)a!==null&&Sa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Sa(a),s===1)r.tag===0?mE(Yg.bind(null,r)):Vm(Yg.bind(null,r)),hE(function(){!(ze&6)&&Ei()}),a=null;else{switch(fi(h)){case 1:a=os;break;case 4:a=li;break;case 16:a=Pn;break;case 536870912:a=Yl;break;default:a=Pn}a=s_(a,Xg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Xg(r,s){if(Xu=-1,Yu=0,ze&6)throw Error(t(327));var a=r.callbackNode;if(Oo()&&r.callbackNode!==a)return null;var h=ls(r,r===Nt?Mt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ju(r,h);else{s=h;var f=ze;ze|=2;var g=Zg();(Nt!==r||Mt!==s)&&(Qr=null,bo=Xe()+500,Is(r,s));do try{VE();break}catch(k){Jg(r,k)}while(!0);rd(),qu.current=g,ze=f,yt!==null?s=0:(Nt=null,Mt=0,s=Ct)}if(s!==0){if(s===2&&(f=vn(r),f!==0&&(h=f,s=jd(r,f))),s===1)throw a=Za,Is(r,0),ki(r,h),cn(r,Xe()),a;if(s===6)ki(r,h);else{if(f=r.current.alternate,!(h&30)&&!OE(f)&&(s=Ju(r,h),s===2&&(g=vn(r),g!==0&&(h=g,s=jd(r,g))),s===1))throw a=Za,Is(r,0),ki(r,h),cn(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ss(r,un,Qr);break;case 3:if(ki(r,h),(h&130023424)===h&&(s=Md+500-Xe(),10<s)){if(ls(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Zt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Wh(Ss.bind(null,r,un,Qr),s);break}Ss(r,un,Qr);break;case 4:if(ki(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Xt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bE(h/1960))-h,10<h){r.timeoutHandle=Wh(Ss.bind(null,r,un,Qr),h);break}Ss(r,un,Qr);break;case 5:Ss(r,un,Qr);break;default:throw Error(t(329))}}}return cn(r,Xe()),r.callbackNode===a?Xg.bind(null,r):null}function jd(r,s){var a=el;return r.current.memoizedState.isDehydrated&&(Is(r,s).flags|=256),r=Ju(r,s),r!==2&&(s=un,un=a,s!==null&&Bd(s)),r}function Bd(r){un===null?un=r:un.push.apply(un,r)}function OE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Qn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(r,s){for(s&=~Vd,s&=~Wu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Xt(s),h=1<<a;r[a]=-1,s&=~h}}function Yg(r){if(ze&6)throw Error(t(327));Oo();var s=ls(r,0);if(!(s&1))return cn(r,Xe()),null;var a=Ju(r,s);if(r.tag!==0&&a===2){var h=vn(r);h!==0&&(s=h,a=jd(r,h))}if(a===1)throw a=Za,Is(r,0),ki(r,s),cn(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ss(r,un,Qr),cn(r,Xe()),null}function zd(r,s){var a=ze;ze|=1;try{return r(s)}finally{ze=a,ze===0&&(bo=Xe()+500,Ru&&Ei())}}function Ts(r){Ci!==null&&Ci.tag===0&&!(ze&6)&&Oo();var s=ze;ze|=1;var a=Vn.transition,h=Me;try{if(Vn.transition=null,Me=1,r)return r()}finally{Me=h,Vn.transition=a,ze=s,!(ze&6)&&Ei()}}function $d(){Sn=Do.current,Ze(Do)}function Is(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,cE(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(Jh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Iu();break;case 3:Po(),Ze(on),Ze(Bt),hd();break;case 5:ud(h);break;case 4:Po();break;case 13:Ze(ot);break;case 19:Ze(ot);break;case 10:id(h.type._context);break;case 22:case 23:$d()}a=a.return}if(Nt=r,yt=r=Pi(r.current,null),Mt=Sn=s,Ct=0,Za=null,Vd=Wu=Es=0,un=el=null,ys!==null){for(s=0;s<ys.length;s++)if(a=ys[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}ys=null}return r}function Jg(r,s){do{var a=yt;try{if(rd(),Lu.current=Uu,Vu){for(var h=at.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Vu=!1}if(ws=0,xt=Rt=at=null,Ka=!1,Ga=0,Ld.current=null,a===null||a.return===null){Ct=1,Za=s,yt=null;break}e:{var g=r,w=a.return,k=a,D=s;if(s=Mt,k.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ee=k,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=Ig(w);if(ce!==null){ce.flags&=-257,Sg(ce,w,k,g,s),ce.mode&1&&Tg(g,W,s),s=ce,D=W;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(D),s.updateQueue=me}else pe.add(D);break e}else{if(!(s&1)){Tg(g,W,s),Hd();break e}D=Error(t(426))}}else if(rt&&k.mode&1){var mt=Ig(w);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Sg(mt,w,k,g,s),td(xo(D,k));break e}}g=D=xo(D,k),Ct!==4&&(Ct=2),el===null?el=[g]:el.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=wg(g,D,s);Km(g,H);break e;case 1:k=D;var M=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ri===null||!Ri.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Eg(g,k,s);Km(g,se);break e}}g=g.return}while(g!==null)}t_(a)}catch(ge){s=ge,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function Zg(){var r=qu.current;return qu.current=Uu,r===null?Uu:r}function Hd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(Es&268435455)&&!(Wu&268435455)||ki(Nt,Mt)}function Ju(r,s){var a=ze;ze|=2;var h=Zg();(Nt!==r||Mt!==s)&&(Qr=null,Is(r,s));do try{LE();break}catch(f){Jg(r,f)}while(!0);if(rd(),ze=a,qu.current=h,yt!==null)throw Error(t(261));return Nt=null,Mt=0,Ct}function LE(){for(;yt!==null;)e_(yt)}function VE(){for(;yt!==null&&!Ql();)e_(yt)}function e_(r){var s=i_(r.alternate,r,Sn);r.memoizedProps=r.pendingProps,s===null?t_(r):yt=s,Ld.current=null}function t_(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=PE(a,s),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,yt=null;return}}else if(a=kE(a,s,Sn),a!==null){yt=a;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=r}while(s!==null);Ct===0&&(Ct=5)}function Ss(r,s,a){var h=Me,f=Vn.transition;try{Vn.transition=null,Me=1,ME(r,s,a,h)}finally{Vn.transition=f,Me=h}return null}function ME(r,s,a,h){do Oo();while(Ci!==null);if(ze&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ge(r,g),r===Nt&&(yt=Nt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Gu||(Gu=!0,s_(Pn,function(){return Oo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Vn.transition,Vn.transition=null;var w=Me;Me=1;var k=ze;ze|=4,Ld.current=null,NE(r,a),qg(a,r),rE(Hh),mi=!!$h,Hh=$h=null,r.current=a,DE(a),Ah(),ze=k,Me=w,Vn.transition=g}else r.current=a;if(Gu&&(Gu=!1,Ci=r,Qu=f),g=r.pendingLanes,g===0&&(Ri=null),Jl(a.stateNode),cn(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ku)throw Ku=!1,r=Fd,Fd=null,r;return Qu&1&&r.tag!==0&&Oo(),g=r.pendingLanes,g&1?r===Ud?tl++:(tl=0,Ud=r):tl=0,Ei(),null}function Oo(){if(Ci!==null){var r=fi(Qu),s=Vn.transition,a=Me;try{if(Vn.transition=null,Me=16>r?16:r,Ci===null)var h=!1;else{if(r=Ci,Ci=null,Qu=0,ze&6)throw Error(t(331));var f=ze;for(ze|=4,de=r.current;de!==null;){var g=de,w=g.child;if(de.flags&16){var k=g.deletions;if(k!==null){for(var D=0;D<k.length;D++){var W=k[D];for(de=W;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:Ja(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,de=ne;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(jg(ee),ee===W){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}de=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,de=w;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ja(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,de=H;break e}de=g.return}}var M=r.current;for(de=M;de!==null;){w=de;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,de=q;else e:for(w=M;de!==null;){if(k=de,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Hu(9,k)}}catch(ge){ct(k,k.return,ge)}if(k===w){de=null;break e}var se=k.sibling;if(se!==null){se.return=k.return,de=se;break e}de=k.return}}if(ze=f,Ei(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(as,r)}catch{}h=!0}return h}finally{Me=a,Vn.transition=s}}return!1}function n_(r,s,a){s=xo(a,s),s=wg(r,s,1),r=Ii(r,s,1),s=Zt(),r!==null&&(hi(r,1,s),cn(r,s))}function ct(r,s,a){if(r.tag===3)n_(r,r,a);else for(;s!==null;){if(s.tag===3){n_(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){r=xo(a,r),r=Eg(s,r,1),s=Ii(s,r,1),r=Zt(),s!==null&&(hi(s,1,r),cn(s,r));break}}s=s.return}}function FE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Mt&a)===a&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>Xe()-Md?Is(r,0):Vd|=a),cn(r,s)}function r_(r,s){s===0&&(r.mode&1?(s=no,no<<=1,!(no&130023424)&&(no=4194304)):s=1);var a=Zt();r=Wr(r,s),r!==null&&(hi(r,s,a),cn(r,a))}function UE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),r_(r,a)}function jE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),r_(r,a)}var i_;i_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return ln=!1,AE(r,s,a);ln=!!(r.flags&131072)}else ln=!1,rt&&s.flags&1048576&&Mm(s,Au,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;zu(r,s),r=s.pendingProps;var f=To(s,Bt.current);ko(s,a),f=pd(null,s,h,r,f,a);var g=md();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(h)?(g=!0,Su(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ad(s),f.updater=ju,s.stateNode=f,f._reactInternals=s,Ed(s,h,r,a),s=Rd(null,s,h,!0,g,a)):(s.tag=0,rt&&g&&Yh(s),Jt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(zu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=zE(h),r=Yn(h,r),f){case 0:s=Sd(null,s,h,r,a);break e;case 1:s=xg(null,s,h,r,a);break e;case 11:s=Rg(null,s,h,r,a);break e;case 14:s=Cg(null,s,h,Yn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Sd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),xg(r,s,h,f,a);case 3:e:{if(Ng(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Wm(r,s),bu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=xo(Error(t(423)),s),s=Dg(r,s,h,a,f);break e}else if(h!==f){f=xo(Error(t(424)),s),s=Dg(r,s,h,a,f);break e}else for(In=yi(s.stateNode.containerInfo.firstChild),Tn=s,rt=!0,Xn=null,a=Hm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ro(),h===f){s=Gr(r,s,a);break e}Jt(r,s,h,a)}s=s.child}return s;case 5:return Qm(s),r===null&&ed(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,qh(h,f)?w=null:g!==null&&qh(h,g)&&(s.flags|=32),Pg(r,s),Jt(r,s,w,a),s.child;case 6:return r===null&&ed(s),null;case 13:return bg(r,s,a);case 4:return ld(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Co(s,null,h,a):Jt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),Rg(r,s,h,f,a);case 7:return Jt(r,s,s.pendingProps,a),s.child;case 8:return Jt(r,s,s.pendingProps.children,a),s.child;case 12:return Jt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ye(xu,h._currentValue),h._currentValue=w,g!==null)if(Qn(g.value,w)){if(g.children===f.children&&!on.current){s=Gr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var D=k.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=Kr(-1,a&-a),D.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),W.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),sd(g.return,a,s),k.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),sd(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Jt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,ko(s,a),f=On(f),h=h(f),s.flags|=1,Jt(r,s,h,a),s.child;case 14:return h=s.type,f=Yn(h,s.pendingProps),f=Yn(h.type,f),Cg(r,s,h,f,a);case 15:return Ag(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Yn(h,f),zu(r,s),s.tag=1,an(h)?(r=!0,Su(s)):r=!1,ko(s,a),yg(s,h,f),Ed(s,h,f,a),Rd(null,s,h,!0,r,a);case 19:return Lg(r,s,a);case 22:return kg(r,s,a)}throw Error(t(156,s.tag))};function s_(r,s){return eo(r,s)}function BE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,s,a,h){return new BE(r,s,a,h)}function qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zE(r){if(typeof r=="function")return qd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===st)return 14}return 2}function Pi(r,s){var a=r.alternate;return a===null?(a=Mn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Zu(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")qd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return Rs(a.children,f,g,s);case C:w=8,f|=8;break;case S:return r=Mn(12,a,s,f|2),r.elementType=S,r.lanes=g,r;case A:return r=Mn(13,a,s,f),r.elementType=A,r.lanes=g,r;case be:return r=Mn(19,a,s,f),r.elementType=be,r.lanes=g,r;case $e:return ec(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case V:w=9;break e;case b:w=11;break e;case st:w=14;break e;case tt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Mn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Rs(r,s,a,h){return r=Mn(7,r,h,s),r.lanes=a,r}function ec(r,s,a,h){return r=Mn(22,r,h,s),r.elementType=$e,r.lanes=a,r.stateNode={isHidden:!1},r}function Wd(r,s,a){return r=Mn(6,r,null,s),r.lanes=a,r}function Kd(r,s,a){return s=Mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $E(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Gd(r,s,a,h,f,g,w,k,D){return r=new $E(r,s,a,k,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Mn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(g),r}function HE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function o_(r){if(!r)return wi;r=r._reactInternals;e:{if(zn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(an(a))return Om(r,a,s)}return s}function a_(r,s,a,h,f,g,w,k,D){return r=Gd(a,h,!0,r,f,g,w,k,D),r.context=o_(null),a=r.current,h=Zt(),f=Ai(a),g=Kr(h,f),g.callback=s??null,Ii(a,g,f),r.current.lanes=f,hi(r,f,h),cn(r,h),r}function tc(r,s,a,h){var f=s.current,g=Zt(),w=Ai(f);return a=o_(a),s.context===null?s.context=a:s.pendingContext=a,s=Kr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ii(f,s,w),r!==null&&(er(r,f,w,g),Du(r,f,w)),w}function nc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function l_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Qd(r,s){l_(r,s),(r=r.alternate)&&l_(r,s)}function qE(){return null}var u_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xd(r){this._internalRoot=r}rc.prototype.render=Xd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));tc(r,s,null,null)},rc.prototype.unmount=Xd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ts(function(){tc(null,r,null,null)}),s[zr]=null}};function rc(r){this._internalRoot=r}rc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ru();r={blockedOn:null,target:r,priority:s};for(var a=0;a<hr.length&&s!==0&&s<hr[a].priority;a++);hr.splice(a,0,r),a===0&&ou(r)}};function Yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function c_(){}function WE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var W=nc(w);g.call(W)}}var w=a_(s,h,r,0,null,!1,!1,"",c_);return r._reactRootContainer=w,r[zr]=w.current,Ua(r.nodeType===8?r.parentNode:r),Ts(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var k=h;h=function(){var W=nc(D);k.call(W)}}var D=Gd(r,0,!1,null,null,!1,!1,"",c_);return r._reactRootContainer=D,r[zr]=D.current,Ua(r.nodeType===8?r.parentNode:r),Ts(function(){tc(s,D,a,h)}),D}function sc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var k=f;f=function(){var D=nc(w);k.call(D)}}tc(s,w,r,f)}else w=WE(a,s,r,f,h);return nc(w)}tu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ui(s.pendingLanes);a!==0&&(di(s,a|1),cn(s,Xe()),!(ze&6)&&(bo=Xe()+500,Ei()))}break;case 13:Ts(function(){var h=Wr(r,1);if(h!==null){var f=Zt();er(h,r,1,f)}}),Qd(r,1)}},ro=function(r){if(r.tag===13){var s=Wr(r,134217728);if(s!==null){var a=Zt();er(s,r,134217728,a)}Qd(r,134217728)}},nu=function(r){if(r.tag===13){var s=Ai(r),a=Wr(r,s);if(a!==null){var h=Zt();er(a,r,s,h)}Qd(r,s)}},ru=function(){return Me},iu=function(r,s){var a=Me;try{return Me=r,s()}finally{Me=a}},Gs=function(r,s,a){switch(s){case"input":if(Ji(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Tu(h);if(!f)throw Error(t(90));_n(h),Ji(h,f)}}}break;case"textarea":Ws(r,a);break;case"select":s=a.value,s!=null&&Or(r,!!a.multiple,s,!1)}},ns=zd,wa=Ts;var KE={usingClientEntryPoint:!1,Events:[za,wo,Tu,ur,va,zd]},nl={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ia(r),r===null?null:r.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||qE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{as=oc.inject(GE),yn=oc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE,hn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(s))throw Error(t(200));return HE(r,s,null,a)},hn.createRoot=function(r,s){if(!Yd(r))throw Error(t(299));var a=!1,h="",f=u_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Gd(r,1,!1,null,null,a,!1,h,f),r[zr]=s.current,Ua(r.nodeType===8?r.parentNode:r),new Xd(s)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ia(s),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return Ts(r)},hn.hydrate=function(r,s,a){if(!ic(s))throw Error(t(200));return sc(null,r,s,!0,a)},hn.hydrateRoot=function(r,s,a){if(!Yd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=u_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=a_(s,null,r,1,a??null,f,!1,g,w),r[zr]=s.current,Ua(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new rc(s)},hn.render=function(r,s,a){if(!ic(s))throw Error(t(200));return sc(null,r,s,!1,a)},hn.unmountComponentAtNode=function(r){if(!ic(r))throw Error(t(40));return r._reactRootContainer?(Ts(function(){sc(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},hn.unstable_batchedUpdates=zd,hn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!ic(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sc(r,s,a,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var y_;function nT(){if(y_)return ef.exports;y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ef.exports=tT(),ef.exports}var v_;function rT(){if(v_)return ac;v_=1;var n=nT();return ac.createRoot=n.createRoot,ac.hydrateRoot=n.hydrateRoot,ac}var iT=rT(),il={},w_;function sT(){if(w_)return il;w_=1,Object.defineProperty(il,"__esModule",{value:!0}),il.parse=c,il.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,N){const O=new l,U=T.length;if(U<2)return O;const L=(N==null?void 0:N.decode)||v;let B=0;do{const z=T.indexOf("=",B);if(z===-1)break;const G=T.indexOf(";",B),J=G===-1?U:G;if(z>J){B=T.lastIndexOf(";",z-1)+1;continue}const te=d(T,B,z),re=p(T,z,te),x=T.slice(te,re);if(O[x]===void 0){let C=d(T,z+1,J),S=p(T,J,C);const P=L(T.slice(C,S));O[x]=P}B=J+1}while(B<U);return O}function d(T,N,O){do{const U=T.charCodeAt(N);if(U!==32&&U!==9)return N}while(++N<O);return O}function p(T,N,O){for(;N>O;){const U=T.charCodeAt(--N);if(U!==32&&U!==9)return N+1}return O}function _(T,N,O){const U=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=U(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let B=T+"="+L;if(!O)return B;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);B+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);B+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);B+="; Path="+O.path}if(O.expires){if(!R(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);B+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(B+="; HttpOnly"),O.secure&&(B+="; Secure"),O.partitioned&&(B+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return B}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function R(T){return o.call(T)==="[object Date]"}return il}sT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function oT(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ms(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),vf("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");d=_===-1?p:p.slice(0,_)}return d+"#"+(typeof l=="string"?l:wl(l))}function i(o,l){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lT(e,t,i,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aT(){return Math.random().toString(36).substring(2,10)}function T_(n,e){return{usr:n.state,key:n.key,idx:e}}function vf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:t,key:e&&e.key||i||aT()}}function wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,_=v();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function v(){return(c.state||{idx:null}).idx}function R(){d="POP";let L=v(),B=L==null?null:L-_;_=L,p&&p({action:d,location:U.location,delta:B})}function T(L,B){d="PUSH";let z=vf(U.location,L,B);t&&t(z,L),_=v()+1;let G=T_(z,_),J=U.createHref(z);try{c.pushState(G,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(J)}l&&p&&p({action:d,location:U.location,delta:1})}function N(L,B){d="REPLACE";let z=vf(U.location,L,B);t&&t(z,L),_=v();let G=T_(z,_),J=U.createHref(z);c.replaceState(G,"",J),l&&p&&p({action:d,location:U.location,delta:0})}function O(L){let B=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof L=="string"?L:wl(L);return z=z.replace(/ $/,"%20"),it(B,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,B)}let U={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,R),p=L,()=>{o.removeEventListener(E_,R),p=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let B=O(L);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:N,go(L){return c.go(L)}};return U}function ev(n,e,t="/"){return uT(n,e,t,!1)}function uT(n,e,t,i){let o=typeof e=="string"?Ms(e):e,l=Bi(o.pathname||"/",t);if(l==null)return null;let c=tv(n);cT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=ET(l);d=vT(c[p],_,i)}return d}function tv(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ei([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),tv(l.children,e,v,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:_T(_,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of nv(l.path))o(l,c,p)}),e}function nv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=nv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function cT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var hT=/^:[\w-]+$/,dT=3,fT=2,pT=1,mT=10,gT=-2,I_=n=>n==="*";function _T(n,e){let t=n.split("/"),i=t.length;return t.some(I_)&&(i+=gT),e&&(i+=fT),t.filter(o=>!I_(o)).reduce((o,l)=>o+(hT.test(l)?dT:l===""?pT:mT),i)}function yT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function vT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",R=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},v),T=p.route;if(!R&&_&&t&&!i[i.length-1].route.index&&(R=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!R)return null;Object.assign(o,R.params),c.push({params:o,pathname:ei([l,R.pathname]),pathnameBase:RT(ei([l,R.pathnameBase])),route:T}),R.pathnameBase!=="/"&&(l=ei([l,R.pathnameBase]))}return c}function bc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:v,isOptional:R},T)=>{if(v==="*"){let O=d[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const N=d[T];return R&&!N?_[v]=void 0:_[v]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:c,pattern:n}}function wT(n,e=!1,t=!0){Fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ET(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function TT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ms(n):n;return{pathname:t?t.startsWith("/")?t:IT(t,e):e,search:CT(i),hash:AT(o)}}function IT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ST(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qf(n){let e=ST(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Xf(n,e,t,i=!1){let o;typeof n=="string"?o=Ms(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let R=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),R-=1;o.pathname=T.join("/")}d=R>=0?e[R]:"/"}let p=TT(o,d),_=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||v)&&(p.pathname+="/"),p}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),RT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var PT=["GET",...rv];new Set(PT);var ea=F.createContext(null);ea.displayName="DataRouter";var Jc=F.createContext(null);Jc.displayName="DataRouterState";var iv=F.createContext({isTransitioning:!1});iv.displayName="ViewTransition";var xT=F.createContext(new Map);xT.displayName="Fetchers";var NT=F.createContext(null);NT.displayName="Await";var sr=F.createContext(null);sr.displayName="Navigation";var Nl=F.createContext(null);Nl.displayName="Location";var or=F.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Yf=F.createContext(null);Yf.displayName="RouteError";function DT(n,{relative:e}={}){it(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(sr),{hash:o,pathname:l,search:c}=Dl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ei([t,l])),i.createHref({pathname:d,search:c,hash:o})}function ta(){return F.useContext(Nl)!=null}function ar(){return it(ta(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Nl).location}var sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ov(n){F.useContext(sr).static||F.useLayoutEffect(n)}function na(){let{isDataRoute:n}=F.useContext(or);return n?KT():bT()}function bT(){it(ta(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(ea),{basename:e,navigator:t}=F.useContext(sr),{matches:i}=F.useContext(or),{pathname:o}=ar(),l=JSON.stringify(Qf(i)),c=F.useRef(!1);return ov(()=>{c.current=!0}),F.useCallback((p,_={})=>{if(Fn(c.current,sv),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Xf(p,JSON.parse(l),o,_.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ei([e,v.pathname])),(_.replace?t.replace:t.push)(v,_.state,_)},[e,t,l,o,n])}var OT=F.createContext(null);function LT(n){let e=F.useContext(or).outlet;return e&&F.createElement(OT.Provider,{value:n},e)}function Dl(n,{relative:e}={}){let{matches:t}=F.useContext(or),{pathname:i}=ar(),o=JSON.stringify(Qf(t));return F.useMemo(()=>Xf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function VT(n,e){return av(n,e)}function av(n,e,t,i){var B;it(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(sr),{matches:l}=F.useContext(or),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",v=c&&c.route;{let z=v&&v.path||"";lv(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let R=ar(),T;if(e){let z=typeof e=="string"?Ms(e):e;it(_==="/"||((B=z.pathname)==null?void 0:B.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=R;let N=T.pathname||"/",O=N;if(_!=="/"){let z=_.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let U=ev(n,{pathname:O});Fn(v||U!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Fn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=BT(U&&U.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:ei([_,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ei([_,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&L?F.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function MT(){let n=WT(),e=kT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var FT=F.createElement(MT,null),UT=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(or.Provider,{value:this.props.routeContext},F.createElement(Yf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jT({routeContext:n,match:e,children:t}){let i=F.useContext(ea);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(or.Provider,{value:n},t)}function BT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:R}=t,T=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,v)=>{let R,T=!1,N=null,O=null;t&&(R=l&&_.route.id?l[_.route.id]:void 0,N=_.route.errorElement||FT,c&&(d<0&&v===0?(lv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===v&&(T=!0,O=_.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,v+1)),L=()=>{let B;return R?B=N:T?B=O:_.route.Component?B=F.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=p,F.createElement(jT,{match:_,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?F.createElement(UT,{location:t.location,revalidation:t.revalidation,component:N,error:R,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):L()},null)}function Jf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zT(n){let e=F.useContext(ea);return it(e,Jf(n)),e}function $T(n){let e=F.useContext(Jc);return it(e,Jf(n)),e}function HT(n){let e=F.useContext(or);return it(e,Jf(n)),e}function Zf(n){let e=HT(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qT(){return Zf("useRouteId")}function WT(){var i;let n=F.useContext(Yf),e=$T("useRouteError"),t=Zf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function KT(){let{router:n}=zT("useNavigate"),e=Zf("useNavigate"),t=F.useRef(!1);return ov(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{Fn(t.current,sv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var S_={};function lv(n,e,t){!e&&!S_[n]&&(S_[n]=!0,Fn(!1,t))}F.memo(GT);function GT({routes:n,future:e,state:t}){return av(n,void 0,t,e)}function R_({to:n,replace:e,state:t,relative:i}){it(ta(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(sr);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(or),{pathname:c}=ar(),d=na(),p=Xf(n,Qf(l),c,i==="path"),_=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function QT(n){return LT(n.context)}function tr(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){it(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ms(t));let{pathname:p="/",search:_="",hash:v="",state:R=null,key:T="default"}=t,N=F.useMemo(()=>{let O=Bi(p,c);return O==null?null:{location:{pathname:O,search:_,hash:v,state:R,key:T},navigationType:i}},[c,p,_,v,R,T,i]);return Fn(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:F.createElement(sr.Provider,{value:d},F.createElement(Nl.Provider,{children:e,value:N}))}function YT({children:n,location:e}){return VT(wf(n),e)}function wf(n,e=[]){let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let l=[...e,o];if(i.type===F.Fragment){t.push.apply(t,wf(i.props.children,l));return}it(i.type===tr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=wf(i.props.children,l)),t.push(c)}),t}var wc="get",Ec="application/x-www-form-urlencoded";function Zc(n){return n!=null&&typeof n.tagName=="string"}function JT(n){return Zc(n)&&n.tagName.toLowerCase()==="button"}function ZT(n){return Zc(n)&&n.tagName.toLowerCase()==="form"}function eI(n){return Zc(n)&&n.tagName.toLowerCase()==="input"}function tI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nI(n,e){return n.button===0&&(!e||e==="_self")&&!tI(n)}var lc=null;function rI(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var iI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(n){return n!=null&&!iI.has(n)?(Fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):n}function sI(n,e){let t,i,o,l,c;if(ZT(n)){let d=n.getAttribute("action");i=d?Bi(d,e):null,t=n.getAttribute("method")||wc,o=sf(n.getAttribute("enctype"))||Ec,l=new FormData(n)}else if(JT(n)||eI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Bi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||wc,o=sf(n.getAttribute("formenctype"))||sf(d.getAttribute("enctype"))||Ec,l=new FormData(d,n),!rI()){let{name:_,type:v,value:R}=n;if(v==="image"){let T=_?`${_}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else _&&l.append(_,R)}}else{if(Zc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wc,i=null,o=Ec,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function ep(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lI(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await oI(l,t);return c.links?c.links():[]}return[]}));return dI(i.flat(1).filter(aI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C_(n,e,t,i,o,l){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var v;return t[_].pathname!==p.pathname||((v=t[_].route.path)==null?void 0:v.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):l==="data"?e.filter((p,_)=>{var R;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=t[0])==null?void 0:R.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function uI(n,e){return cI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function cI(n){return[...new Set(n)]}function hI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function dI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(hI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function fI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pI(){let n=F.useContext(ea);return ep(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mI(){let n=F.useContext(Jc);return ep(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tp=F.createContext(void 0);tp.displayName="FrameworkContext";function uv(){let n=F.useContext(tp);return ep(n,"You must render this element inside a <HydratedRouter> element"),n}function gI(n,e){let t=F.useContext(tp),[i,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:v,onTouchStart:R}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=B=>{B.forEach(z=>{c(z.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),F.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let N=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:sl(d,N),onBlur:sl(p,O),onMouseEnter:sl(_,N),onMouseLeave:sl(v,O),onTouchStart:sl(R,N)}]:[!1,T,{}]}function sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _I({page:n,...e}){let{router:t}=pI(),i=F.useMemo(()=>ev(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(vI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function yI(n){let{manifest:e,routeModules:t}=uv(),[i,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return lI(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function vI({page:n,matches:e,...t}){let i=ar(),{manifest:o,routeModules:l}=uv(),{loaderData:c,matches:d}=mI(),p=F.useMemo(()=>C_(n,e,d,o,i,"data"),[n,e,d,o,i]),_=F.useMemo(()=>C_(n,e,d,o,i,"assets"),[n,e,d,o,i]),v=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,O=!1;if(e.forEach(L=>{var z;let B=o.routes[L.route.id];!B||!B.hasLoader||(!p.some(G=>G.route.id===L.route.id)&&L.route.id in c&&((z=l[L.route.id])!=null&&z.shouldRevalidate)||B.hasClientLoader?O=!0:N.add(L.route.id))}),N.size===0)return[];let U=fI(n);return O&&N.size>0&&U.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[U.pathname+U.search]},[c,i,o,p,e,n,l]),R=F.useMemo(()=>uI(_,o),[_,o]),T=yI(_);return F.createElement(F.Fragment,null,v.map(N=>F.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),R.map(N=>F.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),T.map(({key:N,link:O})=>F.createElement("link",{key:N,...O})))}function wI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cv&&(window.__reactRouterVersion="7.0.2")}catch{}function EI({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=oT({window:t,v5Compat:!0}));let o=i.current,[l,c]=F.useState({action:o.action,location:o.location}),d=F.useCallback(p=>{F.startTransition(()=>c(p))},[c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(XT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:_,preventScrollReset:v,viewTransition:R,...T},N){let{basename:O}=F.useContext(sr),U=typeof _=="string"&&hv.test(_),L,B=!1;if(typeof _=="string"&&U&&(L=_,cv))try{let S=new URL(window.location.href),P=_.startsWith("//")?new URL(S.protocol+_):new URL(_),V=Bi(P.pathname,O);P.origin===S.origin&&V!=null?_=V+P.search+P.hash:B=!0}catch{Fn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=DT(_,{relative:o}),[G,J,te]=gI(i,T),re=RI(_,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:R});function x(S){e&&e(S),S.defaultPrevented||re(S)}let C=F.createElement("a",{...T,...te,href:L||z,onClick:B||l?e:x,ref:wI(N,J),target:p,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?F.createElement(F.Fragment,null,C,F.createElement(_I,{page:z})):C});jo.displayName="Link";var TI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,..._},v){let R=Dl(c,{relative:_.relative}),T=ar(),N=F.useContext(Jc),{navigator:O,basename:U}=F.useContext(sr),L=N!=null&&xI(R)&&d===!0,B=O.encodeLocation?O.encodeLocation(R).pathname:R.pathname,z=T.pathname,G=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&U&&(G=Bi(G,U)||G);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let te=z===B||!o&&z.startsWith(B)&&z.charAt(J)==="/",re=G!=null&&(G===B||!o&&G.startsWith(B)&&G.charAt(B.length)==="/"),x={isActive:te,isPending:re,isTransitioning:L},C=te?e:void 0,S;typeof i=="function"?S=i(x):S=[i,te?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(x):l;return F.createElement(jo,{..._,"aria-current":C,className:S,ref:v,style:P,to:c,viewTransition:d},typeof p=="function"?p(x):p)});TI.displayName="NavLink";var II=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=wc,action:d,onSubmit:p,relative:_,preventScrollReset:v,viewTransition:R,...T},N)=>{let O=kI(),U=PI(d,{relative:_}),L=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&hv.test(d),z=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let J=G.nativeEvent.submitter,te=(J==null?void 0:J.getAttribute("formmethod"))||c;O(J||G.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:l,relative:_,preventScrollReset:v,viewTransition:R})};return F.createElement("form",{ref:N,method:L,action:U,onSubmit:i?p:z,...T,"data-discover":!B&&n==="render"?"true":void 0})});II.displayName="Form";function SI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(n){let e=F.useContext(ea);return it(e,SI(n)),e}function RI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=na(),p=ar(),_=Dl(n,{relative:l});return F.useCallback(v=>{if(nI(v,e)){v.preventDefault();let R=t!==void 0?t:wl(p)===wl(_);d(n,{replace:R,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,_,t,i,e,n,o,l,c])}var CI=0,AI=()=>`__${String(++CI)}__`;function kI(){let{router:n}=dv("useSubmit"),{basename:e}=F.useContext(sr),t=qT();return F.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:_}=sI(i,e);if(o.navigate===!1){let v=o.fetcherKey||AI();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function PI(n,{relative:e}={}){let{basename:t}=F.useContext(sr),i=F.useContext(or);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Dl(n||".",{relative:e})},c=ar();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(R=>R).forEach(R=>d.append("index",R));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ei([t,l.pathname])),wl(l)}function xI(n,e={}){let t=F.useContext(iv);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=dv("useViewTransitionState"),o=Dl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return bc(o.pathname,c)!=null||bc(o.pathname,l)!=null}new TextEncoder;const NI="_sidebar_ezj98_1",DI="_profileSection_ezj98_19",bI="_navigation_ezj98_35",OI="_avatar_ezj98_43",LI="_userInfo_ezj98_69",VI="_navList_ezj98_125",MI="_navItem_ezj98_143",FI="_navLink_ezj98_151",UI="_createEventBtn_ezj98_181",jI="_dropdown_ezj98_217",BI="_dropdownItem_ezj98_251",zI="_logoutBtn_ezj98_273",$I="_dashboardContainer_ezj98_315",HI="_mainContent_ezj98_323",qI="_welcomeContainer_ezj98_355",WI="_welcomeTitle_ezj98_375",KI="_welcomeText_ezj98_395",GI="_hamburgerBtn_ezj98_403",QI="_overlay_ezj98_429",XI="_sidebarOpen_ezj98_469",ke={sidebar:NI,profileSection:DI,navigation:bI,avatar:OI,userInfo:LI,navList:VI,navItem:MI,navLink:FI,createEventBtn:UI,dropdown:jI,dropdownItem:BI,logoutBtn:zI,dashboardContainer:$I,mainContent:HI,welcomeContainer:qI,welcomeTitle:WI,welcomeText:KI,hamburgerBtn:GI,overlay:QI,sidebarOpen:XI};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},p)=>F.createElement("svg",{ref:p,...JI,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:fv("lucide",o),...d},[...c.map(([_,v])=>F.createElement(_,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(n,e)=>{const t=F.forwardRef(({className:i,...o},l)=>F.createElement(ZI,{ref:l,iconNode:e,className:fv(`lucide-${YI(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Et("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Et("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Et("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Et("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Et("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Et("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},m1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,v=l>>2,R=(l&3)<<4|d>>4;let T=(d&15)<<2|_>>6,N=_&63;p||(N=64,c||(T=64)),i.push(t[v],t[R],t[T],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_v(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const R=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||R==null)throw new g1;const T=l<<2|d>>4;if(i.push(T),_!==64){const N=d<<4&240|_>>2;if(i.push(N),R!==64){const O=_<<6&192|R;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class g1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(n){const e=_v(n);return yv.encodeByteArray(e,!0)},Oc=function(n){return _1(n).replace(/\./g,"")},vv=function(n){try{return yv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=()=>y1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof k_>"u")return;const n=k_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},E1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vv(n[1]);return e&&JSON.parse(e)},eh=()=>{try{return v1()||w1()||E1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wv=n=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ev=n=>{const e=wv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Tv=()=>{var n;return(n=eh())===null||n===void 0?void 0:n.config},Iv=n=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Oc(JSON.stringify(t)),Oc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function S1(){var n;const e=(n=eh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k1(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class Nr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=D1,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?b1(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Nr(o,d,i)}}function b1(n,e){return n.replace(O1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const O1=/\{\$([^}]+)}/g;function L1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(P_(l)&&P_(c)){if(!Lc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function P_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ll(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ul(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function V1(n,e){const t=new M1(n,e);return t.subscribe.bind(t)}class M1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");F1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=of),o.error===void 0&&(o.error=of),o.complete===void 0&&(o.complete=of);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new T1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B1(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(n){return n===As?void 0:n}function B1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const $1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},H1=Le.INFO,q1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},W1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=q1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const K1=(n,e)=>e.some(t=>n instanceof t);let x_,N_;function G1(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,Ef=new WeakMap,Cv=new WeakMap,af=new WeakMap,rp=new WeakMap;function X1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Mi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Rv.set(t,n)}).catch(()=>{}),rp.set(e,n),e}function Y1(n){if(Ef.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ef.set(n,e)}let Tf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function J1(n){Tf=n(Tf)}function Z1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return Cv.set(i,e.sort?e.sort():[e]),Mi(i)}:Q1().includes(n)?function(...e){return n.apply(lf(this),e),Mi(Rv.get(this))}:function(...e){return Mi(n.apply(lf(this),e))}}function eS(n){return typeof n=="function"?Z1(n):(n instanceof IDBTransaction&&Y1(n),K1(n,G1())?new Proxy(n,Tf):n)}function Mi(n){if(n instanceof IDBRequest)return X1(n);if(af.has(n))return af.get(n);const e=eS(n);return e!==n&&(af.set(n,e),rp.set(e,n)),e}const lf=n=>rp.get(n);function tS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Mi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Mi(c.result),p.oldVersion,p.newVersion,Mi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const nS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],uf=new Map;function D_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=rS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||nS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return uf.set(e,l),l}J1(n=>({...n,get:(e,t,i)=>D_(e,t)||n.get(e,t,i),has:(e,t)=>!!D_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function sS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",b_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new np("@firebase/app"),oS="@firebase/app-compat",aS="@firebase/analytics-compat",lS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",hS="@firebase/auth",dS="@firebase/auth-compat",fS="@firebase/database",pS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",_S="@firebase/functions-compat",yS="@firebase/installations",vS="@firebase/installations-compat",wS="@firebase/messaging",ES="@firebase/messaging-compat",TS="@firebase/performance",IS="@firebase/performance-compat",SS="@firebase/remote-config",RS="@firebase/remote-config-compat",CS="@firebase/storage",AS="@firebase/storage-compat",kS="@firebase/firestore",PS="@firebase/vertexai",xS="@firebase/firestore-compat",NS="firebase",DS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",bS={[If]:"fire-core",[oS]:"fire-core-compat",[lS]:"fire-analytics",[aS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[hS]:"fire-auth",[dS]:"fire-auth-compat",[fS]:"fire-rtdb",[pS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[_S]:"fire-fn-compat",[yS]:"fire-iid",[vS]:"fire-iid-compat",[wS]:"fire-fcm",[ES]:"fire-fcm-compat",[TS]:"fire-perf",[IS]:"fire-perf-compat",[SS]:"fire-rc",[RS]:"fire-rc-compat",[CS]:"fire-gcs",[AS]:"fire-gcs-compat",[kS]:"fire-fst",[xS]:"fire-fst-compat",[PS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,OS=new Map,Rf=new Map;function O_(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bs(n){const e=n.name;if(Rf.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,n);for(const t of Vc.values())O_(t,n);for(const t of OS.values())O_(t,n);return!0}function th(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new bl("app","Firebase",LS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=DS;function ra(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=Tv()),!t)throw Fi.create("no-options");const l=Vc.get(o);if(l){if(Lc(t,l.options)&&Lc(i,l.config))return l;throw Fi.create("duplicate-app",{appName:o})}const c=new z1(o);for(const p of Rf.values())c.addComponent(p);const d=new VS(t,i,c);return Vc.set(o,d),d}function ip(n=Sf){const e=Vc.get(n);if(!e&&n===Sf&&Tv())return ra();if(!e)throw Fi.create("no-app",{appName:n});return e}function Cr(n,e,t){var i;let o=(i=bS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}bs(new zi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firebase-heartbeat-database",FS=1,El="firebase-heartbeat-store";let cf=null;function Av(){return cf||(cf=tS(MS,FS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(El)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),cf}async function US(n){try{const t=(await Av()).transaction(El),i=await t.objectStore(El).get(kv(n));return await t.done,i}catch(e){if(e instanceof Nr)ni.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(t.message)}}}async function L_(n,e){try{const i=(await Av()).transaction(El,"readwrite");await i.objectStore(El).put(e,kv(n)),await i.done}catch(t){if(t instanceof Nr)ni.warn(t.message);else{const i=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ni.warn(i.message)}}}function kv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=1024,BS=30*24*60*60*1e3;class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=V_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=BS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:i,unsentEntries:o}=$S(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ni.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function $S(n,e=jS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),M_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),M_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class HS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?N1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await US(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function M_(n){return Oc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n){bs(new zi("platform-logger",e=>new iS(e),"PRIVATE")),bs(new zi("heartbeat",e=>new zS(e),"PRIVATE")),Cr(If,b_,n),Cr(If,b_,"esm2017"),Cr("fire-js","")}qS("");var WS="firebase",KS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(WS,KS,"app");function sp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GS=Pv,xv=new bl("auth","Firebase",Pv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new np("@firebase/auth");function QS(n,...e){Mc.logLevel<=Le.WARN&&Mc.warn(`Auth (${Fs}): ${n}`,...e)}function Tc(n,...e){Mc.logLevel<=Le.ERROR&&Mc.error(`Auth (${Fs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw ap(n,...e)}function nr(n,...e){return ap(n,...e)}function op(n,e,t){const i=Object.assign(Object.assign({},GS()),{[e]:t});return new bl("auth","Firebase",i).create(e,{appName:n.name})}function Ui(n){return op(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XS(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Un(n,"argument-error"),op(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xv.create(n,...e)}function Te(n,e,...t){if(!n)throw ap(e,...t)}function Yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tc(e),new Error(e)}function ri(n,e){n||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YS(){return F_()==="http:"||F_()==="https:"}function F_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||C1()||"connection"in navigator)?navigator.onLine:!0}function ZS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=I1()||A1()}get(){return JS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Ll(3e4,6e4);function Us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gi(n,e,t,i,o={}){return Dv(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ol(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},l);return R1()||(_.referrerPolicy="no-referrer"),Nv.fetch()(bv(n,n.config.apiHost,t,d),_)})}async function Dv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eR),e);try{const o=new rR(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw cc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw cc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw cc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw op(n,v,_);Un(n,v)}}catch(o){if(o instanceof Nr)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function nh(n,e,t,i,o={}){const l=await Gi(n,e,t,i,o);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l}function bv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?lp(n.config,o):`${n.config.apiScheme}://${o}`}function nR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nr(this.auth,"network-request-failed")),tR.get())})}}function cc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=nr(n,e,i);return o.customData._tokenResponse=t,o}function U_(n){return n!==void 0&&n.enterprise!==void 0}class iR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function Ov(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aR(n,e=!1){const t=lt(n),i=await t.getIdToken(e),o=up(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:pl(hf(o.auth_time)),issuedAtTime:pl(hf(o.iat)),expirationTime:pl(hf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hf(n){return Number(n)*1e3}function up(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(t);return o?JSON.parse(o):(Tc("Failed to decode base64 JWT payload"),null)}catch(o){return Tc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function j_(n){const e=up(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Nr&&lR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function lR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Tl(n,Ov(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Lv(l.providerUserInfo):[],d=hR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Af(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,R)}async function cR(n){const e=lt(n);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Lv(n){return n.map(e=>{var{providerId:t}=e,i=sp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){const t=await Dv(n,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=bv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Nv.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fR(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=j_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await dR(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new zo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Af(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Fc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Tl(this,oR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,_,v;const R=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(_=t.createdAt)!==null&&_!==void 0?_:void 0,z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:J,isAnonymous:te,providerData:re,stsTokenManager:x}=t;Te(G&&x,e,"internal-error");const C=zo.fromJSON(this.name,x);Te(typeof G=="string",e,"internal-error"),Ni(R,e.name),Ni(T,e.name),Te(typeof J=="boolean",e,"internal-error"),Te(typeof te=="boolean",e,"internal-error"),Ni(N,e.name),Ni(O,e.name),Ni(U,e.name),Ni(L,e.name),Ni(B,e.name),Ni(z,e.name);const S=new Jr({uid:G,auth:e,email:T,emailVerified:J,displayName:R,isAnonymous:te,photoURL:O,phoneNumber:N,tenantId:U,stsTokenManager:C,createdAt:B,lastLoginAt:z});return re&&Array.isArray(re)&&(S.providerData=re.map(P=>Object.assign({},P))),L&&(S._redirectEventId=L),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new zo;o.updateFromServerResponse(t);const l=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Fc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Lv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new zo;d.updateFromIdToken(i);const p=new Jr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Af(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function Zr(n){ri(n instanceof Function,"Expected a class definition");let e=B_.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,B_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vv.type="NONE";const z_=Vv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ic("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(Zr(z_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Zr(z_);const c=Ic(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const v=await _._get(c);if(v){const R=Jr._fromJSON(e,v);_!==l&&(d=R),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(c)}catch{}})),new $o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zv(e))return"Blackberry";if($v(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||Uv(e))&&!e.includes("edge/"))return"Chrome";if(Bv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Mv(n=Qt()){return/firefox\//i.test(n)}function Fv(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uv(n=Qt()){return/crios\//i.test(n)}function jv(n=Qt()){return/iemobile/i.test(n)}function Bv(n=Qt()){return/android/i.test(n)}function zv(n=Qt()){return/blackberry/i.test(n)}function $v(n=Qt()){return/webos/i.test(n)}function cp(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pR(n=Qt()){var e;return cp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mR(){return k1()&&document.documentMode===10}function Hv(n=Qt()){return cp(n)||Bv(n)||$v(n)||zv(n)||/windows phone/i.test(n)||jv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e=[]){let t;switch(n){case"Browser":t=$_(Qt());break;case"Worker":t=`${$_(Qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Us(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=6;class vR{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:yR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ov(this,{idToken:e}),i=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Ui(this));const t=e?lt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _R(this),t=new vR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await fR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function js(n){return lt(n)}class H_{constructor(e){this.auth=e,this.observer=null,this.addObserver=V1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(n){rh=n}function Wv(n){return rh.loadJS(n)}function TR(){return rh.recaptchaEnterpriseScript}function IR(){return rh.gapiScript}function SR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RR{constructor(){this.enterprise=new CR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AR="recaptcha-enterprise",Kv="NO_RECAPTCHA";class kR{constructor(e){this.type=AR,this.auth=js(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{sR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new iR(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;U_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{c(_)}).catch(()=>{c(Kv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&U_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=TR();p.length!==0&&(p+=d),Wv(p).then(()=>{o(d,l,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function q_(n,e,t,i=!1,o=!1){const l=new kR(n);let c;if(o)c=Kv;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function W_(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await q_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n,e){const t=th(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Lc(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function xR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NR(n,e,t){const i=js(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Gv(e),{host:c,port:d}=DR(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),bR()}function Gv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DR(n){const e=Gv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:K_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:K_(c)}}}function K_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function OR(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,e){return nh(n,"POST","/v1/accounts:signInWithPassword",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}async function MR(n,e){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends hp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Il(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Il(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,t,"signInWithPassword",LR);case"emailLink":return VR(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,i,"signUpPassword",OR);case"emailLink":return MR(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return nh(n,"POST","/v1/accounts:signInWithIdp",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="http://localhost";class Os extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=sp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Os(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:FR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jR(n){const e=ll(ul(n)).link,t=e?ll(ul(e)).deep_link_id:null,i=ll(ul(n)).deep_link_id;return(i?ll(ul(i)).link:null)||i||t||e||n}class dp{constructor(e){var t,i,o,l,c,d;const p=ll(ul(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,R=UR((o=p.mode)!==null&&o!==void 0?o:null);Te(_&&v&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=jR(e);try{return new dp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,t){return Il._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=dp.parseLink(t);return Te(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Vl{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xr.credential(t,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Vl{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Vl{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Oi.credential(t,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Jr._fromIdTokenResponse(e,i,o),c=G_(i);return new Wo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=G_(i);return new Wo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function G_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Nr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Uc(e,t,i,o)}}function Qv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(n,l,e,i):l})}async function BR(n,e,t=!1){const i=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e,t=!1){const{auth:i}=n;if(Sr(i.app))return Promise.reject(Ui(i));const o="reauthenticate";try{const l=await Tl(n,Qv(i,o,e,n),t);Te(l.idToken,i,"internal-error");const c=up(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),Wo._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Un(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ui(n));const i="signIn",o=await Qv(n,i,e),l=await Wo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function $R(n,e){return Xv(js(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n){const e=js(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hc(n,e,t){return Sr(n.app)?Promise.reject(Ui(n)):$R(lt(n),ia.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HR(n),i})}function qR(n,e,t,i){return lt(n).onIdTokenChanged(e,t,i)}function WR(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function kf(n){return lt(n).signOut()}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=1e3,GR=10;class Jv extends Yv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);mR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jv.type="LOCAL";const QR=Jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Yv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zv.type="SESSION";const ew=Zv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,l)),p=await XR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const _=pp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(R){const T=R;if(T.data.eventId===_)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function JR(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function ZR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function tC(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebaseLocalStorageDb",nC=1,Bc="firebaseLocalStorage",rw="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sh(n,e){return n.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function rC(){const n=indexedDB.deleteDatabase(nw);return new Ml(n).toPromise()}function Pf(){const n=indexedDB.open(nw,nC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bc,{keyPath:rw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bc)?e(i):(i.close(),await rC(),e(await Pf()))})})}async function Q_(n,e,t){const i=sh(n,!0).put({[rw]:e,value:t});return new Ml(i).toPromise()}async function iC(n,e){const t=sh(n,!1).get(e),i=await new Ml(t).toPromise();return i===void 0?null:i.value}function X_(n,e){const t=sh(n,!0).delete(e);return new Ml(t).toPromise()}const sC=800,oC=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>oC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(tC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ZR(),!this.activeServiceWorker)return;this.sender=new YR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pf();return await Q_(e,jc,"1"),await X_(e,jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Q_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>iC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>X_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=sh(o,!1).getAll();return new Ml(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const aC=iw;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){return e?Zr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lC(n){return Xv(n.auth,new mp(n),n.bypassAuthState)}function uC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),zR(t,new mp(n),n.bypassAuthState)}async function cC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),BR(t,new mp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:Un(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Ll(2e3,1e4);async function dC(n,e,t){if(Sr(n.app))return Promise.reject(nr(n,"operation-not-supported-in-this-environment"));const i=js(n);XS(n,e,fp);const o=sw(i,t);return new Ps(i,"signInViaPopup",e,o).executeNotNull()}class Ps extends ow{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hC.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="pendingRedirect",Sc=new Map;class pC extends ow{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Sc.get(this.auth._key());if(!e){try{const i=await mC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Sc.set(this.auth._key(),e)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mC(n,e){const t=yC(e),i=_C(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function gC(n,e){Sc.set(n._key(),e)}function _C(n){return Zr(n._redirectPersistence)}function yC(n){return Ic(fC,n.config.apiKey,n.name)}async function vC(n,e,t=!1){if(Sr(n.app))return Promise.reject(Ui(n));const i=js(n),o=sw(i,e),c=await new pC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=10*60*1e3;class EC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!aw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(e))}saveEventToCache(e){this.cachedEventUids.add(Y_(e)),this.lastProcessedEventTime=Date.now()}}function Y_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RC=/^https?/;async function CC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IC(n);for(const t of e)try{if(AC(t))return}catch{}Un(n,"unauthorized-domain")}function AC(n){const e=Cf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!RC.test(t))return!1;if(SC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Ll(3e4,6e4);function J_(){const n=Ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PC(n){return new Promise((e,t)=>{var i,o,l;function c(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),t(nr(n,"network-request-failed"))},timeout:kC.get()})}if(!((o=(i=Ar().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ar().gapi)===null||l===void 0)&&l.load)c();else{const d=SR("iframefcb");return Ar()[d]=()=>{gapi.load?c():t(nr(n,"network-request-failed"))},Wv(`${IR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function xC(n){return Rc=Rc||PC(n),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Ll(5e3,15e3),DC="__/auth/iframe",bC="emulator/auth/iframe",OC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lp(e,bC):`https://${n.config.authDomain}/${DC}`,i={apiKey:e.apiKey,appName:n.name,v:Fs},o=LC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ol(i).slice(1)}`}async function MC(n){const e=await xC(n),t=Ar().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:VC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=nr(n,"network-request-failed"),d=Ar().setTimeout(()=>{l(c)},NC.get());function p(){Ar().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,jC=600,BC="_blank",zC="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $C(n,e,t,i=UC,o=jC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},FC),{width:i.toString(),height:o.toString(),top:l,left:c}),_=Qt().toLowerCase();t&&(d=Uv(_)?BC:t),Mv(_)&&(e=e||zC,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[N,O])=>`${T}${N}=${O},`,"");if(pR(_)&&d!=="_self")return HC(e||"",d),new Z_(null);const R=window.open(e||"",d,v);Te(R,n,"popup-blocked");try{R.focus()}catch{}return new Z_(R)}function HC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",WC="emulator/auth/handler",KC=encodeURIComponent("fac");async function ey(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Fs,eventId:o};if(e instanceof fp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",L1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,R]of Object.entries({}))c[v]=R}if(e instanceof Vl){const v=e.getScopes().filter(R=>R!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),_=p?`#${KC}=${encodeURIComponent(p)}`:"";return`${GC(n)}?${Ol(d).slice(1)}${_}`}function GC({config:n}){return n.emulator?lp(n,WC):`https://${n.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=vC,this._overrideRedirectResult=gC}async _openPopup(e,t,i,o){var l;ri((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ey(e,t,i,Cf(),o);return $C(e,c,pp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ey(e,t,i,Cf(),o);return JR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ri(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await MC(e),i=new EC(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[df];c!==void 0&&t(!!c),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hv()||Fv()||cp()}}const XC=QC;var ty="@firebase/auth",ny="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZC(n){bs(new zi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qv(n)},_=new wR(i,o,l,p);return xR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),bs(new zi("auth-internal",e=>{const t=js(e.getProvider("auth").getImmediate());return(i=>new YC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(ty,ny,JC(n)),Cr(ty,ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=5*60,tA=Iv("authIdTokenMaxAge")||eA;let ry=null;const nA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tA)return;const o=t==null?void 0:t.token;ry!==o&&(ry=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zc(n=ip()){const e=th(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PR(n,{popupRedirectResolver:XC,persistence:[aC,QR,ew]}),i=Iv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=nA(l.toString());WR(t,c,()=>c(t.currentUser)),qR(t,d=>c(d))}}const o=wv("auth");return o&&NR(t,`http://${o}`),t}function rA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ER({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=nr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",rA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZC("Browser");var iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function S(){}S.prototype=C.prototype,x.D=C.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(P,V,b){for(var A=Array(arguments.length-2),be=2;be<arguments.length;be++)A[be-2]=arguments[be];return C.prototype[V].apply(P,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,S){S||(S=0);var P=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)P[V]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(V=0;16>V;++V)P[V]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=x.g[0],S=x.g[1],V=x.g[2];var b=x.g[3],A=C+(b^S&(V^b))+P[0]+3614090360&4294967295;C=S+(A<<7&4294967295|A>>>25),A=b+(V^C&(S^V))+P[1]+3905402710&4294967295,b=C+(A<<12&4294967295|A>>>20),A=V+(S^b&(C^S))+P[2]+606105819&4294967295,V=b+(A<<17&4294967295|A>>>15),A=S+(C^V&(b^C))+P[3]+3250441966&4294967295,S=V+(A<<22&4294967295|A>>>10),A=C+(b^S&(V^b))+P[4]+4118548399&4294967295,C=S+(A<<7&4294967295|A>>>25),A=b+(V^C&(S^V))+P[5]+1200080426&4294967295,b=C+(A<<12&4294967295|A>>>20),A=V+(S^b&(C^S))+P[6]+2821735955&4294967295,V=b+(A<<17&4294967295|A>>>15),A=S+(C^V&(b^C))+P[7]+4249261313&4294967295,S=V+(A<<22&4294967295|A>>>10),A=C+(b^S&(V^b))+P[8]+1770035416&4294967295,C=S+(A<<7&4294967295|A>>>25),A=b+(V^C&(S^V))+P[9]+2336552879&4294967295,b=C+(A<<12&4294967295|A>>>20),A=V+(S^b&(C^S))+P[10]+4294925233&4294967295,V=b+(A<<17&4294967295|A>>>15),A=S+(C^V&(b^C))+P[11]+2304563134&4294967295,S=V+(A<<22&4294967295|A>>>10),A=C+(b^S&(V^b))+P[12]+1804603682&4294967295,C=S+(A<<7&4294967295|A>>>25),A=b+(V^C&(S^V))+P[13]+4254626195&4294967295,b=C+(A<<12&4294967295|A>>>20),A=V+(S^b&(C^S))+P[14]+2792965006&4294967295,V=b+(A<<17&4294967295|A>>>15),A=S+(C^V&(b^C))+P[15]+1236535329&4294967295,S=V+(A<<22&4294967295|A>>>10),A=C+(V^b&(S^V))+P[1]+4129170786&4294967295,C=S+(A<<5&4294967295|A>>>27),A=b+(S^V&(C^S))+P[6]+3225465664&4294967295,b=C+(A<<9&4294967295|A>>>23),A=V+(C^S&(b^C))+P[11]+643717713&4294967295,V=b+(A<<14&4294967295|A>>>18),A=S+(b^C&(V^b))+P[0]+3921069994&4294967295,S=V+(A<<20&4294967295|A>>>12),A=C+(V^b&(S^V))+P[5]+3593408605&4294967295,C=S+(A<<5&4294967295|A>>>27),A=b+(S^V&(C^S))+P[10]+38016083&4294967295,b=C+(A<<9&4294967295|A>>>23),A=V+(C^S&(b^C))+P[15]+3634488961&4294967295,V=b+(A<<14&4294967295|A>>>18),A=S+(b^C&(V^b))+P[4]+3889429448&4294967295,S=V+(A<<20&4294967295|A>>>12),A=C+(V^b&(S^V))+P[9]+568446438&4294967295,C=S+(A<<5&4294967295|A>>>27),A=b+(S^V&(C^S))+P[14]+3275163606&4294967295,b=C+(A<<9&4294967295|A>>>23),A=V+(C^S&(b^C))+P[3]+4107603335&4294967295,V=b+(A<<14&4294967295|A>>>18),A=S+(b^C&(V^b))+P[8]+1163531501&4294967295,S=V+(A<<20&4294967295|A>>>12),A=C+(V^b&(S^V))+P[13]+2850285829&4294967295,C=S+(A<<5&4294967295|A>>>27),A=b+(S^V&(C^S))+P[2]+4243563512&4294967295,b=C+(A<<9&4294967295|A>>>23),A=V+(C^S&(b^C))+P[7]+1735328473&4294967295,V=b+(A<<14&4294967295|A>>>18),A=S+(b^C&(V^b))+P[12]+2368359562&4294967295,S=V+(A<<20&4294967295|A>>>12),A=C+(S^V^b)+P[5]+4294588738&4294967295,C=S+(A<<4&4294967295|A>>>28),A=b+(C^S^V)+P[8]+2272392833&4294967295,b=C+(A<<11&4294967295|A>>>21),A=V+(b^C^S)+P[11]+1839030562&4294967295,V=b+(A<<16&4294967295|A>>>16),A=S+(V^b^C)+P[14]+4259657740&4294967295,S=V+(A<<23&4294967295|A>>>9),A=C+(S^V^b)+P[1]+2763975236&4294967295,C=S+(A<<4&4294967295|A>>>28),A=b+(C^S^V)+P[4]+1272893353&4294967295,b=C+(A<<11&4294967295|A>>>21),A=V+(b^C^S)+P[7]+4139469664&4294967295,V=b+(A<<16&4294967295|A>>>16),A=S+(V^b^C)+P[10]+3200236656&4294967295,S=V+(A<<23&4294967295|A>>>9),A=C+(S^V^b)+P[13]+681279174&4294967295,C=S+(A<<4&4294967295|A>>>28),A=b+(C^S^V)+P[0]+3936430074&4294967295,b=C+(A<<11&4294967295|A>>>21),A=V+(b^C^S)+P[3]+3572445317&4294967295,V=b+(A<<16&4294967295|A>>>16),A=S+(V^b^C)+P[6]+76029189&4294967295,S=V+(A<<23&4294967295|A>>>9),A=C+(S^V^b)+P[9]+3654602809&4294967295,C=S+(A<<4&4294967295|A>>>28),A=b+(C^S^V)+P[12]+3873151461&4294967295,b=C+(A<<11&4294967295|A>>>21),A=V+(b^C^S)+P[15]+530742520&4294967295,V=b+(A<<16&4294967295|A>>>16),A=S+(V^b^C)+P[2]+3299628645&4294967295,S=V+(A<<23&4294967295|A>>>9),A=C+(V^(S|~b))+P[0]+4096336452&4294967295,C=S+(A<<6&4294967295|A>>>26),A=b+(S^(C|~V))+P[7]+1126891415&4294967295,b=C+(A<<10&4294967295|A>>>22),A=V+(C^(b|~S))+P[14]+2878612391&4294967295,V=b+(A<<15&4294967295|A>>>17),A=S+(b^(V|~C))+P[5]+4237533241&4294967295,S=V+(A<<21&4294967295|A>>>11),A=C+(V^(S|~b))+P[12]+1700485571&4294967295,C=S+(A<<6&4294967295|A>>>26),A=b+(S^(C|~V))+P[3]+2399980690&4294967295,b=C+(A<<10&4294967295|A>>>22),A=V+(C^(b|~S))+P[10]+4293915773&4294967295,V=b+(A<<15&4294967295|A>>>17),A=S+(b^(V|~C))+P[1]+2240044497&4294967295,S=V+(A<<21&4294967295|A>>>11),A=C+(V^(S|~b))+P[8]+1873313359&4294967295,C=S+(A<<6&4294967295|A>>>26),A=b+(S^(C|~V))+P[15]+4264355552&4294967295,b=C+(A<<10&4294967295|A>>>22),A=V+(C^(b|~S))+P[6]+2734768916&4294967295,V=b+(A<<15&4294967295|A>>>17),A=S+(b^(V|~C))+P[13]+1309151649&4294967295,S=V+(A<<21&4294967295|A>>>11),A=C+(V^(S|~b))+P[4]+4149444226&4294967295,C=S+(A<<6&4294967295|A>>>26),A=b+(S^(C|~V))+P[11]+3174756917&4294967295,b=C+(A<<10&4294967295|A>>>22),A=V+(C^(b|~S))+P[2]+718787259&4294967295,V=b+(A<<15&4294967295|A>>>17),A=S+(b^(V|~C))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+b&4294967295}i.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var S=C-this.blockSize,P=this.B,V=this.h,b=0;b<C;){if(V==0)for(;b<=S;)o(this,x,b),b+=this.blockSize;if(typeof x=="string"){for(;b<C;)if(P[V++]=x.charCodeAt(b++),V==this.blockSize){o(this,P),V=0;break}}else for(;b<C;)if(P[V++]=x[b++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var S=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.u(x),x=Array(16),C=S=0;4>C;++C)for(var P=0;32>P;P+=8)x[S++]=this.g[C]>>>P&255;return x};function l(x,C){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=C(x)}function c(x,C){this.h=C;for(var S=[],P=!0,V=x.length-1;0<=V;V--){var b=x[V]|0;P&&b==C||(S[V]=b,P=!1)}this.g=S}var d={};function p(x){return-128<=x&&128>x?l(x,function(C){return new c([C|0],0>C?-1:0)}):new c([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return L(_(-x));for(var C=[],S=1,P=0;x>=S;P++)C[P]=x/S|0,S*=4294967296;return new c(C,0)}function v(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return L(v(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(C,8)),P=R,V=0;V<x.length;V+=8){var b=Math.min(8,x.length-V),A=parseInt(x.substring(V,V+b),C);8>b?(b=_(Math.pow(C,b)),P=P.j(b).add(_(A))):(P=P.j(S),P=P.add(_(A)))}return P}var R=p(0),T=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-L(this).m();for(var x=0,C=1,S=0;S<this.g.length;S++){var P=this.i(S);x+=(0<=P?P:4294967296+P)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(U(this))return"-"+L(this).toString(x);for(var C=_(Math.pow(x,6)),S=this,P="";;){var V=J(S,C).g;S=B(S,V.j(C));var b=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=V,O(S))return b+P;for(;6>b.length;)b="0"+b;P=b+P}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function U(x){return x.h==-1}n.l=function(x){return x=B(this,x),U(x)?-1:O(x)?0:1};function L(x){for(var C=x.g.length,S=[],P=0;P<C;P++)S[P]=~x.g[P];return new c(S,~x.h).add(T)}n.abs=function(){return U(this)?L(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),S=[],P=0,V=0;V<=C;V++){var b=P+(this.i(V)&65535)+(x.i(V)&65535),A=(b>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);P=A>>>16,b&=65535,A&=65535,S[V]=A<<16|b}return new c(S,S[S.length-1]&-2147483648?-1:0)};function B(x,C){return x.add(L(C))}n.j=function(x){if(O(this)||O(x))return R;if(U(this))return U(x)?L(this).j(L(x)):L(L(this).j(x));if(U(x))return L(this.j(L(x)));if(0>this.l(N)&&0>x.l(N))return _(this.m()*x.m());for(var C=this.g.length+x.g.length,S=[],P=0;P<2*C;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<x.g.length;V++){var b=this.i(P)>>>16,A=this.i(P)&65535,be=x.i(V)>>>16,st=x.i(V)&65535;S[2*P+2*V]+=A*st,z(S,2*P+2*V),S[2*P+2*V+1]+=b*st,z(S,2*P+2*V+1),S[2*P+2*V+1]+=A*be,z(S,2*P+2*V+1),S[2*P+2*V+2]+=b*be,z(S,2*P+2*V+2)}for(P=0;P<C;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=C;P<2*C;P++)S[P]=0;return new c(S,0)};function z(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function G(x,C){this.g=x,this.h=C}function J(x,C){if(O(C))throw Error("division by zero");if(O(x))return new G(R,R);if(U(x))return C=J(L(x),C),new G(L(C.g),L(C.h));if(U(C))return C=J(x,L(C)),new G(L(C.g),C.h);if(30<x.g.length){if(U(x)||U(C))throw Error("slowDivide_ only works with positive integers.");for(var S=T,P=C;0>=P.l(x);)S=te(S),P=te(P);var V=re(S,1),b=re(P,1);for(P=re(P,2),S=re(S,2);!O(P);){var A=b.add(P);0>=A.l(x)&&(V=V.add(S),b=A),P=re(P,1),S=re(S,1)}return C=B(x,V.j(C)),new G(V,C)}for(V=R;0<=x.l(C);){for(S=Math.max(1,Math.floor(x.m()/C.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),b=_(S),A=b.j(C);U(A)||0<A.l(x);)S-=P,b=_(S),A=b.j(C);O(b)&&(b=T),V=V.add(b),x=B(x,A)}return new G(V,x)}n.A=function(x){return J(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)&x.i(P);return new c(S,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)|x.i(P);return new c(S,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)^x.i(P);return new c(S,this.h^x.h)};function te(x){for(var C=x.g.length+1,S=[],P=0;P<C;P++)S[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(S,x.h)}function re(x,C){var S=C>>5;C%=32;for(var P=x.g.length-S,V=[],b=0;b<P;b++)V[b]=0<C?x.i(b+S)>>>C|x.i(b+S+1)<<32-C:x.i(b+S);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=v,Ns=c}).apply(typeof iy<"u"?iy:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,cl,cw,Cc,xf,hw,dw,fw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var $=u[I];if(!($ in y))break e;y=y[$]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,I=!1,$={next:function(){if(!I&&y<u.length){var K=y++;return{value:m(K,u[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function T(u,m,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:R,T.apply(null,arguments)}function N(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,$,K){for(var ae=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ae[Ke-2]=arguments[Ke];return m.prototype[$].apply(I,ae)}}function U(u){const m=u.length;if(0<m){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function L(u,m){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(p(I)){const $=u.length||0,K=I.length||0;u.length=$+K;for(let ae=0;ae<K;ae++)u[$+ae]=I[ae]}else u.push(I)}}class B{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var te=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function re(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function C(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let y,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(y in I)u[y]=I[y];for(let K=0;K<S.length;K++)y=S[K],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function b(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,y){const I=st.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var st=new B(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,oe=!1,ye=new be,le=()=>{const u=d.Promise.resolve(void 0);$e=()=>{u.then(j)}};var j=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){b(y)}var m=st;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u}();function xe(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(te){e:{try{J(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}O(xe,_e);var Oe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ue(u,m,y,I,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=$,this.key=++ie,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,y,I,$){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ae=ft(u,m,I,$);return-1<ae?(m=u[ae],y||(m.fa=!1)):(m=new ue(m,this.src,K,!!I,$),m.fa=y,u.push(m)),m};function _n(u,m){var y=m.type;if(y in u.g){var I=u.g[y],$=Array.prototype.indexOf.call(I,m,void 0),K;(K=0<=$)&&Array.prototype.splice.call(I,$,1),K&&(Re(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ft(u,m,y,I){for(var $=0;$<u.length;++$){var K=u[$];if(!K.da&&K.listener==m&&K.capture==!!y&&K.ha==I)return $}return-1}var nn="closure_lm_"+(1e6*Math.random()|0),Dr={};function Yi(u,m,y,I,$){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Yi(u,m[K],y,I,$);return null}return y=da(y),u&&u[Ue]?u.K(m,y,_(I)?!!I.capture:!!I,$):Ji(u,m,y,!1,I,$)}function Ji(u,m,y,I,$,K){if(!m)throw Error("Invalid event type");var ae=_($)?!!$.capture:!!$,Ke=qs(u);if(Ke||(u[nn]=Ke=new Qe(u)),y=Ke.add(m,y,I,ae,K),y.proxy)return y;if(I=Wl(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)Pe||($=ae),$===void 0&&($=!1),u.addEventListener(m.toString(),I,$);else if(u.attachEvent)u.attachEvent(Or(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wl(){function u(y){return m.call(u.src,u.listener,y)}const m=ha;return u}function Hs(u,m,y,I,$){if(Array.isArray(m))for(var K=0;K<m.length;K++)Hs(u,m[K],y,I,$);else I=_(I)?!!I.capture:!!I,y=da(y),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],y=ft(K,y,I,$),-1<y&&(Re(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ft(m,y,I,$)),(y=-1<u?m[u]:null)&&br(y))}function br(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])_n(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(Or(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=qs(m))?(_n(y,u),y.h==0&&(y.src=null,m[nn]=null)):Re(u)}}}function Or(u){return u in Dr?Dr[u]:Dr[u]="on"+u}function ha(u,m){if(u.da)u=!0;else{m=new xe(m,this);var y=u.listener,I=u.ha||u.src;u.fa&&br(u),u=y.call(I,m)}return u}function qs(u){return u=u[nn],u instanceof Qe?u:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function da(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(m){return u.handleEvent(m)}),u[Ws])}function Tt(){Q.call(this),this.i=new Qe(this),this.M=this,this.F=null}O(Tt,Q),Tt.prototype[Ue]=!0,Tt.prototype.removeEventListener=function(u,m,y,I){Hs(this,u,m,y,I)};function It(u,m){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var $=m;m=new _e(I,u),P(m,$)}if($=!0,y)for(var K=y.length-1;0<=K;K--){var ae=m.g=y[K];$=Lr(ae,I,!0,m)&&$}if(ae=m.g=u,$=Lr(ae,I,!0,m)&&$,$=Lr(ae,I,!1,m)&&$,y)for(K=0;K<y.length;K++)ae=m.g=y[K],$=Lr(ae,I,!1,m)&&$}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],I=0;I<y.length;I++)Re(y[I]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},Tt.prototype.L=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function Lr(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,K=0;K<m.length;++K){var ae=m[K];if(ae&&!ae.da&&ae.capture==y){var Ke=ae.listener,St=ae.ha||ae.src;ae.fa&&_n(u.i,ae),$=Ke.call(St,I)!==!1&&$}}return $&&!I.defaultPrevented}function fa(u,m,y){if(typeof u=="function")y&&(u=T(u,y));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function ai(u){u.g=fa(()=>{u.g=null,u.i&&(u.i=!1,ai(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zi extends Q{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){Q.call(this),this.h=u,this.g={}}O(es,Q);var pa=[];function ma(u){re(u.g,function(m,y){this.g.hasOwnProperty(y)&&br(m)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),ma(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=d.JSON.stringify,_a=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ts(){}ts.prototype.h=null;function Ks(u){return u.h||(u.h=u.i())}function Gs(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){_e.call(this,"d")}O(lr,_e);function Qs(){_e.call(this,"c")}O(Qs,_e);var ur={},va=null;function ns(){return va=va||new Tt}ur.La="serverreachability";function wa(u){_e.call(this,ur.La,u)}O(wa,_e);function Vr(u){const m=ns();It(m,new wa(m))}ur.STAT_EVENT="statevent";function Ea(u,m){_e.call(this,ur.STAT_EVENT,u),this.stat=m}O(Ea,_e);function pt(u){const m=ns();It(m,new Ea(m,u))}ur.Ma="timingevent";function Xs(u,m){_e.call(this,ur.Ma,u),this.size=m}O(Xs,_e);function jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(u,m,y,I,$,K){u.info(function(){if(u.g)if(K)for(var ae="",Ke=K.split("&"),St=0;St<Ke.length;St++){var je=Ke[St].split("=");if(1<je.length){var Pt=je[0];je=je[1];var _t=Pt.split("_");ae=2<=_t.length&&_t[1]=="type"?ae+(Pt+"="+je+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+m+`
`+y+`
`+ae})}function Ys(u,m,y,I,$,K,ae){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+m+`
`+y+`
`+K+" "+ae})}function Bn(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,y)+(I?" "+I:"")})}function Ta(u,m){u.info(function(){return"TIMEOUT: "+m})}rs.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return ga(y)}catch{return m}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function ss(){}O(ss,ts),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},zn=new ss;function $n(u,m,y,I){this.j=u,this.i=m,this.l=y,this.R=I||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gl}function Gl(){this.i=null,this.g="",this.h=!1}var Ia={},Zs={};function eo(u,m,y){u.L=1,u.v=di(vn(m)),u.m=y,u.P=!0,Sa(u,null)}function Sa(u,m){u.F=Date.now(),Xe(u),u.A=vn(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),pi(y.i,"t",I),u.C=0,y=u.j.J,u.h=new Gl,u.g=du(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Zi(T(u.Y,u,u.g),u.O)),m=u.U,y=u.g,I=u.ca;var $="readystatechange";Array.isArray($)||($&&(pa[0]=$.toString()),$=pa);for(var K=0;K<$.length;K++){var ae=Yi(y,$[K],I||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Vr(),is(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const m=this.M;m&&sn(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const _t=sn(this.g);var m=this.g.Ba();const Nn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||_t!=4||m==7||(m==8||0>=Nn?Vr(3):Vr(2)),os(this);var y=this.g.Z();this.X=y;t:if(Ql(this)){var I=xa(this.g);u="";var $=I.length,K=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),li(this);var ae="";break t}this.h.i=new d.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(K&&m==$-1)});I.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,Ys(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ke)){var je=Ke;break t}}je=null}if(y=je)Bn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,y);else{this.o=!1,this.s=3,pt(12),Pn(this),li(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=Ah(this,ae),En==Zs){_t==4&&(this.s=4,pt(14),y=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ia){this.s=4,pt(15),Bn(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else Bn(this.i,this.l,En,null),Ra(this,En);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ae.length!=0||this.h.h||(this.s=1,pt(16),y=!1),this.o=this.o&&y,!y)Bn(this.i,this.l,ae,"[Invalid Chunked Response]"),Pn(this),li(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Da(Pt),Pt.M=!0,pt(11))}}else Bn(this.i,this.l,ae,null),Ra(this,ae);_t==4&&Pn(this),this.o&&!this.J&&(_t==4?ho(this.j,this):(this.o=!1,Xe(this)))}else oo(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Pn(this),li(this)}}}catch{}finally{}};function Ql(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ah(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?Zs:(y=Number(m.substring(y,I)),isNaN(y)?Ia:(I+=1,I+y>m.length?Zs:(m=m.slice(I,I+y),u.C=I+y,m)))}$n.prototype.cancel=function(){this.J=!0,Pn(this)};function Xe(u){u.S=Date.now()+u.I,Xl(u,u.I)}function Xl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=jn(T(u.ba,u),m)}function os(u){u.B&&(d.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ta(this.i,this.A),this.L!=2&&(Vr(),pt(17)),Pn(this),this.s=2,li(this)):Xl(this,this.S-u)};function li(u){u.j.G==0||u.J||ho(u.j,u)}function Pn(u){os(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ma(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ra(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Xt(y.h,u))){if(!u.K&&Xt(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)co(y),Gn(y);else break e;uo(y),pt(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=jn(T(y.Za,y),6e3));if(1>=Jl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Br(y,11)}else if((u.K||y.g==u)&&co(y),!z(m))for($=y.Da.g.parse(m),m=0;m<$.length;m++){let je=$[m];if(y.T=je[0],je=je[1],y.G==2)if(je[0]=="c"){y.K=je[1],y.ia=je[2];const Pt=je[3];Pt!=null&&(y.la=Pt,y.j.info("VER="+y.la));const _t=je[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const Nn=je[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(I=1.5*Nn,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const En=u.g;if(En){const fs=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var K=I.h;K.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ca(K,K.h),K.h=null))}if(I.D){const po=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(I.ya=po,Ge(I.I,I.D,po))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var ae=u;if(I.qa=hu(I,I.J?I.ia:null,I.W),ae.K){Zl(I.h,ae);var Ke=ae,St=I.L;St&&(Ke.I=St),Ke.B&&(os(Ke),Xe(Ke)),I.g=ae}else ds(I);0<y.i.length&&fr(y)}else je[0]!="stop"&&je[0]!="close"||Br(y,7);else y.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Br(y,7):Lt(y):je[0]!="noop"&&y.l&&y.l.ta(je),y.v=0)}}Vr(4)}catch{}}var Yl=class{constructor(u,m){this.g=u,this.map=m}};function as(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jl(u){return u.h?1:u.g?u.g.size:0}function Xt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ca(u,m){u.g?u.g.add(m):u.h=m}function Zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}as.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function eu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return U(u.i)}function to(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,I=0;I<y;I++)m.push(u[I]);return m}m=[],y=0;for(I in u)m[y++]=u[I];return m}function no(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const I in u)m[y++]=I;return m}}}function ui(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=no(u),I=to(u),$=I.length,K=0;K<$;K++)m.call(void 0,I[K],y&&y[K],u)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),$=null;if(0<=I){var K=u[y].substring(0,I);$=u[y].substring(I+1)}else K=u[y];m(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mr){this.h=u.h,us(this,u.j),this.o=u.o,this.g=u.g,ci(this,u.s),this.l=u.l;var m=u.i,y=new cr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),hi(this,y),this.m=u.m}else u&&(m=String(u).match(ls))?(this.h=!1,us(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),ci(this,m[4]),this.l=Me(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(fi(m,ro,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fi(m,ro,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(fi(y,y.charAt(0)=="/"?ru:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",fi(y,Aa)),u.join("")};function vn(u){return new Mr(u)}function us(u,m,y){u.j=y?Me(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,y){m instanceof cr?(u.i=m,hr(u.i,u.h)):(y||(m=fi(m,iu)),u.i=new cr(m,u.h))}function Ge(u,m,y){u.i.set(m,y)}function di(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ro=/[#\/\?@]/g,nu=/[#\?:]/g,ru=/[#\?]/g,iu=/[#\?@]/g,Aa=/#/g;function cr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&kh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=cr.prototype,n.add=function(u,m){Ot(this),this.i=null,u=xn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Hn(u,m){Ot(u),m=xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qn(u,m){return Ot(u),m=xn(u,m),u.g.has(m)}n.forEach=function(u,m){Ot(this),this.g.forEach(function(y,I){y.forEach(function($){u.call(m,$,I,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let I=0;I<m.length;I++){const $=u[I];for(let K=0;K<$.length;K++)y.push(m[I])}return y},n.V=function(u){Ot(this);let m=[];if(typeof u=="string")qn(this,u)&&(m=m.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return Ot(this),this.i=null,u=xn(this,u),qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function pi(u,m,y){Hn(u,m),0<y.length&&(u.i=null,u.g.set(xn(u,m),U(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var I=m[y];const K=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var $=K;ae[I]!==""&&($+="="+encodeURIComponent(String(ae[I]))),u.push($)}}return this.i=u.join("&")};function xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hr(u,m){m&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(y,I){var $=I.toLowerCase();I!=$&&(Hn(this,I),pi(this,$,y))},u)),u.j=m}function Ph(u,m){const y=new rs;if(d.Image){const I=new Image;I.onload=N(rn,y,"TestLoadImage: loaded",!0,m,I),I.onerror=N(rn,y,"TestLoadImage: error",!1,m,I),I.onabort=N(rn,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=N(rn,y,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function su(u,m){const y=new rs,I=new AbortController,$=setTimeout(()=>{I.abort(),rn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(K=>{clearTimeout($),K.ok?rn(y,"TestPingServer: ok",!0,m):rn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),rn(y,"TestPingServer: error",!1,m)})}function rn(u,m,y,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(y)}catch{}}function xh(){this.g=new ya}function ou(u,m,y){const I=y||"";try{ui(u,function($,K){let ae=$;_($)&&(ae=ga($)),m.push(I+K+"="+encodeURIComponent(ae))})}catch($){throw m.push(I+"type="+encodeURIComponent("_badmap")),$}}function Fr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Fr,ts),Fr.prototype.g=function(){return new cs(this.l,this.j)},Fr.prototype.i=function(u){return function(){return u}}({});function cs(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(cs,Tt),n=cs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;au(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function au(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):Kn(this),this.readyState==3&&au(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},n.Qa=function(u){this.g&&(this.response=u,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ur(u){let m="";return re(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function mi(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Ur(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ge(u,m,y))}function nt(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nt,Tt);var Nh=/^https?$/i,ka=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ks(this.o):Ks(zn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){hs(this,K);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)y.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())y.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ka,m,void 0))||I||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of y)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{so(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){hs(this,K)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,io(u),wn(u)}function io(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||sn(u)!=4||u.Z()!=2)){if(u.u&&sn(u)==4)fa(u.Ea,0,u);else if(It(u,"readystatechange"),sn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=ae===0){var $=String(u.D).match(ls)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),I=!Nh.test($?$.toLowerCase():"")}y=I}if(y)It(u,"complete"),It(u,"success");else{u.m=6;try{var K=2<sn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",io(u)}}finally{wn(u)}}}}function wn(u,m){if(u.g){so(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||It(u,"ready");try{y.onreadystatechange=I}catch{}}}function so(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(u){const m={};u=(u.g&&2<=sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(z(u[I]))continue;var y=V(u[I]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=m[$]||[];m[$]=K,K.push(y)}x(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Na(u){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,u),this.cb=dr("retryDelaySeedMs",1e4,u),this.Wa=dr("forwardChannelMaxRetries",2,u),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new as(u&&u.concurrentRequestLimit),this.Da=new xh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,I){pt(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=hu(this,null,this.W),fr(this)};function Lt(u){if(ao(u),u.G==3){var m=u.U++,y=vn(u.I);if(Ge(y,"SID",u.K),Ge(y,"RID",m),Ge(y,"TYPE","terminate"),jr(u,y),m=new $n(u,u.j,m),m.L=2,m.v=di(vn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.v,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}cu(u)}function Gn(u){u.g&&(Da(u),u.g.cancel(),u.g=null)}function ao(u){Gn(u),u.u&&(d.clearTimeout(u.u),u.u=null),co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function fr(u){if(!yn(u.h)&&!u.s){u.s=!0;var m=u.Ga;$e||le(),oe||($e(),oe=!0),ye.add(m,u),u.B=0}}function Dh(u,m){return Jl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=jn(T(u.Ga,u,m),uu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new $n(this,this.j,u);let K=this.o;if(this.S&&(K?(K=C(K),P(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=gi(this,$,m),y=vn(this.I),Ge(y,"RID",u),Ge(y,"CVER",22),this.D&&Ge(y,"X-HTTP-Session-Id",this.D),jr(this,y),K&&(this.O?m="headers="+encodeURIComponent(String(Ur(K)))+"&"+m:this.m&&mi(y,this.m,K)),Ca(this.h,$),this.Ua&&Ge(y,"TYPE","init"),this.P?(Ge(y,"$req",m),Ge(y,"SID","null"),$.T=!0,eo($,y,null)):eo($,y,m),this.G=2}}else this.G==3&&(u?lo(this,u):this.i.length==0||yn(this.h)||lo(this))};function lo(u,m){var y;m?y=m.l:y=u.U++;const I=vn(u.I);Ge(I,"SID",u.K),Ge(I,"RID",y),Ge(I,"AID",u.T),jr(u,I),u.m&&u.o&&mi(I,u.m,u.o),y=new $n(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=gi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ca(u.h,y),eo(y,I,m)}function jr(u,m){u.H&&re(u.H,function(y,I){Ge(m,I,y)}),u.l&&ui({},function(y,I){Ge(m,I,y)})}function gi(u,m,y){y=Math.min(u.i.length,y);var I=u.l?T(u.l.Na,u.l,u):null;e:{var $=u.i;let K=-1;for(;;){const ae=["count="+y];K==-1?0<y?(K=$[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ke=!0;for(let St=0;St<y;St++){let je=$[St].g;const Pt=$[St].map;if(je-=K,0>je)K=Math.max(0,$[St].g-100),Ke=!1;else try{ou(Pt,ae,"req"+je+"_")}catch{I&&I(Pt)}}if(Ke){I=ae.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,I}function ds(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$e||le(),oe||($e(),oe=!0),ye.add(m,u),u.v=0}}function uo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=jn(T(u.Fa,u),uu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=jn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Gn(this),lu(this))};function Da(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vn(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),jr(u,m),u.m&&u.o&&mi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=di(vn(m)),y.m=null,y.P=!0,Sa(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Gn(this),uo(this),pt(19))};function co(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ho(u,m){var y=null;if(u.g==m){co(u),Da(u),u.g=null;var I=2}else if(Xt(u.h,m))y=m.D,Zl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;I=ns(),It(I,new Xs(I,y)),fr(u)}else ds(u);else if($=m.s,$==3||$==0&&0<m.X||!(I==1&&Dh(u,m)||I==2&&uo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),$){case 1:Br(u,5);break;case 4:Br(u,10);break;case 3:Br(u,6);break;default:Br(u,2)}}}function uu(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Br(u,m){if(u.j.info("Error code "+m),m==2){var y=T(u.fb,u),I=u.Xa;const $=!I;I=new Mr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||us(I,"https"),di(I),$?Ph(I.toString(),y):su(I.toString(),y)}else pt(2);u.G=0,u.l&&u.l.sa(m),cu(u),ao(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function cu(u){if(u.G=0,u.ka=[],u.l){const m=eu(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function hu(u,m,y){var I=y instanceof Mr?vn(y):new Mr(y);if(I.g!="")m&&(I.g=m+"."+I.g),ci(I,I.s);else{var $=d.location;I=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var K=new Mr(null);I&&us(K,I),m&&(K.g=m),$&&ci(K,$),y&&(K.l=y),I=K}return y=u.D,m=u.ya,y&&m&&Ge(I,y,m),Ge(I,"VER",u.la),jr(u,I),I}function du(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Fr({eb:y})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ba(){}n=ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){Tt.call(this),this.g=new Na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new pr(this)}O(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Lt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ga(u),u=y);m.i.push(new Yl(m.Ya++,u)),m.G==3&&fr(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Yt.aa.N.call(this)};function fu(u){lr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(fu,lr);function pu(){Qs.call(this),this.status=1}O(pu,Qs);function pr(u){this.g=u}O(pr,ba),pr.prototype.ua=function(){It(this.g,"a")},pr.prototype.ta=function(u){It(this.g,new fu(u))},pr.prototype.sa=function(u){It(this.g,new pu)},pr.prototype.ra=function(){It(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,fw=function(){return new fo},dw=function(){return ns()},hw=ur,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Cc=Js,Kl.COMPLETE="complete",cw=Kl,Gs.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,cl=Gs,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,uw=nt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const sy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new np("@firebase/firestore");function Vo(){return Ls.logLevel}function he(n,...e){if(Ls.logLevel<=Le.DEBUG){const t=e.map(gp);Ls.debug(`Firestore (${sa}): ${n}`,...t)}}function ii(n,...e){if(Ls.logLevel<=Le.ERROR){const t=e.map(gp);Ls.error(`Firestore (${sa}): ${n}`,...t)}}function Ko(n,...e){if(Ls.logLevel<=Le.WARN){const t=e.map(gp);Ls.warn(`Firestore (${sa}): ${n}`,...t)}}function gp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function We(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class sA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oA{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ti,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ti)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new pw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Wt(e)}}class aA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new aA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new uA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=hA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function Go(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new At(0,0))}static max(){return new Ce(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends Sl{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const dA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Sl{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return dA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}function fA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new $i(o,ve.empty(),e)}function pA(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(Ce.min(),ve.empty(),-1)}static max(){return new $i(Ce.max(),ve.empty(),-1)}}function mA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==gA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(v=>{c[_]=v,++d,d===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function yA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}oh.oe=-1;function ah(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function vA(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oy(e)),e=EA(n.get(t),e);return oy(e)}function EA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function oy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ly(this.data.getIterator())}getIteratorFrom(e){return new ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new An([])}unionWith(e){let t=new kt(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _w("Invalid base64 string: "+l):l}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const TA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(We(!!n),typeof n=="string"){let e=0;const t=TA.exec(n);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lh(n){const e=n.mapValue.fields.__previous_value__;return _p(e)?lh(e):e}function Rl(n){const e=Hi(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,i,o,l,c,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_}}class Cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_p(n)?4:RA(n)?9007199254740991:SA(n)?10:11:Se()}function xr(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Hi(o.timestampValue),d=Hi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return qi(o.bytesValue).isEqual(qi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=gt(o.doubleValue),d=gt(l.doubleValue);return c===d?$c(c)===$c(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Go(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(ay(c)!==ay(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!xr(c[p],d[p])))return!1;return!0}(n,e);default:return Se()}}function Al(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Wi(n),i=Wi(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=gt(l.integerValue||l.doubleValue),p=gt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return uy(n.timestampValue,e.timestampValue);case 4:return uy(Rl(n),Rl(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(l,c){const d=qi(l),p=qi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const v=Fe(d[_],p[_]);if(v!==0)return v}return Fe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Fe(gt(l.latitude),gt(c.latitude));return d!==0?d:Fe(gt(l.longitude),gt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,_,v;const R=l.fields||{},T=c.fields||{},N=(d=R.value)===null||d===void 0?void 0:d.arrayValue,O=(p=T.value)===null||p===void 0?void 0:p.arrayValue,U=Fe(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:cy(N,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===pc.mapValue&&c===pc.mapValue)return 0;if(l===pc.mapValue)return 1;if(c===pc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),_=c.fields||{},v=Object.keys(_);p.sort(),v.sort();for(let R=0;R<p.length&&R<v.length;++R){const T=Fe(p[R],v[R]);if(T!==0)return T;const N=Qo(d[p[R]],_[v[R]]);if(N!==0)return N}return Fe(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function uy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Hi(n),i=Hi(e),o=Fe(t.seconds,i.seconds);return o!==0?o:Fe(t.nanos,i.nanos)}function cy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Qo(t[o],i[o]);if(l)return l}return Fe(t.length,i.length)}function Xo(n){return Nf(n)}function Nf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Hi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Nf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Nf(t.fields[c])}`;return o+"}"}(n.mapValue):Se()}function Ac(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(n);return e?16+Ac(e):16;case 5:return 2*n.stringValue.length;case 6:return qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Ac(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Qi(i.fields,(l,c)=>{o+=l.length+Ac(c)}),o}(n.mapValue);default:throw Se()}}function hy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Df(n){return!!n&&"integerValue"in n}function yp(n){return!!n&&"arrayValue"in n}function dy(n){return!!n&&"nullValue"in n}function fy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kc(n){return!!n&&"mapValue"in n}function SA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ml(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Ut.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=ml(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Qi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new mn(ml(this.value))}}function yw(n){const e=[];return Qi(n.fields,(t,i)=>{const o=new Ut([t]);if(kc(i)){const l=yw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Ce.min(),Ce.min(),Ce.min(),mn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Ce.min(),Ce.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Ce.min(),Ce.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function py(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Qo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function my(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function CA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class wt extends vw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new kA(e,t,i):t==="array-contains"?new NA(e,i):t==="in"?new DA(e,i):t==="not-in"?new bA(e,i):t==="array-contains-any"?new OA(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new PA(e,i):new xA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qo(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends vw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ir(e,t)}matches(e){return ww(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function Ew(n){return AA(n)&&ww(n)}function AA(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function bf(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(Ew(n))return n.filters.map(e=>bf(e)).join(",");{const e=n.filters.map(t=>bf(t)).join(",");return`${n.op}(${e})`}}function Tw(n,e){return n instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(n,e):n instanceof ir?function(i,o){return o instanceof ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Tw(c,o.filters[d]),!0):!1}(n,e):void Se()}function Iw(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`}(n):n instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(Iw).join(" ,")+"}"}(n):"Filter"}class kA extends wt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class PA extends wt{constructor(e,t){super(e,"in",t),this.keys=Sw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xA extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Sw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class NA extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yp(t)&&Al(t.arrayValue,this.value)}}class DA extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class bA extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Al(this.value.arrayValue,t)}}class OA extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function gy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new LA(n,e,t,i,o,l,c)}function vp(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xo(i)).join(",")),e.ue=t}return e.ue}function wp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!my(n.startAt,e.startAt)&&my(n.endAt,e.endAt)}function Of(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VA(n,e,t,i,o,l,c,d){return new Fl(n,e,t,i,o,l,c,d)}function Ep(n){return new Fl(n)}function _y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rw(n){return n.collectionGroup!==null}function gl(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new kt(Ut.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new qc(l,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new qc(Ut.keyField(),i))}return e.ce}function kr(n){const e=Ae(n);return e.le||(e.le=MA(e,gl(n))),e.le}function MA(n,e){if(n.limitType==="F")return gy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new qc(o.field,l)});const t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return gy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Lf(n,e){const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vf(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return wp(kr(n),kr(e))&&n.limitType===e.limitType}function Cw(n){return`${vp(kr(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Iw(o)).join(", ")}]`),ah(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Xo(o)).join(",")),`Target(${i})`}(kr(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of gl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=py(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,gl(i),o)||i.endAt&&!function(c,d,p){const _=py(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,gl(i),o))}(n,e)}function FA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Aw(n){return(e,t)=>{let i=!1;for(const o of gl(n)){const l=UA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function UA(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),_=d.data.field(l);return p!==null&&_!==null?Qo(p,_):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new ut(ve.comparator);function si(){return jA}const kw=new ut(ve.comparator);function hl(...n){let e=kw;for(const t of n)e=e.insert(t.key,t);return e}function Pw(n){let e=kw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xs(){return _l()}function xw(){return _l()}function _l(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const BA=new ut(ve.comparator),zA=new kt(ve.comparator);function Ve(...n){let e=zA;for(const t of n)e=e.add(t);return e}const $A=new kt(Fe);function HA(){return $A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function Nw(n){return{integerValue:""+n}}function qA(n,e){return vA(e)?Nw(e):Tp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function WA(n,e,t){return n instanceof kl?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_p(l)&&(l=lh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Pl?bw(n,e):n instanceof xl?Ow(n,e):function(o,l){const c=Dw(o,l),d=yy(c)+yy(o.Pe);return Df(c)&&Df(o.Pe)?Nw(d):Tp(o.serializer,d)}(n,e)}function KA(n,e,t){return n instanceof Pl?bw(n,e):n instanceof xl?Ow(n,e):t}function Dw(n,e){return n instanceof Wc?function(i){return Df(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class kl extends hh{}class Pl extends hh{constructor(e){super(),this.elements=e}}function bw(n,e){const t=Lw(e);for(const i of n.elements)t.some(o=>xr(o,i))||t.push(i);return{arrayValue:{values:t}}}class xl extends hh{constructor(e){super(),this.elements=e}}function Ow(n,e){let t=Lw(e);for(const i of n.elements)t=t.filter(o=>!xr(o,i));return{arrayValue:{values:t}}}class Wc extends hh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function yy(n){return gt(n.integerValue||n.doubleValue)}function Lw(n){return yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.field=e,this.transform=t}}function QA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Pl&&o instanceof Pl||i instanceof xl&&o instanceof xl?Go(i.elements,o.elements,xr):i instanceof Wc&&o instanceof Wc?xr(i.Pe,o.Pe):i instanceof kl&&o instanceof kl}(n.transform,e.transform)}class XA{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dh{}function Vw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ip(n.key,rr.none()):new Ul(n.key,n.data,rr.none());{const t=n.data,i=mn.empty();let o=new kt(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Xi(n.key,i,new An(o.toArray()),rr.none())}}function YA(n,e,t){n instanceof Ul?function(o,l,c){const d=o.value.clone(),p=wy(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xi?function(o,l,c){if(!Pc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=wy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Mw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function yl(n,e,t,i){return n instanceof Ul?function(l,c,d,p){if(!Pc(l.precondition,c))return d;const _=l.value.clone(),v=Ey(l.fieldTransforms,p,c);return _.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xi?function(l,c,d,p){if(!Pc(l.precondition,c))return d;const _=Ey(l.fieldTransforms,p,c),v=c.data;return v.setAll(Mw(l)),v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(R=>R.field))}(n,e,t,i):function(l,c,d){return Pc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function JA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Dw(i.transform,o||null);l!=null&&(t===null&&(t=mn.empty()),t.set(i.field,l))}return t||null}function vy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Go(i,o,(l,c)=>QA(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ul extends dh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends dh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function wy(n,e,t){const i=new Map;We(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,KA(c,d,t[o]))}return i}function Ey(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,WA(l,c,e))}return i}class Ip extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&YA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Vw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(t,i)=>vy(t,i))&&Go(this.baseMutations,e.baseMutations,(t,i)=>vy(t,i))}}class Sp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=function(){return BA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Sp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Be;function rk(n){switch(n){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Fw(n){if(n===void 0)return ii("GRPC error has no .code"),Y.UNKNOWN;switch(n){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(Be=vt||(vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Ns([4294967295,4294967295],0);function Ty(n){const e=ik().encode(n),t=new lw;return t.update(e),new Uint8Array(t.digest())}function Iy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,i],0),new Ns([o,l],0)]}class Rp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(i<0)throw new dl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ns.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ns.fromNumber(i)));return o.compare(sk)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ty(e),[i,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Rp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Ty(e),[i,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new fh(Ce.min(),o,new ut(Fe),si(),Ve())}}class jl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new jl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Uw{constructor(e,t){this.targetId=e,this.me=t}}class jw{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Sy{constructor(){this.fe=0,this.ge=Ry(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new jl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ry()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ok{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=mc(),this.Qe=mc(),this.Ke=new ut(Fe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Of(l))if(i===0){const c=new ve(l.path);this.We(t,c,Kt.newNoDocument(c,Ce.min()))}else We(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=qi(i).toUint8Array()}catch(p){if(p instanceof _w)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Rp(c,o,l)}catch(p){return Ko(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Of(d.target)){const p=new ve(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Kt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=Ve();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Ye(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new fh(e,t,this.Ke,this.ke,i);return this.ke=si(),this.qe=mc(),this.Qe=mc(),this.Ke=new ut(Fe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Sy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt(Fe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Fe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Sy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function mc(){return new ut(ve.comparator)}function Ry(){return new ut(ve.comparator)}const ak={asc:"ASCENDING",desc:"DESCENDING"},lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uk={and:"AND",or:"OR"};class ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mf(n,e){return n.useProto3Json||ah(e)?e:{value:e}}function Kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hk(n,e){return Kc(n,e.toTimestamp())}function Pr(n){return We(!!n),Ce.fromTimestamp(function(t){const i=Hi(t);return new At(i.seconds,i.nanos)}(n))}function Cp(n,e){return Ff(n,e).canonicalString()}function Ff(n,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zw(n){const e=et.fromString(n);return We(Kw(e)),e}function Uf(n,e){return Cp(n.databaseId,e.path)}function ff(n,e){const t=zw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Hw(t))}function $w(n,e){return Cp(n.databaseId,e)}function dk(n){const e=zw(n);return e.length===4?et.emptyPath():Hw(e)}function jf(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Hw(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Cy(n,e,t){return{name:Uf(n,e),fields:t.value.mapValue.fields}}function fk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,v){return _.useProto3Json?(We(v===void 0||typeof v=="string"),jt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const v=_.code===void 0?Y.UNKNOWN:Fw(_.code);return new fe(v,_.message||"")}(c);t=new jw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ff(n,i.document.name),l=Pr(i.document.updateTime),c=i.document.createTime?Pr(i.document.createTime):Ce.min(),d=new mn({mapValue:{fields:i.document.fields}}),p=Kt.newFoundDocument(o,l,c,d),_=i.targetIds||[],v=i.removedTargetIds||[];t=new xc(_,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ff(n,i.document),l=i.readTime?Pr(i.readTime):Ce.min(),c=Kt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new xc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ff(n,i.document),l=i.removedTargetIds||[];t=new xc([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new nk(o,l),d=i.targetId;t=new Uw(d,c)}}return t}function pk(n,e){let t;if(e instanceof Ul)t={update:Cy(n,e.key,e.value)};else if(e instanceof Ip)t={delete:Uf(n,e.key)};else if(e instanceof Xi)t={update:Cy(n,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof ZA))return Se();t={verify:Uf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof kl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:hk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()}(n,e.precondition)),t}function mk(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Pr(o.updateTime):Pr(l);return c.isEqual(Ce.min())&&(c=Pr(l)),new XA(c,o.transformResults||[])}(t,e))):[]}function gk(n,e){return{documents:[$w(n,e.path)]}}function _k(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$w(n,o);const l=function(_){if(_.length!==0)return Ww(ir.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(_){if(_.length!==0)return _.map(v=>function(T){return{field:Fo(T.field),direction:wk(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Mf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function yk(n){let e=dk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(R){const T=qw(R);return T instanceof ir&&Ew(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(R){return R.map(T=>function(O){return new qc(Uo(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(R){let T;return T=typeof R=="object"?R.value:R,ah(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(R){const T=!!R.before,N=R.values||[];return new Hc(N,T)}(t.startAt));let _=null;return t.endAt&&(_=function(R){const T=!R.before,N=R.values||[];return new Hc(N,T)}(t.endAt)),VA(e,o,c,l,d,"F",p,_)}function vk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(i=>qw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function wk(n){return ak[n]}function Ek(n){return lk[n]}function Tk(n){return uk[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Ut.fromServerFormat(n.fieldPath)}function Ww(n){return n instanceof wt?function(t){if(t.op==="=="){if(fy(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(dy(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fy(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(dy(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:Ek(t.op),value:t.value}}}(n):n instanceof ir?function(t){const i=t.getFilters().map(o=>Ww(o));return i.length===1?i[0]:{compositeFilter:{op:Tk(t.op),filters:i}}}(n):Se()}function Ik(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,i,o,l=Ce.min(),c=Ce.min(),d=jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.ht=e}}function Rk(n){const e=yk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.ln=new Ak}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve($i.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Ak{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new kt(et.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new kt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Yo(0)}static Qn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky([n,e],[t,i]){const o=Fe(n,t);return o===0?Fe(e,i):o}class kk{constructor(e){this.Gn=e,this.buffer=new kt(ky),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ky(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await oa(t)}await this.Yn(3e5)})}}class xk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(oh.oe);const i=new kk(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ay)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,_;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,c=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(i=R,d=Date.now(),this.removeTargets(e,i,t))).next(R=>(l=R,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(_=Date.now(),Vo()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}function Nk(n,e){return new xk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&yl(i.mutation,o,An.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=hl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=si();const c=_l(),d=function(){return _l()}();return t.forEach((p,_)=>{const v=i.get(_.key);o.has(_.key)&&(v===void 0||v.mutation instanceof Xi)?l=l.insert(_.key,_):v!==void 0?(c.set(_.key,v.mutation.getFieldMask()),yl(v.mutation,_,v.mutation.getFieldMask(),At.now())):c.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,v)=>c.set(_,v)),t.forEach((_,v)=>{var R;return d.set(_,new bk(v,(R=c.get(_))!==null&&R!==void 0?R:null))}),d))}recalculateAndSaveOverlays(e,t){const i=_l();let o=new ut((c,d)=>c-d),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let v=i.get(p)||An.empty();v=d.applyToLocalView(_,v),i.set(p,v);const R=(o.get(d.batchId)||Ve()).add(p);o=o.insert(d.batchId,R)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,v=p.value,R=xw();v.forEach(T=>{if(!l.has(T)){const N=Vw(t.get(T),i.get(T));N!==null&&R.set(T,N),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,R))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(xs());let d=-1,p=l;return c.next(_=>X.forEach(_,(v,R)=>(d<R.largestBatchId&&(d=R.largestBatchId),l.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,Ve())).next(v=>({batchId:d,changes:Pw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=hl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=hl();return this.indexManager.getCollectionParents(e,l).next(d=>X.forEach(d,p=>{const _=function(R,T){return new Fl(T,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(v=>{v.forEach((R,T)=>{c=c.insert(R,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,_)=>{const v=_.getKey();c.get(v)===null&&(c=c.insert(v,Kt.newInvalidDocument(v)))});let d=hl();return c.forEach((p,_)=>{const v=l.get(p);v!==void 0&&yl(v.mutation,_,An.empty(),At.now()),ch(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:Rk(o.bundledQuery),readTime:Pr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.overlays=new ut(ve.comparator),this.Er=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xs();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=xs(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ut((_,v)=>_-v);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let v=l.get(_.largestBatchId);v===null&&(v=xs(),l=l.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const d=xs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,v)=>d.set(_,v)),!(d.size()>=o)););return X.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tk(t,i));let l=this.Er.get(t);l===void 0&&(l=Ve(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.dr=new kt(bt.Ar),this.Rr=new kt(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new et([])),i=new bt(t,e),o=new bt(t,e+1);let l=Ve();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new bt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Fe(e.br,t.br)}static Vr(e,t){return Fe(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(bt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ek(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Fe);return t.forEach(o=>{const l=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new bt(new ve(l),0);let d=new kt(Fe);return this.vr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.br)),!0)},c),X.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new bt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.Nr=e,this.docs=function(){return new ut(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=si();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=si();const c=t.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:v}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||mA(pA(v),i)<=0||(o.has(v.key)||ch(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Lr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jk(this)}getSize(e){return X.resolve(this.size)}}class jk extends Dk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.Br=new Bs(t=>vp(t),wp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ap,this.targetCount=0,this.Qr=Yo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new oh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Mk,this.referenceDelegate=e(this),this.Gr=new Bk(this),this.indexManager=new Ck,this.remoteDocumentCache=function(o){return new Uk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Sk(t),this.jr=new Lk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Fk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new zk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class zk extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Zr=new Ap,this.Xr=null}static ei(e){return new kp(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Gc{constructor(e,t){this.persistence=e,this.ri=new Bs(i=>wA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Nk(this,t)}static ei(e,t){return new Gc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Pp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return P1()?8:yA(Qt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new $k;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Vo()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Vo()<=Le.DEBUG&&he("QueryEngine","Query:",Mo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Vo()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):X.resolve())}Xi(e,t){if(_y(t))return X.resolve(null);let i=kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Vf(t,null,"F"),i=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ve(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.rs(t,d);return this.ss(t,_,c,p.readTime)?this.Xi(e,Vf(t,null,"F")):this.os(e,_,t,p)}))})))}es(e,t,i,o){return _y(t)||o.isEqual(Ce.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?X.resolve(null):(Vo()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(t)),this.os(e,c,t,fA(o,-1)).next(d=>d))})}rs(e,t){let i=new kt(Aw(e));return t.forEach((o,l)=>{ch(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Vo()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.Zi.getDocumentsMatchingQuery(e,t,$i.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ut(Fe),this.cs=new Bs(l=>vp(l),wp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Wk(n,e,t,i){return new qk(n,e,t,i)}async function Qw(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Ve();for(const _ of o){c.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}for(const _ of l){d.push(_.batchId);for(const v of _.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Ts:_,removedBatchIds:c,addedBatchIds:d}))})})}function Kk(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,_,v){const R=_.batch,T=R.keys();let N=X.resolve();return T.forEach(O=>{N=N.next(()=>v.getEntry(p,O)).next(U=>{const L=_.docVersions.get(O);We(L!==null),U.version.compareTo(L)<0&&(R.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),v.addEntry(U)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,R))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ve();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Xw(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Gk(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,R)=>{const T=o.get(R);if(!T)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,R).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,R)));let N=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(R)!==null?N=N.withResumeToken(jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),o=o.insert(R,N),function(U,L,B){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,N,v)&&d.push(t.Gr.updateTargetData(l,N))});let p=si(),_=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Qk(l,c,e.documentUpdates).next(v=>{p=v.Is,_=v.Es})),!i.isEqual(Ce.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(R=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return X.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.us=o,l))}function Qk(n,e,t){let i=Ve(),o=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=si();return t.forEach((d,p)=>{const _=l.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Is:c,Es:o}})}function Xk(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yk(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Vi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Bf(n,e,t){const i=Ae(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!aa(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Py(n,e,t){const i=Ae(n);let o=Ce.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,v){const R=Ae(p),T=R.cs.get(v);return T!==void 0?X.resolve(R.us.get(T)):R.Gr.getTargetData(_,v)}(i,c,kr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?l:Ve())).next(d=>(Jk(i,FA(e),d),{documents:d,ds:l})))}function Jk(n,e,t){let i=n.ls.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class xy{constructor(){this.activeTargetIds=HA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zk{constructor(){this._o=new xy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new xy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function pf(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class rP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=pf(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,l,c),this.Bo(t,p,_,o).then(v=>(he("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ko("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=tP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=pf();return new Promise((c,d)=>{const p=new uw;p.setWithCredentials(!0),p.listenOnce(cw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Cc.NO_ERROR:const v=p.getResponseJson();he(qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Cc.TIMEOUT:he(qt,`RPC '${e}' ${l} timed out`),d(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const R=p.getStatus();if(he(qt,`RPC '${e}' ${l} failed with status:`,R,"response text:",p.getResponseText()),R>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const O=function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(B)>=0?B:Y.UNKNOWN}(N.status);d(new fe(O,N.message))}else d(new fe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(qt,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);he(qt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,i,15)})}qo(e,t,i){const o=pf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fw(),d=dw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");he(qt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const R=c.createWebChannel(v,p);let T=!1,N=!1;const O=new nP({Eo:L=>{N?he(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(he(qt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),T=!0),he(qt,`RPC '${e}' stream ${o} sending:`,L),R.send(L))},Ao:()=>R.close()}),U=(L,B,z)=>{L.listen(B,G=>{try{z(G)}catch(J){setTimeout(()=>{throw J},0)}})};return U(R,cl.EventType.OPEN,()=>{N||(he(qt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),U(R,cl.EventType.CLOSE,()=>{N||(N=!0,he(qt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),U(R,cl.EventType.ERROR,L=>{N||(N=!0,Ko(qt,`RPC '${e}' stream ${o} transport errored:`,L),O.Do(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),U(R,cl.EventType.MESSAGE,L=>{var B;if(!N){const z=L.data[0];We(!!z);const G=z,J=(G==null?void 0:G.error)||((B=G[0])===null||B===void 0?void 0:B.error);if(J){he(qt,`RPC '${e}' stream ${o} received error:`,J);const te=J.status;let re=function(S){const P=vt[S];if(P!==void 0)return Fw(P)}(te),x=J.message;re===void 0&&(re=Y.INTERNAL,x="Unknown error status: "+te+" with message "+J.message),N=!0,O.Do(new fe(re,x)),R.close()}else he(qt,`RPC '${e}' stream ${o} received:`,z),O.vo(z)}}),U(d,hw.STAT_EVENT,L=>{L.stat===xf.PROXY?he(qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===xf.NOPROXY&&he(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new ck(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Yw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iP extends Jw{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=fk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Pr(c.readTime):Ce.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=jf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Of(p)?{documents:gk(l,p)}:{query:_k(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Bw(l,c.resumeToken);const _=Mf(l,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Kc(l,c.snapshotVersion.toTimestamp());const _=Mf(l,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=vk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=jf(this.serializer),t.removeTarget=e,this.c_(t)}}class sP extends Jw{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=mk(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=jf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>pk(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,Ff(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Ff(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ii(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{zs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.k_.add(4),await Bl(_),_.K_.set("Unknown"),_.k_.delete(4),await mh(_)}(this))})}),this.K_=new aP(i,o)}}async function mh(n){if(zs(n))for(const e of n.q_)await e(!0)}async function Bl(n){for(const e of n.q_)await e(!1)}function Zw(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),bp(t)?Dp(t):la(t).s_()&&Np(t,e))}function xp(n,e){const t=Ae(n),i=la(t);t.B_.delete(e),i.s_()&&e0(t,e),t.B_.size===0&&(i.s_()?i.a_():zs(t)&&t.K_.set("Unknown"))}function Np(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).V_(e)}function e0(n,e){n.U_.xe(e),la(n).m_(e)}function Dp(n){n.U_=new ok({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.K_.F_()}function bp(n){return zs(n)&&!la(n).i_()&&n.B_.size>0}function zs(n){return Ae(n).k_.size===0}function t0(n){n.U_=void 0}async function uP(n){n.K_.set("Online")}async function cP(n){n.B_.forEach((e,t)=>{Np(n,e)})}async function hP(n,e){t0(n),bp(n)?(n.K_.O_(e),Dp(n)):n.K_.set("Unknown")}async function dP(n,e,t){if(n.K_.set("Online"),e instanceof jw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qc(n,i)}else if(e instanceof xc?n.U_.$e(e):e instanceof Uw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ce.min()))try{const i=await Xw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(_);v&&l.B_.set(_,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),e0(l,p);const R=new Vi(v.target,p,_,v.sequenceNumber);Np(l,R)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await Qc(n,i)}}async function Qc(n,e,t){if(!aa(e))throw e;n.k_.add(1),await Bl(n),n.K_.set("Offline"),t||(t=()=>Xw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mh(n)})}function n0(n,e){return e().catch(t=>Qc(n,t,e))}async function gh(n){const e=Ae(n),t=Ki(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;fP(e);)try{const o=await Xk(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,pP(e,o)}catch(o){await Qc(e,o)}r0(e)&&i0(e)}function fP(n){return zs(n)&&n.L_.length<10}function pP(n,e){n.L_.push(e);const t=Ki(n);t.s_()&&t.f_&&t.g_(e.mutations)}function r0(n){return zs(n)&&!Ki(n).i_()&&n.L_.length>0}function i0(n){Ki(n).start()}async function mP(n){Ki(n).w_()}async function gP(n){const e=Ki(n);for(const t of n.L_)e.g_(t.mutations)}async function _P(n,e,t){const i=n.L_.shift(),o=Sp.from(i,e,t);await n0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await gh(n)}async function yP(n,e){e&&Ki(n).f_&&await async function(i,o){if(function(c){return rk(c)&&c!==Y.ABORTED}(o.code)){const l=i.L_.shift();Ki(i).__(),await n0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await gh(i)}}(n,e),r0(n)&&i0(n)}async function Dy(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=zs(t);t.k_.add(3),await Bl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mh(t)}async function vP(n,e){const t=Ae(n);e?(t.k_.delete(2),await mh(t)):e||(t.k_.add(2),await Bl(t),t.K_.set("Unknown"))}function la(n){return n.W_||(n.W_=function(t,i,o){const l=Ae(t);return l.b_(),new iP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:uP.bind(null,n),mo:cP.bind(null,n),po:hP.bind(null,n),R_:dP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),bp(n)?Dp(n):n.K_.set("Unknown")):(await n.W_.stop(),t0(n))})),n.W_}function Ki(n){return n.G_||(n.G_=function(t,i,o){const l=Ae(t);return l.b_(),new sP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:mP.bind(null,n),po:yP.bind(null,n),p_:gP.bind(null,n),y_:_P.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await gh(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Op(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(n,e){if(ii("AsyncQueue",`${e}: ${n}`),aa(n))return new fe(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=hl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.z_=new ut(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jo{constructor(e,t,i,o,l,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Jo(e,t,qo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class EP{constructor(){this.queries=Oy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ae(t),l=o.queries;o.queries=Oy(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function Oy(){return new Bs(n=>Cw(n),uh)}async function s0(n,e){const t=Ae(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new wP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Lp(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Vp(t)}async function o0(n,e){const t=Ae(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TP(n,e){const t=Ae(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Vp(t)}function IP(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Vp(n){n.X_.forEach(e=>{e.next()})}var zf,Ly;(Ly=zf||(zf={})).na="default",Ly.Cache="cache";class a0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class SP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=Aw(e),this.ma=new qo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new by,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,R)=>{const T=o.get(v),N=ch(this.query,R)?R:null,O=!!T&&this.mutatedKeys.has(T.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;T&&N?T.data.isEqual(N.data)?O!==U&&(i.track({type:3,doc:N}),L=!0):this.ya(T,N)||(i.track({type:2,doc:N}),L=!0,(p&&this.Va(N,p)>0||_&&this.Va(N,_)<0)&&(d=!0)):!T&&N?(i.track({type:0,doc:N}),L=!0):T&&!N&&(i.track({type:1,doc:T}),L=!0,(p||_)&&(d=!0)),L&&(N?(c=c.add(N),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,R)=>function(N,O){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return U(N)-U(O)}(v.type,R.type)||this.Va(v.doc,R.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,_=p!==this.Aa;return this.Aa=p,c.length!==0||_?{snapshot:new Jo(this.query,e.ma,l,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new by,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new u0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new l0(i))}),t}va(e){this.da=e.ds,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Jo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class RP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CP{constructor(e){this.key=e,this.Fa=!1}}class AP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Bs(d=>Cw(d),uh),this.Oa=new Map,this.Na=new Set,this.La=new ut(ve.comparator),this.Ba=new Map,this.ka=new Ap,this.qa={},this.Qa=new Map,this.Ka=Yo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kP(n,e,t=!0){const i=m0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await c0(i,e,t,!0),o}async function PP(n,e){const t=m0(n);await c0(t,e,!0,!1)}async function c0(n,e,t,i){const o=await Yk(n.localStore,kr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await xP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Zw(n.remoteStore,o),d}async function xP(n,e,t,i,o){n.Ua=(R,T,N)=>async function(U,L,B,z){let G=L.view.ga(B);G.ss&&(G=await Py(U.localStore,L.query,!1).then(({documents:x})=>L.view.ga(x,G)));const J=z&&z.targetChanges.get(L.targetId),te=z&&z.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(G,U.isPrimaryClient,J,te);return My(U,L.targetId,re.ba),re.snapshot}(n,R,T,N);const l=await Py(n.localStore,e,!0),c=new SP(e,l.ds),d=c.ga(l.documents),p=jl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);My(n,t,_.ba);const v=new RP(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),_.snapshot}async function NP(n,e,t){const i=Ae(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!uh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Bf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&xp(i.remoteStore,o.targetId),$f(i,o.targetId)}).catch(oa)):($f(i,o.targetId),await Bf(i.localStore,o.targetId,!0))}async function DP(n,e){const t=Ae(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),xp(t.remoteStore,i.targetId))}async function bP(n,e,t){const i=jP(n);try{const o=await function(c,d){const p=Ae(c),_=At.now(),v=d.reduce((N,O)=>N.add(O.key),Ve());let R,T;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=si(),U=Ve();return p.hs.getEntries(N,v).next(L=>{O=L,O.forEach((B,z)=>{z.isValidDocument()||(U=U.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(L=>{R=L;const B=[];for(const z of d){const G=JA(z,R.get(z.key).overlayedDocument);G!=null&&B.push(new Xi(z.key,G,yw(G.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,_,B,d)}).next(L=>{T=L;const B=L.applyToLocalDocumentSet(R,U);return p.documentOverlayCache.saveOverlays(N,L.batchId,B)})}).then(()=>({batchId:T.batchId,changes:Pw(R)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let _=c.qa[c.currentUser.toKey()];_||(_=new ut(Fe)),_=_.insert(d,p),c.qa[c.currentUser.toKey()]=_}(i,o.batchId,t),await zl(i,o.changes),await gh(i.remoteStore)}catch(o){const l=Lp(o,"Failed to persist write");t.reject(l)}}async function h0(n,e){const t=Ae(n);try{const i=await Gk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?We(c.Fa):o.removedDocuments.size>0&&(We(c.Fa),c.Fa=!1))}),await zl(t,i,e)}catch(i){await oa(i)}}function Vy(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let _=!1;p.queries.forEach((v,R)=>{for(const T of R.J_)T.ea(d)&&(_=!0)}),_&&Vp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OP(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new ut(ve.comparator);c=c.insert(l,Kt.newNoDocument(l,Ce.min()));const d=Ve().add(l),p=new fh(Ce.min(),new Map,new ut(Fe),c,d);await h0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Mp(i)}else await Bf(i.localStore,e,!1).then(()=>$f(i,e,t)).catch(oa)}async function LP(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await Kk(t.localStore,e);f0(t,i,null),d0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await zl(t,o)}catch(o){await oa(o)}}async function VP(n,e,t){const i=Ae(n);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return p.mutationQueue.lookupMutationBatch(_,d).next(R=>(We(R!==null),v=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>p.localDocuments.getDocuments(_,v))})}(i.localStore,e);f0(i,e,t),d0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await zl(i,o)}catch(o){await oa(o)}}function d0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function f0(n,e,t){const i=Ae(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function $f(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||p0(n,i)})}function p0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(xp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Mp(n))}function My(n,e,t){for(const i of t)i instanceof l0?(n.ka.addReference(i.key,e),MP(n,i)):i instanceof u0?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||p0(n,i.key)):Se()}function MP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),Mp(n))}function Mp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(et.fromString(e)),i=n.Ka.next();n.Ba.set(i,new CP(t)),n.La=n.La.insert(t,i),Zw(n.remoteStore,new Vi(kr(Ep(t.path)),i,"TargetPurposeLimboResolution",oh.oe))}}async function zl(n,e,t){const i=Ae(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(_=>{var v;if((_||t)&&i.isPrimaryClient){const R=_?!_.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){o.push(_);const R=Pp.zi(p.targetId,_);l.push(R)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,_){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>X.forEach(_,T=>X.forEach(T.Wi,N=>v.persistence.referenceDelegate.addReference(R,T.targetId,N)).next(()=>X.forEach(T.Gi,N=>v.persistence.referenceDelegate.removeReference(R,T.targetId,N)))))}catch(R){if(!aa(R))throw R;he("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const T=R.targetId;if(!R.fromCache){const N=v.us.get(T),O=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(O);v.us=v.us.insert(T,U)}}}(i.localStore,l))}async function FP(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await Qw(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new fe(Y.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zl(t,i.Ts)}}function UP(n,e){const t=Ae(n),i=t.Ba.get(e);if(i&&i.Fa)return Ve().add(i.key);{let o=Ve();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function m0(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.Ma.R_=TP.bind(null,e.eventManager),e.Ma.Wa=IP.bind(null,e.eventManager),e}function jP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VP.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Wk(this.persistence,new Hk,e.initialUser,this.serializer)}ja(e){return new Gw(kp.ei,this.serializer)}za(e){return new Zk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class BP extends Xc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){We(this.persistence.referenceDelegate instanceof Gc);const i=this.persistence.referenceDelegate.garbageCollector;return new Pk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Gw(i=>Gc.ei(i,t),this.serializer)}}class Hf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FP.bind(null,this.syncEngine),await vP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EP}()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),i=function(l){return new rP(l)}(e.databaseInfo);return function(l,c,d,p){return new oP(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new lP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Vy(this.syncEngine,t,0),function(){return Ny.p()?new Ny:new eP}())}createSyncEngine(e,t){return function(o,l,c,d,p,_,v){const R=new AP(o,l,c,d,p,_);return v&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);he("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Bl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hf.provider={build:()=>new Hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Qw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Fy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $P(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Dy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Dy(e.remoteStore,o)),n._onlineComponents=e}async function $P(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new Xc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await gf(n,new BP(void 0));return n._offlineComponents}async function _0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Fy(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Fy(n,new Hf))),n._onlineComponents}function HP(n){return _0(n).then(e=>e.syncEngine)}async function y0(n){const e=await _0(n),t=e.eventManager;return t.onListen=kP.bind(null,e.syncEngine),t.onUnlisten=NP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=PP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DP.bind(null,e.syncEngine),t}function qP(n,e,t={}){const i=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new g0({next:T=>{v.eu(),c.enqueueAndForget(()=>o0(l,R));const N=T.docs.has(d);!N&&T.fromCache?_.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&p&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(T)},error:T=>_.reject(T)}),R=new a0(Ep(d.path),v,{includeMetadataChanges:!0,ua:!0});return s0(l,R)}(await y0(n),n.asyncQueue,e,t,i)),i.promise}function WP(n,e,t={}){const i=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,_){const v=new g0({next:T=>{v.eu(),c.enqueueAndForget(()=>o0(l,R)),T.fromCache&&p.source==="server"?_.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(T)},error:T=>_.reject(T)}),R=new a0(d,v,{includeMetadataChanges:!0,ua:!0});return s0(l,R)}(await y0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n,e,t){if(!t)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KP(n,e,t,i){if(e===!0&&i===!0)throw new fe(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jy(n){if(!ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function By(n){if(ve.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(n);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new iA;switch(i.type){case"firstParty":return new lA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Uy.get(t);i&&(he("ComponentProvider","Removing Datastore"),Uy.delete(t),i.terminate())}(this),Promise.resolve()}}function GP(n,e,t,i={}){var o;const l=(n=oi(n,yh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Wt.MOCK_USER;else{d=Sv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(_)}n._authCredentials=new sA(new pw(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ji extends ua{constructor(e,t,i){super(e,t,Ep(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ve(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Cn(n,e,...t){if(n=lt(n),w0("collection","path",e),n instanceof yh){const i=et.fromString(e,...t);return By(i),new ji(n,null,i)}{if(!(n instanceof gn||n instanceof ji))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return By(i),new ji(n.firestore,null,i)}}function $l(n,e,...t){if(n=lt(n),arguments.length===1&&(e=mw.newId()),w0("doc","path",e),n instanceof yh){const i=et.fromString(e,...t);return jy(i),new gn(n,null,new ve(i))}{if(!(n instanceof gn||n instanceof ji))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return jy(i),new gn(n.firestore,n instanceof ji?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Yw(this,"async_queue_retry"),this.fu=()=>{const i=mf();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!aa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ii("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Op.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ca extends yh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new $y,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $y(e),this._firestoreClient=void 0,await e}}}function $s(n,e){const t=typeof n=="object"?n:ip(),i=typeof n=="string"?n:"(default)",o=th(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Ev("firestore");l&&GP(o,...l)}return o}function Fp(n){if(n._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QP(n),n._firestoreClient}function QP(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,_,v){return new IA(d,p,_,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new zP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(jt.fromBase64String(e))}catch(t){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^__.*__$/;class YP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}class E0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Bp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Yc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(T0(this.Mu)&&XP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class JP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ph(e)}$u(e,t,i,o=!1){return new Bp({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new JP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZP(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Hp("Data must be an object, but it was:",c,i);const d=I0(i,c);let p,_;if(l.merge)p=new An(c.fieldMask),_=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const R of l.mergeFields){const T=qf(e,R,t);if(!c.contains(T))throw new fe(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);R0(v,T)||v.push(T)}p=new An(v),_=c.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=c.fieldTransforms;return new YP(new mn(d),p,_)}class Eh extends wh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}class $p extends wh{_toFieldTransform(e){return new GA(e.path,new kl)}isEqual(e){return e instanceof $p}}function ex(n,e,t,i){const o=n.$u(1,e,t);Hp("Data must be an object, but it was:",o,i);const l=[],c=mn.empty();Qi(i,(p,_)=>{const v=qp(e,p,t);_=lt(_);const R=o.Bu(v);if(_ instanceof Eh)l.push(v);else{const T=Hl(_,R);T!=null&&(l.push(v),c.set(v,T))}});const d=new An(l);return new E0(c,d,o.fieldTransforms)}function tx(n,e,t,i,o,l){const c=n.$u(1,e,t),d=[qf(e,i,t)],p=[o];if(l.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(qf(e,l[T])),p.push(l[T+1]);const _=[],v=mn.empty();for(let T=d.length-1;T>=0;--T)if(!R0(_,d[T])){const N=d[T];let O=p[T];O=lt(O);const U=c.Bu(N);if(O instanceof Eh)_.push(N);else{const L=Hl(O,U);L!=null&&(_.push(N),v.set(N,L))}}const R=new An(_);return new E0(v,R,c.fieldTransforms)}function nx(n,e,t,i=!1){return Hl(t,n.$u(i?4:3,e))}function Hl(n,e){if(S0(n=lt(n)))return Hp("Unsupported field value:",e,n),I0(n,e);if(n instanceof wh)return function(i,o){if(!T0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Hl(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:Kc(o.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,l)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:Bw(o.serializer,i._byteString)};if(i instanceof gn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof jp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Tp(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${_h(i)}`)}(n,e)}function I0(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(i,o)=>{const l=Hl(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function S0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Up||n instanceof Zo||n instanceof gn||n instanceof wh||n instanceof jp)}function Hp(n,e,t){if(!S0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=_h(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function qf(n,e,t){if((e=lt(e))instanceof vh)return e._internalPath;if(typeof e=="string")return qp(n,e);throw Yc("Field path arguments must be of type string or ",n,!1,void 0,t)}const rx=new RegExp("[~\\*/\\[\\]]");function qp(n,e,t){if(e.search(rx)>=0)throw Yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vh(...e.split("."))._internalPath}catch{throw Yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(Y.INVALID_ARGUMENT,d+n+p)}function R0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ix extends C0{data(){return super.data()}}function Wp(n,e){return typeof e=="string"?qp(n,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class ox extends Kp{}function Er(n,e,...t){let i=[];e instanceof Kp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Gp).length,d=l.filter(p=>p instanceof Th).length;if(c>1||c>0&&d>0)throw new fe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Th extends ox{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Th(e,t,i)}_apply(e){const t=this._parse(e);return A0(e._query,t),new ua(e.firestore,e.converter,Lf(e._query,t))}_parse(e){const t=zp(e.firestore);return function(l,c,d,p,_,v,R){let T;if(_.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qy(R,v);const N=[];for(const O of R)N.push(Hy(p,l,O));T={arrayValue:{values:N}}}else T=Hy(p,l,R)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qy(R,v),T=nx(d,c,R,v==="in"||v==="not-in");return wt.create(_,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(n,e,t){const i=e,o=Wp("where",n);return Th._create(o,i,t)}class Gp extends Kp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)A0(c,p),c=Lf(c,p)}(e._query,t),new ua(e.firestore,e.converter,Lf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hy(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new fe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rw(e)&&t.indexOf("/")!==-1)throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!ve.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hy(n,new ve(i))}if(t instanceof gn)return hy(n,t._key);throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function qy(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A0(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ax{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>gt(c.doubleValue));return new jp(l)}convertGeoPoint(e){return new Up(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=lh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);We(Kw(i));const o=new Cl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||ii(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k0 extends C0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nc extends k0{data(e={}){return super.data(e)}}class ux{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,v=-1;return d.type!==0&&(_=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:cx(d.type),doc:p,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(n){n=oi(n,gn);const e=oi(n.firestore,ca);return qP(Fp(e),n._key).then(t=>fx(e,n,t))}class P0 extends ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function Ir(n){n=oi(n,ua);const e=oi(n.firestore,ca),t=Fp(e),i=new P0(e);return sx(n._query),WP(t,n._query).then(o=>new ux(e,i,n,o))}function hx(n,e,t,...i){n=oi(n,gn);const o=oi(n.firestore,ca),l=zp(o);let c;return c=typeof(e=lt(e))=="string"||e instanceof vh?tx(l,"updateDoc",n._key,e,t,i):ex(l,"updateDoc",n._key,e),Yp(o,[c.toMutation(n._key,rr.exists(!0))])}function dx(n){return Yp(oi(n.firestore,ca),[new Ip(n._key,rr.none())])}function Xp(n,e){const t=oi(n.firestore,ca),i=$l(n),o=lx(n.converter,e);return Yp(t,[ZP(zp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}function Yp(n,e){return function(i,o){const l=new ti;return i.asyncQueue.enqueueAndForget(async()=>bP(await HP(i),o,l)),l.promise}(Fp(n),e)}function fx(n,e,t){const i=t.docs.get(e._key),o=new P0(n);return new k0(n,o,e._key,i,new fl(t.hasPendingWrites,t.fromCache),e.converter)}function x0(){return new $p("serverTimestamp")}(function(e,t=!0){(function(o){sa=o})(Fs),bs(new zi("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ca(new oA(i.getProvider("auth-internal")),new cA(i.getProvider("app-check-internal")),function(_,v){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Cr(sy,"4.7.5",e),Cr(sy,"4.7.5","esm2017")})();const px={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};ra(px);const mx=()=>{const n=na(),[e,t]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState(!1),d=zc(),p=$s();F.useEffect(()=>{const z=d.onAuthStateChanged(async G=>{if(t(G),G){const J=G.email,te=await _(J);o(te),n("/dashboard",{state:{userData:te}})}});return()=>z()},[]);const _=async z=>{try{const G=Er(Cn(p,"RegisteredAdmin"),Tr("email","==",z)),J=await Ir(G);if(!J.empty)return J.docs[0].data();const te=Er(Cn(p,"RegisteredTeacher"),Tr("email","==",z)),re=await Ir(te);if(!re.empty)return re.docs[0].data();const x=Er(Cn(p,"RegisteredStudent"),Tr("email","==",z)),C=await Ir(x);return C.empty?null:C.docs[0].data()}catch(G){return console.error("Error fetching user data:",G),null}},v=()=>{i&&(n("/dashboard/create-event",{state:{userData:i}}),c(!1))},R=()=>{c(!1),n("/dashboard",{state:{userData:i}})},T=()=>{c(!1),n("/dashboard/file-manager",{state:{userData:i}})},N=()=>{c(!l)},O=async()=>{const z=zc();try{await kf(z),console.log("User signed out successfully"),n("/login")}catch(G){console.error("Error signing out:",G)}},U=["Alice Smith","Bob Johnson","Carol Williams","David Brown","Eve Davis"],L=["Smith","Johnson","Williams","Brown","Davis"],B=["Scanner-001","Scanner-002","Scanner-003"];return E.jsxs(E.Fragment,{children:[E.jsx("button",{className:ke.hamburgerBtn,onClick:N,children:l?E.jsx(gv,{size:24}):E.jsx(h1,{size:24})}),E.jsxs("div",{className:`${ke.sidebar} ${l?ke.sidebarOpen:""}`,children:[E.jsx("div",{className:ke.profileSection,children:e&&i&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:ke.avatar,children:E.jsx("img",{src:e.photoURL||i.selfieUrl,alt:"Profile"})}),E.jsxs("div",{className:ke.userInfo,children:[E.jsx("h3",{children:i.name}),E.jsx("p",{children:e.email}),E.jsx("br",{}),E.jsx("span",{children:i.position})]})]})}),E.jsx("nav",{className:ke.navigation,children:E.jsxs("ul",{className:ke.navList,children:[E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{className:ke.navLink,onClick:R,children:[E.jsx(u1,{size:20}),E.jsx("span",{children:"Dashboard"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{onClick:v,className:ke.navLink,style:{cursor:"pointer"},children:[E.jsx(t1,{size:20}),E.jsx("span",{children:"Create Event"})]})}),E.jsxs(jo,{to:"/dashboard/event-list",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(i1,{size:20}),E.jsx("span",{children:"Event List"})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(e1,{size:20}),E.jsx("span",{children:"Archive"})]})}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(uc,{size:20}),E.jsx("span",{children:"Registered Students"})]}),E.jsx("ul",{className:ke.dropdown,children:U.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(uc,{size:20}),E.jsx("span",{children:"Registered Teacher"})]}),E.jsx("ul",{className:ke.dropdown,children:L.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs(jo,{to:"/dashboard/teacher-registration",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(uc,{size:20}),E.jsx("span",{children:"Teacher Registration"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs(jo,{to:"/dashboard/student-registration",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(uc,{size:20}),E.jsx("span",{children:"Student Registration"})]})}),E.jsx("li",{className:ke.navItem,children:E.jsxs(jo,{to:"/dashboard/nfc-reader",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(A_,{size:20}),E.jsx("span",{children:"NFC Reader"})]})}),E.jsxs("li",{className:ke.navItem,children:[E.jsxs("a",{href:"#",className:ke.navLink,onClick:()=>c(!1),children:[E.jsx(A_,{size:20}),E.jsx("span",{children:"ESP32 NFC Scanners"})]}),E.jsx("ul",{className:ke.dropdown,children:B.map((z,G)=>E.jsx("li",{className:ke.dropdownItem,children:z},G))})]}),E.jsx("li",{className:ke.navItem,children:E.jsxs("div",{className:ke.navLink,onClick:T,children:[E.jsx(a1,{size:20}),E.jsx("span",{children:"File Manager"})]})})]})}),E.jsxs("button",{className:ke.logoutBtn,onClick:O,children:[E.jsx(c1,{size:20}),E.jsx("span",{children:"Logout"})]})]}),l&&E.jsx("div",{className:ke.overlay,onClick:N})]})};function gx(){var i;const n=ar(),e=(i=n.state)==null?void 0:i.userData,t=n.pathname==="/dashboard"||n.pathname==="/";return E.jsxs("div",{className:ke.dashboardContainer,children:[E.jsx(mx,{}),E.jsx("main",{className:ke.mainContent,children:t?E.jsxs("div",{className:ke.welcomeContainer,children:[E.jsxs("h1",{className:ke.welcomeTitle,children:["Welcome",E.jsx("br",{})," ",E.jsx("span",{children:e==null?void 0:e.name})]}),E.jsx("p",{className:ke.welcomeText,children:"Select an option from the sidebar to get started"})]}):E.jsx(QT,{})})]})}const _x="_container_1vton_5",yx="_card_1vton_17",vx="_cardHeader_1vton_33",wx="_cardTitle_1vton_45",Ex="_form_1vton_59",Tx="_formGrid_1vton_69",Ix="_formGroup_1vton_93",Sx="_label_1vton_105",Rx="_input_1vton_117",Cx="_select_1vton_119",Ax="_button_1vton_165",kx="_tableContainer_1vton_215",Px="_table_1vton_215",xx="_status_1vton_273",Nx="_statusPending_1vton_289",Dx="_statusOngoing_1vton_299",bx="_statusCompleted_1vton_309",Ox="_error_1vton_321",Lx="_inputError_1vton_333",Ne={container:_x,card:yx,cardHeader:vx,cardTitle:wx,form:Ex,formGrid:Tx,formGroup:Ix,label:Sx,input:Rx,select:Cx,button:Ax,tableContainer:kx,table:Px,status:xx,statusPending:Nx,statusOngoing:Dx,statusCompleted:bx,error:Ox,inputError:Lx},Vx="_buttons_85dii_1",Mx="_add_85dii_77",Fx="_archive_85dii_77",Ux="_logout_85dii_77",jx="_progress_85dii_77",Bx="_filemanager_85dii_77",zx="_new_event_85dii_77",Gt={buttons:Vx,add:Mx,archive:Fx,logout:Ux,progress:jx,filemanager:Bx,new_event:zx},$x=()=>{const n=ar(),{userData:e}=n.state||{},t=$s(),[i,o]=F.useState(""),[l,c]=F.useState("unlimited"),[d,p]=F.useState(""),[_,v]=F.useState(""),[R,T]=F.useState("event"),[N,O]=F.useState(""),[U,L]=F.useState("pending"),[B,z]=F.useState(""),[G,J]=F.useState(""),[te,re]=F.useState(""),[x,C]=F.useState(""),S=["ESP32-001","ESP32-002","ESP32-003"],P=async b=>{b.preventDefault();try{const A={eventName:i,entryLimit:l,maxEntries:l==="limited"?parseInt(d):null,locations:_,purpose:R,selectedEsp32:N,status:U,startDate:B,startTime:G,endDate:te,endTime:x,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},be=await Xp(Cn(t,"PendingEvent"),A);await hx(be,{docId:be.id}),console.log("Event created with ID: ",be.id),alert("Event created successfully!"),V()}catch(A){console.error("Error creating event: ",A),alert("Error creating event. Please try again.")}},V=()=>{o(""),c("unlimited"),p(""),v(""),T("event"),O(""),L("pending"),z(""),J(""),re(""),C("")};return E.jsx("div",{className:Ne.container,children:E.jsxs("div",{className:Ne.card,children:[E.jsx("div",{className:Ne.cardHeader,children:E.jsx("h2",{className:Ne.cardTitle,children:"Create New Event"})}),E.jsxs("form",{className:Ne.form,onSubmit:P,children:[E.jsxs("div",{className:Ne.formGrid,children:[E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Event Name"}),E.jsx("input",{type:"text",className:Ne.input,value:i,onChange:b=>o(b.target.value),placeholder:"Enter event name"})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Entry Limit"}),E.jsxs("select",{className:Ne.select,value:l,onChange:b=>c(b.target.value),children:[E.jsx("option",{value:"unlimited",children:"Unlimited"}),E.jsx("option",{value:"limited",children:"Limited"})]})]}),l==="limited"&&E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Maximum Entries"}),E.jsx("input",{type:"number",className:Ne.input,value:d,onChange:b=>p(b.target.value),placeholder:"Enter maximum entries"})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Location"}),E.jsx("input",{type:"text",className:Ne.input,value:_,onChange:b=>v(b.target.value),placeholder:"Enter location"})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Purpose"}),E.jsxs("select",{className:Ne.select,value:R,onChange:b=>T(b.target.value),children:[E.jsx("option",{value:"event",children:"Event Attendance"}),E.jsx("option",{value:"membership",children:"Membership Attendance"}),E.jsx("option",{value:"room",children:"Room Attendance"})]})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"ESP32 Device"}),E.jsx("select",{className:Ne.select,value:N,onChange:b=>O(b.target.value),children:S.map(b=>E.jsx("option",{value:b,children:b},b))})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Status"}),E.jsxs("select",{className:Ne.select,value:U,onChange:b=>L(b.target.value),children:[E.jsx("option",{value:"pending",children:"Pending"}),E.jsx("option",{value:"ongoing",children:"Ongoing"}),E.jsx("option",{value:"completed",children:"Completed"}),E.jsx("option",{value:"pause",children:"Pause"}),E.jsx("option",{value:"continued",children:"Continued"})]})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Start Date"}),E.jsx("input",{type:"date",className:Ne.input,value:B,onChange:b=>z(b.target.value)})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"Start Time"}),E.jsx("input",{type:"time",className:Ne.input,value:G,onChange:b=>J(b.target.value)})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"End Date"}),E.jsx("input",{type:"date",className:Ne.input,value:te,onChange:b=>re(b.target.value)})]}),E.jsxs("div",{className:Ne.formGroup,children:[E.jsx("label",{className:Ne.label,children:"End Time"}),E.jsx("input",{type:"time",className:Ne.input,value:x,onChange:b=>C(b.target.value)})]})]}),E.jsx("button",{type:"submit",className:Gt.buttons,children:"Create Event"})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebasestorage.googleapis.com",D0="storageBucket",Hx=2*60*1e3,qx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Nr{constructor(e,t,i=0){super(_f(e),`Firebase Storage: ${t} (${_f(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function _f(n){return"storage/"+n}function Jp(){const n="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,n)}function Wx(n){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Kx(n){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,n)}function Qx(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xx(n){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Yx(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jx(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function Zx(n){return new dt(ht.INVALID_URL,"Invalid URL '"+n+"'.")}function eN(n){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function tN(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D0+"' property when initializing the app?")}function nN(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rN(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iN(n){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wf(n){return new dt(ht.INVALID_ARGUMENT,n)}function b0(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function sN(n){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vl(n,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ol(n){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=tn.makeFromUrl(e,t)}catch{return new tn(e,"")}if(i.path==="")return i;throw eN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function _(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",R=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",N=new RegExp(`^https?://${R}/${v}/b/${o}/o${T}`,"i"),O={bucket:1,path:3},U=t===N0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",B=new RegExp(`^https?://${U}/${o}/${L}`,"i"),G=[{regex:d,indices:p,postModify:l},{regex:N,indices:O,postModify:_},{regex:B,indices:{bucket:1,path:2},postModify:_}];for(let J=0;J<G.length;J++){const te=G[J],re=te.regex.exec(e);if(re){const x=re[te.indices.bucket];let C=re[te.indices.path];C||(C=""),i=new tn(x,C),te.postModify(i);break}}if(i==null)throw Zx(e);return i}}class oN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let _=!1;function v(...L){_||(_=!0,e.apply(null,L))}function R(L){o=setTimeout(()=>{o=null,n(N,p())},L)}function T(){l&&clearTimeout(l)}function N(L,...B){if(_){T();return}if(L){T(),v.call(null,L,...B);return}if(p()||c){T(),v.call(null,L,...B);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,R(G)}let O=!1;function U(L){O||(O=!0,T(),!_&&(o!==null?(L||(d=2),clearTimeout(o),R(0)):L||(d=1)))}return R(0),l=setTimeout(()=>{c=!0,U(!0)},t),U}function lN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){return n!==void 0}function cN(n){return typeof n=="object"&&!Array.isArray(n)}function Zp(n){return typeof n=="string"||n instanceof String}function Wy(n){return em()&&n instanceof Blob}function em(){return typeof Blob<"u"}function Kf(n,e,t,i){if(i<e)throw Wf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Wf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function O0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ds;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ds||(Ds={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,i,o,l,c,d,p,_,v,R,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=v,this.connectionFactory_=R,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new _c(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ds.NO_ERROR,p=l.getStatus();if(!d||hN(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ds.ABORT;i(!1,new _c(!1,null,v));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new _c(_,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());uN(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Jp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?b0():Jx();c(p)}else{const p=Yx();c(p)}};this.canceled_?t(!1,new _c(!1,null,!0)):this.backoffId_=aN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function fN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function pN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function _N(n,e,t,i,o,l,c=!0){const d=O0(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return mN(_,e),fN(_,t),pN(_,l),gN(_,i),new dN(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vN(...n){const e=yN();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(em())return new Blob(n);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){if(typeof atob>"u")throw iN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yf{constructor(e,t){this.data=e,this.contentType=t||null}}function TN(n,e){switch(n){case Rr.RAW:return new yf(L0(e));case Rr.BASE64:case Rr.BASE64URL:return new yf(V0(n,e));case Rr.DATA_URL:return new yf(SN(e),RN(e))}throw Jp()}function L0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function IN(n){let e;try{e=decodeURIComponent(n)}catch{throw vl(Rr.DATA_URL,"Malformed data URL.")}return L0(e)}function V0(n,e){switch(n){case Rr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw vl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw vl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=EN(e)}catch(o){throw o.message.includes("polyfill")?o:vl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class M0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw vl(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=CN(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function SN(n){const e=new M0(n);return e.base64?V0(Rr.BASE64,e.rest):IN(e.rest)}function RN(n){return new M0(n).contentType}function CN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t){let i=0,o="";Wy(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wy(this.data_)){const i=this.data_,o=wN(i,e,t);return o===null?null:new Li(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Li(i,!0)}}static getBlob(...e){if(em()){const t=e.map(i=>i instanceof Li?i.data_:i);return new Li(vN.apply(null,t))}else{const t=e.map(c=>Zp(c)?TN(Rr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Li(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n){let e;try{e=JSON.parse(n)}catch{return null}return cN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function kN(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function F0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n,e){return e}class en{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||PN}}let yc=null;function xN(n){return!Zp(n)||n.length<2?n:F0(n)}function U0(){if(yc)return yc;const n=[];n.push(new en("bucket")),n.push(new en("generation")),n.push(new en("metageneration")),n.push(new en("name","fullPath",!0));function e(l,c){return xN(c)}const t=new en("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const o=new en("size");return o.xform=i,n.push(o),n.push(new en("timeCreated")),n.push(new en("updated")),n.push(new en("md5Hash",null,!0)),n.push(new en("cacheControl",null,!0)),n.push(new en("contentDisposition",null,!0)),n.push(new en("contentEncoding",null,!0)),n.push(new en("contentLanguage",null,!0)),n.push(new en("contentType",null,!0)),n.push(new en("metadata","customMetadata",!0)),yc=n,yc}function NN(n,e){function t(){const i=n.bucket,o=n.fullPath,l=new tn(i,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function DN(n,e,t){const i={};i.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return NN(i,n),i}function j0(n,e,t){const i=tm(e);return i===null?null:DN(n,i,t)}function bN(n,e,t,i){const o=tm(e);if(o===null||!Zp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(_=>{const v=n.bucket,R=n.fullPath,T="/b/"+c(v)+"/o/"+c(R),N=ql(T,t,i),O=O0({alt:"media",token:_});return N+O})[0]}function ON(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="prefixes",Gy="items";function LN(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Ky])for(const o of t[Ky]){const l=o.replace(/\/$/,""),c=n._makeStorageReference(new tn(e,l));i.prefixes.push(c)}if(t[Gy])for(const o of t[Gy]){const l=n._makeStorageReference(new tn(e,o.name));i.items.push(l)}return i}function VN(n,e,t){const i=tm(t);return i===null?null:LN(n,e,i)}class Ih{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n){if(!n)throw Jp()}function MN(n,e){function t(i,o){const l=j0(n,o,e);return nm(l!==null),l}return t}function FN(n,e){function t(i,o){const l=VN(n,e,o);return nm(l!==null),l}return t}function UN(n,e){function t(i,o){const l=j0(n,o,e);return nm(l!==null),bN(l,o,n.host,n._protocol)}return t}function rm(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Qx():o=Gx():t.getStatus()===402?o=Kx(n.bucket):t.getStatus()===403?o=Xx(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function B0(n){const e=rm(n);function t(i,o){let l=e(i,o);return i.getStatus()===404&&(l=Wx(n.path)),l.serverResponse=o.serverResponse,l}return t}function jN(n,e,t,i,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),d=ql(c,n.host,n._protocol),p="GET",_=n.maxOperationRetryTime,v=new Ih(d,p,FN(n,e.bucket),_);return v.urlParams=l,v.errorHandler=rm(e),v}function BN(n,e,t){const i=e.fullServerUrl(),o=ql(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Ih(o,l,UN(n,t),c);return d.errorHandler=B0(e),d}function zN(n,e){const t=e.fullServerUrl(),i=ql(t,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(p,_){}const d=new Ih(i,o,c,l);return d.successCodes=[200,204],d.errorHandler=B0(e),d}function $N(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function HN(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=$N(null,e)),i}function qN(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let J=0;J<2;J++)G=G+Math.random().toString().slice(2);return G}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const _=HN(e,i,o),v=ON(_,t),R="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,T=`\r
--`+p+"--",N=Li.getBlob(R,i,T);if(N===null)throw nN();const O={name:_.fullPath},U=ql(l,n.host,n._protocol),L="POST",B=n.maxUploadRetryTime,z=new Ih(U,L,MN(n,t),B);return z.urlParams=O,z.headers=c,z.body=N.uploadData(),z.errorHandler=rm(e),z}class WN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ds.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ds.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ds.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw ol("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ol("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ol("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ol("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ol("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KN extends WN{initXhr(){this.xhr_.responseType="text"}}function Sh(){return new KN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){this._service=e,t instanceof tn?this._location=t:this._location=tn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vs(e,t)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F0(this._location.path)}get storage(){return this._service}get parent(){const e=AN(this._location.path);if(e===null)return null;const t=new tn(this._location.bucket,e);return new Vs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw sN(e)}}function GN(n,e,t){n._throwIfRoot("uploadBytes");const i=qN(n.storage,n._location,U0(),new Li(e,!0),t);return n.storage.makeRequestWithTokens(i,Sh).then(o=>({metadata:o,ref:n}))}function QN(n){const e={prefixes:[],items:[]};return z0(n,e).then(()=>e)}async function z0(n,e,t){const o=await XN(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await z0(n,e,o.nextPageToken)}function XN(n,e){e!=null&&typeof e.maxResults=="number"&&Kf("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=jN(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Sh)}function YN(n){n._throwIfRoot("getDownloadURL");const e=BN(n.storage,n._location,U0());return n.storage.makeRequestWithTokens(e,Sh).then(t=>{if(t===null)throw rN();return t})}function JN(n){n._throwIfRoot("deleteObject");const e=zN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Sh)}function ZN(n,e){const t=kN(n._location.path,e),i=new tn(n._location.bucket,t);return new Vs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){return/^[A-Za-z]+:\/\//.test(n)}function t2(n,e){return new Vs(n,e)}function $0(n,e){if(n instanceof im){const t=n;if(t._bucket==null)throw tN();const i=new Vs(t,t._bucket);return e!=null?$0(i,e):i}else return e!==void 0?ZN(n,e):n}function n2(n,e){if(e&&e2(e)){if(n instanceof im)return t2(n,e);throw Wf("To use ref(service, url), the first argument must be a Storage instance.")}else return $0(n,e)}function Qy(n,e){const t=e==null?void 0:e[D0];return t==null?null:tn.makeFromBucketSpec(t,n)}function r2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Sv(o,n.app.options.projectId))}class im{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=N0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hx,this._maxUploadRetryTime=qx,this._requests=new Set,o!=null?this._bucket=tn.makeFromBucketSpec(o,this._host):this._bucket=Qy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=Qy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vs(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new oN(b0());{const c=_N(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Xy="@firebase/storage",Yy="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="storage";function ks(n,e,t){return n=lt(n),GN(n,e,t)}function Dc(n){return n=lt(n),QN(n)}function Bo(n){return n=lt(n),YN(n)}function al(n){return n=lt(n),JN(n)}function fn(n,e){return n=lt(n),n2(n,e)}function Rh(n=ip(),e){n=lt(n);const i=th(n,H0).getImmediate({identifier:e}),o=Ev("storage");return o&&i2(i,...o),i}function i2(n,e,t,i={}){r2(n,e,t,i)}function s2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new im(t,i,o,e,Fs)}function o2(){bs(new zi(H0,s2,"PUBLIC").setMultipleInstances(!0)),Cr(Xy,Yy,""),Cr(Xy,Yy,"esm2017")}o2();const a2="_container_rixh2_3",l2="_form_rixh2_17",u2="_nfcButton_rixh2_47",c2="_scanButton_rixh2_47",h2="_scannerContainer_rixh2_65",d2="_scanner_rixh2_65",f2="_modalOverlay_rixh2_95",p2="_modalContent_rixh2_123",m2="_status_rixh2_147",g2="_statusWarning_rixh2_165",_2="_statusInfo_rixh2_179",y2="_statusSuccess_rixh2_193",v2="_statusError_rixh2_207",w2="_pulse_rixh2_1",E2="_reader_rixh2_293",wr={container:a2,form:l2,nfcButton:u2,scanButton:c2,scannerContainer:h2,scanner:d2,modalOverlay:f2,modalContent:p2,status:m2,statusWarning:g2,statusInfo:_2,statusSuccess:y2,statusError:v2,"animate-pulse":"_animate-pulse_rixh2_245",pulse:w2,reader:E2},T2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},q0=ra(T2),Jy=$s(q0),I2=Rh(q0),S2=({message:n,type:e,isProcessing:t})=>{if(!n)return null;const i=()=>{switch(e){case"warning":return wr.statusWarning;case"error":return wr.statusError;case"success":return wr.statusSuccess;default:return wr.statusInfo}};return E.jsx("div",{className:wr.modalOverlay,children:E.jsx("div",{className:wr.modalContent,children:E.jsx("div",{className:`${wr.status} ${i()} ${t?wr["animate-pulse"]:""}`,children:n})})})},R2=()=>{const[n,e]=F.useState({studentName:"",email:"",course:"",campus:"",studentId:""}),[t,i]=F.useState(null),[o,l]=F.useState(!1),[c,d]=F.useState(""),[p,_]=F.useState(null),[v,R]=F.useState("info"),T=F.useRef(null),N=(te,re="info")=>{d(te),R(re)};F.useEffect(()=>()=>{p&&p.abort()},[p]);const O=te=>{const re=te.target.files[0];i(re)},U=async()=>{if(!t)return null;d("Uploading selfie...");const te=n.email.replace(/[@.]/g,"_"),re=fn(I2,`users/${te}/profile/${t.name}`),x=await ks(re,t);return await Bo(x.ref)},L=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{l(!0),d("Waiting for NFC tag...");const te=new NDEFReader;return _(te),await te.scan(),new Promise((re,x)=>{const C=async({serialNumber:S})=>{try{if(d("Checking NFC authorization..."),!await z(S)){x(new Error("Unauthorized NFC tag"));return}d("Uploading data...");const V=await U(),A={...n,nfcSerialNumber:S,selfieUrl:V,position:"Student",createdAt:x0()};d("Saving to database...");const be=await Xp(Cn(Jy,"RegisteredStudent"),A);d("Writing to NFC tag...");try{await te.write({records:[{recordType:"text",data:new TextEncoder().encode(be.id)}]}),d("Verifying NFC write..."),await B(be.id,te)}catch(st){console.error("NFC Write Error:",st),d("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:be.id}]})}catch(tt){console.error("Fallback NFC Write Error:",tt),d("NFC write failed, but registration saved")}}te.addEventListener("reading",C,{once:!0}),re(be.id)}catch(P){te.removeEventListener("reading",C),x(P)}};te.addEventListener("reading",C,{once:!0})})}catch(te){throw N(te.message,"error"),te}},B=async(te,re)=>new Promise((x,C)=>{const S=setTimeout(()=>{C(new Error("Verification timeout"))},5e3);re.addEventListener("reading",({message:P})=>{clearTimeout(S),P.records.some(b=>b.recordType==="text"&&new TextDecoder().decode(b.data)===te)?x():C(new Error("NFC write verification failed"))},{once:!0})}),z=async te=>{try{const re=$l(Jy,"Toregistered",te);return(await Qp(re)).exists()}catch(re){return console.error("NFC Authorization Check Error:",re),!1}},G=()=>{e({studentName:"",email:"",course:"",campus:"",studentId:""}),i(null),d(""),T.current&&(T.current.value="")},J=async te=>{if(te.preventDefault(),!("NDEFReader"in window)){N("NFC is not supported on this device","warning");return}if(window.confirm("Approach NFC tag to complete registration"))try{const re=await L();N("Registration completed successfully!","success"),setTimeout(()=>{N(""),G()},3e3)}catch(re){console.error("Registration Error:",re),N(`Registration failed: ${re.message}`,"error")}finally{l(!1),p&&(p.abort(),_(null))}};return E.jsxs("div",{className:wr.container,children:[E.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&E.jsx(S2,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?v:"warning",isProcessing:o}),E.jsxs("form",{onSubmit:J,className:wr.form,children:[E.jsx("input",{type:"text",placeholder:"Student Name",value:n.studentName,onChange:te=>e({...n,studentName:te.target.value}),required:!0,disabled:o}),E.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:te=>e({...n,email:te.target.value}),required:!0,disabled:o}),E.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:te=>e({...n,course:te.target.value}),required:!0,disabled:o}),E.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:te=>e({...n,studentId:te.target.value}),required:!0,disabled:o}),E.jsxs("select",{value:n.campus,onChange:te=>e({...n,campus:te.target.value}),required:!0,disabled:o,children:[E.jsx("option",{value:"",children:"Select Campus"}),E.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),E.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),E.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),E.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),E.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),E.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),E.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),E.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),t?E.jsxs("p",{children:["Selfie Captured: ",t.name]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:T,onChange:O,accept:"image/*",capture:"user",style:{display:"none"},disabled:o}),E.jsx("button",{type:"button",onClick:()=>T.current.click(),className:Gt.buttons,disabled:o,children:"Take Profile Picture"})]}),E.jsx("button",{type:"submit",className:`${Gt.buttons} ${o?"animate-pulse":""}`,disabled:!n.studentId||!t||o||!("NDEFReader"in window),children:o?"Processing...":"Complete Registration with NFC"})]})]})},C2="_container_avr77_1",A2="_status_avr77_33",k2="_reading_avr77_51",P2="_pulse_avr77_1",x2="_error_avr77_59",N2="_studentInfo_avr77_77",D2="_infoGrid_avr77_107",b2="_infoRow_avr77_117",O2="_selfie_avr77_149",L2="_controls_avr77_171",V2="_button_avr77_185",M2="_readButton_avr77_213",F2="_resetButton_avr77_231",Rn={container:C2,status:A2,reading:k2,pulse:P2,error:x2,studentInfo:N2,infoGrid:D2,infoRow:b2,selfie:O2,controls:L2,button:V2,readButton:M2,resetButton:F2},U2={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},j2=ra(U2),B2=$s(j2),z2=()=>{const[n,e]=F.useState(null),[t,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(null),p=async()=>{try{l(!0),i("Waiting for NFC card..."),d(null);const v=new NDEFReader;await v.scan(),v.addEventListener("reading",async({message:R})=>{try{const T=R.records.find(L=>L.recordType==="text");if(!T)throw new Error("Invalid NFC card: No student data found");const N=new TextDecoder().decode(T.data);i("Retrieving student data...");const O=$l(B2,"RegisteredStudent",N),U=await Qp(O);if(U.exists()){const L=U.data();e(L),i("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(T){d(T.message),e(null)}finally{l(!1),v.stop()}})}catch(v){d(v.message),l(!1)}},_=()=>{e(null),i(""),d(null),l(!1)};return E.jsxs("div",{className:Rn.container,children:[E.jsx("h1",{children:"Student NFC Reader"}),t&&E.jsx("div",{className:`${Rn.status} ${o?Rn.reading:""}`,children:t}),c&&E.jsx("div",{className:Rn.error,children:c}),n&&E.jsxs("div",{className:Rn.studentInfo,children:[E.jsx("h2",{children:"Student Information"}),E.jsxs("div",{className:Rn.infoGrid,children:[E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Name:"}),E.jsx("span",{children:n.studentName})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Student ID:"}),E.jsx("span",{children:n.studentId})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Email:"}),E.jsx("span",{children:n.email})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Course:"}),E.jsx("span",{children:n.course})]}),E.jsxs("div",{className:Rn.infoRow,children:[E.jsx("span",{children:"Campus:"}),E.jsx("span",{children:n.campus})]}),n.selfieUrl&&E.jsx("div",{className:Rn.selfie,children:E.jsx("img",{src:n.selfieUrl,alt:"Student"})})]})]}),E.jsxs("div",{className:Rn.controls,children:[E.jsx("button",{onClick:p,disabled:o||!("NDEFReader"in window),className:`${Gt.buttons} ${Gt.buttons}`,children:o?"Reading...":"Scan NFC Card"}),n&&E.jsx("button",{onClick:_,className:`${Gt.buttons} ${Gt.buttons}`,children:"Clear & Scan New Card"})]})]})},$2="_login_container_158dy_9",H2="_login_card_158dy_31",q2="_login_title_158dy_49",W2="_login_form_158dy_67",K2="_form_group_158dy_79",G2="_login_input_158dy_89",Q2="_login_button_158dy_121",X2="_error_message_158dy_167",Y2="_divider_158dy_185",J2="_google_button_158dy_233",Z2="_google_icon_158dy_285",dn={login_container:$2,login_card:H2,login_title:q2,login_form:W2,form_group:K2,login_input:G2,login_button:Q2,error_message:X2,divider:Y2,google_button:J2,google_icon:Z2},eD={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},tD=ra(eD),nD=new Xr,Cs=zc(),Lo=$s(tD),rD=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(!1),[p,_]=F.useState(!1),[v,R]=F.useState(null),T=na();F.useEffect(()=>((async()=>{if("NDEFReader"in window)try{const z=new window.NDEFReader;await z.scan(),_(!0),R(z),z.onreading=async({message:G})=>{try{const J=G.records.find(re=>re.recordType==="text");if(!J)throw new Error("Invalid NFC card: No user data found");const te=new TextDecoder().decode(J.data);try{const re=await N(te);re?(localStorage.setItem("userRole",re),T("/dashboard")):l("NFC card is not registered in the system.")}catch(re){console.error("Authentication error:",re),l("Failed to authenticate with NFC card.")}}catch(J){console.error("Error processing NFC card:",J),l("Failed to process NFC card.")}},z.onerror=G=>{console.error("NFC read error:",G),l("Error reading NFC card.")}}catch(z){console.error("Error setting up NFC:",z),_(!1)}else _(!1)})(),()=>{var z;v&&((z=v.removeAllListeners)==null||z.call(v))}),[]);const N=async B=>{try{const z=Er(Cn(Lo,"RegisteredAdmin"),Tr("currentnfcId","==",B)),G=await Ir(z);if(!G.empty){const C=G.docs[0].data();return await hc(Cs,C.email,C.upass),"admin"}const J=Er(Cn(Lo,"RegisteredTeacher"),Tr("currentnfcId","==",B)),te=await Ir(J);if(!te.empty){const C=te.docs[0].data();return await hc(Cs,C.email,C.upass),"teacher"}const re=Er(Cn(Lo,"RegisteredStudent"),Tr("currentnfcId","==",B)),x=await Ir(re);if(!x.empty){const C=x.docs[0].data();return await hc(Cs,C.email,C.upass),"student"}return null}catch(z){throw console.error("Error checking user role by NFC:",z),z}},O=async B=>{try{const z=Er(Cn(Lo,"RegisteredAdmin"),Tr("email","==",B));if(!(await Ir(z)).empty)return"admin";const J=Er(Cn(Lo,"RegisteredTeacher"),Tr("email","==",B));if(!(await Ir(J)).empty)return"teacher";const re=Er(Cn(Lo,"RegisteredStudent"),Tr("email","==",B));return(await Ir(re)).empty?null:"student"}catch(z){return console.error("Error checking user role:",z),null}},U=async B=>{B.preventDefault(),d(!0),l("");try{const z=await hc(Cs,n,t),G=await O(z.user.email);G?(localStorage.setItem("userRole",G),T("/dashboard")):(await kf(Cs),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(z){l(z.message)}finally{d(!1)}},L=async()=>{d(!0),l("");try{const B=await dC(Cs,nD),z=await O(B.user.email);z?(localStorage.setItem("userRole",z),T("/dashboard")):(await kf(Cs),alert("Access denied. You are not registered as an admin, teacher, or student."),l("Access denied. Please contact your administrator."))}catch(B){l(B.message)}finally{d(!1)}};return E.jsx("div",{className:dn.login_container,children:E.jsxs("div",{className:dn.login_card,children:[E.jsx("h1",{className:dn.login_title,children:"Login"}),p&&E.jsx("div",{className:dn.nfc_status,children:E.jsx("p",{children:"NFC is enabled. Tap your card to login."})}),E.jsxs("form",{onSubmit:U,className:dn.login_form,children:[E.jsx("div",{className:dn.form_group,children:E.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:B=>e(B.target.value),required:!0,className:dn.login_input})}),E.jsx("div",{className:dn.form_group,children:E.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:B=>i(B.target.value),required:!0,className:dn.login_input})}),o&&E.jsx("div",{className:dn.error_message,children:o}),E.jsx("button",{type:"submit",className:dn.login_button,disabled:c,children:c?"Logging in...":"Login"})]}),E.jsx("div",{className:dn.divider,children:E.jsx("span",{children:"Or continue with"})}),E.jsxs("button",{type:"button",onClick:L,disabled:c,className:dn.google_button,children:[E.jsx("svg",{className:dn.google_icon,viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})})},iD="_event_list_container_15dvt_1",sD="_events_grid_15dvt_23",oD="_event_card_15dvt_33",aD="_card_header_15dvt_49",lD="_card_basic_info_15dvt_69",uD="_card_details_15dvt_93",cD="_event_info_15dvt_101",hD="_table_container_15dvt_125",dD="_action_buttons_15dvt_169",fD="_edit_btn_15dvt_179",pD="_delete_btn_15dvt_179",vr={event_list_container:iD,events_grid:sD,event_card:oD,card_header:aD,card_basic_info:lD,card_details:uD,event_info:cD,table_container:hD,action_buttons:dD,edit_btn:fD,delete_btn:pD},mD=()=>{const[n,e]=F.useState([]),[t,i]=F.useState(null),o=na(),l=$s(),c=zc();F.useEffect(()=>{d()},[]);const d=async()=>{try{const T=c.currentUser;if(!T)return;const N=Cn(l,"PendingEvent"),O=Er(N,Tr("createdBy","==",T.email)),L=(await Ir(O)).docs.map(B=>({id:B.id,...B.data()}));e(L)}catch(T){console.error("Error fetching events:",T)}},p=T=>T?T.toDate?T.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(T).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",_=T=>{o(`/dashboard/edit-event/${T}`)},v=async T=>{if(window.confirm("Are you sure you want to delete this event?"))try{await dx($l(l,"events",T)),d()}catch(N){console.error("Error deleting event:",N)}},R=T=>{i(t===T?null:T)};return E.jsxs("div",{className:vr.event_list_container,children:[E.jsx("h2",{children:"Event List"}),E.jsx("div",{className:vr.events_grid,children:n.map(T=>{var N;return E.jsxs("div",{className:`${vr.event_card} ${t===T.id?"expanded":""}`,children:[E.jsxs("div",{className:vr.card_header,onClick:()=>R(T.id),children:[E.jsxs("div",{className:vr.card_basic_info,children:[E.jsx("h3",{children:T.eventName}),E.jsxs("p",{children:["ID: ",T.id]}),E.jsxs("p",{children:["Created: ",p(T.createdAt)]})]}),t===T.id?E.jsx(r1,{}):E.jsx(n1,{})]}),t===T.id&&E.jsxs("div",{className:vr.card_details,children:[E.jsxs("div",{className:vr.event_info,children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Location:"})," ",T.locations]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Description:"})," ",T.description]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Start Time:"})," ",T.startTime]}),E.jsxs("p",{children:[E.jsx("strong",{children:"End Time:"})," ",T.endTime]})]}),E.jsx("div",{className:vr.table_container,children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"STUDENT ID"}),E.jsx("th",{children:"STUDENT NAME"}),E.jsx("th",{children:"COURSE"}),E.jsx("th",{children:"CAMPUS"}),E.jsx("th",{children:"DATE"}),E.jsx("th",{children:"ACTIONS"})]})}),E.jsx("tbody",{children:(N=T.attendees)==null?void 0:N.map((O,U)=>E.jsxs("tr",{children:[E.jsx("td",{children:O.studentId}),E.jsx("td",{children:O.name}),E.jsx("td",{children:O.course}),E.jsx("td",{children:O.campus}),E.jsx("td",{children:p(O.dateAttended)}),E.jsxs("td",{className:"action-buttons",children:[E.jsx("button",{onClick:()=>_(T.id),className:vr.edit_btn,children:E.jsx(d1,{size:16})}),E.jsx("button",{onClick:()=>v(T.id),className:vr.delete_btn,children:E.jsx(f1,{size:16})})]})]},U))})]})})]})]},T.id)})})]})},gD="_fileManager_c4lw2_5",_D="_header_c4lw2_17",yD="_actions_c4lw2_45",vD="_navigation_c4lw2_55",wD="_backButton_c4lw2_77",ED="_currentPath_c4lw2_109",TD="_content_c4lw2_121",ID="_item_c4lw2_141",SD="_itemContent_c4lw2_171",RD="_actionButton_c4lw2_195",CD="_dropdownMenu_c4lw2_229",AD="_deleteButton_c4lw2_283",kD="_modal_c4lw2_301",PD="_modalContent_c4lw2_327",xD="_modalHeader_c4lw2_351",ND="_closeButton_c4lw2_379",DD="_modalNavigation_c4lw2_405",bD="_folderList_c4lw2_423",OD="_folderItem_c4lw2_443",LD="_folderContent_c4lw2_473",VD="_modalActions_c4lw2_485",MD="_cancelButton_c4lw2_503",FD="_authContainer_c4lw2_521",UD="_authMethods_c4lw2_539",jD="_passwordAuth_c4lw2_553",BD="_passwordInput_c4lw2_563",zD="_nfcAuth_c4lw2_579",$D="_error_c4lw2_587",qe={fileManager:gD,header:_D,actions:yD,navigation:vD,backButton:wD,currentPath:ED,content:TD,item:ID,itemContent:SD,actionButton:RD,dropdownMenu:CD,deleteButton:AD,modal:kD,modalContent:PD,modalHeader:xD,closeButton:ND,modalNavigation:DD,folderList:bD,folderItem:OD,folderContent:LD,modalActions:VD,cancelButton:MD,authContainer:FD,authMethods:UD,passwordAuth:jD,passwordInput:BD,nfcAuth:zD,error:$D},HD=({isOpen:n,onClose:e,onMove:t,onCopy:i,onDelete:o,onRename:l})=>{const c=F.useRef(null);return F.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),n?E.jsxs("div",{className:qe.dropdownMenu,ref:c,children:[E.jsx("button",{onClick:t,children:"Move"}),E.jsx("button",{onClick:i,children:"Copy"}),E.jsx("button",{onClick:l,children:"Rename"}),E.jsx("button",{onClick:o,className:qe.deleteButton,children:"Delete"})]}):null},qD=({isOpen:n,onClose:e,currentPath:t,userData:i,selectedItem:o,operation:l,onSelect:c})=>{const[d,p]=F.useState([]),[_,v]=F.useState(""),R=Rh(),[T,N]=F.useState(null);F.useEffect(()=>{if(n){const B=`users/${i.email.replace("@","_").replace(".","_")}`;v(B),O(B)}},[n,i]);const O=async B=>{try{const z=fn(R,B),J=(await Dc(z)).prefixes.map(te=>({name:te.name,fullPath:`${B}/${te.name}`}));p(J)}catch(z){console.error("Error listing folders:",z)}},U=B=>{T&&N(T),v(B),O(B)},L=()=>{const B=`users/${i.email.replace("@","_").replace(".","_")}`,z=_.split("/").slice(0,-1).join("/");z.startsWith(B)&&(v(z),O(z))};return n?E.jsx("div",{className:qe.modal,children:E.jsxs("div",{className:qe.modalContent,children:[E.jsxs("div",{className:qe.modalHeader,children:[E.jsx("h3",{children:"Select Destination Folder"}),E.jsx("button",{onClick:e,className:qe.closeButton,children:E.jsx(gv,{size:20})})]}),E.jsxs("div",{className:qe.modalNavigation,children:[E.jsxs("button",{onClick:L,className:qe.backButton,children:[E.jsx(pv,{size:20}),"Back"]}),E.jsx("span",{className:qe.currentPath,children:_})]}),E.jsx("div",{className:qe.folderList,children:d.map(B=>E.jsx("div",{className:qe.folderItem,children:E.jsxs("div",{className:qe.folderContent,onClick:()=>U(B.fullPath),children:[E.jsx(mv,{size:24}),E.jsx("span",{children:B.name})]})},B.fullPath))}),E.jsxs("div",{className:qe.modalActions,children:[E.jsx("button",{onClick:()=>{c(_)},className:Gt.buttons,children:"Select This Folder"}),E.jsx("button",{onClick:e,className:`${Gt.buttons} ${qe.cancelButton}`,children:"Cancel"})]})]})}):null},WD=()=>{var Ue;const[n,e]=F.useState(!1),[t,i]=F.useState(""),[o,l]=F.useState(""),[c,d]=F.useState(""),[p,_]=F.useState([]),[v,R]=F.useState([]),[T,N]=F.useState(!1),O=ar();na();const U=Rh(),[L,B]=F.useState(null),[z,G]=F.useState({x:0,y:0}),J=(Ue=O.state)==null?void 0:Ue.userData,[te,re]=F.useState(!1),[x,C]=F.useState(null),[S,P]=F.useState(null);F.useEffect(()=>{"NDEFReader"in window&&N(!0)},[]),F.useEffect(()=>{if(n&&J){const ie=`users/${J.email.replace("@","_").replace(".","_")}`;d(ie),A(ie)}},[n,J]);const V=()=>{t===(J==null?void 0:J.upass)?(e(!0),l("")):l("Invalid password")},b=async()=>{try{const ie=new NDEFReader;await ie.scan(),ie.addEventListener("reading",({serialNumber:ue})=>{ue===(J==null?void 0:J.currentnfcId)?(e(!0),l("")):l("Invalid NFC card")})}catch(ie){l("Error reading NFC: "+ie.message)}},A=async ie=>{try{const ue=fn(U,ie),Re=await Dc(ue),Qe=Re.items.map(async nn=>{const Dr=await Bo(nn);return{name:nn.name,url:Dr,type:"file"}}),_n=Re.prefixes.map(nn=>({name:nn.name,type:"folder"})),ft=await Promise.all(Qe);_(ft),R(_n)}catch(ue){console.error("Error listing files:",ue)}},be=async ie=>{const ue=ie.target.files[0];if(ue)try{const Re=fn(U,`${c}/${ue.name}`);await ks(Re,ue),await A(c)}catch(Re){console.error("Error uploading file:",Re)}},st=async()=>{const ie=prompt("Enter folder name:");if(!ie)return;const ue=fn(U,`${c}/${ie}/.placeholder`),Re=new Blob([""],{type:"text/plain"});await ks(ue,Re),await A(c)},tt=ie=>{const ue=`${c}/${ie}`;d(ue),A(ue)},$e=()=>{const ie=c.split("/").slice(0,-1).join("/");ie.startsWith(`users/${J.email.replace("@","_").replace(".","_")}`)&&(d(ie),A(ie))};if(!n)return E.jsxs("div",{className:qe.authContainer,children:[E.jsx("h2",{children:"Authentication Required"}),E.jsxs("div",{className:qe.authMethods,children:[E.jsxs("div",{className:qe.passwordAuth,children:[E.jsx("input",{type:"password",value:t,onChange:ie=>i(ie.target.value),placeholder:"Enter password",className:qe.passwordInput}),E.jsx("button",{onClick:V,className:Gt.buttons,children:"Submit"})]}),T&&E.jsx("div",{className:qe.nfcAuth,children:E.jsx("button",{onClick:b,className:Gt.buttons,children:"Authenticate with NFC"})})]}),o&&E.jsx("p",{className:qe.error,children:o})]});const oe=(ie,ue)=>{ie.preventDefault(),ie.stopPropagation();const Re=ie.currentTarget.getBoundingClientRect();G({x:Re.left,y:Re.bottom}),B(ue),P(ue)},ye=async()=>{if(!S){alert("Please select an item to move"),console.log(S);return}C("move"),re(!0)},le=async()=>{if(!S){alert("Please select an item to copy"),console.log(S);return}C("copy"),re(!0)},j=async()=>{if(L)try{const ie=`${c}/${L.name}`,ue=fn(U,ie);L.type==="file"?await al(ue):await Q(ie),await A(c)}catch(ie){console.error("Error deleting item:",ie),alert(`Failed to delete ${L.name}. ${ie.message}`)}},Q=async ie=>{try{const ue=fn(U,ie),Re=await Dc(ue);for(const Qe of Re.items)await al(Qe);for(const Qe of Re.prefixes)await Q(`${ie}/${Qe.name}`)}catch(ue){throw console.error("Error deleting folder:",ue),ue}},_e=async()=>{if(!L)return;const ie=prompt("Enter new name:",L.name);if(!(!ie||ie===L.name))try{const ue=fn(U,`${c}/${L.name}`),Re=fn(U,`${c}/${ie}`);if(L.type==="file"){const Qe=await Bo(ue),ft=await(await fetch(Qe)).blob();await ks(Re,ft),await al(ue)}await A(c)}catch(ue){console.error("Error renaming item:",ue)}},Pe=async ie=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:S,currentPath:c,destinationPath:ie,operation:x}),!S){console.error("No item selected"),alert("Please select an item to move or copy"),re(!1);return}try{const ue=fn(U,`${c}/${S.name}`),Re=fn(U,`${ie}/${S.name}`);if(S.type==="file"){const Qe=await Bo(ue),ft=await(await fetch(Qe)).blob();await ks(Re,ft),x==="move"&&await al(ue)}else await xe(`${c}/${S.name}`,`${ie}/${S.name}`,x==="move");re(!1),C(null),await A(c)}catch(ue){console.error(`Error ${x}ing item:`,ue),alert(`Failed to ${x} item: ${ue.message}`),re(!1),C(null)}},xe=async(ie,ue,Re=!1)=>{try{const Qe=fn(U,ie),_n=await Dc(Qe);for(const ft of _n.items){const nn=await Bo(ft),Yi=await(await fetch(nn)).blob(),Ji=fn(U,`${ue}/${ft.name}`);await ks(Ji,Yi),Re&&await al(ft)}for(const ft of _n.prefixes)await xe(`${ie}/${ft.name}`,`${ue}/${ft.name}`,Re)}catch(Qe){throw console.error("Error copying folder:",Qe),Qe}},Oe=(ie,ue)=>E.jsxs("div",{className:qe.item,onClick:Re=>{Re.target.closest(`.${qe.actionButton}`)||Re.target.closest(`.${qe.dropdownMenu}`)||(ue==="folder"?tt(ie.name):window.open(ie.url,"_blank"))},children:[E.jsxs("div",{className:qe.itemContent,children:[ue==="folder"?E.jsx(mv,{size:24}):E.jsx(o1,{size:24}),E.jsx("span",{children:ie.name})]}),E.jsx("button",{className:qe.actionButton,onClick:Re=>{Re.stopPropagation();const Qe={...ie,type:ue};oe(Re,Qe)},children:E.jsx(s1,{size:16})}),(L==null?void 0:L.name)===ie.name&&E.jsx(HD,{isOpen:!0,onClose:()=>{B(null)},onMove:ye,onCopy:le,onDelete:j,onRename:_e})]},`${ue}-${ie.name}`);return E.jsxs("div",{className:qe.fileManager,children:[E.jsxs("div",{className:qe.header,children:[E.jsx("h2",{children:"File Manager"}),E.jsxs("div",{className:qe.actions,children:[c===`users/${J.email.replace("@","_").replace(".","_")}`&&E.jsxs("button",{onClick:st,className:Gt.buttons,children:[E.jsx(l1,{size:20}),"New Folder"]}),E.jsxs("label",{className:Gt.buttons,children:[E.jsx(p1,{size:20}),"Upload File",E.jsx("input",{type:"file",onChange:be,style:{display:"none"}})]})]})]}),E.jsxs("div",{className:qe.navigation,children:[E.jsxs("button",{onClick:$e,className:qe.backButton,children:[E.jsx(pv,{size:20}),"Back"]}),E.jsx("span",{className:qe.currentPath,children:c})]}),E.jsxs("div",{className:qe.content,children:[v.map(ie=>Oe(ie,"folder")),p.map(ie=>Oe(ie,"file"))]}),E.jsx(qD,{isOpen:te,onClose:()=>{re(!1),C(null)},currentPath:c,userData:J,selectedItem:S,operation:x,onSelect:Pe})]})},KD="_container_9esca_3",GD="_form_9esca_17",QD="_nfcButton_9esca_47",XD="_scanButton_9esca_47",YD="_scannerContainer_9esca_65",JD="_scanner_9esca_65",ZD="_modalOverlay_9esca_95",eb="_modalContent_9esca_123",tb="_status_9esca_147",nb="_statusWarning_9esca_165",rb="_statusInfo_9esca_179",ib="_statusSuccess_9esca_193",sb="_statusError_9esca_207",ob="_pulse_9esca_1",ab="_reader_9esca_293",lb="_uploadOptionContainer_9esca_303",ub="_clearImageButton_9esca_317",vc={container:KD,form:GD,nfcButton:QD,scanButton:XD,scannerContainer:YD,scanner:JD,modalOverlay:ZD,modalContent:eb,status:tb,statusWarning:nb,statusInfo:rb,statusSuccess:ib,statusError:sb,"animate-pulse":"_animate-pulse_9esca_245",pulse:ob,reader:ab,uploadOptionContainer:lb,clearImageButton:ub},cb={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},W0=ra(cb),Zy=$s(W0),hb=Rh(W0),db=()=>{const[n,e]=F.useState({studentName:"",email:"",course:"",campus:"",studentId:""}),[t,i]=F.useState(null),[o,l]=F.useState("capture"),[c,d]=F.useState(!1),[p,_]=F.useState(""),[v,R]=F.useState(null),[T,N]=F.useState("info"),O=F.useRef(null),U=F.useRef(null),L=(S,P="info")=>{_(S),N(P)};F.useEffect(()=>()=>{v&&v.abort()},[v]);const B=S=>{const P=S.target.files[0];i(P)},z=S=>{l(S),i(null),O.current&&(O.current.value=""),U.current&&(U.current.value="")},G=async()=>{if(!t)return null;_("Uploading selfie...");const S=n.email.replace(/[@.]/g,"_"),P=fn(hb,`users/${S}/profile/${t.name}`),V=await ks(P,t);return await Bo(V.ref)},J=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{d(!0),_("Waiting for NFC tag...");const S=new NDEFReader;return R(S),await S.scan(),new Promise((P,V)=>{const b=async({serialNumber:A})=>{try{if(_("Checking NFC authorization..."),!await re(A)){V(new Error("Unauthorized NFC tag"));return}_("Uploading data...");const st=await G(),$e={...n,nfcSerialNumber:A,selfieUrl:st,position:"Teacher",createdAt:x0()};_("Saving to database...");const oe=await Xp(Cn(Zy,"RegisteredTeacher"),$e);_("Writing to NFC tag...");try{await S.write({records:[{recordType:"text",data:new TextEncoder().encode(oe.id)}]}),_("Verifying NFC write..."),await te(oe.id,S)}catch(ye){console.error("NFC Write Error:",ye),_("Attempting alternative write method...");try{await navigator.nfc.push({type:"NDEF",records:[{type:"text/plain",payload:oe.id}]})}catch(le){console.error("Fallback NFC Write Error:",le),_("NFC write failed, but registration saved")}}S.addEventListener("reading",b,{once:!0}),P(oe.id)}catch(be){S.removeEventListener("reading",b),V(be)}};S.addEventListener("reading",b,{once:!0})})}catch(S){throw L(S.message,"error"),S}},te=async(S,P)=>new Promise((V,b)=>{const A=setTimeout(()=>{b(new Error("Verification timeout"))},5e3);P.addEventListener("reading",({message:be})=>{clearTimeout(A),be.records.some(tt=>tt.recordType==="text"&&new TextDecoder().decode(tt.data)===S)?V():b(new Error("NFC write verification failed"))},{once:!0})}),re=async S=>{try{const P=$l(Zy,"Toregistered",S);return(await Qp(P)).exists()}catch(P){return console.error("NFC Authorization Check Error:",P),!1}},x=()=>{e({studentName:"",email:"",course:"",campus:"",studentId:""}),i(null),_(""),O.current&&(O.current.value="")},C=async S=>{if(S.preventDefault(),!!window.confirm("Approach NFC tag to complete registration"))try{const P=await J();L("Registration completed successfully!","success"),setTimeout(()=>{L(""),x()},3e3)}catch(P){console.error("Registration Error:",P),L(`Registration failed: ${P.message}`,"error")}finally{d(!1),v&&(v.abort(),R(null))}};return E.jsxs("div",{className:vc.container,children:[E.jsx("h1",{children:"Teacher Registration"}),E.jsxs("form",{onSubmit:C,className:vc.form,children:[E.jsx("input",{type:"text",placeholder:"Student Name",value:n.studentName,onChange:S=>e({...n,studentName:S.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:S=>e({...n,email:S.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Course",value:n.course,onChange:S=>e({...n,course:S.target.value}),required:!0,disabled:c}),E.jsx("input",{type:"text",placeholder:"Student ID",value:n.studentId,onChange:S=>e({...n,studentId:S.target.value}),required:!0,disabled:c}),E.jsxs("select",{value:n.campus,onChange:S=>e({...n,campus:S.target.value}),required:!0,disabled:c,children:[E.jsx("option",{value:"",children:"Select Campus"}),E.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),E.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),E.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),E.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),E.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),E.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),E.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),E.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),E.jsxs("div",{className:vc.uploadOptionContainer,children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:o==="capture",onChange:()=>z("capture"),disabled:c}),"Capture Selfie"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:o==="upload",onChange:()=>z("upload"),disabled:c}),"Upload Existing Image"]})]}),o==="capture"?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:O,onChange:B,accept:"image/*",capture:"user",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>O.current.click(),className:Gt.buttons,disabled:c,children:"Take Profile Picture"})]}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:U,onChange:B,accept:"image/*",style:{display:"none"},disabled:c}),E.jsx("button",{type:"button",onClick:()=>U.current.click(),className:Gt.buttons,disabled:c,children:"Upload Existing Image"})]}),t&&E.jsxs("p",{children:["Selected Image: ",t.name,E.jsx("button",{type:"button",onClick:()=>i(null),className:vc.clearImageButton,children:"Clear"})]}),E.jsx("button",{type:"submit",className:`${Gt.buttons} ${c?"animate-pulse":""}`,disabled:!n.studentId||!t||c||!("NDEFReader"in window),children:c?"Processing...":"Complete Registration with NFC"})]})]})};function fb(){return E.jsx(EI,{children:E.jsxs(YT,{children:[E.jsx(tr,{path:"/",element:E.jsx(R_,{to:"/login",replace:!0})}),E.jsx(tr,{path:"/login",element:E.jsx(rD,{})}),E.jsxs(tr,{path:"/dashboard/*",element:E.jsx(gx,{}),children:[E.jsx(tr,{path:"create-event",element:E.jsx($x,{})}),E.jsx(tr,{path:"teacher-registration",element:E.jsx(db,{})}),E.jsx(tr,{path:"student-registration",element:E.jsx(R2,{})}),E.jsx(tr,{path:"nfc-reader",element:E.jsx(z2,{})}),E.jsx(tr,{path:"event-list",element:E.jsx(mD,{})}),E.jsx(tr,{path:"file-manager",element:E.jsx(WD,{})})]}),E.jsx(tr,{path:"*",element:E.jsx(R_,{to:"/login",replace:!0})})]})})}const pb=document.getElementById("root"),mb=iT.createRoot(pb);mb.render(E.jsx(fb,{}));
