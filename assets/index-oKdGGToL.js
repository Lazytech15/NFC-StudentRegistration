(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var Tc={exports:{}},Lo={},Ic={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function gy(){if(Od)return ve;Od=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=L&&D[L]||D["@@iterator"],typeof D=="function"?D:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,W={};function $(D,z,oe){this.props=D,this.context=z,this.refs=W,this.updater=oe||K}$.prototype.isReactComponent={},$.prototype.setState=function(D,z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,z,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function de(){}de.prototype=$.prototype;function me(D,z,oe){this.props=D,this.context=z,this.refs=W,this.updater=oe||K}var pe=me.prototype=new de;pe.constructor=me,Y(pe,$.prototype),pe.isPureReactComponent=!0;var ce=Array.isArray,be=Object.prototype.hasOwnProperty,Te={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(D,z,oe){var ye,_e={},Ie=null,Pe=null;if(z!=null)for(ye in z.ref!==void 0&&(Pe=z.ref),z.key!==void 0&&(Ie=""+z.key),z)be.call(z,ye)&&!k.hasOwnProperty(ye)&&(_e[ye]=z[ye]);var Ne=arguments.length-2;if(Ne===1)_e.children=oe;else if(1<Ne){for(var Me=Array(Ne),ct=0;ct<Ne;ct++)Me[ct]=arguments[ct+2];_e.children=Me}if(D&&D.defaultProps)for(ye in Ne=D.defaultProps,Ne)_e[ye]===void 0&&(_e[ye]=Ne[ye]);return{$$typeof:i,type:D,key:Ie,ref:Pe,props:_e,_owner:Te.current}}function S(D,z){return{$$typeof:i,type:D.type,key:z,ref:D.ref,props:D.props,_owner:D._owner}}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function P(D){var z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return z[oe]})}var x=/\/+/g;function I(D,z){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):z.toString(36)}function Ze(D,z,oe,ye,_e){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Pe=!1;if(D===null)Pe=!0;else switch(Ie){case"string":case"number":Pe=!0;break;case"object":switch(D.$$typeof){case i:case t:Pe=!0}}if(Pe)return Pe=D,_e=_e(Pe),D=ye===""?"."+I(Pe,0):ye,ce(_e)?(oe="",D!=null&&(oe=D.replace(x,"$&/")+"/"),Ze(_e,z,oe,"",function(ct){return ct})):_e!=null&&(C(_e)&&(_e=S(_e,oe+(!_e.key||Pe&&Pe.key===_e.key?"":(""+_e.key).replace(x,"$&/")+"/")+D)),z.push(_e)),1;if(Pe=0,ye=ye===""?".":ye+":",ce(D))for(var Ne=0;Ne<D.length;Ne++){Ie=D[Ne];var Me=ye+I(Ie,Ne);Pe+=Ze(Ie,z,oe,Me,_e)}else if(Me=B(D),typeof Me=="function")for(D=Me.call(D),Ne=0;!(Ie=D.next()).done;)Ie=Ie.value,Me=ye+I(Ie,Ne++),Pe+=Ze(Ie,z,oe,Me,_e);else if(Ie==="object")throw z=String(D),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Rt(D,z,oe){if(D==null)return D;var ye=[],_e=0;return Ze(D,ye,"","",function(Ie){return z.call(oe,Ie,_e++)}),ye}function Ct(D){if(D._status===-1){var z=D._result;z=z(),z.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=z)}if(D._status===1)return D._result.default;throw D._result}var Ve={current:null},J={transition:null},le={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:J,ReactCurrentOwner:Te};function ee(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Rt,forEach:function(D,z,oe){Rt(D,function(){z.apply(this,arguments)},oe)},count:function(D){var z=0;return Rt(D,function(){z++}),z},toArray:function(D){return Rt(D,function(z){return z})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ve.Component=$,ve.Fragment=r,ve.Profiler=a,ve.PureComponent=me,ve.StrictMode=o,ve.Suspense=_,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ve.act=ee,ve.cloneElement=function(D,z,oe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ye=Y({},D.props),_e=D.key,Ie=D.ref,Pe=D._owner;if(z!=null){if(z.ref!==void 0&&(Ie=z.ref,Pe=Te.current),z.key!==void 0&&(_e=""+z.key),D.type&&D.type.defaultProps)var Ne=D.type.defaultProps;for(Me in z)be.call(z,Me)&&!k.hasOwnProperty(Me)&&(ye[Me]=z[Me]===void 0&&Ne!==void 0?Ne[Me]:z[Me])}var Me=arguments.length-2;if(Me===1)ye.children=oe;else if(1<Me){Ne=Array(Me);for(var ct=0;ct<Me;ct++)Ne[ct]=arguments[ct+2];ye.children=Ne}return{$$typeof:i,type:D.type,key:_e,ref:Ie,props:ye,_owner:Pe}},ve.createContext=function(D){return D={$$typeof:p,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},ve.createElement=T,ve.createFactory=function(D){var z=T.bind(null,D);return z.type=D,z},ve.createRef=function(){return{current:null}},ve.forwardRef=function(D){return{$$typeof:g,render:D}},ve.isValidElement=C,ve.lazy=function(D){return{$$typeof:N,_payload:{_status:-1,_result:D},_init:Ct}},ve.memo=function(D,z){return{$$typeof:w,type:D,compare:z===void 0?null:z}},ve.startTransition=function(D){var z=J.transition;J.transition={};try{D()}finally{J.transition=z}},ve.unstable_act=ee,ve.useCallback=function(D,z){return Ve.current.useCallback(D,z)},ve.useContext=function(D){return Ve.current.useContext(D)},ve.useDebugValue=function(){},ve.useDeferredValue=function(D){return Ve.current.useDeferredValue(D)},ve.useEffect=function(D,z){return Ve.current.useEffect(D,z)},ve.useId=function(){return Ve.current.useId()},ve.useImperativeHandle=function(D,z,oe){return Ve.current.useImperativeHandle(D,z,oe)},ve.useInsertionEffect=function(D,z){return Ve.current.useInsertionEffect(D,z)},ve.useLayoutEffect=function(D,z){return Ve.current.useLayoutEffect(D,z)},ve.useMemo=function(D,z){return Ve.current.useMemo(D,z)},ve.useReducer=function(D,z,oe){return Ve.current.useReducer(D,z,oe)},ve.useRef=function(D){return Ve.current.useRef(D)},ve.useState=function(D){return Ve.current.useState(D)},ve.useSyncExternalStore=function(D,z,oe){return Ve.current.useSyncExternalStore(D,z,oe)},ve.useTransition=function(){return Ve.current.useTransition()},ve.version="18.3.1",ve}var Ld;function Jc(){return Ld||(Ld=1,Ic.exports=gy()),Ic.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function yy(){if(Md)return Lo;Md=1;var i=Jc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,_,w){var N,L={},B=null,K=null;w!==void 0&&(B=""+w),_.key!==void 0&&(B=""+_.key),_.ref!==void 0&&(K=_.ref);for(N in _)o.call(_,N)&&!c.hasOwnProperty(N)&&(L[N]=_[N]);if(g&&g.defaultProps)for(N in _=g.defaultProps,_)L[N]===void 0&&(L[N]=_[N]);return{$$typeof:t,type:g,key:B,ref:K,props:L,_owner:a.current}}return Lo.Fragment=r,Lo.jsx=p,Lo.jsxs=p,Lo}var Fd;function _y(){return Fd||(Fd=1,Tc.exports=yy()),Tc.exports}var Oe=_y(),zr=Jc(),ya={},Sc={exports:{}},Qt={},Ac={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function vy(){return Ud||(Ud=1,function(i){function t(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var D=ee-1>>>1,z=J[D];if(0<a(z,le))J[D]=le,J[ee]=z,ee=D;else break e}}function r(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var D=0,z=J.length,oe=z>>>1;D<oe;){var ye=2*(D+1)-1,_e=J[ye],Ie=ye+1,Pe=J[Ie];if(0>a(_e,ee))Ie<z&&0>a(Pe,_e)?(J[D]=Pe,J[Ie]=ee,D=Ie):(J[D]=_e,J[ye]=ee,D=ye);else if(Ie<z&&0>a(Pe,ee))J[D]=Pe,J[Ie]=ee,D=Ie;else break e}}return le}function a(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var _=[],w=[],N=1,L=null,B=3,K=!1,Y=!1,W=!1,$=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(J){for(var le=r(w);le!==null;){if(le.callback===null)o(w);else if(le.startTime<=J)o(w),le.sortIndex=le.expirationTime,t(_,le);else break;le=r(w)}}function ce(J){if(W=!1,pe(J),!Y)if(r(_)!==null)Y=!0,Ct(be);else{var le=r(w);le!==null&&Ve(ce,le.startTime-J)}}function be(J,le){Y=!1,W&&(W=!1,de(T),T=-1),K=!0;var ee=B;try{for(pe(le),L=r(_);L!==null&&(!(L.expirationTime>le)||J&&!P());){var D=L.callback;if(typeof D=="function"){L.callback=null,B=L.priorityLevel;var z=D(L.expirationTime<=le);le=i.unstable_now(),typeof z=="function"?L.callback=z:L===r(_)&&o(_),pe(le)}else o(_);L=r(_)}if(L!==null)var oe=!0;else{var ye=r(w);ye!==null&&Ve(ce,ye.startTime-le),oe=!1}return oe}finally{L=null,B=ee,K=!1}}var Te=!1,k=null,T=-1,S=5,C=-1;function P(){return!(i.unstable_now()-C<S)}function x(){if(k!==null){var J=i.unstable_now();C=J;var le=!0;try{le=k(!0,J)}finally{le?I():(Te=!1,k=null)}}else Te=!1}var I;if(typeof me=="function")I=function(){me(x)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Rt=Ze.port2;Ze.port1.onmessage=x,I=function(){Rt.postMessage(null)}}else I=function(){$(x,0)};function Ct(J){k=J,Te||(Te=!0,I())}function Ve(J,le){T=$(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Y||K||(Y=!0,Ct(be))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return B},i.unstable_getFirstCallbackNode=function(){return r(_)},i.unstable_next=function(J){switch(B){case 1:case 2:case 3:var le=3;break;default:le=B}var ee=B;B=le;try{return J()}finally{B=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=B;B=J;try{return le()}finally{B=ee}},i.unstable_scheduleCallback=function(J,le,ee){var D=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?D+ee:D):ee=D,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,J={id:N++,callback:le,priorityLevel:J,startTime:ee,expirationTime:z,sortIndex:-1},ee>D?(J.sortIndex=ee,t(w,J),r(_)===null&&J===r(w)&&(W?(de(T),T=-1):W=!0,Ve(ce,ee-D))):(J.sortIndex=z,t(_,J),Y||K||(Y=!0,Ct(be))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var le=B;return function(){var ee=B;B=le;try{return J.apply(this,arguments)}finally{B=ee}}}}(Rc)),Rc}var Bd;function Ey(){return Bd||(Bd=1,Ac.exports=vy()),Ac.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function wy(){if(zd)return Qt;zd=1;var i=Jc(),t=Ey();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},L={};function B(e){return _.call(L,e)?!0:_.call(N,e)?!1:w.test(e)?L[e]=!0:(N[e]=!0,!1)}function K(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y(e,n,s,u){if(n===null||typeof n>"u"||K(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function W(e,n,s,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new W(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];$[n]=new W(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new W(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new W(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new W(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new W(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new W(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new W(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new W(e,5,!1,e.toLowerCase(),null,!1,!1)});var de=/[\-:]([a-z])/g;function me(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(de,me);$[n]=new W(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(de,me);$[n]=new W(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(de,me);$[n]=new W(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new W(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new W(e,1,!1,e.toLowerCase(),null,!0,!0)});function pe(e,n,s,u){var h=$.hasOwnProperty(n)?$[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Y(n,s,h,u)&&(s=null),u||h===null?B(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?e.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Te=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,D;function z(e){if(D===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return`
`+D+e}var oe=!1;function ye(e,n){if(!e||oe)return"";oe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,E=d.length-1;1<=y&&0<=E&&h[y]!==d[E];)E--;for(;1<=y&&0<=E;y--,E--)if(h[y]!==d[E]){if(y!==1||E!==1)do if(y--,E--,0>E||h[y]!==d[E]){var A=`
`+h[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=E);break}}}finally{oe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?z(e):""}function _e(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Te:return"Portal";case S:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case Ze:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rt:return n=e.displayName||null,n!==null?n:Ie(e.type)||"Memo";case Ct:n=e._payload,e=e._init;try{return Ie(e(n))}catch{}}return null}function Pe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Me(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=Me(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qn(e){e._valueTracker||(e._valueTracker=ct(e))}function Mi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=Me(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kr(e,n){var s=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Fi(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Ne(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function zs(e,n){n=n.checked,n!=null&&pe(e,"checked",n,!1)}function js(e,n){zs(e,n);var s=Ne(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ui(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ui(e,n.type,Ne(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function nl(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ui(e,n,s){(n!=="number"||mr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Gn=Array.isArray;function Kn(e,n,s,u){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Ne(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bi(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Gn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Ne(s)}}function zi(e,n){var s=Ne(n.value),u=Ne(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function $s(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?st(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xn,Hs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function gr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Yr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xr[n]=Xr[e]})});function qs(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+n).trim():n+"px"}function Ws(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=qs(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,h):e[s]=h}}var Qs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(e,n){if(n){if(Qs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ks(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,sn=null,Vn=null;function $i(e){if(e=Eo(e)){if(typeof bi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=xl(n),bi(e.stateNode,e.type,n))}}function On(e){sn?Vn?Vn.push(e):Vn=[e]:sn=e}function Xs(){if(sn){var e=sn,n=Vn;if(Vn=sn=null,$i(e),n)for(e=0;e<n.length;e++)$i(n[e])}}function Zr(e,n){return e(n)}function Ys(){}var Yn=!1;function Js(e,n,s){if(Yn)return e(n,s);Yn=!0;try{return Zr(e,n,s)}finally{Yn=!1,(sn!==null||Vn!==null)&&(Ys(),Xs())}}function et(e,n){var s=e.stateNode;if(s===null)return null;var u=xl(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Hi=!1;if(g)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Hi=!1}function ei(e,n,s,u,h,d,y,E,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(s,F)}catch(H){this.onError(H)}}var ti=!1,qi=null,gn=!1,Zs=null,Xa={onError:function(e){ti=!0,qi=e}};function Wi(e,n,s,u,h,d,y,E,A){ti=!1,qi=null,ei.apply(Xa,arguments)}function rl(e,n,s,u,h,d,y,E,A){if(Wi.apply(this,arguments),ti){if(ti){var F=qi;ti=!1,qi=null}else throw Error(r(198));gn||(gn=!0,Zs=F)}}function yn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function ni(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _n(e){if(yn(e)!==e)throw Error(r(188))}function il(e){var n=e.alternate;if(!n){if(n=yn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,u=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return _n(h),e;if(d===u)return _n(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=d;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,u=d;break}if(E===u){y=!0,u=h,s=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===s){y=!0,s=d,u=h;break}if(E===u){y=!0,u=d,s=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function eo(e){return e=il(e),e!==null?Qi(e):null}function Qi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Qi(e);if(n!==null)return n;e=e.sibling}return null}var Gi=t.unstable_scheduleCallback,to=t.unstable_cancelCallback,sl=t.unstable_shouldYield,Ya=t.unstable_requestPaint,Fe=t.unstable_now,ol=t.unstable_getCurrentPriorityLevel,ri=t.unstable_ImmediatePriority,yr=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,no=t.unstable_LowPriority,ll=t.unstable_IdlePriority,ii=null,Xt=null;function al(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:cl,ro=Math.log,ul=Math.LN2;function cl(e){return e>>>=0,e===0?32:31-(ro(e)/ul|0)|0}var Ki=64,Xi=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function si(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,y=s&268435455;if(y!==0){var E=y&~h;E!==0?u=_r(E):(d&=y,d!==0&&(u=_r(d)))}else y=s&~h,y!==0?u=_r(y):d!==0&&(u=_r(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-Lt(n),h=1<<s,u|=e[s],n&=~h;return u}function Ja(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-Lt(d),E=1<<y,A=h[y];A===-1?(!(E&s)||E&u)&&(h[y]=Ja(E,n)):A<=n&&(e.expiredLanes|=E),d&=~E}}function Yt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oi(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function vr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Er(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Lt(n),e[n]=s}function Le(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Lt(s),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,s&=~d}}function wr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-Lt(s),h=1<<u;h&n|e[u]&n&&(e[u]|=n),s&=~h}}var we=0;function Tr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hl,Yi,fl,dl,pl,io=!1,Ln=[],_t=null,vn=null,En=null,Ir=new Map,ln=new Map,Mn=[],Za="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ml(e,n){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(n.pointerId)}}function zt(e,n,s,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Eo(n),n!==null&&Yi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function eu(e,n,s,u,h){switch(n){case"focusin":return _t=zt(_t,e,n,s,u,h),!0;case"dragenter":return vn=zt(vn,e,n,s,u,h),!0;case"mouseover":return En=zt(En,e,n,s,u,h),!0;case"pointerover":var d=h.pointerId;return Ir.set(d,zt(Ir.get(d)||null,e,n,s,u,h)),!0;case"gotpointercapture":return d=h.pointerId,ln.set(d,zt(ln.get(d)||null,e,n,s,u,h)),!0}return!1}function gl(e){var n=hi(e.target);if(n!==null){var s=yn(n);if(s!==null){if(n=s.tag,n===13){if(n=ni(s),n!==null){e.blockedOn=n,pl(e.priority,function(){fl(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ji(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Jr=u,s.target.dispatchEvent(u),Jr=null}else return n=Eo(s),n!==null&&Yi(n),e.blockedOn=s,!1;n.shift()}return!0}function li(e,n,s){Zn(e)&&s.delete(n)}function yl(){io=!1,_t!==null&&Zn(_t)&&(_t=null),vn!==null&&Zn(vn)&&(vn=null),En!==null&&Zn(En)&&(En=null),Ir.forEach(li),ln.forEach(li)}function wn(e,n){e.blockedOn===n&&(e.blockedOn=null,io||(io=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yl)))}function Tn(e){function n(h){return wn(h,e)}if(0<Ln.length){wn(Ln[0],e);for(var s=1;s<Ln.length;s++){var u=Ln[s];u.blockedOn===e&&(u.blockedOn=null)}}for(_t!==null&&wn(_t,e),vn!==null&&wn(vn,e),En!==null&&wn(En,e),Ir.forEach(n),ln.forEach(n),s=0;s<Mn.length;s++)u=Mn[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<Mn.length&&(s=Mn[0],s.blockedOn===null);)gl(s),s.blockedOn===null&&Mn.shift()}var er=ce.ReactCurrentBatchConfig,Sr=!0;function $e(e,n,s,u){var h=we,d=er.transition;er.transition=null;try{we=1,so(e,n,s,u)}finally{we=h,er.transition=d}}function tu(e,n,s,u){var h=we,d=er.transition;er.transition=null;try{we=4,so(e,n,s,u)}finally{we=h,er.transition=d}}function so(e,n,s,u){if(Sr){var h=Ji(e,n,s,u);if(h===null)fu(e,n,u,ai,s),ml(e,u);else if(eu(h,e,n,s,u))u.stopPropagation();else if(ml(e,u),n&4&&-1<Za.indexOf(e)){for(;h!==null;){var d=Eo(h);if(d!==null&&hl(d),d=Ji(e,n,s,u),d===null&&fu(e,n,u,ai,s),d===h)break;h=d}h!==null&&u.stopPropagation()}else fu(e,n,u,null,s)}}var ai=null;function Ji(e,n,s,u){if(ai=null,e=ji(u),e=hi(e),e!==null)if(n=yn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=ni(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ai=e,null}function oo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ol()){case ri:return 1;case yr:return 4;case on:case no:return 16;case ll:return 536870912;default:return 16}default:return 16}}var Jt=null,Zi=null,jt=null;function lo(){if(jt)return jt;var e,n=Zi,s=n.length,u,h="value"in Jt?Jt.value:Jt.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(u=1;u<=y&&n[s-u]===h[d-u];u++);return jt=h.slice(e,1<u?1-u:void 0)}function es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fn(){return!0}function ao(){return!1}function vt(e){function n(s,u,h,d,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fn:ao,this.isPropagationStopped=ao,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=vt(In),Un=ee({},In,{view:0,detail:0}),nu=vt(Un),ns,tr,Ar,ui=ee({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(ns=e.screenX-Ar.screenX,tr=e.screenY-Ar.screenY):tr=ns=0,Ar=e),ns)},movementY:function(e){return"movementY"in e?e.movementY:tr}}),rs=vt(ui),uo=ee({},ui,{dataTransfer:0}),_l=vt(uo),is=ee({},Un,{relatedTarget:0}),ss=vt(is),vl=ee({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=vt(vl),El=ee({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wl=vt(El),Tl=ee({},In,{data:0}),co=vt(Tl),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Il[e])?!!n[e]:!1}function Bn(){return Sl}var l=ee({},Un,{key:function(e){if(e.key){var n=os[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=vt(l),m=ee({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=vt(m),V=ee({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),U=vt(V),X=ee({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),De=vt(X),lt=ee({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=vt(lt),ht=[9,13,27,32],nt=g&&"CompositionEvent"in window,an=null;g&&"documentMode"in document&&(an=document.documentMode);var Zt=g&&"TextEvent"in window&&!an,ci=g&&(!nt||an&&8<an&&11>=an),ls=" ",Ch=!1;function kh(e,n){switch(e){case"keyup":return ht.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ph(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function dg(e,n){switch(e){case"compositionend":return Ph(n);case"keypress":return n.which!==32?null:(Ch=!0,ls);case"textInput":return e=n.data,e===ls&&Ch?null:e;default:return null}}function pg(e,n){if(as)return e==="compositionend"||!nt&&kh(e,n)?(e=lo(),jt=Zi=Jt=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!mg[e.type]:n==="textarea"}function Dh(e,n,s,u){On(u),n=Pl(n,"onChange"),0<n.length&&(s=new ts("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var ho=null,fo=null;function gg(e){Kh(e,0)}function Al(e){var n=ds(e);if(Mi(n))return e}function yg(e,n){if(e==="change")return n}var xh=!1;if(g){var ru;if(g){var iu="oninput"in document;if(!iu){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),iu=typeof Vh.oninput=="function"}ru=iu}else ru=!1;xh=ru&&(!document.documentMode||9<document.documentMode)}function Oh(){ho&&(ho.detachEvent("onpropertychange",Lh),fo=ho=null)}function Lh(e){if(e.propertyName==="value"&&Al(fo)){var n=[];Dh(n,fo,e,ji(e)),Js(gg,n)}}function _g(e,n,s){e==="focusin"?(Oh(),ho=n,fo=s,ho.attachEvent("onpropertychange",Lh)):e==="focusout"&&Oh()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(fo)}function Eg(e,n){if(e==="click")return Al(n)}function wg(e,n){if(e==="input"||e==="change")return Al(n)}function Tg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:Tg;function po(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!_.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fh(e,n){var s=Mh(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mh(s)}}function Uh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Uh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bh(){for(var e=window,n=mr();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=mr(e.document)}return n}function su(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ig(e){var n=Bh(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Uh(s.ownerDocument.documentElement,s)){if(u!==null&&su(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=Fh(s,d);var y=Fh(s,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sg=g&&"documentMode"in document&&11>=document.documentMode,us=null,ou=null,mo=null,lu=!1;function zh(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lu||us==null||us!==mr(u)||(u=us,"selectionStart"in u&&su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mo&&po(mo,u)||(mo=u,u=Pl(ou,"onSelect"),0<u.length&&(n=new ts("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=us)))}function Rl(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var cs={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},au={},jh={};g&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Cl(e){if(au[e])return au[e];if(!cs[e])return e;var n=cs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in jh)return au[e]=n[s];return e}var bh=Cl("animationend"),$h=Cl("animationiteration"),Hh=Cl("animationstart"),qh=Cl("transitionend"),Wh=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,n){Wh.set(e,n),c(n,[e])}for(var uu=0;uu<Qh.length;uu++){var cu=Qh[uu],Ag=cu.toLowerCase(),Rg=cu[0].toUpperCase()+cu.slice(1);Rr(Ag,"on"+Rg)}Rr(bh,"onAnimationEnd"),Rr($h,"onAnimationIteration"),Rr(Hh,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(qh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function Gh(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,rl(u,n,void 0,e),e.currentTarget=null}function Kh(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var E=u[y],A=E.instance,F=E.currentTarget;if(E=E.listener,A!==d&&h.isPropagationStopped())break e;Gh(h,E,F),d=A}else for(y=0;y<u.length;y++){if(E=u[y],A=E.instance,F=E.currentTarget,E=E.listener,A!==d&&h.isPropagationStopped())break e;Gh(h,E,F),d=A}}}if(gn)throw e=Zs,gn=!1,Zs=null,e}function ze(e,n){var s=n[_u];s===void 0&&(s=n[_u]=new Set);var u=e+"__bubble";s.has(u)||(Xh(n,e,2,!1),s.add(u))}function hu(e,n,s){var u=0;n&&(u|=4),Xh(s,e,u,n)}var kl="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[kl]){e[kl]=!0,o.forEach(function(s){s!=="selectionchange"&&(Cg.has(s)||hu(s,!1,e),hu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[kl]||(n[kl]=!0,hu("selectionchange",!1,n))}}function Xh(e,n,s,u){switch(oo(n)){case 1:var h=$e;break;case 4:h=tu;break;default:h=so}s=h.bind(null,n,s,e),h=void 0,!Hi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function fu(e,n,s,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var E=u.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;E!==null;){if(y=hi(E),y===null)return;if(A=y.tag,A===5||A===6){u=d=y;continue e}E=E.parentNode}}u=u.return}Js(function(){var F=d,H=ji(s),q=[];e:{var b=Wh.get(e);if(b!==void 0){var Z=ts,ne=e;switch(e){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":Z=f;break;case"focusin":ne="focus",Z=ss;break;case"focusout":ne="blur",Z=ss;break;case"beforeblur":case"afterblur":Z=ss;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=_l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=U;break;case bh:case $h:case Hh:Z=nr;break;case qh:Z=De;break;case"scroll":Z=nu;break;case"wheel":Z=Se;break;case"copy":case"cut":case"paste":Z=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var re=(n&4)!==0,tt=!re&&e==="scroll",O=re?b!==null?b+"Capture":null:b;re=[];for(var R=F,M;R!==null;){M=R;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,O!==null&&(G=et(R,O),G!=null&&re.push(_o(R,G,M)))),tt)break;R=R.return}0<re.length&&(b=new Z(b,ne,null,s,H),q.push({event:b,listeners:re}))}}if(!(n&7)){e:{if(b=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",b&&s!==Jr&&(ne=s.relatedTarget||s.fromElement)&&(hi(ne)||ne[rr]))break e;if((Z||b)&&(b=H.window===H?H:(b=H.ownerDocument)?b.defaultView||b.parentWindow:window,Z?(ne=s.relatedTarget||s.toElement,Z=F,ne=ne?hi(ne):null,ne!==null&&(tt=yn(ne),ne!==tt||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=F),Z!==ne)){if(re=rs,G="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(re=v,G="onPointerLeave",O="onPointerEnter",R="pointer"),tt=Z==null?b:ds(Z),M=ne==null?b:ds(ne),b=new re(G,R+"leave",Z,s,H),b.target=tt,b.relatedTarget=M,G=null,hi(H)===F&&(re=new re(O,R+"enter",ne,s,H),re.target=M,re.relatedTarget=tt,G=re),tt=G,Z&&ne)t:{for(re=Z,O=ne,R=0,M=re;M;M=hs(M))R++;for(M=0,G=O;G;G=hs(G))M++;for(;0<R-M;)re=hs(re),R--;for(;0<M-R;)O=hs(O),M--;for(;R--;){if(re===O||O!==null&&re===O.alternate)break t;re=hs(re),O=hs(O)}re=null}else re=null;Z!==null&&Yh(q,b,Z,re,!1),ne!==null&&tt!==null&&Yh(q,tt,ne,re,!0)}}e:{if(b=F?ds(F):window,Z=b.nodeName&&b.nodeName.toLowerCase(),Z==="select"||Z==="input"&&b.type==="file")var se=yg;else if(Nh(b))if(xh)se=wg;else{se=vg;var ae=_g}else(Z=b.nodeName)&&Z.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(se=Eg);if(se&&(se=se(e,F))){Dh(q,se,s,H);break e}ae&&ae(e,b,F),e==="focusout"&&(ae=b._wrapperState)&&ae.controlled&&b.type==="number"&&Ui(b,"number",b.value)}switch(ae=F?ds(F):window,e){case"focusin":(Nh(ae)||ae.contentEditable==="true")&&(us=ae,ou=F,mo=null);break;case"focusout":mo=ou=us=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,zh(q,s,H);break;case"selectionchange":if(Sg)break;case"keydown":case"keyup":zh(q,s,H)}var ue;if(nt)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else as?kh(e,s)&&(fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(ci&&s.locale!=="ko"&&(as||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&as&&(ue=lo()):(Jt=H,Zi="value"in Jt?Jt.value:Jt.textContent,as=!0)),ae=Pl(F,fe),0<ae.length&&(fe=new co(fe,e,null,s,H),q.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=Ph(s),ue!==null&&(fe.data=ue)))),(ue=Zt?dg(e,s):pg(e,s))&&(F=Pl(F,"onBeforeInput"),0<F.length&&(H=new co("onBeforeInput","beforeinput",null,s,H),q.push({event:H,listeners:F}),H.data=ue))}Kh(q,n)})}function _o(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Pl(e,n){for(var s=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=et(e,s),d!=null&&u.unshift(_o(e,d,h)),d=et(e,n),d!=null&&u.push(_o(e,d,h))),e=e.return}return u}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yh(e,n,s,u,h){for(var d=n._reactName,y=[];s!==null&&s!==u;){var E=s,A=E.alternate,F=E.stateNode;if(A!==null&&A===u)break;E.tag===5&&F!==null&&(E=F,h?(A=et(s,d),A!=null&&y.unshift(_o(s,A,E))):h||(A=et(s,d),A!=null&&y.push(_o(s,A,E)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var kg=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function Jh(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(Pg,"")}function Nl(e,n,s){if(n=Jh(n),Jh(e)!==n&&s)throw Error(r(425))}function Dl(){}var du=null,pu=null;function mu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(e){return Zh.resolve(null).then(e).catch(xg)}:gu;function xg(e){setTimeout(function(){throw e})}function yu(e,n){var s=n,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){e.removeChild(h),Tn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Tn(n)}function Cr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),zn="__reactFiber$"+fs,vo="__reactProps$"+fs,rr="__reactContainer$"+fs,_u="__reactEvents$"+fs,Vg="__reactListeners$"+fs,Og="__reactHandles$"+fs;function hi(e){var n=e[zn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[rr]||s[zn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=ef(e);e!==null;){if(s=e[zn])return s;e=ef(e)}return n}e=s,s=e.parentNode}return null}function Eo(e){return e=e[zn]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function xl(e){return e[vo]||null}var vu=[],ps=-1;function kr(e){return{current:e}}function je(e){0>ps||(e.current=vu[ps],vu[ps]=null,ps--)}function Ue(e,n){ps++,vu[ps]=e.current,e.current=n}var Pr={},kt=kr(Pr),bt=kr(!1),fi=Pr;function ms(e,n){var s=e.type.contextTypes;if(!s)return Pr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function $t(e){return e=e.childContextTypes,e!=null}function Vl(){je(bt),je(kt)}function tf(e,n,s){if(kt.current!==Pr)throw Error(r(168));Ue(kt,n),Ue(bt,s)}function nf(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Pe(e)||"Unknown",h));return ee({},s,u)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,fi=kt.current,Ue(kt,e),Ue(bt,bt.current),!0}function rf(e,n,s){var u=e.stateNode;if(!u)throw Error(r(169));s?(e=nf(e,n,fi),u.__reactInternalMemoizedMergedChildContext=e,je(bt),je(kt),Ue(kt,e)):je(bt),Ue(bt,s)}var ir=null,Ll=!1,Eu=!1;function sf(e){ir===null?ir=[e]:ir.push(e)}function Lg(e){Ll=!0,sf(e)}function Nr(){if(!Eu&&ir!==null){Eu=!0;var e=0,n=we;try{var s=ir;for(we=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}ir=null,Ll=!1}catch(h){throw ir!==null&&(ir=ir.slice(e+1)),Gi(ri,Nr),h}finally{we=n,Eu=!1}}return null}var gs=[],ys=0,Ml=null,Fl=0,un=[],cn=0,di=null,sr=1,or="";function pi(e,n){gs[ys++]=Fl,gs[ys++]=Ml,Ml=e,Fl=n}function of(e,n,s){un[cn++]=sr,un[cn++]=or,un[cn++]=di,di=e;var u=sr;e=or;var h=32-Lt(u)-1;u&=~(1<<h),s+=1;var d=32-Lt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,sr=1<<32-Lt(n)+h|s<<h|u,or=d+e}else sr=1<<d|s<<h|u,or=e}function wu(e){e.return!==null&&(pi(e,1),of(e,1,0))}function Tu(e){for(;e===Ml;)Ml=gs[--ys],gs[ys]=null,Fl=gs[--ys],gs[ys]=null;for(;e===di;)di=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null,sr=un[--cn],un[cn]=null}var en=null,tn=null,He=!1,An=null;function lf(e,n){var s=pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function af(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,en=e,tn=Cr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,en=e,tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=di!==null?{id:sr,overflow:or}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=pn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,en=e,tn=null,!0):!1;default:return!1}}function Iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Su(e){if(He){var n=tn;if(n){var s=n;if(!af(e,n)){if(Iu(e))throw Error(r(418));n=Cr(s.nextSibling);var u=en;n&&af(e,n)?lf(u,s):(e.flags=e.flags&-4097|2,He=!1,en=e)}}else{if(Iu(e))throw Error(r(418));e.flags=e.flags&-4097|2,He=!1,en=e}}}function uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function Ul(e){if(e!==en)return!1;if(!He)return uf(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!mu(e.type,e.memoizedProps)),n&&(n=tn)){if(Iu(e))throw cf(),Error(r(418));for(;n;)lf(e,n),n=Cr(n.nextSibling)}if(uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){tn=Cr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}tn=null}}else tn=en?Cr(e.stateNode.nextSibling):null;return!0}function cf(){for(var e=tn;e;)e=Cr(e.nextSibling)}function _s(){tn=en=null,He=!1}function Au(e){An===null?An=[e]:An.push(e)}var Mg=ce.ReactCurrentBatchConfig;function wo(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var E=h.refs;y===null?delete E[d]:E[d]=y},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Bl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function hf(e){var n=e._init;return n(e._payload)}function ff(e){function n(O,R){if(e){var M=O.deletions;M===null?(O.deletions=[R],O.flags|=16):M.push(R)}}function s(O,R){if(!e)return null;for(;R!==null;)n(O,R),R=R.sibling;return null}function u(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function h(O,R){return O=Ur(O,R),O.index=0,O.sibling=null,O}function d(O,R,M){return O.index=M,e?(M=O.alternate,M!==null?(M=M.index,M<R?(O.flags|=2,R):M):(O.flags|=2,R)):(O.flags|=1048576,R)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function E(O,R,M,G){return R===null||R.tag!==6?(R=gc(M,O.mode,G),R.return=O,R):(R=h(R,M),R.return=O,R)}function A(O,R,M,G){var se=M.type;return se===k?H(O,R,M.props.children,G,M.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&hf(se)===R.type)?(G=h(R,M.props),G.ref=wo(O,R,M),G.return=O,G):(G=ua(M.type,M.key,M.props,null,O.mode,G),G.ref=wo(O,R,M),G.return=O,G)}function F(O,R,M,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=yc(M,O.mode,G),R.return=O,R):(R=h(R,M.children||[]),R.return=O,R)}function H(O,R,M,G,se){return R===null||R.tag!==7?(R=Ti(M,O.mode,G,se),R.return=O,R):(R=h(R,M),R.return=O,R)}function q(O,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=gc(""+R,O.mode,M),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case be:return M=ua(R.type,R.key,R.props,null,O.mode,M),M.ref=wo(O,null,R),M.return=O,M;case Te:return R=yc(R,O.mode,M),R.return=O,R;case Ct:var G=R._init;return q(O,G(R._payload),M)}if(Gn(R)||le(R))return R=Ti(R,O.mode,M,null),R.return=O,R;Bl(O,R)}return null}function b(O,R,M,G){var se=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return se!==null?null:E(O,R,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case be:return M.key===se?A(O,R,M,G):null;case Te:return M.key===se?F(O,R,M,G):null;case Ct:return se=M._init,b(O,R,se(M._payload),G)}if(Gn(M)||le(M))return se!==null?null:H(O,R,M,G,null);Bl(O,M)}return null}function Z(O,R,M,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return O=O.get(M)||null,E(R,O,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case be:return O=O.get(G.key===null?M:G.key)||null,A(R,O,G,se);case Te:return O=O.get(G.key===null?M:G.key)||null,F(R,O,G,se);case Ct:var ae=G._init;return Z(O,R,M,ae(G._payload),se)}if(Gn(G)||le(G))return O=O.get(M)||null,H(R,O,G,se,null);Bl(R,G)}return null}function ne(O,R,M,G){for(var se=null,ae=null,ue=R,fe=R=0,pt=null;ue!==null&&fe<M.length;fe++){ue.index>fe?(pt=ue,ue=null):pt=ue.sibling;var ke=b(O,ue,M[fe],G);if(ke===null){ue===null&&(ue=pt);break}e&&ue&&ke.alternate===null&&n(O,ue),R=d(ke,R,fe),ae===null?se=ke:ae.sibling=ke,ae=ke,ue=pt}if(fe===M.length)return s(O,ue),He&&pi(O,fe),se;if(ue===null){for(;fe<M.length;fe++)ue=q(O,M[fe],G),ue!==null&&(R=d(ue,R,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return He&&pi(O,fe),se}for(ue=u(O,ue);fe<M.length;fe++)pt=Z(ue,O,fe,M[fe],G),pt!==null&&(e&&pt.alternate!==null&&ue.delete(pt.key===null?fe:pt.key),R=d(pt,R,fe),ae===null?se=pt:ae.sibling=pt,ae=pt);return e&&ue.forEach(function(Br){return n(O,Br)}),He&&pi(O,fe),se}function re(O,R,M,G){var se=le(M);if(typeof se!="function")throw Error(r(150));if(M=se.call(M),M==null)throw Error(r(151));for(var ae=se=null,ue=R,fe=R=0,pt=null,ke=M.next();ue!==null&&!ke.done;fe++,ke=M.next()){ue.index>fe?(pt=ue,ue=null):pt=ue.sibling;var Br=b(O,ue,ke.value,G);if(Br===null){ue===null&&(ue=pt);break}e&&ue&&Br.alternate===null&&n(O,ue),R=d(Br,R,fe),ae===null?se=Br:ae.sibling=Br,ae=Br,ue=pt}if(ke.done)return s(O,ue),He&&pi(O,fe),se;if(ue===null){for(;!ke.done;fe++,ke=M.next())ke=q(O,ke.value,G),ke!==null&&(R=d(ke,R,fe),ae===null?se=ke:ae.sibling=ke,ae=ke);return He&&pi(O,fe),se}for(ue=u(O,ue);!ke.done;fe++,ke=M.next())ke=Z(ue,O,fe,ke.value,G),ke!==null&&(e&&ke.alternate!==null&&ue.delete(ke.key===null?fe:ke.key),R=d(ke,R,fe),ae===null?se=ke:ae.sibling=ke,ae=ke);return e&&ue.forEach(function(my){return n(O,my)}),He&&pi(O,fe),se}function tt(O,R,M,G){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case be:e:{for(var se=M.key,ae=R;ae!==null;){if(ae.key===se){if(se=M.type,se===k){if(ae.tag===7){s(O,ae.sibling),R=h(ae,M.props.children),R.return=O,O=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&hf(se)===ae.type){s(O,ae.sibling),R=h(ae,M.props),R.ref=wo(O,ae,M),R.return=O,O=R;break e}s(O,ae);break}else n(O,ae);ae=ae.sibling}M.type===k?(R=Ti(M.props.children,O.mode,G,M.key),R.return=O,O=R):(G=ua(M.type,M.key,M.props,null,O.mode,G),G.ref=wo(O,R,M),G.return=O,O=G)}return y(O);case Te:e:{for(ae=M.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){s(O,R.sibling),R=h(R,M.children||[]),R.return=O,O=R;break e}else{s(O,R);break}else n(O,R);R=R.sibling}R=yc(M,O.mode,G),R.return=O,O=R}return y(O);case Ct:return ae=M._init,tt(O,R,ae(M._payload),G)}if(Gn(M))return ne(O,R,M,G);if(le(M))return re(O,R,M,G);Bl(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(s(O,R.sibling),R=h(R,M),R.return=O,O=R):(s(O,R),R=gc(M,O.mode,G),R.return=O,O=R),y(O)):s(O,R)}return tt}var vs=ff(!0),df=ff(!1),zl=kr(null),jl=null,Es=null,Ru=null;function Cu(){Ru=Es=jl=null}function ku(e){var n=zl.current;je(zl),e._currentValue=n}function Pu(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function ws(e,n){jl=e,Ru=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ht=!0),e.firstContext=null)}function hn(e){var n=e._currentValue;if(Ru!==e)if(e={context:e,memoizedValue:n,next:null},Es===null){if(jl===null)throw Error(r(308));Es=e,jl.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return n}var mi=null;function Nu(e){mi===null?mi=[e]:mi.push(e)}function pf(e,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Nu(n)):(s.next=h.next,h.next=s),n.interleaved=s,lr(e,u)}function lr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Dr=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function xr(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,Ce&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,lr(e,s)}return h=u.interleaved,h===null?(n.next=n,Nu(u)):(n.next=h.next,h.next=n),u.interleaved=n,lr(e,s)}function bl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,wr(e,s)}}function gf(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function $l(e,n,s,u){var h=e.updateQueue;Dr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var A=E,F=A.next;A.next=null,y===null?d=F:y.next=F,y=A;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=F:E.next=F,H.lastBaseUpdate=A))}if(d!==null){var q=h.baseState;y=0,H=F=A=null,E=d;do{var b=E.lane,Z=E.eventTime;if((u&b)===b){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ne=e,re=E;switch(b=n,Z=s,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){q=ne.call(Z,q,b);break e}q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,b=typeof ne=="function"?ne.call(Z,q,b):ne,b==null)break e;q=ee({},q,b);break e;case 2:Dr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,b=h.effects,b===null?h.effects=[E]:b.push(E))}else Z={eventTime:Z,lane:b,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(F=H=Z,A=q):H=H.next=Z,y|=b;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;b=E,E=b.next,b.next=null,h.lastBaseUpdate=b,h.shared.pending=null}}while(!0);if(H===null&&(A=q),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=H,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);_i|=y,e.lanes=y,e.memoizedState=q}}function yf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var To={},jn=kr(To),Io=kr(To),So=kr(To);function gi(e){if(e===To)throw Error(r(174));return e}function xu(e,n){switch(Ue(So,n),Ue(Io,e),Ue(jn,To),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ot(n,e)}je(jn),Ue(jn,n)}function Ts(){je(jn),je(Io),je(So)}function _f(e){gi(So.current);var n=gi(jn.current),s=ot(n,e.type);n!==s&&(Ue(Io,e),Ue(jn,s))}function Vu(e){Io.current===e&&(je(jn),je(Io))}var We=kr(0);function Hl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ou=[];function Lu(){for(var e=0;e<Ou.length;e++)Ou[e]._workInProgressVersionPrimary=null;Ou.length=0}var ql=ce.ReactCurrentDispatcher,Mu=ce.ReactCurrentBatchConfig,yi=0,Qe=null,at=null,ft=null,Wl=!1,Ao=!1,Ro=0,Fg=0;function Pt(){throw Error(r(321))}function Fu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function Uu(e,n,s,u,h,d){if(yi=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ql.current=e===null||e.memoizedState===null?jg:bg,e=s(u,h),Ao){d=0;do{if(Ao=!1,Ro=0,25<=d)throw Error(r(301));d+=1,ft=at=null,n.updateQueue=null,ql.current=$g,e=s(u,h)}while(Ao)}if(ql.current=Kl,n=at!==null&&at.next!==null,yi=0,ft=at=Qe=null,Wl=!1,n)throw Error(r(300));return e}function Bu(){var e=Ro!==0;return Ro=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Qe.memoizedState=ft=e:ft=ft.next=e,ft}function fn(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=ft===null?Qe.memoizedState:ft.next;if(n!==null)ft=n,at=e;else{if(e===null)throw Error(r(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ft===null?Qe.memoizedState=ft=e:ft=ft.next=e}return ft}function Co(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=at,h=u.baseQueue,d=s.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,u=u.baseState;var E=y=null,A=null,F=d;do{var H=F.lane;if((yi&H)===H)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var q={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(E=A=q,y=u):A=A.next=q,Qe.lanes|=H,_i|=H}F=F.next}while(F!==null&&F!==d);A===null?y=u:A.next=E,Sn(u,n.memoizedState)||(Ht=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,s.lastRenderedState=u}if(e=s.interleaved,e!==null){h=e;do d=h.lane,Qe.lanes|=d,_i|=d,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ju(e){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Sn(d,n.memoizedState)||(Ht=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,u]}function vf(){}function Ef(e,n){var s=Qe,u=fn(),h=n(),d=!Sn(u.memoizedState,h);if(d&&(u.memoizedState=h,Ht=!0),u=u.queue,bu(If.bind(null,s,u,e),[e]),u.getSnapshot!==n||d||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,ko(9,Tf.bind(null,s,u,h,n),void 0,null),dt===null)throw Error(r(349));yi&30||wf(s,n,h)}return h}function wf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Tf(e,n,s,u){n.value=s,n.getSnapshot=u,Sf(n)&&Af(e)}function If(e,n,s){return s(function(){Sf(n)&&Af(e)})}function Sf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function Af(e){var n=lr(e,1);n!==null&&Pn(n,e,1,-1)}function Rf(e){var n=bn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},n.queue=e,e=e.dispatch=zg.bind(null,Qe,e),[n.memoizedState,e]}function ko(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function Cf(){return fn().memoizedState}function Ql(e,n,s,u){var h=bn();Qe.flags|=e,h.memoizedState=ko(1|n,s,void 0,u===void 0?null:u)}function Gl(e,n,s,u){var h=fn();u=u===void 0?null:u;var d=void 0;if(at!==null){var y=at.memoizedState;if(d=y.destroy,u!==null&&Fu(u,y.deps)){h.memoizedState=ko(n,s,d,u);return}}Qe.flags|=e,h.memoizedState=ko(1|n,s,d,u)}function kf(e,n){return Ql(8390656,8,e,n)}function bu(e,n){return Gl(2048,8,e,n)}function Pf(e,n){return Gl(4,2,e,n)}function Nf(e,n){return Gl(4,4,e,n)}function Df(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xf(e,n,s){return s=s!=null?s.concat([e]):null,Gl(4,4,Df.bind(null,n,e),s)}function $u(){}function Vf(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Fu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function Of(e,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Fu(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function Lf(e,n,s){return yi&21?(Sn(s,n)||(s=oi(),Qe.lanes|=s,_i|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=s)}function Ug(e,n){var s=we;we=s!==0&&4>s?s:4,e(!0);var u=Mu.transition;Mu.transition={};try{e(!1),n()}finally{we=s,Mu.transition=u}}function Mf(){return fn().memoizedState}function Bg(e,n,s){var u=Mr(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},Ff(e))Uf(n,s);else if(s=pf(e,n,s,u),s!==null){var h=Ut();Pn(s,e,u,h),Bf(s,n,u)}}function zg(e,n,s){var u=Mr(e),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ff(e))Uf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,E=d(y,s);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,y)){var A=n.interleaved;A===null?(h.next=h,Nu(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}s=pf(e,n,h,u),s!==null&&(h=Ut(),Pn(s,e,u,h),Bf(s,n,u))}}function Ff(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Uf(e,n){Ao=Wl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Bf(e,n,s){if(s&4194240){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,wr(e,s)}}var Kl={readContext:hn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},jg={readContext:hn,useCallback:function(e,n){return bn().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:kf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ql(4194308,4,Df.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ql(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ql(4,2,e,n)},useMemo:function(e,n){var s=bn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=bn();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Bg.bind(null,Qe,e),[u.memoizedState,e]},useRef:function(e){var n=bn();return e={current:e},n.memoizedState=e},useState:Rf,useDebugValue:$u,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=Rf(!1),n=e[0];return e=Ug.bind(null,e[1]),bn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Qe,h=bn();if(He){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),dt===null)throw Error(r(349));yi&30||wf(u,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,kf(If.bind(null,u,d,e),[e]),u.flags|=2048,ko(9,Tf.bind(null,u,d,s,n),void 0,null),s},useId:function(){var e=bn(),n=dt.identifierPrefix;if(He){var s=or,u=sr;s=(u&~(1<<32-Lt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ro++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Fg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bg={readContext:hn,useCallback:Vf,useContext:hn,useEffect:bu,useImperativeHandle:xf,useInsertionEffect:Pf,useLayoutEffect:Nf,useMemo:Of,useReducer:zu,useRef:Cf,useState:function(){return zu(Co)},useDebugValue:$u,useDeferredValue:function(e){var n=fn();return Lf(n,at.memoizedState,e)},useTransition:function(){var e=zu(Co)[0],n=fn().memoizedState;return[e,n]},useMutableSource:vf,useSyncExternalStore:Ef,useId:Mf,unstable_isNewReconciler:!1},$g={readContext:hn,useCallback:Vf,useContext:hn,useEffect:bu,useImperativeHandle:xf,useInsertionEffect:Pf,useLayoutEffect:Nf,useMemo:Of,useReducer:ju,useRef:Cf,useState:function(){return ju(Co)},useDebugValue:$u,useDeferredValue:function(e){var n=fn();return at===null?n.memoizedState=e:Lf(n,at.memoizedState,e)},useTransition:function(){var e=ju(Co)[0],n=fn().memoizedState;return[e,n]},useMutableSource:vf,useSyncExternalStore:Ef,useId:Mf,unstable_isNewReconciler:!1};function Rn(e,n){if(e&&e.defaultProps){n=ee({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Hu(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:ee({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xl={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=Ut(),h=Mr(e),d=ar(u,h);d.payload=n,s!=null&&(d.callback=s),n=xr(e,d,h),n!==null&&(Pn(n,e,h,u),bl(n,e,h))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=Ut(),h=Mr(e),d=ar(u,h);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=xr(e,d,h),n!==null&&(Pn(n,e,h,u),bl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ut(),u=Mr(e),h=ar(s,u);h.tag=2,n!=null&&(h.callback=n),n=xr(e,h,u),n!==null&&(Pn(n,e,u,s),bl(n,e,u))}};function zf(e,n,s,u,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!po(s,u)||!po(h,d):!0}function jf(e,n,s){var u=!1,h=Pr,d=n.contextType;return typeof d=="object"&&d!==null?d=hn(d):(h=$t(n)?fi:kt.current,u=n.contextTypes,d=(u=u!=null)?ms(e,h):Pr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Xl,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function bf(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&Xl.enqueueReplaceState(n,n.state,null)}function qu(e,n,s,u){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},Du(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=hn(d):(d=$t(n)?fi:kt.current,h.context=ms(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Hu(e,n,d,s),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Xl.enqueueReplaceState(h,h.state,null),$l(e,s,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,n){try{var s="",u=n;do s+=_e(u),u=u.return;while(u);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function Wu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Qu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Hg=typeof WeakMap=="function"?WeakMap:Map;function $f(e,n,s){s=ar(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){ra||(ra=!0,ac=u),Qu(e,n)},s}function Hf(e,n,s){s=ar(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){Qu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Qu(e,n),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function qf(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new Hg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),e=iy.bind(null,e,n,s),n.then(e,e))}function Wf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Qf(e,n,s,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ar(-1,1),n.tag=2,xr(s,n,1))),s.lanes|=1),e)}var qg=ce.ReactCurrentOwner,Ht=!1;function Ft(e,n,s,u){n.child=e===null?df(n,null,s,u):vs(n,e.child,s,u)}function Gf(e,n,s,u,h){s=s.render;var d=n.ref;return ws(n,h),u=Uu(e,n,s,u,d,h),s=Bu(),e!==null&&!Ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ur(e,n,h)):(He&&s&&wu(n),n.flags|=1,Ft(e,n,u,h),n.child)}function Kf(e,n,s,u,h){if(e===null){var d=s.type;return typeof d=="function"&&!mc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,Xf(e,n,d,u,h)):(e=ua(s.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:po,s(y,u)&&e.ref===n.ref)return ur(e,n,h)}return n.flags|=1,e=Ur(d,u),e.ref=n.ref,e.return=n,n.child=e}function Xf(e,n,s,u,h){if(e!==null){var d=e.memoizedProps;if(po(d,u)&&e.ref===n.ref)if(Ht=!1,n.pendingProps=u=d,(e.lanes&h)!==0)e.flags&131072&&(Ht=!0);else return n.lanes=e.lanes,ur(e,n,h)}return Gu(e,n,s,u,h)}function Yf(e,n,s){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(As,nn),nn|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ue(As,nn),nn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,Ue(As,nn),nn|=u}else d!==null?(u=d.baseLanes|s,n.memoizedState=null):u=s,Ue(As,nn),nn|=u;return Ft(e,n,h,s),n.child}function Jf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Gu(e,n,s,u,h){var d=$t(s)?fi:kt.current;return d=ms(n,d),ws(n,h),s=Uu(e,n,s,u,d,h),u=Bu(),e!==null&&!Ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ur(e,n,h)):(He&&u&&wu(n),n.flags|=1,Ft(e,n,s,h),n.child)}function Zf(e,n,s,u,h){if($t(s)){var d=!0;Ol(n)}else d=!1;if(ws(n,h),n.stateNode===null)Jl(e,n),jf(n,s,u),qu(n,s,u,h),u=!0;else if(e===null){var y=n.stateNode,E=n.memoizedProps;y.props=E;var A=y.context,F=s.contextType;typeof F=="object"&&F!==null?F=hn(F):(F=$t(s)?fi:kt.current,F=ms(n,F));var H=s.getDerivedStateFromProps,q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==u||A!==F)&&bf(n,y,u,F),Dr=!1;var b=n.memoizedState;y.state=b,$l(n,u,y,h),A=n.memoizedState,E!==u||b!==A||bt.current||Dr?(typeof H=="function"&&(Hu(n,s,H,u),A=n.memoizedState),(E=Dr||zf(n,s,E,u,b,A,F))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,mf(e,n),E=n.memoizedProps,F=n.type===n.elementType?E:Rn(n.type,E),y.props=F,q=n.pendingProps,b=y.context,A=s.contextType,typeof A=="object"&&A!==null?A=hn(A):(A=$t(s)?fi:kt.current,A=ms(n,A));var Z=s.getDerivedStateFromProps;(H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==q||b!==A)&&bf(n,y,u,A),Dr=!1,b=n.memoizedState,y.state=b,$l(n,u,y,h);var ne=n.memoizedState;E!==q||b!==ne||bt.current||Dr?(typeof Z=="function"&&(Hu(n,s,Z,u),ne=n.memoizedState),(F=Dr||zf(n,s,F,u,b,ne,A)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ne,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ne,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ne),y.props=u,y.state=ne,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),u=!1)}return Ku(e,n,s,u,d,h)}function Ku(e,n,s,u,h,d){Jf(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&rf(n,s,!1),ur(e,n,d);u=n.stateNode,qg.current=n;var E=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=vs(n,e.child,null,d),n.child=vs(n,null,E,d)):Ft(e,n,E,d),n.memoizedState=u.state,h&&rf(n,s,!0),n.child}function ed(e){var n=e.stateNode;n.pendingContext?tf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&tf(e,n.context,!1),xu(e,n.containerInfo)}function td(e,n,s,u,h){return _s(),Au(h),n.flags|=256,Ft(e,n,s,u),n.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,n,s){var u=n.pendingProps,h=We.current,d=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(h&2)!==0),E?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ue(We,h&1),e===null)return Su(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=ca(y,u,0,null),e=Ti(e,u,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Yu(s),n.memoizedState=Xu,e):Ju(n,y));if(h=e.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return Wg(e,n,y,u,E,h,s);if(d){d=u.fallback,y=n.mode,h=e.child,E=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=Ur(h,A),u.subtreeFlags=h.subtreeFlags&14680064),E!==null?d=Ur(E,d):(d=Ti(d,y,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=e.child.memoizedState,y=y===null?Yu(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~s,n.memoizedState=Xu,u}return d=e.child,e=d.sibling,u=Ur(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function Ju(e,n){return n=ca({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Yl(e,n,s,u){return u!==null&&Au(u),vs(n,e.child,null,s),e=Ju(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,s,u,h,d,y){if(s)return n.flags&256?(n.flags&=-257,u=Wu(Error(r(422))),Yl(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=ca({mode:"visible",children:u.children},h,0,null),d=Ti(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&vs(n,e.child,null,y),n.child.memoizedState=Yu(y),n.memoizedState=Xu,d);if(!(n.mode&1))return Yl(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var E=u.dgst;return u=E,d=Error(r(419)),u=Wu(d,u,void 0),Yl(e,n,y,u)}if(E=(y&e.childLanes)!==0,Ht||E){if(u=dt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,lr(e,h),Pn(u,e,h,-1))}return pc(),u=Wu(Error(r(421))),Yl(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=sy.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,tn=Cr(h.nextSibling),en=n,He=!0,An=null,e!==null&&(un[cn++]=sr,un[cn++]=or,un[cn++]=di,sr=e.id,or=e.overflow,di=n),n=Ju(n,u.children),n.flags|=4096,n)}function rd(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Pu(e.return,n,s)}function Zu(e,n,s,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=h)}function id(e,n,s){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ft(e,n,u.children,s),u=We.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rd(e,s,n);else if(e.tag===19)rd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Ue(We,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Hl(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Zu(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hl(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Zu(n,!0,s,null,d);break;case"together":Zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Jl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ur(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),_i|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Ur(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ur(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Qg(e,n,s){switch(n.tag){case 3:ed(n),_s();break;case 5:_f(n);break;case 1:$t(n.type)&&Ol(n);break;case 4:xu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Ue(zl,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Ue(We,We.current&1),n.flags|=128,null):s&n.child.childLanes?nd(e,n,s):(Ue(We,We.current&1),e=ur(e,n,s),e!==null?e.sibling:null);Ue(We,We.current&1);break;case 19:if(u=(s&n.childLanes)!==0,e.flags&128){if(u)return id(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(We,We.current),u)break;return null;case 22:case 23:return n.lanes=0,Yf(e,n,s)}return ur(e,n,s)}var sd,ec,od,ld;sd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ec=function(){},od=function(e,n,s,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,gi(jn.current);var d=null;switch(s){case"input":h=Kr(e,h),u=Kr(e,u),d=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),d=[];break;case"textarea":h=bs(e,h),u=bs(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Dl)}Gs(s,u);var y;s=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var E=h[F];for(y in E)E.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var A=u[F];if(E=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==E&&(A!=null||E!=null))if(F==="style")if(E){for(y in E)!E.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in A)A.hasOwnProperty(y)&&E[y]!==A[y]&&(s||(s={}),s[y]=A[y])}else s||(d||(d=[]),d.push(F,s)),s=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,E=E?E.__html:void 0,A!=null&&E!==A&&(d=d||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(d=d||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&ze("scroll",e),d||E===A||(d=[])):(d=d||[]).push(F,A))}s&&(d=d||[]).push("style",s);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},ld=function(e,n,s,u){s!==u&&(n.flags|=4)};function Po(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function Gg(e,n,s){var u=n.pendingProps;switch(Tu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(n),null;case 1:return $t(n.type)&&Vl(),Nt(n),null;case 3:return u=n.stateNode,Ts(),je(bt),je(kt),Lu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Ul(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,An!==null&&(hc(An),An=null))),ec(e,n),Nt(n),null;case 5:Vu(n);var h=gi(So.current);if(s=n.type,e!==null&&n.stateNode!=null)od(e,n,s,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Nt(n),null}if(e=gi(jn.current),Ul(n)){u=n.stateNode,s=n.type;var d=n.memoizedProps;switch(u[zn]=n,u[vo]=d,e=(n.mode&1)!==0,s){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(h=0;h<go.length;h++)ze(go[h],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":Fi(u,d),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},ze("invalid",u);break;case"textarea":Bi(u,d),ze("invalid",u)}Gs(s,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var E=d[y];y==="children"?typeof E=="string"?u.textContent!==E&&(d.suppressHydrationWarning!==!0&&Nl(u.textContent,E,e),h=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(d.suppressHydrationWarning!==!0&&Nl(u.textContent,E,e),h=["children",""+E]):a.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&ze("scroll",u)}switch(s){case"input":Qn(u),nl(u,d,!0);break;case"textarea":Qn(u),$s(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Dl)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(s,{is:u.is}):(e=y.createElement(s),s==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,s),e[zn]=n,e[vo]=u,sd(e,n,!1,!1),n.stateNode=e;e:{switch(y=Ks(s,u),s){case"dialog":ze("cancel",e),ze("close",e),h=u;break;case"iframe":case"object":case"embed":ze("load",e),h=u;break;case"video":case"audio":for(h=0;h<go.length;h++)ze(go[h],e);h=u;break;case"source":ze("error",e),h=u;break;case"img":case"image":case"link":ze("error",e),ze("load",e),h=u;break;case"details":ze("toggle",e),h=u;break;case"input":Fi(e,u),h=Kr(e,u),ze("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),ze("invalid",e);break;case"textarea":Bi(e,u),h=bs(e,u),ze("invalid",e);break;default:h=u}Gs(s,h),E=h;for(d in E)if(E.hasOwnProperty(d)){var A=E[d];d==="style"?Ws(e,A):d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Hs(e,A)):d==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&gr(e,A):typeof A=="number"&&gr(e,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?A!=null&&d==="onScroll"&&ze("scroll",e):A!=null&&pe(e,d,A,y))}switch(s){case"input":Qn(e),nl(e,u,!1);break;case"textarea":Qn(e),$s(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Ne(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?Kn(e,!!u.multiple,d,!1):u.defaultValue!=null&&Kn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Dl)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nt(n),null;case 6:if(e&&n.stateNode!=null)ld(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=gi(So.current),gi(jn.current),Ul(n)){if(u=n.stateNode,s=n.memoizedProps,u[zn]=n,(d=u.nodeValue!==s)&&(e=en,e!==null))switch(e.tag){case 3:Nl(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nl(u.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[zn]=n,n.stateNode=u}return Nt(n),null;case 13:if(je(We),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&tn!==null&&n.mode&1&&!(n.flags&128))cf(),_s(),n.flags|=98560,d=!1;else if(d=Ul(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[zn]=n}else _s(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Nt(n),d=!1}else An!==null&&(hc(An),An=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||We.current&1?ut===0&&(ut=3):pc())),n.updateQueue!==null&&(n.flags|=4),Nt(n),null);case 4:return Ts(),ec(e,n),e===null&&yo(n.stateNode.containerInfo),Nt(n),null;case 10:return ku(n.type._context),Nt(n),null;case 17:return $t(n.type)&&Vl(),Nt(n),null;case 19:if(je(We),d=n.memoizedState,d===null)return Nt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Po(d,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Hl(e),y!==null){for(n.flags|=128,Po(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)d=s,e=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ue(We,We.current&1|2),n.child}e=e.sibling}d.tail!==null&&Fe()>Rs&&(n.flags|=128,u=!0,Po(d,!1),n.lanes=4194304)}else{if(!u)if(e=Hl(y),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Po(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!He)return Nt(n),null}else 2*Fe()-d.renderingStartTime>Rs&&s!==1073741824&&(n.flags|=128,u=!0,Po(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(s=d.last,s!==null?s.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Fe(),n.sibling=null,s=We.current,Ue(We,u?s&1|2:s&1),n):(Nt(n),null);case 22:case 23:return dc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?nn&1073741824&&(Nt(n),n.subtreeFlags&6&&(n.flags|=8192)):Nt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Kg(e,n){switch(Tu(n),n.tag){case 1:return $t(n.type)&&Vl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ts(),je(bt),je(kt),Lu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Vu(n),null;case 13:if(je(We),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return je(We),null;case 4:return Ts(),null;case 10:return ku(n.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Zl=!1,Dt=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ss(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Ge(e,n,u)}else s.current=null}function tc(e,n,s){try{s()}catch(u){Ge(e,n,u)}}var ad=!1;function Yg(e,n){if(du=Sr,e=Bh(),su(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,E=-1,A=-1,F=0,H=0,q=e,b=null;t:for(;;){for(var Z;q!==s||h!==0&&q.nodeType!==3||(E=y+h),q!==d||u!==0&&q.nodeType!==3||(A=y+u),q.nodeType===3&&(y+=q.nodeValue.length),(Z=q.firstChild)!==null;)b=q,q=Z;for(;;){if(q===e)break t;if(b===s&&++F===h&&(E=y),b===d&&++H===u&&(A=y),(Z=q.nextSibling)!==null)break;q=b,b=q.parentNode}q=Z}s=E===-1||A===-1?null:{start:E,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(pu={focusedElem:e,selectionRange:s},Sr=!1,te=n;te!==null;)if(n=te,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,te=e;else for(;te!==null;){n=te;try{var ne=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,tt=ne.memoizedState,O=n.stateNode,R=O.getSnapshotBeforeUpdate(n.elementType===n.type?re:Rn(n.type,re),tt);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){Ge(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,te=e;break}te=n.return}return ne=ad,ad=!1,ne}function No(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&tc(n,s,d)}h=h.next}while(h!==u)}}function ea(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function nc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function ud(e){var n=e.alternate;n!==null&&(e.alternate=null,ud(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[zn],delete n[vo],delete n[_u],delete n[Vg],delete n[Og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cd(e){return e.tag===5||e.tag===3||e.tag===4}function hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Dl));else if(u!==4&&(e=e.child,e!==null))for(rc(e,n,s),e=e.sibling;e!==null;)rc(e,n,s),e=e.sibling}function ic(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(ic(e,n,s),e=e.sibling;e!==null;)ic(e,n,s),e=e.sibling}var Et=null,Cn=!1;function Vr(e,n,s){for(s=s.child;s!==null;)fd(e,n,s),s=s.sibling}function fd(e,n,s){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ii,s)}catch{}switch(s.tag){case 5:Dt||Ss(s,n);case 6:var u=Et,h=Cn;Et=null,Vr(e,n,s),Et=u,Cn=h,Et!==null&&(Cn?(e=Et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Et.removeChild(s.stateNode));break;case 18:Et!==null&&(Cn?(e=Et,s=s.stateNode,e.nodeType===8?yu(e.parentNode,s):e.nodeType===1&&yu(e,s),Tn(e)):yu(Et,s.stateNode));break;case 4:u=Et,h=Cn,Et=s.stateNode.containerInfo,Cn=!0,Vr(e,n,s),Et=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&tc(s,n,y),h=h.next}while(h!==u)}Vr(e,n,s);break;case 1:if(!Dt&&(Ss(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(E){Ge(s,n,E)}Vr(e,n,s);break;case 21:Vr(e,n,s);break;case 22:s.mode&1?(Dt=(u=Dt)||s.memoizedState!==null,Vr(e,n,s),Dt=u):Vr(e,n,s);break;default:Vr(e,n,s)}}function dd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Xg),n.forEach(function(u){var h=oy.bind(null,e,u);s.has(u)||(s.add(u),u.then(h,h))})}}function kn(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var d=e,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 5:Et=E.stateNode,Cn=!1;break e;case 3:Et=E.stateNode.containerInfo,Cn=!0;break e;case 4:Et=E.stateNode.containerInfo,Cn=!0;break e}E=E.return}if(Et===null)throw Error(r(160));fd(d,y,h),Et=null,Cn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){Ge(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)pd(n,e),n=n.sibling}function pd(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(n,e),$n(e),u&4){try{No(3,e,e.return),ea(3,e)}catch(re){Ge(e,e.return,re)}try{No(5,e,e.return)}catch(re){Ge(e,e.return,re)}}break;case 1:kn(n,e),$n(e),u&512&&s!==null&&Ss(s,s.return);break;case 5:if(kn(n,e),$n(e),u&512&&s!==null&&Ss(s,s.return),e.flags&32){var h=e.stateNode;try{gr(h,"")}catch(re){Ge(e,e.return,re)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,y=s!==null?s.memoizedProps:d,E=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{E==="input"&&d.type==="radio"&&d.name!=null&&zs(h,d),Ks(E,y);var F=Ks(E,d);for(y=0;y<A.length;y+=2){var H=A[y],q=A[y+1];H==="style"?Ws(h,q):H==="dangerouslySetInnerHTML"?Hs(h,q):H==="children"?gr(h,q):pe(h,H,q,F)}switch(E){case"input":js(h,d);break;case"textarea":zi(h,d);break;case"select":var b=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Z=d.value;Z!=null?Kn(h,!!d.multiple,Z,!1):b!==!!d.multiple&&(d.defaultValue!=null?Kn(h,!!d.multiple,d.defaultValue,!0):Kn(h,!!d.multiple,d.multiple?[]:"",!1))}h[vo]=d}catch(re){Ge(e,e.return,re)}}break;case 6:if(kn(n,e),$n(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(re){Ge(e,e.return,re)}}break;case 3:if(kn(n,e),$n(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(re){Ge(e,e.return,re)}break;case 4:kn(n,e),$n(e);break;case 13:kn(n,e),$n(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(lc=Fe())),u&4&&dd(e);break;case 22:if(H=s!==null&&s.memoizedState!==null,e.mode&1?(Dt=(F=Dt)||H,kn(n,e),Dt=F):kn(n,e),$n(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!H&&e.mode&1)for(te=e,H=e.child;H!==null;){for(q=te=H;te!==null;){switch(b=te,Z=b.child,b.tag){case 0:case 11:case 14:case 15:No(4,b,b.return);break;case 1:Ss(b,b.return);var ne=b.stateNode;if(typeof ne.componentWillUnmount=="function"){u=b,s=b.return;try{n=u,ne.props=n.memoizedProps,ne.state=n.memoizedState,ne.componentWillUnmount()}catch(re){Ge(u,s,re)}}break;case 5:Ss(b,b.return);break;case 22:if(b.memoizedState!==null){yd(q);continue}}Z!==null?(Z.return=b,te=Z):yd(q)}H=H.sibling}e:for(H=null,q=e;;){if(q.tag===5){if(H===null){H=q;try{h=q.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(E=q.stateNode,A=q.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,E.style.display=qs("display",y))}catch(re){Ge(e,e.return,re)}}}else if(q.tag===6){if(H===null)try{q.stateNode.nodeValue=F?"":q.memoizedProps}catch(re){Ge(e,e.return,re)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;H===q&&(H=null),q=q.return}H===q&&(H=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:kn(n,e),$n(e),u&4&&dd(e);break;case 21:break;default:kn(n,e),$n(e)}}function $n(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(cd(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var d=hd(e);ic(e,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,E=hd(e);rc(e,E,y);break;default:throw Error(r(161))}}catch(A){Ge(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jg(e,n,s){te=e,md(e)}function md(e,n,s){for(var u=(e.mode&1)!==0;te!==null;){var h=te,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Zl;if(!y){var E=h.alternate,A=E!==null&&E.memoizedState!==null||Dt;E=Zl;var F=Dt;if(Zl=y,(Dt=A)&&!F)for(te=h;te!==null;)y=te,A=y.child,y.tag===22&&y.memoizedState!==null?_d(h):A!==null?(A.return=y,te=A):_d(h);for(;d!==null;)te=d,md(d),d=d.sibling;te=h,Zl=E,Dt=F}gd(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,te=d):gd(e)}}function gd(e){for(;te!==null;){var n=te;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Dt||ea(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Dt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Rn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&yf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}yf(n,y,s)}break;case 5:var E=n.stateNode;if(s===null&&n.flags&4){s=E;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&s.focus();break;case"img":A.src&&(s.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var q=H.dehydrated;q!==null&&Tn(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dt||n.flags&512&&nc(n)}catch(b){Ge(n,n.return,b)}}if(n===e){te=null;break}if(s=n.sibling,s!==null){s.return=n.return,te=s;break}te=n.return}}function yd(e){for(;te!==null;){var n=te;if(n===e){te=null;break}var s=n.sibling;if(s!==null){s.return=n.return,te=s;break}te=n.return}}function _d(e){for(;te!==null;){var n=te;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ea(4,n)}catch(A){Ge(n,s,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){Ge(n,h,A)}}var d=n.return;try{nc(n)}catch(A){Ge(n,d,A)}break;case 5:var y=n.return;try{nc(n)}catch(A){Ge(n,y,A)}}}catch(A){Ge(n,n.return,A)}if(n===e){te=null;break}var E=n.sibling;if(E!==null){E.return=n.return,te=E;break}te=n.return}}var Zg=Math.ceil,ta=ce.ReactCurrentDispatcher,sc=ce.ReactCurrentOwner,dn=ce.ReactCurrentBatchConfig,Ce=0,dt=null,rt=null,wt=0,nn=0,As=kr(0),ut=0,Do=null,_i=0,na=0,oc=0,xo=null,qt=null,lc=0,Rs=1/0,cr=null,ra=!1,ac=null,Or=null,ia=!1,Lr=null,sa=0,Vo=0,uc=null,oa=-1,la=0;function Ut(){return Ce&6?Fe():oa!==-1?oa:oa=Fe()}function Mr(e){return e.mode&1?Ce&2&&wt!==0?wt&-wt:Mg.transition!==null?(la===0&&(la=oi()),la):(e=we,e!==0||(e=window.event,e=e===void 0?16:oo(e.type)),e):1}function Pn(e,n,s,u){if(50<Vo)throw Vo=0,uc=null,Error(r(185));Er(e,s,u),(!(Ce&2)||e!==dt)&&(e===dt&&(!(Ce&2)&&(na|=s),ut===4&&Fr(e,wt)),Wt(e,u),s===1&&Ce===0&&!(n.mode&1)&&(Rs=Fe()+500,Ll&&Nr()))}function Wt(e,n){var s=e.callbackNode;Jn(e,n);var u=si(e,e===dt?wt:0);if(u===0)s!==null&&to(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&to(s),n===1)e.tag===0?Lg(Ed.bind(null,e)):sf(Ed.bind(null,e)),Dg(function(){!(Ce&6)&&Nr()}),s=null;else{switch(Tr(u)){case 1:s=ri;break;case 4:s=yr;break;case 16:s=on;break;case 536870912:s=ll;break;default:s=on}s=kd(s,vd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function vd(e,n){if(oa=-1,la=0,Ce&6)throw Error(r(327));var s=e.callbackNode;if(Cs()&&e.callbackNode!==s)return null;var u=si(e,e===dt?wt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=aa(e,u);else{n=u;var h=Ce;Ce|=2;var d=Td();(dt!==e||wt!==n)&&(cr=null,Rs=Fe()+500,Ei(e,n));do try{ny();break}catch(E){wd(e,E)}while(!0);Cu(),ta.current=d,Ce=h,rt!==null?n=0:(dt=null,wt=0,n=ut)}if(n!==0){if(n===2&&(h=Yt(e),h!==0&&(u=h,n=cc(e,h))),n===1)throw s=Do,Ei(e,0),Fr(e,u),Wt(e,Fe()),s;if(n===6)Fr(e,u);else{if(h=e.current.alternate,!(u&30)&&!ey(h)&&(n=aa(e,u),n===2&&(d=Yt(e),d!==0&&(u=d,n=cc(e,d))),n===1))throw s=Do,Ei(e,0),Fr(e,u),Wt(e,Fe()),s;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:wi(e,qt,cr);break;case 3:if(Fr(e,u),(u&130023424)===u&&(n=lc+500-Fe(),10<n)){if(si(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Ut(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=gu(wi.bind(null,e,qt,cr),n);break}wi(e,qt,cr);break;case 4:if(Fr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-Lt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Zg(u/1960))-u,10<u){e.timeoutHandle=gu(wi.bind(null,e,qt,cr),u);break}wi(e,qt,cr);break;case 5:wi(e,qt,cr);break;default:throw Error(r(329))}}}return Wt(e,Fe()),e.callbackNode===s?vd.bind(null,e):null}function cc(e,n){var s=xo;return e.current.memoizedState.isDehydrated&&(Ei(e,n).flags|=256),e=aa(e,n),e!==2&&(n=qt,qt=s,n!==null&&hc(n)),e}function hc(e){qt===null?qt=e:qt.push.apply(qt,e)}function ey(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(e,n){for(n&=~oc,n&=~na,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Lt(n),u=1<<s;e[s]=-1,n&=~u}}function Ed(e){if(Ce&6)throw Error(r(327));Cs();var n=si(e,0);if(!(n&1))return Wt(e,Fe()),null;var s=aa(e,n);if(e.tag!==0&&s===2){var u=Yt(e);u!==0&&(n=u,s=cc(e,u))}if(s===1)throw s=Do,Ei(e,0),Fr(e,n),Wt(e,Fe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wi(e,qt,cr),Wt(e,Fe()),null}function fc(e,n){var s=Ce;Ce|=1;try{return e(n)}finally{Ce=s,Ce===0&&(Rs=Fe()+500,Ll&&Nr())}}function vi(e){Lr!==null&&Lr.tag===0&&!(Ce&6)&&Cs();var n=Ce;Ce|=1;var s=dn.transition,u=we;try{if(dn.transition=null,we=1,e)return e()}finally{we=u,dn.transition=s,Ce=n,!(Ce&6)&&Nr()}}function dc(){nn=As.current,je(As)}function Ei(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ng(s)),rt!==null)for(s=rt.return;s!==null;){var u=s;switch(Tu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Vl();break;case 3:Ts(),je(bt),je(kt),Lu();break;case 5:Vu(u);break;case 4:Ts();break;case 13:je(We);break;case 19:je(We);break;case 10:ku(u.type._context);break;case 22:case 23:dc()}s=s.return}if(dt=e,rt=e=Ur(e.current,null),wt=nn=n,ut=0,Do=null,oc=na=_i=0,qt=xo=null,mi!==null){for(n=0;n<mi.length;n++)if(s=mi[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,d=s.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}s.pending=u}mi=null}return e}function wd(e,n){do{var s=rt;try{if(Cu(),ql.current=Kl,Wl){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Wl=!1}if(yi=0,ft=at=Qe=null,Ao=!1,Ro=0,sc.current=null,s===null||s.return===null){ut=1,Do=n,rt=null;break}e:{var d=e,y=s.return,E=s,A=n;if(n=wt,E.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,H=E,q=H.tag;if(!(H.mode&1)&&(q===0||q===11||q===15)){var b=H.alternate;b?(H.updateQueue=b.updateQueue,H.memoizedState=b.memoizedState,H.lanes=b.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Wf(y);if(Z!==null){Z.flags&=-257,Qf(Z,y,E,d,n),Z.mode&1&&qf(d,F,n),n=Z,A=F;var ne=n.updateQueue;if(ne===null){var re=new Set;re.add(A),n.updateQueue=re}else ne.add(A);break e}else{if(!(n&1)){qf(d,F,n),pc();break e}A=Error(r(426))}}else if(He&&E.mode&1){var tt=Wf(y);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Qf(tt,y,E,d,n),Au(Is(A,E));break e}}d=A=Is(A,E),ut!==4&&(ut=2),xo===null?xo=[d]:xo.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var O=$f(d,A,n);gf(d,O);break e;case 1:E=A;var R=d.type,M=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Or===null||!Or.has(M)))){d.flags|=65536,n&=-n,d.lanes|=n;var G=Hf(d,E,n);gf(d,G);break e}}d=d.return}while(d!==null)}Sd(s)}catch(se){n=se,rt===s&&s!==null&&(rt=s=s.return);continue}break}while(!0)}function Td(){var e=ta.current;return ta.current=Kl,e===null?Kl:e}function pc(){(ut===0||ut===3||ut===2)&&(ut=4),dt===null||!(_i&268435455)&&!(na&268435455)||Fr(dt,wt)}function aa(e,n){var s=Ce;Ce|=2;var u=Td();(dt!==e||wt!==n)&&(cr=null,Ei(e,n));do try{ty();break}catch(h){wd(e,h)}while(!0);if(Cu(),Ce=s,ta.current=u,rt!==null)throw Error(r(261));return dt=null,wt=0,ut}function ty(){for(;rt!==null;)Id(rt)}function ny(){for(;rt!==null&&!sl();)Id(rt)}function Id(e){var n=Cd(e.alternate,e,nn);e.memoizedProps=e.pendingProps,n===null?Sd(e):rt=n,sc.current=null}function Sd(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Kg(s,n),s!==null){s.flags&=32767,rt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(s=Gg(s,n,nn),s!==null){rt=s;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);ut===0&&(ut=5)}function wi(e,n,s){var u=we,h=dn.transition;try{dn.transition=null,we=1,ry(e,n,s,u)}finally{dn.transition=h,we=u}return null}function ry(e,n,s,u){do Cs();while(Lr!==null);if(Ce&6)throw Error(r(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Le(e,d),e===dt&&(rt=dt=null,wt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ia||(ia=!0,kd(on,function(){return Cs(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=dn.transition,dn.transition=null;var y=we;we=1;var E=Ce;Ce|=4,sc.current=null,Yg(e,s),pd(s,e),Ig(pu),Sr=!!du,pu=du=null,e.current=s,Jg(s),Ya(),Ce=E,we=y,dn.transition=d}else e.current=s;if(ia&&(ia=!1,Lr=e,sa=h),d=e.pendingLanes,d===0&&(Or=null),al(s.stateNode),Wt(e,Fe()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(ra)throw ra=!1,e=ac,ac=null,e;return sa&1&&e.tag!==0&&Cs(),d=e.pendingLanes,d&1?e===uc?Vo++:(Vo=0,uc=e):Vo=0,Nr(),null}function Cs(){if(Lr!==null){var e=Tr(sa),n=dn.transition,s=we;try{if(dn.transition=null,we=16>e?16:e,Lr===null)var u=!1;else{if(e=Lr,Lr=null,sa=0,Ce&6)throw Error(r(331));var h=Ce;for(Ce|=4,te=e.current;te!==null;){var d=te,y=d.child;if(te.flags&16){var E=d.deletions;if(E!==null){for(var A=0;A<E.length;A++){var F=E[A];for(te=F;te!==null;){var H=te;switch(H.tag){case 0:case 11:case 15:No(8,H,d)}var q=H.child;if(q!==null)q.return=H,te=q;else for(;te!==null;){H=te;var b=H.sibling,Z=H.return;if(ud(H),H===F){te=null;break}if(b!==null){b.return=Z,te=b;break}te=Z}}}var ne=d.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var tt=re.sibling;re.sibling=null,re=tt}while(re!==null)}}te=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,te=y;else e:for(;te!==null;){if(d=te,d.flags&2048)switch(d.tag){case 0:case 11:case 15:No(9,d,d.return)}var O=d.sibling;if(O!==null){O.return=d.return,te=O;break e}te=d.return}}var R=e.current;for(te=R;te!==null;){y=te;var M=y.child;if(y.subtreeFlags&2064&&M!==null)M.return=y,te=M;else e:for(y=R;te!==null;){if(E=te,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:ea(9,E)}}catch(se){Ge(E,E.return,se)}if(E===y){te=null;break e}var G=E.sibling;if(G!==null){G.return=E.return,te=G;break e}te=E.return}}if(Ce=h,Nr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ii,e)}catch{}u=!0}return u}finally{we=s,dn.transition=n}}return!1}function Ad(e,n,s){n=Is(s,n),n=$f(e,n,1),e=xr(e,n,1),n=Ut(),e!==null&&(Er(e,1,n),Wt(e,n))}function Ge(e,n,s){if(e.tag===3)Ad(e,e,s);else for(;n!==null;){if(n.tag===3){Ad(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){e=Is(s,e),e=Hf(n,e,1),n=xr(n,e,1),e=Ut(),n!==null&&(Er(n,1,e),Wt(n,e));break}}n=n.return}}function iy(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=Ut(),e.pingedLanes|=e.suspendedLanes&s,dt===e&&(wt&s)===s&&(ut===4||ut===3&&(wt&130023424)===wt&&500>Fe()-lc?Ei(e,0):oc|=s),Wt(e,n)}function Rd(e,n){n===0&&(e.mode&1?(n=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):n=1);var s=Ut();e=lr(e,n),e!==null&&(Er(e,n,s),Wt(e,s))}function sy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Rd(e,s)}function oy(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Rd(e,s)}var Cd;Cd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||bt.current)Ht=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Ht=!1,Qg(e,n,s);Ht=!!(e.flags&131072)}else Ht=!1,He&&n.flags&1048576&&of(n,Fl,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Jl(e,n),e=n.pendingProps;var h=ms(n,kt.current);ws(n,s),h=Uu(null,n,u,e,h,s);var d=Bu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(u)?(d=!0,Ol(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Du(n),h.updater=Xl,n.stateNode=h,h._reactInternals=n,qu(n,u,e,s),n=Ku(null,n,u,!0,d,s)):(n.tag=0,He&&d&&wu(n),Ft(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(Jl(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=ay(u),e=Rn(u,e),h){case 0:n=Gu(null,n,u,e,s);break e;case 1:n=Zf(null,n,u,e,s);break e;case 11:n=Gf(null,n,u,e,s);break e;case 14:n=Kf(null,n,u,Rn(u.type,e),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Gu(e,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Zf(e,n,u,h,s);case 3:e:{if(ed(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,mf(e,n),$l(n,u,null,s);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=Is(Error(r(423)),n),n=td(e,n,u,s,h);break e}else if(u!==h){h=Is(Error(r(424)),n),n=td(e,n,u,s,h);break e}else for(tn=Cr(n.stateNode.containerInfo.firstChild),en=n,He=!0,An=null,s=df(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_s(),u===h){n=ur(e,n,s);break e}Ft(e,n,u,s)}n=n.child}return n;case 5:return _f(n),e===null&&Su(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,y=h.children,mu(u,h)?y=null:d!==null&&mu(u,d)&&(n.flags|=32),Jf(e,n),Ft(e,n,y,s),n.child;case 6:return e===null&&Su(n),null;case 13:return nd(e,n,s);case 4:return xu(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=vs(n,null,u,s):Ft(e,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Gf(e,n,u,h,s);case 7:return Ft(e,n,n.pendingProps,s),n.child;case 8:return Ft(e,n,n.pendingProps.children,s),n.child;case 12:return Ft(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Ue(zl,u._currentValue),u._currentValue=y,d!==null)if(Sn(d.value,y)){if(d.children===h.children&&!bt.current){n=ur(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var E=d.dependencies;if(E!==null){y=d.child;for(var A=E.firstContext;A!==null;){if(A.context===u){if(d.tag===1){A=ar(-1,s&-s),A.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?A.next=A:(A.next=H.next,H.next=A),F.pending=A}}d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),Pu(d.return,s,n),E.lanes|=s;break}A=A.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=s,E=y.alternate,E!==null&&(E.lanes|=s),Pu(y,s,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ft(e,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,ws(n,s),h=hn(h),u=u(h),n.flags|=1,Ft(e,n,u,s),n.child;case 14:return u=n.type,h=Rn(u,n.pendingProps),h=Rn(u.type,h),Kf(e,n,u,h,s);case 15:return Xf(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Jl(e,n),n.tag=1,$t(u)?(e=!0,Ol(n)):e=!1,ws(n,s),jf(n,u,h),qu(n,u,h,s),Ku(null,n,u,!0,e,s);case 19:return id(e,n,s);case 22:return Yf(e,n,s)}throw Error(r(156,n.tag))};function kd(e,n){return Gi(e,n)}function ly(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,u){return new ly(e,n,s,u)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ay(e){if(typeof e=="function")return mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x)return 11;if(e===Rt)return 14}return 2}function Ur(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ua(e,n,s,u,h,d){var y=2;if(u=e,typeof e=="function")mc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return Ti(s.children,h,d,n);case T:y=8,h|=8;break;case S:return e=pn(12,s,n,h|2),e.elementType=S,e.lanes=d,e;case I:return e=pn(13,s,n,h),e.elementType=I,e.lanes=d,e;case Ze:return e=pn(19,s,n,h),e.elementType=Ze,e.lanes=d,e;case Ve:return ca(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case P:y=9;break e;case x:y=11;break e;case Rt:y=14;break e;case Ct:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=pn(y,s,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function Ti(e,n,s,u){return e=pn(7,e,u,n),e.lanes=s,e}function ca(e,n,s,u){return e=pn(22,e,u,n),e.elementType=Ve,e.lanes=s,e.stateNode={isHidden:!1},e}function gc(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function yc(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function uy(e,n,s,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function _c(e,n,s,u,h,d,y,E,A){return e=new uy(e,n,s,E,A),n===1?(n=1,d===!0&&(n|=8)):n=0,d=pn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(d),e}function cy(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function Pd(e){if(!e)return Pr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if($t(s))return nf(e,s,n)}return n}function Nd(e,n,s,u,h,d,y,E,A){return e=_c(s,u,!0,e,h,d,y,E,A),e.context=Pd(null),s=e.current,u=Ut(),h=Mr(s),d=ar(u,h),d.callback=n??null,xr(s,d,h),e.current.lanes=h,Er(e,h,u),Wt(e,u),e}function ha(e,n,s,u){var h=n.current,d=Ut(),y=Mr(h);return s=Pd(s),n.context===null?n.context=s:n.pendingContext=s,n=ar(d,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=xr(h,n,y),e!==null&&(Pn(e,h,y,d),bl(e,h,y)),y}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vc(e,n){Dd(e,n),(e=e.alternate)&&Dd(e,n)}function hy(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ec(e){this._internalRoot=e}da.prototype.render=Ec.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ha(e,n,null,null)},da.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;vi(function(){ha(null,e,null,null)}),n[rr]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var n=dl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mn.length&&n!==0&&n<Mn[s].priority;s++);Mn.splice(s,0,e),s===0&&gl(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vd(){}function fy(e,n,s,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=fa(y);d.call(F)}}var y=Nd(n,u,e,0,null,!1,!1,"",Vd);return e._reactRootContainer=y,e[rr]=y.current,yo(e.nodeType===8?e.parentNode:e),vi(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var E=u;u=function(){var F=fa(A);E.call(F)}}var A=_c(e,0,!1,null,null,!1,!1,"",Vd);return e._reactRootContainer=A,e[rr]=A.current,yo(e.nodeType===8?e.parentNode:e),vi(function(){ha(n,A,s,u)}),A}function ma(e,n,s,u,h){var d=s._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var E=h;h=function(){var A=fa(y);E.call(A)}}ha(n,y,e,h)}else y=fy(s,n,e,h,u);return fa(y)}hl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=_r(n.pendingLanes);s!==0&&(wr(n,s|1),Wt(n,Fe()),!(Ce&6)&&(Rs=Fe()+500,Nr()))}break;case 13:vi(function(){var u=lr(e,1);if(u!==null){var h=Ut();Pn(u,e,1,h)}}),vc(e,1)}},Yi=function(e){if(e.tag===13){var n=lr(e,134217728);if(n!==null){var s=Ut();Pn(n,e,134217728,s)}vc(e,134217728)}},fl=function(e){if(e.tag===13){var n=Mr(e),s=lr(e,n);if(s!==null){var u=Ut();Pn(s,e,n,u)}vc(e,n)}},dl=function(){return we},pl=function(e,n){var s=we;try{return we=e,n()}finally{we=s}},bi=function(e,n,s){switch(n){case"input":if(js(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var h=xl(u);if(!h)throw Error(r(90));Mi(u),js(u,h)}}}break;case"textarea":zi(e,s);break;case"select":n=s.value,n!=null&&Kn(e,!!s.multiple,n,!1)}},Zr=fc,Ys=vi;var dy={usingClientEntryPoint:!1,Events:[Eo,ds,xl,On,Xs,fc]},Oo={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},py={bundleType:Oo.bundleType,version:Oo.version,rendererPackageName:Oo.rendererPackageName,rendererConfig:Oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eo(e),e===null?null:e.stateNode},findFiberByHostInstance:Oo.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{ii=ga.inject(py),Xt=ga}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy,Qt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(n))throw Error(r(200));return cy(e,n,null,s)},Qt.createRoot=function(e,n){if(!wc(e))throw Error(r(299));var s=!1,u="",h=xd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=_c(e,1,!1,null,null,s,!1,u,h),e[rr]=n.current,yo(e.nodeType===8?e.parentNode:e),new Ec(n)},Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=eo(n),e=e===null?null:e.stateNode,e},Qt.flushSync=function(e){return vi(e)},Qt.hydrate=function(e,n,s){if(!pa(n))throw Error(r(200));return ma(null,e,n,!0,s)},Qt.hydrateRoot=function(e,n,s){if(!wc(e))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,d="",y=xd;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=Nd(n,null,e,1,s??null,h,!1,d,y),e[rr]=n.current,yo(e),u)for(e=0;e<u.length;e++)s=u[e],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new da(n)},Qt.render=function(e,n,s){if(!pa(n))throw Error(r(200));return ma(null,e,n,!1,s)},Qt.unmountComponentAtNode=function(e){if(!pa(e))throw Error(r(40));return e._reactRootContainer?(vi(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1},Qt.unstable_batchedUpdates=fc,Qt.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!pa(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ma(e,n,s,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var jd;function Ty(){if(jd)return Sc.exports;jd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Sc.exports=wy(),Sc.exports}var bd;function Iy(){if(bd)return ya;bd=1;var i=Ty();return ya.createRoot=i.createRoot,ya.hydrateRoot=i.hydrateRoot,ya}var Sy=Iy(),$d={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Ay=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],p=i[r++],g=i[r++],_=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(_>>10)),t[o++]=String.fromCharCode(56320+(_&1023))}else{const c=i[r++],p=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Mp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],p=a+1<i.length,g=p?i[a+1]:0,_=a+2<i.length,w=_?i[a+2]:0,N=c>>2,L=(c&3)<<4|g>>4;let B=(g&15)<<2|w>>6,K=w&63;_||(K=64,p||(B=64)),o.push(r[N],r[L],r[B],r[K])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Lp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Ay(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],g=a<i.length?r[i.charAt(a)]:0;++a;const w=a<i.length?r[i.charAt(a)]:64;++a;const L=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||g==null||w==null||L==null)throw new Ry;const B=c<<2|g>>4;if(o.push(B),w!==64){const K=g<<4&240|w>>2;if(o.push(K),L!==64){const Y=w<<6&192|L;o.push(Y)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cy=function(i){const t=Lp(i);return Mp.encodeByteArray(t,!0)},Pa=function(i){return Cy(i).replace(/\./g,"")},ky=function(i){try{return Mp.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=()=>Py().__FIREBASE_DEFAULTS__,Dy=()=>{if(typeof process>"u"||typeof $d>"u")return;const i=$d.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xy=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ky(i[1]);return t&&JSON.parse(t)},Zc=()=>{try{return Ny()||Dy()||xy()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Vy=i=>{var t,r;return(r=(t=Zc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Fp=i=>{const t=Vy(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Up=()=>{var i;return(i=Zc())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Pa(JSON.stringify(r)),Pa(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function My(){var i;const t=(i=Zc())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fy(){return!My()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uy(){try{return typeof indexedDB=="object"}catch{return!1}}function By(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="FirebaseError";class Vi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=zy,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zp.prototype.create)}}class zp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?jy(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new Vi(a,g,o)}}function jy(i,t){return i.replace(by,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const by=/\{\$([^}]+)}/g;function Mc(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],p=t[a];if(Hd(c)&&Hd(p)){if(!Mc(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function Hd(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(i){return i&&i._delegate?i._delegate:i}class xs{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Oy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qy(t))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Ii){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ii){return this.instances.has(t)}getOptions(t=Ii){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&t(p,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Hy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Ii){return this.component?this.component.multipleInstances?t:Ii:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hy(i){return i===Ii?void 0:i}function qy(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new $y(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Re||(Re={}));const Qy={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Gy=Re.INFO,Ky={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Xy=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=Ky[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=Gy,this._logHandler=Xy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const Yy=(i,t)=>t.some(r=>i instanceof r);let qd,Wd;function Jy(){return qd||(qd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zy(){return Wd||(Wd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bp=new WeakMap,Fc=new WeakMap,$p=new WeakMap,Cc=new WeakMap,eh=new WeakMap;function e_(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(br(i.result)),a()},p=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&bp.set(r,i)}).catch(()=>{}),eh.set(t,i),t}function t_(i){if(Fc.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Fc.set(i,t)}let Uc={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Fc.get(i);if(t==="objectStoreNames")return i.objectStoreNames||$p.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return br(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function n_(i){Uc=i(Uc)}function r_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(kc(this),t,...r);return $p.set(o,t.sort?t.sort():[t]),br(o)}:Zy().includes(i)?function(...t){return i.apply(kc(this),t),br(bp.get(this))}:function(...t){return br(i.apply(kc(this),t))}}function i_(i){return typeof i=="function"?r_(i):(i instanceof IDBTransaction&&t_(i),Yy(i,Jy())?new Proxy(i,Uc):i)}function br(i){if(i instanceof IDBRequest)return e_(i);if(Cc.has(i))return Cc.get(i);const t=i_(i);return t!==i&&(Cc.set(i,t),eh.set(t,i)),t}const kc=i=>eh.get(i);function s_(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(i,t),g=br(p);return o&&p.addEventListener("upgradeneeded",_=>{o(br(p.result),_.oldVersion,_.newVersion,br(p.transaction),_)}),r&&p.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",w=>a(w.oldVersion,w.newVersion,w))}).catch(()=>{}),g}const o_=["get","getKey","getAll","getAllKeys","count"],l_=["put","add","delete","clear"],Pc=new Map;function Qd(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Pc.get(t))return Pc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=l_.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||o_.includes(r)))return;const c=async function(p,...g){const _=this.transaction(p,a?"readwrite":"readonly");let w=_.store;return o&&(w=w.index(g.shift())),(await Promise.all([w[r](...g),a&&_.done]))[0]};return Pc.set(t,c),c}n_(i=>({...i,get:(t,r,o)=>Qd(t,r)||i.get(t,r,o),has:(t,r)=>!!Qd(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(u_(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function u_(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bc="@firebase/app",Gd="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new jp("@firebase/app"),c_="@firebase/app-compat",h_="@firebase/analytics-compat",f_="@firebase/analytics",d_="@firebase/app-check-compat",p_="@firebase/app-check",m_="@firebase/auth",g_="@firebase/auth-compat",y_="@firebase/database",__="@firebase/data-connect",v_="@firebase/database-compat",E_="@firebase/functions",w_="@firebase/functions-compat",T_="@firebase/installations",I_="@firebase/installations-compat",S_="@firebase/messaging",A_="@firebase/messaging-compat",R_="@firebase/performance",C_="@firebase/performance-compat",k_="@firebase/remote-config",P_="@firebase/remote-config-compat",N_="@firebase/storage",D_="@firebase/storage-compat",x_="@firebase/firestore",V_="@firebase/vertexai",O_="@firebase/firestore-compat",L_="firebase",M_="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",F_={[Bc]:"fire-core",[c_]:"fire-core-compat",[f_]:"fire-analytics",[h_]:"fire-analytics-compat",[p_]:"fire-app-check",[d_]:"fire-app-check-compat",[m_]:"fire-auth",[g_]:"fire-auth-compat",[y_]:"fire-rtdb",[__]:"fire-data-connect",[v_]:"fire-rtdb-compat",[E_]:"fire-fn",[w_]:"fire-fn-compat",[T_]:"fire-iid",[I_]:"fire-iid-compat",[S_]:"fire-fcm",[A_]:"fire-fcm-compat",[R_]:"fire-perf",[C_]:"fire-perf-compat",[k_]:"fire-rc",[P_]:"fire-rc-compat",[N_]:"fire-gcs",[D_]:"fire-gcs-compat",[x_]:"fire-fst",[O_]:"fire-fst-compat",[V_]:"fire-vertex","fire-js":"fire-js",[L_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,U_=new Map,jc=new Map;function Kd(i,t){try{i.container.addComponent(t)}catch(r){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ho(i){const t=i.name;if(jc.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;jc.set(t,i);for(const r of Na.values())Kd(r,i);for(const r of U_.values())Kd(r,i);return!0}function Hp(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new zp("app","Firebase",B_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=M_;function Wp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:zc,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw $r.create("bad-app-name",{appName:String(a)});if(r||(r=Up()),!r)throw $r.create("no-options");const c=Na.get(a);if(c){if(Mc(r,c.options)&&Mc(o,c.config))return c;throw $r.create("duplicate-app",{appName:a})}const p=new Wy(a);for(const _ of jc.values())p.addComponent(_);const g=new z_(r,o,p);return Na.set(a,g),g}function Qp(i=zc){const t=Na.get(i);if(!t&&i===zc&&Up())return Wp();if(!t)throw $r.create("no-app",{appName:i});return t}function Hr(i,t,r){var o;let a=(o=F_[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${a}" with version "${t}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(g.join(" "));return}Ho(new xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="firebase-heartbeat-database",b_=1,qo="firebase-heartbeat-store";let Nc=null;function Gp(){return Nc||(Nc=s_(j_,b_,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(qo)}catch(r){console.warn(r)}}}}).catch(i=>{throw $r.create("idb-open",{originalErrorMessage:i.message})})),Nc}async function $_(i){try{const r=(await Gp()).transaction(qo),o=await r.objectStore(qo).get(Kp(i));return await r.done,o}catch(t){if(t instanceof Vi)pr.warn(t.message);else{const r=$r.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pr.warn(r.message)}}}async function Xd(i,t){try{const o=(await Gp()).transaction(qo,"readwrite");await o.objectStore(qo).put(t,Kp(i)),await o.done}catch(r){if(r instanceof Vi)pr.warn(r.message);else{const o=$r.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pr.warn(o.message)}}}function Kp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=1024,q_=30*24*60*60*1e3;class W_{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new G_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=q_}),this._storage.overwrite(this._heartbeatsCache))}catch(o){pr.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Yd(),{heartbeatsToSend:o,unsentEntries:a}=Q_(this._heartbeatsCache.heartbeats),c=Pa(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return pr.warn(r),""}}}function Yd(){return new Date().toISOString().substring(0,10)}function Q_(i,t=H_){const r=[];let o=i.slice();for(const a of i){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),Jd(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Jd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class G_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uy()?By().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Jd(i){return Pa(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(i){Ho(new xs("platform-logger",t=>new a_(t),"PRIVATE")),Ho(new xs("heartbeat",t=>new W_(t),"PRIVATE")),Hr(Bc,Gd,i),Hr(Bc,Gd,"esm2017"),Hr("fire-js","")}K_("");var X_="firebase",Y_="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(X_,Y_,"app");var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xp;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function S(){}S.prototype=T.prototype,k.D=T.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(C,P,x){for(var I=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)I[Ze-2]=arguments[Ze];return T.prototype[P].apply(C,I)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,S){S||(S=0);var C=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)C[P]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(P=0;16>P;++P)C[P]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=k.g[0],S=k.g[1],P=k.g[2];var x=k.g[3],I=T+(x^S&(P^x))+C[0]+3614090360&4294967295;T=S+(I<<7&4294967295|I>>>25),I=x+(P^T&(S^P))+C[1]+3905402710&4294967295,x=T+(I<<12&4294967295|I>>>20),I=P+(S^x&(T^S))+C[2]+606105819&4294967295,P=x+(I<<17&4294967295|I>>>15),I=S+(T^P&(x^T))+C[3]+3250441966&4294967295,S=P+(I<<22&4294967295|I>>>10),I=T+(x^S&(P^x))+C[4]+4118548399&4294967295,T=S+(I<<7&4294967295|I>>>25),I=x+(P^T&(S^P))+C[5]+1200080426&4294967295,x=T+(I<<12&4294967295|I>>>20),I=P+(S^x&(T^S))+C[6]+2821735955&4294967295,P=x+(I<<17&4294967295|I>>>15),I=S+(T^P&(x^T))+C[7]+4249261313&4294967295,S=P+(I<<22&4294967295|I>>>10),I=T+(x^S&(P^x))+C[8]+1770035416&4294967295,T=S+(I<<7&4294967295|I>>>25),I=x+(P^T&(S^P))+C[9]+2336552879&4294967295,x=T+(I<<12&4294967295|I>>>20),I=P+(S^x&(T^S))+C[10]+4294925233&4294967295,P=x+(I<<17&4294967295|I>>>15),I=S+(T^P&(x^T))+C[11]+2304563134&4294967295,S=P+(I<<22&4294967295|I>>>10),I=T+(x^S&(P^x))+C[12]+1804603682&4294967295,T=S+(I<<7&4294967295|I>>>25),I=x+(P^T&(S^P))+C[13]+4254626195&4294967295,x=T+(I<<12&4294967295|I>>>20),I=P+(S^x&(T^S))+C[14]+2792965006&4294967295,P=x+(I<<17&4294967295|I>>>15),I=S+(T^P&(x^T))+C[15]+1236535329&4294967295,S=P+(I<<22&4294967295|I>>>10),I=T+(P^x&(S^P))+C[1]+4129170786&4294967295,T=S+(I<<5&4294967295|I>>>27),I=x+(S^P&(T^S))+C[6]+3225465664&4294967295,x=T+(I<<9&4294967295|I>>>23),I=P+(T^S&(x^T))+C[11]+643717713&4294967295,P=x+(I<<14&4294967295|I>>>18),I=S+(x^T&(P^x))+C[0]+3921069994&4294967295,S=P+(I<<20&4294967295|I>>>12),I=T+(P^x&(S^P))+C[5]+3593408605&4294967295,T=S+(I<<5&4294967295|I>>>27),I=x+(S^P&(T^S))+C[10]+38016083&4294967295,x=T+(I<<9&4294967295|I>>>23),I=P+(T^S&(x^T))+C[15]+3634488961&4294967295,P=x+(I<<14&4294967295|I>>>18),I=S+(x^T&(P^x))+C[4]+3889429448&4294967295,S=P+(I<<20&4294967295|I>>>12),I=T+(P^x&(S^P))+C[9]+568446438&4294967295,T=S+(I<<5&4294967295|I>>>27),I=x+(S^P&(T^S))+C[14]+3275163606&4294967295,x=T+(I<<9&4294967295|I>>>23),I=P+(T^S&(x^T))+C[3]+4107603335&4294967295,P=x+(I<<14&4294967295|I>>>18),I=S+(x^T&(P^x))+C[8]+1163531501&4294967295,S=P+(I<<20&4294967295|I>>>12),I=T+(P^x&(S^P))+C[13]+2850285829&4294967295,T=S+(I<<5&4294967295|I>>>27),I=x+(S^P&(T^S))+C[2]+4243563512&4294967295,x=T+(I<<9&4294967295|I>>>23),I=P+(T^S&(x^T))+C[7]+1735328473&4294967295,P=x+(I<<14&4294967295|I>>>18),I=S+(x^T&(P^x))+C[12]+2368359562&4294967295,S=P+(I<<20&4294967295|I>>>12),I=T+(S^P^x)+C[5]+4294588738&4294967295,T=S+(I<<4&4294967295|I>>>28),I=x+(T^S^P)+C[8]+2272392833&4294967295,x=T+(I<<11&4294967295|I>>>21),I=P+(x^T^S)+C[11]+1839030562&4294967295,P=x+(I<<16&4294967295|I>>>16),I=S+(P^x^T)+C[14]+4259657740&4294967295,S=P+(I<<23&4294967295|I>>>9),I=T+(S^P^x)+C[1]+2763975236&4294967295,T=S+(I<<4&4294967295|I>>>28),I=x+(T^S^P)+C[4]+1272893353&4294967295,x=T+(I<<11&4294967295|I>>>21),I=P+(x^T^S)+C[7]+4139469664&4294967295,P=x+(I<<16&4294967295|I>>>16),I=S+(P^x^T)+C[10]+3200236656&4294967295,S=P+(I<<23&4294967295|I>>>9),I=T+(S^P^x)+C[13]+681279174&4294967295,T=S+(I<<4&4294967295|I>>>28),I=x+(T^S^P)+C[0]+3936430074&4294967295,x=T+(I<<11&4294967295|I>>>21),I=P+(x^T^S)+C[3]+3572445317&4294967295,P=x+(I<<16&4294967295|I>>>16),I=S+(P^x^T)+C[6]+76029189&4294967295,S=P+(I<<23&4294967295|I>>>9),I=T+(S^P^x)+C[9]+3654602809&4294967295,T=S+(I<<4&4294967295|I>>>28),I=x+(T^S^P)+C[12]+3873151461&4294967295,x=T+(I<<11&4294967295|I>>>21),I=P+(x^T^S)+C[15]+530742520&4294967295,P=x+(I<<16&4294967295|I>>>16),I=S+(P^x^T)+C[2]+3299628645&4294967295,S=P+(I<<23&4294967295|I>>>9),I=T+(P^(S|~x))+C[0]+4096336452&4294967295,T=S+(I<<6&4294967295|I>>>26),I=x+(S^(T|~P))+C[7]+1126891415&4294967295,x=T+(I<<10&4294967295|I>>>22),I=P+(T^(x|~S))+C[14]+2878612391&4294967295,P=x+(I<<15&4294967295|I>>>17),I=S+(x^(P|~T))+C[5]+4237533241&4294967295,S=P+(I<<21&4294967295|I>>>11),I=T+(P^(S|~x))+C[12]+1700485571&4294967295,T=S+(I<<6&4294967295|I>>>26),I=x+(S^(T|~P))+C[3]+2399980690&4294967295,x=T+(I<<10&4294967295|I>>>22),I=P+(T^(x|~S))+C[10]+4293915773&4294967295,P=x+(I<<15&4294967295|I>>>17),I=S+(x^(P|~T))+C[1]+2240044497&4294967295,S=P+(I<<21&4294967295|I>>>11),I=T+(P^(S|~x))+C[8]+1873313359&4294967295,T=S+(I<<6&4294967295|I>>>26),I=x+(S^(T|~P))+C[15]+4264355552&4294967295,x=T+(I<<10&4294967295|I>>>22),I=P+(T^(x|~S))+C[6]+2734768916&4294967295,P=x+(I<<15&4294967295|I>>>17),I=S+(x^(P|~T))+C[13]+1309151649&4294967295,S=P+(I<<21&4294967295|I>>>11),I=T+(P^(S|~x))+C[4]+4149444226&4294967295,T=S+(I<<6&4294967295|I>>>26),I=x+(S^(T|~P))+C[11]+3174756917&4294967295,x=T+(I<<10&4294967295|I>>>22),I=P+(T^(x|~S))+C[2]+718787259&4294967295,P=x+(I<<15&4294967295|I>>>17),I=S+(x^(P|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+x&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var S=T-this.blockSize,C=this.B,P=this.h,x=0;x<T;){if(P==0)for(;x<=S;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(C[P++]=k.charCodeAt(x++),P==this.blockSize){a(this,C),P=0;break}}else for(;x<T;)if(C[P++]=k[x++],P==this.blockSize){a(this,C),P=0;break}}this.h=P,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var S=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=S&255,S/=256;for(this.u(k),k=Array(16),T=S=0;4>T;++T)for(var C=0;32>C;C+=8)k[S++]=this.g[T]>>>C&255;return k};function c(k,T){var S=g;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=T(k)}function p(k,T){this.h=T;for(var S=[],C=!0,P=k.length-1;0<=P;P--){var x=k[P]|0;C&&x==T||(S[P]=x,C=!1)}this.g=S}var g={};function _(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function w(k){if(isNaN(k)||!isFinite(k))return L;if(0>k)return $(w(-k));for(var T=[],S=1,C=0;k>=S;C++)T[C]=k/S|0,S*=4294967296;return new p(T,0)}function N(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return $(N(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=w(Math.pow(T,8)),C=L,P=0;P<k.length;P+=8){var x=Math.min(8,k.length-P),I=parseInt(k.substring(P,P+x),T);8>x?(x=w(Math.pow(T,x)),C=C.j(x).add(w(I))):(C=C.j(S),C=C.add(w(I)))}return C}var L=_(0),B=_(1),K=_(16777216);i=p.prototype,i.m=function(){if(W(this))return-$(this).m();for(var k=0,T=1,S=0;S<this.g.length;S++){var C=this.i(S);k+=(0<=C?C:4294967296+C)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(W(this))return"-"+$(this).toString(k);for(var T=w(Math.pow(k,6)),S=this,C="";;){var P=ce(S,T).g;S=de(S,P.j(T));var x=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=P,Y(S))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function W(k){return k.h==-1}i.l=function(k){return k=de(this,k),W(k)?-1:Y(k)?0:1};function $(k){for(var T=k.g.length,S=[],C=0;C<T;C++)S[C]=~k.g[C];return new p(S,~k.h).add(B)}i.abs=function(){return W(this)?$(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],C=0,P=0;P<=T;P++){var x=C+(this.i(P)&65535)+(k.i(P)&65535),I=(x>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);C=I>>>16,x&=65535,I&=65535,S[P]=I<<16|x}return new p(S,S[S.length-1]&-2147483648?-1:0)};function de(k,T){return k.add($(T))}i.j=function(k){if(Y(this)||Y(k))return L;if(W(this))return W(k)?$(this).j($(k)):$($(this).j(k));if(W(k))return $(this.j($(k)));if(0>this.l(K)&&0>k.l(K))return w(this.m()*k.m());for(var T=this.g.length+k.g.length,S=[],C=0;C<2*T;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<k.g.length;P++){var x=this.i(C)>>>16,I=this.i(C)&65535,Ze=k.i(P)>>>16,Rt=k.i(P)&65535;S[2*C+2*P]+=I*Rt,me(S,2*C+2*P),S[2*C+2*P+1]+=x*Rt,me(S,2*C+2*P+1),S[2*C+2*P+1]+=I*Ze,me(S,2*C+2*P+1),S[2*C+2*P+2]+=x*Ze,me(S,2*C+2*P+2)}for(C=0;C<T;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=T;C<2*T;C++)S[C]=0;return new p(S,0)};function me(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function pe(k,T){this.g=k,this.h=T}function ce(k,T){if(Y(T))throw Error("division by zero");if(Y(k))return new pe(L,L);if(W(k))return T=ce($(k),T),new pe($(T.g),$(T.h));if(W(T))return T=ce(k,$(T)),new pe($(T.g),T.h);if(30<k.g.length){if(W(k)||W(T))throw Error("slowDivide_ only works with positive integers.");for(var S=B,C=T;0>=C.l(k);)S=be(S),C=be(C);var P=Te(S,1),x=Te(C,1);for(C=Te(C,2),S=Te(S,2);!Y(C);){var I=x.add(C);0>=I.l(k)&&(P=P.add(S),x=I),C=Te(C,1),S=Te(S,1)}return T=de(k,P.j(T)),new pe(P,T)}for(P=L;0<=k.l(T);){for(S=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=w(S),I=x.j(T);W(I)||0<I.l(k);)S-=C,x=w(S),I=x.j(T);Y(x)&&(x=B),P=P.add(x),k=de(k,I)}return new pe(P,k)}i.A=function(k){return ce(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],C=0;C<T;C++)S[C]=this.i(C)&k.i(C);return new p(S,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],C=0;C<T;C++)S[C]=this.i(C)|k.i(C);return new p(S,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],C=0;C<T;C++)S[C]=this.i(C)^k.i(C);return new p(S,this.h^k.h)};function be(k){for(var T=k.g.length+1,S=[],C=0;C<T;C++)S[C]=k.i(C)<<1|k.i(C-1)>>>31;return new p(S,k.h)}function Te(k,T){var S=T>>5;T%=32;for(var C=k.g.length-S,P=[],x=0;x<C;x++)P[x]=0<T?k.i(x+S)>>>T|k.i(x+S+1)<<32-T:k.i(x+S);return new p(P,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=N,Xp=p}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yp,Uo,Jp,Aa,bc,Zp,em,tm;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _a=="object"&&_a];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var m=o;l=l.split(".");for(var v=0;v<l.length-1;v++){var V=l[v];if(!(V in m))break e;m=m[V]}l=l[l.length-1],v=m[l],f=f(v),f!=v&&f!=null&&t(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,v=!1,V={next:function(){if(!v&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function _(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function w(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function N(l,f,m){return l.call.apply(l.bind,arguments)}function L(l,f,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),l.apply(f,V)}}return function(){return l.apply(f,arguments)}}function B(l,f,m){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:L,B.apply(null,arguments)}function K(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function Y(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,V,U){for(var X=Array(arguments.length-2),De=2;De<arguments.length;De++)X[De-2]=arguments[De];return f.prototype[V].apply(v,X)}}function W(l){const f=l.length;if(0<f){const m=Array(f);for(let v=0;v<f;v++)m[v]=l[v];return m}return[]}function $(l,f){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const V=l.length||0,U=v.length||0;l.length=V+U;for(let X=0;X<U;X++)l[V+X]=v[X]}else l.push(v)}}class de{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function me(l){return/^[\s\xa0]*$/.test(l)}function pe(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var be=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function Te(l,f,m){for(const v in l)f.call(m,l[v],v,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let m,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(m in v)l[m]=v[m];for(let U=0;U<S.length;U++)m=S[U],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function P(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){g.setTimeout(()=>{throw l},0)}function I(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ze{constructor(){this.h=this.g=null}add(f,m){const v=Rt.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Rt=new de(()=>new Ct,l=>l.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,J=!1,le=new Ze,ee=()=>{const l=g.Promise.resolve(void 0);Ve=()=>{l.then(D)}};var D=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){x(m)}var f=Rt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}J=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function _e(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(be){e:{try{ce(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ie[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_e.aa.h.call(this)}}Y(_e,oe);var Ie={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Me(l,f,m,v,V){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=V,this.key=++Ne,this.da=this.fa=!1}function ct(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,f,m,v,V){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var X=mr(l,f,v,V);return-1<X?(f=l[X],m||(f.fa=!1)):(f=new Me(f,this.src,U,!!v,V),f.fa=m,l.push(f)),f};function Mi(l,f){var m=f.type;if(m in l.g){var v=l.g[m],V=Array.prototype.indexOf.call(v,f,void 0),U;(U=0<=V)&&Array.prototype.splice.call(v,V,1),U&&(ct(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function mr(l,f,m,v){for(var V=0;V<l.length;++V){var U=l[V];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==v)return V}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Fi={};function zs(l,f,m,v,V){if(Array.isArray(f)){for(var U=0;U<f.length;U++)zs(l,f[U],m,v,V);return null}return m=$s(m),l&&l[Pe]?l.K(f,m,w(v)?!!v.capture:!!v,V):js(l,f,m,!1,v,V)}function js(l,f,m,v,V,U){if(!f)throw Error("Invalid event type");var X=w(V)?!!V.capture:!!V,De=Bi(l);if(De||(l[Kr]=De=new Qn(l)),m=De.add(f,m,v,X,U),m.proxy)return m;if(v=nl(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)ye||(V=X),V===void 0&&(V=!1),l.addEventListener(f.toString(),v,V);else if(l.attachEvent)l.attachEvent(Kn(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function nl(){function l(m){return f.call(l.src,l.listener,m)}const f=bs;return l}function Ui(l,f,m,v,V){if(Array.isArray(f))for(var U=0;U<f.length;U++)Ui(l,f[U],m,v,V);else v=w(v)?!!v.capture:!!v,m=$s(m),l&&l[Pe]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=mr(U,m,v,V),-1<m&&(ct(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=Bi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=mr(f,m,v,V)),(m=-1<l?f[l]:null)&&Gn(m))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Pe])Mi(f.i,l);else{var m=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(m,v,l.capture):f.detachEvent?f.detachEvent(Kn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Bi(f))?(Mi(m,l),m.h==0&&(m.src=null,f[Kr]=null)):ct(l)}}}function Kn(l){return l in Fi?Fi[l]:Fi[l]="on"+l}function bs(l,f){if(l.da)l=!0;else{f=new _e(f,this);var m=l.listener,v=l.ha||l.src;l.fa&&Gn(l),l=m.call(v,f)}return l}function Bi(l){return l=l[Kr],l instanceof Qn?l:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $s(l){return typeof l=="function"?l:(l[zi]||(l[zi]=function(f){return l.handleEvent(f)}),l[zi])}function st(){z.call(this),this.i=new Qn(this),this.M=this,this.F=null}Y(st,z),st.prototype[Pe]=!0,st.prototype.removeEventListener=function(l,f,m,v){Ui(this,l,f,m,v)};function ot(l,f){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var V=f;f=new oe(v,l),C(f,V)}if(V=!0,m)for(var U=m.length-1;0<=U;U--){var X=f.g=m[U];V=Xn(X,v,!0,f)&&V}if(X=f.g=l,V=Xn(X,v,!0,f)&&V,V=Xn(X,v,!1,f)&&V,m)for(U=0;U<m.length;U++)X=f.g=m[U],V=Xn(X,v,!1,f)&&V}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],v=0;v<m.length;v++)ct(m[v]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,v){return this.i.add(String(l),f,!1,m,v)},st.prototype.L=function(l,f,m,v){return this.i.add(String(l),f,!0,m,v)};function Xn(l,f,m,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,U=0;U<f.length;++U){var X=f[U];if(X&&!X.da&&X.capture==m){var De=X.listener,lt=X.ha||X.src;X.fa&&Mi(l.i,X),V=De.call(lt,v)!==!1&&V}}return V&&!v.defaultPrevented}function Hs(l,f,m){if(typeof l=="function")m&&(l=B(l,m));else if(l&&typeof l.handleEvent=="function")l=B(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function gr(l){l.g=Hs(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Xr extends z{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(l){z.call(this),this.h=l,this.g={}}Y(Yr,z);var qs=[];function Ws(l){Te(l.g,function(f,m){this.g.hasOwnProperty(m)&&Gn(f)},l),l.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Ws(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=g.JSON.stringify,Gs=g.JSON.parse,Ks=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Jr(){}Jr.prototype.h=null;function ji(l){return l.h||(l.h=l.i())}function bi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){oe.call(this,"d")}Y(Vn,oe);function $i(){oe.call(this,"c")}Y($i,oe);var On={},Xs=null;function Zr(){return Xs=Xs||new st}On.La="serverreachability";function Ys(l){oe.call(this,On.La,l)}Y(Ys,oe);function Yn(l){const f=Zr();ot(f,new Ys(f))}On.STAT_EVENT="statevent";function Js(l,f){oe.call(this,On.STAT_EVENT,l),this.stat=f}Y(Js,oe);function et(l){const f=Zr();ot(f,new Js(f,l))}On.Ma="timingevent";function Hi(l,f){oe.call(this,On.Ma,l),this.size=f}Y(Hi,oe);function mn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function ti(l,f,m,v,V,U){l.info(function(){if(l.g)if(U)for(var X="",De=U.split("&"),lt=0;lt<De.length;lt++){var Se=De[lt].split("=");if(1<Se.length){var ht=Se[0];Se=Se[1];var nt=ht.split("_");X=2<=nt.length&&nt[1]=="type"?X+(ht+"="+Se+"&"):X+(ht+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+f+`
`+m+`
`+X})}function qi(l,f,m,v,V,U,X){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+f+`
`+m+`
`+U+" "+X})}function gn(l,f,m,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Xa(l,m)+(v?" "+v:"")})}function Zs(l,f){l.info(function(){return"TIMEOUT: "+f})}ei.prototype.info=function(){};function Xa(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return Qs(m)}catch{return f}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ni(){}Y(ni,Jr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},yn=new ni;function _n(l,f,m,v){this.j=l,this.i=f,this.l=m,this.R=v||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}var eo={},Qi={};function Gi(l,f,m){l.L=1,l.v=wr(Yt(f)),l.m=m,l.P=!0,to(l,null)}function to(l,f){l.F=Date.now(),Fe(l),l.A=Yt(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(m.i,"t",v),l.C=0,m=l.j.J,l.h=new il,l.g=Tl(l.j,m?f:null,!l.m),0<l.O&&(l.M=new Xr(B(l.Y,l,l.g),l.O)),f=l.U,m=l.g,v=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(qs[0]=V.toString()),V=qs);for(var U=0;U<V.length;U++){var X=zs(m,V[U],v||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Yn(),ti(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const f=this.M;f&&jt(l)==3?f.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const nt=jt(this.g);var f=this.g.Ba();const an=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||lo(this.g)))){this.J||nt!=4||f==7||(f==8||0>=an?Yn(3):Yn(2)),ri(this);var m=this.g.Z();this.X=m;t:if(sl(this)){var v=lo(this.g);l="";var V=v.length,U=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),yr(this);var X="";break t}this.h.i=new g.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(U&&f==V-1)});v.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,qi(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var De,lt=this.g;if((De=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(De)){var Se=De;break t}}Se=null}if(m=Se)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,m);else{this.o=!1,this.s=3,et(12),on(this),yr(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<X.length;)if(Zt=Ya(this,X),Zt==Qi){nt==4&&(this.s=4,et(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==eo){this.s=4,et(15),gn(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,Zt,null),no(this,Zt);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||X.length!=0||this.h.h||(this.s=1,et(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,X,"[Invalid Chunked Response]"),on(this),yr(this);else if(0<X.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),uo(ht),ht.M=!0,et(11))}}else gn(this.i,this.l,X,null),no(this,X);nt==4&&on(this),this.o&&!this.J&&(nt==4?ss(this.j,this):(this.o=!1,Fe(this)))}else es(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),yr(this)}}}catch{}finally{}};function sl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ya(l,f){var m=l.C,v=f.indexOf(`
`,m);return v==-1?Qi:(m=Number(f.substring(m,v)),isNaN(m)?eo:(v+=1,v+m>f.length?Qi:(f=f.slice(v,v+m),l.C=v+m,f)))}_n.prototype.cancel=function(){this.J=!0,on(this)};function Fe(l){l.S=Date.now()+l.I,ol(l,l.I)}function ol(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(B(l.ba,l),f)}function ri(l){l.B&&(g.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Zs(this.i,this.A),this.L!=2&&(Yn(),et(17)),on(this),this.s=2,yr(this)):ol(this,this.S-l)};function yr(l){l.j.G==0||l.J||ss(l.j,l)}function on(l){ri(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Ws(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function no(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Lt(m.h,l))){if(!l.K&&Lt(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)is(m),In(m);else break e;rs(m),et(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=mn(B(m.Za,m),6e3));if(1>=al(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else nr(m,11)}else if((l.K||m.g==l)&&is(m),!me(f))for(V=m.Da.g.parse(f),f=0;f<V.length;f++){let Se=V[f];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const ht=Se[3];ht!=null&&(m.la=ht,m.j.info("VER="+m.la));const nt=Se[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const an=Se[5];an!=null&&typeof an=="number"&&0<an&&(v=1.5*an,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Zt=l.g;if(Zt){const ci=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var U=v.h;U.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ro(U,U.h),U.h=null))}if(v.D){const ls=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(v.ya=ls,Le(v.I,v.D,ls))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var X=l;if(v.qa=wl(v,v.J?v.ia:null,v.W),X.K){ul(v.h,X);var De=X,lt=v.L;lt&&(De.I=lt),De.B&&(ri(De),Fe(De)),v.g=X}else ui(v);0<m.i.length&&Un(m)}else Se[0]!="stop"&&Se[0]!="close"||nr(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?nr(m,7):vt(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}Yn(4)}catch{}}var ll=class{constructor(l,f){this.g=l,this.map=f}};function ii(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function al(l){return l.h?1:l.g?l.g.size:0}function Lt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function ro(l,f){l.g?l.g.add(f):l.h=f}function ul(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ii.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function cl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return W(l.i)}function Ki(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var f=[],m=l.length,v=0;v<m;v++)f.push(l[v]);return f}f=[],m=0;for(v in l)f[m++]=l[v];return f}function Xi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const v in l)f[m++]=v;return f}}}function _r(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Xi(l),v=Ki(l),V=v.length,U=0;U<V;U++)f.call(void 0,v[U],m&&m[U],l)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),V=null;if(0<=v){var U=l[m].substring(0,v);V=l[m].substring(v+1)}else U=l[m];f(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,oi(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var f=l.i,m=new Ln;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Er(this,m),this.m=l.m}else l&&(f=String(l).match(si))?(this.h=!1,oi(this,f[1]||"",!0),this.o=we(f[2]||""),this.g=we(f[3]||"",!0),vr(this,f[4]),this.l=we(f[5]||"",!0),Er(this,f[6]||"",!0),this.m=we(f[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Jn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Tr(f,Yi,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Tr(f,Yi,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Tr(m,m.charAt(0)=="/"?dl:fl,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Tr(m,io)),l.join("")};function Yt(l){return new Jn(l)}function oi(l,f,m){l.j=m?we(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Er(l,f,m){f instanceof Ln?(l.i=f,Mn(l.i,l.h)):(m||(f=Tr(f,pl)),l.i=new Ln(f,l.h))}function Le(l,f,m){l.i.set(f,m)}function wr(l){return Le(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function we(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,hl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function hl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yi=/[#\/\?@]/g,fl=/[#\?:]/g,dl=/[#\?]/g,pl=/[#\?@]/g,io=/#/g;function Ln(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function _t(l){l.g||(l.g=new Map,l.h=0,l.i&&Ja(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}i=Ln.prototype,i.add=function(l,f){_t(this),this.i=null,l=ln(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function vn(l,f){_t(l),f=ln(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function En(l,f){return _t(l),f=ln(l,f),l.g.has(f)}i.forEach=function(l,f){_t(this),this.g.forEach(function(m,v){m.forEach(function(V){l.call(f,V,v,this)},this)},this)},i.na=function(){_t(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){const V=l[v];for(let U=0;U<V.length;U++)m.push(f[v])}return m},i.V=function(l){_t(this);let f=[];if(typeof l=="string")En(this,l)&&(f=f.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},i.set=function(l,f){return _t(this),this.i=null,l=ln(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ir(l,f,m){vn(l,f),0<m.length&&(l.i=null,l.g.set(ln(l,f),W(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];const U=encodeURIComponent(String(v)),X=this.V(v);for(v=0;v<X.length;v++){var V=U;X[v]!==""&&(V+="="+encodeURIComponent(String(X[v]))),l.push(V)}}return this.i=l.join("&")};function ln(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Mn(l,f){f&&!l.j&&(_t(l),l.i=null,l.g.forEach(function(m,v){var V=v.toLowerCase();v!=V&&(vn(this,v),Ir(this,V,m))},l)),l.j=f}function Za(l,f){const m=new ei;if(g.Image){const v=new Image;v.onload=K(zt,m,"TestLoadImage: loaded",!0,f,v),v.onerror=K(zt,m,"TestLoadImage: error",!1,f,v),v.onabort=K(zt,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=K(zt,m,"TestLoadImage: timeout",!1,f,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function ml(l,f){const m=new ei,v=new AbortController,V=setTimeout(()=>{v.abort(),zt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(U=>{clearTimeout(V),U.ok?zt(m,"TestPingServer: ok",!0,f):zt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),zt(m,"TestPingServer: error",!1,f)})}function zt(l,f,m,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(m)}catch{}}function eu(){this.g=new Ks}function gl(l,f,m){const v=m||"";try{_r(l,function(V,U){let X=V;w(V)&&(X=Qs(V)),f.push(v+U+"="+encodeURIComponent(X))})}catch(V){throw f.push(v+"type="+encodeURIComponent("_badmap")),V}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(Zn,Jr),Zn.prototype.g=function(){return new li(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function li(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(li,st),i=li.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?wn(this):Tn(this),this.readyState==3&&yl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let f="";return Te(l,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Sr(l,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=er(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Le(l,f,m))}function $e(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y($e,st);var tu=/^https?$/i,so=["POST","PUT"];i=$e.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?ji(this.o):ji(yn),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){ai(this,U);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)m.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())m.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),V=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(so,f,void 0))||v||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of m)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ai(this,U)}};function ai(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ji(l),Jt(l)}function Ji(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},i.bb=function(){oo(this)};function oo(l){if(l.h&&typeof p<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Hs(l.Ea,0,l);else if(ot(l,"readystatechange"),jt(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=X===0){var V=String(l.D).match(si)[1]||null;!V&&g.self&&g.self.location&&(V=g.self.location.protocol.slice(0,-1)),v=!tu.test(V?V.toLowerCase():"")}m=v}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<jt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Ji(l)}}finally{Jt(l)}}}}function Jt(l,f){if(l.g){Zi(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ot(l,"ready");try{m.onreadystatechange=v}catch{}}}function Zi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Gs(f)}};function lo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function es(l){const f={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(me(l[v]))continue;var m=P(l[v]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[V]||[];f[V]=U,U.push(m)}k(f,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function ao(l){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(l&&l.concurrentRequestLimit),this.Da=new eu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ao.prototype,i.la=8,i.G=1,i.connect=function(l,f,m,v){et(0),this.W=l,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=wl(this,null,this.W),Un(this)};function vt(l){if(ts(l),l.G==3){var f=l.U++,m=Yt(l.I);if(Le(m,"SID",l.K),Le(m,"RID",f),Le(m,"TYPE","terminate"),tr(l,m),f=new _n(l,l.j,f),f.L=2,f.v=wr(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=Tl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fe(f)}El(l)}function In(l){l.g&&(uo(l),l.g.cancel(),l.g=null)}function ts(l){In(l),l.u&&(g.clearTimeout(l.u),l.u=null),is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Un(l){if(!Xt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ve||ee(),J||(Ve(),J=!0),le.add(f,l),l.B=0}}function nu(l,f){return al(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(B(l.Ga,l,f),vl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new _n(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ar(this,V,f),m=Yt(this.I),Le(m,"RID",l),Le(m,"CVER",22),this.D&&Le(m,"X-HTTP-Session-Id",this.D),tr(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(er(U)))+"&"+f:this.m&&Sr(m,this.m,U)),ro(this.h,V),this.Ua&&Le(m,"TYPE","init"),this.P?(Le(m,"$req",f),Le(m,"SID","null"),V.T=!0,Gi(V,m,null)):Gi(V,m,f),this.G=2}}else this.G==3&&(l?ns(this,l):this.i.length==0||Xt(this.h)||ns(this))};function ns(l,f){var m;f?m=f.l:m=l.U++;const v=Yt(l.I);Le(v,"SID",l.K),Le(v,"RID",m),Le(v,"AID",l.T),tr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),m=new _n(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Ar(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ro(l.h,m),Gi(m,v,f)}function tr(l,f){l.H&&Te(l.H,function(m,v){Le(f,v,m)}),l.l&&_r({},function(m,v){Le(f,v,m)})}function Ar(l,f,m){m=Math.min(l.i.length,m);var v=l.l?B(l.l.Na,l.l,l):null;e:{var V=l.i;let U=-1;for(;;){const X=["count="+m];U==-1?0<m?(U=V[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let De=!0;for(let lt=0;lt<m;lt++){let Se=V[lt].g;const ht=V[lt].map;if(Se-=U,0>Se)U=Math.max(0,V[lt].g-100),De=!1;else try{gl(ht,X,"req"+Se+"_")}catch{v&&v(ht)}}if(De){v=X.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,v}function ui(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ve||ee(),J||(Ve(),J=!0),le.add(f,l),l.v=0}}function rs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(B(l.Fa,l),vl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,_l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(B(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),In(this),_l(this))};function uo(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function _l(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Yt(l.qa);Le(f,"RID","rpc"),Le(f,"SID",l.K),Le(f,"AID",l.T),Le(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Le(f,"TO",l.ja),Le(f,"TYPE","xmlhttp"),tr(l,f),l.m&&l.o&&Sr(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=wr(Yt(f)),m.m=null,m.P=!0,to(m,l)}i.Za=function(){this.C!=null&&(this.C=null,In(this),rs(this),et(19))};function is(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function ss(l,f){var m=null;if(l.g==f){is(l),uo(l),l.g=null;var v=2}else if(Lt(l.h,f))m=f.D,ul(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var V=l.B;v=Zr(),ot(v,new Hi(v,m)),Un(l)}else ui(l);else if(V=f.s,V==3||V==0&&0<f.X||!(v==1&&nu(l,f)||v==2&&rs(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),V){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function vl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function nr(l,f){if(l.j.info("Error code "+f),f==2){var m=B(l.fb,l),v=l.Xa;const V=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||oi(v,"https"),wr(v),V?Za(v.toString(),m):ml(v.toString(),m)}else et(2);l.G=0,l.l&&l.l.sa(f),El(l),ts(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function El(l){if(l.G=0,l.ka=[],l.l){const f=cl(l.h);(f.length!=0||l.i.length!=0)&&($(l.ka,f),$(l.ka,l.i),l.h.i.length=0,W(l.i),l.i.length=0),l.l.ra()}}function wl(l,f,m){var v=m instanceof Jn?Yt(m):new Jn(m);if(v.g!="")f&&(v.g=f+"."+v.g),vr(v,v.s);else{var V=g.location;v=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var U=new Jn(null);v&&oi(U,v),f&&(U.g=f),V&&vr(U,V),m&&(U.l=m),v=U}return m=l.D,f=l.ya,m&&f&&Le(v,m,f),Le(v,"VER",l.la),tr(l,v),v}function Tl(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new $e(new Zn({eb:m})):new $e(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function co(){}i=co.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function os(){}os.prototype.g=function(l,f){return new Mt(l,f)};function Mt(l,f){st.call(this),this.g=new ao(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!me(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!me(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Bn(this)}Y(Mt,st),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){vt(this.g)},Mt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Qs(l),l=m);f.i.push(new ll(f.Ya++,l)),f.G==3&&Un(f)},Mt.prototype.N=function(){this.g.l=null,delete this.j,vt(this.g),delete this.g,Mt.aa.N.call(this)};function Il(l){Vn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Y(Il,Vn);function Sl(){$i.call(this),this.status=1}Y(Sl,$i);function Bn(l){this.g=l}Y(Bn,co),Bn.prototype.ua=function(){ot(this.g,"a")},Bn.prototype.ta=function(l){ot(this.g,new Il(l))},Bn.prototype.sa=function(l){ot(this.g,new Sl)},Bn.prototype.ra=function(){ot(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,tm=function(){return new os},em=function(){return Zr()},Zp=On,bc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Aa=Wi,rl.COMPLETE="complete",Jp=rl,bi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",st.prototype.listen=st.prototype.K,Uo=bi,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Yp=$e}).apply(typeof _a<"u"?_a:typeof self<"u"?self:typeof window<"u"?window:{});const ep="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new jp("@firebase/firestore");function Ps(){return ki.logLevel}function ie(i,...t){if(ki.logLevel<=Re.DEBUG){const r=t.map(th);ki.debug(`Firestore (${Us}): ${i}`,...r)}}function Pi(i,...t){if(ki.logLevel<=Re.ERROR){const r=t.map(th);ki.error(`Firestore (${Us}): ${i}`,...r)}}function Da(i,...t){if(ki.logLevel<=Re.WARN){const r=t.map(th);ki.warn(`Firestore (${Us}): ${i}`,...r)}}function th(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const t=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+i;throw Pi(t),new Error(t)}function Xe(i,t){i||Ee()}function Be(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Vi{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Vt.UNAUTHENTICATED))}shutdown(){}}class Z_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ev{constructor(t){this.t=t,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Xe(this.o===void 0);let o=this.i;const a=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ai,t.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},g=_=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ai)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Xe(typeof o.accessToken=="string"),new nm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xe(t===null||typeof t=="string"),new Vt(t)}}class tv{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nv{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new tv(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iv{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Xe(this.o===void 0);const o=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Xe(typeof r.token=="string"),this.R=r.token,new rv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const a=sv(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%t.length))}return o}}function xe(i,t){return i<t?-1:i>t?1:0}function Vs(i,t,r){return i.length===t.length&&i.every((o,a)=>r(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(t){return yt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new yt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(t){return new qe(t)}static min(){return new qe(new yt(0,0))}static max(){return new qe(new yt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,r,o){r===void 0?r=0:r>t.length&&Ee(),o===void 0?o=t.length-r:o>t.length-r&&Ee(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return Wo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Wo?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=t.get(a),p=r.get(a);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ke extends Wo{construct(t,r,o){return new Ke(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new he(Q.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Ke(r)}static emptyPath(){return new Ke([])}}const ov=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Wo{construct(t,r,o){return new St(t,r,o)}static isValidIdentifier(t){return ov.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new he(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=_,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new he(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new St(r)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.path=t}static fromPath(t){return new ge(Ke.fromString(t))}static fromName(t){return new ge(Ke.fromString(t).popFirst(5))}static empty(){return new ge(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ke.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ge(new Ke(t.slice()))}}function lv(i,t){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(o===1e9?new yt(r+1,0):new yt(r,o));return new Wr(a,ge.empty(),t)}function av(i){return new Wr(i.readTime,i.key,-1)}class Wr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Wr(qe.min(),ge.empty(),-1)}static max(){return new Wr(qe.max(),ge.empty(),-1)}}function uv(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=ge.comparator(i.documentKey,t.documentKey),r!==0?r:xe(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==cv)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new j((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):j.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):j.reject(r)}static resolve(t){return new j((r,o)=>{r(t)})}static reject(t){return new j((r,o)=>{o(t)})}static waitFor(t){return new j((r,o)=>{let a=0,c=0,p=!1;t.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},_=>o(_))}),p=!0,c===a&&r()})}static or(t){let r=j.resolve(!1);for(const o of t)r=r.next(a=>a?j.resolve(a):o());return r}static forEach(t,r){const o=[];return t.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(t,r){return new j((o,a)=>{const c=t.length,p=new Array(c);let g=0;for(let _=0;_<c;_++){const w=_;r(t[w]).next(N=>{p[w]=N,++g,g===c&&o(p)},N=>a(N))}})}static doWhile(t,r){return new j((o,a)=>{const c=()=>{t()===!0?r().next(()=>{c()},a):o()};c()})}}function fv(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}rh.oe=-1;function ih(i){return i==null}function xa(i){return i===0&&1/i==-1/0}function dv(i){return typeof i=="number"&&Number.isInteger(i)&&!xa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=tp(t)),t=mv(i.get(r),t);return tp(t)}function mv(i,t){let r=t;const o=i.length;for(let a=0;a<o;a++){const c=i.charAt(a);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function tp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Bs(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function im(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,r){this.comparator=t,this.root=r||Tt.EMPTY}insert(t,r){return new Kt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new va(this.root,t,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new va(this.root,t,this.comparator,!0)}}class va{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Tt.RED,this.left=a??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new Tt(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Tt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const t=this.left.check();if(t!==this.right.check())throw Ee();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(t,r,o,a,c){return this}insert(t,r,o){return new Tt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new rp(this.data.getIterator())}getIteratorFrom(t){return new rp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof At)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new At(this.comparator);return r.data=t,r}}class rp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(St.comparator)}static empty(){return new xn([])}unionWith(t){let r=new At(St.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new xn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Vs(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gv("Invalid base64 string: "+c):c}}(t);return new qn(r)}static fromUint8Array(t){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new qn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(i){if(Xe(!!i),typeof i=="string"){let t=0;const r=yv.exec(i);if(Xe(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Os(i){return typeof i=="string"?qn.fromBase64String(i):qn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function oh(i){const t=i.mapValue.fields.__previous_value__;return sh(t)?oh(t):t}function Va(i){const t=Ni(i.mapValue.fields.__local_write_time__.timestampValue);return new yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,r,o,a,c,p,g,_,w){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=w}}class Oa{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Oa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sh(i)?4:Ev(i)?9007199254740991:vv(i)?10:11:Ee()}function Wn(i,t){if(i===t)return!0;const r=Di(i);if(r!==Di(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Va(i).isEqual(Va(t));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Ni(a.timestampValue),g=Ni(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(a,c){return Os(a.bytesValue).isEqual(Os(c.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(a,c){return It(a.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(c.geoPointValue.longitude)}(i,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return It(a.integerValue)===It(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=It(a.doubleValue),g=It(c.doubleValue);return p===g?xa(p)===xa(g):isNaN(p)&&isNaN(g)}return!1}(i,t);case 9:return Vs(i.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(np(p)!==np(g))return!1;for(const _ in p)if(p.hasOwnProperty(_)&&(g[_]===void 0||!Wn(p[_],g[_])))return!1;return!0}(i,t);default:return Ee()}}function Qo(i,t){return(i.values||[]).find(r=>Wn(r,t))!==void 0}function Ls(i,t){if(i===t)return 0;const r=Di(i),o=Di(t);if(r!==o)return xe(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,t.booleanValue);case 2:return function(c,p){const g=It(c.integerValue||c.doubleValue),_=It(p.integerValue||p.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(i,t);case 3:return ip(i.timestampValue,t.timestampValue);case 4:return ip(Va(i),Va(t));case 5:return xe(i.stringValue,t.stringValue);case 6:return function(c,p){const g=Os(c),_=Os(p);return g.compareTo(_)}(i.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),_=p.split("/");for(let w=0;w<g.length&&w<_.length;w++){const N=xe(g[w],_[w]);if(N!==0)return N}return xe(g.length,_.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,p){const g=xe(It(c.latitude),It(p.latitude));return g!==0?g:xe(It(c.longitude),It(p.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return sp(i.arrayValue,t.arrayValue);case 10:return function(c,p){var g,_,w,N;const L=c.fields||{},B=p.fields||{},K=(g=L.value)===null||g===void 0?void 0:g.arrayValue,Y=(_=B.value)===null||_===void 0?void 0:_.arrayValue,W=xe(((w=K==null?void 0:K.values)===null||w===void 0?void 0:w.length)||0,((N=Y==null?void 0:Y.values)===null||N===void 0?void 0:N.length)||0);return W!==0?W:sp(K,Y)}(i.mapValue,t.mapValue);case 11:return function(c,p){if(c===Ea.mapValue&&p===Ea.mapValue)return 0;if(c===Ea.mapValue)return 1;if(p===Ea.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),w=p.fields||{},N=Object.keys(w);_.sort(),N.sort();for(let L=0;L<_.length&&L<N.length;++L){const B=xe(_[L],N[L]);if(B!==0)return B;const K=Ls(g[_[L]],w[N[L]]);if(K!==0)return K}return xe(_.length,N.length)}(i.mapValue,t.mapValue);default:throw Ee()}}function ip(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return xe(i,t);const r=Ni(i),o=Ni(t),a=xe(r.seconds,o.seconds);return a!==0?a:xe(r.nanos,o.nanos)}function sp(i,t){const r=i.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=Ls(r[a],o[a]);if(c)return c}return xe(r.length,o.length)}function Ms(i){return $c(i)}function $c(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Ni(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Os(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return ge.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=$c(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${$c(r.fields[p])}`;return a+"}"}(i.mapValue):Ee()}function Ra(i){switch(Di(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(i);return t?16+Ra(t):16;case 5:return 2*i.stringValue.length;case 6:return Os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+Ra(c),0)}(i.arrayValue);case 10:case 11:return function(o){let a=0;return Bs(o.fields,(c,p)=>{a+=c.length+Ra(p)}),a}(i.mapValue);default:throw Ee()}}function Hc(i){return!!i&&"integerValue"in i}function lh(i){return!!i&&"arrayValue"in i}function Ca(i){return!!i&&"mapValue"in i}function vv(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Bs(i.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Bo(o)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Bo(i.arrayValue.values[r]);return t}return Object.assign({},i)}function Ev(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Ca(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bo(r)}setAll(t){let r=St.emptyPath(),o={},a=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const _=this.getFieldsMap(r);this.applyChanges(_,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Bo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Ca(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Ca(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){Bs(r,(a,c)=>t[a]=c);for(const a of o)delete t[a]}clone(){return new Dn(Bo(this.value))}}function sm(i){const t=[];return Bs(i.fields,(r,o)=>{const a=new St([r]);if(Ca(o)){const c=sm(o.mapValue).fields;if(c.length===0)t.push(a);else for(const p of c)t.push(a.child(p))}else t.push(a)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,r,o,a,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Nn(t,0,qe.min(),qe.min(),qe.min(),Dn.empty(),0)}static newFoundDocument(t,r,o,a){return new Nn(t,1,r,qe.min(),o,a,0)}static newNoDocument(t,r){return new Nn(t,2,r,qe.min(),qe.min(),Dn.empty(),0)}static newUnknownDocument(t,r){return new Nn(t,3,r,qe.min(),qe.min(),Dn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,r){this.position=t,this.inclusive=r}}function op(i,t,r){let o=0;for(let a=0;a<i.position.length;a++){const c=t[a],p=i.position[a];if(c.field.isKeyField()?o=ge.comparator(ge.fromName(p.referenceValue),r.key):o=Ls(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function lp(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Wn(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,r="asc"){this.field=t,this.dir=r}}function wv(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{}class gt extends om{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new Iv(t,r,o):r==="array-contains"?new Rv(t,o):r==="in"?new Cv(t,o):r==="not-in"?new kv(t,o):r==="array-contains-any"?new Pv(t,o):new gt(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new Sv(t,o):new Av(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ls(r,this.value)):r!==null&&Di(this.value)===Di(r)&&this.matchesComparison(Ls(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends om{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Qr(t,r)}matches(t){return lm(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lm(i){return i.op==="and"}function am(i){return Tv(i)&&lm(i)}function Tv(i){for(const t of i.filters)if(t instanceof Qr)return!1;return!0}function qc(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(am(i))return i.filters.map(t=>qc(t)).join(",");{const t=i.filters.map(r=>qc(r)).join(",");return`${i.op}(${t})`}}function um(i,t){return i instanceof gt?function(o,a){return a instanceof gt&&o.op===a.op&&o.field.isEqual(a.field)&&Wn(o.value,a.value)}(i,t):i instanceof Qr?function(o,a){return a instanceof Qr&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&um(p,a.filters[g]),!0):!1}(i,t):void Ee()}function cm(i){return i instanceof gt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ms(r.value)}`}(i):i instanceof Qr?function(r){return r.op.toString()+" {"+r.getFilters().map(cm).join(" ,")+"}"}(i):"Filter"}class Iv extends gt{constructor(t,r,o){super(t,r,o),this.key=ge.fromName(o.referenceValue)}matches(t){const r=ge.comparator(t.key,this.key);return this.matchesComparison(r)}}class Sv extends gt{constructor(t,r){super(t,"in",r),this.keys=hm("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Av extends gt{constructor(t,r){super(t,"not-in",r),this.keys=hm("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function hm(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>ge.fromName(o.referenceValue))}class Rv extends gt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return lh(r)&&Qo(r.arrayValue,this.value)}}class Cv extends gt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Qo(this.value.arrayValue,r)}}class kv extends gt{constructor(t,r){super(t,"not-in",r)}matches(t){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Qo(this.value.arrayValue,r)}}class Pv extends gt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!lh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Qo(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,r=null,o=[],a=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function ap(i,t=null,r=[],o=[],a=null,c=null,p=null){return new Nv(i,t,r,o,a,c,p)}function ah(i){const t=Be(i);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>qc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),ih(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ms(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ms(o)).join(",")),t.ue=r}return t.ue}function uh(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!wv(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!um(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!lp(i.startAt,t.startAt)&&lp(i.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,r=null,o=[],a=[],c=null,p="F",g=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dv(i,t,r,o,a,c,p,g){return new ba(i,t,r,o,a,c,p,g)}function xv(i){return new ba(i)}function up(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Vv(i){return i.collectionGroup!==null}function zo(i){const t=Be(i);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new At(St.comparator);return p.filters.forEach(_=>{_.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Ma(c,o))}),r.has(St.keyField().canonicalString())||t.ce.push(new Ma(St.keyField(),o))}return t.ce}function Ri(i){const t=Be(i);return t.le||(t.le=Ov(t,zo(i))),t.le}function Ov(i,t){if(i.limitType==="F")return ap(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Ma(a.field,c)});const r=i.endAt?new La(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new La(i.startAt.position,i.startAt.inclusive):null;return ap(i.path,i.collectionGroup,t,i.filters,i.limit,r,o)}}function Wc(i,t,r){return new ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function fm(i,t){return uh(Ri(i),Ri(t))&&i.limitType===t.limitType}function dm(i){return`${ah(Ri(i))}|lt:${i.limitType}`}function Mo(i){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>cm(a)).join(", ")}]`),ih(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>Ms(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>Ms(a)).join(",")),`Target(${o})`}(Ri(i))}; limitType=${i.limitType})`}function ch(i,t){return t.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):ge.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,t)&&function(o,a){for(const c of zo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,t)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(i,t)&&function(o,a){return!(o.startAt&&!function(p,g,_){const w=op(p,g,_);return p.inclusive?w<=0:w<0}(o.startAt,zo(o),a)||o.endAt&&!function(p,g,_){const w=op(p,g,_);return p.inclusive?w>=0:w>0}(o.endAt,zo(o),a))}(i,t)}function Lv(i){return(t,r)=>{let o=!1;for(const a of zo(i)){const c=Mv(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function Mv(i,t,r){const o=i.field.isKeyField()?ge.comparator(t.key,r.key):function(c,p,g){const _=p.data.field(c),w=g.data.field(c);return _!==null&&w!==null?Ls(_,w):Ee()}(i.field,t,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,(r,o)=>{for(const[a,c]of o)t(a,c)})}isEmpty(){return im(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Kt(ge.comparator);function Fa(){return Fv}const pm=new Kt(ge.comparator);function wa(...i){let t=pm;for(const r of i)t=t.insert(r.key,r);return t}function mm(i){let t=pm;return i.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function Si(){return jo()}function gm(){return jo()}function jo(){return new Oi(i=>i.toString(),(i,t)=>i.isEqual(t))}const Uv=new Kt(ge.comparator),Bv=new At(ge.comparator);function Ot(...i){let t=Bv;for(const r of i)t=t.add(r);return t}const zv=new At(xe);function jv(){return zv}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xa(t)?"-0":t}}function ym(i){return{integerValue:""+i}}function bv(i,t){return dv(t)?ym(t):hh(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this._=void 0}}function $v(i,t,r){return i instanceof Go?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&sh(c)&&(c=oh(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):i instanceof Ko?vm(i,t):i instanceof Xo?Em(i,t):function(a,c){const p=_m(a,c),g=cp(p)+cp(a.Pe);return Hc(p)&&Hc(a.Pe)?ym(g):hh(a.serializer,g)}(i,t)}function Hv(i,t,r){return i instanceof Ko?vm(i,t):i instanceof Xo?Em(i,t):r}function _m(i,t){return i instanceof Ua?function(o){return Hc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class Go extends $a{}class Ko extends $a{constructor(t){super(),this.elements=t}}function vm(i,t){const r=wm(t);for(const o of i.elements)r.some(a=>Wn(a,o))||r.push(o);return{arrayValue:{values:r}}}class Xo extends $a{constructor(t){super(),this.elements=t}}function Em(i,t){let r=wm(t);for(const o of i.elements)r=r.filter(a=>!Wn(a,o));return{arrayValue:{values:r}}}class Ua extends $a{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function cp(i){return It(i.integerValue||i.doubleValue)}function wm(i){return lh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,r){this.field=t,this.transform=r}}function Wv(i,t){return i.field.isEqual(t.field)&&function(o,a){return o instanceof Ko&&a instanceof Ko||o instanceof Xo&&a instanceof Xo?Vs(o.elements,a.elements,Wn):o instanceof Ua&&a instanceof Ua?Wn(o.Pe,a.Pe):o instanceof Go&&a instanceof Go}(i.transform,t.transform)}class Qv{constructor(t,r){this.version=t,this.transformResults=r}}class hr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ka(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Ha{}function Tm(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Sm(i.key,hr.none()):new Zo(i.key,i.data,hr.none());{const r=i.data,o=Dn.empty();let a=new At(St.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new Li(i.key,o,new xn(a.toArray()),hr.none())}}function Gv(i,t,r){i instanceof Zo?function(a,c,p){const g=a.value.clone(),_=fp(a.fieldTransforms,c,p.transformResults);g.setAll(_),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(i,t,r):i instanceof Li?function(a,c,p){if(!ka(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=fp(a.fieldTransforms,c,p.transformResults),_=c.data;_.setAll(Im(a)),_.setAll(g),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(i,t,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function bo(i,t,r,o){return i instanceof Zo?function(c,p,g,_){if(!ka(c.precondition,p))return g;const w=c.value.clone(),N=dp(c.fieldTransforms,_,p);return w.setAll(N),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null}(i,t,r,o):i instanceof Li?function(c,p,g,_){if(!ka(c.precondition,p))return g;const w=dp(c.fieldTransforms,_,p),N=p.data;return N.setAll(Im(c)),N.setAll(w),p.convertToFoundDocument(p.version,N).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(L=>L.field))}(i,t,r,o):function(c,p,g){return ka(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(i,t,r)}function Kv(i,t){let r=null;for(const o of i.fieldTransforms){const a=t.data.field(o.field),c=_m(o.transform,a||null);c!=null&&(r===null&&(r=Dn.empty()),r.set(o.field,c))}return r||null}function hp(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Vs(o,a,(c,p)=>Wv(c,p))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Zo extends Ha{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Li extends Ha{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Im(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);t.set(r,o)}}),t}function fp(i,t,r){const o=new Map;Xe(i.length===r.length);for(let a=0;a<r.length;a++){const c=i[a],p=c.transform,g=t.data.field(c.field);o.set(c.field,Hv(p,g,r[a]))}return o}function dp(i,t,r){const o=new Map;for(const a of i){const c=a.transform,p=r.data.field(a.field);o.set(a.field,$v(c,p,t))}return o}class Sm extends Ha{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xv extends Ha{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&Gv(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=bo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=bo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=gm();return this.mutations.forEach(a=>{const c=t.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const _=Tm(p,g);_!==null&&o.set(a.key,_),p.isValidDocument()||p.convertToNoDocument(qe.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Vs(this.mutations,t.mutations,(r,o)=>hp(r,o))&&Vs(this.baseMutations,t.baseMutations,(r,o)=>hp(r,o))}}class fh{constructor(t,r,o,a){this.batch=t,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(t,r,o){Xe(t.mutations.length===o.length);let a=function(){return Uv}();const c=t.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,o[p].version);return new fh(t,r,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ae;function Zv(i){switch(i){default:return Ee();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function e0(i){if(i===void 0)return Pi("GRPC error has no .code"),Q.UNKNOWN;switch(i){case it.OK:return Q.OK;case it.CANCELLED:return Q.CANCELLED;case it.UNKNOWN:return Q.UNKNOWN;case it.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case it.INTERNAL:return Q.INTERNAL;case it.UNAVAILABLE:return Q.UNAVAILABLE;case it.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case it.NOT_FOUND:return Q.NOT_FOUND;case it.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case it.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case it.ABORTED:return Q.ABORTED;case it.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case it.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case it.DATA_LOSS:return Q.DATA_LOSS;default:return Ee()}}(Ae=it||(it={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xp([4294967295,4294967295],0);class t0{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Qc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n0(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function r0(i,t){return Qc(i,t.toTimestamp())}function Ds(i){return Xe(!!i),qe.fromTimestamp(function(r){const o=Ni(r);return new yt(o.seconds,o.nanos)}(i))}function Am(i,t){return Gc(i,t).canonicalString()}function Gc(i,t){const r=function(a){return new Ke(["projects",a.projectId,"databases",a.database])}(i).child("documents");return t===void 0?r:r.child(t)}function i0(i){const t=Ke.fromString(i);return Xe(f0(t)),t}function Kc(i,t){return Am(i.databaseId,t.path)}function s0(i){const t=i0(i);return t.length===4?Ke.emptyPath():l0(t)}function o0(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function l0(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function pp(i,t,r){return{name:Kc(i,t),fields:r.value.mapValue.fields}}function a0(i,t){let r;if(t instanceof Zo)r={update:pp(i,t.key,t.value)};else if(t instanceof Sm)r={delete:Kc(i,t.key)};else if(t instanceof Li)r={update:pp(i,t.key,t.data),updateMask:h0(t.fieldMask)};else{if(!(t instanceof Xv))return Ee();r={verify:Kc(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(o=>function(c,p){const g=p.transform;if(g instanceof Go)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ko)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ua)return{fieldPath:p.field.canonicalString(),increment:g.Pe};throw Ee()}(0,o))),t.precondition.isNone||(r.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:r0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee()}(i,t.precondition)),r}function u0(i,t){return i&&i.length>0?(Xe(t!==void 0),i.map(r=>function(a,c){let p=a.updateTime?Ds(a.updateTime):Ds(c);return p.isEqual(qe.min())&&(p=Ds(c)),new Qv(p,a.transformResults||[])}(r,t))):[]}function c0(i){let t=s0(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Xe(o===1);const N=r.from[0];N.allDescendants?a=N.collectionId:t=t.child(N.collectionId)}let c=[];r.where&&(c=function(L){const B=Rm(L);return B instanceof Qr&&am(B)?B.getFilters():[B]}(r.where));let p=[];r.orderBy&&(p=function(L){return L.map(B=>function(Y){return new Ma(Ns(Y.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(B))}(r.orderBy));let g=null;r.limit&&(g=function(L){let B;return B=typeof L=="object"?L.value:L,ih(B)?null:B}(r.limit));let _=null;r.startAt&&(_=function(L){const B=!!L.before,K=L.values||[];return new La(K,B)}(r.startAt));let w=null;return r.endAt&&(w=function(L){const B=!L.before,K=L.values||[];return new La(K,B)}(r.endAt)),Dv(t,a,p,c,g,"F",_,w)}function Rm(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ns(r.unaryFilter.field);return gt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=Ns(r.unaryFilter.field);return gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(r.unaryFilter.field);return gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ns(r.unaryFilter.field);return gt.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(r){return gt.create(Ns(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Qr.create(r.compositeFilter.filters.map(o=>Rm(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee()}}(r.compositeFilter.op))}(i):Ee()}function Ns(i){return St.fromServerFormat(i.fieldPath)}function h0(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function f0(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){this.ht=t}}function p0(i){const t=c0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ln=new g0}addToCollectionParentIndex(t,r){return this.ln.add(r),j.resolve()}getCollectionParents(t,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return j.resolve()}deleteFieldIndex(t,r){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,r){return j.resolve()}getDocumentsMatchingTarget(t,r){return j.resolve(null)}getIndexType(t,r){return j.resolve(0)}getFieldIndexes(t,r){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,r){return j.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,r){return j.resolve(Wr.min())}updateCollectionGroup(t,r,o){return j.resolve()}updateIndexEntries(t,r){return j.resolve()}}class g0{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new At(Ke.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new At(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(t){return new Gt(t,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Fs(0)}static Qn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp([i,t],[r,o]){const a=xe(i,r);return a===0?xe(t,o):a}class y0{constructor(t){this.Gn=t,this.buffer=new At(gp),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();gp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class _0{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){ie("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Jo(r)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await nh(r)}await this.Yn(3e5)})}}class v0{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return j.resolve(rh.oe);const o=new y0(r);return this.Zn.forEachTarget(t,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(t,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(mp)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mp):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,a,c,p,g,_,w;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),a=this.params.maximumSequenceNumbersToCollect):a=L,p=Date.now(),this.nthSequenceNumber(t,a))).next(L=>(o=L,g=Date.now(),this.removeTargets(t,o,r))).next(L=>(c=L,_=Date.now(),this.removeOrphanedDocuments(t,o))).next(L=>(w=Date.now(),Ps()<=Re.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-N}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${L} documents in `+(w-_)+`ms
Total Duration: ${w-N}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:L})))}}function E0(i,t){return new v0(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.changes=new Oi(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(o!==null&&bo(o.mutation,a,xn.empty(),yt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Ot()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Ot()){const a=Si();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,o).next(c=>{let p=wa();return c.forEach((g,_)=>{p=p.insert(g,_.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=Si();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Ot()))}populateOverlays(t,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(t,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,a){let c=Fa();const p=jo(),g=function(){return jo()}();return r.forEach((_,w)=>{const N=o.get(w.key);a.has(w.key)&&(N===void 0||N.mutation instanceof Li)?c=c.insert(w.key,w):N!==void 0?(p.set(w.key,N.mutation.getFieldMask()),bo(N.mutation,w,N.mutation.getFieldMask(),yt.now())):p.set(w.key,xn.empty())}),this.recalculateAndSaveOverlays(t,c).next(_=>(_.forEach((w,N)=>p.set(w,N)),r.forEach((w,N)=>{var L;return g.set(w,new T0(N,(L=p.get(w))!==null&&L!==void 0?L:null))}),g))}recalculateAndSaveOverlays(t,r){const o=jo();let a=new Kt((p,g)=>p-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(_=>{const w=r.get(_);if(w===null)return;let N=o.get(_)||xn.empty();N=g.applyToLocalView(w,N),o.set(_,N);const L=(a.get(g.batchId)||Ot()).add(_);a=a.insert(g.batchId,L)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),w=_.key,N=_.value,L=gm();N.forEach(B=>{if(!c.has(B)){const K=Tm(r.get(B),o.get(B));K!==null&&L.set(B,K),c=c.add(B)}}),p.push(this.documentOverlayCache.saveOverlays(t,w,L))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,a){return function(p){return ge.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Vv(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):j.resolve(Si());let g=-1,_=c;return p.next(w=>j.forEach(w,(N,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),c.get(N)?j.resolve():this.remoteDocumentCache.getEntry(t,N).next(B=>{_=_.insert(N,B)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,_,w,Ot())).next(N=>({batchId:g,changes:mm(N)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ge(r)).next(o=>{let a=wa();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=wa();return this.indexManager.getCollectionParents(t,c).next(g=>j.forEach(g,_=>{const w=function(L,B){return new ba(B,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)}(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,w,o,a).next(N=>{N.forEach((L,B)=>{p=p.insert(L,B)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a))).next(p=>{c.forEach((_,w)=>{const N=w.getKey();p.get(N)===null&&(p=p.insert(N,Nn.newInvalidDocument(N)))});let g=wa();return p.forEach((_,w)=>{const N=c.get(_);N!==void 0&&bo(N.mutation,w,xn.empty(),yt.now()),ch(r,w)&&(g=g.insert(_,w))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ds(a.createTime)}}(r)),j.resolve()}getNamedQuery(t,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(a){return{name:a.name,query:p0(a.bundledQuery),readTime:Ds(a.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.overlays=new Kt(ge.comparator),this.Er=new Map}getOverlay(t,r){return j.resolve(this.overlays.get(r))}getOverlays(t,r){const o=Si();return j.forEach(r,a=>this.getOverlay(t,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((a,c)=>{this.Tt(t,r,c)}),j.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(t,r,o){const a=Si(),c=r.length+1,p=new ge(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const _=g.getNext().value,w=_.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===c&&_.largestBatchId>o&&a.set(_.getKey(),_)}return j.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new Kt((w,N)=>w-N);const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>o){let N=c.get(w.largestBatchId);N===null&&(N=Si(),c=c.insert(w.largestBatchId,N)),N.set(w.getKey(),w)}}const g=Si(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,N)=>g.set(w,N)),!(g.size()>=a)););return j.resolve(g)}Tt(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Jv(r,o));let c=this.Er.get(r);c===void 0&&(c=Ot(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.dr=new At(mt.Ar),this.Rr=new At(mt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new mt(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new mt(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new ge(new Ke([])),o=new mt(r,t),a=new mt(r,t+1),c=[];return this.Rr.forEachInRange([o,a],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new ge(new Ke([])),o=new mt(r,t),a=new mt(r,t+1);let c=Ot();return this.Rr.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new mt(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class mt{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return ge.comparator(t.key,r.key)||xe(t.br,r.br)}static Vr(t,r){return xe(t.br,r.br)||ge.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new At(mt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Yv(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.vr=this.vr.add(new mt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(t,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.Fr(o),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new mt(r,0),a=new mt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,a],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new At(xe);return r.forEach(a=>{const c=new mt(a,0),p=new mt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;ge.isDocumentKey(c)||(c=c.child(""));const p=new mt(new ge(c),0);let g=new At(xe);return this.vr.forEachWhile(_=>{const w=_.key.path;return!!o.isPrefixOf(w)&&(w.length===a&&(g=g.add(_.br)),!0)},p),j.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const a=this.Cr(o);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Xe(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,a=>{const c=new mt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new mt(r,0),a=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this.Nr=t,this.docs=function(){return new Kt(ge.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():Nn.newInvalidDocument(r))}getEntries(t,r){let o=Fa();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():Nn.newInvalidDocument(a))}),j.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=Fa();const p=r.path,g=new ge(p.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:w,value:{document:N}}=_.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||uv(av(N),o)<=0||(a.has(N.key)||ch(r,N))&&(c=c.insert(N.key,N.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(t,r,o,a){Ee()}Lr(t,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new P0(this)}getSize(t){return j.resolve(this.size)}}class P0 extends w0{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.hr.addEntry(t,a)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t){this.persistence=t,this.Br=new Oi(r=>ah(r),uh),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new dh,this.targetCount=0,this.Qr=Fs.qn()}forEachTarget(t,r){return this.Br.forEach((o,a)=>r(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new Fs(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(t,r){return this.Un(r),j.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(t,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(t,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,r){this.Kr={},this.overlays={},this.$r=new rh(0),this.Ur=!1,this.Ur=!0,this.Wr=new R0,this.referenceDelegate=t(this),this.Gr=new N0(this),this.indexManager=new m0,this.remoteDocumentCache=function(a){return new k0(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new d0(r),this.jr=new S0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new A0,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new C0(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){ie("MemoryPersistence","Starting transaction:",t);const a=new D0(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(t,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class D0 extends hv{constructor(t){super(),this.currentSequenceNumber=t}}class ph{constructor(t){this.persistence=t,this.Zr=new dh,this.Xr=null}static ei(t){return new ph(t)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const a=ge.fromPath(o);return this.ni(t,a).next(c=>{c||r.removeEntry(a,qe.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class Ba{constructor(t,r){this.persistence=t,this.ri=new Oi(o=>pv(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=E0(this,r)}static ei(t,r){return new Ba(t,r)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(a=>o+a))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return j.forEach(this.ri,(o,a)=>this.ir(t,o,a).next(c=>c?j.resolve():r(a)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,qe.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Ra(t.data.value)),r}ir(t,r,o){return j.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.ri.get(r);return j.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=a}static zi(t,r){let o=Ot(),a=Ot();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new mh(t,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Fy()?8:fv(Ly())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new x0;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,a){return o.documentReadCount<this.Ji?(Ps()<=Re.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Mo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Ps()<=Re.DEBUG&&ie("QueryEngine","Query:",Mo(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(Ps()<=Re.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Mo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(r))):j.resolve())}Xi(t,r){if(up(r))return j.resolve(null);let o=Ri(r);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Wc(r,null,"F"),o=Ri(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Ot(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(_=>{const w=this.rs(r,g);return this.ss(r,w,p,_.readTime)?this.Xi(t,Wc(r,null,"F")):this.os(t,w,r,_)}))})))}es(t,r,o,a){return up(r)||a.isEqual(qe.min())?j.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,a)?j.resolve(null):(Ps()<=Re.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(r)),this.os(t,p,r,lv(a,-1)).next(g=>g))})}rs(t,r){let o=new At(Lv(t));return r.forEach((a,c)=>{ch(t,c)&&(o=o.add(c))}),o}ss(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(t,r,o){return Ps()<=Re.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Mo(r)),this.Zi.getDocumentsMatchingQuery(t,r,Wr.min(),o)}os(t,r,o,a){return this.Zi.getDocumentsMatchingQuery(t,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,r,o,a){this.persistence=t,this._s=r,this.serializer=a,this.us=new Kt(xe),this.cs=new Oi(c=>ah(c),uh),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function L0(i,t,r,o){return new O0(i,t,r,o)}async function km(i,t){const r=Be(i);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let _=Ot();for(const w of a){p.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}for(const w of c){g.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}return r.localDocuments.getDocuments(o,_).next(w=>({Ts:w,removedBatchIds:p,addedBatchIds:g}))})})}function M0(i,t){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=t.batch.keys(),c=r.hs.newChangeBuffer({trackRemovals:!0});return function(g,_,w,N){const L=w.batch,B=L.keys();let K=j.resolve();return B.forEach(Y=>{K=K.next(()=>N.getEntry(_,Y)).next(W=>{const $=w.docVersions.get(Y);Xe($!==null),W.version.compareTo($)<0&&(L.applyToRemoteDocument(W,w),W.isValidDocument()&&(W.setReadTime(w.commitVersion),N.addEntry(W)))})}),K.next(()=>g.mutationQueue.removeMutationBatch(_,L))}(r,o,t,c).next(()=>c.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let _=Ot();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(_=_.add(g.batch.mutations[w].key));return _}(t))).next(()=>r.localDocuments.getDocuments(o,a))})}function F0(i){const t=Be(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function U0(i,t){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}class yp{constructor(){this.activeTargetIds=jv()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B0{constructor(){this._o=new yp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new yp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta=null;function Dc(){return Ta===null?Ta=function(){return 268435456+Math.round(2147483648*Math.random())}():Ta++,"0x"+Ta.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class $0 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(r,o,a,c,p){const g=Dc(),_=this.No(r,o.toUriEncodedString());ie("RestConnection",`Sending RPC '${r}' ${g}:`,_,a);const w={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(w,c,p),this.Bo(r,_,w,a).then(N=>(ie("RestConnection",`Received RPC '${r}' ${g}: `,N),N),N=>{throw Da("RestConnection",`RPC '${r}' ${g} failed with error: `,N,"url: ",_,"request:",a),N})}ko(r,o,a,c,p,g){return this.Oo(r,o,a,c,p)}Lo(r,o,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),a&&a.headers.forEach((c,p)=>r[p]=c)}No(r,o){const a=j0[r];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,a){const c=Dc();return new Promise((p,g)=>{const _=new Yp;_.setWithCredentials(!0),_.listenOnce(Jp.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Aa.NO_ERROR:const N=_.getResponseJson();ie(xt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(N)),p(N);break;case Aa.TIMEOUT:ie(xt,`RPC '${t}' ${c} timed out`),g(new he(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const L=_.getStatus();if(ie(xt,`RPC '${t}' ${c} failed with status:`,L,"response text:",_.getResponseText()),L>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B==null?void 0:B.error;if(K&&K.status&&K.message){const Y=function($){const de=$.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(de)>=0?de:Q.UNKNOWN}(K.status);g(new he(Y,K.message))}else g(new he(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new he(Q.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ie(xt,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(a);ie(xt,`RPC '${t}' ${c} sending request:`,a),_.send(r,"POST",w,o,15)})}qo(t,r,o){const a=Dc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=tm(),g=em(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(_.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Lo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const N=c.join("");ie(xt,`Creating RPC '${t}' stream ${a}: ${N}`,_);const L=p.createWebChannel(N,_);let B=!1,K=!1;const Y=new b0({Eo:$=>{K?ie(xt,`Not sending because RPC '${t}' stream ${a} is closed:`,$):(B||(ie(xt,`Opening RPC '${t}' stream ${a} transport.`),L.open(),B=!0),ie(xt,`RPC '${t}' stream ${a} sending:`,$),L.send($))},Ao:()=>L.close()}),W=($,de,me)=>{$.listen(de,pe=>{try{me(pe)}catch(ce){setTimeout(()=>{throw ce},0)}})};return W(L,Uo.EventType.OPEN,()=>{K||(ie(xt,`RPC '${t}' stream ${a} transport opened.`),Y.So())}),W(L,Uo.EventType.CLOSE,()=>{K||(K=!0,ie(xt,`RPC '${t}' stream ${a} transport closed`),Y.Do())}),W(L,Uo.EventType.ERROR,$=>{K||(K=!0,Da(xt,`RPC '${t}' stream ${a} transport errored:`,$),Y.Do(new he(Q.UNAVAILABLE,"The operation could not be completed")))}),W(L,Uo.EventType.MESSAGE,$=>{var de;if(!K){const me=$.data[0];Xe(!!me);const pe=me,ce=(pe==null?void 0:pe.error)||((de=pe[0])===null||de===void 0?void 0:de.error);if(ce){ie(xt,`RPC '${t}' stream ${a} received error:`,ce);const be=ce.status;let Te=function(S){const C=it[S];if(C!==void 0)return e0(C)}(be),k=ce.message;Te===void 0&&(Te=Q.INTERNAL,k="Unknown error status: "+be+" with message "+ce.message),K=!0,Y.Do(new he(Te,k)),L.close()}else ie(xt,`RPC '${t}' stream ${a} received:`,me),Y.vo(me)}}),W(g,Zp.STAT_EVENT,$=>{$.stat===bc.PROXY?ie(xt,`RPC '${t}' stream ${a} detected buffering proxy`):$.stat===bc.NOPROXY&&ie(xt,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.bo()},0),Y}}function xc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(i){return new t0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,r,o=1e3,a=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,r-o);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,r,o,a,c,p,g,_){this.li=t,this.Yo=o,this.Zo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Pm(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(Pi(r.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===r&&this.I_(o,a)},o=>{t(()=>{const a=new he(Q.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q0 extends H0{constructor(t,r,o,a,c,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,r){return this.connection.qo("Write",t,r)}A_(t){return Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,Xe(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const r=u0(t.writeResults,t.commitTime),o=Ds(t.commitTime);return this.listener.y_(o,r)}w_(){const t={};t.database=o0(this.serializer),this.c_(t)}g_(t){const r={streamToken:this.lastStreamToken,writes:t.map(o=>a0(this.serializer,o))};this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends class{}{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Gc(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Q.UNKNOWN,c.toString())})}ko(t,r,o,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Gc(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new he(Q.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Q0{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Pi(r),this.C_=!1):ie("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{tl(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(_){const w=Be(_);w.k_.add(4),await el(w),w.K_.set("Unknown"),w.k_.delete(4),await Wa(w)}(this))})}),this.K_=new Q0(o,a)}}async function Wa(i){if(tl(i))for(const t of i.q_)await t(!0)}async function el(i){for(const t of i.q_)await t(!1)}function tl(i){return Be(i).k_.size===0}async function Nm(i,t,r){if(!Jo(t))throw t;i.k_.add(1),await el(i),i.K_.set("Offline"),r||(r=()=>F0(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await r(),i.k_.delete(1),await Wa(i)})}function Dm(i,t){return t().catch(r=>Nm(i,r,t))}async function Qa(i){const t=Be(i),r=Gr(t);let o=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;K0(t);)try{const a=await U0(t.localStore,o);if(a===null){t.L_.length===0&&r.a_();break}o=a.batchId,X0(t,a)}catch(a){await Nm(t,a)}xm(t)&&Vm(t)}function K0(i){return tl(i)&&i.L_.length<10}function X0(i,t){i.L_.push(t);const r=Gr(i);r.s_()&&r.f_&&r.g_(t.mutations)}function xm(i){return tl(i)&&!Gr(i).i_()&&i.L_.length>0}function Vm(i){Gr(i).start()}async function Y0(i){Gr(i).w_()}async function J0(i){const t=Gr(i);for(const r of i.L_)t.g_(r.mutations)}async function Z0(i,t,r){const o=i.L_.shift(),a=fh.from(o,t,r);await Dm(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Qa(i)}async function eE(i,t){t&&Gr(i).f_&&await async function(o,a){if(function(p){return Zv(p)&&p!==Q.ABORTED}(a.code)){const c=o.L_.shift();Gr(o).__(),await Dm(o,()=>o.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Qa(o)}}(i,t),xm(i)&&Vm(i)}async function vp(i,t){const r=Be(i);r.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const o=tl(r);r.k_.add(3),await el(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await Wa(r)}async function tE(i,t){const r=Be(i);t?(r.k_.delete(2),await Wa(r)):t||(r.k_.add(2),await el(r),r.K_.set("Unknown"))}function Gr(i){return i.G_||(i.G_=function(r,o,a){const c=Be(r);return c.b_(),new q0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:Y0.bind(null,i),po:eE.bind(null,i),p_:J0.bind(null,i),y_:Z0.bind(null,i)}),i.q_.push(async t=>{t?(i.G_.__(),await Qa(i)):(await i.G_.stop(),i.L_.length>0&&(ie("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,g=new gh(t,r,p,a,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(i,t){if(Pi("AsyncQueue",`${t}: ${i}`),Jo(i))return new he(Q.UNAVAILABLE,`${t}: ${i}`);throw i}class nE{constructor(){this.queries=Ep(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const a=Be(r),c=a.queries;a.queries=Ep(),c.forEach((p,g)=>{for(const _ of g.J_)_.onError(o)})})(this,new he(Q.ABORTED,"Firestore shutting down"))}}function Ep(){return new Oi(i=>dm(i),fm)}function rE(i){i.X_.forEach(t=>{t.next()})}var wp,Tp;(Tp=wp||(wp={})).na="default",Tp.Cache="cache";class iE{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Oi(g=>dm(g),fm),this.Oa=new Map,this.Na=new Set,this.La=new Kt(ge.comparator),this.Ba=new Map,this.ka=new dh,this.qa={},this.Qa=new Map,this.Ka=Fs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function sE(i,t,r){const o=uE(i);try{const a=await function(p,g){const _=Be(p),w=yt.now(),N=g.reduce((K,Y)=>K.add(Y.key),Ot());let L,B;return _.persistence.runTransaction("Locally write mutations","readwrite",K=>{let Y=Fa(),W=Ot();return _.hs.getEntries(K,N).next($=>{Y=$,Y.forEach((de,me)=>{me.isValidDocument()||(W=W.add(de))})}).next(()=>_.localDocuments.getOverlayedDocuments(K,Y)).next($=>{L=$;const de=[];for(const me of g){const pe=Kv(me,L.get(me.key).overlayedDocument);pe!=null&&de.push(new Li(me.key,pe,sm(pe.value.mapValue),hr.exists(!0)))}return _.mutationQueue.addMutationBatch(K,w,de,g)}).next($=>{B=$;const de=$.applyToLocalDocumentSet(L,W);return _.documentOverlayCache.saveOverlays(K,$.batchId,de)})}).then(()=>({batchId:B.batchId,changes:mm(L)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(a.batchId),function(p,g,_){let w=p.qa[p.currentUser.toKey()];w||(w=new Kt(xe)),w=w.insert(g,_),p.qa[p.currentUser.toKey()]=w}(o,a.batchId,r),await Ga(o,a.changes),await Qa(o.remoteStore)}catch(a){const c=Om(a,"Failed to persist write");r.reject(c)}}function Ip(i,t,r){const o=Be(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&a.push(g.snapshot)}),function(p,g){const _=Be(p);_.onlineState=g;let w=!1;_.queries.forEach((N,L)=>{for(const B of L.J_)B.ea(g)&&(w=!0)}),w&&rE(_)}(o.eventManager,t),a.length&&o.Ma.R_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function oE(i,t){const r=Be(i),o=t.batch.batchId;try{const a=await M0(r.localStore,t);Mm(r,o,null),Lm(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await Ga(r,a)}catch(a){await nh(a)}}async function lE(i,t,r){const o=Be(i);try{const a=await function(p,g){const _=Be(p);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let N;return _.mutationQueue.lookupMutationBatch(w,g).next(L=>(Xe(L!==null),N=L.keys(),_.mutationQueue.removeMutationBatch(w,L))).next(()=>_.mutationQueue.performConsistencyCheck(w)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(w,N,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,N)).next(()=>_.localDocuments.getDocuments(w,N))})}(o.localStore,t);Mm(o,t,r),Lm(o,t),o.sharedClientState.updateMutationState(t,"rejected",r),await Ga(o,a)}catch(a){await nh(a)}}function Lm(i,t){(i.Qa.get(t)||[]).forEach(r=>{r.resolve()}),i.Qa.delete(t)}function Mm(i,t,r){const o=Be(i);let a=o.qa[o.currentUser.toKey()];if(a){const c=a.get(t);c&&(r?c.reject(r):c.resolve(),a=a.remove(t)),o.qa[o.currentUser.toKey()]=a}}async function Ga(i,t,r){const o=Be(i),a=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,_)=>{p.push(o.Ua(_,t,r).then(w=>{var N;if((w||r)&&o.isPrimaryClient){const L=w?!w.fromCache:(N=void 0)===null||N===void 0?void 0:N.current;o.sharedClientState.updateQueryState(_.targetId,L?"current":"not-current")}if(w){a.push(w);const L=mh.zi(_.targetId,w);c.push(L)}}))}),await Promise.all(p),o.Ma.R_(a),await async function(_,w){const N=Be(_);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>j.forEach(w,B=>j.forEach(B.Wi,K=>N.persistence.referenceDelegate.addReference(L,B.targetId,K)).next(()=>j.forEach(B.Gi,K=>N.persistence.referenceDelegate.removeReference(L,B.targetId,K)))))}catch(L){if(!Jo(L))throw L;ie("LocalStore","Failed to update sequence numbers: "+L)}for(const L of w){const B=L.targetId;if(!L.fromCache){const K=N.us.get(B),Y=K.snapshotVersion,W=K.withLastLimboFreeSnapshotVersion(Y);N.us=N.us.insert(B,W)}}}(o.localStore,c))}async function aE(i,t){const r=Be(i);if(!r.currentUser.isEqual(t)){ie("SyncEngine","User change. New user:",t.toKey());const o=await km(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(_=>{_.reject(new he(Q.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Ga(r,o.Ts)}}function uE(i){const t=Be(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lE.bind(null,t),t}class za{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qa(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return L0(this.persistence,new V0,t.initialUser,this.serializer)}ja(t){return new Cm(ph.ei,this.serializer)}za(t){return new B0}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}za.provider={build:()=>new za};class cE extends za{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){Xe(this.persistence.referenceDelegate instanceof Ba);const o=this.persistence.referenceDelegate.garbageCollector;return new _0(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Cm(o=>Ba.ei(o,r),this.serializer)}}class Xc{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Ip(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=aE.bind(null,this.syncEngine),await tE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nE}()}createDatastore(t){const r=qa(t.databaseInfo.databaseId),o=function(c){return new $0(c)}(t.databaseInfo);return function(c,p,g,_){return new W0(c,p,g,_)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,a,c,p,g){return new G0(o,a,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>Ip(this.syncEngine,r,0),function(){return _p.p()?new _p:new z0}())}createSyncEngine(t,r){return function(a,c,p,g,_,w,N){const L=new iE(a,c,p,g,_,w);return N&&(L.$a=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const c=Be(a);ie("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await el(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Xc.provider={build:()=>new Xc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Vt.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ie("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ie("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Om(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Vc(i,t){i.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(async a=>{o.isEqual(a)||(await km(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function Sp(i,t){i.asyncQueue.verifyOperationInProgress();const r=await fE(i);ie("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(o=>vp(t.remoteStore,o)),i.setAppCheckTokenChangeListener((o,a)=>vp(t.remoteStore,a)),i._onlineComponents=t}async function fE(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vc(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Da("Error using user provided cache. Falling back to memory cache: "+r),await Vc(i,new za)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Vc(i,new cE(void 0));return i._offlineComponents}async function dE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Sp(i,i._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Sp(i,new Xc))),i._onlineComponents}function pE(i){return dE(i).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(i,t,r){if(!r)throw new he(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function mE(i,t,r,o){if(t===!0&&o===!0)throw new he(Q.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Rp(i){if(!ge.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cp(i){if(ge.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function Bm(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new he(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=yh(i);throw new he(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new he(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new he(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ka{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new J_;switch(o.type){case"firstParty":return new nv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new he(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Ap.get(r);o&&(ie("ComponentProvider","Removing Datastore"),Ap.delete(r),o.terminate())}(this),Promise.resolve()}}function gE(i,t,r,o={}){var a;const c=(i=Bm(i,Ka))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,_;if(typeof o.mockUserToken=="string")g=o.mockUserToken,_=Vt.MOCK_USER;else{g=Bp(o.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const w=o.mockUserToken.sub||o.mockUserToken.user_id;if(!w)throw new he(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Vt(w)}i._authCredentials=new Z_(new nm(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class fr{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}}class qr extends _h{constructor(t,r,o){super(t,r,xv(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new ge(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function yE(i,t,...r){if(i=dr(i),Um("collection","path",t),i instanceof Ka){const o=Ke.fromString(t,...r);return Cp(o),new qr(i,null,o)}{if(!(i instanceof fr||i instanceof qr))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ke.fromString(t,...r));return Cp(o),new qr(i.firestore,null,o)}}function _E(i,t,...r){if(i=dr(i),arguments.length===1&&(t=rm.newId()),Um("doc","path",t),i instanceof Ka){const o=Ke.fromString(t,...r);return Rp(o),new fr(i,null,new ge(o))}{if(!(i instanceof fr||i instanceof qr))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ke.fromString(t,...r));return Rp(o),new fr(i.firestore,i instanceof qr?i.converter:null,new ge(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Pm(this,"async_queue_retry"),this.fu=()=>{const o=xc();o&&ie("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=xc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=xc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new Ai;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Jo(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const a=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw Pi("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const a=gh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class zm extends Ka{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new Pp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pp(t),this._firestoreClient=void 0,await t}}}function vE(i,t){const r=typeof i=="object"?i:Qp(),o=typeof i=="string"?i:"(default)",a=Hp(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=Fp("firestore");c&&gE(a,...c)}return a}function EE(i){if(i._terminated)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||wE(i),i._firestoreClient}function wE(i){var t,r,o;const a=i._freezeSettings(),c=function(g,_,w,N){return new _v(g,_,w,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,Fm(N.experimentalLongPollingOptions),N.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new hE(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yo(qn.fromBase64String(t))}catch(r){throw new he(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Yo(qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new he(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new he(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new he(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=/^__.*__$/;class IE{constructor(t,r,o){this.data=t,this.fieldMask=r,this.fieldTransforms=o}toMutation(t,r){return this.fieldMask!==null?new Li(t,this.data,this.fieldMask,r,this.fieldTransforms):new Zo(t,this.data,r,this.fieldTransforms)}}function Hm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Eh{constructor(t,r,o,a,c,p){this.settings=t,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Eh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.xu({path:o,Nu:!1});return a.Lu(t),a}Bu(t){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.xu({path:o,Nu:!1});return a.Fu(),a}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return ja(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(Hm(this.Mu)&&TE.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class SE{constructor(t,r,o){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=o||qa(t)}$u(t,r,o,a=!1){return new Eh({Mu:t,methodName:r,Ku:o,path:St.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AE(i){const t=i._freezeSettings(),r=qa(i._databaseId);return new SE(i._databaseId,!!t.ignoreUndefinedProperties,r)}function RE(i,t,r,o,a,c={}){const p=i.$u(c.merge||c.mergeFields?2:0,t,r,a);Gm("Data must be an object, but it was:",p,o);const g=Wm(o,p);let _,w;if(c.merge)_=new xn(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const N=[];for(const L of c.mergeFields){const B=CE(t,L,r);if(!p.contains(B))throw new he(Q.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);NE(N,B)||N.push(B)}_=new xn(N),w=p.fieldTransforms.filter(L=>_.covers(L.field))}else _=null,w=p.fieldTransforms;return new IE(new Dn(g),_,w)}class wh extends vh{_toFieldTransform(t){return new qv(t.path,new Go)}isEqual(t){return t instanceof wh}}function qm(i,t){if(Qm(i=dr(i)))return Gm("Unsupported field value:",t,i),Wm(i,t);if(i instanceof vh)return function(o,a){if(!Hm(a.Mu))throw a.qu(`${o._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(o,a){const c=[];let p=0;for(const g of o){let _=qm(g,a.ku(p));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),p++}return{arrayValue:{values:c}}}(i,t)}return function(o,a){if((o=dr(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return bv(a.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=yt.fromDate(o);return{timestampValue:Qc(a.serializer,c)}}if(o instanceof yt){const c=new yt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Qc(a.serializer,c)}}if(o instanceof bm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Yo)return{bytesValue:n0(a.serializer,o._byteString)};if(o instanceof fr){const c=a.databaseId,p=o.firestore._databaseId;if(!p.isEqual(c))throw a.qu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Am(o.firestore._databaseId||a.databaseId,o._key.path)}}if(o instanceof $m)return function(p,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:p.toArray().map(_=>{if(typeof _!="number")throw g.qu("VectorValues must only contain numeric values.");return hh(g.serializer,_)})}}}}}}(o,a);throw a.qu(`Unsupported field value: ${yh(o)}`)}(i,t)}function Wm(i,t){const r={};return im(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(i,(o,a)=>{const c=qm(a,t.Ou(o));c!=null&&(r[o]=c)}),{mapValue:{fields:r}}}function Qm(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof bm||i instanceof Yo||i instanceof fr||i instanceof vh||i instanceof $m)}function Gm(i,t,r){if(!Qm(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const o=yh(r);throw o==="an object"?t.qu(i+" a custom object"):t.qu(i+" "+o)}}function CE(i,t,r){if((t=dr(t))instanceof jm)return t._internalPath;if(typeof t=="string")return PE(i,t);throw ja("Field path arguments must be of type string or ",i,!1,void 0,r)}const kE=new RegExp("[~\\*/\\[\\]]");function PE(i,t,r){if(t.search(kE)>=0)throw ja(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new jm(...t.split("."))._internalPath}catch{throw ja(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ja(i,t,r,o,a){const c=o&&!o.isEmpty(),p=a!==void 0;let g=`Function ${t}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||p)&&(_+=" (found",c&&(_+=` in field ${o}`),p&&(_+=` in document ${a}`),_+=")"),new he(Q.INVALID_ARGUMENT,g+i+_)}function NE(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(i,t,r){let o;return o=i?i.toFirestore(t):t,o}function xE(i,t){const r=Bm(i.firestore,zm),o=_E(i),a=DE(i.converter,t);return VE(r,[RE(AE(i.firestore),"addDoc",o._key,a,i.converter!==null,{}).toMutation(o._key,hr.exists(!1))]).then(()=>o)}function VE(i,t){return function(o,a){const c=new Ai;return o.asyncQueue.enqueueAndForget(async()=>sE(await pE(o),a,c)),c.promise}(EE(i),t)}function OE(){return new wh("serverTimestamp")}(function(t,r=!0){(function(a){Us=a})(qp),Ho(new xs("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new zm(new ev(o.getProvider("auth-internal")),new iv(o.getProvider("app-check-internal")),function(w,N){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new he(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(w.options.projectId,N)}(p,a),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Hr(ep,"4.7.5",t),Hr(ep,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="firebasestorage.googleapis.com",Xm="storageBucket",LE=2*60*1e3,ME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Vi{constructor(t,r,o=0){super(Oc(t),`Firebase Storage: ${r} (${Oc(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Oc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function Oc(i){return"storage/"+i}function Th(){const i="An unknown error occurred, please check the error payload for server response.";return new Je(Ye.UNKNOWN,i)}function FE(i){return new Je(Ye.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function UE(i){return new Je(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BE(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Ye.UNAUTHENTICATED,i)}function zE(){return new Je(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jE(i){return new Je(Ye.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function bE(){return new Je(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $E(){return new Je(Ye.CANCELED,"User canceled the upload/download.")}function HE(i){return new Je(Ye.INVALID_URL,"Invalid URL '"+i+"'.")}function qE(i){return new Je(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function WE(){return new Je(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xm+"' property when initializing the app?")}function QE(){return new Je(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GE(){return new Je(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KE(i){return new Je(Ye.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yc(i){return new Je(Ye.INVALID_ARGUMENT,i)}function Ym(){return new Je(Ye.APP_DELETED,"The Firebase app was deleted.")}function XE(i){return new Je(Ye.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $o(i,t){return new Je(Ye.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function Fo(i){throw new Je(Ye.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let o;try{o=rn.makeFromUrl(t,r)}catch{return new rn(t,"")}if(o.path==="")return o;throw qE(t)}static makeFromUrl(t,r){let o=null;const a="([A-Za-z0-9.\\-_]+)";function c(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const p="(/(.*))?$",g=new RegExp("^gs://"+a+p,"i"),_={bucket:1,path:3};function w(ce){ce.path_=decodeURIComponent(ce.path)}const N="v[A-Za-z0-9_]+",L=r.replace(/[.]/g,"\\."),B="(/([^?#]*).*)?$",K=new RegExp(`^https?://${L}/${N}/b/${a}/o${B}`,"i"),Y={bucket:1,path:3},W=r===Km?"(?:storage.googleapis.com|storage.cloud.google.com)":r,$="([^?#]*)",de=new RegExp(`^https?://${W}/${a}/${$}`,"i"),pe=[{regex:g,indices:_,postModify:c},{regex:K,indices:Y,postModify:w},{regex:de,indices:{bucket:1,path:2},postModify:w}];for(let ce=0;ce<pe.length;ce++){const be=pe[ce],Te=be.regex.exec(t);if(Te){const k=Te[be.indices.bucket];let T=Te[be.indices.path];T||(T=""),o=new rn(k,T),be.postModify(o);break}}if(o==null)throw HE(t);return o}}class YE{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(i,t,r){let o=1,a=null,c=null,p=!1,g=0;function _(){return g===2}let w=!1;function N(...$){w||(w=!0,t.apply(null,$))}function L($){a=setTimeout(()=>{a=null,i(K,_())},$)}function B(){c&&clearTimeout(c)}function K($,...de){if(w){B();return}if($){B(),N.call(null,$,...de);return}if(_()||p){B(),N.call(null,$,...de);return}o<64&&(o*=2);let pe;g===1?(g=2,pe=0):pe=(o+Math.random())*1e3,L(pe)}let Y=!1;function W($){Y||(Y=!0,B(),!w&&(a!==null?($||(g=2),clearTimeout(a),L(0)):$||(g=1)))}return L(0),c=setTimeout(()=>{p=!0,W(!0)},r),W}function ZE(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(i){return i!==void 0}function t1(i){return typeof i=="object"&&!Array.isArray(i)}function Ih(i){return typeof i=="string"||i instanceof String}function Np(i){return Sh()&&i instanceof Blob}function Sh(){return typeof Blob<"u"}function Dp(i,t,r,o){if(o<t)throw Yc(`Invalid value for '${i}'. Expected ${t} or greater.`);if(o>r)throw Yc(`Invalid value for '${i}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,t,r){let o=t;return r==null&&(o=`https://${t}`),`${r}://${o}/v0${i}`}function Jm(i){const t=encodeURIComponent;let r="?";for(const o in i)if(i.hasOwnProperty(o)){const a=t(o)+"="+t(i[o]);r=r+a+"&"}return r=r.slice(0,-1),r}var Ci;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ci||(Ci={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i,t){const r=i>=500&&i<600,a=[408,429].indexOf(i)!==-1,c=t.indexOf(i)!==-1;return r||a||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,r,o,a,c,p,g,_,w,N,L,B=!0){this.url_=t,this.method_=r,this.headers_=o,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=p,this.callback_=g,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=N,this.connectionFactory_=L,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,Y)=>{this.resolve_=K,this.reject_=Y,this.start_()})}start_(){const t=(o,a)=>{if(a){o(!1,new Ia(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const p=g=>{const _=g.loaded,w=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,w)};this.progressCallback_!==null&&c.addUploadProgressListener(p),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(p),this.pendingConnection_=null;const g=c.getErrorCode()===Ci.NO_ERROR,_=c.getStatus();if(!g||n1(_,this.additionalRetryCodes_)&&this.retry){const N=c.getErrorCode()===Ci.ABORT;o(!1,new Ia(!1,null,N));return}const w=this.successCodes_.indexOf(_)!==-1;o(!0,new Ia(w,c))})},r=(o,a)=>{const c=this.resolve_,p=this.reject_,g=a.connection;if(a.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());e1(_)?c(_):c()}catch(_){p(_)}else if(g!==null){const _=Th();_.serverResponse=g.getErrorText(),this.errorCallback_?p(this.errorCallback_(g,_)):p(_)}else if(a.canceled){const _=this.appDelete_?Ym():$E();p(_)}else{const _=bE();p(_)}};this.canceled_?r(!1,new Ia(!1,null,!0)):this.backoffId_=JE(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ZE(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ia{constructor(t,r,o){this.wasSuccessCode=t,this.connection=r,this.canceled=!!o}}function i1(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function s1(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function o1(i,t){t&&(i["X-Firebase-GMPID"]=t)}function l1(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function a1(i,t,r,o,a,c,p=!0){const g=Jm(i.urlParams),_=i.url+g,w=Object.assign({},i.headers);return o1(w,t),i1(w,r),s1(w,c),l1(w,o),new r1(_,i.method,w,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function c1(...i){const t=u1();if(t!==void 0){const r=new t;for(let o=0;o<i.length;o++)r.append(i[o]);return r.getBlob()}else{if(Sh())return new Blob(i);throw new Je(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function h1(i,t,r){return i.webkitSlice?i.webkitSlice(t,r):i.mozSlice?i.mozSlice(t,r):i.slice?i.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i){if(typeof atob>"u")throw KE("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lc{constructor(t,r){this.data=t,this.contentType=r||null}}function d1(i,t){switch(i){case Hn.RAW:return new Lc(Zm(t));case Hn.BASE64:case Hn.BASE64URL:return new Lc(eg(i,t));case Hn.DATA_URL:return new Lc(m1(t),g1(t))}throw Th()}function Zm(i){const t=[];for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(r<i.length-1&&(i.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const c=o,p=i.charCodeAt(++r);o=65536|(c&1023)<<10|p&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function p1(i){let t;try{t=decodeURIComponent(i)}catch{throw $o(Hn.DATA_URL,"Malformed data URL.")}return Zm(t)}function eg(i,t){switch(i){case Hn.BASE64:{const a=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(a||c)throw $o(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const a=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(a||c)throw $o(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=f1(t)}catch(a){throw a.message.includes("polyfill")?a:$o(i,"Invalid character found")}const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}class tg{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw $o(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;o!=null&&(this.base64=y1(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function m1(i){const t=new tg(i);return t.base64?eg(Hn.BASE64,t.rest):p1(t.rest)}function g1(i){return new tg(i).contentType}function y1(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,r){let o=0,a="";Np(t)?(this.data_=t,o=t.size,a=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,r){if(Np(this.data_)){const o=this.data_,a=h1(o,t,r);return a===null?null:new jr(a)}else{const o=new Uint8Array(this.data_.buffer,t,r-t);return new jr(o,!0)}}static getBlob(...t){if(Sh()){const r=t.map(o=>o instanceof jr?o.data_:o);return new jr(c1.apply(null,r))}else{const r=t.map(p=>Ih(p)?d1(Hn.RAW,p).data:p.data_);let o=0;r.forEach(p=>{o+=p.byteLength});const a=new Uint8Array(o);let c=0;return r.forEach(p=>{for(let g=0;g<p.length;g++)a[c++]=p[g]}),new jr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i){let t;try{t=JSON.parse(i)}catch{return null}return t1(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function v1(i,t){const r=t.split("/").filter(o=>o.length>0).join("/");return i.length===0?r:i+"/"+r}function rg(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i,t){return t}class Bt{constructor(t,r,o,a){this.server=t,this.local=r||t,this.writable=!!o,this.xform=a||E1}}let Sa=null;function w1(i){return!Ih(i)||i.length<2?i:rg(i)}function ig(){if(Sa)return Sa;const i=[];i.push(new Bt("bucket")),i.push(new Bt("generation")),i.push(new Bt("metageneration")),i.push(new Bt("name","fullPath",!0));function t(c,p){return w1(p)}const r=new Bt("name");r.xform=t,i.push(r);function o(c,p){return p!==void 0?Number(p):p}const a=new Bt("size");return a.xform=o,i.push(a),i.push(new Bt("timeCreated")),i.push(new Bt("updated")),i.push(new Bt("md5Hash",null,!0)),i.push(new Bt("cacheControl",null,!0)),i.push(new Bt("contentDisposition",null,!0)),i.push(new Bt("contentEncoding",null,!0)),i.push(new Bt("contentLanguage",null,!0)),i.push(new Bt("contentType",null,!0)),i.push(new Bt("metadata","customMetadata",!0)),Sa=i,Sa}function T1(i,t){function r(){const o=i.bucket,a=i.fullPath,c=new rn(o,a);return t._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:r})}function I1(i,t,r){const o={};o.type="file";const a=r.length;for(let c=0;c<a;c++){const p=r[c];o[p.local]=p.xform(o,t[p.server])}return T1(o,i),o}function sg(i,t,r){const o=ng(t);return o===null?null:I1(i,o,r)}function S1(i,t,r,o){const a=ng(t);if(a===null||!Ih(a.downloadTokens))return null;const c=a.downloadTokens;if(c.length===0)return null;const p=encodeURIComponent;return c.split(",").map(w=>{const N=i.bucket,L=i.fullPath,B="/b/"+p(N)+"/o/"+p(L),K=Ah(B,r,o),Y=Jm({alt:"media",token:w});return K+Y})[0]}function A1(i,t){const r={},o=t.length;for(let a=0;a<o;a++){const c=t[a];c.writable&&(r[c.server]=i[c.local])}return JSON.stringify(r)}class og{constructor(t,r,o,a){this.url=t,this.method=r,this.handler=o,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i){if(!i)throw Th()}function R1(i,t){function r(o,a){const c=sg(i,a,t);return lg(c!==null),c}return r}function C1(i,t){function r(o,a){const c=sg(i,a,t);return lg(c!==null),S1(c,a,i.host,i._protocol)}return r}function ag(i){function t(r,o){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=zE():a=BE():r.getStatus()===402?a=UE(i.bucket):r.getStatus()===403?a=jE(i.path):a=o,a.status=r.getStatus(),a.serverResponse=o.serverResponse,a}return t}function k1(i){const t=ag(i);function r(o,a){let c=t(o,a);return o.getStatus()===404&&(c=FE(i.path)),c.serverResponse=a.serverResponse,c}return r}function P1(i,t,r){const o=t.fullServerUrl(),a=Ah(o,i.host,i._protocol),c="GET",p=i.maxOperationRetryTime,g=new og(a,c,C1(i,r),p);return g.errorHandler=k1(t),g}function N1(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function D1(i,t,r){const o=Object.assign({},r);return o.fullPath=i.path,o.size=t.size(),o.contentType||(o.contentType=N1(null,t)),o}function x1(i,t,r,o,a){const c=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function g(){let pe="";for(let ce=0;ce<2;ce++)pe=pe+Math.random().toString().slice(2);return pe}const _=g();p["Content-Type"]="multipart/related; boundary="+_;const w=D1(t,o,a),N=A1(w,r),L="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+N+`\r
--`+_+`\r
Content-Type: `+w.contentType+`\r
\r
`,B=`\r
--`+_+"--",K=jr.getBlob(L,o,B);if(K===null)throw QE();const Y={name:w.fullPath},W=Ah(c,i.host,i._protocol),$="POST",de=i.maxUploadRetryTime,me=new og(W,$,R1(i,r),de);return me.urlParams=Y,me.headers=p,me.body=K.uploadData(),me.errorHandler=ag(t),me}class V1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ci.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ci.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ci.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,o,a){if(this.sent_)throw Fo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class O1 extends V1{initXhr(){this.xhr_.responseType="text"}}function ug(){return new O1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,r){this._service=t,r instanceof rn?this._location=r:this._location=rn.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new xi(t,r)}get root(){const t=new rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rg(this._location.path)}get storage(){return this._service}get parent(){const t=_1(this._location.path);if(t===null)return null;const r=new rn(this._location.bucket,t);return new xi(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw XE(t)}}function L1(i,t,r){i._throwIfRoot("uploadBytes");const o=x1(i.storage,i._location,ig(),new jr(t,!0),r);return i.storage.makeRequestWithTokens(o,ug).then(a=>({metadata:a,ref:i}))}function M1(i){i._throwIfRoot("getDownloadURL");const t=P1(i.storage,i._location,ig());return i.storage.makeRequestWithTokens(t,ug).then(r=>{if(r===null)throw GE();return r})}function F1(i,t){const r=v1(i._location.path,t),o=new rn(i._location.bucket,r);return new xi(i.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i){return/^[A-Za-z]+:\/\//.test(i)}function B1(i,t){return new xi(i,t)}function cg(i,t){if(i instanceof Rh){const r=i;if(r._bucket==null)throw WE();const o=new xi(r,r._bucket);return t!=null?cg(o,t):o}else return t!==void 0?F1(i,t):i}function z1(i,t){if(t&&U1(t)){if(i instanceof Rh)return B1(i,t);throw Yc("To use ref(service, url), the first argument must be a Storage instance.")}else return cg(i,t)}function xp(i,t){const r=t==null?void 0:t[Xm];return r==null?null:rn.makeFromBucketSpec(r,i)}function j1(i,t,r,o={}){i.host=`${t}:${r}`,i._protocol="http";const{mockUserToken:a}=o;a&&(i._overrideAuthToken=typeof a=="string"?a:Bp(a,i.app.options.projectId))}class Rh{constructor(t,r,o,a,c){this.app=t,this._authProvider=r,this._appCheckProvider=o,this._url=a,this._firebaseVersion=c,this._bucket=null,this._host=Km,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LE,this._maxUploadRetryTime=ME,this._requests=new Set,a!=null?this._bucket=rn.makeFromBucketSpec(a,this._host):this._bucket=xp(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,t):this._bucket=xp(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Dp("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Dp("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xi(this,t)}_makeRequest(t,r,o,a,c=!0){if(this._deleted)return new YE(Ym());{const p=a1(t,this._appId,o,a,r,this._firebaseVersion,c);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(t,r){const[o,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,o,a).getPromise()}}const Vp="@firebase/storage",Op="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="storage";function b1(i,t,r){return i=dr(i),L1(i,t,r)}function $1(i){return i=dr(i),M1(i)}function H1(i,t){return i=dr(i),z1(i,t)}function q1(i=Qp(),t){i=dr(i);const o=Hp(i,hg).getImmediate({identifier:t}),a=Fp("storage");return a&&W1(o,...a),o}function W1(i,t,r,o={}){j1(i,t,r,o)}function Q1(i,{instanceIdentifier:t}){const r=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new Rh(r,o,a,t,qp)}function G1(){Ho(new xs(hg,Q1,"PUBLIC").setMultipleInstances(!0)),Hr(Vp,Op,""),Hr(Vp,Op,"esm2017")}G1();const K1="_container_1iaxo_1",X1="_form_1iaxo_15",Y1="_nfcButton_1iaxo_39",J1="_scanButton_1iaxo_39",Z1="_selfieButton_1iaxo_39",ew="_submitButton_1iaxo_39",ks={container:K1,form:X1,nfcButton:Y1,scanButton:J1,selfieButton:Z1,submitButton:ew},tw={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},fg=Wp(tw),nw=vE(fg),rw=q1(fg),iw=()=>{const[i,t]=zr.useState(null),[r,o]=zr.useState(null),[a,c]=zr.useState(null),[p,g]=zr.useState({studentName:"",email:"",course:"",campus:""});zr.useRef(null);const _=zr.useRef(null),w=zr.useRef(null),N=async()=>{if("NDEFReader"in window)try{const W=new NDEFReader;await W.scan(),W.addEventListener("reading",({message:$,serialNumber:de})=>{t(de)})}catch(W){alert("NFC Error: "+W)}else alert("Web NFC not supported")},L=W=>{const $=W.target.files[0];o($)},B=W=>{const $=W.target.files[0];c($)},K=async()=>{if(!a)return null;const W=p.email.replace(/[@.]/g,"_"),$=H1(rw,`users/${W}/profile/${a.name}`),de=await b1($,a);return await $1(de.ref)},Y=async W=>{if(W.preventDefault(),!!window.confirm("Confirm registration?"))try{const $=await K(),de={...p,nfcSerialNumber:i,studentId:r?r.name:null,selfieUrl:$,createdAt:OE()},me=await xE(yE(nw,"RegisteredStudent"),de);alert(`Registration Complete! Document ID: ${me.id}`),t(null),o(null),c(null),g({studentName:"",email:"",course:"",campus:""})}catch($){console.error("Registration Error:",$),alert("Registration failed")}};return Oe.jsxs("div",{className:ks.container,children:[Oe.jsx("h1",{children:"Student Registration"}),i?Oe.jsxs("form",{onSubmit:Y,className:ks.form,children:[Oe.jsx("input",{type:"text",placeholder:"Student Name",value:p.studentName,onChange:W=>g({...p,studentName:W.target.value}),required:!0}),Oe.jsx("input",{type:"email",placeholder:"Email",value:p.email,onChange:W=>g({...p,email:W.target.value}),required:!0}),Oe.jsx("input",{type:"text",placeholder:"Course",value:p.course,onChange:W=>g({...p,course:W.target.value}),required:!0}),Oe.jsxs("select",{value:p.campus,onChange:W=>g({...p,campus:W.target.value}),required:!0,children:[Oe.jsx("option",{value:"",children:"Select Campus"}),Oe.jsx("option",{value:"Main",children:"Main Campus"}),Oe.jsx("option",{value:"North",children:"North Campus"}),Oe.jsx("option",{value:"Online",children:"Online Campus"})]}),r?Oe.jsxs("p",{children:["Student ID: ",r.name]}):Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("input",{type:"file",ref:w,onChange:L,accept:"image/*",capture:"environment",style:{display:"none"}}),Oe.jsx("button",{type:"button",onClick:()=>w.current.click(),className:ks.scanButton,children:"Scan Student ID"})]}),a?Oe.jsxs("p",{children:["Selfie Captured: ",a.name]}):Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("input",{type:"file",ref:_,onChange:B,accept:"image/*",capture:"user",style:{display:"none"}}),Oe.jsx("button",{type:"button",onClick:()=>_.current.click(),className:ks.selfieButton,children:"Take Selfie"})]}),Oe.jsx("button",{type:"submit",className:ks.submitButton,disabled:!r||!a,children:"Register"})]}):Oe.jsx("button",{onClick:N,className:ks.nfcButton,children:"Scan NFC Tag"})]})};function sw(){return Oe.jsx(Oe.Fragment,{children:Oe.jsx(iw,{})})}Sy.createRoot(document.getElementById("root")).render(Oe.jsx(zr.StrictMode,{children:Oe.jsx(sw,{})}));
