(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t_={exports:{}},rf={},n_={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function jB(){if($P)return Ke;$P=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function v(z,K,le){this.props=z,this.context=K,this.refs=E,this.updater=le||w}v.prototype.isReactComponent={},v.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=v.prototype;function A(z,K,le){this.props=z,this.context=K,this.refs=E,this.updater=le||w}var N=A.prototype=new P;N.constructor=A,_(N,v.prototype),N.isPureReactComponent=!0;var j=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(z,K,le){var be,Ce={},Le=null,Ge=null;if(K!=null)for(be in K.ref!==void 0&&(Ge=K.ref),K.key!==void 0&&(Le=""+K.key),K)I.call(K,be)&&!C.hasOwnProperty(be)&&(Ce[be]=K[be]);var he=arguments.length-2;if(he===1)Ce.children=le;else if(1<he){for(var ae=Array(he),ve=0;ve<he;ve++)ae[ve]=arguments[ve+2];Ce.children=ae}if(z&&z.defaultProps)for(be in he=z.defaultProps,he)Ce[be]===void 0&&(Ce[be]=he[be]);return{$$typeof:t,type:z,key:Le,ref:Ge,props:Ce,_owner:D.current}}function M(z,K){return{$$typeof:t,type:z.type,key:K,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return K[le]})}var V=/\/+/g;function O(z,K){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):K.toString(36)}function W(z,K,le,be,Ce){var Le=typeof z;(Le==="undefined"||Le==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Le){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case t:case e:Ge=!0}}if(Ge)return Ge=z,Ce=Ce(Ge),z=be===""?"."+O(Ge,0):be,j(Ce)?(le="",z!=null&&(le=z.replace(V,"$&/")+"/"),W(Ce,K,le,"",function(ve){return ve})):Ce!=null&&(F(Ce)&&(Ce=M(Ce,le+(!Ce.key||Ge&&Ge.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+z)),K.push(Ce)),1;if(Ge=0,be=be===""?".":be+":",j(z))for(var he=0;he<z.length;he++){Le=z[he];var ae=be+O(Le,he);Ge+=W(Le,K,le,ae,Ce)}else if(ae=y(z),typeof ae=="function")for(z=ae.call(z),he=0;!(Le=z.next()).done;)Le=Le.value,ae=be+O(Le,he++),Ge+=W(Le,K,le,ae,Ce);else if(Le==="object")throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Y(z,K,le){if(z==null)return z;var be=[],Ce=0;return W(z,be,"","",function(Le){return K.call(le,Le,Ce++)}),be}function X(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var re={current:null},Q={transition:null},oe={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:D};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Y,forEach:function(z,K,le){Y(z,function(){K.apply(this,arguments)},le)},count:function(z){var K=0;return Y(z,function(){K++}),K},toArray:function(z){return Y(z,function(K){return K})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=v,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=A,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ke.act=te,Ke.cloneElement=function(z,K,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var be=_({},z.props),Ce=z.key,Le=z.ref,Ge=z._owner;if(K!=null){if(K.ref!==void 0&&(Le=K.ref,Ge=D.current),K.key!==void 0&&(Ce=""+K.key),z.type&&z.type.defaultProps)var he=z.type.defaultProps;for(ae in K)I.call(K,ae)&&!C.hasOwnProperty(ae)&&(be[ae]=K[ae]===void 0&&he!==void 0?he[ae]:K[ae])}var ae=arguments.length-2;if(ae===1)be.children=le;else if(1<ae){he=Array(ae);for(var ve=0;ve<ae;ve++)he[ve]=arguments[ve+2];be.children=he}return{$$typeof:t,type:z.type,key:Ce,ref:Le,props:be,_owner:Ge}},Ke.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Ke.createElement=R,Ke.createFactory=function(z){var K=R.bind(null,z);return K.type=z,K},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:l,render:z}},Ke.isValidElement=F,Ke.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:X}},Ke.memo=function(z,K){return{$$typeof:f,type:z,compare:K===void 0?null:K}},Ke.startTransition=function(z){var K=Q.transition;Q.transition={};try{z()}finally{Q.transition=K}},Ke.unstable_act=te,Ke.useCallback=function(z,K){return re.current.useCallback(z,K)},Ke.useContext=function(z){return re.current.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z){return re.current.useDeferredValue(z)},Ke.useEffect=function(z,K){return re.current.useEffect(z,K)},Ke.useId=function(){return re.current.useId()},Ke.useImperativeHandle=function(z,K,le){return re.current.useImperativeHandle(z,K,le)},Ke.useInsertionEffect=function(z,K){return re.current.useInsertionEffect(z,K)},Ke.useLayoutEffect=function(z,K){return re.current.useLayoutEffect(z,K)},Ke.useMemo=function(z,K){return re.current.useMemo(z,K)},Ke.useReducer=function(z,K,le){return re.current.useReducer(z,K,le)},Ke.useRef=function(z){return re.current.useRef(z)},Ke.useState=function(z){return re.current.useState(z)},Ke.useSyncExternalStore=function(z,K,le){return re.current.useSyncExternalStore(z,K,le)},Ke.useTransition=function(){return re.current.useTransition()},Ke.version="18.3.1",Ke}var FP;function px(){return FP||(FP=1,n_.exports=jB()),n_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP;function LB(){if(VP)return rf;VP=1;var t=px(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,f){var h,p={},y=null,w=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:w,props:p,_owner:i.current}}return rf.Fragment=n,rf.jsx=a,rf.jsxs=a,rf}var UP;function $B(){return UP||(UP=1,t_.exports=LB()),t_.exports}var x=$B(),B=px();const J=Tt(B);var Ep={},r_={exports:{}},ur={},i_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP;function FB(){return BP||(BP=1,function(t){function e(Q,oe){var te=Q.length;Q.push(oe);e:for(;0<te;){var z=te-1>>>1,K=Q[z];if(0<i(K,oe))Q[z]=oe,Q[te]=K,te=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],te=Q.pop();if(te!==oe){Q[0]=te;e:for(var z=0,K=Q.length,le=K>>>1;z<le;){var be=2*(z+1)-1,Ce=Q[be],Le=be+1,Ge=Q[Le];if(0>i(Ce,te))Le<K&&0>i(Ge,Ce)?(Q[z]=Ge,Q[Le]=te,z=Le):(Q[z]=Ce,Q[be]=te,z=be);else if(Le<K&&0>i(Ge,te))Q[z]=Ge,Q[Le]=te,z=Le;else break e}}return oe}function i(Q,oe){var te=Q.sortIndex-oe.sortIndex;return te!==0?te:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],f=[],h=1,p=null,y=3,w=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=Q)r(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(f)}}function j(Q){if(E=!1,N(Q),!_)if(n(c)!==null)_=!0,X(I);else{var oe=n(f);oe!==null&&re(j,oe.startTime-Q)}}function I(Q,oe){_=!1,E&&(E=!1,P(R),R=-1),w=!0;var te=y;try{for(N(oe),p=n(c);p!==null&&(!(p.expirationTime>oe)||Q&&!L());){var z=p.callback;if(typeof z=="function"){p.callback=null,y=p.priorityLevel;var K=z(p.expirationTime<=oe);oe=t.unstable_now(),typeof K=="function"?p.callback=K:p===n(c)&&r(c),N(oe)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var be=n(f);be!==null&&re(j,be.startTime-oe),le=!1}return le}finally{p=null,y=te,w=!1}}var D=!1,C=null,R=-1,M=5,F=-1;function L(){return!(t.unstable_now()-F<M)}function V(){if(C!==null){var Q=t.unstable_now();F=Q;var oe=!0;try{oe=C(!0,Q)}finally{oe?O():(D=!1,C=null)}}else D=!1}var O;if(typeof A=="function")O=function(){A(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=V,O=function(){Y.postMessage(null)}}else O=function(){v(V,0)};function X(Q){C=Q,D||(D=!0,O())}function re(Q,oe){R=v(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,X(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var te=y;y=oe;try{return Q()}finally{y=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var te=y;y=Q;try{return oe()}finally{y=te}},t.unstable_scheduleCallback=function(Q,oe,te){var z=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?z+te:z):te=z,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=te+K,Q={id:h++,callback:oe,priorityLevel:Q,startTime:te,expirationTime:K,sortIndex:-1},te>z?(Q.sortIndex=te,e(f,Q),n(c)===null&&Q===n(f)&&(E?(P(R),R=-1):E=!0,re(j,te-z))):(Q.sortIndex=K,e(c,Q),_||w||(_=!0,X(I))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var oe=y;return function(){var te=y;y=oe;try{return Q.apply(this,arguments)}finally{y=te}}}}(o_)),o_}var qP;function VB(){return qP||(qP=1,i_.exports=FB()),i_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP;function UB(){if(zP)return ur;zP=1;var t=px(),e=VB();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,u){a(s,u),a(s+"Capture",u)}function a(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(s){return c.call(p,s)?!0:c.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function w(s,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,u,d,g){if(u===null||typeof u>"u"||w(s,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function E(s,u,d,g,b,T,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=s,this.type=u,this.sanitizeURL=T,this.removeEmptyString=$}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){v[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];v[u]=new E(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){v[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){v[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){v[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){v[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){v[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){v[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){v[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(P,A);v[u]=new E(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),v.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){v[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,u,d,g){var b=v.hasOwnProperty(u)?v[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,d,b,g)&&(d=null),g||b===null?y(u)&&(d===null?s.removeAttribute(u):s.setAttribute(u,""+d)):b.mustUseProperty?s[b.propertyName]=d===null?b.type===3?!1:"":d:(u=b.attributeName,g=b.attributeNamespace,d===null?s.removeAttribute(u):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,g?s.setAttributeNS(g,u,d):s.setAttribute(u,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,z;function K(s){if(z===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+s}var le=!1;function be(s,u){if(!s||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var g=ie}Reflect.construct(s,[],u)}else{try{u.call()}catch(ie){g=ie}s.call(u.prototype)}else{try{throw Error()}catch(ie){g=ie}s()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),T=g.stack.split(`
`),$=b.length-1,q=T.length-1;1<=$&&0<=q&&b[$]!==T[q];)q--;for(;1<=$&&0<=q;$--,q--)if(b[$]!==T[q]){if($!==1||q!==1)do if($--,q--,0>q||b[$]!==T[q]){var H=`
`+b[$].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=$&&0<=q);break}}}finally{le=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?K(s):""}function Ce(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case D:return"Portal";case M:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return u=s.displayName||null,u!==null?u:Le(s.type)||"Memo";case X:u=s._payload,s=s._init;try{return Le(s(u))}catch{}}return null}function Ge(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function he(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ae(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ve(s){var u=ae(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),g=""+s[u];if(!s.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,T=d.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,T.call(this,$)}}),Object.defineProperty(s,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ae(s){s._valueTracker||(s._valueTracker=ve(s))}function de(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=ae(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Me(s,u){var d=u.checked;return te({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ht(s,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=he(u.value!=null?u.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(s,u){u=u.checked,u!=null&&N(s,"checked",u,!1)}function Vt(s,u){yt(s,u);var d=he(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?mr(s,u.type,d):u.hasOwnProperty("defaultValue")&&mr(s,u.type,he(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function pr(s,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,d||u===s.value||(s.value=u),s.defaultValue=u}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function mr(s,u,d){(u!=="number"||qe(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var er=Array.isArray;function bn(s,u,d,g){if(s=s.options,u){u={};for(var b=0;b<d.length;b++)u["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=u.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&g&&(s[d].defaultSelected=!0)}else{for(d=""+he(d),u=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}u!==null||s[b].disabled||(u=s[b])}u!==null&&(u.selected=!0)}}function gr(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Di(s,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(er(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}s._wrapperState={initialValue:he(d)}}function oo(s,u){var d=he(u.value),g=he(u.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),u.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function Xo(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function nn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?nn(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ao,hc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,b){MSApp.execUnsafeLocalFunction(function(){return s(u,d,g,b)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ao.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Qo(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(s){os.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),is[u]=is[s]})});function pc(s,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||is.hasOwnProperty(s)&&is[s]?(""+u).trim():u+"px"}function mc(s,u){s=s.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,b=pc(d,u[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,b):s[d]=b}}var gc=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(s,u){if(u){if(gc[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function vc(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function du(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hu=null,Rr=null,ji=null;function pu(s){if(s=Bc(s)){if(typeof hu!="function")throw Error(n(280));var u=s.stateNode;u&&(u=jh(u),hu(s.stateNode,s.type,u))}}function Li(s){Rr?ji?ji.push(s):ji=[s]:Rr=s}function _c(){if(Rr){var s=Rr,u=ji;if(ji=Rr=null,pu(s),u)for(s=0;s<u.length;s++)pu(u[s])}}function ss(s,u){return s(u)}function wc(){}var so=!1;function bc(s,u,d){if(so)return s(u,d);so=!0;try{return ss(s,u,d)}finally{so=!1,(Rr!==null||ji!==null)&&(wc(),_c())}}function Ht(s,u){var d=s.stateNode;if(d===null)return null;var g=jh(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var mu=!1;if(l)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){mu=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{mu=!1}function us(s,u,d,g,b,T,$,q,H){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(d,ie)}catch(me){this.onError(me)}}var ls=!1,gu=null,ti=!1,Ec=null,Cy={onError:function(s){ls=!0,gu=s}};function yu(s,u,d,g,b,T,$,q,H){ls=!1,gu=null,us.apply(Cy,arguments)}function sh(s,u,d,g,b,T,$,q,H){if(yu.apply(this,arguments),ls){if(ls){var ie=gu;ls=!1,gu=null}else throw Error(n(198));ti||(ti=!0,Ec=ie)}}function ni(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,u.flags&4098&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function cs(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function ri(s){if(ni(s)!==s)throw Error(n(188))}function uh(s){var u=s.alternate;if(!u){if(u=ni(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,g=u;;){var b=d.return;if(b===null)break;var T=b.alternate;if(T===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===d)return ri(b),s;if(T===g)return ri(b),u;T=T.sibling}throw Error(n(188))}if(d.return!==g.return)d=b,g=T;else{for(var $=!1,q=b.child;q;){if(q===d){$=!0,d=b,g=T;break}if(q===g){$=!0,g=b,d=T;break}q=q.sibling}if(!$){for(q=T.child;q;){if(q===d){$=!0,d=T,g=b;break}if(q===g){$=!0,g=T,d=b;break}q=q.sibling}if(!$)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function xc(s){return s=uh(s),s!==null?vu(s):null}function vu(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=vu(s);if(u!==null)return u;s=s.sibling}return null}var _u=e.unstable_scheduleCallback,Sc=e.unstable_cancelCallback,lh=e.unstable_shouldYield,Oy=e.unstable_requestPaint,bt=e.unstable_now,ch=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,Jo=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,Tc=e.unstable_LowPriority,fh=e.unstable_IdlePriority,ds=null,yr=null;function dh(s){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(ds,s,void 0,(s.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:ph,Ac=Math.log,hh=Math.LN2;function ph(s){return s>>>=0,s===0?32:31-(Ac(s)/hh|0)|0}var wu=64,bu=4194304;function Zo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function hs(s,u){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,T=s.pingedLanes,$=d&268435455;if($!==0){var q=$&~b;q!==0?g=Zo(q):(T&=$,T!==0&&(g=Zo(T)))}else $=d&~b,$!==0?g=Zo($):T!==0&&(g=Zo(T));if(g===0)return 0;if(u!==0&&u!==g&&!(u&b)&&(b=g&-g,T=u&-u,b>=T||b===16&&(T&4194240)!==0))return u;if(g&4&&(g|=d&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=g;0<u;)d=31-Wn(u),b=1<<d,g|=s[d],u&=~b;return g}function Ry(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,T=s.pendingLanes;0<T;){var $=31-Wn(T),q=1<<$,H=b[$];H===-1?(!(q&d)||q&g)&&(b[$]=Ry(q,u)):H<=u&&(s.expiredLanes|=q),T&=~q}}function vr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ps(){var s=wu;return wu<<=1,!(wu&4194240)&&(wu=64),s}function ea(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function ta(s,u,d){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Wn(u),s[u]=d}function vt(s,u){var d=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var b=31-Wn(d),T=1<<b;u[b]=0,g[b]=-1,s[b]=-1,d&=~T}}function na(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-Wn(d),b=1<<g;b&u|s[g]&u&&(s[g]|=u),d&=~b}}var Ze=0;function ra(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var mh,Eu,gh,yh,vh,Pc=!1,$i=[],En=null,ii=null,oi=null,ia=new Map,Nr=new Map,Fi=[],ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(s,u){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":ia.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(u.pointerId)}}function tr(s,u,d,g,b,T){return s===null||s.nativeEvent!==T?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[b]},u!==null&&(u=Bc(u),u!==null&&Eu(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),s)}function Ny(s,u,d,g,b){switch(u){case"focusin":return En=tr(En,s,u,d,g,b),!0;case"dragenter":return ii=tr(ii,s,u,d,g,b),!0;case"mouseover":return oi=tr(oi,s,u,d,g,b),!0;case"pointerover":var T=b.pointerId;return ia.set(T,tr(ia.get(T)||null,s,u,d,g,b)),!0;case"gotpointercapture":return T=b.pointerId,Nr.set(T,tr(Nr.get(T)||null,s,u,d,g,b)),!0}return!1}function wh(s){var u=_s(s.target);if(u!==null){var d=ni(u);if(d!==null){if(u=d.tag,u===13){if(u=cs(d),u!==null){s.blockedOn=u,vh(s.priority,function(){gh(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lo(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=xu(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);as=g,d.target.dispatchEvent(g),as=null}else return u=Bc(d),u!==null&&Eu(u),s.blockedOn=d,!1;u.shift()}return!0}function ms(s,u,d){lo(s)&&d.delete(u)}function bh(){Pc=!1,En!==null&&lo(En)&&(En=null),ii!==null&&lo(ii)&&(ii=null),oi!==null&&lo(oi)&&(oi=null),ia.forEach(ms),Nr.forEach(ms)}function ai(s,u){s.blockedOn===u&&(s.blockedOn=null,Pc||(Pc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bh)))}function si(s){function u(b){return ai(b,s)}if(0<$i.length){ai($i[0],s);for(var d=1;d<$i.length;d++){var g=$i[d];g.blockedOn===s&&(g.blockedOn=null)}}for(En!==null&&ai(En,s),ii!==null&&ai(ii,s),oi!==null&&ai(oi,s),ia.forEach(u),Nr.forEach(u),d=0;d<Fi.length;d++)g=Fi[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<Fi.length&&(d=Fi[0],d.blockedOn===null);)wh(d),d.blockedOn===null&&Fi.shift()}var co=j.ReactCurrentBatchConfig,oa=!0;function Ot(s,u,d,g){var b=Ze,T=co.transition;co.transition=null;try{Ze=1,Ic(s,u,d,g)}finally{Ze=b,co.transition=T}}function My(s,u,d,g){var b=Ze,T=co.transition;co.transition=null;try{Ze=4,Ic(s,u,d,g)}finally{Ze=b,co.transition=T}}function Ic(s,u,d,g){if(oa){var b=xu(s,u,d,g);if(b===null)Wy(s,u,g,gs,d),_h(s,g);else if(Ny(b,s,u,d,g))g.stopPropagation();else if(_h(s,g),u&4&&-1<ky.indexOf(s)){for(;b!==null;){var T=Bc(b);if(T!==null&&mh(T),T=xu(s,u,d,g),T===null&&Wy(s,u,g,gs,d),T===b)break;b=T}b!==null&&g.stopPropagation()}else Wy(s,u,g,null,d)}}var gs=null;function xu(s,u,d,g){if(gs=null,s=du(g),s=_s(s),s!==null)if(u=ni(s),u===null)s=null;else if(d=u.tag,d===13){if(s=cs(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return gs=s,null}function Cc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ch()){case fs:return 1;case Jo:return 4;case kr:case Tc:return 16;case fh:return 536870912;default:return 16}default:return 16}}var _r=null,Su=null,nr=null;function Oc(){if(nr)return nr;var s,u=Su,d=u.length,g,b="value"in _r?_r.value:_r.textContent,T=b.length;for(s=0;s<d&&u[s]===b[s];s++);var $=d-s;for(g=1;g<=$&&u[d-g]===b[T-g];g++);return nr=b.slice(s,1<g?1-g:void 0)}function Tu(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function Rc(){return!1}function xn(s){function u(d,g,b,T,$){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(d=s[q],this[q]=d?d(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Vi:Rc,this.isPropagationStopped=Rc,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),u}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=xn(ui),Ui=te({},ui,{view:0,detail:0}),Dy=xn(Ui),Pu,fo,aa,ys=te({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==aa&&(aa&&s.type==="mousemove"?(Pu=s.screenX-aa.screenX,fo=s.screenY-aa.screenY):fo=Pu=0,aa=s),Pu)},movementY:function(s){return"movementY"in s?s.movementY:fo}}),Iu=xn(ys),kc=te({},ys,{dataTransfer:0}),Eh=xn(kc),Cu=te({},Ui,{relatedTarget:0}),Ou=xn(Cu),xh=te({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=xn(xh),Sh=te({},ui,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Th=xn(Sh),Ah=te({},ui,{data:0}),Nc=xn(Ah),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Ph[s])?!!u[s]:!1}function Bi(){return Ih}var m=te({},Ui,{key:function(s){if(s.key){var u=Ru[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Tu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bi,charCode:function(s){return s.type==="keypress"?Tu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Tu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),S=xn(m),k=te({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=xn(k),Z=te({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bi}),se=xn(Z),we=te({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=xn(we),on=te({},ys,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=xn(on),hn=[9,13,27,32],Xt=l&&"CompositionEvent"in window,Mr=null;l&&"documentMode"in document&&(Mr=document.documentMode);var wr=l&&"TextEvent"in window&&!Mr,vs=l&&(!Xt||Mr&&8<Mr&&11>=Mr),ku=" ",kT=!1;function NT(s,u){switch(s){case"keyup":return hn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MT(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Nu=!1;function NU(s,u){switch(s){case"compositionend":return MT(u);case"keypress":return u.which!==32?null:(kT=!0,ku);case"textInput":return s=u.data,s===ku&&kT?null:s;default:return null}}function MU(s,u){if(Nu)return s==="compositionend"||!Xt&&NT(s,u)?(s=Oc(),nr=Su=_r=null,Nu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return vs&&u.locale!=="ko"?null:u.data;default:return null}}var DU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DT(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!DU[s.type]:u==="textarea"}function jT(s,u,d,g){Li(g),u=Nh(u,"onChange"),0<u.length&&(d=new Au("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var Mc=null,Dc=null;function jU(s){eA(s,0)}function Ch(s){var u=$u(s);if(de(u))return s}function LU(s,u){if(s==="change")return u}var LT=!1;if(l){var jy;if(l){var Ly="oninput"in document;if(!Ly){var $T=document.createElement("div");$T.setAttribute("oninput","return;"),Ly=typeof $T.oninput=="function"}jy=Ly}else jy=!1;LT=jy&&(!document.documentMode||9<document.documentMode)}function FT(){Mc&&(Mc.detachEvent("onpropertychange",VT),Dc=Mc=null)}function VT(s){if(s.propertyName==="value"&&Ch(Dc)){var u=[];jT(u,Dc,s,du(s)),bc(jU,u)}}function $U(s,u,d){s==="focusin"?(FT(),Mc=u,Dc=d,Mc.attachEvent("onpropertychange",VT)):s==="focusout"&&FT()}function FU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ch(Dc)}function VU(s,u){if(s==="click")return Ch(u)}function UU(s,u){if(s==="input"||s==="change")return Ch(u)}function BU(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var li=typeof Object.is=="function"?Object.is:BU;function jc(s,u){if(li(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!c.call(u,b)||!li(s[b],u[b]))return!1}return!0}function UT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function BT(s,u){var d=UT(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=UT(d)}}function qT(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?qT(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function zT(){for(var s=window,u=qe();u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=qe(s.document)}return u}function $y(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function qU(s){var u=zT(),d=s.focusedElem,g=s.selectionRange;if(u!==d&&d&&d.ownerDocument&&qT(d.ownerDocument.documentElement,d)){if(g!==null&&$y(d)){if(u=g.start,s=g.end,s===void 0&&(s=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(s,d.value.length);else if(s=(u=d.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var b=d.textContent.length,T=Math.min(g.start,b);g=g.end===void 0?T:Math.min(g.end,b),!s.extend&&T>g&&(b=g,g=T,T=b),b=BT(d,T);var $=BT(d,g);b&&$&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),s.removeAllRanges(),T>g?(s.addRange(u),s.extend($.node,$.offset)):(u.setEnd($.node,$.offset),s.addRange(u)))}}for(u=[],s=d;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)s=u[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var zU=l&&"documentMode"in document&&11>=document.documentMode,Mu=null,Fy=null,Lc=null,Vy=!1;function WT(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vy||Mu==null||Mu!==qe(g)||(g=Mu,"selectionStart"in g&&$y(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lc&&jc(Lc,g)||(Lc=g,g=Nh(Fy,"onSelect"),0<g.length&&(u=new Au("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=Mu)))}function Oh(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Du={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},Uy={},HT={};l&&(HT=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function Rh(s){if(Uy[s])return Uy[s];if(!Du[s])return s;var u=Du[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in HT)return Uy[s]=u[d];return s}var GT=Rh("animationend"),KT=Rh("animationiteration"),YT=Rh("animationstart"),XT=Rh("transitionend"),QT=new Map,JT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(s,u){QT.set(s,u),o(u,[s])}for(var By=0;By<JT.length;By++){var qy=JT[By],WU=qy.toLowerCase(),HU=qy[0].toUpperCase()+qy.slice(1);sa(WU,"on"+HU)}sa(GT,"onAnimationEnd"),sa(KT,"onAnimationIteration"),sa(YT,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(XT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GU=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function ZT(s,u,d){var g=s.type||"unknown-event";s.currentTarget=d,sh(g,u,void 0,s),s.currentTarget=null}function eA(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],b=g.event;g=g.listeners;e:{var T=void 0;if(u)for(var $=g.length-1;0<=$;$--){var q=g[$],H=q.instance,ie=q.currentTarget;if(q=q.listener,H!==T&&b.isPropagationStopped())break e;ZT(b,q,ie),T=H}else for($=0;$<g.length;$++){if(q=g[$],H=q.instance,ie=q.currentTarget,q=q.listener,H!==T&&b.isPropagationStopped())break e;ZT(b,q,ie),T=H}}}if(ti)throw s=Ec,ti=!1,Ec=null,s}function At(s,u){var d=u[Qy];d===void 0&&(d=u[Qy]=new Set);var g=s+"__bubble";d.has(g)||(tA(u,s,2,!1),d.add(g))}function zy(s,u,d){var g=0;u&&(g|=4),tA(d,s,g,u)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Fc(s){if(!s[kh]){s[kh]=!0,r.forEach(function(d){d!=="selectionchange"&&(GU.has(d)||zy(d,!1,s),zy(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[kh]||(u[kh]=!0,zy("selectionchange",!1,u))}}function tA(s,u,d,g){switch(Cc(u)){case 1:var b=Ot;break;case 4:b=My;break;default:b=Ic}d=b.bind(null,u,d,s),b=void 0,!mu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(u,d,{capture:!0,passive:b}):s.addEventListener(u,d,!0):b!==void 0?s.addEventListener(u,d,{passive:b}):s.addEventListener(u,d,!1)}function Wy(s,u,d,g,b){var T=g;if(!(u&1)&&!(u&2)&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var q=g.stateNode.containerInfo;if(q===b||q.nodeType===8&&q.parentNode===b)break;if($===4)for($=g.return;$!==null;){var H=$.tag;if((H===3||H===4)&&(H=$.stateNode.containerInfo,H===b||H.nodeType===8&&H.parentNode===b))return;$=$.return}for(;q!==null;){if($=_s(q),$===null)return;if(H=$.tag,H===5||H===6){g=T=$;continue e}q=q.parentNode}}g=g.return}bc(function(){var ie=T,me=du(d),ge=[];e:{var pe=QT.get(s);if(pe!==void 0){var Ee=Au,Oe=s;switch(s){case"keypress":if(Tu(d)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":Oe="focus",Ee=Ou;break;case"focusout":Oe="blur",Ee=Ou;break;case"beforeblur":case"afterblur":Ee=Ou;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=se;break;case GT:case KT:case YT:Ee=ho;break;case XT:Ee=pt;break;case"scroll":Ee=Dy;break;case"wheel":Ee=tt;break;case"copy":case"cut":case"paste":Ee=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=U}var Re=(u&4)!==0,Gt=!Re&&s==="scroll",ee=Re?pe!==null?pe+"Capture":null:pe;Re=[];for(var G=ie,ne;G!==null;){ne=G;var ye=ne.stateNode;if(ne.tag===5&&ye!==null&&(ne=ye,ee!==null&&(ye=Ht(G,ee),ye!=null&&Re.push(Vc(G,ye,ne)))),Gt)break;G=G.return}0<Re.length&&(pe=new Ee(pe,Oe,null,d,me),ge.push({event:pe,listeners:Re}))}}if(!(u&7)){e:{if(pe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",pe&&d!==as&&(Oe=d.relatedTarget||d.fromElement)&&(_s(Oe)||Oe[po]))break e;if((Ee||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ee?(Oe=d.relatedTarget||d.toElement,Ee=ie,Oe=Oe?_s(Oe):null,Oe!==null&&(Gt=ni(Oe),Oe!==Gt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ee=null,Oe=ie),Ee!==Oe)){if(Re=Iu,ye="onMouseLeave",ee="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Re=U,ye="onPointerLeave",ee="onPointerEnter",G="pointer"),Gt=Ee==null?pe:$u(Ee),ne=Oe==null?pe:$u(Oe),pe=new Re(ye,G+"leave",Ee,d,me),pe.target=Gt,pe.relatedTarget=ne,ye=null,_s(me)===ie&&(Re=new Re(ee,G+"enter",Oe,d,me),Re.target=ne,Re.relatedTarget=Gt,ye=Re),Gt=ye,Ee&&Oe)t:{for(Re=Ee,ee=Oe,G=0,ne=Re;ne;ne=ju(ne))G++;for(ne=0,ye=ee;ye;ye=ju(ye))ne++;for(;0<G-ne;)Re=ju(Re),G--;for(;0<ne-G;)ee=ju(ee),ne--;for(;G--;){if(Re===ee||ee!==null&&Re===ee.alternate)break t;Re=ju(Re),ee=ju(ee)}Re=null}else Re=null;Ee!==null&&nA(ge,pe,Ee,Re,!1),Oe!==null&&Gt!==null&&nA(ge,Gt,Oe,Re,!0)}}e:{if(pe=ie?$u(ie):window,Ee=pe.nodeName&&pe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&pe.type==="file")var ke=LU;else if(DT(pe))if(LT)ke=UU;else{ke=FU;var De=$U}else(Ee=pe.nodeName)&&Ee.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(ke=VU);if(ke&&(ke=ke(s,ie))){jT(ge,ke,d,me);break e}De&&De(s,pe,ie),s==="focusout"&&(De=pe._wrapperState)&&De.controlled&&pe.type==="number"&&mr(pe,"number",pe.value)}switch(De=ie?$u(ie):window,s){case"focusin":(DT(De)||De.contentEditable==="true")&&(Mu=De,Fy=ie,Lc=null);break;case"focusout":Lc=Fy=Mu=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,WT(ge,d,me);break;case"selectionchange":if(zU)break;case"keydown":case"keyup":WT(ge,d,me)}var je;if(Xt)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Nu?NT(s,d)&&(Ve="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(vs&&d.locale!=="ko"&&(Nu||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Nu&&(je=Oc()):(_r=me,Su="value"in _r?_r.value:_r.textContent,Nu=!0)),De=Nh(ie,Ve),0<De.length&&(Ve=new Nc(Ve,s,null,d,me),ge.push({event:Ve,listeners:De}),je?Ve.data=je:(je=MT(d),je!==null&&(Ve.data=je)))),(je=wr?NU(s,d):MU(s,d))&&(ie=Nh(ie,"onBeforeInput"),0<ie.length&&(me=new Nc("onBeforeInput","beforeinput",null,d,me),ge.push({event:me,listeners:ie}),me.data=je))}eA(ge,u)})}function Vc(s,u,d){return{instance:s,listener:u,currentTarget:d}}function Nh(s,u){for(var d=u+"Capture",g=[];s!==null;){var b=s,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=Ht(s,d),T!=null&&g.unshift(Vc(s,T,b)),T=Ht(s,u),T!=null&&g.push(Vc(s,T,b))),s=s.return}return g}function ju(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function nA(s,u,d,g,b){for(var T=u._reactName,$=[];d!==null&&d!==g;){var q=d,H=q.alternate,ie=q.stateNode;if(H!==null&&H===g)break;q.tag===5&&ie!==null&&(q=ie,b?(H=Ht(d,T),H!=null&&$.unshift(Vc(d,H,q))):b||(H=Ht(d,T),H!=null&&$.push(Vc(d,H,q)))),d=d.return}$.length!==0&&s.push({event:u,listeners:$})}var KU=/\r\n?/g,YU=/\u0000|\uFFFD/g;function rA(s){return(typeof s=="string"?s:""+s).replace(KU,`
`).replace(YU,"")}function Mh(s,u,d){if(u=rA(u),rA(s)!==u&&d)throw Error(n(425))}function Dh(){}var Hy=null,Gy=null;function Ky(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,XU=typeof clearTimeout=="function"?clearTimeout:void 0,iA=typeof Promise=="function"?Promise:void 0,QU=typeof queueMicrotask=="function"?queueMicrotask:typeof iA<"u"?function(s){return iA.resolve(null).then(s).catch(JU)}:Yy;function JU(s){setTimeout(function(){throw s})}function Xy(s,u){var d=u,g=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(g===0){s.removeChild(b),si(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=b}while(d);si(u)}function ua(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function oA(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return s;u--}else d==="/$"&&u++}s=s.previousSibling}return null}var Lu=Math.random().toString(36).slice(2),qi="__reactFiber$"+Lu,Uc="__reactProps$"+Lu,po="__reactContainer$"+Lu,Qy="__reactEvents$"+Lu,ZU="__reactListeners$"+Lu,eB="__reactHandles$"+Lu;function _s(s){var u=s[qi];if(u)return u;for(var d=s.parentNode;d;){if(u=d[po]||d[qi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=oA(s);s!==null;){if(d=s[qi])return d;s=oA(s)}return u}s=d,d=s.parentNode}return null}function Bc(s){return s=s[qi]||s[po],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $u(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function jh(s){return s[Uc]||null}var Jy=[],Fu=-1;function la(s){return{current:s}}function Pt(s){0>Fu||(s.current=Jy[Fu],Jy[Fu]=null,Fu--)}function Et(s,u){Fu++,Jy[Fu]=s.current,s.current=u}var ca={},Dn=la(ca),rr=la(!1),ws=ca;function Vu(s,u){var d=s.type.contextTypes;if(!d)return ca;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in d)b[T]=u[T];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=b),b}function ir(s){return s=s.childContextTypes,s!=null}function Lh(){Pt(rr),Pt(Dn)}function aA(s,u,d){if(Dn.current!==ca)throw Error(n(168));Et(Dn,u),Et(rr,d)}function sA(s,u,d){var g=s.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(n(108,Ge(s)||"Unknown",b));return te({},d,g)}function $h(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ca,ws=Dn.current,Et(Dn,s),Et(rr,rr.current),!0}function uA(s,u,d){var g=s.stateNode;if(!g)throw Error(n(169));d?(s=sA(s,u,ws),g.__reactInternalMemoizedMergedChildContext=s,Pt(rr),Pt(Dn),Et(Dn,s)):Pt(rr),Et(rr,d)}var mo=null,Fh=!1,Zy=!1;function lA(s){mo===null?mo=[s]:mo.push(s)}function tB(s){Fh=!0,lA(s)}function fa(){if(!Zy&&mo!==null){Zy=!0;var s=0,u=Ze;try{var d=mo;for(Ze=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}mo=null,Fh=!1}catch(b){throw mo!==null&&(mo=mo.slice(s+1)),_u(fs,fa),b}finally{Ze=u,Zy=!1}}return null}var Uu=[],Bu=0,Vh=null,Uh=0,Dr=[],jr=0,bs=null,go=1,yo="";function Es(s,u){Uu[Bu++]=Uh,Uu[Bu++]=Vh,Vh=s,Uh=u}function cA(s,u,d){Dr[jr++]=go,Dr[jr++]=yo,Dr[jr++]=bs,bs=s;var g=go;s=yo;var b=32-Wn(g)-1;g&=~(1<<b),d+=1;var T=32-Wn(u)+b;if(30<T){var $=b-b%5;T=(g&(1<<$)-1).toString(32),g>>=$,b-=$,go=1<<32-Wn(u)+b|d<<b|g,yo=T+s}else go=1<<T|d<<b|g,yo=s}function ev(s){s.return!==null&&(Es(s,1),cA(s,1,0))}function tv(s){for(;s===Vh;)Vh=Uu[--Bu],Uu[Bu]=null,Uh=Uu[--Bu],Uu[Bu]=null;for(;s===bs;)bs=Dr[--jr],Dr[jr]=null,yo=Dr[--jr],Dr[jr]=null,go=Dr[--jr],Dr[jr]=null}var br=null,Er=null,Rt=!1,ci=null;function fA(s,u){var d=Vr(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=s,u=s.deletions,u===null?(s.deletions=[d],s.flags|=16):u.push(d)}function dA(s,u){switch(s.tag){case 5:var d=s.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,br=s,Er=ua(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,br=s,Er=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=bs!==null?{id:go,overflow:yo}:null,s.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=Vr(18,null,null,0),d.stateNode=u,d.return=s,s.child=d,br=s,Er=null,!0):!1;default:return!1}}function nv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rv(s){if(Rt){var u=Er;if(u){var d=u;if(!dA(s,u)){if(nv(s))throw Error(n(418));u=ua(d.nextSibling);var g=br;u&&dA(s,u)?fA(g,d):(s.flags=s.flags&-4097|2,Rt=!1,br=s)}}else{if(nv(s))throw Error(n(418));s.flags=s.flags&-4097|2,Rt=!1,br=s}}}function hA(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;br=s}function Bh(s){if(s!==br)return!1;if(!Rt)return hA(s),Rt=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Ky(s.type,s.memoizedProps)),u&&(u=Er)){if(nv(s))throw pA(),Error(n(418));for(;u;)fA(s,u),u=ua(u.nextSibling)}if(hA(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(u===0){Er=ua(s.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}s=s.nextSibling}Er=null}}else Er=br?ua(s.stateNode.nextSibling):null;return!0}function pA(){for(var s=Er;s;)s=ua(s.nextSibling)}function qu(){Er=br=null,Rt=!1}function iv(s){ci===null?ci=[s]:ci.push(s)}var nB=j.ReactCurrentBatchConfig;function qc(s,u,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,s));var b=g,T=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function($){var q=b.refs;$===null?delete q[T]:q[T]=$},u._stringRef=T,u)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function qh(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function mA(s){var u=s._init;return u(s._payload)}function gA(s){function u(ee,G){if(s){var ne=ee.deletions;ne===null?(ee.deletions=[G],ee.flags|=16):ne.push(G)}}function d(ee,G){if(!s)return null;for(;G!==null;)u(ee,G),G=G.sibling;return null}function g(ee,G){for(ee=new Map;G!==null;)G.key!==null?ee.set(G.key,G):ee.set(G.index,G),G=G.sibling;return ee}function b(ee,G){return ee=_a(ee,G),ee.index=0,ee.sibling=null,ee}function T(ee,G,ne){return ee.index=ne,s?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<G?(ee.flags|=2,G):ne):(ee.flags|=2,G)):(ee.flags|=1048576,G)}function $(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,G,ne,ye){return G===null||G.tag!==6?(G=Yv(ne,ee.mode,ye),G.return=ee,G):(G=b(G,ne),G.return=ee,G)}function H(ee,G,ne,ye){var ke=ne.type;return ke===C?me(ee,G,ne.props.children,ye,ne.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===X&&mA(ke)===G.type)?(ye=b(G,ne.props),ye.ref=qc(ee,G,ne),ye.return=ee,ye):(ye=hp(ne.type,ne.key,ne.props,null,ee.mode,ye),ye.ref=qc(ee,G,ne),ye.return=ee,ye)}function ie(ee,G,ne,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Xv(ne,ee.mode,ye),G.return=ee,G):(G=b(G,ne.children||[]),G.return=ee,G)}function me(ee,G,ne,ye,ke){return G===null||G.tag!==7?(G=Os(ne,ee.mode,ye,ke),G.return=ee,G):(G=b(G,ne),G.return=ee,G)}function ge(ee,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Yv(""+G,ee.mode,ne),G.return=ee,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return ne=hp(G.type,G.key,G.props,null,ee.mode,ne),ne.ref=qc(ee,null,G),ne.return=ee,ne;case D:return G=Xv(G,ee.mode,ne),G.return=ee,G;case X:var ye=G._init;return ge(ee,ye(G._payload),ne)}if(er(G)||oe(G))return G=Os(G,ee.mode,ne,null),G.return=ee,G;qh(ee,G)}return null}function pe(ee,G,ne,ye){var ke=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ke!==null?null:q(ee,G,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return ne.key===ke?H(ee,G,ne,ye):null;case D:return ne.key===ke?ie(ee,G,ne,ye):null;case X:return ke=ne._init,pe(ee,G,ke(ne._payload),ye)}if(er(ne)||oe(ne))return ke!==null?null:me(ee,G,ne,ye,null);qh(ee,ne)}return null}function Ee(ee,G,ne,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ee=ee.get(ne)||null,q(G,ee,""+ye,ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return ee=ee.get(ye.key===null?ne:ye.key)||null,H(G,ee,ye,ke);case D:return ee=ee.get(ye.key===null?ne:ye.key)||null,ie(G,ee,ye,ke);case X:var De=ye._init;return Ee(ee,G,ne,De(ye._payload),ke)}if(er(ye)||oe(ye))return ee=ee.get(ne)||null,me(G,ee,ye,ke,null);qh(G,ye)}return null}function Oe(ee,G,ne,ye){for(var ke=null,De=null,je=G,Ve=G=0,gn=null;je!==null&&Ve<ne.length;Ve++){je.index>Ve?(gn=je,je=null):gn=je.sibling;var ot=pe(ee,je,ne[Ve],ye);if(ot===null){je===null&&(je=gn);break}s&&je&&ot.alternate===null&&u(ee,je),G=T(ot,G,Ve),De===null?ke=ot:De.sibling=ot,De=ot,je=gn}if(Ve===ne.length)return d(ee,je),Rt&&Es(ee,Ve),ke;if(je===null){for(;Ve<ne.length;Ve++)je=ge(ee,ne[Ve],ye),je!==null&&(G=T(je,G,Ve),De===null?ke=je:De.sibling=je,De=je);return Rt&&Es(ee,Ve),ke}for(je=g(ee,je);Ve<ne.length;Ve++)gn=Ee(je,ee,Ve,ne[Ve],ye),gn!==null&&(s&&gn.alternate!==null&&je.delete(gn.key===null?Ve:gn.key),G=T(gn,G,Ve),De===null?ke=gn:De.sibling=gn,De=gn);return s&&je.forEach(function(wa){return u(ee,wa)}),Rt&&Es(ee,Ve),ke}function Re(ee,G,ne,ye){var ke=oe(ne);if(typeof ke!="function")throw Error(n(150));if(ne=ke.call(ne),ne==null)throw Error(n(151));for(var De=ke=null,je=G,Ve=G=0,gn=null,ot=ne.next();je!==null&&!ot.done;Ve++,ot=ne.next()){je.index>Ve?(gn=je,je=null):gn=je.sibling;var wa=pe(ee,je,ot.value,ye);if(wa===null){je===null&&(je=gn);break}s&&je&&wa.alternate===null&&u(ee,je),G=T(wa,G,Ve),De===null?ke=wa:De.sibling=wa,De=wa,je=gn}if(ot.done)return d(ee,je),Rt&&Es(ee,Ve),ke;if(je===null){for(;!ot.done;Ve++,ot=ne.next())ot=ge(ee,ot.value,ye),ot!==null&&(G=T(ot,G,Ve),De===null?ke=ot:De.sibling=ot,De=ot);return Rt&&Es(ee,Ve),ke}for(je=g(ee,je);!ot.done;Ve++,ot=ne.next())ot=Ee(je,ee,Ve,ot.value,ye),ot!==null&&(s&&ot.alternate!==null&&je.delete(ot.key===null?Ve:ot.key),G=T(ot,G,Ve),De===null?ke=ot:De.sibling=ot,De=ot);return s&&je.forEach(function(DB){return u(ee,DB)}),Rt&&Es(ee,Ve),ke}function Gt(ee,G,ne,ye){if(typeof ne=="object"&&ne!==null&&ne.type===C&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:e:{for(var ke=ne.key,De=G;De!==null;){if(De.key===ke){if(ke=ne.type,ke===C){if(De.tag===7){d(ee,De.sibling),G=b(De,ne.props.children),G.return=ee,ee=G;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===X&&mA(ke)===De.type){d(ee,De.sibling),G=b(De,ne.props),G.ref=qc(ee,De,ne),G.return=ee,ee=G;break e}d(ee,De);break}else u(ee,De);De=De.sibling}ne.type===C?(G=Os(ne.props.children,ee.mode,ye,ne.key),G.return=ee,ee=G):(ye=hp(ne.type,ne.key,ne.props,null,ee.mode,ye),ye.ref=qc(ee,G,ne),ye.return=ee,ee=ye)}return $(ee);case D:e:{for(De=ne.key;G!==null;){if(G.key===De)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){d(ee,G.sibling),G=b(G,ne.children||[]),G.return=ee,ee=G;break e}else{d(ee,G);break}else u(ee,G);G=G.sibling}G=Xv(ne,ee.mode,ye),G.return=ee,ee=G}return $(ee);case X:return De=ne._init,Gt(ee,G,De(ne._payload),ye)}if(er(ne))return Oe(ee,G,ne,ye);if(oe(ne))return Re(ee,G,ne,ye);qh(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,G!==null&&G.tag===6?(d(ee,G.sibling),G=b(G,ne),G.return=ee,ee=G):(d(ee,G),G=Yv(ne,ee.mode,ye),G.return=ee,ee=G),$(ee)):d(ee,G)}return Gt}var zu=gA(!0),yA=gA(!1),zh=la(null),Wh=null,Wu=null,ov=null;function av(){ov=Wu=Wh=null}function sv(s){var u=zh.current;Pt(zh),s._currentValue=u}function uv(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function Hu(s,u){Wh=s,ov=Wu=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&u&&(or=!0),s.firstContext=null)}function Lr(s){var u=s._currentValue;if(ov!==s)if(s={context:s,memoizedValue:u,next:null},Wu===null){if(Wh===null)throw Error(n(308));Wu=s,Wh.dependencies={lanes:0,firstContext:s}}else Wu=Wu.next=s;return u}var xs=null;function lv(s){xs===null?xs=[s]:xs.push(s)}function vA(s,u,d,g){var b=u.interleaved;return b===null?(d.next=d,lv(u)):(d.next=b.next,b.next=d),u.interleaved=d,vo(s,g)}function vo(s,u){s.lanes|=u;var d=s.alternate;for(d!==null&&(d.lanes|=u),d=s,s=s.return;s!==null;)s.childLanes|=u,d=s.alternate,d!==null&&(d.childLanes|=u),d=s,s=s.return;return d.tag===3?d.stateNode:null}var da=!1;function cv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _A(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _o(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function ha(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,it&2){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,vo(s,d)}return b=g.interleaved,b===null?(u.next=u,lv(g)):(u.next=b.next,b.next=u),g.interleaved=u,vo(s,d)}function Hh(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,na(s,d)}}function wA(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?b=T=$:T=T.next=$,d=d.next}while(d!==null);T===null?b=T=u:T=T.next=u}else b=T=u;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}function Gh(s,u,d,g){var b=s.updateQueue;da=!1;var T=b.firstBaseUpdate,$=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var H=q,ie=H.next;H.next=null,$===null?T=ie:$.next=ie,$=H;var me=s.alternate;me!==null&&(me=me.updateQueue,q=me.lastBaseUpdate,q!==$&&(q===null?me.firstBaseUpdate=ie:q.next=ie,me.lastBaseUpdate=H))}if(T!==null){var ge=b.baseState;$=0,me=ie=H=null,q=T;do{var pe=q.lane,Ee=q.eventTime;if((g&pe)===pe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,Re=q;switch(pe=u,Ee=d,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ge=Oe.call(Ee,ge,pe);break e}ge=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,pe=typeof Oe=="function"?Oe.call(Ee,ge,pe):Oe,pe==null)break e;ge=te({},ge,pe);break e;case 2:da=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,pe=b.effects,pe===null?b.effects=[q]:pe.push(q))}else Ee={eventTime:Ee,lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},me===null?(ie=me=Ee,H=ge):me=me.next=Ee,$|=pe;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;pe=q,q=pe.next,pe.next=null,b.lastBaseUpdate=pe,b.shared.pending=null}}while(!0);if(me===null&&(H=ge),b.baseState=H,b.firstBaseUpdate=ie,b.lastBaseUpdate=me,u=b.shared.interleaved,u!==null){b=u;do $|=b.lane,b=b.next;while(b!==u)}else T===null&&(b.shared.lanes=0);As|=$,s.lanes=$,s.memoizedState=ge}}function bA(s,u,d){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var g=s[u],b=g.callback;if(b!==null){if(g.callback=null,g=d,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var zc={},zi=la(zc),Wc=la(zc),Hc=la(zc);function Ss(s){if(s===zc)throw Error(n(174));return s}function fv(s,u){switch(Et(Hc,u),Et(Wc,s),Et(zi,zc),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:rn(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=rn(u,s)}Pt(zi),Et(zi,u)}function Gu(){Pt(zi),Pt(Wc),Pt(Hc)}function EA(s){Ss(Hc.current);var u=Ss(zi.current),d=rn(u,s.type);u!==d&&(Et(Wc,s),Et(zi,d))}function dv(s){Wc.current===s&&(Pt(zi),Pt(Wc))}var Mt=la(0);function Kh(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var hv=[];function pv(){for(var s=0;s<hv.length;s++)hv[s]._workInProgressVersionPrimary=null;hv.length=0}var Yh=j.ReactCurrentDispatcher,mv=j.ReactCurrentBatchConfig,Ts=0,Dt=null,an=null,pn=null,Xh=!1,Gc=!1,Kc=0,rB=0;function jn(){throw Error(n(321))}function gv(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!li(s[d],u[d]))return!1;return!0}function yv(s,u,d,g,b,T){if(Ts=T,Dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Yh.current=s===null||s.memoizedState===null?sB:uB,s=d(g,b),Gc){T=0;do{if(Gc=!1,Kc=0,25<=T)throw Error(n(301));T+=1,pn=an=null,u.updateQueue=null,Yh.current=lB,s=d(g,b)}while(Gc)}if(Yh.current=Zh,u=an!==null&&an.next!==null,Ts=0,pn=an=Dt=null,Xh=!1,u)throw Error(n(300));return s}function vv(){var s=Kc!==0;return Kc=0,s}function Wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Dt.memoizedState=pn=s:pn=pn.next=s,pn}function $r(){if(an===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var u=pn===null?Dt.memoizedState:pn.next;if(u!==null)pn=u,an=s;else{if(s===null)throw Error(n(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},pn===null?Dt.memoizedState=pn=s:pn=pn.next=s}return pn}function Yc(s,u){return typeof u=="function"?u(s):u}function _v(s){var u=$r(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=an,b=g.baseQueue,T=d.pending;if(T!==null){if(b!==null){var $=b.next;b.next=T.next,T.next=$}g.baseQueue=b=T,d.pending=null}if(b!==null){T=b.next,g=g.baseState;var q=$=null,H=null,ie=T;do{var me=ie.lane;if((Ts&me)===me)H!==null&&(H=H.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:s(g,ie.action);else{var ge={lane:me,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};H===null?(q=H=ge,$=g):H=H.next=ge,Dt.lanes|=me,As|=me}ie=ie.next}while(ie!==null&&ie!==T);H===null?$=g:H.next=q,li(g,u.memoizedState)||(or=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=H,d.lastRenderedState=g}if(s=d.interleaved,s!==null){b=s;do T=b.lane,Dt.lanes|=T,As|=T,b=b.next;while(b!==s)}else b===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function wv(s){var u=$r(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,b=d.pending,T=u.memoizedState;if(b!==null){d.pending=null;var $=b=b.next;do T=s(T,$.action),$=$.next;while($!==b);li(T,u.memoizedState)||(or=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,g]}function xA(){}function SA(s,u){var d=Dt,g=$r(),b=u(),T=!li(g.memoizedState,b);if(T&&(g.memoizedState=b,or=!0),g=g.queue,bv(PA.bind(null,d,g,s),[s]),g.getSnapshot!==u||T||pn!==null&&pn.memoizedState.tag&1){if(d.flags|=2048,Xc(9,AA.bind(null,d,g,b,u),void 0,null),mn===null)throw Error(n(349));Ts&30||TA(d,u,b)}return b}function TA(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=Dt.updateQueue,u===null?(u={lastEffect:null,stores:null},Dt.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function AA(s,u,d,g){u.value=d,u.getSnapshot=g,IA(u)&&CA(s)}function PA(s,u,d){return d(function(){IA(u)&&CA(s)})}function IA(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!li(s,d)}catch{return!0}}function CA(s){var u=vo(s,1);u!==null&&pi(u,s,1,-1)}function OA(s){var u=Wi();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:s},u.queue=s,s=s.dispatch=aB.bind(null,Dt,s),[u.memoizedState,s]}function Xc(s,u,d,g){return s={tag:s,create:u,destroy:d,deps:g,next:null},u=Dt.updateQueue,u===null?(u={lastEffect:null,stores:null},Dt.updateQueue=u,u.lastEffect=s.next=s):(d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s)),s}function RA(){return $r().memoizedState}function Qh(s,u,d,g){var b=Wi();Dt.flags|=s,b.memoizedState=Xc(1|u,d,void 0,g===void 0?null:g)}function Jh(s,u,d,g){var b=$r();g=g===void 0?null:g;var T=void 0;if(an!==null){var $=an.memoizedState;if(T=$.destroy,g!==null&&gv(g,$.deps)){b.memoizedState=Xc(u,d,T,g);return}}Dt.flags|=s,b.memoizedState=Xc(1|u,d,T,g)}function kA(s,u){return Qh(8390656,8,s,u)}function bv(s,u){return Jh(2048,8,s,u)}function NA(s,u){return Jh(4,2,s,u)}function MA(s,u){return Jh(4,4,s,u)}function DA(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function jA(s,u,d){return d=d!=null?d.concat([s]):null,Jh(4,4,DA.bind(null,u,s),d)}function Ev(){}function LA(s,u){var d=$r();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&gv(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function $A(s,u){var d=$r();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&gv(u,g[1])?g[0]:(s=s(),d.memoizedState=[s,u],s)}function FA(s,u,d){return Ts&21?(li(d,u)||(d=ps(),Dt.lanes|=d,As|=d,s.baseState=!0),u):(s.baseState&&(s.baseState=!1,or=!0),s.memoizedState=d)}function iB(s,u){var d=Ze;Ze=d!==0&&4>d?d:4,s(!0);var g=mv.transition;mv.transition={};try{s(!1),u()}finally{Ze=d,mv.transition=g}}function VA(){return $r().memoizedState}function oB(s,u,d){var g=ya(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},UA(s))BA(u,d);else if(d=vA(s,u,d,g),d!==null){var b=Kn();pi(d,s,g,b),qA(d,u,g)}}function aB(s,u,d){var g=ya(s),b={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(UA(s))BA(u,b);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var $=u.lastRenderedState,q=T($,d);if(b.hasEagerState=!0,b.eagerState=q,li(q,$)){var H=u.interleaved;H===null?(b.next=b,lv(u)):(b.next=H.next,H.next=b),u.interleaved=b;return}}catch{}finally{}d=vA(s,u,b,g),d!==null&&(b=Kn(),pi(d,s,g,b),qA(d,u,g))}}function UA(s){var u=s.alternate;return s===Dt||u!==null&&u===Dt}function BA(s,u){Gc=Xh=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function qA(s,u,d){if(d&4194240){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,na(s,d)}}var Zh={readContext:Lr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},sB={readContext:Lr,useCallback:function(s,u){return Wi().memoizedState=[s,u===void 0?null:u],s},useContext:Lr,useEffect:kA,useImperativeHandle:function(s,u,d){return d=d!=null?d.concat([s]):null,Qh(4194308,4,DA.bind(null,u,s),d)},useLayoutEffect:function(s,u){return Qh(4194308,4,s,u)},useInsertionEffect:function(s,u){return Qh(4,2,s,u)},useMemo:function(s,u){var d=Wi();return u=u===void 0?null:u,s=s(),d.memoizedState=[s,u],s},useReducer:function(s,u,d){var g=Wi();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},g.queue=s,s=s.dispatch=oB.bind(null,Dt,s),[g.memoizedState,s]},useRef:function(s){var u=Wi();return s={current:s},u.memoizedState=s},useState:OA,useDebugValue:Ev,useDeferredValue:function(s){return Wi().memoizedState=s},useTransition:function(){var s=OA(!1),u=s[0];return s=iB.bind(null,s[1]),Wi().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,d){var g=Dt,b=Wi();if(Rt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),mn===null)throw Error(n(349));Ts&30||TA(g,u,d)}b.memoizedState=d;var T={value:d,getSnapshot:u};return b.queue=T,kA(PA.bind(null,g,T,s),[s]),g.flags|=2048,Xc(9,AA.bind(null,g,T,d,u),void 0,null),d},useId:function(){var s=Wi(),u=mn.identifierPrefix;if(Rt){var d=yo,g=go;d=(g&~(1<<32-Wn(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=Kc++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=rB++,u=":"+u+"r"+d.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},uB={readContext:Lr,useCallback:LA,useContext:Lr,useEffect:bv,useImperativeHandle:jA,useInsertionEffect:NA,useLayoutEffect:MA,useMemo:$A,useReducer:_v,useRef:RA,useState:function(){return _v(Yc)},useDebugValue:Ev,useDeferredValue:function(s){var u=$r();return FA(u,an.memoizedState,s)},useTransition:function(){var s=_v(Yc)[0],u=$r().memoizedState;return[s,u]},useMutableSource:xA,useSyncExternalStore:SA,useId:VA,unstable_isNewReconciler:!1},lB={readContext:Lr,useCallback:LA,useContext:Lr,useEffect:bv,useImperativeHandle:jA,useInsertionEffect:NA,useLayoutEffect:MA,useMemo:$A,useReducer:wv,useRef:RA,useState:function(){return wv(Yc)},useDebugValue:Ev,useDeferredValue:function(s){var u=$r();return an===null?u.memoizedState=s:FA(u,an.memoizedState,s)},useTransition:function(){var s=wv(Yc)[0],u=$r().memoizedState;return[s,u]},useMutableSource:xA,useSyncExternalStore:SA,useId:VA,unstable_isNewReconciler:!1};function fi(s,u){if(s&&s.defaultProps){u=te({},u),s=s.defaultProps;for(var d in s)u[d]===void 0&&(u[d]=s[d]);return u}return u}function xv(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:te({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var ep={isMounted:function(s){return(s=s._reactInternals)?ni(s)===s:!1},enqueueSetState:function(s,u,d){s=s._reactInternals;var g=Kn(),b=ya(s),T=_o(g,b);T.payload=u,d!=null&&(T.callback=d),u=ha(s,T,b),u!==null&&(pi(u,s,b,g),Hh(u,s,b))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=Kn(),b=ya(s),T=_o(g,b);T.tag=1,T.payload=u,d!=null&&(T.callback=d),u=ha(s,T,b),u!==null&&(pi(u,s,b,g),Hh(u,s,b))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Kn(),g=ya(s),b=_o(d,g);b.tag=2,u!=null&&(b.callback=u),u=ha(s,b,g),u!==null&&(pi(u,s,g,d),Hh(u,s,g))}};function zA(s,u,d,g,b,T,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,$):u.prototype&&u.prototype.isPureReactComponent?!jc(d,g)||!jc(b,T):!0}function WA(s,u,d){var g=!1,b=ca,T=u.contextType;return typeof T=="object"&&T!==null?T=Lr(T):(b=ir(u)?ws:Dn.current,g=u.contextTypes,T=(g=g!=null)?Vu(s,b):ca),u=new u(d,T),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ep,s.stateNode=u,u._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=T),u}function HA(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&ep.enqueueReplaceState(u,u.state,null)}function Sv(s,u,d,g){var b=s.stateNode;b.props=d,b.state=s.memoizedState,b.refs={},cv(s);var T=u.contextType;typeof T=="object"&&T!==null?b.context=Lr(T):(T=ir(u)?ws:Dn.current,b.context=Vu(s,T)),b.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(xv(s,u,T,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&ep.enqueueReplaceState(b,b.state,null),Gh(s,d,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Ku(s,u){try{var d="",g=u;do d+=Ce(g),g=g.return;while(g);var b=d}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:u,stack:b,digest:null}}function Tv(s,u,d){return{value:s,source:null,stack:d??null,digest:u??null}}function Av(s,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var cB=typeof WeakMap=="function"?WeakMap:Map;function GA(s,u,d){d=_o(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){sp||(sp=!0,Uv=g),Av(s,u)},d}function KA(s,u,d){d=_o(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;d.payload=function(){return g(b)},d.callback=function(){Av(s,u)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Av(s,u),typeof g!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),d}function YA(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new cB;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(d)||(b.add(d),s=SB.bind(null,s,u,d),u.then(s,s))}function XA(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function QA(s,u,d,g,b){return s.mode&1?(s.flags|=65536,s.lanes=b,s):(s===u?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=_o(-1,1),u.tag=2,ha(d,u,1))),d.lanes|=1),s)}var fB=j.ReactCurrentOwner,or=!1;function Gn(s,u,d,g){u.child=s===null?yA(u,null,d,g):zu(u,s.child,d,g)}function JA(s,u,d,g,b){d=d.render;var T=u.ref;return Hu(u,b),g=yv(s,u,d,g,T,b),d=vv(),s!==null&&!or?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,wo(s,u,b)):(Rt&&d&&ev(u),u.flags|=1,Gn(s,u,g,b),u.child)}function ZA(s,u,d,g,b){if(s===null){var T=d.type;return typeof T=="function"&&!Kv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=T,eP(s,u,T,g,b)):(s=hp(d.type,null,g,u,u.mode,b),s.ref=u.ref,s.return=u,u.child=s)}if(T=s.child,!(s.lanes&b)){var $=T.memoizedProps;if(d=d.compare,d=d!==null?d:jc,d($,g)&&s.ref===u.ref)return wo(s,u,b)}return u.flags|=1,s=_a(T,g),s.ref=u.ref,s.return=u,u.child=s}function eP(s,u,d,g,b){if(s!==null){var T=s.memoizedProps;if(jc(T,g)&&s.ref===u.ref)if(or=!1,u.pendingProps=g=T,(s.lanes&b)!==0)s.flags&131072&&(or=!0);else return u.lanes=s.lanes,wo(s,u,b)}return Pv(s,u,d,g,b)}function tP(s,u,d){var g=u.pendingProps,b=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Xu,xr),xr|=d;else{if(!(d&1073741824))return s=T!==null?T.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,Et(Xu,xr),xr|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,Et(Xu,xr),xr|=g}else T!==null?(g=T.baseLanes|d,u.memoizedState=null):g=d,Et(Xu,xr),xr|=g;return Gn(s,u,b,d),u.child}function nP(s,u){var d=u.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Pv(s,u,d,g,b){var T=ir(d)?ws:Dn.current;return T=Vu(u,T),Hu(u,b),d=yv(s,u,d,g,T,b),g=vv(),s!==null&&!or?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~b,wo(s,u,b)):(Rt&&g&&ev(u),u.flags|=1,Gn(s,u,d,b),u.child)}function rP(s,u,d,g,b){if(ir(d)){var T=!0;$h(u)}else T=!1;if(Hu(u,b),u.stateNode===null)np(s,u),WA(u,d,g),Sv(u,d,g,b),g=!0;else if(s===null){var $=u.stateNode,q=u.memoizedProps;$.props=q;var H=$.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=Lr(ie):(ie=ir(d)?ws:Dn.current,ie=Vu(u,ie));var me=d.getDerivedStateFromProps,ge=typeof me=="function"||typeof $.getSnapshotBeforeUpdate=="function";ge||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==g||H!==ie)&&HA(u,$,g,ie),da=!1;var pe=u.memoizedState;$.state=pe,Gh(u,g,$,b),H=u.memoizedState,q!==g||pe!==H||rr.current||da?(typeof me=="function"&&(xv(u,d,me,g),H=u.memoizedState),(q=da||zA(u,d,q,g,pe,H,ie))?(ge||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=H),$.props=g,$.state=H,$.context=ie,g=q):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,_A(s,u),q=u.memoizedProps,ie=u.type===u.elementType?q:fi(u.type,q),$.props=ie,ge=u.pendingProps,pe=$.context,H=d.contextType,typeof H=="object"&&H!==null?H=Lr(H):(H=ir(d)?ws:Dn.current,H=Vu(u,H));var Ee=d.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==ge||pe!==H)&&HA(u,$,g,H),da=!1,pe=u.memoizedState,$.state=pe,Gh(u,g,$,b);var Oe=u.memoizedState;q!==ge||pe!==Oe||rr.current||da?(typeof Ee=="function"&&(xv(u,d,Ee,g),Oe=u.memoizedState),(ie=da||zA(u,d,ie,g,pe,Oe,H)||!1)?(me||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Oe,H),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Oe,H)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Oe),$.props=g,$.state=Oe,$.context=H,g=ie):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&pe===s.memoizedState||(u.flags|=1024),g=!1)}return Iv(s,u,d,g,T,b)}function Iv(s,u,d,g,b,T){nP(s,u);var $=(u.flags&128)!==0;if(!g&&!$)return b&&uA(u,d,!1),wo(s,u,T);g=u.stateNode,fB.current=u;var q=$&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,s!==null&&$?(u.child=zu(u,s.child,null,T),u.child=zu(u,null,q,T)):Gn(s,u,q,T),u.memoizedState=g.state,b&&uA(u,d,!0),u.child}function iP(s){var u=s.stateNode;u.pendingContext?aA(s,u.pendingContext,u.pendingContext!==u.context):u.context&&aA(s,u.context,!1),fv(s,u.containerInfo)}function oP(s,u,d,g,b){return qu(),iv(b),u.flags|=256,Gn(s,u,d,g),u.child}var Cv={dehydrated:null,treeContext:null,retryLane:0};function Ov(s){return{baseLanes:s,cachePool:null,transitions:null}}function aP(s,u,d){var g=u.pendingProps,b=Mt.current,T=!1,$=(u.flags&128)!==0,q;if((q=$)||(q=s!==null&&s.memoizedState===null?!1:(b&2)!==0),q?(T=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Et(Mt,b&1),s===null)return rv(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(u.mode&1?s.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):($=g.children,s=g.fallback,T?(g=u.mode,T=u.child,$={mode:"hidden",children:$},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=$):T=pp($,g,0,null),s=Os(s,g,d,null),T.return=u,s.return=u,T.sibling=s,u.child=T,u.child.memoizedState=Ov(d),u.memoizedState=Cv,s):Rv(u,$));if(b=s.memoizedState,b!==null&&(q=b.dehydrated,q!==null))return dB(s,u,$,g,q,b,d);if(T){T=g.fallback,$=u.mode,b=s.child,q=b.sibling;var H={mode:"hidden",children:g.children};return!($&1)&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=H,u.deletions=null):(g=_a(b,H),g.subtreeFlags=b.subtreeFlags&14680064),q!==null?T=_a(q,T):(T=Os(T,$,d,null),T.flags|=2),T.return=u,g.return=u,g.sibling=T,u.child=g,g=T,T=u.child,$=s.child.memoizedState,$=$===null?Ov(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=s.childLanes&~d,u.memoizedState=Cv,g}return T=s.child,s=T.sibling,g=_a(T,{mode:"visible",children:g.children}),!(u.mode&1)&&(g.lanes=d),g.return=u,g.sibling=null,s!==null&&(d=u.deletions,d===null?(u.deletions=[s],u.flags|=16):d.push(s)),u.child=g,u.memoizedState=null,g}function Rv(s,u){return u=pp({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function tp(s,u,d,g){return g!==null&&iv(g),zu(u,s.child,null,d),s=Rv(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function dB(s,u,d,g,b,T,$){if(d)return u.flags&256?(u.flags&=-257,g=Tv(Error(n(422))),tp(s,u,$,g)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(T=g.fallback,b=u.mode,g=pp({mode:"visible",children:g.children},b,0,null),T=Os(T,b,$,null),T.flags|=2,g.return=u,T.return=u,g.sibling=T,u.child=g,u.mode&1&&zu(u,s.child,null,$),u.child.memoizedState=Ov($),u.memoizedState=Cv,T);if(!(u.mode&1))return tp(s,u,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var q=g.dgst;return g=q,T=Error(n(419)),g=Tv(T,g,void 0),tp(s,u,$,g)}if(q=($&s.childLanes)!==0,or||q){if(g=mn,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(g.suspendedLanes|$)?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,vo(s,b),pi(g,s,b,-1))}return Gv(),g=Tv(Error(n(421))),tp(s,u,$,g)}return b.data==="$?"?(u.flags|=128,u.child=s.child,u=TB.bind(null,s),b._reactRetry=u,null):(s=T.treeContext,Er=ua(b.nextSibling),br=u,Rt=!0,ci=null,s!==null&&(Dr[jr++]=go,Dr[jr++]=yo,Dr[jr++]=bs,go=s.id,yo=s.overflow,bs=u),u=Rv(u,g.children),u.flags|=4096,u)}function sP(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),uv(s.return,u,d)}function kv(s,u,d,g,b){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=b)}function uP(s,u,d){var g=u.pendingProps,b=g.revealOrder,T=g.tail;if(Gn(s,u,g.children,d),g=Mt.current,g&2)g=g&1|2,u.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sP(s,d,u);else if(s.tag===19)sP(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Et(Mt,g),!(u.mode&1))u.memoizedState=null;else switch(b){case"forwards":for(d=u.child,b=null;d!==null;)s=d.alternate,s!==null&&Kh(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=u.child,u.child=null):(b=d.sibling,d.sibling=null),kv(u,!1,b,d,T);break;case"backwards":for(d=null,b=u.child,u.child=null;b!==null;){if(s=b.alternate,s!==null&&Kh(s)===null){u.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}kv(u,!0,d,null,T);break;case"together":kv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function np(s,u){!(u.mode&1)&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function wo(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),As|=u.lanes,!(d&u.childLanes))return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=_a(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=_a(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function hB(s,u,d){switch(u.tag){case 3:iP(u),qu();break;case 5:EA(u);break;case 1:ir(u.type)&&$h(u);break;case 4:fv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;Et(zh,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(Et(Mt,Mt.current&1),u.flags|=128,null):d&u.child.childLanes?aP(s,u,d):(Et(Mt,Mt.current&1),s=wo(s,u,d),s!==null?s.sibling:null);Et(Mt,Mt.current&1);break;case 19:if(g=(d&u.childLanes)!==0,s.flags&128){if(g)return uP(s,u,d);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Et(Mt,Mt.current),g)break;return null;case 22:case 23:return u.lanes=0,tP(s,u,d)}return wo(s,u,d)}var lP,Nv,cP,fP;lP=function(s,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Nv=function(){},cP=function(s,u,d,g){var b=s.memoizedProps;if(b!==g){s=u.stateNode,Ss(zi.current);var T=null;switch(d){case"input":b=Me(s,b),g=Me(s,g),T=[];break;case"select":b=te({},b,{value:void 0}),g=te({},g,{value:void 0}),T=[];break;case"textarea":b=gr(s,b),g=gr(s,g),T=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Dh)}yc(d,g);var $;d=null;for(ie in b)if(!g.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var q=b[ie];for($ in q)q.hasOwnProperty($)&&(d||(d={}),d[$]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?T||(T=[]):(T=T||[]).push(ie,null));for(ie in g){var H=g[ie];if(q=b!=null?b[ie]:void 0,g.hasOwnProperty(ie)&&H!==q&&(H!=null||q!=null))if(ie==="style")if(q){for($ in q)!q.hasOwnProperty($)||H&&H.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in H)H.hasOwnProperty($)&&q[$]!==H[$]&&(d||(d={}),d[$]=H[$])}else d||(T||(T=[]),T.push(ie,d)),d=H;else ie==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(T=T||[]).push(ie,H)):ie==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(ie,""+H):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(H!=null&&ie==="onScroll"&&At("scroll",s),T||q===H||(T=[])):(T=T||[]).push(ie,H))}d&&(T=T||[]).push("style",d);var ie=T;(u.updateQueue=ie)&&(u.flags|=4)}},fP=function(s,u,d,g){d!==g&&(u.flags|=4)};function Qc(s,u){if(!Rt)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Ln(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function pB(s,u,d){var g=u.pendingProps;switch(tv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(u),null;case 1:return ir(u.type)&&Lh(),Ln(u),null;case 3:return g=u.stateNode,Gu(),Pt(rr),Pt(Dn),pv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Bh(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,ci!==null&&(zv(ci),ci=null))),Nv(s,u),Ln(u),null;case 5:dv(u);var b=Ss(Hc.current);if(d=u.type,s!==null&&u.stateNode!=null)cP(s,u,d,g,b),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Ln(u),null}if(s=Ss(zi.current),Bh(u)){g=u.stateNode,d=u.type;var T=u.memoizedProps;switch(g[qi]=u,g[Uc]=T,s=(u.mode&1)!==0,d){case"dialog":At("cancel",g),At("close",g);break;case"iframe":case"object":case"embed":At("load",g);break;case"video":case"audio":for(b=0;b<$c.length;b++)At($c[b],g);break;case"source":At("error",g);break;case"img":case"image":case"link":At("error",g),At("load",g);break;case"details":At("toggle",g);break;case"input":ht(g,T),At("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},At("invalid",g);break;case"textarea":Di(g,T),At("invalid",g)}yc(d,T),b=null;for(var $ in T)if(T.hasOwnProperty($)){var q=T[$];$==="children"?typeof q=="string"?g.textContent!==q&&(T.suppressHydrationWarning!==!0&&Mh(g.textContent,q,s),b=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&Mh(g.textContent,q,s),b=["children",""+q]):i.hasOwnProperty($)&&q!=null&&$==="onScroll"&&At("scroll",g)}switch(d){case"input":Ae(g),pr(g,T,!0);break;case"textarea":Ae(g),Xo(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=Dh)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=nn(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(d,{is:g.is}):(s=$.createElement(d),d==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,d),s[qi]=u,s[Uc]=g,lP(s,u,!1,!1),u.stateNode=s;e:{switch($=vc(d,g),d){case"dialog":At("cancel",s),At("close",s),b=g;break;case"iframe":case"object":case"embed":At("load",s),b=g;break;case"video":case"audio":for(b=0;b<$c.length;b++)At($c[b],s);b=g;break;case"source":At("error",s),b=g;break;case"img":case"image":case"link":At("error",s),At("load",s),b=g;break;case"details":At("toggle",s),b=g;break;case"input":ht(s,g),b=Me(s,g),At("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=te({},g,{value:void 0}),At("invalid",s);break;case"textarea":Di(s,g),b=gr(s,g),At("invalid",s);break;default:b=g}yc(d,b),q=b;for(T in q)if(q.hasOwnProperty(T)){var H=q[T];T==="style"?mc(s,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&hc(s,H)):T==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&Qo(s,H):typeof H=="number"&&Qo(s,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?H!=null&&T==="onScroll"&&At("scroll",s):H!=null&&N(s,T,H,$))}switch(d){case"input":Ae(s),pr(s,g,!1);break;case"textarea":Ae(s),Xo(s);break;case"option":g.value!=null&&s.setAttribute("value",""+he(g.value));break;case"select":s.multiple=!!g.multiple,T=g.value,T!=null?bn(s,!!g.multiple,T,!1):g.defaultValue!=null&&bn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Dh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ln(u),null;case 6:if(s&&u.stateNode!=null)fP(s,u,s.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(d=Ss(Hc.current),Ss(zi.current),Bh(u)){if(g=u.stateNode,d=u.memoizedProps,g[qi]=u,(T=g.nodeValue!==d)&&(s=br,s!==null))switch(s.tag){case 3:Mh(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mh(g.nodeValue,d,(s.mode&1)!==0)}T&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[qi]=u,u.stateNode=g}return Ln(u),null;case 13:if(Pt(Mt),g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Rt&&Er!==null&&u.mode&1&&!(u.flags&128))pA(),qu(),u.flags|=98560,T=!1;else if(T=Bh(u),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[qi]=u}else qu(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Ln(u),T=!1}else ci!==null&&(zv(ci),ci=null),T=!0;if(!T)return u.flags&65536?u:null}return u.flags&128?(u.lanes=d,u):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(u.child.flags|=8192,u.mode&1&&(s===null||Mt.current&1?sn===0&&(sn=3):Gv())),u.updateQueue!==null&&(u.flags|=4),Ln(u),null);case 4:return Gu(),Nv(s,u),s===null&&Fc(u.stateNode.containerInfo),Ln(u),null;case 10:return sv(u.type._context),Ln(u),null;case 17:return ir(u.type)&&Lh(),Ln(u),null;case 19:if(Pt(Mt),T=u.memoizedState,T===null)return Ln(u),null;if(g=(u.flags&128)!==0,$=T.rendering,$===null)if(g)Qc(T,!1);else{if(sn!==0||s!==null&&s.flags&128)for(s=u.child;s!==null;){if($=Kh(s),$!==null){for(u.flags|=128,Qc(T,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)T=d,s=g,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,s=$.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Et(Mt,Mt.current&1|2),u.child}s=s.sibling}T.tail!==null&&bt()>Qu&&(u.flags|=128,g=!0,Qc(T,!1),u.lanes=4194304)}else{if(!g)if(s=Kh($),s!==null){if(u.flags|=128,g=!0,d=s.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),Qc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!Rt)return Ln(u),null}else 2*bt()-T.renderingStartTime>Qu&&d!==1073741824&&(u.flags|=128,g=!0,Qc(T,!1),u.lanes=4194304);T.isBackwards?($.sibling=u.child,u.child=$):(d=T.last,d!==null?d.sibling=$:u.child=$,T.last=$)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=bt(),u.sibling=null,d=Mt.current,Et(Mt,g?d&1|2:d&1),u):(Ln(u),null);case 22:case 23:return Hv(),g=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(u.flags|=8192),g&&u.mode&1?xr&1073741824&&(Ln(u),u.subtreeFlags&6&&(u.flags|=8192)):Ln(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function mB(s,u){switch(tv(u),u.tag){case 1:return ir(u.type)&&Lh(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Gu(),Pt(rr),Pt(Dn),pv(),s=u.flags,s&65536&&!(s&128)?(u.flags=s&-65537|128,u):null;case 5:return dv(u),null;case 13:if(Pt(Mt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));qu()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Pt(Mt),null;case 4:return Gu(),null;case 10:return sv(u.type._context),null;case 22:case 23:return Hv(),null;case 24:return null;default:return null}}var rp=!1,$n=!1,gB=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Yu(s,u){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Ut(s,u,g)}else d.current=null}function Mv(s,u,d){try{d()}catch(g){Ut(s,u,g)}}var dP=!1;function yB(s,u){if(Hy=oa,s=zT(),$y(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var $=0,q=-1,H=-1,ie=0,me=0,ge=s,pe=null;t:for(;;){for(var Ee;ge!==d||b!==0&&ge.nodeType!==3||(q=$+b),ge!==T||g!==0&&ge.nodeType!==3||(H=$+g),ge.nodeType===3&&($+=ge.nodeValue.length),(Ee=ge.firstChild)!==null;)pe=ge,ge=Ee;for(;;){if(ge===s)break t;if(pe===d&&++ie===b&&(q=$),pe===T&&++me===g&&(H=$),(Ee=ge.nextSibling)!==null)break;ge=pe,pe=ge.parentNode}ge=Ee}d=q===-1||H===-1?null:{start:q,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Gy={focusedElem:s,selectionRange:d},oa=!1,Pe=u;Pe!==null;)if(u=Pe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Pe=s;else for(;Pe!==null;){u=Pe;try{var Oe=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,Gt=Oe.memoizedState,ee=u.stateNode,G=ee.getSnapshotBeforeUpdate(u.elementType===u.type?Re:fi(u.type,Re),Gt);ee.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Ut(u,u.return,ye)}if(s=u.sibling,s!==null){s.return=u.return,Pe=s;break}Pe=u.return}return Oe=dP,dP=!1,Oe}function Jc(s,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var T=b.destroy;b.destroy=void 0,T!==void 0&&Mv(u,d,T)}b=b.next}while(b!==g)}}function ip(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function Dv(s){var u=s.ref;if(u!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof u=="function"?u(s):u.current=s}}function hP(s){var u=s.alternate;u!==null&&(s.alternate=null,hP(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[qi],delete u[Uc],delete u[Qy],delete u[ZU],delete u[eB])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pP(s){return s.tag===5||s.tag===3||s.tag===4}function mP(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jv(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(s,u):d.insertBefore(s,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(s,d)):(u=d,u.appendChild(s)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Dh));else if(g!==4&&(s=s.child,s!==null))for(jv(s,u,d),s=s.sibling;s!==null;)jv(s,u,d),s=s.sibling}function Lv(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Lv(s,u,d),s=s.sibling;s!==null;)Lv(s,u,d),s=s.sibling}var Sn=null,di=!1;function pa(s,u,d){for(d=d.child;d!==null;)gP(s,u,d),d=d.sibling}function gP(s,u,d){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(ds,d)}catch{}switch(d.tag){case 5:$n||Yu(d,u);case 6:var g=Sn,b=di;Sn=null,pa(s,u,d),Sn=g,di=b,Sn!==null&&(di?(s=Sn,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Sn.removeChild(d.stateNode));break;case 18:Sn!==null&&(di?(s=Sn,d=d.stateNode,s.nodeType===8?Xy(s.parentNode,d):s.nodeType===1&&Xy(s,d),si(s)):Xy(Sn,d.stateNode));break;case 4:g=Sn,b=di,Sn=d.stateNode.containerInfo,di=!0,pa(s,u,d),Sn=g,di=b;break;case 0:case 11:case 14:case 15:if(!$n&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var T=b,$=T.destroy;T=T.tag,$!==void 0&&(T&2||T&4)&&Mv(d,u,$),b=b.next}while(b!==g)}pa(s,u,d);break;case 1:if(!$n&&(Yu(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(q){Ut(d,u,q)}pa(s,u,d);break;case 21:pa(s,u,d);break;case 22:d.mode&1?($n=(g=$n)||d.memoizedState!==null,pa(s,u,d),$n=g):pa(s,u,d);break;default:pa(s,u,d)}}function yP(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new gB),u.forEach(function(g){var b=AB.bind(null,s,g);d.has(g)||(d.add(g),g.then(b,b))})}}function hi(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];try{var T=s,$=u,q=$;e:for(;q!==null;){switch(q.tag){case 5:Sn=q.stateNode,di=!1;break e;case 3:Sn=q.stateNode.containerInfo,di=!0;break e;case 4:Sn=q.stateNode.containerInfo,di=!0;break e}q=q.return}if(Sn===null)throw Error(n(160));gP(T,$,b),Sn=null,di=!1;var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(ie){Ut(b,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)vP(u,s),u=u.sibling}function vP(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hi(u,s),Hi(s),g&4){try{Jc(3,s,s.return),ip(3,s)}catch(Re){Ut(s,s.return,Re)}try{Jc(5,s,s.return)}catch(Re){Ut(s,s.return,Re)}}break;case 1:hi(u,s),Hi(s),g&512&&d!==null&&Yu(d,d.return);break;case 5:if(hi(u,s),Hi(s),g&512&&d!==null&&Yu(d,d.return),s.flags&32){var b=s.stateNode;try{Qo(b,"")}catch(Re){Ut(s,s.return,Re)}}if(g&4&&(b=s.stateNode,b!=null)){var T=s.memoizedProps,$=d!==null?d.memoizedProps:T,q=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&yt(b,T),vc(q,$);var ie=vc(q,T);for($=0;$<H.length;$+=2){var me=H[$],ge=H[$+1];me==="style"?mc(b,ge):me==="dangerouslySetInnerHTML"?hc(b,ge):me==="children"?Qo(b,ge):N(b,me,ge,ie)}switch(q){case"input":Vt(b,T);break;case"textarea":oo(b,T);break;case"select":var pe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?bn(b,!!T.multiple,Ee,!1):pe!==!!T.multiple&&(T.defaultValue!=null?bn(b,!!T.multiple,T.defaultValue,!0):bn(b,!!T.multiple,T.multiple?[]:"",!1))}b[Uc]=T}catch(Re){Ut(s,s.return,Re)}}break;case 6:if(hi(u,s),Hi(s),g&4){if(s.stateNode===null)throw Error(n(162));b=s.stateNode,T=s.memoizedProps;try{b.nodeValue=T}catch(Re){Ut(s,s.return,Re)}}break;case 3:if(hi(u,s),Hi(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{si(u.containerInfo)}catch(Re){Ut(s,s.return,Re)}break;case 4:hi(u,s),Hi(s);break;case 13:hi(u,s),Hi(s),b=s.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(Vv=bt())),g&4&&yP(s);break;case 22:if(me=d!==null&&d.memoizedState!==null,s.mode&1?($n=(ie=$n)||me,hi(u,s),$n=ie):hi(u,s),Hi(s),g&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!me&&s.mode&1)for(Pe=s,me=s.child;me!==null;){for(ge=Pe=me;Pe!==null;){switch(pe=Pe,Ee=pe.child,pe.tag){case 0:case 11:case 14:case 15:Jc(4,pe,pe.return);break;case 1:Yu(pe,pe.return);var Oe=pe.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=pe,d=pe.return;try{u=g,Oe.props=u.memoizedProps,Oe.state=u.memoizedState,Oe.componentWillUnmount()}catch(Re){Ut(g,d,Re)}}break;case 5:Yu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){bP(ge);continue}}Ee!==null?(Ee.return=pe,Pe=Ee):bP(ge)}me=me.sibling}e:for(me=null,ge=s;;){if(ge.tag===5){if(me===null){me=ge;try{b=ge.stateNode,ie?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=ge.stateNode,H=ge.memoizedProps.style,$=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=pc("display",$))}catch(Re){Ut(s,s.return,Re)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=ie?"":ge.memoizedProps}catch(Re){Ut(s,s.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:hi(u,s),Hi(s),g&4&&yP(s);break;case 21:break;default:hi(u,s),Hi(s)}}function Hi(s){var u=s.flags;if(u&2){try{e:{for(var d=s.return;d!==null;){if(pP(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Qo(b,""),g.flags&=-33);var T=mP(s);Lv(s,T,b);break;case 3:case 4:var $=g.stateNode.containerInfo,q=mP(s);jv(s,q,$);break;default:throw Error(n(161))}}catch(H){Ut(s,s.return,H)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function vB(s,u,d){Pe=s,_P(s)}function _P(s,u,d){for(var g=(s.mode&1)!==0;Pe!==null;){var b=Pe,T=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||rp;if(!$){var q=b.alternate,H=q!==null&&q.memoizedState!==null||$n;q=rp;var ie=$n;if(rp=$,($n=H)&&!ie)for(Pe=b;Pe!==null;)$=Pe,H=$.child,$.tag===22&&$.memoizedState!==null?EP(b):H!==null?(H.return=$,Pe=H):EP(b);for(;T!==null;)Pe=T,_P(T),T=T.sibling;Pe=b,rp=q,$n=ie}wP(s)}else b.subtreeFlags&8772&&T!==null?(T.return=b,Pe=T):wP(s)}}function wP(s){for(;Pe!==null;){var u=Pe;if(u.flags&8772){var d=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:$n||ip(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!$n)if(d===null)g.componentDidMount();else{var b=u.elementType===u.type?d.memoizedProps:fi(u.type,d.memoizedProps);g.componentDidUpdate(b,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&bA(u,T,g);break;case 3:var $=u.updateQueue;if($!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}bA(u,$,d)}break;case 5:var q=u.stateNode;if(d===null&&u.flags&4){d=q;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var me=ie.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&si(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$n||u.flags&512&&Dv(u)}catch(pe){Ut(u,u.return,pe)}}if(u===s){Pe=null;break}if(d=u.sibling,d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function bP(s){for(;Pe!==null;){var u=Pe;if(u===s){Pe=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Pe=d;break}Pe=u.return}}function EP(s){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{ip(4,u)}catch(H){Ut(u,d,H)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(H){Ut(u,b,H)}}var T=u.return;try{Dv(u)}catch(H){Ut(u,T,H)}break;case 5:var $=u.return;try{Dv(u)}catch(H){Ut(u,$,H)}}}catch(H){Ut(u,u.return,H)}if(u===s){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var _B=Math.ceil,op=j.ReactCurrentDispatcher,$v=j.ReactCurrentOwner,Fr=j.ReactCurrentBatchConfig,it=0,mn=null,Qt=null,Tn=0,xr=0,Xu=la(0),sn=0,Zc=null,As=0,ap=0,Fv=0,ef=null,ar=null,Vv=0,Qu=1/0,bo=null,sp=!1,Uv=null,ma=null,up=!1,ga=null,lp=0,tf=0,Bv=null,cp=-1,fp=0;function Kn(){return it&6?bt():cp!==-1?cp:cp=bt()}function ya(s){return s.mode&1?it&2&&Tn!==0?Tn&-Tn:nB.transition!==null?(fp===0&&(fp=ps()),fp):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Cc(s.type)),s):1}function pi(s,u,d,g){if(50<tf)throw tf=0,Bv=null,Error(n(185));ta(s,d,g),(!(it&2)||s!==mn)&&(s===mn&&(!(it&2)&&(ap|=d),sn===4&&va(s,Tn)),sr(s,g),d===1&&it===0&&!(u.mode&1)&&(Qu=bt()+500,Fh&&fa()))}function sr(s,u){var d=s.callbackNode;uo(s,u);var g=hs(s,s===mn?Tn:0);if(g===0)d!==null&&Sc(d),s.callbackNode=null,s.callbackPriority=0;else if(u=g&-g,s.callbackPriority!==u){if(d!=null&&Sc(d),u===1)s.tag===0?tB(SP.bind(null,s)):lA(SP.bind(null,s)),QU(function(){!(it&6)&&fa()}),d=null;else{switch(ra(g)){case 1:d=fs;break;case 4:d=Jo;break;case 16:d=kr;break;case 536870912:d=fh;break;default:d=kr}d=kP(d,xP.bind(null,s))}s.callbackPriority=u,s.callbackNode=d}}function xP(s,u){if(cp=-1,fp=0,it&6)throw Error(n(327));var d=s.callbackNode;if(Ju()&&s.callbackNode!==d)return null;var g=hs(s,s===mn?Tn:0);if(g===0)return null;if(g&30||g&s.expiredLanes||u)u=dp(s,g);else{u=g;var b=it;it|=2;var T=AP();(mn!==s||Tn!==u)&&(bo=null,Qu=bt()+500,Is(s,u));do try{EB();break}catch(q){TP(s,q)}while(!0);av(),op.current=T,it=b,Qt!==null?u=0:(mn=null,Tn=0,u=sn)}if(u!==0){if(u===2&&(b=vr(s),b!==0&&(g=b,u=qv(s,b))),u===1)throw d=Zc,Is(s,0),va(s,g),sr(s,bt()),d;if(u===6)va(s,g);else{if(b=s.current.alternate,!(g&30)&&!wB(b)&&(u=dp(s,g),u===2&&(T=vr(s),T!==0&&(g=T,u=qv(s,T))),u===1))throw d=Zc,Is(s,0),va(s,g),sr(s,bt()),d;switch(s.finishedWork=b,s.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Cs(s,ar,bo);break;case 3:if(va(s,g),(g&130023424)===g&&(u=Vv+500-bt(),10<u)){if(hs(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Kn(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Yy(Cs.bind(null,s,ar,bo),u);break}Cs(s,ar,bo);break;case 4:if(va(s,g),(g&4194240)===g)break;for(u=s.eventTimes,b=-1;0<g;){var $=31-Wn(g);T=1<<$,$=u[$],$>b&&(b=$),g&=~T}if(g=b,g=bt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*_B(g/1960))-g,10<g){s.timeoutHandle=Yy(Cs.bind(null,s,ar,bo),g);break}Cs(s,ar,bo);break;case 5:Cs(s,ar,bo);break;default:throw Error(n(329))}}}return sr(s,bt()),s.callbackNode===d?xP.bind(null,s):null}function qv(s,u){var d=ef;return s.current.memoizedState.isDehydrated&&(Is(s,u).flags|=256),s=dp(s,u),s!==2&&(u=ar,ar=d,u!==null&&zv(u)),s}function zv(s){ar===null?ar=s:ar.push.apply(ar,s)}function wB(s){for(var u=s;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var b=d[g],T=b.getSnapshot;b=b.value;try{if(!li(T(),b))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function va(s,u){for(u&=~Fv,u&=~ap,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var d=31-Wn(u),g=1<<d;s[d]=-1,u&=~g}}function SP(s){if(it&6)throw Error(n(327));Ju();var u=hs(s,0);if(!(u&1))return sr(s,bt()),null;var d=dp(s,u);if(s.tag!==0&&d===2){var g=vr(s);g!==0&&(u=g,d=qv(s,g))}if(d===1)throw d=Zc,Is(s,0),va(s,u),sr(s,bt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Cs(s,ar,bo),sr(s,bt()),null}function Wv(s,u){var d=it;it|=1;try{return s(u)}finally{it=d,it===0&&(Qu=bt()+500,Fh&&fa())}}function Ps(s){ga!==null&&ga.tag===0&&!(it&6)&&Ju();var u=it;it|=1;var d=Fr.transition,g=Ze;try{if(Fr.transition=null,Ze=1,s)return s()}finally{Ze=g,Fr.transition=d,it=u,!(it&6)&&fa()}}function Hv(){xr=Xu.current,Pt(Xu)}function Is(s,u){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,XU(d)),Qt!==null)for(d=Qt.return;d!==null;){var g=d;switch(tv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Lh();break;case 3:Gu(),Pt(rr),Pt(Dn),pv();break;case 5:dv(g);break;case 4:Gu();break;case 13:Pt(Mt);break;case 19:Pt(Mt);break;case 10:sv(g.type._context);break;case 22:case 23:Hv()}d=d.return}if(mn=s,Qt=s=_a(s.current,null),Tn=xr=u,sn=0,Zc=null,Fv=ap=As=0,ar=ef=null,xs!==null){for(u=0;u<xs.length;u++)if(d=xs[u],g=d.interleaved,g!==null){d.interleaved=null;var b=g.next,T=d.pending;if(T!==null){var $=T.next;T.next=b,g.next=$}d.pending=g}xs=null}return s}function TP(s,u){do{var d=Qt;try{if(av(),Yh.current=Zh,Xh){for(var g=Dt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Xh=!1}if(Ts=0,pn=an=Dt=null,Gc=!1,Kc=0,$v.current=null,d===null||d.return===null){sn=1,Zc=u,Qt=null;break}e:{var T=s,$=d.return,q=d,H=u;if(u=Tn,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=H,me=q,ge=me.tag;if(!(me.mode&1)&&(ge===0||ge===11||ge===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=XA($);if(Ee!==null){Ee.flags&=-257,QA(Ee,$,q,T,u),Ee.mode&1&&YA(T,ie,u),u=Ee,H=ie;var Oe=u.updateQueue;if(Oe===null){var Re=new Set;Re.add(H),u.updateQueue=Re}else Oe.add(H);break e}else{if(!(u&1)){YA(T,ie,u),Gv();break e}H=Error(n(426))}}else if(Rt&&q.mode&1){var Gt=XA($);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),QA(Gt,$,q,T,u),iv(Ku(H,q));break e}}T=H=Ku(H,q),sn!==4&&(sn=2),ef===null?ef=[T]:ef.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ee=GA(T,H,u);wA(T,ee);break e;case 1:q=H;var G=T.type,ne=T.stateNode;if(!(T.flags&128)&&(typeof G.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(ma===null||!ma.has(ne)))){T.flags|=65536,u&=-u,T.lanes|=u;var ye=KA(T,q,u);wA(T,ye);break e}}T=T.return}while(T!==null)}IP(d)}catch(ke){u=ke,Qt===d&&d!==null&&(Qt=d=d.return);continue}break}while(!0)}function AP(){var s=op.current;return op.current=Zh,s===null?Zh:s}function Gv(){(sn===0||sn===3||sn===2)&&(sn=4),mn===null||!(As&268435455)&&!(ap&268435455)||va(mn,Tn)}function dp(s,u){var d=it;it|=2;var g=AP();(mn!==s||Tn!==u)&&(bo=null,Is(s,u));do try{bB();break}catch(b){TP(s,b)}while(!0);if(av(),it=d,op.current=g,Qt!==null)throw Error(n(261));return mn=null,Tn=0,sn}function bB(){for(;Qt!==null;)PP(Qt)}function EB(){for(;Qt!==null&&!lh();)PP(Qt)}function PP(s){var u=RP(s.alternate,s,xr);s.memoizedProps=s.pendingProps,u===null?IP(s):Qt=u,$v.current=null}function IP(s){var u=s;do{var d=u.alternate;if(s=u.return,u.flags&32768){if(d=mB(d,u),d!==null){d.flags&=32767,Qt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Qt=null;return}}else if(d=pB(d,u,xr),d!==null){Qt=d;return}if(u=u.sibling,u!==null){Qt=u;return}Qt=u=s}while(u!==null);sn===0&&(sn=5)}function Cs(s,u,d){var g=Ze,b=Fr.transition;try{Fr.transition=null,Ze=1,xB(s,u,d,g)}finally{Fr.transition=b,Ze=g}return null}function xB(s,u,d,g){do Ju();while(ga!==null);if(it&6)throw Error(n(327));d=s.finishedWork;var b=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=d.lanes|d.childLanes;if(vt(s,T),s===mn&&(Qt=mn=null,Tn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||up||(up=!0,kP(kr,function(){return Ju(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Fr.transition,Fr.transition=null;var $=Ze;Ze=1;var q=it;it|=4,$v.current=null,yB(s,d),vP(d,s),qU(Gy),oa=!!Hy,Gy=Hy=null,s.current=d,vB(d),Oy(),it=q,Ze=$,Fr.transition=T}else s.current=d;if(up&&(up=!1,ga=s,lp=b),T=s.pendingLanes,T===0&&(ma=null),dh(d.stateNode),sr(s,bt()),u!==null)for(g=s.onRecoverableError,d=0;d<u.length;d++)b=u[d],g(b.value,{componentStack:b.stack,digest:b.digest});if(sp)throw sp=!1,s=Uv,Uv=null,s;return lp&1&&s.tag!==0&&Ju(),T=s.pendingLanes,T&1?s===Bv?tf++:(tf=0,Bv=s):tf=0,fa(),null}function Ju(){if(ga!==null){var s=ra(lp),u=Fr.transition,d=Ze;try{if(Fr.transition=null,Ze=16>s?16:s,ga===null)var g=!1;else{if(s=ga,ga=null,lp=0,it&6)throw Error(n(331));var b=it;for(it|=4,Pe=s.current;Pe!==null;){var T=Pe,$=T.child;if(Pe.flags&16){var q=T.deletions;if(q!==null){for(var H=0;H<q.length;H++){var ie=q[H];for(Pe=ie;Pe!==null;){var me=Pe;switch(me.tag){case 0:case 11:case 15:Jc(8,me,T)}var ge=me.child;if(ge!==null)ge.return=me,Pe=ge;else for(;Pe!==null;){me=Pe;var pe=me.sibling,Ee=me.return;if(hP(me),me===ie){Pe=null;break}if(pe!==null){pe.return=Ee,Pe=pe;break}Pe=Ee}}}var Oe=T.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var Gt=Re.sibling;Re.sibling=null,Re=Gt}while(Re!==null)}}Pe=T}}if(T.subtreeFlags&2064&&$!==null)$.return=T,Pe=$;else e:for(;Pe!==null;){if(T=Pe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Jc(9,T,T.return)}var ee=T.sibling;if(ee!==null){ee.return=T.return,Pe=ee;break e}Pe=T.return}}var G=s.current;for(Pe=G;Pe!==null;){$=Pe;var ne=$.child;if($.subtreeFlags&2064&&ne!==null)ne.return=$,Pe=ne;else e:for($=G;Pe!==null;){if(q=Pe,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:ip(9,q)}}catch(ke){Ut(q,q.return,ke)}if(q===$){Pe=null;break e}var ye=q.sibling;if(ye!==null){ye.return=q.return,Pe=ye;break e}Pe=q.return}}if(it=b,fa(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(ds,s)}catch{}g=!0}return g}finally{Ze=d,Fr.transition=u}}return!1}function CP(s,u,d){u=Ku(d,u),u=GA(s,u,1),s=ha(s,u,1),u=Kn(),s!==null&&(ta(s,1,u),sr(s,u))}function Ut(s,u,d){if(s.tag===3)CP(s,s,d);else for(;u!==null;){if(u.tag===3){CP(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ma===null||!ma.has(g))){s=Ku(d,s),s=KA(u,s,1),u=ha(u,s,1),s=Kn(),u!==null&&(ta(u,1,s),sr(u,s));break}}u=u.return}}function SB(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),u=Kn(),s.pingedLanes|=s.suspendedLanes&d,mn===s&&(Tn&d)===d&&(sn===4||sn===3&&(Tn&130023424)===Tn&&500>bt()-Vv?Is(s,0):Fv|=d),sr(s,u)}function OP(s,u){u===0&&(s.mode&1?(u=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):u=1);var d=Kn();s=vo(s,u),s!==null&&(ta(s,u,d),sr(s,d))}function TB(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),OP(s,d)}function AB(s,u){var d=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),OP(s,d)}var RP;RP=function(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps||rr.current)or=!0;else{if(!(s.lanes&d)&&!(u.flags&128))return or=!1,hB(s,u,d);or=!!(s.flags&131072)}else or=!1,Rt&&u.flags&1048576&&cA(u,Uh,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;np(s,u),s=u.pendingProps;var b=Vu(u,Dn.current);Hu(u,d),b=yv(null,u,g,s,b,d);var T=vv();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ir(g)?(T=!0,$h(u)):T=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,cv(u),b.updater=ep,u.stateNode=b,b._reactInternals=u,Sv(u,g,s,d),u=Iv(null,u,g,!0,T,d)):(u.tag=0,Rt&&T&&ev(u),Gn(null,u,b,d),u=u.child),u;case 16:g=u.elementType;e:{switch(np(s,u),s=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=IB(g),s=fi(g,s),b){case 0:u=Pv(null,u,g,s,d);break e;case 1:u=rP(null,u,g,s,d);break e;case 11:u=JA(null,u,g,s,d);break e;case 14:u=ZA(null,u,g,fi(g.type,s),d);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:fi(g,b),Pv(s,u,g,b,d);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:fi(g,b),rP(s,u,g,b,d);case 3:e:{if(iP(u),s===null)throw Error(n(387));g=u.pendingProps,T=u.memoizedState,b=T.element,_A(s,u),Gh(u,g,null,d);var $=u.memoizedState;if(g=$.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){b=Ku(Error(n(423)),u),u=oP(s,u,g,d,b);break e}else if(g!==b){b=Ku(Error(n(424)),u),u=oP(s,u,g,d,b);break e}else for(Er=ua(u.stateNode.containerInfo.firstChild),br=u,Rt=!0,ci=null,d=yA(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(qu(),g===b){u=wo(s,u,d);break e}Gn(s,u,g,d)}u=u.child}return u;case 5:return EA(u),s===null&&rv(u),g=u.type,b=u.pendingProps,T=s!==null?s.memoizedProps:null,$=b.children,Ky(g,b)?$=null:T!==null&&Ky(g,T)&&(u.flags|=32),nP(s,u),Gn(s,u,$,d),u.child;case 6:return s===null&&rv(u),null;case 13:return aP(s,u,d);case 4:return fv(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=zu(u,null,g,d):Gn(s,u,g,d),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:fi(g,b),JA(s,u,g,b,d);case 7:return Gn(s,u,u.pendingProps,d),u.child;case 8:return Gn(s,u,u.pendingProps.children,d),u.child;case 12:return Gn(s,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,T=u.memoizedProps,$=b.value,Et(zh,g._currentValue),g._currentValue=$,T!==null)if(li(T.value,$)){if(T.children===b.children&&!rr.current){u=wo(s,u,d);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){$=T.child;for(var H=q.firstContext;H!==null;){if(H.context===g){if(T.tag===1){H=_o(-1,d&-d),H.tag=2;var ie=T.updateQueue;if(ie!==null){ie=ie.shared;var me=ie.pending;me===null?H.next=H:(H.next=me.next,me.next=H),ie.pending=H}}T.lanes|=d,H=T.alternate,H!==null&&(H.lanes|=d),uv(T.return,d,u),q.lanes|=d;break}H=H.next}}else if(T.tag===10)$=T.type===u.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(n(341));$.lanes|=d,q=$.alternate,q!==null&&(q.lanes|=d),uv($,d,u),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===u){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}Gn(s,u,b.children,d),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,Hu(u,d),b=Lr(b),g=g(b),u.flags|=1,Gn(s,u,g,d),u.child;case 14:return g=u.type,b=fi(g,u.pendingProps),b=fi(g.type,b),ZA(s,u,g,b,d);case 15:return eP(s,u,u.type,u.pendingProps,d);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:fi(g,b),np(s,u),u.tag=1,ir(g)?(s=!0,$h(u)):s=!1,Hu(u,d),WA(u,g,b),Sv(u,g,b,d),Iv(null,u,g,!0,s,d);case 19:return uP(s,u,d);case 22:return tP(s,u,d)}throw Error(n(156,u.tag))};function kP(s,u){return _u(s,u)}function PB(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(s,u,d,g){return new PB(s,u,d,g)}function Kv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function IB(s){if(typeof s=="function")return Kv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Y)return 14}return 2}function _a(s,u){var d=s.alternate;return d===null?(d=Vr(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function hp(s,u,d,g,b,T){var $=2;if(g=s,typeof s=="function")Kv(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case C:return Os(d.children,b,T,u);case R:$=8,b|=8;break;case M:return s=Vr(12,d,u,b|2),s.elementType=M,s.lanes=T,s;case O:return s=Vr(13,d,u,b),s.elementType=O,s.lanes=T,s;case W:return s=Vr(19,d,u,b),s.elementType=W,s.lanes=T,s;case re:return pp(d,b,T,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:$=10;break e;case L:$=9;break e;case V:$=11;break e;case Y:$=14;break e;case X:$=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=Vr($,d,u,b),u.elementType=s,u.type=g,u.lanes=T,u}function Os(s,u,d,g){return s=Vr(7,s,g,u),s.lanes=d,s}function pp(s,u,d,g){return s=Vr(22,s,g,u),s.elementType=re,s.lanes=d,s.stateNode={isHidden:!1},s}function Yv(s,u,d){return s=Vr(6,s,null,u),s.lanes=d,s}function Xv(s,u,d){return u=Vr(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function CB(s,u,d,g,b){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Qv(s,u,d,g,b,T,$,q,H){return s=new CB(s,u,d,q,H),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Vr(3,null,null,u),s.current=T,T.stateNode=s,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(T),s}function OB(s,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:s,containerInfo:u,implementation:d}}function NP(s){if(!s)return ca;s=s._reactInternals;e:{if(ni(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ir(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(ir(d))return sA(s,d,u)}return u}function MP(s,u,d,g,b,T,$,q,H){return s=Qv(d,g,!0,s,b,T,$,q,H),s.context=NP(null),d=s.current,g=Kn(),b=ya(d),T=_o(g,b),T.callback=u??null,ha(d,T,b),s.current.lanes=b,ta(s,b,g),sr(s,g),s}function mp(s,u,d,g){var b=u.current,T=Kn(),$=ya(b);return d=NP(d),u.context===null?u.context=d:u.pendingContext=d,u=_o(T,$),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=ha(b,u,$),s!==null&&(pi(s,b,$,T),Hh(s,b,$)),$}function gp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function DP(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function Jv(s,u){DP(s,u),(s=s.alternate)&&DP(s,u)}function RB(){return null}var jP=typeof reportError=="function"?reportError:function(s){console.error(s)};function Zv(s){this._internalRoot=s}yp.prototype.render=Zv.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));mp(s,u,null,null)},yp.prototype.unmount=Zv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ps(function(){mp(null,s,null,null)}),u[po]=null}};function yp(s){this._internalRoot=s}yp.prototype.unstable_scheduleHydration=function(s){if(s){var u=yh();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Fi.length&&u!==0&&u<Fi[d].priority;d++);Fi.splice(d,0,s),d===0&&wh(s)}};function e_(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function LP(){}function kB(s,u,d,g,b){if(b){if(typeof g=="function"){var T=g;g=function(){var ie=gp($);T.call(ie)}}var $=MP(u,g,s,0,null,!1,!1,"",LP);return s._reactRootContainer=$,s[po]=$.current,Fc(s.nodeType===8?s.parentNode:s),Ps(),$}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var q=g;g=function(){var ie=gp(H);q.call(ie)}}var H=Qv(s,0,!1,null,null,!1,!1,"",LP);return s._reactRootContainer=H,s[po]=H.current,Fc(s.nodeType===8?s.parentNode:s),Ps(function(){mp(u,H,d,g)}),H}function _p(s,u,d,g,b){var T=d._reactRootContainer;if(T){var $=T;if(typeof b=="function"){var q=b;b=function(){var H=gp($);q.call(H)}}mp(u,$,s,b)}else $=kB(d,u,s,b,g);return gp($)}mh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var d=Zo(u.pendingLanes);d!==0&&(na(u,d|1),sr(u,bt()),!(it&6)&&(Qu=bt()+500,fa()))}break;case 13:Ps(function(){var g=vo(s,1);if(g!==null){var b=Kn();pi(g,s,1,b)}}),Jv(s,1)}},Eu=function(s){if(s.tag===13){var u=vo(s,134217728);if(u!==null){var d=Kn();pi(u,s,134217728,d)}Jv(s,134217728)}},gh=function(s){if(s.tag===13){var u=ya(s),d=vo(s,u);if(d!==null){var g=Kn();pi(d,s,u,g)}Jv(s,u)}},yh=function(){return Ze},vh=function(s,u){var d=Ze;try{return Ze=s,u()}finally{Ze=d}},hu=function(s,u,d){switch(u){case"input":if(Vt(s,d),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var b=jh(g);if(!b)throw Error(n(90));de(g),Vt(g,b)}}}break;case"textarea":oo(s,d);break;case"select":u=d.value,u!=null&&bn(s,!!d.multiple,u,!1)}},ss=Wv,wc=Ps;var NB={usingClientEntryPoint:!1,Events:[Bc,$u,jh,Li,_c,Wv]},nf={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MB={bundleType:nf.bundleType,version:nf.version,rendererPackageName:nf.rendererPackageName,rendererConfig:nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xc(s),s===null?null:s.stateNode},findFiberByHostInstance:nf.findFiberByHostInstance||RB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{ds=wp.inject(MB),yr=wp}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NB,ur.createPortal=function(s,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e_(u))throw Error(n(200));return OB(s,u,null,d)},ur.createRoot=function(s,u){if(!e_(s))throw Error(n(299));var d=!1,g="",b=jP;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=Qv(s,1,!1,null,null,d,!1,g,b),s[po]=u.current,Fc(s.nodeType===8?s.parentNode:s),new Zv(u)},ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=xc(u),s=s===null?null:s.stateNode,s},ur.flushSync=function(s){return Ps(s)},ur.hydrate=function(s,u,d){if(!vp(u))throw Error(n(200));return _p(null,s,u,!0,d)},ur.hydrateRoot=function(s,u,d){if(!e_(s))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,b=!1,T="",$=jP;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),u=MP(u,null,s,1,d??null,b,!1,T,$),s[po]=u.current,Fc(s),g)for(s=0;s<g.length;s++)d=g[s],b=d._getVersion,b=b(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,b]:u.mutableSourceEagerHydrationData.push(d,b);return new yp(u)},ur.render=function(s,u,d){if(!vp(u))throw Error(n(200));return _p(null,s,u,!1,d)},ur.unmountComponentAtNode=function(s){if(!vp(s))throw Error(n(40));return s._reactRootContainer?(Ps(function(){_p(null,null,s,!1,function(){s._reactRootContainer=null,s[po]=null})}),!0):!1},ur.unstable_batchedUpdates=Wv,ur.unstable_renderSubtreeIntoContainer=function(s,u,d,g){if(!vp(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return _p(s,u,d,!1,g)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var WP;function BB(){if(WP)return r_.exports;WP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r_.exports=UB(),r_.exports}var HP;function qB(){if(HP)return Ep;HP=1;var t=BB();return Ep.createRoot=t.createRoot,Ep.hydrateRoot=t.hydrateRoot,Ep}var zB=qB(),of={},GP;function WB(){if(GP)return of;GP=1,Object.defineProperty(of,"__esModule",{value:!0}),of.parse=a,of.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,w){const _=new o,E=y.length;if(E<2)return _;const v=(w==null?void 0:w.decode)||h;let P=0;do{const A=y.indexOf("=",P);if(A===-1)break;const N=y.indexOf(";",P),j=N===-1?E:N;if(A>j){P=y.lastIndexOf(";",A-1)+1;continue}const I=l(y,P,A),D=c(y,A,I),C=y.slice(I,D);if(_[C]===void 0){let R=l(y,A+1,j),M=c(y,j,R);const F=v(y.slice(R,M));_[C]=F}P=j+1}while(P<E);return _}function l(y,w,_){do{const E=y.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<_);return _}function c(y,w,_){for(;w>_;){const E=y.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return _}function f(y,w,_){const E=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const v=E(w);if(!e.test(v))throw new TypeError(`argument val is invalid: ${w}`);let P=y+"="+v;if(!_)return P;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);P+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);P+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);P+="; Path="+_.path}if(_.expires){if(!p(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);P+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(P+="; HttpOnly"),_.secure&&(P+="; Secure"),_.partitioned&&(P+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return P}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return i.call(y)==="[object Date]"}return of}WB();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KP="popstate";function HB(t={}){function e(i,o){let{pathname:a="/",search:l="",hash:c=""}=iu(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),b1("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof o=="string"?o:Uf(o))}function r(i,o){Xr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return KB(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GB(){return Math.random().toString(36).substring(2,10)}function YP(t,e){return{usr:t.state,key:t.key,idx:e}}function b1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?iu(e):e,state:n,key:e&&e.key||r||GB()}}function Uf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",c=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let v=h(),P=v==null?null:v-f;f=v,c&&c({action:l,location:E.location,delta:P})}function y(v,P){l="PUSH";let A=b1(E.location,v,P);n&&n(A,v),f=h()+1;let N=YP(A,f),j=E.createHref(A);try{a.pushState(N,"",j)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(j)}o&&c&&c({action:l,location:E.location,delta:1})}function w(v,P){l="REPLACE";let A=b1(E.location,v,P);n&&n(A,v),f=h();let N=YP(A,f),j=E.createHref(A);a.replaceState(N,"",j),o&&c&&c({action:l,location:E.location,delta:0})}function _(v){let P=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof v=="string"?v:Uf(v);return A=A.replace(/ $/,"%20"),Nt(P,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,P)}let E={get action(){return l},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(KP,p),c=v,()=>{i.removeEventListener(KP,p),c=null}},createHref(v){return e(i,v)},createURL:_,encodeLocation(v){let P=_(v);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:w,go(v){return a.go(v)}};return E}function SD(t,e,n="/"){return YB(t,e,n,!1)}function YB(t,e,n,r){let i=typeof e=="string"?iu(e):e,o=Fa(i.pathname||"/",n);if(o==null)return null;let a=TD(t);XB(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=s4(o);l=o4(a[c],f,r)}return l}function TD(t,e=[],n=[],r=""){let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Co([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),TD(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:r4(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of AD(o.path))i(o,a,c)}),e}function AD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=AD(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function XB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QB=/^:[\w-]+$/,JB=3,ZB=2,e4=1,t4=10,n4=-2,XP=t=>t==="*";function r4(t,e){let n=t.split("/"),r=n.length;return n.some(XP)&&(r+=n4),e&&(r+=ZB),n.filter(i=>!XP(i)).reduce((i,o)=>i+(QB.test(o)?JB:o===""?e4:t4),r)}function i4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o4(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=im({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),y=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=im({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Co([o,p.pathname]),pathnameBase:f4(Co([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Co([o,p.pathnameBase]))}return a}function im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},y)=>{if(h==="*"){let _=l[y]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const w=l[y];return p&&!w?f[h]=void 0:f[h]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function a4(t,e=!1,n=!0){Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u4(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?iu(t):t;return{pathname:n?n.startsWith("/")?n:l4(n,e):e,search:d4(r),hash:h4(i)}}function l4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function a_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mx(t){let e=c4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gx(t,e,n,r=!1){let i;typeof t=="string"?i=iu(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),a_("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),a_("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),a_("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let c=u4(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Co=t=>t.join("/").replace(/\/\/+/g,"/"),f4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PD=["POST","PUT","PATCH","DELETE"];new Set(PD);var m4=["GET",...PD];new Set(m4);var Jl=B.createContext(null);Jl.displayName="DataRouter";var wg=B.createContext(null);wg.displayName="DataRouterState";var ID=B.createContext({isTransitioning:!1});ID.displayName="ViewTransition";var g4=B.createContext(new Map);g4.displayName="Fetchers";var y4=B.createContext(null);y4.displayName="Await";var Ii=B.createContext(null);Ii.displayName="Navigation";var jd=B.createContext(null);jd.displayName="Location";var Ci=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var yx=B.createContext(null);yx.displayName="RouteError";function v4(t,{relative:e}={}){Nt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(Ii),{hash:i,pathname:o,search:a}=Ld(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:Co([n,o])),r.createHref({pathname:l,search:a,hash:i})}function Zl(){return B.useContext(jd)!=null}function Oi(){return Nt(Zl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(jd).location}var CD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OD(t){B.useContext(Ii).static||B.useLayoutEffect(t)}function Ka(){let{isDataRoute:t}=B.useContext(Ci);return t?N4():_4()}function _4(){Nt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Jl),{basename:e,navigator:n}=B.useContext(Ii),{matches:r}=B.useContext(Ci),{pathname:i}=Oi(),o=JSON.stringify(mx(r)),a=B.useRef(!1);return OD(()=>{a.current=!0}),B.useCallback((c,f={})=>{if(Xr(a.current,CD),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=gx(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Co([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}var w4=B.createContext(null);function b4(t){let e=B.useContext(Ci).outlet;return e&&B.createElement(w4.Provider,{value:t},e)}function Ld(t,{relative:e}={}){let{matches:n}=B.useContext(Ci),{pathname:r}=Oi(),i=JSON.stringify(mx(n));return B.useMemo(()=>gx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function E4(t,e){return RD(t,e)}function RD(t,e,n,r){var P;Nt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(Ii),{matches:o}=B.useContext(Ci),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";kD(c,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Oi(),y;if(e){let A=typeof e=="string"?iu(e):e;Nt(f==="/"||((P=A.pathname)==null?void 0:P.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let w=y.pathname||"/",_=w;if(f!=="/"){let A=f.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=SD(t,{pathname:_});Xr(h||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Xr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=P4(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Co([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Co([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&v?B.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function x4(){let t=k4(),e=p4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,a)}var S4=B.createElement(x4,null),T4=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(Ci.Provider,{value:this.props.routeContext},B.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A4({routeContext:t,match:e,children:n}){let r=B.useContext(Jl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ci.Provider,{value:t},n)}function P4(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Nt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let p,y=!1,w=null,_=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||S4,a&&(l<0&&h===0?(kD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):l===h&&(y=!0,_=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,h+1)),v=()=>{let P;return p?P=w:y?P=_:f.route.Component?P=B.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=c,B.createElement(A4,{match:f,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?B.createElement(T4,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}function vx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I4(t){let e=B.useContext(Jl);return Nt(e,vx(t)),e}function C4(t){let e=B.useContext(wg);return Nt(e,vx(t)),e}function O4(t){let e=B.useContext(Ci);return Nt(e,vx(t)),e}function _x(t){let e=O4(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R4(){return _x("useRouteId")}function k4(){var r;let t=B.useContext(yx),e=C4("useRouteError"),n=_x("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function N4(){let{router:t}=I4("useNavigate"),e=_x("useNavigate"),n=B.useRef(!1);return OD(()=>{n.current=!0}),B.useCallback(async(i,o={})=>{Xr(n.current,CD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var QP={};function kD(t,e,n){!e&&!QP[t]&&(QP[t]=!0,Xr(!1,n))}B.memo(M4);function M4({routes:t,future:e,state:n}){return RD(t,void 0,n,e)}function JP({to:t,replace:e,state:n,relative:r}){Nt(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=B.useContext(Ii);Xr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Ci),{pathname:a}=Oi(),l=Ka(),c=gx(t,mx(o),a,r==="path"),f=JSON.stringify(c);return B.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function D4(t){return b4(t.context)}function lr(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Nt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=iu(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,w=B.useMemo(()=>{let _=Fa(c,a);return _==null?null:{location:{pathname:_,search:f,hash:h,state:p,key:y},navigationType:r}},[a,c,f,h,p,y,r]);return Xr(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:B.createElement(Ii.Provider,{value:l},B.createElement(jd.Provider,{children:e,value:w}))}function L4({children:t,location:e}){return E4(E1(t),e)}function E1(t,e=[]){let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let o=[...e,i];if(r.type===B.Fragment){n.push.apply(n,E1(r.props.children,o));return}Nt(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=E1(r.props.children,o)),n.push(a)}),n}var Hp="get",Gp="application/x-www-form-urlencoded";function bg(t){return t!=null&&typeof t.tagName=="string"}function $4(t){return bg(t)&&t.tagName.toLowerCase()==="button"}function F4(t){return bg(t)&&t.tagName.toLowerCase()==="form"}function V4(t){return bg(t)&&t.tagName.toLowerCase()==="input"}function U4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B4(t,e){return t.button===0&&(!e||e==="_self")&&!U4(t)}var xp=null;function q4(){if(xp===null)try{new FormData(document.createElement("form"),0),xp=!1}catch{xp=!0}return xp}var z4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s_(t){return t!=null&&!z4.has(t)?(Xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gp}"`),null):t}function W4(t,e){let n,r,i,o,a;if(F4(t)){let l=t.getAttribute("action");r=l?Fa(l,e):null,n=t.getAttribute("method")||Hp,i=s_(t.getAttribute("enctype"))||Gp,o=new FormData(t)}else if($4(t)||V4(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Fa(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Hp,i=s_(t.getAttribute("formenctype"))||s_(l.getAttribute("enctype"))||Gp,o=new FormData(l,t),!q4()){let{name:f,type:h,value:p}=t;if(h==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,p)}}else{if(bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hp,r=null,i=Gp,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function wx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function H4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function K4(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await H4(o,n);return a.links?a.links():[]}return[]}));return J4(r.flat(1).filter(G4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZP(t,e,n,r,i,o){let a=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,l=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>a(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Y4(t,e){return X4(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function X4(t){return[...new Set(t)]}function Q4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J4(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Q4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Z4(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function e3(){let t=B.useContext(Jl);return wx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t3(){let t=B.useContext(wg);return wx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bx=B.createContext(void 0);bx.displayName="FrameworkContext";function ND(){let t=B.useContext(bx);return wx(t,"You must render this element inside a <HydratedRouter> element"),t}function n3(t,e){let n=B.useContext(bx),[r,i]=B.useState(!1),[o,a]=B.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,y=B.useRef(null);B.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let E=P=>{P.forEach(A=>{a(A.isIntersecting)})},v=new IntersectionObserver(E,{threshold:.5});return y.current&&v.observe(y.current),()=>{v.disconnect()}}},[t]),B.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},_=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:af(l,w),onBlur:af(c,_),onMouseEnter:af(f,w),onMouseLeave:af(h,_),onTouchStart:af(p,w)}]:[!1,y,{}]}function af(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function r3({page:t,...e}){let{router:n}=e3(),r=B.useMemo(()=>SD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(o3,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function i3(t){let{manifest:e,routeModules:n}=ND(),[r,i]=B.useState([]);return B.useEffect(()=>{let o=!1;return K4(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function o3({page:t,matches:e,...n}){let r=Oi(),{manifest:i,routeModules:o}=ND(),{loaderData:a,matches:l}=t3(),c=B.useMemo(()=>ZP(t,e,l,i,r,"data"),[t,e,l,i,r]),f=B.useMemo(()=>ZP(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(v=>{var A;let P=i.routes[v.route.id];!P||!P.hasLoader||(!c.some(N=>N.route.id===v.route.id)&&v.route.id in a&&((A=o[v.route.id])!=null&&A.shouldRevalidate)||P.hasClientLoader?_=!0:w.add(v.route.id))}),w.size===0)return[];let E=Z4(t);return _&&w.size>0&&E.searchParams.set("_routes",e.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[E.pathname+E.search]},[a,r,i,c,e,t,o]),p=B.useMemo(()=>Y4(f,i),[f,i]),y=i3(f);return B.createElement(B.Fragment,null,h.map(w=>B.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>B.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:_})=>B.createElement("link",{key:w,..._})))}function a3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MD&&(window.__reactRouterVersion="7.0.2")}catch{}function s3({basename:t,children:e,window:n}){let r=B.useRef();r.current==null&&(r.current=HB({window:n,v5Compat:!0}));let i=r.current,[o,a]=B.useState({action:i.action,location:i.location}),l=B.useCallback(c=>{B.startTransition(()=>a(c))},[a]);return B.useLayoutEffect(()=>i.listen(l),[i,l]),B.createElement(j4,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var DD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:l,target:c,to:f,preventScrollReset:h,viewTransition:p,...y},w){let{basename:_}=B.useContext(Ii),E=typeof f=="string"&&DD.test(f),v,P=!1;if(typeof f=="string"&&E&&(v=f,MD))try{let M=new URL(window.location.href),F=f.startsWith("//")?new URL(M.protocol+f):new URL(f),L=Fa(F.pathname,_);F.origin===M.origin&&L!=null?f=L+F.search+F.hash:P=!0}catch{Xr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=v4(f,{relative:i}),[N,j,I]=n3(r,y),D=f3(f,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function C(M){e&&e(M),M.defaultPrevented||D(M)}let R=B.createElement("a",{...y,...I,href:v||A,onClick:P||o?e:C,ref:a3(w,j),target:c,"data-discover":!E&&n==="render"?"true":void 0});return N&&!E?B.createElement(B.Fragment,null,R,B.createElement(r3,{page:A})):R});gi.displayName="Link";var u3=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:l,children:c,...f},h){let p=Ld(a,{relative:f.relative}),y=Oi(),w=B.useContext(wg),{navigator:_,basename:E}=B.useContext(Ii),v=w!=null&&g3(p)&&l===!0,P=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,A=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&E&&(N=Fa(N,E)||N);const j=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let I=A===P||!i&&A.startsWith(P)&&A.charAt(j)==="/",D=N!=null&&(N===P||!i&&N.startsWith(P)&&N.charAt(P.length)==="/"),C={isActive:I,isPending:D,isTransitioning:v},R=I?e:void 0,M;typeof r=="function"?M=r(C):M=[r,I?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(C):o;return B.createElement(gi,{...f,"aria-current":R,className:M,ref:h,style:F,to:a,viewTransition:l},typeof c=="function"?c(C):c)});u3.displayName="NavLink";var l3=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Hp,action:l,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,...y},w)=>{let _=p3(),E=m3(l,{relative:f}),v=a.toLowerCase()==="get"?"get":"post",P=typeof l=="string"&&DD.test(l),A=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,I=(j==null?void 0:j.getAttribute("formmethod"))||a;_(j||N.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:p})};return B.createElement("form",{ref:w,method:v,action:E,onSubmit:r?c:A,...y,"data-discover":!P&&t==="render"?"true":void 0})});l3.displayName="Form";function c3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jD(t){let e=B.useContext(Jl);return Nt(e,c3(t)),e}function f3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=Ka(),c=Oi(),f=Ld(t,{relative:o});return B.useCallback(h=>{if(B4(h,e)){h.preventDefault();let p=n!==void 0?n:Uf(c)===Uf(f);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,f,n,r,e,t,i,o,a])}var d3=0,h3=()=>`__${String(++d3)}__`;function p3(){let{router:t}=jD("useSubmit"),{basename:e}=B.useContext(Ii),n=R4();return B.useCallback(async(r,i={})=>{let{action:o,method:a,encType:l,formData:c,body:f}=W4(r,e);if(i.navigate===!1){let h=i.fetcherKey||h3();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function m3(t,{relative:e}={}){let{basename:n}=B.useContext(Ii),r=B.useContext(Ci);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ld(t||".",{relative:e})},a=Oi();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Co([n,o.pathname])),Uf(o)}function g3(t,e={}){let n=B.useContext(ID);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jD("useViewTransitionState"),i=Ld(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return im(i.pathname,a)!=null||im(i.pathname,o)!=null}new TextEncoder;const y3="_sidebar_1wqxd_1",v3="_profileSection_1wqxd_19",_3="_navigation_1wqxd_35",w3="_avatar_1wqxd_43",b3="_userInfo_1wqxd_69",E3="_navList_1wqxd_125",x3="_navItem_1wqxd_143",S3="_navLink_1wqxd_151",T3="_navLinkWithBadge_1wqxd_181",A3="_messageBadge_1wqxd_199",P3="_createEventBtn_1wqxd_217",I3="_dropdown_1wqxd_253",C3="_dropdownItem_1wqxd_293",O3="_logoutBtn_1wqxd_315",R3="_dashboardContainer_1wqxd_357",k3="_mainContent_1wqxd_365",N3="_dashboardStatisticContainer_1wqxd_401",M3="_statsGrid_1wqxd_409",D3="_statsCard_1wqxd_415",j3="_statsCardContent_1wqxd_421",L3="_statsTextContainer_1wqxd_437",$3="_statsTitle_1wqxd_445",F3="_statsValue_1wqxd_457",V3="_statsDropdown_1wqxd_469",U3="_statsDropdownItem_1wqxd_485",B3="_statsDropdownLabel_1wqxd_509",q3="_statsDropdownValue_1wqxd_519",z3="_statsIconContainer_1wqxd_527",W3="_welcomeTitle_1wqxd_543",H3="_welcomeText_1wqxd_565",G3="_hamburgerBtn_1wqxd_573",K3="_overlay_1wqxd_599",Y3="_welcomeContainer_1wqxd_647",X3="_sidebarOpen_1wqxd_749",_e={sidebar:y3,profileSection:v3,navigation:_3,avatar:w3,userInfo:b3,navList:E3,navItem:x3,navLink:S3,navLinkWithBadge:T3,messageBadge:A3,createEventBtn:P3,dropdown:I3,dropdownItem:C3,logoutBtn:O3,dashboardContainer:R3,mainContent:k3,dashboardStatisticContainer:N3,statsGrid:M3,statsCard:D3,statsCardContent:j3,statsTextContainer:L3,statsTitle:$3,statsValue:F3,statsDropdown:V3,statsDropdownItem:U3,statsDropdownLabel:B3,statsDropdownValue:q3,statsIconContainer:z3,welcomeTitle:W3,welcomeText:H3,hamburgerBtn:G3,overlay:K3,welcomeContainer:Y3,sidebarOpen:X3};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},c)=>B.createElement("svg",{ref:c,...J3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LD("lucide",i),...l},[...a.map(([f,h])=>B.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=B.forwardRef(({className:r,...i},o)=>B.createElement(Z3,{ref:o,iconNode:e,className:LD(`lucide-${Q3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=lt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=lt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=lt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=lt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=lt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=lt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=lt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=lt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=lt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=lt("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=lt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=lt("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=lt("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=lt("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=lt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=lt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=lt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var iI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},zD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,w=f&63;c||(w=64,a||(y=64)),r.push(n[h],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new _q;const y=o<<2|l>>4;if(r.push(y),f!==64){const w=l<<4&240|f>>2;if(r.push(w),p!==64){const _=f<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wq=function(t){const e=qD(t);return zD.encodeByteArray(e,!0)},om=function(t){return wq(t).replace(/\./g,"")},WD=function(t){try{return zD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=()=>bq().__FIREBASE_DEFAULTS__,xq=()=>{if(typeof process>"u"||typeof iI>"u")return;const t=iI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WD(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return Eq()||xq()||Sq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HD=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GD=t=>{const e=HD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KD=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},YD=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[om(JSON.stringify(n)),om(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function Pq(){var t;const e=(t=Eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rq(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kq(){return!Pq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nq(){try{return typeof indexedDB=="object"}catch{return!1}}function Mq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="FirebaseError";class ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dq,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fd.prototype.create)}}class Fd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?jq(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new ro(i,l,r)}}function jq(t,e){return t.replace(Lq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Lq=/\{\$([^}]+)}/g;function $q(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function am(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(oI(o)&&oI(a)){if(!am(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ef(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Fq(t,e){const n=new Vq(t,e);return n.subscribe.bind(n)}class Vq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=u_),i.error===void 0&&(i.error=u_),i.complete===void 0&&(i.complete=u_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function u_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zq(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qq(t){return t===Ms?void 0:t}function zq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const Hq={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Gq=Ye.INFO,Kq={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Yq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Kq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xx{constructor(e){this.name=e,this._logLevel=Gq,this._logHandler=Yq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Xq=(t,e)=>e.some(n=>t instanceof n);let aI,sI;function Qq(){return aI||(aI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jq(){return sI||(sI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QD=new WeakMap,S1=new WeakMap,JD=new WeakMap,l_=new WeakMap,Sx=new WeakMap;function Zq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ka(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&QD.set(n,t)}).catch(()=>{}),Sx.set(e,t),e}function e9(t){if(S1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});S1.set(t,e)}let T1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t9(t){T1=t(T1)}function n9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c_(this),e,...n);return JD.set(r,e.sort?e.sort():[e]),ka(r)}:Jq().includes(t)?function(...e){return t.apply(c_(this),e),ka(QD.get(this))}:function(...e){return ka(t.apply(c_(this),e))}}function r9(t){return typeof t=="function"?n9(t):(t instanceof IDBTransaction&&e9(t),Xq(t,Qq())?new Proxy(t,T1):t)}function ka(t){if(t instanceof IDBRequest)return Zq(t);if(l_.has(t))return l_.get(t);const e=r9(t);return e!==t&&(l_.set(t,e),Sx.set(e,t)),e}const c_=t=>Sx.get(t);function i9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=ka(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ka(a.result),c.oldVersion,c.newVersion,ka(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const o9=["get","getKey","getAll","getAllKeys","count"],a9=["put","add","delete","clear"],f_=new Map;function uI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f_.get(e))return f_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=a9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||o9.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return f_.set(e,o),o}t9(t=>({...t,get:(e,n,r)=>uI(e,n)||t.get(e,n,r),has:(e,n)=>!!uI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A1="@firebase/app",lI="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new xx("@firebase/app"),l9="@firebase/app-compat",c9="@firebase/analytics-compat",f9="@firebase/analytics",d9="@firebase/app-check-compat",h9="@firebase/app-check",p9="@firebase/auth",m9="@firebase/auth-compat",g9="@firebase/database",y9="@firebase/data-connect",v9="@firebase/database-compat",_9="@firebase/functions",w9="@firebase/functions-compat",b9="@firebase/installations",E9="@firebase/installations-compat",x9="@firebase/messaging",S9="@firebase/messaging-compat",T9="@firebase/performance",A9="@firebase/performance-compat",P9="@firebase/remote-config",I9="@firebase/remote-config-compat",C9="@firebase/storage",O9="@firebase/storage-compat",R9="@firebase/firestore",k9="@firebase/vertexai",N9="@firebase/firestore-compat",M9="firebase",D9="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="[DEFAULT]",j9={[A1]:"fire-core",[l9]:"fire-core-compat",[f9]:"fire-analytics",[c9]:"fire-analytics-compat",[h9]:"fire-app-check",[d9]:"fire-app-check-compat",[p9]:"fire-auth",[m9]:"fire-auth-compat",[g9]:"fire-rtdb",[y9]:"fire-data-connect",[v9]:"fire-rtdb-compat",[_9]:"fire-fn",[w9]:"fire-fn-compat",[b9]:"fire-iid",[E9]:"fire-iid-compat",[x9]:"fire-fcm",[S9]:"fire-fcm-compat",[T9]:"fire-perf",[A9]:"fire-perf-compat",[P9]:"fire-rc",[I9]:"fire-rc-compat",[C9]:"fire-gcs",[O9]:"fire-gcs-compat",[R9]:"fire-fst",[N9]:"fire-fst-compat",[k9]:"fire-vertex","fire-js":"fire-js",[M9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,L9=new Map,I1=new Map;function cI(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(I1.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;I1.set(e,t);for(const n of sm.values())cI(n,t);for(const n of L9.values())cI(n,t);return!0}function xg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Fd("app","Firebase",$9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=D9;function au(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=KD()),!n)throw Na.create("no-options");const o=sm.get(i);if(o){if(am(n,o.options)&&am(r,o.config))return o;throw Na.create("duplicate-app",{appName:i})}const a=new Wq(i);for(const c of I1.values())a.addComponent(c);const l=new F9(n,r,a);return sm.set(i,l),l}function Tx(t=P1){const e=sm.get(t);if(!e&&t===P1&&KD())return au();if(!e)throw Na.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let i=(r=j9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(l.join(" "));return}Ys(new Va(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebase-heartbeat-database",U9=1,Bf="firebase-heartbeat-store";let d_=null;function ZD(){return d_||(d_=i9(V9,U9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),d_}async function B9(t){try{const n=(await ZD()).transaction(Bf),r=await n.objectStore(Bf).get(ej(t));return await n.done,r}catch(e){if(e instanceof ro)jo.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jo.warn(n.message)}}}async function fI(t,e){try{const r=(await ZD()).transaction(Bf,"readwrite");await r.objectStore(Bf).put(e,ej(t)),await r.done}catch(n){if(n instanceof ro)jo.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jo.warn(r.message)}}}function ej(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=1024,z9=30*24*60*60*1e3;class W9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=z9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dI(),{heartbeatsToSend:r,unsentEntries:i}=H9(this._heartbeatsCache.heartbeats),o=om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jo.warn(n),""}}}function dI(){return new Date().toISOString().substring(0,10)}function H9(t,e=q9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),hI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nq()?Mq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hI(t){return om(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){Ys(new Va("platform-logger",e=>new s9(e),"PRIVATE")),Ys(new Va("heartbeat",e=>new W9(e),"PRIVATE")),Yi(A1,lI,t),Yi(A1,lI,"esm2017"),Yi("fire-js","")}K9("");var Y9="firebase",X9="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(Y9,X9,"app");function Ax(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q9=tj,nj=new Fd("auth","Firebase",tj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new xx("@firebase/auth");function J9(t,...e){um.logLevel<=Ye.WARN&&um.warn(`Auth (${ou}): ${t}`,...e)}function Kp(t,...e){um.logLevel<=Ye.ERROR&&um.error(`Auth (${ou}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw Ix(t,...e)}function Ti(t,...e){return Ix(t,...e)}function Px(t,e,n){const r=Object.assign(Object.assign({},Q9()),{[e]:n});return new Fd("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t){return Px(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),Px(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nj.create(t,...e)}function Fe(t,e,...n){if(!t)throw Ix(e,...n)}function So(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kp(e),new Error(e)}function Lo(t,e){t||So(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e5(){return pI()==="http:"||pI()==="https:"}function pI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e5()||Cq()||"connection"in navigator)?navigator.onLine:!0}function n5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lo(n>e,"Short delay should be less than long delay!"),this.isMobile=Aq()||Oq()}get(){return t5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e){Lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;So("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;So("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;So("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Ud(3e4,6e4);function zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,n,r,i={}){return ij(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Vd(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return Iq()||(f.referrerPolicy="no-referrer"),rj.fetch()(oj(t,t.config.apiHost,n,l),f)})}async function ij(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r5),e);try{const i=new a5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Sp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Sp(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Px(t,h,f);Qr(t,h)}}catch(i){if(i instanceof ro)throw i;Qr(t,"network-request-failed",{message:String(i)})}}async function Bd(t,e,n,r,i={}){const o=await Wo(t,e,n,r,i);return"mfaPendingCredential"in o&&Qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function oj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cx(t.config,i):`${t.config.apiScheme}://${i}`}function o5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),i5.get())})}}function Sp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=n,i}function mI(t){return t!==void 0&&t.enterprise!==void 0}class s5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u5(t,e){return Wo(t,"GET","/v2/recaptchaConfig",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function aj(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c5(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=Ox(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Of(h_(i.auth_time)),issuedAtTime:Of(h_(i.iat)),expirationTime:Of(h_(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function h_(t){return Number(t)*1e3}function Ox(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{const i=WD(n);return i?JSON.parse(i):(Kp("Failed to decode base64 JWT payload"),null)}catch(i){return Kp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gI(t){const e=Ox(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ro&&f5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Of(this.lastLoginAt),this.creationTime=Of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qf(t,aj(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sj(o.providerUserInfo):[],l=p5(t.providerData,a),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new O1(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function h5(t){const e=St(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sj(t){return t.map(e=>{var{providerId:n}=e,r=Ax(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=await ij(t,{},async()=>{const r=Vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=oj(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",rj.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g5(t,e){return Wo(t,"POST","/v2/accounts:revokeToken",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=gI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await m5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new dl;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return So("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ax(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new O1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await qf(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c5(this,e)}reload(){return h5(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await qf(this,l5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,l,c,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:j,isAnonymous:I,providerData:D,stsTokenManager:C}=n;Fe(N&&C,e,"internal-error");const R=dl.fromJSON(this.name,C);Fe(typeof N=="string",e,"internal-error"),ba(p,e.name),ba(y,e.name),Fe(typeof j=="boolean",e,"internal-error"),Fe(typeof I=="boolean",e,"internal-error"),ba(w,e.name),ba(_,e.name),ba(E,e.name),ba(v,e.name),ba(P,e.name),ba(A,e.name);const M=new To({uid:N,auth:e,email:y,emailVerified:j,displayName:p,isAnonymous:I,photoURL:_,phoneNumber:w,tenantId:E,stsTokenManager:R,createdAt:P,lastLoginAt:A});return D&&Array.isArray(D)&&(M.providerData=D.map(F=>Object.assign({},F))),v&&(M._redirectEventId=v),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new dl;i.updateFromServerResponse(n);const o=new To({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?sj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new dl;l.updateFromIdToken(r);const c=new To({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new O1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map;function Ao(t){Lo(t instanceof Function,"Expected a class definition");let e=yI.get(t);return e?(Lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uj.type="NONE";const vI=uj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?To._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(Ao(vI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ao(vI);const a=Yp(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){const p=To._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new hl(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pj(e))return"Blackberry";if(mj(e))return"Webos";if(cj(e))return"Safari";if((e.includes("chrome/")||fj(e))&&!e.includes("edge/"))return"Chrome";if(hj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lj(t=zn()){return/firefox\//i.test(t)}function cj(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fj(t=zn()){return/crios\//i.test(t)}function dj(t=zn()){return/iemobile/i.test(t)}function hj(t=zn()){return/android/i.test(t)}function pj(t=zn()){return/blackberry/i.test(t)}function mj(t=zn()){return/webos/i.test(t)}function Rx(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y5(t=zn()){var e;return Rx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v5(){return Rq()&&document.documentMode===10}function gj(t=zn()){return Rx(t)||hj(t)||mj(t)||pj(t)||/windows phone/i.test(t)||dj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e=[]){let n;switch(t){case"Browser":n=_I(zn());break;case"Worker":n=`${_I(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e={}){return Wo(t,"GET","/v2/passwordPolicy",zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=6;class E5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:b5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wI(this),this.idTokenSubscription=new wI(this),this.beforeStateQueue=new _5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ao(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aj(this,{idToken:e}),r=await To._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(Oo(this));const n=e?St(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w5(this),n=new E5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ao(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ya(t){return St(t)}class wI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fq(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S5(t){Sg=t}function vj(t){return Sg.loadJS(t)}function T5(){return Sg.recaptchaEnterpriseScript}function A5(){return Sg.gapiScript}function P5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I5{constructor(){this.enterprise=new C5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class C5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const O5="recaptcha-enterprise",_j="NO_RECAPTCHA";class R5{constructor(e){this.type=O5,this.auth=Ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{u5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new s5(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,a,l){const c=window.grecaptcha;mI(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(_j)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I5().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&mI(window.grecaptcha))i(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=T5();c.length!==0&&(c+=l),vj(c).then(()=>{i(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})}}async function bI(t,e,n,r=!1,i=!1){const o=new R5(t);let a;if(i)a=_j;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function R1(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await bI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e){const n=xg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(am(o,e??{}))return i;Qr(i,"already-initialized")}return n.initialize({options:e})}function N5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M5(t,e,n){const r=Ya(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=wj(e),{host:a,port:l}=D5(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),j5()}function wj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D5(t){const e=wj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:EI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:EI(a)}}}function EI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return So("not implemented")}_getIdTokenResponse(e){return So("not implemented")}_linkToIdToken(e,n){return So("not implemented")}_getReauthenticationResolver(e){return So("not implemented")}}async function L5(t,e){return Wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return Bd(t,"POST","/v1/accounts:signInWithPassword",zo(t,e))}async function F5(t,e){return Wo(t,"POST","/v1/accounts:sendOobCode",zo(t,e))}async function V5(t,e){return F5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}async function B5(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends kx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R1(e,n,"signInWithPassword",$5);case"emailLink":return U5(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R1(e,r,"signUpPassword",L5);case"emailLink":return B5(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return Bd(t,"POST","/v1/accounts:signInWithIdp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="http://localhost";class Xs extends kx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ax(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Xs(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:q5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W5(t){const e=bf(Ef(t)).link,n=e?bf(Ef(e)).deep_link_id:null,r=bf(Ef(t)).deep_link_id;return(r?bf(Ef(r)).link:null)||r||n||e||t}class Nx{constructor(e){var n,r,i,o,a,l;const c=bf(Ef(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=z5((i=c.mode)!==null&&i!==void 0?i:null);Fe(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=W5(e);try{return new Nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,n){return zf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nx.parseLink(n);return Fe(r,"argument-error"),zf._fromEmailAndCode(e,r.code,r.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Mx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends qd{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends qd{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends qd{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pa.credential(n,r)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return Bd(t,"POST","/v1/accounts:signUp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await To._fromIdTokenResponse(e,r,i),a=xI(r);return new Qs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xI(r);return new Qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends ro{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cm(e,n,r,i)}}function bj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(t,o,e,r):o})}async function G5(t,e,n=!1){const r=await qf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e,n=!1){const{auth:r}=t;if(Ei(r.app))return Promise.reject(Oo(r));const i="reauthenticate";try{const o=await qf(t,bj(r,i,e,t),n);Fe(o.idToken,r,"internal-error");const a=Ox(o.idToken);Fe(a,r,"internal-error");const{sub:l}=a;return Fe(t.uid===l,r,"user-mismatch"),Qs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e,n=!1){if(Ei(t.app))return Promise.reject(Oo(t));const r="signIn",i=await bj(t,r,e),o=await Qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Y5(t,e){return Ej(Ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sj(t,e,n){if(Ei(t.app))return Promise.reject(Oo(t));const r=Ya(t),a=await R1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&xj(t),c}),l=await Qs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Tp(t,e,n){return Ei(t.app)?Promise.reject(Oo(t)):Y5(St(t),ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xj(t),r})}async function Tj(t,e){const n=St(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await V5(n.auth,i);o!==t.email&&await t.reload()}function X5(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function Q5(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function Wf(t){return St(t).signOut()}const fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=1e3,Z5=10;class Pj extends Aj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);v5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pj.type="LOCAL";const e6=Pj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij extends Aj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ij.type="SESSION";const Cj=Ij;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,o)),c=await t6(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const f=Dx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function r6(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function i6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a6(){return Oj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebaseLocalStorageDb",s6=1,dm="firebaseLocalStorage",kj="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ag(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function u6(){const t=indexedDB.deleteDatabase(Rj);return new zd(t).toPromise()}function k1(){const t=indexedDB.open(Rj,s6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:kj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await u6(),e(await k1()))})})}async function SI(t,e,n){const r=Ag(t,!0).put({[kj]:e,value:n});return new zd(r).toPromise()}async function l6(t,e){const n=Ag(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function TI(t,e){const n=Ag(t,!0).delete(e);return new zd(n).toPromise()}const c6=800,f6=3;class Nj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(a6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i6(),!this.activeServiceWorker)return;this.sender=new n6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k1();return await SI(e,fm,"1"),await TI(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ag(i,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nj.type="LOCAL";const d6=Nj;new Ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){return e?Ao(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends kx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h6(t){return Ej(t.auth,new jx(t),t.bypassAuthState)}function p6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),K5(n,new jx(t),t.bypassAuthState)}async function m6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),G5(n,new jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h6;case"linkViaPopup":case"linkViaRedirect":return m6;case"reauthViaPopup":case"reauthViaRedirect":return p6;default:Qr(this.auth,"internal-error")}}resolve(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Ud(2e3,1e4);async function y6(t,e,n){if(Ei(t.app))return Promise.reject(Ti(t,"operation-not-supported-in-this-environment"));const r=Ya(t);Z9(t,e,Mx);const i=Mj(r,n);return new $s(r,"signInViaPopup",e,i).executeNotNull()}class $s extends Dj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Lo(this.filter.length===1,"Popup operations only handle one event");const e=Dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g6.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",Xp=new Map;class _6 extends Dj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xp.get(this.auth._key());if(!e){try{const r=await w6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xp.set(this.auth._key(),e)}return this.bypassAuthState||Xp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w6(t,e){const n=x6(e),r=E6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b6(t,e){Xp.set(t._key(),e)}function E6(t){return Ao(t._redirectPersistence)}function x6(t){return Yp(v6,t.config.apiKey,t.name)}async function S6(t,e,n=!1){if(Ei(t.app))return Promise.reject(Oo(t));const r=Ya(t),i=Mj(r,e),a=await new _6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=10*60*1e3;class A6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T6&&this.cachedEventUids.clear(),this.cachedEventUids.has(AI(e))}saveEventToCache(e){this.cachedEventUids.add(AI(e)),this.lastProcessedEventTime=Date.now()}}function AI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O6=/^https?/;async function R6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I6(t);for(const n of e)try{if(k6(n))return}catch{}Qr(t,"unauthorized-domain")}function k6(t){const e=C1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!O6.test(n))return!1;if(C6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new Ud(3e4,6e4);function PI(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M6(t){return new Promise((e,n)=>{var r,i,o;function a(){PI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PI(),n(Ti(t,"network-request-failed"))},timeout:N6.get()})}if(!((i=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xi().gapi)===null||o===void 0)&&o.load)a();else{const l=P5("iframefcb");return Xi()[l]=()=>{gapi.load?a():n(Ti(t,"network-request-failed"))},vj(`${A5()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qp=null,e})}let Qp=null;function D6(t){return Qp=Qp||M6(t),Qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Ud(5e3,15e3),L6="__/auth/iframe",$6="emulator/auth/iframe",F6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U6(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cx(e,$6):`https://${t.config.authDomain}/${L6}`,r={apiKey:e.apiKey,appName:t.name,v:ou},i=V6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vd(r).slice(1)}`}async function B6(t){const e=await D6(t),n=Xi().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:U6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Ti(t,"network-request-failed"),l=Xi().setTimeout(()=>{o(a)},j6.get());function c(){Xi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z6=500,W6=600,H6="_blank",G6="http://localhost";class II{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K6(t,e,n,r=z6,i=W6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},q6),{width:r.toString(),height:i.toString(),top:o,left:a}),f=zn().toLowerCase();n&&(l=fj(f)?H6:n),lj(f)&&(e=e||G6,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[w,_])=>`${y}${w}=${_},`,"");if(y5(f)&&l!=="_self")return Y6(e||"",l),new II(null);const p=window.open(e||"",l,h);Fe(p,t,"popup-blocked");try{p.focus()}catch{}return new II(p)}function Y6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="__/auth/handler",Q6="emulator/auth/handler",J6=encodeURIComponent("fac");async function CI(t,e,n,r,i,o){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:i};if(e instanceof Mx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$q(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof qd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${J6}=${encodeURIComponent(c)}`:"";return`${Z6(t)}?${Vd(l).slice(1)}${f}`}function Z6({config:t}){return t.emulator?Cx(t,Q6):`https://${t.authDomain}/${X6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="webStorageSupport";class ez{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cj,this._completeRedirectFn=S6,this._overrideRedirectResult=b6}async _openPopup(e,n,r,i){var o;Lo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await CI(e,n,r,C1(),i);return K6(e,a,Dx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await CI(e,n,r,C1(),i);return r6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Lo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B6(e),r=new A6(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p_,{type:p_},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[p_];a!==void 0&&n(!!a),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gj()||cj()||Rx()}}const tz=ez;var OI="@firebase/auth",RI="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iz(t){Ys(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yj(t)},f=new x5(r,i,o,c);return N5(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new Va("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(r=>new nz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(OI,RI,rz(t)),Yi(OI,RI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=5*60,az=YD("authIdTokenMaxAge")||oz;let kI=null;const sz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>az)return;const i=n==null?void 0:n.token;kI!==i&&(kI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ri(t=Tx()){const e=xg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k5(t,{popupRedirectResolver:tz,persistence:[d6,e6,Cj]}),r=YD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=sz(o.toString());Q5(n,a,()=>a(n.currentUser)),X5(n,l=>a(l))}}const i=HD("auth");return i&&M5(n,`http://${i}`),n}function uz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ti("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iz("Browser");var NI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,Lj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function M(){}M.prototype=R.prototype,C.D=R.prototype,C.prototype=new M,C.prototype.constructor=C,C.C=function(F,L,V){for(var O=Array(arguments.length-2),W=2;W<arguments.length;W++)O[W-2]=arguments[W];return R.prototype[L].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,R,M){M||(M=0);var F=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)F[L]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(L=0;16>L;++L)F[L]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=C.g[0],M=C.g[1],L=C.g[2];var V=C.g[3],O=R+(V^M&(L^V))+F[0]+3614090360&4294967295;R=M+(O<<7&4294967295|O>>>25),O=V+(L^R&(M^L))+F[1]+3905402710&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(M^V&(R^M))+F[2]+606105819&4294967295,L=V+(O<<17&4294967295|O>>>15),O=M+(R^L&(V^R))+F[3]+3250441966&4294967295,M=L+(O<<22&4294967295|O>>>10),O=R+(V^M&(L^V))+F[4]+4118548399&4294967295,R=M+(O<<7&4294967295|O>>>25),O=V+(L^R&(M^L))+F[5]+1200080426&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(M^V&(R^M))+F[6]+2821735955&4294967295,L=V+(O<<17&4294967295|O>>>15),O=M+(R^L&(V^R))+F[7]+4249261313&4294967295,M=L+(O<<22&4294967295|O>>>10),O=R+(V^M&(L^V))+F[8]+1770035416&4294967295,R=M+(O<<7&4294967295|O>>>25),O=V+(L^R&(M^L))+F[9]+2336552879&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(M^V&(R^M))+F[10]+4294925233&4294967295,L=V+(O<<17&4294967295|O>>>15),O=M+(R^L&(V^R))+F[11]+2304563134&4294967295,M=L+(O<<22&4294967295|O>>>10),O=R+(V^M&(L^V))+F[12]+1804603682&4294967295,R=M+(O<<7&4294967295|O>>>25),O=V+(L^R&(M^L))+F[13]+4254626195&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(M^V&(R^M))+F[14]+2792965006&4294967295,L=V+(O<<17&4294967295|O>>>15),O=M+(R^L&(V^R))+F[15]+1236535329&4294967295,M=L+(O<<22&4294967295|O>>>10),O=R+(L^V&(M^L))+F[1]+4129170786&4294967295,R=M+(O<<5&4294967295|O>>>27),O=V+(M^L&(R^M))+F[6]+3225465664&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^M&(V^R))+F[11]+643717713&4294967295,L=V+(O<<14&4294967295|O>>>18),O=M+(V^R&(L^V))+F[0]+3921069994&4294967295,M=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(M^L))+F[5]+3593408605&4294967295,R=M+(O<<5&4294967295|O>>>27),O=V+(M^L&(R^M))+F[10]+38016083&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^M&(V^R))+F[15]+3634488961&4294967295,L=V+(O<<14&4294967295|O>>>18),O=M+(V^R&(L^V))+F[4]+3889429448&4294967295,M=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(M^L))+F[9]+568446438&4294967295,R=M+(O<<5&4294967295|O>>>27),O=V+(M^L&(R^M))+F[14]+3275163606&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^M&(V^R))+F[3]+4107603335&4294967295,L=V+(O<<14&4294967295|O>>>18),O=M+(V^R&(L^V))+F[8]+1163531501&4294967295,M=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(M^L))+F[13]+2850285829&4294967295,R=M+(O<<5&4294967295|O>>>27),O=V+(M^L&(R^M))+F[2]+4243563512&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^M&(V^R))+F[7]+1735328473&4294967295,L=V+(O<<14&4294967295|O>>>18),O=M+(V^R&(L^V))+F[12]+2368359562&4294967295,M=L+(O<<20&4294967295|O>>>12),O=R+(M^L^V)+F[5]+4294588738&4294967295,R=M+(O<<4&4294967295|O>>>28),O=V+(R^M^L)+F[8]+2272392833&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^M)+F[11]+1839030562&4294967295,L=V+(O<<16&4294967295|O>>>16),O=M+(L^V^R)+F[14]+4259657740&4294967295,M=L+(O<<23&4294967295|O>>>9),O=R+(M^L^V)+F[1]+2763975236&4294967295,R=M+(O<<4&4294967295|O>>>28),O=V+(R^M^L)+F[4]+1272893353&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^M)+F[7]+4139469664&4294967295,L=V+(O<<16&4294967295|O>>>16),O=M+(L^V^R)+F[10]+3200236656&4294967295,M=L+(O<<23&4294967295|O>>>9),O=R+(M^L^V)+F[13]+681279174&4294967295,R=M+(O<<4&4294967295|O>>>28),O=V+(R^M^L)+F[0]+3936430074&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^M)+F[3]+3572445317&4294967295,L=V+(O<<16&4294967295|O>>>16),O=M+(L^V^R)+F[6]+76029189&4294967295,M=L+(O<<23&4294967295|O>>>9),O=R+(M^L^V)+F[9]+3654602809&4294967295,R=M+(O<<4&4294967295|O>>>28),O=V+(R^M^L)+F[12]+3873151461&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^M)+F[15]+530742520&4294967295,L=V+(O<<16&4294967295|O>>>16),O=M+(L^V^R)+F[2]+3299628645&4294967295,M=L+(O<<23&4294967295|O>>>9),O=R+(L^(M|~V))+F[0]+4096336452&4294967295,R=M+(O<<6&4294967295|O>>>26),O=V+(M^(R|~L))+F[7]+1126891415&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~M))+F[14]+2878612391&4294967295,L=V+(O<<15&4294967295|O>>>17),O=M+(V^(L|~R))+F[5]+4237533241&4294967295,M=L+(O<<21&4294967295|O>>>11),O=R+(L^(M|~V))+F[12]+1700485571&4294967295,R=M+(O<<6&4294967295|O>>>26),O=V+(M^(R|~L))+F[3]+2399980690&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~M))+F[10]+4293915773&4294967295,L=V+(O<<15&4294967295|O>>>17),O=M+(V^(L|~R))+F[1]+2240044497&4294967295,M=L+(O<<21&4294967295|O>>>11),O=R+(L^(M|~V))+F[8]+1873313359&4294967295,R=M+(O<<6&4294967295|O>>>26),O=V+(M^(R|~L))+F[15]+4264355552&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~M))+F[6]+2734768916&4294967295,L=V+(O<<15&4294967295|O>>>17),O=M+(V^(L|~R))+F[13]+1309151649&4294967295,M=L+(O<<21&4294967295|O>>>11),O=R+(L^(M|~V))+F[4]+4149444226&4294967295,R=M+(O<<6&4294967295|O>>>26),O=V+(M^(R|~L))+F[11]+3174756917&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~M))+F[2]+718787259&4294967295,L=V+(O<<15&4294967295|O>>>17),O=M+(V^(L|~R))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var M=R-this.blockSize,F=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=M;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<R;)if(F[L++]=C.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<R;)if(F[L++]=C[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var M=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=M&255,M/=256;for(this.u(C),C=Array(16),R=M=0;4>R;++R)for(var F=0;32>F;F+=8)C[M++]=this.g[R]>>>F&255;return C};function o(C,R){var M=l;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=R(C)}function a(C,R){this.h=R;for(var M=[],F=!0,L=C.length-1;0<=L;L--){var V=C[L]|0;F&&V==R||(M[L]=V,F=!1)}this.g=M}var l={};function c(C){return-128<=C&&128>C?o(C,function(R){return new a([R|0],0>R?-1:0)}):new a([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return v(f(-C));for(var R=[],M=1,F=0;C>=M;F++)R[F]=C/M|0,M*=4294967296;return new a(R,0)}function h(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return v(h(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(R,8)),F=p,L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L),O=parseInt(C.substring(L,L+V),R);8>V?(V=f(Math.pow(R,V)),F=F.j(V).add(f(O))):(F=F.j(M),F=F.add(f(O)))}return F}var p=c(0),y=c(1),w=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-v(this).m();for(var C=0,R=1,M=0;M<this.g.length;M++){var F=this.i(M);C+=(0<=F?F:4294967296+F)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(E(this))return"-"+v(this).toString(C);for(var R=f(Math.pow(C,6)),M=this,F="";;){var L=j(M,R).g;M=P(M,L.j(R));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(C);if(M=L,_(M))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=P(this,C),E(C)?-1:_(C)?0:1};function v(C){for(var R=C.g.length,M=[],F=0;F<R;F++)M[F]=~C.g[F];return new a(M,~C.h).add(y)}t.abs=function(){return E(this)?v(this):this},t.add=function(C){for(var R=Math.max(this.g.length,C.g.length),M=[],F=0,L=0;L<=R;L++){var V=F+(this.i(L)&65535)+(C.i(L)&65535),O=(V>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);F=O>>>16,V&=65535,O&=65535,M[L]=O<<16|V}return new a(M,M[M.length-1]&-2147483648?-1:0)};function P(C,R){return C.add(v(R))}t.j=function(C){if(_(this)||_(C))return p;if(E(this))return E(C)?v(this).j(v(C)):v(v(this).j(C));if(E(C))return v(this.j(v(C)));if(0>this.l(w)&&0>C.l(w))return f(this.m()*C.m());for(var R=this.g.length+C.g.length,M=[],F=0;F<2*R;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<C.g.length;L++){var V=this.i(F)>>>16,O=this.i(F)&65535,W=C.i(L)>>>16,Y=C.i(L)&65535;M[2*F+2*L]+=O*Y,A(M,2*F+2*L),M[2*F+2*L+1]+=V*Y,A(M,2*F+2*L+1),M[2*F+2*L+1]+=O*W,A(M,2*F+2*L+1),M[2*F+2*L+2]+=V*W,A(M,2*F+2*L+2)}for(F=0;F<R;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=R;F<2*R;F++)M[F]=0;return new a(M,0)};function A(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function N(C,R){this.g=C,this.h=R}function j(C,R){if(_(R))throw Error("division by zero");if(_(C))return new N(p,p);if(E(C))return R=j(v(C),R),new N(v(R.g),v(R.h));if(E(R))return R=j(C,v(R)),new N(v(R.g),R.h);if(30<C.g.length){if(E(C)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var M=y,F=R;0>=F.l(C);)M=I(M),F=I(F);var L=D(M,1),V=D(F,1);for(F=D(F,2),M=D(M,2);!_(F);){var O=V.add(F);0>=O.l(C)&&(L=L.add(M),V=O),F=D(F,1),M=D(M,1)}return R=P(C,L.j(R)),new N(L,R)}for(L=p;0<=C.l(R);){for(M=Math.max(1,Math.floor(C.m()/R.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(M),O=V.j(R);E(O)||0<O.l(C);)M-=F,V=f(M),O=V.j(R);_(V)&&(V=y),L=L.add(V),C=P(C,O)}return new N(L,C)}t.A=function(C){return j(this,C).h},t.and=function(C){for(var R=Math.max(this.g.length,C.g.length),M=[],F=0;F<R;F++)M[F]=this.i(F)&C.i(F);return new a(M,this.h&C.h)},t.or=function(C){for(var R=Math.max(this.g.length,C.g.length),M=[],F=0;F<R;F++)M[F]=this.i(F)|C.i(F);return new a(M,this.h|C.h)},t.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),M=[],F=0;F<R;F++)M[F]=this.i(F)^C.i(F);return new a(M,this.h^C.h)};function I(C){for(var R=C.g.length+1,M=[],F=0;F<R;F++)M[F]=C.i(F)<<1|C.i(F-1)>>>31;return new a(M,C.h)}function D(C,R){var M=R>>5;R%=32;for(var F=C.g.length-M,L=[],V=0;V<F;V++)L[V]=0<R?C.i(V+M)>>>R|C.i(V+M+1)<<32-R:C.i(V+M);return new a(L,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lj=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,zs=a}).apply(typeof NI<"u"?NI:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $j,xf,Fj,Jp,N1,Vj,Uj,Bj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,k){return m==Array.prototype||m==Object.prototype||(m[S]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var S=0;S<m.length;++S){var k=m[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,S){if(S)e:{var k=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var Z=m[U];if(!(Z in k))break e;k=k[Z]}m=m[m.length-1],U=k[m],S=S(U),S!=U&&S!=null&&e(k,m,{configurable:!0,writable:!0,value:S})}}function o(m,S){m instanceof String&&(m+="");var k=0,U=!1,Z={next:function(){if(!U&&k<m.length){var se=k++;return{value:S(se,m[se]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(m){return m||function(){return o(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function h(m,S,k){return m.call.apply(m.bind,arguments)}function p(m,S,k){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,U),m.apply(S,Z)}}return function(){return m.apply(S,arguments)}}function y(m,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function w(m,S){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function _(m,S){function k(){}k.prototype=S.prototype,m.aa=S.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(U,Z,se){for(var we=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)we[pt-2]=arguments[pt];return S.prototype[Z].apply(U,we)}}function E(m){const S=m.length;if(0<S){const k=Array(S);for(let U=0;U<S;U++)k[U]=m[U];return k}return[]}function v(m,S){for(let k=1;k<arguments.length;k++){const U=arguments[k];if(c(U)){const Z=m.length||0,se=U.length||0;m.length=Z+se;for(let we=0;we<se;we++)m[Z+we]=U[we]}else m.push(U)}}class P{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function j(m){return j[" "](m),m}j[" "]=function(){};var I=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function D(m,S,k){for(const U in m)S.call(k,m[U],U,m)}function C(m,S){for(const k in m)S.call(void 0,m[k],k,m)}function R(m){const S={};for(const k in m)S[k]=m[k];return S}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,S){let k,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(k in U)m[k]=U[k];for(let se=0;se<M.length;se++)k=M[se],Object.prototype.hasOwnProperty.call(U,k)&&(m[k]=U[k])}}function L(m){var S=1;m=m.split(":");const k=[];for(;0<S&&m.length;)k.push(m.shift()),S--;return m.length&&k.push(m.join(":")),k}function V(m){l.setTimeout(()=>{throw m},0)}function O(){var m=oe;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class W{constructor(){this.h=this.g=null}add(S,k){const U=Y.get();U.set(S,k),this.h?this.h.next=U:this.g=U,this.h=U}}var Y=new P(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,oe=new W,te=()=>{const m=l.Promise.resolve(void 0);re=()=>{m.then(z)}};var z=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(k){V(k)}var S=Y;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,S),l.removeEventListener("test",k,S)}catch{}return m}();function Ce(m,S){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(I){e:{try{j(S.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(S=null)}}else k=="mouseover"?S=m.fromElement:k=="mouseout"&&(S=m.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ce.aa.h.call(this)}}_(Ce,le);var Le={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),he=0;function ae(m,S,k,U,Z){this.listener=m,this.proxy=null,this.src=S,this.type=k,this.capture=!!U,this.ha=Z,this.key=++he,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ae(m){this.src=m,this.g={},this.h=0}Ae.prototype.add=function(m,S,k,U,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var we=qe(m,S,U,Z);return-1<we?(S=m[we],k||(S.fa=!1)):(S=new ae(S,this.src,se,!!U,Z),S.fa=k,m.push(S)),S};function de(m,S){var k=S.type;if(k in m.g){var U=m.g[k],Z=Array.prototype.indexOf.call(U,S,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(U,Z,1),se&&(ve(S),m.g[k].length==0&&(delete m.g[k],m.h--))}}function qe(m,S,k,U){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==S&&se.capture==!!k&&se.ha==U)return Z}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ht={};function yt(m,S,k,U,Z){if(Array.isArray(S)){for(var se=0;se<S.length;se++)yt(m,S[se],k,U,Z);return null}return k=Xo(k),m&&m[Ge]?m.K(S,k,f(U)?!!U.capture:!!U,Z):Vt(m,S,k,!1,U,Z)}function Vt(m,S,k,U,Z,se){if(!S)throw Error("Invalid event type");var we=f(Z)?!!Z.capture:!!Z,pt=Di(m);if(pt||(m[Me]=pt=new Ae(m)),k=pt.add(S,k,U,we,se),k.proxy)return k;if(U=pr(),k.proxy=U,U.src=m,U.listener=k,m.addEventListener)be||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(S.toString(),U,Z);else if(m.attachEvent)m.attachEvent(bn(S.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function pr(){function m(k){return S.call(m.src,m.listener,k)}const S=gr;return m}function mr(m,S,k,U,Z){if(Array.isArray(S))for(var se=0;se<S.length;se++)mr(m,S[se],k,U,Z);else U=f(U)?!!U.capture:!!U,k=Xo(k),m&&m[Ge]?(m=m.i,S=String(S).toString(),S in m.g&&(se=m.g[S],k=qe(se,k,U,Z),-1<k&&(ve(se[k]),Array.prototype.splice.call(se,k,1),se.length==0&&(delete m.g[S],m.h--)))):m&&(m=Di(m))&&(S=m.g[S.toString()],m=-1,S&&(m=qe(S,k,U,Z)),(k=-1<m?S[m]:null)&&er(k))}function er(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ge])de(S.i,m);else{var k=m.type,U=m.proxy;S.removeEventListener?S.removeEventListener(k,U,m.capture):S.detachEvent?S.detachEvent(bn(k),U):S.addListener&&S.removeListener&&S.removeListener(U),(k=Di(S))?(de(k,m),k.h==0&&(k.src=null,S[Me]=null)):ve(m)}}}function bn(m){return m in ht?ht[m]:ht[m]="on"+m}function gr(m,S){if(m.da)m=!0;else{S=new Ce(S,this);var k=m.listener,U=m.ha||m.src;m.fa&&er(m),m=k.call(U,S)}return m}function Di(m){return m=m[Me],m instanceof Ae?m:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(m){return typeof m=="function"?m:(m[oo]||(m[oo]=function(S){return m.handleEvent(S)}),m[oo])}function nn(){K.call(this),this.i=new Ae(this),this.M=this,this.F=null}_(nn,K),nn.prototype[Ge]=!0,nn.prototype.removeEventListener=function(m,S,k,U){mr(this,m,S,k,U)};function rn(m,S){var k,U=m.F;if(U)for(k=[];U;U=U.F)k.push(U);if(m=m.M,U=S.type||S,typeof S=="string")S=new le(S,m);else if(S instanceof le)S.target=S.target||m;else{var Z=S;S=new le(U,m),F(S,Z)}if(Z=!0,k)for(var se=k.length-1;0<=se;se--){var we=S.g=k[se];Z=ao(we,U,!0,S)&&Z}if(we=S.g=m,Z=ao(we,U,!0,S)&&Z,Z=ao(we,U,!1,S)&&Z,k)for(se=0;se<k.length;se++)we=S.g=k[se],Z=ao(we,U,!1,S)&&Z}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var k=m.g[S],U=0;U<k.length;U++)ve(k[U]);delete m.g[S],m.h--}}this.F=null},nn.prototype.K=function(m,S,k,U){return this.i.add(String(m),S,!1,k,U)},nn.prototype.L=function(m,S,k,U){return this.i.add(String(m),S,!0,k,U)};function ao(m,S,k,U){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var Z=!0,se=0;se<S.length;++se){var we=S[se];if(we&&!we.da&&we.capture==k){var pt=we.listener,on=we.ha||we.src;we.fa&&de(m.i,we),Z=pt.call(on,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function hc(m,S,k){if(typeof m=="function")k&&(m=y(m,k));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(m,S||0)}function Qo(m){m.g=hc(()=>{m.g=null,m.i&&(m.i=!1,Qo(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class is extends K{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(m){K.call(this),this.h=m,this.g={}}_(os,K);var pc=[];function mc(m){D(m.g,function(S,k){this.g.hasOwnProperty(k)&&er(S)},m),m.g={}}os.prototype.N=function(){os.aa.N.call(this),mc(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=l.JSON.stringify,yc=l.JSON.parse,vc=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function as(){}as.prototype.h=null;function du(m){return m.h||(m.h=m.i())}function hu(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){le.call(this,"d")}_(ji,le);function pu(){le.call(this,"c")}_(pu,le);var Li={},_c=null;function ss(){return _c=_c||new nn}Li.La="serverreachability";function wc(m){le.call(this,Li.La,m)}_(wc,le);function so(m){const S=ss();rn(S,new wc(S))}Li.STAT_EVENT="statevent";function bc(m,S){le.call(this,Li.STAT_EVENT,m),this.stat=S}_(bc,le);function Ht(m){const S=ss();rn(S,new bc(S,m))}Li.Ma="timingevent";function mu(m,S){le.call(this,Li.Ma,m),this.size=S}_(mu,le);function ei(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},S)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function ls(m,S,k,U,Z,se){m.info(function(){if(m.g)if(se)for(var we="",pt=se.split("&"),on=0;on<pt.length;on++){var tt=pt[on].split("=");if(1<tt.length){var hn=tt[0];tt=tt[1];var Xt=hn.split("_");we=2<=Xt.length&&Xt[1]=="type"?we+(hn+"="+tt+"&"):we+(hn+"=redacted&")}}else we=null;else we=se;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+S+`
`+k+`
`+we})}function gu(m,S,k,U,Z,se,we){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+S+`
`+k+`
`+se+" "+we})}function ti(m,S,k,U){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Cy(m,k)+(U?" "+U:"")})}function Ec(m,S){m.info(function(){return"TIMEOUT: "+S})}us.prototype.info=function(){};function Cy(m,S){if(!m.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var U=k[m];if(!(2>U.length)){var Z=U[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return gc(k)}catch{return S}}var yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function cs(){}_(cs,as),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},ni=new cs;function ri(m,S,k,U){this.j=m,this.i=S,this.l=k,this.R=U||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uh}function uh(){this.i=null,this.g="",this.h=!1}var xc={},vu={};function _u(m,S,k){m.L=1,m.v=na(vr(S)),m.m=k,m.P=!0,Sc(m,null)}function Sc(m,S){m.F=Date.now(),bt(m),m.A=vr(m.v);var k=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),ia(k.i,"t",U),m.C=0,k=m.j.J,m.h=new uh,m.g=Ah(m.j,k?S:null,!m.m),0<m.O&&(m.M=new is(y(m.Y,m,m.g),m.O)),S=m.U,k=m.g,U=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(pc[0]=Z.toString()),Z=pc);for(var se=0;se<Z.length;se++){var we=yt(k,Z[se],U||S.handleEvent,!1,S.h||S);if(!we)break;S.g[we.key]=we}S=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),so(),ls(m.i,m.u,m.A,m.l,m.R,m.m)}ri.prototype.ca=function(m){m=m.target;const S=this.M;S&&nr(m)==3?S.j():this.Y(m)},ri.prototype.Y=function(m){try{if(m==this.g)e:{const Xt=nr(this.g);var S=this.g.Ba();const Mr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||Xt!=4||S==7||(S==8||0>=Mr?so(3):so(2)),fs(this);var k=this.g.Z();this.X=k;t:if(lh(this)){var U=Oc(this.g);m="";var Z=U.length,se=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Jo(this);var we="";break t}this.h.i=new l.TextDecoder}for(S=0;S<Z;S++)this.h.h=!0,m+=this.h.i.decode(U[S],{stream:!(se&&S==Z-1)});U.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=k==200,gu(this.i,this.u,this.A,this.l,this.R,Xt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,on=this.g;if((pt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(pt)){var tt=pt;break t}}tt=null}if(k=tt)ti(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tc(this,k);else{this.o=!1,this.s=3,Ht(12),kr(this),Jo(this);break e}}if(this.P){k=!0;let wr;for(;!this.J&&this.C<we.length;)if(wr=Oy(this,we),wr==vu){Xt==4&&(this.s=4,Ht(14),k=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==xc){this.s=4,Ht(15),ti(this.i,this.l,we,"[Invalid Chunk]"),k=!1;break}else ti(this.i,this.l,wr,null),Tc(this,wr);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||we.length!=0||this.h.h||(this.s=1,Ht(16),k=!1),this.o=this.o&&k,!k)ti(this.i,this.l,we,"[Invalid Chunked Response]"),kr(this),Jo(this);else if(0<we.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),kc(hn),hn.M=!0,Ht(11))}}else ti(this.i,this.l,we,null),Tc(this,we);Xt==4&&kr(this),this.o&&!this.J&&(Xt==4?Ou(this.j,this):(this.o=!1,bt(this)))}else Tu(this.g),k==400&&0<we.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),kr(this),Jo(this)}}}catch{}finally{}};function lh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Oy(m,S){var k=m.C,U=S.indexOf(`
`,k);return U==-1?vu:(k=Number(S.substring(k,U)),isNaN(k)?xc:(U+=1,U+k>S.length?vu:(S=S.slice(U,U+k),m.C=U+k,S)))}ri.prototype.cancel=function(){this.J=!0,kr(this)};function bt(m){m.S=Date.now()+m.I,ch(m,m.I)}function ch(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ei(y(m.ba,m),S)}function fs(m){m.B&&(l.clearTimeout(m.B),m.B=null)}ri.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ec(this.i,this.A),this.L!=2&&(so(),Ht(17)),kr(this),this.s=2,Jo(this)):ch(this,this.S-m)};function Jo(m){m.j.G==0||m.J||Ou(m.j,m)}function kr(m){fs(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,mc(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Tc(m,S){try{var k=m.j;if(k.G!=0&&(k.g==m||Wn(k.h,m))){if(!m.K&&Wn(k.h,m)&&k.G==3){try{var U=k.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)Cu(k),ui(k);else break e;Iu(k),Ht(18)}}else k.za=Z[1],0<k.za-k.T&&37500>Z[2]&&k.F&&k.v==0&&!k.C&&(k.C=ei(y(k.Za,k),6e3));if(1>=dh(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ho(k,11)}else if((m.K||k.g==m)&&Cu(k),!A(S))for(Z=k.Da.g.parse(S),S=0;S<Z.length;S++){let tt=Z[S];if(k.T=tt[0],tt=tt[1],k.G==2)if(tt[0]=="c"){k.K=tt[1],k.ia=tt[2];const hn=tt[3];hn!=null&&(k.la=hn,k.j.info("VER="+k.la));const Xt=tt[4];Xt!=null&&(k.Aa=Xt,k.j.info("SVER="+k.Aa));const Mr=tt[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(U=1.5*Mr,k.L=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const wr=m.g;if(wr){const vs=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var se=U.h;se.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ac(se,se.h),se.h=null))}if(U.D){const ku=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(U.ya=ku,vt(U.I,U.D,ku))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),U=k;var we=m;if(U.qa=Th(U,U.J?U.ia:null,U.W),we.K){hh(U.h,we);var pt=we,on=U.L;on&&(pt.I=on),pt.B&&(fs(pt),bt(pt)),U.g=we}else ys(U);0<k.i.length&&Ui(k)}else tt[0]!="stop"&&tt[0]!="close"||ho(k,7);else k.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ho(k,7):xn(k):tt[0]!="noop"&&k.l&&k.l.ta(tt),k.v=0)}}so(4)}catch{}}var fh=class{constructor(m,S){this.g=m,this.map=S}};function ds(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function dh(m){return m.h?1:m.g?m.g.size:0}function Wn(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Ac(m,S){m.g?m.g.add(S):m.h=S}function hh(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}ds.prototype.cancel=function(){if(this.i=ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ph(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const k of m.g.values())S=S.concat(k.D);return S}return E(m.i)}function wu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],k=m.length,U=0;U<k;U++)S.push(m[U]);return S}S=[],k=0;for(U in m)S[k++]=m[U];return S}function bu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var k=0;k<m;k++)S.push(k);return S}S=[],k=0;for(const U in m)S[k++]=U;return S}}}function Zo(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var k=bu(m),U=wu(m),Z=U.length,se=0;se<Z;se++)S.call(void 0,U[se],k&&k[se],m)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ry(m,S){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var U=m[k].indexOf("="),Z=null;if(0<=U){var se=m[k].substring(0,U);Z=m[k].substring(U+1)}else se=m[k];S(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function uo(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof uo){this.h=m.h,ps(this,m.j),this.o=m.o,this.g=m.g,ea(this,m.s),this.l=m.l;var S=m.i,k=new $i;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),ta(this,k),this.m=m.m}else m&&(S=String(m).match(hs))?(this.h=!1,ps(this,S[1]||"",!0),this.o=Ze(S[2]||""),this.g=Ze(S[3]||"",!0),ea(this,S[4]),this.l=Ze(S[5]||"",!0),ta(this,S[6]||"",!0),this.m=Ze(S[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}uo.prototype.toString=function(){var m=[],S=this.j;S&&m.push(ra(S,Eu,!0),":");var k=this.g;return(k||S=="file")&&(m.push("//"),(S=this.o)&&m.push(ra(S,Eu,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(ra(k,k.charAt(0)=="/"?yh:gh,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",ra(k,Pc)),m.join("")};function vr(m){return new uo(m)}function ps(m,S,k){m.j=k?Ze(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function ea(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function ta(m,S,k){S instanceof $i?(m.i=S,Fi(m.i,m.h)):(k||(S=ra(S,vh)),m.i=new $i(S,m.h))}function vt(m,S,k){m.i.set(S,k)}function na(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ze(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ra(m,S,k){return typeof m=="string"?(m=encodeURI(m).replace(S,mh),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function mh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Eu=/[#\/\?@]/g,gh=/[#\?:]/g,yh=/[#\?]/g,vh=/[#\?@]/g,Pc=/#/g;function $i(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function En(m){m.g||(m.g=new Map,m.h=0,m.i&&Ry(m.i,function(S,k){m.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=$i.prototype,t.add=function(m,S){En(this),this.i=null,m=Nr(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(S),this.h+=1,this};function ii(m,S){En(m),S=Nr(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function oi(m,S){return En(m),S=Nr(m,S),m.g.has(S)}t.forEach=function(m,S){En(this),this.g.forEach(function(k,U){k.forEach(function(Z){m.call(S,Z,U,this)},this)},this)},t.na=function(){En(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let U=0;U<S.length;U++){const Z=m[U];for(let se=0;se<Z.length;se++)k.push(S[U])}return k},t.V=function(m){En(this);let S=[];if(typeof m=="string")oi(this,m)&&(S=S.concat(this.g.get(Nr(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)S=S.concat(m[k])}return S},t.set=function(m,S){return En(this),this.i=null,m=Nr(this,m),oi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function ia(m,S,k){ii(m,S),0<k.length&&(m.i=null,m.g.set(Nr(m,S),E(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var U=S[k];const se=encodeURIComponent(String(U)),we=this.V(U);for(U=0;U<we.length;U++){var Z=se;we[U]!==""&&(Z+="="+encodeURIComponent(String(we[U]))),m.push(Z)}}return this.i=m.join("&")};function Nr(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Fi(m,S){S&&!m.j&&(En(m),m.i=null,m.g.forEach(function(k,U){var Z=U.toLowerCase();U!=Z&&(ii(this,U),ia(this,Z,k))},m)),m.j=S}function ky(m,S){const k=new us;if(l.Image){const U=new Image;U.onload=w(tr,k,"TestLoadImage: loaded",!0,S,U),U.onerror=w(tr,k,"TestLoadImage: error",!1,S,U),U.onabort=w(tr,k,"TestLoadImage: abort",!1,S,U),U.ontimeout=w(tr,k,"TestLoadImage: timeout",!1,S,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else S(!1)}function _h(m,S){const k=new us,U=new AbortController,Z=setTimeout(()=>{U.abort(),tr(k,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:U.signal}).then(se=>{clearTimeout(Z),se.ok?tr(k,"TestPingServer: ok",!0,S):tr(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Z),tr(k,"TestPingServer: error",!1,S)})}function tr(m,S,k,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(k)}catch{}}function Ny(){this.g=new vc}function wh(m,S,k){const U=k||"";try{Zo(m,function(Z,se){let we=Z;f(Z)&&(we=gc(Z)),S.push(U+se+"="+encodeURIComponent(we))})}catch(Z){throw S.push(U+"type="+encodeURIComponent("_badmap")),Z}}function lo(m){this.l=m.Ub||null,this.j=m.eb||!1}_(lo,as),lo.prototype.g=function(){return new ms(this.l,this.j)},lo.prototype.i=function(m){return function(){return m}}({});function ms(m,S){nn.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ms,nn),t=ms.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,si(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function bh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?ai(this):si(this),this.readyState==3&&bh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ai(this))},t.Qa=function(m){this.g&&(this.response=m,ai(this))},t.ga=function(){this.g&&ai(this)};function ai(m){m.readyState=4,m.l=null,m.j=null,m.v=null,si(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=S.next();return m.join(`\r
`)};function si(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function co(m){let S="";return D(m,function(k,U){S+=U,S+=":",S+=k,S+=`\r
`}),S}function oa(m,S,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=co(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):vt(m,S,k))}function Ot(m){nn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ot,nn);var My=/^https?$/i,Ic=["POST","PUT"];t=Ot.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?du(this.o):du(ni),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(se){gs(this,se);return}if(m=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)k.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())k.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(se=>se.toLowerCase()=="content-type"),Z=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ic,S,void 0))||U||Z||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,we]of k)this.g.setRequestHeader(se,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Su(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){gs(this,se)}};function gs(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,xu(m),_r(m)}function xu(m){m.A||(m.A=!0,rn(m,"complete"),rn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,rn(this,"complete"),rn(this,"abort"),_r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},t.bb=function(){Cc(this)};function Cc(m){if(m.h&&typeof a<"u"&&(!m.v[1]||nr(m)!=4||m.Z()!=2)){if(m.u&&nr(m)==4)hc(m.Ea,0,m);else if(rn(m,"readystatechange"),nr(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var U;if(U=we===0){var Z=String(m.D).match(hs)[1]||null;!Z&&l.self&&l.self.location&&(Z=l.self.location.protocol.slice(0,-1)),U=!My.test(Z?Z.toLowerCase():"")}k=U}if(k)rn(m,"complete"),rn(m,"success");else{m.m=6;try{var se=2<nr(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",xu(m)}}finally{_r(m)}}}}function _r(m,S){if(m.g){Su(m);const k=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||rn(m,"ready");try{k.onreadystatechange=U}catch{}}}function Su(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function nr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),yc(S)}};function Oc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Tu(m){const S={};m=(m.g&&2<=nr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(A(m[U]))continue;var k=L(m[U]);const Z=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const se=S[Z]||[];S[Z]=se,se.push(k)}C(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(m,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||S}function Rc(m){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,m),this.cb=Vi("retryDelaySeedMs",1e4,m),this.Wa=Vi("forwardChannelMaxRetries",2,m),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(m&&m.concurrentRequestLimit),this.Da=new Ny,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rc.prototype,t.la=8,t.G=1,t.connect=function(m,S,k,U){Ht(0),this.W=m,this.H=S||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.I=Th(this,null,this.W),Ui(this)};function xn(m){if(Au(m),m.G==3){var S=m.U++,k=vr(m.I);if(vt(k,"SID",m.K),vt(k,"RID",S),vt(k,"TYPE","terminate"),fo(m,k),S=new ri(m,m.j,S),S.L=2,S.v=na(vr(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=S.v,k=!0),k||(S.g=Ah(S.j,null),S.g.ea(S.v)),S.F=Date.now(),bt(S)}Sh(m)}function ui(m){m.g&&(kc(m),m.g.cancel(),m.g=null)}function Au(m){ui(m),m.u&&(l.clearTimeout(m.u),m.u=null),Cu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Ui(m){if(!yr(m.h)&&!m.s){m.s=!0;var S=m.Ga;re||te(),Q||(re(),Q=!0),oe.add(S,m),m.B=0}}function Dy(m,S){return dh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ei(y(m.Ga,m,S),xh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new ri(this,this.j,m);let se=this.o;if(this.S&&(se?(se=R(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=aa(this,Z,S),k=vr(this.I),vt(k,"RID",m),vt(k,"CVER",22),this.D&&vt(k,"X-HTTP-Session-Id",this.D),fo(this,k),se&&(this.O?S="headers="+encodeURIComponent(String(co(se)))+"&"+S:this.m&&oa(k,this.m,se)),Ac(this.h,Z),this.Ua&&vt(k,"TYPE","init"),this.P?(vt(k,"$req",S),vt(k,"SID","null"),Z.T=!0,_u(Z,k,null)):_u(Z,k,S),this.G=2}}else this.G==3&&(m?Pu(this,m):this.i.length==0||yr(this.h)||Pu(this))};function Pu(m,S){var k;S?k=S.l:k=m.U++;const U=vr(m.I);vt(U,"SID",m.K),vt(U,"RID",k),vt(U,"AID",m.T),fo(m,U),m.m&&m.o&&oa(U,m.m,m.o),k=new ri(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),S&&(m.i=S.D.concat(m.i)),S=aa(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ac(m.h,k),_u(k,U,S)}function fo(m,S){m.H&&D(m.H,function(k,U){vt(S,U,k)}),m.l&&Zo({},function(k,U){vt(S,U,k)})}function aa(m,S,k){k=Math.min(m.i.length,k);var U=m.l?y(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const we=["count="+k];se==-1?0<k?(se=Z[0].g,we.push("ofs="+se)):se=0:we.push("ofs="+se);let pt=!0;for(let on=0;on<k;on++){let tt=Z[on].g;const hn=Z[on].map;if(tt-=se,0>tt)se=Math.max(0,Z[on].g-100),pt=!1;else try{wh(hn,we,"req"+tt+"_")}catch{U&&U(hn)}}if(pt){U=we.join("&");break e}}}return m=m.i.splice(0,k),S.D=m,U}function ys(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;re||te(),Q||(re(),Q=!0),oe.add(S,m),m.v=0}}function Iu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ei(y(m.Fa,m),xh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ei(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),ui(this),Eh(this))};function kc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Eh(m){m.g=new ri(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=vr(m.qa);vt(S,"RID","rpc"),vt(S,"SID",m.K),vt(S,"AID",m.T),vt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(S,"TO",m.ja),vt(S,"TYPE","xmlhttp"),fo(m,S),m.m&&m.o&&oa(S,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=na(vr(S)),k.m=null,k.P=!0,Sc(k,m)}t.Za=function(){this.C!=null&&(this.C=null,ui(this),Iu(this),Ht(19))};function Cu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Ou(m,S){var k=null;if(m.g==S){Cu(m),kc(m),m.g=null;var U=2}else if(Wn(m.h,S))k=S.D,hh(m.h,S),U=1;else return;if(m.G!=0){if(S.o)if(U==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var Z=m.B;U=ss(),rn(U,new mu(U,k)),Ui(m)}else ys(m);else if(Z=S.s,Z==3||Z==0&&0<S.X||!(U==1&&Dy(m,S)||U==2&&Iu(m)))switch(k&&0<k.length&&(S=m.h,S.i=S.i.concat(k)),Z){case 1:ho(m,5);break;case 4:ho(m,10);break;case 3:ho(m,6);break;default:ho(m,2)}}}function xh(m,S){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*S}function ho(m,S){if(m.j.info("Error code "+S),S==2){var k=y(m.fb,m),U=m.Xa;const Z=!U;U=new uo(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ps(U,"https"),na(U),Z?ky(U.toString(),k):_h(U.toString(),k)}else Ht(2);m.G=0,m.l&&m.l.sa(S),Sh(m),Au(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Sh(m){if(m.G=0,m.ka=[],m.l){const S=ph(m.h);(S.length!=0||m.i.length!=0)&&(v(m.ka,S),v(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function Th(m,S,k){var U=k instanceof uo?vr(k):new uo(k);if(U.g!="")S&&(U.g=S+"."+U.g),ea(U,U.s);else{var Z=l.location;U=Z.protocol,S=S?S+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new uo(null);U&&ps(se,U),S&&(se.g=S),Z&&ea(se,Z),k&&(se.l=k),U=se}return k=m.D,S=m.ya,k&&S&&vt(U,k,S),vt(U,"VER",m.la),fo(m,U),U}function Ah(m,S,k){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Ot(new lo({eb:k})):new Ot(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}t=Nc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(m,S){return new Hn(m,S)};function Hn(m,S){nn.call(this),this.g=new Rc(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!A(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!A(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Bi(this)}_(Hn,nn),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){xn(this.g)},Hn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=gc(m),m=k);S.i.push(new fh(S.Ya++,m)),S.G==3&&Ui(S)},Hn.prototype.N=function(){this.g.l=null,delete this.j,xn(this.g),delete this.g,Hn.aa.N.call(this)};function Ph(m){ji.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const k in S){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}_(Ph,ji);function Ih(){pu.call(this),this.status=1}_(Ih,pu);function Bi(m){this.g=m}_(Bi,Nc),Bi.prototype.ua=function(){rn(this.g,"a")},Bi.prototype.ta=function(m){rn(this.g,new Ph(m))},Bi.prototype.sa=function(m){rn(this.g,new Ih)},Bi.prototype.ra=function(){rn(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Bj=function(){return new Ru},Uj=function(){return ss()},Vj=Li,N1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,Jp=yu,sh.COMPLETE="complete",Fj=sh,hu.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",nn.prototype.listen=nn.prototype.K,xf=hu,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,$j=Ot}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const MI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new xx("@firebase/firestore");function il(){return Js.logLevel}function Se(t,...e){if(Js.logLevel<=Ye.DEBUG){const n=e.map(Lx);Js.debug(`Firestore (${tc}): ${t}`,...n)}}function $o(t,...e){if(Js.logLevel<=Ye.ERROR){const n=e.map(Lx);Js.error(`Firestore (${tc}): ${t}`,...n)}}function wl(t,...e){if(Js.logLevel<=Ye.WARN){const n=e.map(Lx);Js.warn(`Firestore (${tc}): ${t}`,...n)}}function Lx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: `+t;throw $o(e),new Error(e)}function dt(t,e){t||Ue()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class cz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fz{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ro,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ro)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new qj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Un(e)}}class dz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){dt(this.o===void 0);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new pz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function bl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new cn(0,0))}static max(){return new Be(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(),r===void 0?r=e.length-n:r>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends Hf{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Hf{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return yz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ct.fromString(e))}static fromName(e){return new Ne(Ct.fromString(e).popFirst(5))}static empty(){return new Ne(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ct(e.slice()))}}function vz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new Ua(i,Ne.empty(),e)}function _z(t){return new Ua(t.readTime,t.key,-1)}class Ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ua(Be.min(),Ne.empty(),-1)}static max(){return new Ua(Be.max(),Ne.empty(),-1)}}function wz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ez{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==bz)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(h=>{a[f]=h,++l,l===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new fe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function xz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pg.oe=-1;function Ig(t){return t==null}function hm(t){return t===0&&1/t==-1/0}function Sz(t){return typeof t=="number"&&Number.isInteger(t)&&!hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DI(e)),e=Az(t.get(n),e);return DI(e)}function Az(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function DI(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pp(this.root,e,this.comparator,!0)}}class Pp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new In(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LI(this.data.getIterator())}getIteratorFrom(e){return new LI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class LI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new fn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hj("Invalid base64 string: "+o):o}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Pz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(dt(!!t),typeof t=="string"){let e=0;const n=Pz.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cg(t){const e=t.mapValue.fields.__previous_value__;return $x(e)?Cg(e):e}function Gf(t){const e=Ba(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n,r,i,o,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Kf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$x(t)?4:Oz(t)?9007199254740991:Cz(t)?10:11:Ue()}function to(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gf(t).isEqual(Gf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ba(i.timestampValue),l=Ba(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qa(i.bytesValue).isEqual(qa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Kt(i.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Kt(i.integerValue)===Kt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Kt(i.doubleValue),l=Kt(o.doubleValue);return a===l?hm(a)===hm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(jI(a)!==jI(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!to(a[c],l[c])))return!1;return!0}(t,e);default:return Ue()}}function Yf(t,e){return(t.values||[]).find(n=>to(n,e))!==void 0}function El(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Kt(o.integerValue||o.doubleValue),c=Kt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return $I(t.timestampValue,e.timestampValue);case 4:return $I(Gf(t),Gf(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(o,a){const l=qa(o),c=qa(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=et(l[f],c[f]);if(h!==0)return h}return et(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=et(Kt(o.latitude),Kt(a.latitude));return l!==0?l:et(Kt(o.longitude),Kt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FI(t.arrayValue,e.arrayValue);case 10:return function(o,a){var l,c,f,h;const p=o.fields||{},y=a.fields||{},w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,_=(c=y.value)===null||c===void 0?void 0:c.arrayValue,E=et(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:FI(w,_)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Ip.mapValue&&a===Ip.mapValue)return 0;if(o===Ip.mapValue)return 1;if(a===Ip.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=et(c[p],h[p]);if(y!==0)return y;const w=El(l[c[p]],f[h[p]]);if(w!==0)return w}return et(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function $I(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ba(t),r=Ba(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function FI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=El(n[i],r[i]);if(o)return o}return et(n.length,r.length)}function xl(t){return M1(t)}function M1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ba(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=M1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${M1(n.fields[a])}`;return i+"}"}(t.mapValue):Ue()}function Zp(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(t);return e?16+Zp(e):16;case 5:return 2*t.stringValue.length;case 6:return qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xa(r.fields,(o,a)=>{i+=o.length+Zp(a)}),i}(t.mapValue);default:throw Ue()}}function VI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D1(t){return!!t&&"integerValue"in t}function Fx(t){return!!t&&"arrayValue"in t}function UI(t){return!!t&&"nullValue"in t}function BI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function em(t){return!!t&&"mapValue"in t}function Cz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Oz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!em(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Rf(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());em(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new fr(Rf(this.value))}}function Gj(t){const e=[];return Xa(t.fields,(n,r)=>{const i=new Rn([n]);if(em(r)){const o=Gj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,Be.min(),Be.min(),Be.min(),fr.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,Be.min(),Be.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Be.min(),Be.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.position=e,this.inclusive=n}}function qI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(a.referenceValue),n.key):r=El(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!to(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{}class en extends Kj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nz(e,n,r):n==="array-contains"?new jz(e,r):n==="in"?new Lz(e,r):n==="not-in"?new $z(e,r):n==="array-contains-any"?new Fz(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mz(e,r):new Dz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(El(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends Kj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pi(e,n)}matches(e){return Yj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yj(t){return t.op==="and"}function Xj(t){return kz(t)&&Yj(t)}function kz(t){for(const e of t.filters)if(e instanceof Pi)return!1;return!0}function j1(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(Xj(t))return t.filters.map(e=>j1(e)).join(",");{const e=t.filters.map(n=>j1(n)).join(",");return`${t.op}(${e})`}}function Qj(t,e){return t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&to(r.value,i.value)}(t,e):t instanceof Pi?function(r,i){return i instanceof Pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&Qj(a,i.filters[l]),!0):!1}(t,e):void Ue()}function Jj(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`}(t):t instanceof Pi?function(n){return n.op.toString()+" {"+n.getFilters().map(Jj).join(" ,")+"}"}(t):"Filter"}class Nz extends en{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mz extends en{constructor(e,n){super(e,"in",n),this.keys=Zj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dz extends en{constructor(e,n){super(e,"not-in",n),this.keys=Zj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class jz extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fx(n)&&Yf(n.arrayValue,this.value)}}class Lz extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yf(this.value.arrayValue,n)}}class $z extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yf(this.value.arrayValue,n)}}class Fz extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function WI(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Vz(t,e,n,r,i,o,a)}function Vx(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xl(r)).join(",")),e.ue=n}return e.ue}function Ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zI(t.startAt,e.startAt)&&zI(t.endAt,e.endAt)}function L1(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Uz(t,e,n,r,i,o,a,l){return new ic(t,e,n,r,i,o,a,l)}function Og(t){return new ic(t)}function HI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eL(t){return t.collectionGroup!==null}function kf(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new fn(Rn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xf(o,r))}),n.has(Rn.keyField().canonicalString())||e.ce.push(new Xf(Rn.keyField(),r))}return e.ce}function Qi(t){const e=He(t);return e.le||(e.le=Bz(e,kf(t))),e.le}function Bz(t,e){if(t.limitType==="F")return WI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Xf(i.field,o)});const n=t.endAt?new pm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pm(t.startAt.position,t.startAt.inclusive):null;return WI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $1(t,e){const n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mm(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rg(t,e){return Ux(Qi(t),Qi(e))&&t.limitType===e.limitType}function tL(t){return`${Vx(Qi(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jj(i)).join(", ")}]`),Ig(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xl(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function kg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of kf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const f=qI(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,kf(r),i)||r.endAt&&!function(a,l,c){const f=qI(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,kf(r),i))}(t,e)}function qz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nL(t){return(e,n)=>{let r=!1;for(const i of kf(t)){const o=zz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zz(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),f=l.data.field(o);return c!==null&&f!==null?El(c,f):Ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Wj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new Ft(Ne.comparator);function Fo(){return Wz}const rL=new Ft(Ne.comparator);function Sf(...t){let e=rL;for(const n of t)e=e.insert(n.key,n);return e}function iL(t){let e=rL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fs(){return Nf()}function oL(){return Nf()}function Nf(){return new su(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hz=new Ft(Ne.comparator),Gz=new fn(Ne.comparator);function Qe(...t){let e=Gz;for(const n of t)e=e.add(n);return e}const Kz=new fn(et);function Yz(){return Kz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(e)?"-0":e}}function aL(t){return{integerValue:""+t}}function Xz(t,e){return Sz(e)?aL(e):Bx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this._=void 0}}function Qz(t,e,n){return t instanceof Qf?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$x(o)&&(o=Cg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Jf?uL(t,e):t instanceof Zf?lL(t,e):function(i,o){const a=sL(i,o),l=GI(a)+GI(i.Pe);return D1(a)&&D1(i.Pe)?aL(l):Bx(i.serializer,l)}(t,e)}function Jz(t,e,n){return t instanceof Jf?uL(t,e):t instanceof Zf?lL(t,e):n}function sL(t,e){return t instanceof gm?function(r){return D1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qf extends Ng{}class Jf extends Ng{constructor(e){super(),this.elements=e}}function uL(t,e){const n=cL(e);for(const r of t.elements)n.some(i=>to(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zf extends Ng{constructor(e){super(),this.elements=e}}function lL(t,e){let n=cL(e);for(const r of t.elements)n=n.filter(i=>!to(i,r));return{arrayValue:{values:n}}}class gm extends Ng{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function GI(t){return Kt(t.integerValue||t.doubleValue)}function cL(t){return Fx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n){this.field=e,this.transform=n}}function e8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jf&&i instanceof Jf||r instanceof Zf&&i instanceof Zf?bl(r.elements,i.elements,to):r instanceof gm&&i instanceof gm?to(r.Pe,i.Pe):r instanceof Qf&&i instanceof Qf}(t.transform,e.transform)}class t8{constructor(e,n){this.version=e,this.transformResults=n}}class Ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mg{}function fL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qx(t.key,Ai.none()):new Wd(t.key,t.data,Ai.none());{const n=t.data,r=fr.empty();let i=new fn(Rn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Qa(t.key,r,new Cr(i.toArray()),Ai.none())}}function n8(t,e,n){t instanceof Wd?function(i,o,a){const l=i.value.clone(),c=YI(i.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qa?function(i,o,a){if(!tm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=YI(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(dL(i)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Mf(t,e,n,r){return t instanceof Wd?function(o,a,l,c){if(!tm(o.precondition,a))return l;const f=o.value.clone(),h=XI(o.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qa?function(o,a,l,c){if(!tm(o.precondition,a))return l;const f=XI(o.fieldTransforms,c,a),h=a.data;return h.setAll(dL(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,a,l){return tm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function r8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=sL(r.transform,i||null);o!=null&&(n===null&&(n=fr.empty()),n.set(r.field,o))}return n||null}function KI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bl(r,i,(o,a)=>e8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wd extends Mg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qa extends Mg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YI(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,Jz(a,l,n[i]))}return r}function XI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Qz(o,a,e))}return r}class qx extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i8 extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&n8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oL();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const c=fL(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,r)=>KI(n,r))&&bl(this.baseMutations,e.baseMutations,(n,r)=>KI(n,r))}}class zx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=function(){return Hz}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new zx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,nt;function u8(t){switch(t){default:return Ue();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function hL(t){if(t===void 0)return $o("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Jt.OK:return ce.OK;case Jt.CANCELLED:return ce.CANCELLED;case Jt.UNKNOWN:return ce.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ce.INTERNAL;case Jt.UNAVAILABLE:return ce.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ce.NOT_FOUND;case Jt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Jt.ABORTED:return ce.ABORTED;case Jt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Jt.DATA_LOSS:return ce.DATA_LOSS;default:return Ue()}}(nt=Jt||(Jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new zs([4294967295,4294967295],0);function QI(t){const e=l8().encode(t),n=new Lj;return n.update(e),new Uint8Array(n.digest())}function JI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zs([n,r],0),new zs([i,o],0)]}class Wx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tf(`Invalid padding: ${n}`);if(r<0)throw new Tf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=zs.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(zs.fromNumber(r)));return i.compare(c8)===1&&(i=new zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=QI(e),[r,i]=JI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Wx(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=QI(e),[r,i]=JI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dg(Be.min(),i,new Ft(et),Fo(),Qe())}}class Hd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hd(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pL{constructor(e,n){this.targetId=e,this.me=n}}class mL{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZI{constructor(){this.fe=0,this.ge=eC(),this.pe=Mn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new Hd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class f8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fo(),this.qe=Cp(),this.Qe=Cp(),this.Ke=new Ft(et)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(L1(o))if(r===0){const a=new Ne(o.path);this.We(n,a,Bn.newNoDocument(a,Be.min()))}else dt(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=qa(r).toUint8Array()}catch(c){if(c instanceof Hj)return wl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Wx(a,i,o)}catch(c){return wl(c instanceof Tf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Ye(a);if(l){if(o.current&&L1(l.target)){const c=new Ne(l.target.path);this.st(c).has(a)||this.ot(a,c)||this.We(a,c,Bn.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Qe();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const f=this.Ye(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Dg(e,n,this.Ke,this.ke,r);return this.ke=Fo(),this.qe=Cp(),this.Qe=Cp(),this.Ke=new Ft(et),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ZI,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new fn(et),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new fn(et),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ZI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Cp(){return new Ft(Ne.comparator)}function eC(){return new Ft(Ne.comparator)}const d8={asc:"ASCENDING",desc:"DESCENDING"},h8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p8={and:"AND",or:"OR"};class m8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F1(t,e){return t.useProto3Json||Ig(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g8(t,e){return ym(t,e.toTimestamp())}function Ji(t){return dt(!!t),Be.fromTimestamp(function(n){const r=Ba(n);return new cn(r.seconds,r.nanos)}(t))}function Hx(t,e){return V1(t,e).canonicalString()}function V1(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yL(t){const e=Ct.fromString(t);return dt(EL(e)),e}function U1(t,e){return Hx(t.databaseId,e.path)}function m_(t,e){const n=yL(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(_L(n))}function vL(t,e){return Hx(t.databaseId,e)}function y8(t){const e=yL(t);return e.length===4?Ct.emptyPath():_L(e)}function B1(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _L(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tC(t,e,n){return{name:U1(t,e),fields:n.value.mapValue.fields}}function v8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(dt(h===void 0||typeof h=="string"),Mn.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const h=f.code===void 0?ce.UNKNOWN:hL(f.code);return new Te(h,f.message||"")}(a);n=new mL(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=m_(t,r.document.name),o=Ji(r.document.updateTime),a=r.document.createTime?Ji(r.document.createTime):Be.min(),l=new fr({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(i,o,a,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new nm(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=m_(t,r.document),o=r.readTime?Ji(r.readTime):Be.min(),a=Bn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new nm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=m_(t,r.document),o=r.removedTargetIds||[];n=new nm([],o,i,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new s8(i,o),l=r.targetId;n=new pL(l,a)}}return n}function _8(t,e){let n;if(e instanceof Wd)n={update:tC(t,e.key,e.value)};else if(e instanceof qx)n={delete:U1(t,e.key)};else if(e instanceof Qa)n={update:tC(t,e.key,e.data),updateMask:I8(e.fieldMask)};else{if(!(e instanceof i8))return Ue();n={verify:U1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof Qf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gm)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:g8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(t,e.precondition)),n}function w8(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Ji(i.updateTime):Ji(o);return a.isEqual(Be.min())&&(a=Ji(o)),new t8(a,i.transformResults||[])}(n,e))):[]}function b8(t,e){return{documents:[vL(t,e.path)]}}function E8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vL(t,i);const o=function(f){if(f.length!==0)return bL(Pi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:al(y.field),direction:T8(y.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=F1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:n,parent:i}}function x8(t){let e=y8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){const y=wL(p);return y instanceof Pi&&Xj(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(y=>function(_){return new Xf(sl(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,Ig(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,w=p.values||[];return new pm(w,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,w=p.values||[];return new pm(w,y)}(n.endAt)),Uz(e,i,a,o,l,"F",c,f)}function S8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sl(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=sl(n.unaryFilter.field);return en.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return en.create(sl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pi.create(n.compositeFilter.filters.map(r=>wL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function T8(t){return d8[t]}function A8(t){return h8[t]}function P8(t){return p8[t]}function al(t){return{fieldPath:t.canonicalString()}}function sl(t){return Rn.fromServerFormat(t.fieldPath)}function bL(t){return t instanceof en?function(n){if(n.op==="=="){if(BI(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NAN"}};if(UI(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BI(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NAN"}};if(UI(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(n.field),op:A8(n.op),value:n.value}}}(t):t instanceof Pi?function(n){const r=n.getFilters().map(i=>bL(i));return r.length===1?r[0]:{compositeFilter:{op:P8(n.op),filters:r}}}(t):Ue()}function I8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,i,o=Be.min(),a=Be.min(),l=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.ht=e}}function O8(t){const e=x8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.ln=new k8}addToCollectionParentIndex(e,n){return this.ln.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Ua.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class k8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fn(Ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Sl(0)}static Qn(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class N8{constructor(e){this.Gn=e,this.buffer=new fn(rC),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Yn(3e5)})}}class D8{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Pg.oe);const r=new N8(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(nC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nC):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,a,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),il()<=Ye.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function j8(t,e){return new D8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.changes=new su(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mf(r.mutation,i,Cr.empty(),cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Sf();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Fo();const a=Nf(),l=function(){return Nf()}();return n.forEach((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Qa)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),Mf(h.mutation,f,h.mutation.getFieldMask(),cn.now())):a.set(f.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,h)=>a.set(f,h)),n.forEach((f,h)=>{var p;return l.set(f,new $8(h,(p=a.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Nf();let i=new Ft((a,l)=>a-l),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Cr.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||Qe()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=oL();h.forEach(y=>{if(!o.has(y)){const w=fL(n.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(Fs());let l=-1,c=o;return a.next(f=>fe.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Qe())).next(h=>({batchId:l,changes:iL(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let i=Sf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Sf();return this.indexManager.getCollectionParents(e,o).next(l=>fe.forEach(l,c=>{const f=function(p,y){return new ic(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((p,y)=>{a=a.insert(p,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,Bn.newInvalidDocument(h)))});let l=Sf();return a.forEach((c,f)=>{const h=o.get(c);h!==void 0&&Mf(h.mutation,f,Cr.empty(),cn.now()),kg(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return fe.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:O8(i.bundledQuery),readTime:Ji(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.overlays=new Ft(Ne.comparator),this.Er=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Fs(),o=n.length+1,a=new Ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ft((f,h)=>f-h);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Fs(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Fs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return fe.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new a8(n,r));let o=this.Er.get(n);o===void 0&&(o=Qe(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.dr=new fn(vn.Ar),this.Rr=new fn(vn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new vn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ne(new Ct([])),r=new vn(n,e),i=new vn(n,e+1),o=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),o.push(a.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ne(new Ct([])),r=new vn(n,e),i=new vn(n,e+1);let o=Qe();return this.Rr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new vn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ne.comparator(e.key,n.key)||et(e.br,n.br)}static Vr(e,n){return et(e.br,n.br)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new fn(vn.Ar)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new o8(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.vr=this.vr.add(new vn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],a=>{const l=this.Cr(a.br);o.push(l)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(et);return n.forEach(i=>{const o=new vn(i,0),a=new vn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,a],l=>{r=r.add(l.br)})}),fe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const a=new vn(new Ne(o),0);let l=new fn(et);return this.vr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.br)),!0)},a),fe.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return fe.forEach(n.mutations,i=>{const o=new vn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new vn(n,0),i=this.vr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.Nr=e,this.docs=function(){return new Ft(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Fo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fo();const a=n.path,l=new Ne(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||wz(_z(h),r)<=0||(i.has(h.key)||kg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue()}Lr(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W8(this)}getSize(e){return fe.resolve(this.size)}}class W8 extends L8{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.persistence=e,this.Br=new su(n=>Vx(n),Ux),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gx,this.targetCount=0,this.Qr=Sl.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),fe.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Un(n),fe.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Pg(0),this.Ur=!1,this.Ur=!0,this.Wr=new B8,this.referenceDelegate=e(this),this.Gr=new H8(this),this.indexManager=new R8,this.remoteDocumentCache=function(i){return new z8(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new C8(n),this.jr=new V8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new q8(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new G8(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return fe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class G8 extends Ez{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Zr=new Gx,this.Xr=null}static ei(e){return new Kx(e)}get ti(){if(this.Xr)return this.Xr;throw Ue()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ti,r=>{const i=Ne.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,Be.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return fe.or([()=>fe.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.ri=new su(r=>Tz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=j8(this,n)}static ei(e,n){return new vm(e,n)}Hr(){}Jr(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return fe.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,n).next(l=>{l||(r++,o.removeEntry(a,Be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),fe.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zp(e.data.value)),n}ir(e,n,r){return fe.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kq()?8:xz(zn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new K8;return this.ts(e,n,a).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,a,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(il()<=Ye.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),fe.resolve()):(il()<=Ye.DEBUG&&Se("QueryEngine","Query:",ol(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(il()<=Ye.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):fe.resolve())}Xi(e,n){if(HI(n))return fe.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mm(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Qe(...o);return this.Zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.rs(n,l);return this.ss(n,f,a,c.readTime)?this.Xi(e,mm(n,null,"F")):this.os(e,f,n,c)}))})))}es(e,n,r,i){return HI(n)||i.isEqual(Be.min())?fe.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const a=this.rs(n,o);return this.ss(n,a,r,i)?fe.resolve(null):(il()<=Ye.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(n)),this.os(e,a,n,vz(i,-1)).next(l=>l))})}rs(e,n){let r=new fn(nL(e));return n.forEach((i,o)=>{kg(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return il()<=Ye.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ol(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ua.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ft(et),this.cs=new su(o=>Vx(o),Ux),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F8(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Q8(t,e,n,r){return new X8(t,e,n,r)}async function SL(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=Qe();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ts:f,removedBatchIds:a,addedBatchIds:l}))})})}function J8(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,h){const p=f.batch,y=p.keys();let w=fe.resolve();return y.forEach(_=>{w=w.next(()=>h.getEntry(c,_)).next(E=>{const v=f.docVersions.get(_);dt(v!==null),E.version.compareTo(v)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Qe();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TL(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Z8(t,e){const n=He(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;l.push(n.Gr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,h.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Mn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(p,w),function(E,v,P){return E.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,w,h)&&l.push(n.Gr.updateTargetData(o,w))});let c=Fo(),f=Qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(eW(o,a,e.documentUpdates).next(h=>{c=h.Is,f=h.Es})),!r.isEqual(Be.min())){const h=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(h)}return fe.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.us=i,o))}function eW(t,e,n){let r=Qe(),i=Qe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Fo();return n.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{Is:a,Es:i}})}function tW(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nW(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):n.Gr.allocateTargetId(r).next(a=>(i=new Oa(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function q1(t,e,n){const r=He(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!rc(a))throw a;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function iC(t,e,n){const r=He(t);let i=Be.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,h){const p=He(c),y=p.cs.get(h);return y!==void 0?fe.resolve(p.us.get(y)):p.Gr.getTargetData(f,h)}(r,a,Qi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,n?i:Be.min(),n?o:Qe())).next(l=>(rW(r,qz(e),l),{documents:l,ds:o})))}function rW(t,e,n){let r=t.ls.get(e)||Be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class oC{constructor(){this.activeTargetIds=Yz()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iW{constructor(){this._o=new oC,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new oC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function g_(){return Op===null?Op=function(){return 268435456+Math.round(2147483648*Math.random())}():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class uW extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,a){const l=g_(),c=this.No(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,a),this.Bo(n,c,f,i).then(h=>(Se("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw wl("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",i),h})}ko(n,r,i,o,a,l){return this.Oo(n,r,i,o,a)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}No(n,r){const i=aW[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=g_();return new Promise((a,l)=>{const c=new $j;c.setWithCredentials(!0),c.listenOnce(Fj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jp.NO_ERROR:const h=c.getResponseJson();Se(Fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Jp.TIMEOUT:Se(Fn,`RPC '${e}' ${o} timed out`),l(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Jp.HTTP_ERROR:const p=c.getStatus();if(Se(Fn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const _=function(v){const P=v.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(w.status);l(new Te(_,w.message))}else l(new Te(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Se(Fn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Se(Fn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}qo(e,n,r){const i=g_(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Bj(),l=Uj(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Se(Fn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);let y=!1,w=!1;const _=new sW({Eo:v=>{w?Se(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(y||(Se(Fn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Se(Fn,`RPC '${e}' stream ${i} sending:`,v),p.send(v))},Ao:()=>p.close()}),E=(v,P,A)=>{v.listen(P,N=>{try{A(N)}catch(j){setTimeout(()=>{throw j},0)}})};return E(p,xf.EventType.OPEN,()=>{w||(Se(Fn,`RPC '${e}' stream ${i} transport opened.`),_.So())}),E(p,xf.EventType.CLOSE,()=>{w||(w=!0,Se(Fn,`RPC '${e}' stream ${i} transport closed`),_.Do())}),E(p,xf.EventType.ERROR,v=>{w||(w=!0,wl(Fn,`RPC '${e}' stream ${i} transport errored:`,v),_.Do(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),E(p,xf.EventType.MESSAGE,v=>{var P;if(!w){const A=v.data[0];dt(!!A);const N=A,j=(N==null?void 0:N.error)||((P=N[0])===null||P===void 0?void 0:P.error);if(j){Se(Fn,`RPC '${e}' stream ${i} received error:`,j);const I=j.status;let D=function(M){const F=Jt[M];if(F!==void 0)return hL(F)}(I),C=j.message;D===void 0&&(D=ce.INTERNAL,C="Unknown error status: "+I+" with message "+j.message),w=!0,_.Do(new Te(D,C)),p.close()}else Se(Fn,`RPC '${e}' stream ${i} received:`,A),_.vo(A)}}),E(l,Vj.STAT_EVENT,v=>{v.stat===N1.PROXY?Se(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===N1.NOPROXY&&Se(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.bo()},0),_}}function y_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new m8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i,o,a,l,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new AL(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?($o(n.toString()),$o("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lW extends PL{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=v8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Ji(a.readTime):Be.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=B1(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=L1(c)?{documents:b8(o,c)}:{query:E8(o,c).ct},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=gL(o,a.resumeToken);const f=F1(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Be.min())>0){l.readTime=ym(o,a.snapshotVersion.toTimestamp());const f=F1(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=S8(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=B1(this.serializer),n.removeTarget=e,this.c_(n)}}class cW extends PL{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=w8(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=B1(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_8(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Oo(e,V1(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ce.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ko(e,V1(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?($o(n),this.C_=!1):Se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(a=>{r.enqueueAndForget(async()=>{uu(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=He(c);f.k_.add(4),await Gd(f),f.K_.set("Unknown"),f.k_.delete(4),await Lg(f)}(this))})}),this.K_=new dW(r,i)}}async function Lg(t){if(uu(t))for(const e of t.q_)await e(!0)}async function Gd(t){for(const e of t.q_)await e(!1)}function IL(t,e){const n=He(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Zx(n)?Jx(n):oc(n).s_()&&Qx(n,e))}function Xx(t,e){const n=He(t),r=oc(n);n.B_.delete(e),r.s_()&&CL(n,e),n.B_.size===0&&(r.s_()?r.a_():uu(n)&&n.K_.set("Unknown"))}function Qx(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).V_(e)}function CL(t,e){t.U_.xe(e),oc(t).m_(e)}function Jx(t){t.U_=new f8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.K_.F_()}function Zx(t){return uu(t)&&!oc(t).i_()&&t.B_.size>0}function uu(t){return He(t).k_.size===0}function OL(t){t.U_=void 0}async function pW(t){t.K_.set("Online")}async function mW(t){t.B_.forEach((e,n)=>{Qx(t,e)})}async function gW(t,e){OL(t),Zx(t)?(t.K_.O_(e),Jx(t)):t.K_.set("Unknown")}async function yW(t,e,n){if(t.K_.set("Online"),e instanceof mL&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _m(t,r)}else if(e instanceof nm?t.U_.$e(e):e instanceof pL?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Be.min()))try{const r=await TL(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.U_.it(a);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.B_.get(f);h&&o.B_.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,f)=>{const h=o.B_.get(c);if(!h)return;o.B_.set(c,h.withResumeToken(Mn.EMPTY_BYTE_STRING,h.snapshotVersion)),CL(o,c);const p=new Oa(h.target,c,f,h.sequenceNumber);Qx(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await _m(t,r)}}async function _m(t,e,n){if(!rc(e))throw e;t.k_.add(1),await Gd(t),t.K_.set("Offline"),n||(n=()=>TL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Lg(t)})}function RL(t,e){return e().catch(n=>_m(t,n,e))}async function $g(t){const e=He(t),n=Wa(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;vW(e);)try{const i=await tW(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,_W(e,i)}catch(i){await _m(e,i)}kL(e)&&NL(e)}function vW(t){return uu(t)&&t.L_.length<10}function _W(t,e){t.L_.push(e);const n=Wa(t);n.s_()&&n.f_&&n.g_(e.mutations)}function kL(t){return uu(t)&&!Wa(t).i_()&&t.L_.length>0}function NL(t){Wa(t).start()}async function wW(t){Wa(t).w_()}async function bW(t){const e=Wa(t);for(const n of t.L_)e.g_(n.mutations)}async function EW(t,e,n){const r=t.L_.shift(),i=zx.from(r,e,n);await RL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $g(t)}async function xW(t,e){e&&Wa(t).f_&&await async function(r,i){if(function(a){return u8(a)&&a!==ce.ABORTED}(i.code)){const o=r.L_.shift();Wa(r).__(),await RL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $g(r)}}(t,e),kL(t)&&NL(t)}async function sC(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=uu(n);n.k_.add(3),await Gd(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Lg(n)}async function SW(t,e){const n=He(t);e?(n.k_.delete(2),await Lg(n)):e||(n.k_.add(2),await Gd(n),n.K_.set("Unknown"))}function oc(t){return t.W_||(t.W_=function(n,r,i){const o=He(n);return o.b_(),new lW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:pW.bind(null,t),mo:mW.bind(null,t),po:gW.bind(null,t),R_:yW.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Zx(t)?Jx(t):t.K_.set("Unknown")):(await t.W_.stop(),OL(t))})),t.W_}function Wa(t){return t.G_||(t.G_=function(n,r,i){const o=He(n);return o.b_(),new cW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:wW.bind(null,t),po:xW.bind(null,t),p_:bW.bind(null,t),y_:EW.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await $g(t)):(await t.G_.stop(),t.L_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new eS(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tS(t,e){if($o("AsyncQueue",`${e}: ${t}`),rc(t))return new Te(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Sf(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.z_=new Ft(Ne.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ue():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tl{constructor(e,n,r,i,o,a,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Tl(e,n,ml.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class AW{constructor(){this.queries=lC(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=He(n),o=i.queries;i.queries=lC(),o.forEach((a,l)=>{for(const c of l.J_)c.onError(r)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function lC(){return new su(t=>tL(t),Rg)}async function nS(t,e){const n=He(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new TW,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=tS(a,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&iS(n)}async function rS(t,e){const n=He(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.J_.indexOf(e);a>=0&&(o.J_.splice(a,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PW(t,e){const n=He(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.J_)l.ta(i)&&(r=!0);a.H_=i}}r&&iS(n)}function IW(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function iS(t){t.X_.forEach(e=>{e.next()})}var z1,cC;(cC=z1||(z1={})).na="default",cC.Cache="cache";class oS{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==z1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.key=e}}class DL{constructor(e){this.key=e}}class CW{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Qe(),this.mutatedKeys=Qe(),this.Va=nL(e),this.ma=new ml(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new uC,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),w=kg(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let v=!1;y&&w?y.data.isEqual(w.data)?_!==E&&(r.track({type:3,doc:w}),v=!0):this.ya(y,w)||(r.track({type:2,doc:w}),v=!0,(c&&this.Va(w,c)>0||f&&this.Va(w,f)<0)&&(l=!0)):!y&&w?(r.track({type:0,doc:w}),v=!0):y&&!w&&(r.track({type:1,doc:y}),v=!0,(c||f)&&(l=!0)),v&&(w?(a=a.add(w),o=E?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ma:a,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((h,p)=>function(w,_){const E=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return E(w)-E(_)}(h.type,p.type)||this.Va(h.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],c=this.Ra.size===0&&this.current&&!i?1:0,f=c!==this.Aa;return this.Aa=c,a.length!==0||f?{snapshot:new Tl(this.query,e.ma,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uC,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Qe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new DL(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new ML(r))}),n}va(e){this.da=e.ds,this.Ra=Qe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Tl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class OW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RW{constructor(e){this.key=e,this.Fa=!1}}class kW{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new su(l=>tL(l),Rg),this.Oa=new Map,this.Na=new Set,this.La=new Ft(Ne.comparator),this.Ba=new Map,this.ka=new Gx,this.qa={},this.Qa=new Map,this.Ka=Sl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function NW(t,e,n=!0){const r=UL(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await jL(r,e,n,!0),i}async function MW(t,e){const n=UL(t);await jL(n,e,!0,!1)}async function jL(t,e,n,r){const i=await nW(t.localStore,Qi(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await DW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&IL(t.remoteStore,i),l}async function DW(t,e,n,r,i){t.Ua=(p,y,w)=>async function(E,v,P,A){let N=v.view.ga(P);N.ss&&(N=await iC(E.localStore,v.query,!1).then(({documents:C})=>v.view.ga(C,N)));const j=A&&A.targetChanges.get(v.targetId),I=A&&A.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(N,E.isPrimaryClient,j,I);return dC(E,v.targetId,D.ba),D.snapshot}(t,p,y,w);const o=await iC(t.localStore,e,!0),a=new CW(e,o.ds),l=a.ga(o.documents),c=Hd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,c);dC(t,n,f.ba);const h=new OW(e,n,a);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),f.snapshot}async function jW(t,e,n){const r=He(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(a=>!Rg(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xx(r.remoteStore,i.targetId),W1(r,i.targetId)}).catch(nc)):(W1(r,i.targetId),await q1(r.localStore,i.targetId,!0))}async function LW(t,e){const n=He(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xx(n.remoteStore,r.targetId))}async function $W(t,e,n){const r=WW(t);try{const i=await function(a,l){const c=He(a),f=cn.now(),h=l.reduce((w,_)=>w.add(_.key),Qe());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=Fo(),E=Qe();return c.hs.getEntries(w,h).next(v=>{_=v,_.forEach((P,A)=>{A.isValidDocument()||(E=E.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,_)).next(v=>{p=v;const P=[];for(const A of l){const N=r8(A,p.get(A.key).overlayedDocument);N!=null&&P.push(new Qa(A.key,N,Gj(N.value.mapValue),Ai.exists(!0)))}return c.mutationQueue.addMutationBatch(w,f,P,l)}).next(v=>{y=v;const P=v.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(w,v.batchId,P)})}).then(()=>({batchId:y.batchId,changes:iL(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let f=a.qa[a.currentUser.toKey()];f||(f=new Ft(et)),f=f.insert(l,c),a.qa[a.currentUser.toKey()]=f}(r,i.batchId,n),await Kd(r,i.changes),await $g(r.remoteStore)}catch(i){const o=tS(i,"Failed to persist write");n.reject(o)}}async function LL(t,e){const n=He(t);try{const r=await Z8(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Ba.get(o);a&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?dt(a.Fa):i.removedDocuments.size>0&&(dt(a.Fa),a.Fa=!1))}),await Kd(n,r,e)}catch(r){await nc(r)}}function fC(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,a)=>{const l=a.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=He(a);c.onlineState=l;let f=!1;c.queries.forEach((h,p)=>{for(const y of p.J_)y.ea(l)&&(f=!0)}),f&&iS(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FW(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let a=new Ft(Ne.comparator);a=a.insert(o,Bn.newNoDocument(o,Be.min()));const l=Qe().add(o),c=new Dg(Be.min(),new Map,new Ft(et),a,l);await LL(r,c),r.La=r.La.remove(o),r.Ba.delete(e),aS(r)}else await q1(r.localStore,e,!1).then(()=>W1(r,e,n)).catch(nc)}async function VW(t,e){const n=He(t),r=e.batch.batchId;try{const i=await J8(n.localStore,e);FL(n,r,null),$L(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,i)}catch(i){await nc(i)}}async function UW(t,e,n){const r=He(t);try{const i=await function(a,l){const c=He(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(dt(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(r.localStore,e);FL(r,e,n),$L(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,i)}catch(i){await nc(i)}}function $L(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function FL(t,e,n){const r=He(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function W1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||VL(t,r)})}function VL(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Xx(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),aS(t))}function dC(t,e,n){for(const r of n)r instanceof ML?(t.ka.addReference(r.key,e),BW(t,r)):r instanceof DL?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||VL(t,r.key)):Ue()}function BW(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.Na.add(r),aS(t))}function aS(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ne(Ct.fromString(e)),r=t.Ka.next();t.Ba.set(r,new RW(n)),t.La=t.La.insert(n,r),IL(t.remoteStore,new Oa(Qi(Og(n.path)),r,"TargetPurposeLimboResolution",Pg.oe))}}async function Kd(t,e,n){const r=He(t),i=[],o=[],a=[];r.xa.isEmpty()||(r.xa.forEach((l,c)=>{a.push(r.Ua(c,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=Yx.zi(c.targetId,f);o.push(p)}}))}),await Promise.all(a),r.Ma.R_(i),await async function(c,f){const h=He(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>fe.forEach(f,y=>fe.forEach(y.Wi,w=>h.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>fe.forEach(y.Gi,w=>h.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!rc(p))throw p;Se("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const w=h.us.get(y),_=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(_);h.us=h.us.insert(y,E)}}}(r.localStore,o))}async function qW(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await SL(n.localStore,e);n.currentUser=e,function(o,a){o.Qa.forEach(l=>{l.forEach(c=>{c.reject(new Te(ce.CANCELLED,a))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.Ts)}}function zW(t,e){const n=He(t),r=n.Ba.get(e);if(r&&r.Fa)return Qe().add(r.key);{let i=Qe();const o=n.Oa.get(e);if(!o)return i;for(const a of o){const l=n.xa.get(a);i=i.unionWith(l.view.fa)}return i}}function UL(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FW.bind(null,e),e.Ma.R_=PW.bind(null,e.eventManager),e.Ma.Wa=IW.bind(null,e.eventManager),e}function WW(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UW.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Q8(this.persistence,new Y8,e.initialUser,this.serializer)}ja(e){return new xL(Kx.ei,this.serializer)}za(e){return new iW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class HW extends wm{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){dt(this.persistence.referenceDelegate instanceof vm);const r=this.persistence.referenceDelegate.garbageCollector;return new M8(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new xL(r=>vm.ei(r,n),this.serializer)}}class H1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qW.bind(null,this.syncEngine),await SW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AW}()}createDatastore(e){const n=jg(e.databaseInfo.databaseId),r=function(o){return new uW(o)}(e.databaseInfo);return function(o,a,l,c){return new fW(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new hW(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>fC(this.syncEngine,n,0),function(){return aC.p()?new aC:new oW}())}createSyncEngine(e,n){return function(i,o,a,l,c,f,h){const p=new kW(i,o,a,l,c,f);return h&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=He(i);Se("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Gd(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}H1.provider={build:()=>new H1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):$o("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=zj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v_(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KW(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sC(e.remoteStore,i)),t._onlineComponents=e}async function KW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await v_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await v_(t,new wm)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await v_(t,new HW(void 0));return t._offlineComponents}async function BL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await hC(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await hC(t,new H1))),t._onlineComponents}function YW(t){return BL(t).then(e=>e.syncEngine)}async function bm(t){const e=await BL(t),n=e.eventManager;return n.onListen=NW.bind(null,e.syncEngine),n.onUnlisten=jW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LW.bind(null,e.syncEngine),n}function XW(t,e,n={}){const r=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new sS({next:y=>{h.eu(),a.enqueueAndForget(()=>rS(o,p));const w=y.docs.has(l);!w&&y.fromCache?f.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new oS(Og(l.path),h,{includeMetadataChanges:!0,ua:!0});return nS(o,p)}(await bm(t),t.asyncQueue,e,n,r)),r.promise}function QW(t,e,n={}){const r=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,f){const h=new sS({next:y=>{h.eu(),a.enqueueAndForget(()=>rS(o,p)),y.fromCache&&c.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new oS(l,h,{includeMetadataChanges:!0,ua:!0});return nS(o,p)}(await bm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e,n){if(!n)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JW(t,e,n,r){if(e===!0&&r===!0)throw new Te(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mC(t){if(!Ne.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gC(t){if(Ne.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pC.get(n);r&&(Se("ComponentProvider","Removing Datastore"),pC.delete(n),r.terminate())}(this),Promise.resolve()}}function ZW(t,e,n,r={}){var i;const o=(t=Gr(t,Vg))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Un.MOCK_USER;else{l=XD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Un(f)}t._authCredentials=new cz(new qj(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ma extends Ho{constructor(e,n,r){super(e,n,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ne(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function _t(t,e,...n){if(t=St(t),zL("collection","path",e),t instanceof Vg){const r=Ct.fromString(e,...n);return gC(r),new Ma(t,null,r)}{if(!(t instanceof Zn||t instanceof Ma))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return gC(r),new Ma(t.firestore,null,r)}}function Da(t,e,...n){if(t=St(t),arguments.length===1&&(e=zj.newId()),zL("doc","path",e),t instanceof Vg){const r=Ct.fromString(e,...n);return mC(r),new Zn(t,null,new Ne(r))}{if(!(t instanceof Zn||t instanceof Ma))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return mC(r),new Zn(t.firestore,t instanceof Ma?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new AL(this,"async_queue_retry"),this.fu=()=>{const r=y_();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=y_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=y_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ro;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!rc(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw $o("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=eS.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function _C(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ha extends Vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vC(e),this._firestoreClient=void 0,await e}}}function ki(t,e){const n=typeof t=="object"?t:Tx(),r=typeof t=="string"?t:"(default)",i=xg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=GD("firestore");o&&ZW(i,...o)}return i}function Ug(t){if(t._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e7(t),t._firestoreClient}function e7(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,f,h){return new Iz(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qL(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new GW(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(Mn.fromBase64String(e))}catch(n){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Al(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=/^__.*__$/;class n7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wd(e,this.data,n,this.fieldTransforms)}}class WL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class cS{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Em(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(HL(this.Mu)&&t7.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class r7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jg(e)}$u(e,n,r,i=!1){return new cS({Mu:e,methodName:n,Ku:r,path:Rn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fS(t){const e=t._freezeSettings(),n=jg(t._databaseId);return new r7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i7(t,e,n,r,i,o={}){const a=t.$u(o.merge||o.mergeFields?2:0,e,n,i);hS("Data must be an object, but it was:",a,r);const l=GL(r,a);let c,f;if(o.merge)c=new Cr(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const y=G1(e,p,n);if(!a.contains(y))throw new Te(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);YL(h,y)||h.push(y)}c=new Cr(h),f=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=a.fieldTransforms;return new n7(new fr(l),c,f)}class zg extends qg{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zg}}class dS extends qg{_toFieldTransform(e){return new Zz(e.path,new Qf)}isEqual(e){return e instanceof dS}}function o7(t,e,n,r){const i=t.$u(1,e,n);hS("Data must be an object, but it was:",i,r);const o=[],a=fr.empty();Xa(r,(c,f)=>{const h=pS(e,c,n);f=St(f);const p=i.Bu(h);if(f instanceof zg)o.push(h);else{const y=Yd(f,p);y!=null&&(o.push(h),a.set(h,y))}});const l=new Cr(o);return new WL(a,l,i.fieldTransforms)}function a7(t,e,n,r,i,o){const a=t.$u(1,e,n),l=[G1(e,r,n)],c=[i];if(o.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(G1(e,o[y])),c.push(o[y+1]);const f=[],h=fr.empty();for(let y=l.length-1;y>=0;--y)if(!YL(f,l[y])){const w=l[y];let _=c[y];_=St(_);const E=a.Bu(w);if(_ instanceof zg)f.push(w);else{const v=Yd(_,E);v!=null&&(f.push(w),h.set(w,v))}}const p=new Cr(f);return new WL(h,p,a.fieldTransforms)}function s7(t,e,n,r=!1){return Yd(n,t.$u(r?4:3,e))}function Yd(t,e){if(KL(t=St(t)))return hS("Unsupported field value:",e,t),GL(t,e);if(t instanceof qg)return function(r,i){if(!HL(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let c=Yd(l,i.ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=cn.fromDate(r);return{timestampValue:ym(i.serializer,o)}}if(r instanceof cn){const o=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,o)}}if(r instanceof uS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:gL(i.serializer,r._byteString)};if(r instanceof Zn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lS)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.qu("VectorValues must only contain numeric values.");return Bx(l.serializer,c)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Fg(r)}`)}(t,e)}function GL(t,e){const n={};return Wj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(r,i)=>{const o=Yd(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function KL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof uS||t instanceof Al||t instanceof Zn||t instanceof qg||t instanceof lS)}function hS(t,e,n){if(!KL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function G1(t,e,n){if((e=St(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return pS(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const u7=new RegExp("[~\\*/\\[\\]]");function pS(t,e,n){if(e.search(u7)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Te(ce.INVALID_ARGUMENT,l+t+c)}function YL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l7 extends XL{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?pS(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mS{}class gS extends mS{}function Cn(t,e,...n){let r=[];e instanceof mS&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof yS).length,l=o.filter(c=>c instanceof Hg).length;if(a>1||a>0&&l>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hg extends gS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hg(e,n,r)}_apply(e){const n=this._parse(e);return JL(e._query,n),new Ho(e.firestore,e.converter,$1(e._query,n))}_parse(e){const n=fS(e.firestore);return function(o,a,l,c,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){EC(p,h);const w=[];for(const _ of p)w.push(bC(c,o,_));y={arrayValue:{values:w}}}else y=bC(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||EC(p,h),y=s7(l,a,p,h==="in"||h==="not-in");return en.create(f,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function On(t,e,n){const r=e,i=Wg("where",t);return Hg._create(i,r,n)}class yS extends mS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const l=o.getFlattenedFilters();for(const c of l)JL(a,c),a=$1(a,c)}(e._query,n),new Ho(e.firestore,e.converter,$1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vS extends gS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vS(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xf(o,a)}(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ic(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wC(t,e="asc"){const n=e,r=Wg("orderBy",t);return vS._create(r,n)}class _S extends gS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _S(e,n,r)}_apply(e){return new Ho(e.firestore,e.converter,mm(e._query,this._limit,this._limitType))}}function c7(t){return _S._create("limit",t,"F")}function bC(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eL(e)&&n.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Ne.isDocumentKey(r))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VI(t,new Ne(r))}if(n instanceof Zn)return VI(t,n._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(n)}.`)}function EC(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JL(t,e){const n=function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f7{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Kt(a.doubleValue));return new lS(o)}convertGeoPoint(e){return new uS(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);dt(EL(r));const i=new Kf(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return i.isEqual(n)||$o(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZL extends XL{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rm extends ZL{data(e={}){return super.data(e)}}class e${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Af(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rm(this._firestore,this._userDataWriter,r.key,r,new Af(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new rm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Af(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new rm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Af(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:h7(l.type),doc:c,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){t=Gr(t,Zn);const e=Gr(t.firestore,Ha);return XW(Ug(e),t._key).then(n=>t$(e,t,n))}class bS extends f7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function $t(t){t=Gr(t,Ho);const e=Gr(t.firestore,Ha),n=Ug(e),r=new bS(e);return QL(t._query),QW(n,t._query).then(i=>new e$(e,r,t,i))}function Zs(t,e,n,...r){t=Gr(t,Zn);const i=Gr(t.firestore,Ha),o=fS(i);let a;return a=typeof(e=St(e))=="string"||e instanceof Bg?a7(o,"updateDoc",t._key,e,n,r):o7(o,"updateDoc",t._key,e),ES(i,[a.toMutation(t._key,Ai.exists(!0))])}function p7(t){return ES(Gr(t.firestore,Ha),[new qx(t._key,Ai.none())])}function Gg(t,e){const n=Gr(t.firestore,Ha),r=Da(t),i=d7(t.converter,e);return ES(n,[i7(fS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function m7(t,...e){var n,r,i;t=St(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_C(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_C(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof Zn)f=Gr(t.firestore,Ha),h=Og(t._key.path),c={next:p=>{e[a]&&e[a](t$(f,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Gr(t,Ho);f=Gr(p.firestore,Ha),h=p._query;const y=new bS(f);c={next:w=>{e[a]&&e[a](new e$(f,y,p,w))},error:e[a+1],complete:e[a+2]},QL(t._query)}return function(y,w,_,E){const v=new sS(E),P=new oS(w,v,_);return y.asyncQueue.enqueueAndForget(async()=>nS(await bm(y),P)),()=>{v.eu(),y.asyncQueue.enqueueAndForget(async()=>rS(await bm(y),P))}}(Ug(f),h,l,c)}function ES(t,e){return function(r,i){const o=new Ro;return r.asyncQueue.enqueueAndForget(async()=>$W(await YW(r),i,o)),o.promise}(Ug(t),e)}function t$(t,e,n){const r=n.docs.get(e._key),i=new bS(t);return new ZL(t,i,e._key,r,new Af(n.hasPendingWrites,n.fromCache),e.converter)}function xS(){return new dS("serverTimestamp")}(function(e,n=!0){(function(i){tc=i})(ou),Ys(new Va("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Ha(new fz(r.getProvider("auth-internal")),new mz(r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(f.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Yi(MI,"4.7.5",e),Yi(MI,"4.7.5","esm2017")})();const g7={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"};au(g7);const y7=()=>{const t=Ka(),[e,n]=B.useState(null),[r,i]=B.useState(null),[o,a]=B.useState(!1),[l,c]=B.useState([]),[f,h]=B.useState([]),[p,y]=B.useState(null);B.useState(!1);const[w,_]=B.useState(0),E=Ri(),v=ki();B.useEffect(()=>{const V=E.onAuthStateChanged(async W=>{if(n(W),W){const Y=W.email,X=await P(Y);i(X),t("/dashboard",{state:{userData:X}})}});return(async()=>{try{if("NDEFReader"in window){const W=await window.NDEFReader;W&&(W.abort(),console.log("Existing NFC reader cleaned up"))}}catch(W){console.error("Error cleaning up NFC reader:",W)}})(),()=>{V(),p&&p.abort()}},[]),B.useEffect(()=>{if(e){const V=_t(v,"Messages"),O=m7(Cn(V,On("sendTo","==",e.email),On("read","==",!1)),W=>{_(W.docs.length)},W=>{console.error("Error listening to messages:",W)});return()=>O()}},[e,v]),B.useEffect(()=>{(async()=>{try{const W=(await $t(_t(v,"RegisteredTeacher"))).docs.map(re=>re.data().name).slice(0,5);c(W);const X=(await $t(_t(v,"RegisteredStudent"))).docs.map(re=>re.data().name).slice(0,5);h(X)}catch(O){console.error("Error fetching registered users:",O)}})()},[v]);const P=async V=>{try{const O=Cn(_t(v,"RegisteredAdmin"),On("email","==",V)),W=await $t(O);if(!W.empty)return W.docs[0].data();const Y=Cn(_t(v,"RegisteredTeacher"),On("email","==",V)),X=await $t(Y);if(!X.empty)return X.docs[0].data();const re=Cn(_t(v,"RegisteredStudent"),On("email","==",V)),Q=await $t(re);return Q.empty?null:Q.docs[0].data()}catch(O){return console.error("Error fetching user data:",O),null}},A=()=>{r&&(t("/dashboard/create-event",{state:{userData:r}}),a(!1))},N=()=>{a(!1),t("/dashboard",{state:{userData:r}})},j=()=>{a(!1),t("/dashboard/file-manager",{state:{userData:r}})},I=()=>{a(!o)},D=async()=>{try{p&&p.abort(),await Wf(E),console.log("User signed out successfully"),t("/login")}catch(V){console.error("Error signing out:",V)}},C=()=>x.jsx(gi,{to:"/dashboard/request-message",className:_e.navLink,onClick:()=>a(!1),children:x.jsxs("div",{className:_e.navLinkWithBadge,children:[x.jsx(Ex,{size:20}),x.jsx("span",{children:"Mailbox"}),w>0&&x.jsx("span",{className:_e.messageBadge,children:w})]})}),R=["Scanner-001","Scanner-002","Scanner-003"],M=(r==null?void 0:r.position)==="Student",F=(r==null?void 0:r.position)==="Teacher",L=(r==null?void 0:r.position)==="Admin";return x.jsxs(x.Fragment,{children:[x.jsx("button",{className:_e.hamburgerBtn,onClick:I,children:o?x.jsx($d,{size:24}):x.jsx(fq,{size:24})}),x.jsxs("div",{className:`${_e.sidebar} ${o?_e.sidebarOpen:""}`,children:[x.jsx("div",{className:_e.profileSection,children:e&&r&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:_e.avatar,children:x.jsx("img",{src:e.photoURL||r.selfieUrl,alt:"Profile"})}),x.jsxs("div",{className:_e.userInfo,children:[x.jsx("h3",{children:r.name}),x.jsx("p",{children:e.email}),x.jsx("br",{}),x.jsx("span",{children:r.position})]})]})}),x.jsx("nav",{className:_e.navigation,children:x.jsxs("ul",{className:_e.navList,children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:N,children:[x.jsx(lq,{size:20}),x.jsx("span",{children:"Dashboard"})]})}),M?x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(sf,{size:20}),x.jsx("span",{children:"Event Attendance"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(sf,{size:20}),x.jsx("span",{children:"Room Attendance"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(sf,{size:20}),x.jsx("span",{children:"Membership Attendance"})]})}),(M||F||L)&&x.jsx(C,{})]}):F?x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{onClick:A,className:_e.navLink,style:{cursor:"pointer"},children:[x.jsx(x1,{size:20}),x.jsx("span",{children:"Create Event"})]})}),x.jsxs(gi,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(eI,{size:20}),x.jsx("span",{children:"Event List"})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(sf,{size:20}),x.jsx("span",{children:"Archive"})]})}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(gi,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Sa,{size:20}),x.jsx("span",{children:"Registered Students"})]}),x.jsx("ul",{className:_e.dropdown,children:f.map((V,O)=>x.jsx("li",{className:_e.dropdownItem,children:V},O))})]}),(M||F||L)&&x.jsx(C,{}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:j,children:[x.jsx(nI,{size:20}),x.jsx("span",{children:"File Manager"})]})})]}):x.jsxs(x.Fragment,{children:[x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{onClick:A,className:_e.navLink,style:{cursor:"pointer"},children:[x.jsx(x1,{size:20}),x.jsx("span",{children:"Create Event"})]})}),x.jsxs(gi,{to:"/dashboard/event-list",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(eI,{size:20}),x.jsx("span",{children:"Event List"})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(sf,{size:20}),x.jsx("span",{children:"Archive"})]})}),(M||F||L)&&x.jsx(C,{}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(gi,{to:"/dashboard/registered-students",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Sa,{size:20}),x.jsx("span",{children:"Registered Students"})]}),x.jsx("ul",{className:_e.dropdown,children:f.map((V,O)=>x.jsx("li",{className:_e.dropdownItem,children:V},O))})]}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs(gi,{to:"/dashboard/registered-teachers",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Sa,{size:20}),x.jsx("span",{children:"Registered Teacher"})]}),x.jsx("ul",{className:_e.dropdown,children:l.map((V,O)=>x.jsx("li",{className:_e.dropdownItem,children:V},O))})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs(gi,{to:"/dashboard/teacher-registration",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Sa,{size:20}),x.jsx("span",{children:"Teacher Registration"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs(gi,{to:"/dashboard/student-registration",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(Sa,{size:20}),x.jsx("span",{children:"Student Registration"})]})}),x.jsx("li",{className:_e.navItem,children:x.jsxs(gi,{to:"/dashboard/nfc-reader",className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(tI,{size:20}),x.jsx("span",{children:"NFC Reader"})]})}),x.jsxs("li",{className:_e.navItem,children:[x.jsxs("div",{className:_e.navLink,onClick:()=>a(!1),children:[x.jsx(tI,{size:20}),x.jsx("span",{children:"ESP32 NFC Scanners"})]}),x.jsx("ul",{className:_e.dropdown,children:R.map((V,O)=>x.jsx("li",{className:_e.dropdownItem,children:V},O))})]}),x.jsx("li",{className:_e.navItem,children:x.jsxs("div",{className:_e.navLink,onClick:j,children:[x.jsx(nI,{size:20}),x.jsx("span",{children:"File Manager"})]})})]})]})}),x.jsxs("button",{className:_e.logoutBtn,onClick:D,children:[x.jsx(cq,{size:20}),x.jsx("span",{children:"Logout"})]})]}),o&&x.jsx("div",{className:_e.overlay,onClick:I})]})};function n$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n$(t))&&(r&&(r+=" "),r+=e);return r}var __,xC;function hr(){if(xC)return __;xC=1;var t=Array.isArray;return __=t,__}var w_,SC;function r$(){if(SC)return w_;SC=1;var t=typeof bp=="object"&&bp&&bp.Object===Object&&bp;return w_=t,w_}var b_,TC;function io(){if(TC)return b_;TC=1;var t=r$(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return b_=n,b_}var E_,AC;function Xd(){if(AC)return E_;AC=1;var t=io(),e=t.Symbol;return E_=e,E_}var x_,PC;function v7(){if(PC)return x_;PC=1;var t=Xd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var l=n.call(a,i),c=a[i];try{a[i]=void 0;var f=!0}catch{}var h=r.call(a);return f&&(l?a[i]=c:delete a[i]),h}return x_=o,x_}var S_,IC;function _7(){if(IC)return S_;IC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return S_=n,S_}var T_,CC;function Go(){if(CC)return T_;CC=1;var t=Xd(),e=v7(),n=_7(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return T_=a,T_}var A_,OC;function Ko(){if(OC)return A_;OC=1;function t(e){return e!=null&&typeof e=="object"}return A_=t,A_}var P_,RC;function ac(){if(RC)return P_;RC=1;var t=Go(),e=Ko(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return P_=r,P_}var I_,kC;function SS(){if(kC)return I_;kC=1;var t=hr(),e=ac(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return I_=i,I_}var C_,NC;function Ja(){if(NC)return C_;NC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return C_=t,C_}var O_,MC;function TS(){if(MC)return O_;MC=1;var t=Go(),e=Ja(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return O_=a,O_}var R_,DC;function w7(){if(DC)return R_;DC=1;var t=io(),e=t["__core-js_shared__"];return R_=e,R_}var k_,jC;function b7(){if(jC)return k_;jC=1;var t=w7(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return k_=n,k_}var N_,LC;function i$(){if(LC)return N_;LC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return N_=n,N_}var M_,$C;function E7(){if($C)return M_;$C=1;var t=TS(),e=b7(),n=Ja(),r=i$(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var w=t(y)?h:o;return w.test(r(y))}return M_=p,M_}var D_,FC;function x7(){if(FC)return D_;FC=1;function t(e,n){return e==null?void 0:e[n]}return D_=t,D_}var j_,VC;function lu(){if(VC)return j_;VC=1;var t=E7(),e=x7();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return j_=n,j_}var L_,UC;function Kg(){if(UC)return L_;UC=1;var t=lu(),e=t(Object,"create");return L_=e,L_}var $_,BC;function S7(){if(BC)return $_;BC=1;var t=Kg();function e(){this.__data__=t?t(null):{},this.size=0}return $_=e,$_}var F_,qC;function T7(){if(qC)return F_;qC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return F_=t,F_}var V_,zC;function A7(){if(zC)return V_;zC=1;var t=Kg(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var l=a[o];return l===e?void 0:l}return r.call(a,o)?a[o]:void 0}return V_=i,V_}var U_,WC;function P7(){if(WC)return U_;WC=1;var t=Kg(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return U_=r,U_}var B_,HC;function I7(){if(HC)return B_;HC=1;var t=Kg(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return B_=n,B_}var q_,GC;function C7(){if(GC)return q_;GC=1;var t=S7(),e=T7(),n=A7(),r=P7(),i=I7();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,q_=o,q_}var z_,KC;function O7(){if(KC)return z_;KC=1;function t(){this.__data__=[],this.size=0}return z_=t,z_}var W_,YC;function AS(){if(YC)return W_;YC=1;function t(e,n){return e===n||e!==e&&n!==n}return W_=t,W_}var H_,XC;function Yg(){if(XC)return H_;XC=1;var t=AS();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return H_=e,H_}var G_,QC;function R7(){if(QC)return G_;QC=1;var t=Yg(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var l=o.length-1;return a==l?o.pop():n.call(o,a,1),--this.size,!0}return G_=r,G_}var K_,JC;function k7(){if(JC)return K_;JC=1;var t=Yg();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return K_=e,K_}var Y_,ZC;function N7(){if(ZC)return Y_;ZC=1;var t=Yg();function e(n){return t(this.__data__,n)>-1}return Y_=e,Y_}var X_,eO;function M7(){if(eO)return X_;eO=1;var t=Yg();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return X_=e,X_}var Q_,tO;function Xg(){if(tO)return Q_;tO=1;var t=O7(),e=R7(),n=k7(),r=N7(),i=M7();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Q_=o,Q_}var J_,nO;function PS(){if(nO)return J_;nO=1;var t=lu(),e=io(),n=t(e,"Map");return J_=n,J_}var Z_,rO;function D7(){if(rO)return Z_;rO=1;var t=C7(),e=Xg(),n=PS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Z_=r,Z_}var e0,iO;function j7(){if(iO)return e0;iO=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return e0=t,e0}var t0,oO;function Qg(){if(oO)return t0;oO=1;var t=j7();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return t0=e,t0}var n0,aO;function L7(){if(aO)return n0;aO=1;var t=Qg();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return n0=e,n0}var r0,sO;function $7(){if(sO)return r0;sO=1;var t=Qg();function e(n){return t(this,n).get(n)}return r0=e,r0}var i0,uO;function F7(){if(uO)return i0;uO=1;var t=Qg();function e(n){return t(this,n).has(n)}return i0=e,i0}var o0,lO;function V7(){if(lO)return o0;lO=1;var t=Qg();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return o0=e,o0}var a0,cO;function IS(){if(cO)return a0;cO=1;var t=D7(),e=L7(),n=$7(),r=F7(),i=V7();function o(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var f=a[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,a0=o,a0}var s0,fO;function o$(){if(fO)return s0;fO=1;var t=IS(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,a);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,s0=n,s0}var u0,dO;function U7(){if(dO)return u0;dO=1;var t=o$(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return u0=n,u0}var l0,hO;function B7(){if(hO)return l0;hO=1;var t=U7(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,l,c,f){o.push(c?f.replace(n,"$1"):l||a)}),o});return l0=r,l0}var c0,pO;function CS(){if(pO)return c0;pO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return c0=t,c0}var f0,mO;function q7(){if(mO)return f0;mO=1;var t=Xd(),e=CS(),n=hr(),r=ac(),i=1/0,o=t?t.prototype:void 0,a=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return a?a.call(c):"";var f=c+"";return f=="0"&&1/c==-i?"-0":f}return f0=l,f0}var d0,gO;function a$(){if(gO)return d0;gO=1;var t=q7();function e(n){return n==null?"":t(n)}return d0=e,d0}var h0,yO;function s$(){if(yO)return h0;yO=1;var t=hr(),e=SS(),n=B7(),r=a$();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return h0=i,h0}var p0,vO;function Jg(){if(vO)return p0;vO=1;var t=ac(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return p0=n,p0}var m0,_O;function OS(){if(_O)return m0;_O=1;var t=s$(),e=Jg();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return m0=n,m0}var g0,wO;function u$(){if(wO)return g0;wO=1;var t=OS();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return g0=e,g0}var z7=u$();const Kr=Tt(z7);var y0,bO;function W7(){if(bO)return y0;bO=1;function t(e){return e==null}return y0=t,y0}var H7=W7();const Je=Tt(H7);var v0,EO;function G7(){if(EO)return v0;EO=1;var t=Go(),e=hr(),n=Ko(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return v0=i,v0}var K7=G7();const Qd=Tt(K7);var Y7=TS();const Xe=Tt(Y7);var X7=Ja();const sc=Tt(X7);var _0={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function Q7(){if(xO)return ct;xO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function E(v){if(typeof v=="object"&&v!==null){var P=v.$$typeof;switch(P){case t:switch(v=v.type,v){case n:case i:case r:case f:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case a:case c:case y:case p:case o:return v;default:return P}}case e:return P}}}return ct.ContextConsumer=a,ct.ContextProvider=o,ct.Element=t,ct.ForwardRef=c,ct.Fragment=n,ct.Lazy=y,ct.Memo=p,ct.Portal=e,ct.Profiler=i,ct.StrictMode=r,ct.Suspense=f,ct.SuspenseList=h,ct.isAsyncMode=function(){return!1},ct.isConcurrentMode=function(){return!1},ct.isContextConsumer=function(v){return E(v)===a},ct.isContextProvider=function(v){return E(v)===o},ct.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ct.isForwardRef=function(v){return E(v)===c},ct.isFragment=function(v){return E(v)===n},ct.isLazy=function(v){return E(v)===y},ct.isMemo=function(v){return E(v)===p},ct.isPortal=function(v){return E(v)===e},ct.isProfiler=function(v){return E(v)===i},ct.isStrictMode=function(v){return E(v)===r},ct.isSuspense=function(v){return E(v)===f},ct.isSuspenseList=function(v){return E(v)===h},ct.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===f||v===h||v===w||typeof v=="object"&&v!==null&&(v.$$typeof===y||v.$$typeof===p||v.$$typeof===o||v.$$typeof===a||v.$$typeof===c||v.$$typeof===_||v.getModuleId!==void 0)},ct.typeOf=E,ct}var SO;function J7(){return SO||(SO=1,_0.exports=Q7()),_0.exports}var Z7=J7(),w0,TO;function l$(){if(TO)return w0;TO=1;var t=Go(),e=Ko(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return w0=r,w0}var b0,AO;function eH(){if(AO)return b0;AO=1;var t=l$();function e(n){return t(n)&&n!=+n}return b0=e,b0}var tH=eH();const Jd=Tt(tH);var nH=l$();const rH=Tt(nH);var xi=function(e){return e===0?0:e>0?1:-1},Vs=function(e){return Qd(e)&&e.indexOf("%")===e.length-1},xe=function(e){return rH(e)&&!Jd(e)},ln=function(e){return xe(e)||Qd(e)},iH=0,Zd=function(e){var n=++iH;return"".concat(e||"").concat(n)},eu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!Qd(e))return r;var o;if(Vs(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Jd(o)&&(o=r),i&&o>n&&(o=n),o},ul=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wi=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function xm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Kr(r,e))===n})}function gl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function K1(t){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K1(t)}var aH=["viewBox","children"],sH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PO=["points","pathLength"],E0={svg:aH,polygon:PO,polyline:PO},RS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!sc(r))return null;var i={};return Object.keys(r).forEach(function(o){RS.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},uH=function(e,n,r){return function(i){return e(n,r,i),null}},Tm=function(e,n,r){if(!sc(e)||K1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];RS.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=uH(a,n,r))}),i},lH=["children"],cH=["children"];function IO(t,e){if(t==null)return{};var n=fH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y1(t){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y1(t)}var CO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ko=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OO=null,x0=null,kS=function t(e){if(e===OO&&Array.isArray(x0))return x0;var n=[];return B.Children.forEach(e,function(r){Je(r)||(Z7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),x0=n,OO=e,n};function Yr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ko(i)}):r=[ko(e)],kS(t).forEach(function(i){var o=Kr(i,"type.displayName")||Kr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Pr(t,e){var n=Yr(t,e);return n&&n[0]}var RO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},dH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hH=function(e){return e&&e.type&&Qd(e.type)&&dH.indexOf(e.type)>=0},pH=function(e){return e&&Y1(e)==="object"&&"clipDot"in e},mH=function(e,n,r,i){var o,a=(o=E0==null?void 0:E0[i])!==null&&o!==void 0?o:[];return!Xe(e)&&(i&&a.includes(n)||sH.includes(n))||r&&RS.includes(n)},rt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!sc(i))return null;var o={};return Object.keys(i).forEach(function(a){var l;mH((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(o[a]=i[a])}),o},X1=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return kO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!kO(o,a))return!1}return!0},kO=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=IO(r,lH),a=n.props||{},l=a.children,c=IO(a,cH);return i&&l?gl(o,c)&&X1(i,l):!i&&!l?gl(o,c):!1}return!1},NO=function(e,n){var r=[],i={};return kS(e).forEach(function(o,a){if(hH(o))r.push(o);else if(o){var l=ko(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,a);r.push(p),i[l]=!0}}}),r},gH=function(e){var n=e&&e.type;return n&&CO[n]?CO[n]:null},yH=function(e,n){return kS(n).indexOf(e)},vH=["children","width","height","viewBox","className","style","title","desc"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function _H(t,e){if(t==null)return{};var n=wH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,l=t.title,c=t.desc,f=_H(t,vH),h=i||{width:n,height:r,x:0,y:0},p=st("recharts-surface",o);return J.createElement("svg",Q1({},rt(f,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,l),J.createElement("desc",null,c),e)}var bH=["children","className"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z1.apply(this,arguments)}function EH(t,e){if(t==null)return{};var n=xH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yt=J.forwardRef(function(t,e){var n=t.children,r=t.className,i=EH(t,bH),o=st("recharts-layer",r);return J.createElement("g",Z1({className:o},rt(i,!0),{ref:e}),n)}),Ws=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},S0,MO;function SH(){if(MO)return S0;MO=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return S0=t,S0}var T0,DO;function TH(){if(DO)return T0;DO=1;var t=SH();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return T0=e,T0}var A0,jO;function c$(){if(jO)return A0;jO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+o+"]");function c(f){return l.test(f)}return A0=c,A0}var P0,LO;function AH(){if(LO)return P0;LO=1;function t(e){return e.split("")}return P0=t,P0}var I0,$O;function PH(){if($O)return I0;$O=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",_=f+"?",E="["+o+"]?",v="(?:"+w+"(?:"+[h,p,y].join("|")+")"+E+_+")*",P=E+_+v,A="(?:"+[h+l+"?",l,p,y,a].join("|")+")",N=RegExp(c+"(?="+c+")|"+A+P,"g");function j(I){return I.match(N)||[]}return I0=j,I0}var C0,FO;function IH(){if(FO)return C0;FO=1;var t=AH(),e=c$(),n=PH();function r(i){return e(i)?n(i):t(i)}return C0=r,C0}var O0,VO;function CH(){if(VO)return O0;VO=1;var t=TH(),e=c$(),n=IH(),r=a$();function i(o){return function(a){a=r(a);var l=e(a)?n(a):void 0,c=l?l[0]:a.charAt(0),f=l?t(l,1).join(""):a.slice(1);return c[o]()+f}}return O0=i,O0}var R0,UO;function OH(){if(UO)return R0;UO=1;var t=CH(),e=t("toUpperCase");return R0=e,R0}var RH=OH();const Zg=Tt(RH);function xt(t){return function(){return t}}const f$=Math.cos,Am=Math.sin,Ni=Math.sqrt,Pm=Math.PI,ey=2*Pm,eE=Math.PI,tE=2*eE,Ds=1e-6,kH=tE-Ds;function d$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function NH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return d$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class MH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?d$:NH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,c=r-e,f=i-n,h=a-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ds)if(!(Math.abs(p*c-f*h)>Ds)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-a,_=i-l,E=c*c+f*f,v=w*w+_*_,P=Math.sqrt(E),A=Math.sqrt(y),N=o*Math.tan((eE-Math.acos((E+y-v)/(2*P*A)))/2),j=N/A,I=N/P;Math.abs(j-1)>Ds&&this._append`L${e+j*h},${n+j*p}`,this._append`A${o},${o},0,0,${+(p*w>h*_)},${this._x1=e+I*c},${this._y1=n+I*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ds||Math.abs(this._y1-h)>Ds)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%tE+tE),y>kH?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>Ds&&this._append`A${r},${r},0,${+(y>=eE)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new MH(e)}function MS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h$(t){this._context=t}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ty(t){return new h$(t)}function p$(t){return t[0]}function m$(t){return t[1]}function g$(t,e){var n=xt(!0),r=null,i=ty,o=null,a=NS(l);t=typeof t=="function"?t:t===void 0?p$:xt(t),e=typeof e=="function"?e:e===void 0?m$:xt(e);function l(c){var f,h=(c=MS(c)).length,p,y=!1,w;for(r==null&&(o=i(w=a())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(w)return o=null,w+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:xt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:xt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:xt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function Rp(t,e,n){var r=null,i=xt(!0),o=null,a=ty,l=null,c=NS(f);t=typeof t=="function"?t:t===void 0?p$:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?m$:xt(+n);function f(p){var y,w,_,E=(p=MS(p)).length,v,P=!1,A,N=new Array(E),j=new Array(E);for(o==null&&(l=a(A=c())),y=0;y<=E;++y){if(!(y<E&&i(v=p[y],y,p))===P)if(P=!P)w=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=y-1;_>=w;--_)l.point(N[_],j[_]);l.lineEnd(),l.areaEnd()}P&&(N[y]=+t(v,y,p),j[y]=+e(v,y,p),l.point(r?+r(v,y,p):N[y],n?+n(v,y,p):j[y]))}if(A)return l=null,A+""||null}function h(){return g$().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xt(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(l=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=l=null:l=a(o=p),f):o},f}class y${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function DH(t){return new y$(t,!0)}function jH(t){return new y$(t,!1)}const DS={draw(t,e){const n=Ni(e/Pm);t.moveTo(n,0),t.arc(0,0,n,0,ey)}},LH={draw(t,e){const n=Ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},v$=Ni(1/3),$H=v$*2,FH={draw(t,e){const n=Ni(e/$H),r=n*v$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},VH={draw(t,e){const n=Ni(e),r=-n/2;t.rect(r,r,n,n)}},UH=.8908130915292852,_$=Am(Pm/10)/Am(7*Pm/10),BH=Am(ey/10)*_$,qH=-f$(ey/10)*_$,zH={draw(t,e){const n=Ni(e*UH),r=BH*n,i=qH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ey*o/5,l=f$(a),c=Am(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},k0=Ni(3),WH={draw(t,e){const n=-Ni(e/(k0*3));t.moveTo(0,n*2),t.lineTo(-k0*n,-n),t.lineTo(k0*n,-n),t.closePath()}},Ur=-.5,Br=Ni(3)/2,nE=1/Ni(12),HH=(nE/2+1)*3,GH={draw(t,e){const n=Ni(e/HH),r=n/2,i=n*nE,o=r,a=n*nE+n,l=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,c),t.lineTo(Ur*r-Br*i,Br*r+Ur*i),t.lineTo(Ur*o-Br*a,Br*o+Ur*a),t.lineTo(Ur*l-Br*c,Br*l+Ur*c),t.lineTo(Ur*r+Br*i,Ur*i-Br*r),t.lineTo(Ur*o+Br*a,Ur*a-Br*o),t.lineTo(Ur*l+Br*c,Ur*c-Br*l),t.closePath()}};function KH(t,e){let n=null,r=NS(i);t=typeof t=="function"?t:xt(t||DS),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:xt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Im(){}function Cm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function w$(t){this._context=t}w$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YH(t){return new w$(t)}function b$(t){this._context=t}b$.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XH(t){return new b$(t)}function E$(t){this._context=t}E$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QH(t){return new E$(t)}function x$(t){this._context=t}x$.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JH(t){return new x$(t)}function BO(t){return t<0?-1:1}function qO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(BO(o)+BO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function zO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function N0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Om(t){this._context=t}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N0(this,this._t0,zO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,N0(this,zO(this,n=qO(this,t,e)),n);break;default:N0(this,this._t0,n=qO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function S$(t){this._context=new T$(t)}(S$.prototype=Object.create(Om.prototype)).point=function(t,e){Om.prototype.point.call(this,e,t)};function T$(t){this._context=t}T$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function ZH(t){return new Om(t)}function eG(t){return new S$(t)}function A$(t){this._context=t}A$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=WO(t),i=WO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function tG(t){return new A$(t)}function ny(t,e){this._context=t,this._t=e}ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function nG(t){return new ny(t,.5)}function rG(t){return new ny(t,0)}function iG(t){return new ny(t,1)}function Pl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function oG(t,e){return t[e]}function aG(t){const e=[];return e.key=t,e}function sG(){var t=xt([]),e=rE,n=Pl,r=oG;function i(o){var a=Array.from(t.apply(this,arguments),aG),l,c=a.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(a[l][f]=[0,+r(p,a[l].key,f,o)]).data=p;for(l=0,h=MS(e(a));l<c;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:xt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:xt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?rE:typeof o=="function"?o:xt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Pl,i):n},i}function uG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Pl(t,e)}}function lG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Pl(t,e)}}function cG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,c=0,f=0;l<a;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,w=(p-y)/2,_=0;_<l;++_){var E=t[e[_]],v=E[r][1]||0,P=E[r-1][1]||0;w+=v-P}c+=p,f+=w*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Pl(t,e)}}function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var fG=["type","size","sizeType"];function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){dG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dG(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=pG(t,"string");return ed(e)=="symbol"?e:e+""}function pG(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mG(t,e){if(t==null)return{};var n=gG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P$={symbolCircle:DS,symbolCross:LH,symbolDiamond:FH,symbolSquare:VH,symbolStar:zH,symbolTriangle:WH,symbolWye:GH},yG=Math.PI/180,vG=function(e){var n="symbol".concat(Zg(e));return P$[n]||DS},_G=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wG=function(e,n){P$["symbol".concat(Zg(e))]=n},jS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=mG(e,fG),f=GO(GO({},c),{},{type:r,size:o,sizeType:l}),h=function(){var v=vG(r),P=KH().type(v).size(_G(o,l,r));return P()},p=f.className,y=f.cx,w=f.cy,_=rt(f,!0);return y===+y&&w===+w&&o===+o?J.createElement("path",iE({},_,{className:st("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(w,")"),d:h()})):null};jS.registerSymbol=wG;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){td(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function SG(t,e,n){return e&&xG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TG(t,e,n){return e=Rm(e),AG(t,I$()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function AG(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PG(t)}function PG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function td(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=CG(t,"string");return Il(e)=="symbol"?e:e+""}function CG(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qr=32,LS=function(t){function e(){return EG(this,e),TG(this,e,arguments)}return IG(e,t),SG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=qr/2,a=qr/6,l=qr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:qr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(qr,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var f=bG({},r);return delete f.legendIcon,J.cloneElement(r.legendIcon,f)}return J.createElement(jS,{fill:c,cx:o,cy:o,size:qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:qr,height:qr},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(w,_){var E=w.formatter||c,v=st(td(td({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",w.inactive));if(w.type==="none")return null;var P=Xe(w.value)?null:w.value;Ws(!Xe(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=w.inactive?f:w.color;return J.createElement("li",oE({className:v,style:p,key:"legend-item-".concat(_)},Tm(r.props,w,_)),J.createElement(J1,{width:a,height:a,viewBox:h,style:y},r.renderIcon(w)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E?E(P,w,_):P))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(B.PureComponent);td(LS,"displayName","Legend");td(LS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var M0,YO;function OG(){if(YO)return M0;YO=1;var t=Xg();function e(){this.__data__=new t,this.size=0}return M0=e,M0}var D0,XO;function RG(){if(XO)return D0;XO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return D0=t,D0}var j0,QO;function kG(){if(QO)return j0;QO=1;function t(e){return this.__data__.get(e)}return j0=t,j0}var L0,JO;function NG(){if(JO)return L0;JO=1;function t(e){return this.__data__.has(e)}return L0=t,L0}var $0,ZO;function MG(){if(ZO)return $0;ZO=1;var t=Xg(),e=PS(),n=IS(),r=200;function i(o,a){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,a]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,a),this.size=l.size,this}return $0=i,$0}var F0,eR;function O$(){if(eR)return F0;eR=1;var t=Xg(),e=OG(),n=RG(),r=kG(),i=NG(),o=MG();function a(l){var c=this.__data__=new t(l);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,F0=a,F0}var V0,tR;function DG(){if(tR)return V0;tR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return V0=e,V0}var U0,nR;function jG(){if(nR)return U0;nR=1;function t(e){return this.__data__.has(e)}return U0=t,U0}var B0,rR;function R$(){if(rR)return B0;rR=1;var t=IS(),e=DG(),n=jG();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,B0=r,B0}var q0,iR;function k$(){if(iR)return q0;iR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return q0=t,q0}var z0,oR;function N$(){if(oR)return z0;oR=1;function t(e,n){return e.has(n)}return z0=t,z0}var W0,aR;function M$(){if(aR)return W0;aR=1;var t=R$(),e=k$(),n=N$(),r=1,i=2;function o(a,l,c,f,h,p){var y=c&r,w=a.length,_=l.length;if(w!=_&&!(y&&_>w))return!1;var E=p.get(a),v=p.get(l);if(E&&v)return E==l&&v==a;var P=-1,A=!0,N=c&i?new t:void 0;for(p.set(a,l),p.set(l,a);++P<w;){var j=a[P],I=l[P];if(f)var D=y?f(I,j,P,l,a,p):f(j,I,P,a,l,p);if(D!==void 0){if(D)continue;A=!1;break}if(N){if(!e(l,function(C,R){if(!n(N,R)&&(j===C||h(j,C,c,f,p)))return N.push(R)})){A=!1;break}}else if(!(j===I||h(j,I,c,f,p))){A=!1;break}}return p.delete(a),p.delete(l),A}return W0=o,W0}var H0,sR;function LG(){if(sR)return H0;sR=1;var t=io(),e=t.Uint8Array;return H0=e,H0}var G0,uR;function $G(){if(uR)return G0;uR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return G0=t,G0}var K0,lR;function $S(){if(lR)return K0;lR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return K0=t,K0}var Y0,cR;function FG(){if(cR)return Y0;cR=1;var t=Xd(),e=LG(),n=AS(),r=M$(),i=$G(),o=$S(),a=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",w="[object RegExp]",_="[object Set]",E="[object String]",v="[object Symbol]",P="[object ArrayBuffer]",A="[object DataView]",N=t?t.prototype:void 0,j=N?N.valueOf:void 0;function I(D,C,R,M,F,L,V){switch(R){case A:if(D.byteLength!=C.byteLength||D.byteOffset!=C.byteOffset)return!1;D=D.buffer,C=C.buffer;case P:return!(D.byteLength!=C.byteLength||!L(new e(D),new e(C)));case c:case f:case y:return n(+D,+C);case h:return D.name==C.name&&D.message==C.message;case w:case E:return D==C+"";case p:var O=i;case _:var W=M&a;if(O||(O=o),D.size!=C.size&&!W)return!1;var Y=V.get(D);if(Y)return Y==C;M|=l,V.set(D,C);var X=r(O(D),O(C),M,F,L,V);return V.delete(D),X;case v:if(j)return j.call(D)==j.call(C)}return!1}return Y0=I,Y0}var X0,fR;function D$(){if(fR)return X0;fR=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return X0=t,X0}var Q0,dR;function VG(){if(dR)return Q0;dR=1;var t=D$(),e=hr();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return Q0=n,Q0}var J0,hR;function UG(){if(hR)return J0;hR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[o++]=l)}return a}return J0=t,J0}var Z0,pR;function BG(){if(pR)return Z0;pR=1;function t(){return[]}return Z0=t,Z0}var ew,mR;function qG(){if(mR)return ew;mR=1;var t=UG(),e=BG(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return ew=o,ew}var tw,gR;function zG(){if(gR)return tw;gR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return tw=t,tw}var nw,yR;function WG(){if(yR)return nw;yR=1;var t=Go(),e=Ko(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return nw=r,nw}var rw,vR;function FS(){if(vR)return rw;vR=1;var t=WG(),e=Ko(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return rw=o,rw}var Pf={exports:{}},iw,_R;function HG(){if(_R)return iw;_R=1;function t(){return!1}return iw=t,iw}Pf.exports;var wR;function j$(){return wR||(wR=1,function(t,e){var n=io(),r=HG(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f}(Pf,Pf.exports)),Pf.exports}var ow,bR;function VS(){if(bR)return ow;bR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ow=n,ow}var aw,ER;function US(){if(ER)return aw;ER=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return aw=e,aw}var sw,xR;function GG(){if(xR)return sw;xR=1;var t=Go(),e=US(),n=Ko(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",w="[object Set]",_="[object String]",E="[object WeakMap]",v="[object ArrayBuffer]",P="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",j="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",L={};L[A]=L[N]=L[j]=L[I]=L[D]=L[C]=L[R]=L[M]=L[F]=!0,L[r]=L[i]=L[v]=L[o]=L[P]=L[a]=L[l]=L[c]=L[f]=L[h]=L[p]=L[y]=L[w]=L[_]=L[E]=!1;function V(O){return n(O)&&e(O.length)&&!!L[t(O)]}return sw=V,sw}var uw,SR;function L$(){if(SR)return uw;SR=1;function t(e){return function(n){return e(n)}}return uw=t,uw}var If={exports:{}};If.exports;var TR;function KG(){return TR||(TR=1,function(t,e){var n=r$(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(If,If.exports)),If.exports}var lw,AR;function $$(){if(AR)return lw;AR=1;var t=GG(),e=L$(),n=KG(),r=n&&n.isTypedArray,i=r?e(r):t;return lw=i,lw}var cw,PR;function YG(){if(PR)return cw;PR=1;var t=zG(),e=FS(),n=hr(),r=j$(),i=VS(),o=$$(),a=Object.prototype,l=a.hasOwnProperty;function c(f,h){var p=n(f),y=!p&&e(f),w=!p&&!y&&r(f),_=!p&&!y&&!w&&o(f),E=p||y||w||_,v=E?t(f.length,String):[],P=v.length;for(var A in f)(h||l.call(f,A))&&!(E&&(A=="length"||w&&(A=="offset"||A=="parent")||_&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,P)))&&v.push(A);return v}return cw=c,cw}var fw,IR;function XG(){if(IR)return fw;IR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return fw=e,fw}var dw,CR;function F$(){if(CR)return dw;CR=1;function t(e,n){return function(r){return e(n(r))}}return dw=t,dw}var hw,OR;function QG(){if(OR)return hw;OR=1;var t=F$(),e=t(Object.keys,Object);return hw=e,hw}var pw,RR;function JG(){if(RR)return pw;RR=1;var t=XG(),e=QG(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&a.push(l);return a}return pw=i,pw}var mw,kR;function eh(){if(kR)return mw;kR=1;var t=TS(),e=US();function n(r){return r!=null&&e(r.length)&&!t(r)}return mw=n,mw}var gw,NR;function ry(){if(NR)return gw;NR=1;var t=YG(),e=JG(),n=eh();function r(i){return n(i)?t(i):e(i)}return gw=r,gw}var yw,MR;function ZG(){if(MR)return yw;MR=1;var t=VG(),e=qG(),n=ry();function r(i){return t(i,n,e)}return yw=r,yw}var vw,DR;function eK(){if(DR)return vw;DR=1;var t=ZG(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,l,c,f,h){var p=l&e,y=t(o),w=y.length,_=t(a),E=_.length;if(w!=E&&!p)return!1;for(var v=w;v--;){var P=y[v];if(!(p?P in a:r.call(a,P)))return!1}var A=h.get(o),N=h.get(a);if(A&&N)return A==a&&N==o;var j=!0;h.set(o,a),h.set(a,o);for(var I=p;++v<w;){P=y[v];var D=o[P],C=a[P];if(c)var R=p?c(C,D,P,a,o,h):c(D,C,P,o,a,h);if(!(R===void 0?D===C||f(D,C,l,c,h):R)){j=!1;break}I||(I=P=="constructor")}if(j&&!I){var M=o.constructor,F=a.constructor;M!=F&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(j=!1)}return h.delete(o),h.delete(a),j}return vw=i,vw}var _w,jR;function tK(){if(jR)return _w;jR=1;var t=lu(),e=io(),n=t(e,"DataView");return _w=n,_w}var ww,LR;function nK(){if(LR)return ww;LR=1;var t=lu(),e=io(),n=t(e,"Promise");return ww=n,ww}var bw,$R;function V$(){if($R)return bw;$R=1;var t=lu(),e=io(),n=t(e,"Set");return bw=n,bw}var Ew,FR;function rK(){if(FR)return Ew;FR=1;var t=lu(),e=io(),n=t(e,"WeakMap");return Ew=n,Ew}var xw,VR;function iK(){if(VR)return xw;VR=1;var t=tK(),e=PS(),n=nK(),r=V$(),i=rK(),o=Go(),a=i$(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",w=a(t),_=a(e),E=a(n),v=a(r),P=a(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=y||e&&A(new e)!=l||n&&A(n.resolve())!=f||r&&A(new r)!=h||i&&A(new i)!=p)&&(A=function(N){var j=o(N),I=j==c?N.constructor:void 0,D=I?a(I):"";if(D)switch(D){case w:return y;case _:return l;case E:return f;case v:return h;case P:return p}return j}),xw=A,xw}var Sw,UR;function oK(){if(UR)return Sw;UR=1;var t=O$(),e=M$(),n=FG(),r=eK(),i=iK(),o=hr(),a=j$(),l=$$(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,w=y.hasOwnProperty;function _(E,v,P,A,N,j){var I=o(E),D=o(v),C=I?h:i(E),R=D?h:i(v);C=C==f?p:C,R=R==f?p:R;var M=C==p,F=R==p,L=C==R;if(L&&a(E)){if(!a(v))return!1;I=!0,M=!1}if(L&&!M)return j||(j=new t),I||l(E)?e(E,v,P,A,N,j):n(E,v,C,P,A,N,j);if(!(P&c)){var V=M&&w.call(E,"__wrapped__"),O=F&&w.call(v,"__wrapped__");if(V||O){var W=V?E.value():E,Y=O?v.value():v;return j||(j=new t),N(W,Y,P,A,j)}}return L?(j||(j=new t),r(E,v,P,A,N,j)):!1}return Sw=_,Sw}var Tw,BR;function BS(){if(BR)return Tw;BR=1;var t=oK(),e=Ko();function n(r,i,o,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,l)}return Tw=n,Tw}var Aw,qR;function aK(){if(qR)return Aw;qR=1;var t=O$(),e=BS(),n=1,r=2;function i(o,a,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var y=l[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<h;){y=l[f];var w=y[0],_=o[w],E=y[1];if(p&&y[2]){if(_===void 0&&!(w in o))return!1}else{var v=new t;if(c)var P=c(_,E,w,o,a,v);if(!(P===void 0?e(E,_,n|r,c,v):P))return!1}}return!0}return Aw=i,Aw}var Pw,zR;function U$(){if(zR)return Pw;zR=1;var t=Ja();function e(n){return n===n&&!t(n)}return Pw=e,Pw}var Iw,WR;function sK(){if(WR)return Iw;WR=1;var t=U$(),e=ry();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],l=r[a];i[o]=[a,l,t(l)]}return i}return Iw=n,Iw}var Cw,HR;function B$(){if(HR)return Cw;HR=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Cw=t,Cw}var Ow,GR;function uK(){if(GR)return Ow;GR=1;var t=aK(),e=sK(),n=B$();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return Ow=r,Ow}var Rw,KR;function lK(){if(KR)return Rw;KR=1;function t(e,n){return e!=null&&n in Object(e)}return Rw=t,Rw}var kw,YR;function cK(){if(YR)return kw;YR=1;var t=s$(),e=FS(),n=hr(),r=VS(),i=US(),o=Jg();function a(l,c,f){c=t(c,l);for(var h=-1,p=c.length,y=!1;++h<p;){var w=o(c[h]);if(!(y=l!=null&&f(l,w)))break;l=l[w]}return y||++h!=p?y:(p=l==null?0:l.length,!!p&&i(p)&&r(w,p)&&(n(l)||e(l)))}return kw=a,kw}var Nw,XR;function fK(){if(XR)return Nw;XR=1;var t=lK(),e=cK();function n(r,i){return r!=null&&e(r,i,t)}return Nw=n,Nw}var Mw,QR;function dK(){if(QR)return Mw;QR=1;var t=BS(),e=u$(),n=fK(),r=SS(),i=U$(),o=B$(),a=Jg(),l=1,c=2;function f(h,p){return r(h)&&i(p)?o(a(h),p):function(y){var w=e(y,h);return w===void 0&&w===p?n(y,h):t(p,w,l|c)}}return Mw=f,Mw}var Dw,JR;function uc(){if(JR)return Dw;JR=1;function t(e){return e}return Dw=t,Dw}var jw,ZR;function hK(){if(ZR)return jw;ZR=1;function t(e){return function(n){return n==null?void 0:n[e]}}return jw=t,jw}var Lw,ek;function pK(){if(ek)return Lw;ek=1;var t=OS();function e(n){return function(r){return t(r,n)}}return Lw=e,Lw}var $w,tk;function mK(){if(tk)return $w;tk=1;var t=hK(),e=pK(),n=SS(),r=Jg();function i(o){return n(o)?t(r(o)):e(o)}return $w=i,$w}var Fw,nk;function Za(){if(nk)return Fw;nk=1;var t=uK(),e=dK(),n=uc(),r=hr(),i=mK();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return Fw=o,Fw}var Vw,rk;function q$(){if(rk)return Vw;rk=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return Vw=t,Vw}var Uw,ik;function gK(){if(ik)return Uw;ik=1;function t(e){return e!==e}return Uw=t,Uw}var Bw,ok;function yK(){if(ok)return Bw;ok=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return Bw=t,Bw}var qw,ak;function vK(){if(ak)return qw;ak=1;var t=q$(),e=gK(),n=yK();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return qw=r,qw}var zw,sk;function _K(){if(sk)return zw;sk=1;var t=vK();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return zw=e,zw}var Ww,uk;function wK(){if(uk)return Ww;uk=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return Ww=t,Ww}var Hw,lk;function bK(){if(lk)return Hw;lk=1;function t(){}return Hw=t,Hw}var Gw,ck;function EK(){if(ck)return Gw;ck=1;var t=V$(),e=bK(),n=$S(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return Gw=i,Gw}var Kw,fk;function xK(){if(fk)return Kw;fk=1;var t=R$(),e=_K(),n=wK(),r=N$(),i=EK(),o=$S(),a=200;function l(c,f,h){var p=-1,y=e,w=c.length,_=!0,E=[],v=E;if(h)_=!1,y=n;else if(w>=a){var P=f?null:i(c);if(P)return o(P);_=!1,y=r,v=new t}else v=f?[]:E;e:for(;++p<w;){var A=c[p],N=f?f(A):A;if(A=h||A!==0?A:0,_&&N===N){for(var j=v.length;j--;)if(v[j]===N)continue e;f&&v.push(N),E.push(A)}else y(v,N,h)||(v!==E&&v.push(N),E.push(A))}return E}return Kw=l,Kw}var Yw,dk;function SK(){if(dk)return Yw;dk=1;var t=Za(),e=xK();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Yw=n,Yw}var TK=SK();const hk=Tt(TK);function z$(t,e,n){return e===!0?hk(t,n):Xe(e)?hk(t,e):t}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var AK=["ref"];function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){iy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function IK(t,e,n){return e&&mk(t.prototype,e),n&&mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CK(t,e,n){return e=km(e),OK(t,W$()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function OK(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(t)}function RK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W$=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function kK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function iy(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=NK(t,"string");return Cl(e)=="symbol"?e:e+""}function NK(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t,e){if(t==null)return{};var n=DK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jK(t){return t.value}function LK(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=MK(e,AK);return J.createElement(LS,n)}var gk=1,ja=function(t){function e(){var n;PK(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=CK(this,e,[].concat(i)),iy(n,"lastBoundingBox",{width:-1,height:-1}),n}return kK(e,t),IK(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gk||Math.abs(i.height-this.lastBoundingBox.height)>gk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Eo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var w=this.getBBoxSnapshot();p={left:((f||0)-w.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();y={top:((h||0)-_.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Eo(Eo({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Eo(Eo({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(w){r.wrapperNode=w}},LK(o,Eo(Eo({},this.props),{},{payload:z$(h,f,jK)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Eo(Eo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&xe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);iy(ja,"displayName","Legend");iy(ja,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xw,yk;function $K(){if(yk)return Xw;yk=1;var t=Xd(),e=FS(),n=hr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return Xw=i,Xw}var Qw,vk;function G$(){if(vk)return Qw;vk=1;var t=D$(),e=$K();function n(r,i,o,a,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,a,l):t(l,h):a||(l[l.length]=h)}return l}return Qw=n,Qw}var Jw,_k;function FK(){if(_k)return Jw;_k=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(a[f],f,a)===!1)break}return n}}return Jw=t,Jw}var Zw,wk;function VK(){if(wk)return Zw;wk=1;var t=FK(),e=t();return Zw=e,Zw}var eb,bk;function K$(){if(bk)return eb;bk=1;var t=VK(),e=ry();function n(r,i){return r&&t(r,i,e)}return eb=n,eb}var tb,Ek;function UK(){if(Ek)return tb;Ek=1;var t=eh();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,l=r?a:-1,c=Object(i);(r?l--:++l<a)&&o(c[l],l,c)!==!1;);return i}}return tb=e,tb}var nb,xk;function qS(){if(xk)return nb;xk=1;var t=K$(),e=UK(),n=e(t);return nb=n,nb}var rb,Sk;function Y$(){if(Sk)return rb;Sk=1;var t=qS(),e=eh();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(l,c,f){a[++o]=i(l,c,f)}),a}return rb=n,rb}var ib,Tk;function BK(){if(Tk)return ib;Tk=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return ib=t,ib}var ob,Ak;function qK(){if(Ak)return ob;Ak=1;var t=ac();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!a)return 1;if(!o&&!l&&!p&&n<r||p&&i&&a&&!o&&!l||f&&i&&a||!c&&a||!h)return-1}return 0}return ob=e,ob}var ab,Pk;function zK(){if(Pk)return ab;Pk=1;var t=qK();function e(n,r,i){for(var o=-1,a=n.criteria,l=r.criteria,c=a.length,f=i.length;++o<c;){var h=t(a[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return ab=e,ab}var sb,Ik;function WK(){if(Ik)return sb;Ik=1;var t=CS(),e=OS(),n=Za(),r=Y$(),i=BK(),o=L$(),a=zK(),l=uc(),c=hr();function f(h,p,y){p.length?p=t(p,function(E){return c(E)?function(v){return e(v,E.length===1?E[0]:E)}:E}):p=[l];var w=-1;p=t(p,o(n));var _=r(h,function(E,v,P){var A=t(p,function(N){return N(E)});return{criteria:A,index:++w,value:E}});return i(_,function(E,v){return a(E,v,y)})}return sb=f,sb}var ub,Ck;function HK(){if(Ck)return ub;Ck=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ub=t,ub}var lb,Ok;function GK(){if(Ok)return lb;Ok=1;var t=HK(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,c=e(a.length-i,0),f=Array(c);++l<c;)f[l]=a[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=a[l];return h[i]=o(f),t(r,this,h)}}return lb=n,lb}var cb,Rk;function KK(){if(Rk)return cb;Rk=1;function t(e){return function(){return e}}return cb=t,cb}var fb,kk;function X$(){if(kk)return fb;kk=1;var t=lu(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return fb=e,fb}var db,Nk;function YK(){if(Nk)return db;Nk=1;var t=KK(),e=X$(),n=uc(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return db=r,db}var hb,Mk;function XK(){if(Mk)return hb;Mk=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var l=n(),c=e-(l-a);if(a=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return hb=r,hb}var pb,Dk;function QK(){if(Dk)return pb;Dk=1;var t=YK(),e=XK(),n=e(t);return pb=n,pb}var mb,jk;function JK(){if(jk)return mb;jk=1;var t=uc(),e=GK(),n=QK();function r(i,o){return n(e(i,o,t),i+"")}return mb=r,mb}var gb,Lk;function oy(){if(Lk)return gb;Lk=1;var t=AS(),e=eh(),n=VS(),r=Ja();function i(o,a,l){if(!r(l))return!1;var c=typeof a;return(c=="number"?e(l)&&n(a,l.length):c=="string"&&a in l)?t(l[a],o):!1}return gb=i,gb}var yb,$k;function ZK(){if($k)return yb;$k=1;var t=G$(),e=WK(),n=JK(),r=oy(),i=n(function(o,a){if(o==null)return[];var l=a.length;return l>1&&r(o,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return yb=i,yb}var eY=ZK();const zS=Tt(eY);function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function tY(t,e){return oY(t)||iY(t,e)||rY(t,e)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rY(t,e){if(t){if(typeof t=="string")return Fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fk(t,e)}}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function oY(t){if(Array.isArray(t))return t}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){aY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e,n){return e=sY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=uY(t,"string");return nd(e)=="symbol"?e:e+""}function uY(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t){return Array.isArray(t)&&ln(t[0])&&ln(t[1])?t.join(" ~ "):t}var cY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,w=e.wrapperClassName,_=e.labelClassName,E=e.label,v=e.labelFormatter,P=e.accessibilityLayer,A=P===void 0?!1:P,N=function(){if(h&&h.length){var V={padding:0,margin:0},O=(y?zS(h,y):h).map(function(W,Y){if(W.type==="none")return null;var X=vb({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),re=W.formatter||p||lY,Q=W.value,oe=W.name,te=Q,z=oe;if(re&&te!=null&&z!=null){var K=re(Q,oe,W,Y,h);if(Array.isArray(K)){var le=tY(K,2);te=le[0],z=le[1]}else te=K}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:X},ln(z)?J.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ln(z)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},te),J.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:V},O)}return null},j=vb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=vb({margin:0},f),D=!Je(E),C=D?E:"",R=st("recharts-default-tooltip",w),M=st("recharts-tooltip-label",_);D&&v&&h!==void 0&&h!==null&&(C=v(E,h));var F=A?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",uE({className:R,style:j},F),J.createElement("p",{className:M,style:I},J.isValidElement(C)?C:"".concat(C)),N())};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function kp(t,e,n){return e=fY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=dY(t,"string");return rd(e)=="symbol"?e:e+""}function dY(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf="recharts-tooltip-wrapper",hY={visibility:"hidden"};function pY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return st(uf,kp(kp(kp(kp({},"".concat(uf,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(uf,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(uf,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(uf,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function Uk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var h=n[r]-l-i,p=n[r]+i;if(e[r])return a[r]?h:p;if(a[r]){var y=h,w=c[r];return y<w?Math.max(p,c[r]):Math.max(h,c[r])}var _=p+l,E=c[r]+f;return _>E?Math.max(h,c[r]):Math.max(p,c[r])}function mY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gY(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return a.height>0&&a.width>0&&n?(h=Uk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=Uk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=mY({translateX:h,translateY:p,useTranslate3d:l})):f=hY,{cssProperties:f,cssClasses:pY({translateX:h,translateY:p,coordinate:n})}}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J$(r.key),r)}}function _Y(t,e,n){return e&&vY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wY(t,e,n){return e=Nm(e),bY(t,Q$()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function bY(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(t)}function EY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function xY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function cE(t,e,n){return e=J$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=SY(t,"string");return Ol(e)=="symbol"?e:e+""}function SY(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zk=1,TY=function(t){function e(){var n;yY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wY(this,e,[].concat(i)),cE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return xY(e,t),_Y(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zk||Math.abs(r.height-this.state.lastBoundingBox.height)>zk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,w=i.offset,_=i.position,E=i.reverseDirection,v=i.useTranslate3d,P=i.viewBox,A=i.wrapperStyle,N=gY({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:w,position:_,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:P}),j=N.cssClasses,I=N.cssProperties,D=qk(qk({transition:y&&o?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return J.createElement("div",{tabIndex:-1,className:j,style:D,ref:function(R){r.wrapperNode=R}},f)}}])}(B.PureComponent),AY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},No={isSsr:AY(),get:function(e){return No[e]},set:function(e,n){if(typeof e=="string")No[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){No[i]=e[i]})}}};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){WS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eF(r.key),r)}}function CY(t,e,n){return e&&IY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OY(t,e,n){return e=Mm(e),RY(t,Z$()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function RY(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(t)}function kY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function NY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function WS(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eF(t){var e=MY(t,"string");return Rl(e)=="symbol"?e:e+""}function MY(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t){return t.dataKey}function jY(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(cY,e)}var yi=function(t){function e(){return PY(this,e),OY(this,e,arguments)}return NY(e,t),CY(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,y=i.isAnimationActive,w=i.offset,_=i.payload,E=i.payloadUniqBy,v=i.position,P=i.reverseDirection,A=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,I=_??[];p&&I.length&&(I=z$(_.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),E,DY));var D=I.length>0;return J.createElement(TY,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:y,active:o,coordinate:h,hasPayload:D,offset:w,position:v,reverseDirection:P,useTranslate3d:A,viewBox:N,wrapperStyle:j},jY(f,Hk(Hk({},this.props),{},{payload:I})))}}])}(B.PureComponent);WS(yi,"displayName","Tooltip");WS(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!No.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _b,Gk;function LY(){if(Gk)return _b;Gk=1;var t=io(),e=function(){return t.Date.now()};return _b=e,_b}var wb,Kk;function $Y(){if(Kk)return wb;Kk=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return wb=e,wb}var bb,Yk;function FY(){if(Yk)return bb;Yk=1;var t=$Y(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return bb=n,bb}var Eb,Xk;function tF(){if(Xk)return Eb;Xk=1;var t=FY(),e=Ja(),n=ac(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||a.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return Eb=c,Eb}var xb,Qk;function VY(){if(Qk)return xb;Qk=1;var t=Ja(),e=LY(),n=tF(),r="Expected a function",i=Math.max,o=Math.min;function a(l,c,f){var h,p,y,w,_,E,v=0,P=!1,A=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(P=!!f.leading,A="maxWait"in f,y=A?i(n(f.maxWait)||0,c):y,N="trailing"in f?!!f.trailing:N);function j(O){var W=h,Y=p;return h=p=void 0,v=O,w=l.apply(Y,W),w}function I(O){return v=O,_=setTimeout(R,c),P?j(O):w}function D(O){var W=O-E,Y=O-v,X=c-W;return A?o(X,y-Y):X}function C(O){var W=O-E,Y=O-v;return E===void 0||W>=c||W<0||A&&Y>=y}function R(){var O=e();if(C(O))return M(O);_=setTimeout(R,D(O))}function M(O){return _=void 0,N&&h?j(O):(h=p=void 0,w)}function F(){_!==void 0&&clearTimeout(_),v=0,h=E=p=_=void 0}function L(){return _===void 0?w:M(e())}function V(){var O=e(),W=C(O);if(h=arguments,p=this,E=O,W){if(_===void 0)return I(E);if(A)return clearTimeout(_),_=setTimeout(R,c),j(E)}return _===void 0&&(_=setTimeout(R,c)),w}return V.cancel=F,V.flush=L,V}return xb=a,xb}var Sb,Jk;function UY(){if(Jk)return Sb;Jk=1;var t=VY(),e=Ja(),n="Expected a function";function r(i,o,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Sb=r,Sb}var BY=UY();const nF=Tt(BY);function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return e=zY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=WY(t,"string");return id(e)=="symbol"?e:e+""}function WY(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t,e){return XY(t)||YY(t,e)||KY(t,e)||GY()}function GY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function XY(t){if(Array.isArray(t))return t}var tN=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,w=t.children,_=t.debounce,E=_===void 0?0:_,v=t.id,P=t.className,A=t.onResize,N=t.style,j=N===void 0?{}:N,I=B.useRef(null),D=B.useRef();D.current=A,B.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var C=B.useState({containerWidth:i.width,containerHeight:i.height}),R=HY(C,2),M=R[0],F=R[1],L=B.useCallback(function(O,W){F(function(Y){var X=Math.round(O),re=Math.round(W);return Y.containerWidth===X&&Y.containerHeight===re?Y:{containerWidth:X,containerHeight:re}})},[]);B.useEffect(function(){var O=function(oe){var te,z=oe[0].contentRect,K=z.width,le=z.height;L(K,le),(te=D.current)===null||te===void 0||te.call(D,K,le)};E>0&&(O=nF(O,E,{trailing:!0,leading:!1}));var W=new ResizeObserver(O),Y=I.current.getBoundingClientRect(),X=Y.width,re=Y.height;return L(X,re),W.observe(I.current),function(){W.disconnect()}},[L,E]);var V=B.useMemo(function(){var O=M.containerWidth,W=M.containerHeight;if(O<0||W<0)return null;Ws(Vs(a)||Vs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Ws(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=Vs(a)?O:a,X=Vs(c)?W:c;n&&n>0&&(Y?X=Y/n:X&&(Y=X*n),y&&X>y&&(X=y)),Ws(Y>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,X,a,c,h,p,n);var re=!Array.isArray(w)&&ko(w.type).endsWith("Chart");return J.Children.map(w,function(Q){return J.isValidElement(Q)?B.cloneElement(Q,Np({width:Y,height:X},re?{style:Np({height:"100%",width:"100%",maxHeight:X,maxWidth:Y},Q.props.style)}:{})):Q})},[n,w,c,y,p,h,M,a]);return J.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",P),style:Np(Np({},j),{},{width:a,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:I},V)}),rF=function(e){return null};rF.displayName="Cell";function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){QY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QY(t,e,n){return e=JY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=ZY(t,"string");return od(e)=="symbol"?e:e+""}function ZY(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu={widthCache:{},cacheCount:0},eX=2e3,tX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function nX(t){var e=dE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Df=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||No.isSsr)return{width:0,height:0};var r=nX(n),i=JSON.stringify({text:e,copyStyle:r});if(Zu.widthCache[i])return Zu.widthCache[i];try{var o=document.getElementById(rN);o||(o=document.createElement("span"),o.setAttribute("id",rN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=dE(dE({},tX),r);Object.assign(o.style,a),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Zu.widthCache[i]=c,++Zu.cacheCount>eX&&(Zu.cacheCount=0,Zu.widthCache={}),c}catch{return{width:0,height:0}}},rX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Dm(t,e){return sX(t)||aX(t,e)||oX(t,e)||iX()}function iX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function sX(t){if(Array.isArray(t))return t}function uX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cX(r.key),r)}}function lX(t,e,n){return e&&oN(t.prototype,e),n&&oN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cX(t){var e=fX(t,"string");return ad(e)=="symbol"?e:e+""}function fX(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pX=Object.keys(iF),ll="NaN";function mX(t,e){return t*iF[e]}var Mp=function(){function t(e,n){uX(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!dX.test(n)&&(this.num=NaN,this.unit=""),pX.includes(n)&&(this.num=mX(e,n),this.unit="px")}return lX(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=hX.exec(n))!==null&&r!==void 0?r:[],o=Dm(i,3),a=o[1],l=o[2];return new t(parseFloat(a),l??"")}}])}();function oF(t){if(t.includes(ll))return ll;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=aN.exec(e))!==null&&n!==void 0?n:[],i=Dm(r,4),o=i[1],a=i[2],l=i[3],c=Mp.parse(o??""),f=Mp.parse(l??""),h=a==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return ll;e=e.replace(aN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=sN.exec(e))!==null&&p!==void 0?p:[],w=Dm(y,4),_=w[1],E=w[2],v=w[3],P=Mp.parse(_??""),A=Mp.parse(v??""),N=E==="+"?P.add(A):P.subtract(A);if(N.isNaN())return ll;e=e.replace(sN,N.toString())}return e}var uN=/\(([^()]*)\)/;function gX(t){for(var e=t;e.includes("(");){var n=uN.exec(e),r=Dm(n,2),i=r[1];e=e.replace(uN,oF(i))}return e}function yX(t){var e=t.replace(/\s+/g,"");return e=gX(e),e=oF(e),e}function vX(t){try{return yX(t)}catch{return ll}}function Tb(t){var e=vX(t.slice(5,-1));return e===ll?"":e}var _X=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wX=["dx","dy","angle","className","breakAll"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function lN(t,e){if(t==null)return{};var n=bX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cN(t,e){return TX(t)||SX(t,e)||xX(t,e)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function TX(t){if(Array.isArray(t))return t}var aF=/[ \f\n\r\t\v\u2028\u2029]+/,sF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(aF));var a=o.map(function(c){return{word:c,width:Df(c,i).width}}),l=r?0:Df(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},AX=function(e,n,r,i,o){var a=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=xe(a),p=l,y=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(X,re){var Q=re.word,oe=re.width,te=X[X.length-1];if(te&&(i==null||o||te.width+oe+r<Number(i)))te.words.push(Q),te.width+=oe+r;else{var z={words:[Q],width:oe};X.push(z)}return X},[])},w=y(n),_=function(Y){return Y.reduce(function(X,re){return X.width>re.width?X:re})};if(!h)return w;for(var E="…",v=function(Y){var X=p.slice(0,Y),re=sF({breakAll:f,style:c,children:X+E}).wordsWithComputedWidth,Q=y(re),oe=Q.length>a||_(Q).width>Number(i);return[oe,Q]},P=0,A=p.length-1,N=0,j;P<=A&&N<=p.length-1;){var I=Math.floor((P+A)/2),D=I-1,C=v(D),R=cN(C,2),M=R[0],F=R[1],L=v(I),V=cN(L,1),O=V[0];if(!M&&!O&&(P=I+1),M&&O&&(A=I-1),!M&&O){j=F;break}N++}return j||w},dN=function(e){var n=Je(e)?[]:e.toString().split(aF);return[{words:n}]},PX=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!No.isSsr){var c,f,h=sF({breakAll:a,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,f=y}else return dN(i);return AX({breakAll:a,children:i,maxLines:l,style:o},c,f,n,r)}return dN(i)},hN="#808080",jm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,w=y===void 0?"start":y,_=e.verticalAnchor,E=_===void 0?"end":_,v=e.fill,P=v===void 0?hN:v,A=lN(e,_X),N=B.useMemo(function(){return PX({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),j=A.dx,I=A.dy,D=A.angle,C=A.className,R=A.breakAll,M=lN(A,wX);if(!ln(r)||!ln(o))return null;var F=r+(xe(j)?j:0),L=o+(xe(I)?I:0),V;switch(E){case"start":V=Tb("calc(".concat(f,")"));break;case"middle":V=Tb("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:V=Tb("calc(".concat(N.length-1," * -").concat(l,")"));break}var O=[];if(p){var W=N[0].width,Y=A.width;O.push("scale(".concat((xe(Y)?Y/W:1)/W,")"))}return D&&O.push("rotate(".concat(D,", ").concat(F,", ").concat(L,")")),O.length&&(M.transform=O.join(" ")),J.createElement("text",hE({},rt(M,!0),{x:F,y:L,className:st("recharts-text",C),textAnchor:w,fill:P.includes("url")?hN:P}),N.map(function(X,re){var Q=X.words.join(R?"":" ");return J.createElement("tspan",{x:F,dy:re===0?V:l,key:"".concat(Q,"-").concat(re)},Q)}))};function La(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HS(t){let e,n,r;t.length!==2?(e=La,n=(l,c)=>La(t(l),c),r=(l,c)=>t(l)-c):(e=t===La||t===IX?t:CX,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:o}}function CX(){return 0}function uF(t){return t===null?NaN:+t}function*OX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const RX=HS(La),th=RX.right;HS(uF).center;class pN extends Map{constructor(e,n=MX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mN(this,e))}has(e){return super.has(mN(this,e))}set(e,n){return super.set(kX(this,e),n)}delete(e){return super.delete(NX(this,e))}}function mN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function NX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DX(t=La){if(t===La)return lF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function lF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jX=Math.sqrt(50),LX=Math.sqrt(10),$X=Math.sqrt(2);function Lm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=jX?10:o>=LX?5:o>=$X?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Lm(t,e,n*2):[l,c,f]}function pE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Lm(e,t,n):Lm(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)c[f]=(o-f)/-a;else for(let f=0;f<l;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)c[f]=(i+f)/-a;else for(let f=0;f<l;++f)c[f]=(i+f)*a;return c}function mE(t,e,n){return e=+e,t=+t,n=+n,Lm(t,e,n)[2]}function gE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mE(e,t,n):mE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?lF:DX(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),w=Math.max(n,Math.floor(e-f*p/c+y)),_=Math.min(r,Math.floor(e+(c-f)*p/c+y));cF(t,e,w,_,i)}const o=t[e];let a=n,l=r;for(lf(t,n,e),i(t[r],o)>0&&lf(t,n,r);a<l;){for(lf(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?lf(t,n,l):(++l,lf(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function lf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function FX(t,e,n){if(t=Float64Array.from(OX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yN(t);if(e>=1)return gN(t);var r,i=(r-1)*e,o=Math.floor(i),a=gN(cF(t,o).subarray(0,o+1)),l=yN(t.subarray(o+1));return a+(l-a)*(i-o)}}function VX(t,e,n=uF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function UX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Zr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yE=Symbol("implicit");function GS(){var t=new pN,e=[],n=[],r=yE;function i(o){let a=t.get(o);if(a===void 0){if(r!==yE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pN;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return GS(e,n).unknown(r)},Zr.apply(i,arguments),i}function sd(){var t=GS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,w=i<r,_=w?i:r,E=w?r:i;o=(E-_)/Math.max(1,y-c+f*2),l&&(o=Math.floor(o)),_+=(E-_-o*(y-c))*h,a=o*(1-c),l&&(_=Math.round(_),a=Math.round(a));var v=UX(y).map(function(P){return _+o*P});return n(w?v.reverse():v)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return sd(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Zr.apply(p(),arguments)}function fF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fF(e())},t}function jf(){return fF(sd.apply(null,arguments).paddingInner(1))}function KS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nh(){}var ud=.7,$m=1/ud,yl="\\s*([+-]?\\d+)\\s*",ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BX=/^#([0-9a-f]{3,8})$/,qX=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),zX=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),WX=new RegExp(`^rgba\\(${yl},${yl},${yl},${ld}\\)$`),HX=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${ld}\\)$`),GX=new RegExp(`^hsl\\(${ld},${Zi},${Zi}\\)$`),KX=new RegExp(`^hsla\\(${ld},${Zi},${Zi},${ld}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KS(nh,cd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_N,formatHex:_N,formatHex8:YX,formatHsl:XX,formatRgb:wN,toString:wN});function _N(){return this.rgb().formatHex()}function YX(){return this.rgb().formatHex8()}function XX(){return hF(this).formatHsl()}function wN(){return this.rgb().formatRgb()}function cd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=BX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bN(e):n===3?new dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qX.exec(t))?new dr(e[1],e[2],e[3],1):(e=zX.exec(t))?new dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WX.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=HX.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=GX.exec(t))?SN(e[1],e[2]/100,e[3]/100,1):(e=KX.exec(t))?SN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?bN(vN[t]):t==="transparent"?new dr(NaN,NaN,NaN,0):null}function bN(t){return new dr(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,n,r){return r<=0&&(t=e=n=NaN),new dr(t,e,n,r)}function QX(t){return t instanceof nh||(t=cd(t)),t?(t=t.rgb(),new dr(t.r,t.g,t.b,t.opacity)):new dr}function vE(t,e,n,r){return arguments.length===1?QX(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}KS(dr,vE,dF(nh,{brighter(t){return t=t==null?$m:Math.pow($m,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ud:Math.pow(ud,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dr(Hs(this.r),Hs(this.g),Hs(this.b),Fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EN,formatHex:EN,formatHex8:JX,formatRgb:xN,toString:xN}));function EN(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function JX(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function xN(){const t=Fm(this.opacity);return`${t===1?"rgb(":"rgba("}${Hs(this.r)}, ${Hs(this.g)}, ${Hs(this.b)}${t===1?")":`, ${t})`}`}function Fm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Us(t){return t=Hs(t),(t<16?"0":"")+t.toString(16)}function SN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,n,r)}function hF(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof nh||(t=cd(t)),!t)return new bi;if(t instanceof bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,c=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new bi(a,l,c,t.opacity)}function ZX(t,e,n,r){return arguments.length===1?hF(t):new bi(t,e,n,r??1)}function bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}KS(bi,ZX,dF(nh,{brighter(t){return t=t==null?$m:Math.pow($m,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ud:Math.pow(ud,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dr(Ab(t>=240?t-240:t+120,i,r),Ab(t,i,r),Ab(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bi(TN(this.h),jp(this.s),jp(this.l),Fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fm(this.opacity);return`${t===1?"hsl(":"hsla("}${TN(this.h)}, ${jp(this.s)*100}%, ${jp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TN(t){return t=(t||0)%360,t<0?t+360:t}function jp(t){return Math.max(0,Math.min(1,t||0))}function Ab(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YS=t=>()=>t;function eQ(t,e){return function(n){return t+n*e}}function tQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nQ(t){return(t=+t)==1?pF:function(e,n){return n-e?tQ(e,n,t):YS(isNaN(e)?n:e)}}function pF(t,e){var n=e-t;return n?eQ(t,n):YS(isNaN(t)?e:t)}const AN=function t(e){var n=nQ(e);function r(i,o){var a=n((i=vE(i)).r,(o=vE(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=pF(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r}(1);function rQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function iQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=lc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function aQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var _E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pb=new RegExp(_E.source,"g");function uQ(t){return function(){return t}}function lQ(t){return function(e){return t(e)+""}}function cQ(t,e){var n=_E.lastIndex=Pb.lastIndex=0,r,i,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=_E.exec(t))&&(i=Pb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Vm(r,i)})),n=Pb.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?lQ(c[0].x):uQ(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function lc(t,e){var n=typeof e,r;return e==null||n==="boolean"?YS(e):(n==="number"?Vm:n==="string"?(r=cd(e))?(e=r,AN):cQ:e instanceof cd?AN:e instanceof Date?aQ:iQ(e)?rQ:Array.isArray(e)?oQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sQ:Vm)(t,e)}function XS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fQ(t,e){e===void 0&&(e=t,t=lc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function dQ(t){return function(){return t}}function Um(t){return+t}var PN=[0,1];function Qn(t){return t}function wE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dQ(isNaN(e)?NaN:.5)}function hQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function pQ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wE(i,r),o=n(a,o)):(r=wE(r,i),o=n(o,a)),function(l){return o(r(l))}}function mQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var c=th(t,l,1,r)-1;return o[c](i[c](l))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ay(){var t=PN,e=PN,n=lc,r,i,o,a=Qn,l,c,f;function h(){var y=Math.min(t.length,e.length);return a!==Qn&&(a=hQ(t[0],t[y-1])),l=y>2?mQ:pQ,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=l(t.map(r),e,n)))(r(a(y)))}return p.invert=function(y){return a(i((f||(f=l(e,t.map(r),Vm)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Um),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=XS,h()},p.clamp=function(y){return arguments.length?(a=y?!0:Qn,h()):a!==Qn},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,w){return r=y,i=w,h()}}function QS(){return ay()(Qn,Qn)}function gQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kl(t){return t=Bm(Math.abs(t)),t?t[1]:NaN}function yQ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function vQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _Q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fd(t){if(!(e=_Q.exec(t)))throw new Error("invalid format: "+t);var e;return new JS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fd.prototype=JS.prototype;function JS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mF;function bQ(t,e){var n=Bm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bm(t,Math.max(0,e+o-1))[0]}function IN(t,e){var n=Bm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IN(t*100,e),r:IN,s:bQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ON(t){return t}var RN=Array.prototype.map,kN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EQ(t){var e=t.grouping===void 0||t.thousands===void 0?ON:yQ(RN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ON:vQ(RN.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=fd(p);var y=p.fill,w=p.align,_=p.sign,E=p.symbol,v=p.zero,P=p.width,A=p.comma,N=p.precision,j=p.trim,I=p.type;I==="n"?(A=!0,I="g"):CN[I]||(N===void 0&&(N=12),j=!0,I="g"),(v||y==="0"&&w==="=")&&(v=!0,y="0",w="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",C=E==="$"?r:/[%p]/.test(I)?a:"",R=CN[I],M=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(L){var V=D,O=C,W,Y,X;if(I==="c")O=R(L)+O,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?c:R(Math.abs(L),N),j&&(L=wQ(L)),re&&+L==0&&_!=="+"&&(re=!1),V=(re?_==="("?_:l:_==="-"||_==="("?"":_)+V,O=(I==="s"?kN[8+mF/3]:"")+O+(re&&_==="("?")":""),M){for(W=-1,Y=L.length;++W<Y;)if(X=L.charCodeAt(W),48>X||X>57){O=(X===46?i+L.slice(W+1):L.slice(W))+O,L=L.slice(0,W);break}}}A&&!v&&(L=e(L,1/0));var Q=V.length+L.length+O.length,oe=Q<P?new Array(P-Q+1).join(y):"";switch(A&&v&&(L=e(oe+L,oe.length?P-O.length:1/0),oe=""),w){case"<":L=V+L+O+oe;break;case"=":L=V+oe+L+O;break;case"^":L=oe.slice(0,Q=oe.length>>1)+V+L+O+oe.slice(Q);break;default:L=oe+V+L+O;break}return o(L)}return F.toString=function(){return p+""},F}function h(p,y){var w=f((p=fd(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(kl(y)/3)))*3,E=Math.pow(10,-_),v=kN[8+_/3];return function(P){return w(E*P)+v}}return{format:f,formatPrefix:h}}var Lp,ZS,gF;xQ({thousands:",",grouping:[3],currency:["$",""]});function xQ(t){return Lp=EQ(t),ZS=Lp.format,gF=Lp.formatPrefix,Lp}function SQ(t){return Math.max(0,-kl(Math.abs(t)))}function TQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kl(e)/3)))*3-kl(Math.abs(t)))}function AQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kl(e)-kl(t))+1}function yF(t,e,n,r){var i=gE(t,e,n),o;switch(r=fd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=TQ(i,a))&&(r.precision=o),gF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=AQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=SQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return ZS(r)}function es(t){var e=t.domain;return t.ticks=function(n){var r=e();return pE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],c,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=mE(a,l,n),f===c)return r[i]=a,r[o]=l,e(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function qm(){var t=QS();return t.copy=function(){return rh(t,qm())},Zr.apply(t,arguments),es(t)}function vF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Um),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vF(t).unknown(e)},t=arguments.length?Array.from(t,Um):[0,1],es(n)}function _F(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function NN(t){return Math.log(t)}function MN(t){return Math.exp(t)}function PQ(t){return-Math.log(-t)}function IQ(t){return-Math.exp(-t)}function CQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OQ(t){return t===10?CQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function RQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DN(t){return(e,n)=>-t(-e,n)}function eT(t){const e=t(NN,MN),n=e.domain;let r=10,i,o;function a(){return i=RQ(r),o=OQ(r),n()[0]<0?(i=DN(i),o=DN(o),t(PQ,IQ)):t(NN,MN),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),w=i(h),_,E;const v=l==null?10:+l;let P=[];if(!(r%1)&&w-y<v){if(y=Math.floor(y),w=Math.ceil(w),f>0){for(;y<=w;++y)for(_=1;_<r;++_)if(E=y<0?_/o(-y):_*o(y),!(E<f)){if(E>h)break;P.push(E)}}else for(;y<=w;++y)for(_=r-1;_>=1;--_)if(E=y>0?_/o(-y):_*o(y),!(E<f)){if(E>h)break;P.push(E)}P.length*2<v&&(P=pE(f,h,v))}else P=pE(y,w,Math.min(w-y,v)).map(o);return p?P.reverse():P},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fd(c)).precision==null&&(c.trim=!0),c=ZS(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(_F(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function wF(){const t=eT(ay()).domain([1,10]);return t.copy=()=>rh(t,wF()).base(t.base()),Zr.apply(t,arguments),t}function jN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tT(t){var e=1,n=t(jN(e),LN(e));return n.constant=function(r){return arguments.length?t(jN(e=+r),LN(e)):e},es(n)}function bF(){var t=tT(ay());return t.copy=function(){return rh(t,bF()).constant(t.constant())},Zr.apply(t,arguments)}function $N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NQ(t){return t<0?-t*t:t*t}function nT(t){var e=t(Qn,Qn),n=1;function r(){return n===1?t(Qn,Qn):n===.5?t(kQ,NQ):t($N(n),$N(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},es(e)}function rT(){var t=nT(ay());return t.copy=function(){return rh(t,rT()).exponent(t.exponent())},Zr.apply(t,arguments),t}function MQ(){return rT.apply(null,arguments).exponent(.5)}function FN(t){return Math.sign(t)*t*t}function DQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EF(){var t=QS(),e=[0,1],n=!1,r;function i(o){var a=DQ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(FN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Um)).map(FN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zr.apply(i,arguments),es(i)}function xF(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=VX(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[th(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(La),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xF().domain(t).range(e).unknown(r)},Zr.apply(o,arguments)}function SF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[th(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return SF().domain([t,e]).range(i).unknown(o)},Zr.apply(es(a),arguments)}function TF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[th(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return TF().domain(t).range(e).unknown(n)},Zr.apply(i,arguments)}const Ib=new Date,Cb=new Date;function dn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<a);return c},i.filter=o=>dn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ib.setTime(+o),Cb.setTime(+a),t(Ib),t(Cb),Math.floor(n(Ib,Cb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const zm=dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zm);zm.range;const Po=1e3,Hr=Po*60,Io=Hr*60,Vo=Io*24,iT=Vo*7,VN=Vo*30,Ob=Vo*365,Bs=dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCSeconds());Bs.range;const oT=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getMinutes());oT.range;const aT=dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getUTCMinutes());aT.range;const sT=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po-t.getMinutes()*Hr)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getHours());sT.range;const uT=dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCHours());uT.range;const ih=dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/Vo,t=>t.getDate()-1);ih.range;const sy=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);sy.range;const AF=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));AF.range;function cu(t){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/iT)}const uy=cu(0),Wm=cu(1),jQ=cu(2),LQ=cu(3),Nl=cu(4),$Q=cu(5),FQ=cu(6);uy.range;Wm.range;jQ.range;LQ.range;Nl.range;$Q.range;FQ.range;function fu(t){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iT)}const ly=fu(0),Hm=fu(1),VQ=fu(2),UQ=fu(3),Ml=fu(4),BQ=fu(5),qQ=fu(6);ly.range;Hm.range;VQ.range;UQ.range;Ml.range;BQ.range;qQ.range;const lT=dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lT.range;const cT=dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cT.range;const Uo=dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Uo.range;const Bo=dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bo.range;function PF(t,e,n,r,i,o){const a=[[Bs,1,Po],[Bs,5,5*Po],[Bs,15,15*Po],[Bs,30,30*Po],[o,1,Hr],[o,5,5*Hr],[o,15,15*Hr],[o,30,30*Hr],[i,1,Io],[i,3,3*Io],[i,6,6*Io],[i,12,12*Io],[r,1,Vo],[r,2,2*Vo],[n,1,iT],[e,1,VN],[e,3,3*VN],[t,1,Ob]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const w=p&&typeof p.range=="function"?p:c(f,h,p),_=w?w.range(f,+h+1):[];return y?_.reverse():_}function c(f,h,p){const y=Math.abs(h-f)/p,w=HS(([,,v])=>v).right(a,y);if(w===a.length)return t.every(gE(f/Ob,h/Ob,p));if(w===0)return zm.every(Math.max(gE(f,h,p),1));const[_,E]=a[y/a[w-1][2]<a[w][2]/y?w-1:w];return _.every(E)}return[l,c]}const[zQ,WQ]=PF(Bo,cT,ly,AF,uT,aT),[HQ,GQ]=PF(Uo,lT,uy,ih,sT,oT);function Rb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function KQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,f=ff(i),h=df(i),p=ff(o),y=df(o),w=ff(a),_=df(a),E=ff(l),v=df(l),P=ff(c),A=df(c),N={a:re,A:Q,b:oe,B:te,c:null,d:HN,e:HN,f:yJ,g:PJ,G:CJ,H:pJ,I:mJ,j:gJ,L:IF,m:vJ,M:_J,p:z,q:K,Q:YN,s:XN,S:wJ,u:bJ,U:EJ,V:xJ,w:SJ,W:TJ,x:null,X:null,y:AJ,Y:IJ,Z:OJ,"%":KN},j={a:le,A:be,b:Ce,B:Le,c:null,d:GN,e:GN,f:MJ,g:zJ,G:HJ,H:RJ,I:kJ,j:NJ,L:OF,m:DJ,M:jJ,p:Ge,q:he,Q:YN,s:XN,S:LJ,u:$J,U:FJ,V:VJ,w:UJ,W:BJ,x:null,X:null,y:qJ,Y:WJ,Z:GJ,"%":KN},I={a:F,A:L,b:V,B:O,c:W,d:zN,e:zN,f:cJ,g:qN,G:BN,H:WN,I:WN,j:aJ,L:lJ,m:oJ,M:sJ,p:M,q:iJ,Q:dJ,s:hJ,S:uJ,u:ZQ,U:eJ,V:tJ,w:JQ,W:nJ,x:Y,X,y:qN,Y:BN,Z:rJ,"%":fJ};N.x=D(n,N),N.X=D(r,N),N.c=D(e,N),j.x=D(n,j),j.X=D(r,j),j.c=D(e,j);function D(ae,ve){return function(Ae){var de=[],qe=-1,Me=0,ht=ae.length,yt,Vt,pr;for(Ae instanceof Date||(Ae=new Date(+Ae));++qe<ht;)ae.charCodeAt(qe)===37&&(de.push(ae.slice(Me,qe)),(Vt=UN[yt=ae.charAt(++qe)])!=null?yt=ae.charAt(++qe):Vt=yt==="e"?" ":"0",(pr=ve[yt])&&(yt=pr(Ae,Vt)),de.push(yt),Me=qe+1);return de.push(ae.slice(Me,qe)),de.join("")}}function C(ae,ve){return function(Ae){var de=cf(1900,void 0,1),qe=R(de,ae,Ae+="",0),Me,ht;if(qe!=Ae.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ve&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Me=kb(cf(de.y,0,1)),ht=Me.getUTCDay(),Me=ht>4||ht===0?Hm.ceil(Me):Hm(Me),Me=sy.offset(Me,(de.V-1)*7),de.y=Me.getUTCFullYear(),de.m=Me.getUTCMonth(),de.d=Me.getUTCDate()+(de.w+6)%7):(Me=Rb(cf(de.y,0,1)),ht=Me.getDay(),Me=ht>4||ht===0?Wm.ceil(Me):Wm(Me),Me=ih.offset(Me,(de.V-1)*7),de.y=Me.getFullYear(),de.m=Me.getMonth(),de.d=Me.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ht="Z"in de?kb(cf(de.y,0,1)).getUTCDay():Rb(cf(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ht+5)%7:de.w+de.U*7-(ht+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,kb(de)):Rb(de)}}function R(ae,ve,Ae,de){for(var qe=0,Me=ve.length,ht=Ae.length,yt,Vt;qe<Me;){if(de>=ht)return-1;if(yt=ve.charCodeAt(qe++),yt===37){if(yt=ve.charAt(qe++),Vt=I[yt in UN?ve.charAt(qe++):yt],!Vt||(de=Vt(ae,Ae,de))<0)return-1}else if(yt!=Ae.charCodeAt(de++))return-1}return de}function M(ae,ve,Ae){var de=f.exec(ve.slice(Ae));return de?(ae.p=h.get(de[0].toLowerCase()),Ae+de[0].length):-1}function F(ae,ve,Ae){var de=w.exec(ve.slice(Ae));return de?(ae.w=_.get(de[0].toLowerCase()),Ae+de[0].length):-1}function L(ae,ve,Ae){var de=p.exec(ve.slice(Ae));return de?(ae.w=y.get(de[0].toLowerCase()),Ae+de[0].length):-1}function V(ae,ve,Ae){var de=P.exec(ve.slice(Ae));return de?(ae.m=A.get(de[0].toLowerCase()),Ae+de[0].length):-1}function O(ae,ve,Ae){var de=E.exec(ve.slice(Ae));return de?(ae.m=v.get(de[0].toLowerCase()),Ae+de[0].length):-1}function W(ae,ve,Ae){return R(ae,e,ve,Ae)}function Y(ae,ve,Ae){return R(ae,n,ve,Ae)}function X(ae,ve,Ae){return R(ae,r,ve,Ae)}function re(ae){return a[ae.getDay()]}function Q(ae){return o[ae.getDay()]}function oe(ae){return c[ae.getMonth()]}function te(ae){return l[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function K(ae){return 1+~~(ae.getMonth()/3)}function le(ae){return a[ae.getUTCDay()]}function be(ae){return o[ae.getUTCDay()]}function Ce(ae){return c[ae.getUTCMonth()]}function Le(ae){return l[ae.getUTCMonth()]}function Ge(ae){return i[+(ae.getUTCHours()>=12)]}function he(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ve=D(ae+="",N);return ve.toString=function(){return ae},ve},parse:function(ae){var ve=C(ae+="",!1);return ve.toString=function(){return ae},ve},utcFormat:function(ae){var ve=D(ae+="",j);return ve.toString=function(){return ae},ve},utcParse:function(ae){var ve=C(ae+="",!0);return ve.toString=function(){return ae},ve}}}var UN={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,YQ=/^%/,XQ=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function QQ(t){return t.replace(XQ,"\\$&")}function ff(t){return new RegExp("^(?:"+t.map(QQ).join("|")+")","i")}function df(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function JQ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function BN(t,e,n){var r=wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qN(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iJ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zN(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function aJ(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WN(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uJ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lJ(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cJ(t,e,n){var r=wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fJ(t,e,n){var r=YQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dJ(t,e,n){var r=wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hJ(t,e,n){var r=wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HN(t,e){return ut(t.getDate(),e,2)}function pJ(t,e){return ut(t.getHours(),e,2)}function mJ(t,e){return ut(t.getHours()%12||12,e,2)}function gJ(t,e){return ut(1+ih.count(Uo(t),t),e,3)}function IF(t,e){return ut(t.getMilliseconds(),e,3)}function yJ(t,e){return IF(t,e)+"000"}function vJ(t,e){return ut(t.getMonth()+1,e,2)}function _J(t,e){return ut(t.getMinutes(),e,2)}function wJ(t,e){return ut(t.getSeconds(),e,2)}function bJ(t){var e=t.getDay();return e===0?7:e}function EJ(t,e){return ut(uy.count(Uo(t)-1,t),e,2)}function CF(t){var e=t.getDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function xJ(t,e){return t=CF(t),ut(Nl.count(Uo(t),t)+(Uo(t).getDay()===4),e,2)}function SJ(t){return t.getDay()}function TJ(t,e){return ut(Wm.count(Uo(t)-1,t),e,2)}function AJ(t,e){return ut(t.getFullYear()%100,e,2)}function PJ(t,e){return t=CF(t),ut(t.getFullYear()%100,e,2)}function IJ(t,e){return ut(t.getFullYear()%1e4,e,4)}function CJ(t,e){var n=t.getDay();return t=n>=4||n===0?Nl(t):Nl.ceil(t),ut(t.getFullYear()%1e4,e,4)}function OJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function GN(t,e){return ut(t.getUTCDate(),e,2)}function RJ(t,e){return ut(t.getUTCHours(),e,2)}function kJ(t,e){return ut(t.getUTCHours()%12||12,e,2)}function NJ(t,e){return ut(1+sy.count(Bo(t),t),e,3)}function OF(t,e){return ut(t.getUTCMilliseconds(),e,3)}function MJ(t,e){return OF(t,e)+"000"}function DJ(t,e){return ut(t.getUTCMonth()+1,e,2)}function jJ(t,e){return ut(t.getUTCMinutes(),e,2)}function LJ(t,e){return ut(t.getUTCSeconds(),e,2)}function $J(t){var e=t.getUTCDay();return e===0?7:e}function FJ(t,e){return ut(ly.count(Bo(t)-1,t),e,2)}function RF(t){var e=t.getUTCDay();return e>=4||e===0?Ml(t):Ml.ceil(t)}function VJ(t,e){return t=RF(t),ut(Ml.count(Bo(t),t)+(Bo(t).getUTCDay()===4),e,2)}function UJ(t){return t.getUTCDay()}function BJ(t,e){return ut(Hm.count(Bo(t)-1,t),e,2)}function qJ(t,e){return ut(t.getUTCFullYear()%100,e,2)}function zJ(t,e){return t=RF(t),ut(t.getUTCFullYear()%100,e,2)}function WJ(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function HJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ml(t):Ml.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function GJ(){return"+0000"}function KN(){return"%"}function YN(t){return+t}function XN(t){return Math.floor(+t/1e3)}var el,kF,NF;KJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KJ(t){return el=KQ(t),kF=el.format,el.parse,NF=el.utcFormat,el.utcParse,el}function YJ(t){return new Date(t)}function XJ(t){return t instanceof Date?+t:+new Date(+t)}function fT(t,e,n,r,i,o,a,l,c,f){var h=QS(),p=h.invert,y=h.domain,w=f(".%L"),_=f(":%S"),E=f("%I:%M"),v=f("%I %p"),P=f("%a %d"),A=f("%b %d"),N=f("%B"),j=f("%Y");function I(D){return(c(D)<D?w:l(D)<D?_:a(D)<D?E:o(D)<D?v:r(D)<D?i(D)<D?P:A:n(D)<D?N:j)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?y(Array.from(D,XJ)):y().map(YJ)},h.ticks=function(D){var C=y();return t(C[0],C[C.length-1],D??10)},h.tickFormat=function(D,C){return C==null?I:f(C)},h.nice=function(D){var C=y();return(!D||typeof D.range!="function")&&(D=e(C[0],C[C.length-1],D??10)),D?y(_F(C,D)):h},h.copy=function(){return rh(h,fT(t,e,n,r,i,o,a,l,c,f))},h}function QJ(){return Zr.apply(fT(HQ,GQ,Uo,lT,uy,ih,sT,oT,Bs,kF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JJ(){return Zr.apply(fT(zQ,WQ,Bo,cT,ly,sy,uT,aT,Bs,NF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cy(){var t=0,e=1,n,r,i,o,a=Qn,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(y){var w,_;return arguments.length?([w,_]=y,a=p(w,_),f):[a(0),a(1)]}}return f.range=h(lc),f.rangeRound=h(XS),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MF(){var t=es(cy()(Qn));return t.copy=function(){return ts(t,MF())},Yo.apply(t,arguments)}function DF(){var t=eT(cy()).domain([1,10]);return t.copy=function(){return ts(t,DF()).base(t.base())},Yo.apply(t,arguments)}function jF(){var t=tT(cy());return t.copy=function(){return ts(t,jF()).constant(t.constant())},Yo.apply(t,arguments)}function dT(){var t=nT(cy());return t.copy=function(){return ts(t,dT()).exponent(t.exponent())},Yo.apply(t,arguments)}function ZJ(){return dT.apply(null,arguments).exponent(.5)}function LF(){var t=[],e=Qn;function n(r){if(r!=null&&!isNaN(r=+r))return e((th(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(La),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>FX(t,o/r))},n.copy=function(){return LF(e).domain(t)},Yo.apply(n,arguments)}function fy(){var t=0,e=.5,n=1,r=1,i,o,a,l,c,f=Qn,h,p=!1,y;function w(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?l:c),f(p?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),o=h(e=+e),a=h(n=+n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(p=!!E,w):p},w.interpolator=function(E){return arguments.length?(f=E,w):f};function _(E){return function(v){var P,A,N;return arguments.length?([P,A,N]=v,f=fQ(E,[P,A,N]),w):[f(0),f(.5),f(1)]}}return w.range=_(lc),w.rangeRound=_(XS),w.unknown=function(E){return arguments.length?(y=E,w):y},function(E){return h=E,i=E(t),o=E(e),a=E(n),l=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,w}}function $F(){var t=es(fy()(Qn));return t.copy=function(){return ts(t,$F())},Yo.apply(t,arguments)}function FF(){var t=eT(fy()).domain([.1,1,10]);return t.copy=function(){return ts(t,FF()).base(t.base())},Yo.apply(t,arguments)}function VF(){var t=tT(fy());return t.copy=function(){return ts(t,VF()).constant(t.constant())},Yo.apply(t,arguments)}function hT(){var t=nT(fy());return t.copy=function(){return ts(t,hT()).exponent(t.exponent())},Yo.apply(t,arguments)}function eZ(){return hT.apply(null,arguments).exponent(.5)}const QN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sd,scaleDiverging:$F,scaleDivergingLog:FF,scaleDivergingPow:hT,scaleDivergingSqrt:eZ,scaleDivergingSymlog:VF,scaleIdentity:vF,scaleImplicit:yE,scaleLinear:qm,scaleLog:wF,scaleOrdinal:GS,scalePoint:jf,scalePow:rT,scaleQuantile:xF,scaleQuantize:SF,scaleRadial:EF,scaleSequential:MF,scaleSequentialLog:DF,scaleSequentialPow:dT,scaleSequentialQuantile:LF,scaleSequentialSqrt:ZJ,scaleSequentialSymlog:jF,scaleSqrt:MQ,scaleSymlog:bF,scaleThreshold:TF,scaleTime:QJ,scaleUtc:JJ,tickFormat:yF},Symbol.toStringTag,{value:"Module"}));var Nb,JN;function UF(){if(JN)return Nb;JN=1;var t=ac();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return Nb=e,Nb}var Mb,ZN;function tZ(){if(ZN)return Mb;ZN=1;function t(e,n){return e>n}return Mb=t,Mb}var Db,e2;function nZ(){if(e2)return Db;e2=1;var t=UF(),e=tZ(),n=uc();function r(i){return i&&i.length?t(i,n,e):void 0}return Db=r,Db}var rZ=nZ();const dy=Tt(rZ);var jb,t2;function iZ(){if(t2)return jb;t2=1;function t(e,n){return e<n}return jb=t,jb}var Lb,n2;function oZ(){if(n2)return Lb;n2=1;var t=UF(),e=iZ(),n=uc();function r(i){return i&&i.length?t(i,n,e):void 0}return Lb=r,Lb}var aZ=oZ();const hy=Tt(aZ);var $b,r2;function sZ(){if(r2)return $b;r2=1;var t=CS(),e=Za(),n=Y$(),r=hr();function i(o,a){var l=r(o)?t:n;return l(o,e(a,3))}return $b=i,$b}var Fb,i2;function uZ(){if(i2)return Fb;i2=1;var t=G$(),e=sZ();function n(r,i){return t(e(r,i),1)}return Fb=n,Fb}var lZ=uZ();const cZ=Tt(lZ);var Vb,o2;function fZ(){if(o2)return Vb;o2=1;var t=BS();function e(n,r){return t(n,r)}return Vb=e,Vb}var dZ=fZ();const py=Tt(dZ);var cc=1e9,hZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mT,kt=!0,Jr="[DecimalError] ",Gs=Jr+"Invalid argument: ",pT=Jr+"Exponent out of range: ",fc=Math.floor,js=Math.pow,pZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,_n=1e7,It=7,BF=9007199254740991,Gm=fc(BF/It),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Mo(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return wt(Mo(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return tn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ir))throw Error(Jr+"NaN");if(n.s<1)throw Error(Jr+(n.s?"NaN":"-Infinity"));return n.eq(Ir)?new r(0):(kt=!1,e=Mo(dd(n,o),dd(t,o),o),kt=!0,wt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WF(e,t):qF(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Jr+"NaN");return n.s?(kt=!1,e=Mo(n,t,0,1).times(t),kt=!0,n.minus(e)):wt(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return zF(this)};Ie.naturalLogarithm=Ie.ln=function(){return dd(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qF(e,t):WF(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gs+t);if(e=tn(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,o,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Jr+"NaN")}for(t=tn(l),kt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Gi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Mo(l,o,a+2)).times(.5),Gi(o.d).slice(0,a)===(e=Gi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(wt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return kt=!0,wt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,o,a,l,c,f,h=this,p=h.constructor,y=h.d,w=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=w.length,c<f&&(o=y,y=w,w=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+w[r]*y[i-r-1]+e,o[i--]=l%_n|0,e=l/_n|0;o[i]=(o[i]+e)%_n|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,kt?wt(t,p.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(no(t,0,cc),e===void 0?e=r.rounding:no(e,0,8),wt(n,t+tn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=tu(r,!0):(no(t,0,cc),e===void 0?e=i.rounding:no(e,0,8),r=wt(new i(r),t+1,e),n=tu(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?tu(i):(no(t,0,cc),e===void 0?e=o.rounding:no(e,0,8),r=wt(new o(i),t+tn(i)+1,e),n=tu(r.abs(),!1,t+tn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return wt(new e(t),tn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,o,a,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Ir);if(l=new c(l),!l.s){if(t.s<1)throw Error(Jr+"Infinity");return l}if(l.eq(Ir))return l;if(r=c.precision,t.eq(Ir))return wt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=h<0?-h:h)<=BF){for(i=new c(Ir),e=Math.ceil(r/It+4),kt=!1;n%2&&(i=i.times(l),s2(i.d,e)),n=fc(n/2),n!==0;)l=l.times(l),s2(l.d,e);return kt=!0,t.s<0?new c(Ir).div(i):wt(i,r)}}else if(o<0)throw Error(Jr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,kt=!1,i=t.times(dd(l,r+f)),kt=!0,i=zF(i),i.s=o,i};Ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=tn(i),r=tu(i,n<=o.toExpNeg||n>=o.toExpPos)):(no(t,1,cc),e===void 0?e=o.rounding:no(e,0,8),i=wt(new o(i),t,e),n=tn(i),r=tu(i,t<=n||n<=o.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(no(t,1,cc),e===void 0?e=r.rounding:no(e,0,8)),wt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tn(t),n=t.constructor;return tu(t,e<=n.toExpNeg||e>=n.toExpPos)};function qF(t,e){var n,r,i,o,a,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),kt?wt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=a,l=c.length),a=Math.ceil(p/It),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/_n|0,c[o]%=_n;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,kt?wt(e,p):e}function no(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gs+t)}function Gi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(o+=xa(n)),o+=r;a=t[e],r=a+"",n=It-r.length,n&&(o+=xa(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Mo=function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%_n|0,a=o/_n|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,c;if(o!=a)c=o>a?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*_n+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,c,f,h,p,y,w,_,E,v,P,A,N,j,I,D,C,R,M=r.constructor,F=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Jr+"Division by zero");for(c=r.e-i.e,C=V.length,I=L.length,w=new M(F),_=w.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,o==null?A=o=M.precision:a?A=o+(tn(r)-tn(i))+1:A=o,A<0)return new M(0);if(A=A/It+2|0,f=0,C==1)for(h=0,V=V[0],A++;(f<I||h)&&A--;f++)N=h*_n+(L[f]||0),_[f]=N/V|0,h=N%V|0;else{for(h=_n/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),C=V.length,I=L.length),j=C,E=L.slice(0,C),v=E.length;v<C;)E[v++]=0;R=V.slice(),R.unshift(0),D=V[0],V[1]>=_n/2&&++D;do h=0,l=e(V,E,C,v),l<0?(P=E[0],C!=v&&(P=P*_n+(E[1]||0)),h=P/D|0,h>1?(h>=_n&&(h=_n-1),p=t(V,h),y=p.length,v=E.length,l=e(p,E,y,v),l==1&&(h--,n(p,C<y?R:V,y))):(h==0&&(l=h=1),p=V.slice()),y=p.length,y<v&&p.unshift(0),n(E,p,v),l==-1&&(v=E.length,l=e(V,E,C,v),l<1&&(h++,n(E,C<v?R:V,v))),v=E.length):l===0&&(h++,E=[0]),_[f++]=h,l&&E[0]?E[v++]=L[j]||0:(E=[L[j]],v=1);while((j++<I||E[0]!==void 0)&&A--)}return _[0]||_.shift(),w.e=c,wt(w,a?o+tn(w)+1:o)}}();function zF(t,e){var n,r,i,o,a,l,c=0,f=0,h=t.constructor,p=h.precision;if(tn(t)>16)throw Error(pT+tn(t));if(!t.s)return new h(Ir);for(e==null?(kt=!1,l=p):l=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(js(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(Ir),h.precision=l;;){if(i=wt(i.times(t),l),n=n.times(++c),a=o.plus(Mo(i,n,l)),Gi(a.d).slice(0,l)===Gi(o.d).slice(0,l)){for(;f--;)o=wt(o.times(o),l);return h.precision=p,e==null?(kt=!0,wt(o,p)):o}o=a}}function tn(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function Ub(t,e,n){if(e>t.LN10.sd())throw kt=!0,n&&(t.precision=n),Error(Jr+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function xa(t){for(var e="";t--;)e+="0";return e}function dd(t,e){var n,r,i,o,a,l,c,f,h,p=1,y=10,w=t,_=w.d,E=w.constructor,v=E.precision;if(w.s<1)throw Error(Jr+(w.s?"NaN":"-Infinity"));if(w.eq(Ir))return new E(0);if(e==null?(kt=!1,f=v):f=e,w.eq(10))return e==null&&(kt=!0),Ub(E,f);if(f+=y,E.precision=f,n=Gi(_),r=n.charAt(0),o=tn(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Gi(w.d),r=n.charAt(0),p++;o=tn(w),r>1?(w=new E("0."+n),o++):w=new E(r+"."+n.slice(1))}else return c=Ub(E,f+2,v).times(o+""),w=dd(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=v,e==null?(kt=!0,wt(w,v)):w;for(l=a=w=Mo(w.minus(Ir),w.plus(Ir),f),h=wt(w.times(w),f),i=3;;){if(a=wt(a.times(h),f),c=l.plus(Mo(a,new E(i),f)),Gi(c.d).slice(0,f)===Gi(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(Ub(E,f+2,v).times(o+""))),l=Mo(l,new E(p),f),E.precision=v,e==null?(kt=!0,wt(l,v)):l;l=c,i+=2}}function a2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=fc(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kt&&(t.e>Gm||t.e<-Gm))throw Error(pT+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,o,a,l,c,f,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=It,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/It),o=p.length,h>=o)return t;for(f=o=p[h],a=1;o>=10;o/=10)a++;r%=It,i=r-It+a}if(n!==void 0&&(o=js(10,a-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/js(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=tn(t),p.length=1,e=e-o-1,p[0]=js(10,(It-e%It)%It),t.e=fc(-e/It)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=js(10,It-r),p[h]=i>0?(f/js(10,a-i)%js(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==_n&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=_n)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(kt&&(t.e>Gm||t.e<-Gm))throw Error(pT+tn(t));return t}function WF(t,e){var n,r,i,o,a,l,c,f,h,p,y=t.constructor,w=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),kt?wt(e,w):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(h=a<0,h?(n=c,a=-a,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(w/It),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}a=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=_n-1;--c[o],c[i]+=_n}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,kt?wt(e,w):e):new y(0)}function tu(t,e,n){var r,i=tn(t),o=Gi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+xa(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+xa(-i-1)+o,n&&(r=n-a)>0&&(o+=xa(r))):i>=a?(o+=xa(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+xa(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=xa(r))),t.s<0?"-"+o:o}function s2(t,e){if(t.length>e)return t.length=e,!0}function HF(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gs+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return a2(a,o.toString())}else if(typeof o!="string")throw Error(Gs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,pZ.test(o))a2(a,o);else throw Error(Gs+o)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HF,i.config=i.set=mZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mZ(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,n,r,i=["precision",1,cc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(fc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gs+n+": "+r);return this}var mT=HF(hZ);Ir=new mT(1);const gt=mT;function gZ(t){return wZ(t)||_Z(t)||vZ(t)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function _Z(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wZ(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bZ=function(e){return e},GF={"@@functional/placeholder":!0},KF=function(e){return e===GF},u2=function(e){return function n(){return arguments.length===0||arguments.length===1&&KF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},EZ=function t(e,n){return e===1?n:u2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(l){return l!==GF}).length;return a>=e?n.apply(void 0,i):t(e-a,u2(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return KF(p)?c.shift():p});return n.apply(void 0,gZ(h).concat(c))}))})},my=function(e){return EZ(e.length,e)},EE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},xZ=my(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),SZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bZ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},xE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function TZ(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function AZ(t,e,n){for(var r=new gt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var PZ=my(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),IZ=my(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),CZ=my(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const gy={rangeStep:AZ,getDigitCount:TZ,interpolateNumber:PZ,uninterpolateNumber:IZ,uninterpolateTruncation:CZ};function SE(t){return kZ(t)||RZ(t)||XF(t)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kZ(t){if(Array.isArray(t))return TE(t)}function hd(t,e){return DZ(t)||MZ(t,e)||XF(t,e)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(t,e){if(t){if(typeof t=="string")return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(t,e)}}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MZ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function DZ(t){if(Array.isArray(t))return t}function QF(t){var e=hd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function JF(t,e,n){if(t.lte(0))return new gt(0);var r=gy.getDigitCount(t.toNumber()),i=new gt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new gt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new gt(Math.ceil(c))}function jZ(t,e,n){var r=1,i=new gt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new gt(10).pow(gy.getDigitCount(t)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):n||(i=new gt(Math.floor(t)));var a=Math.floor((e-1)/2),l=SZ(xZ(function(c){return i.add(new gt(c-a).mul(r)).toNumber()}),EE);return l(0,e)}function ZF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var o=JF(new gt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new gt(0):(a=new gt(t).add(e).div(2),a=a.sub(new gt(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new gt(e).sub(a).div(o).toNumber()),f=l+c+1;return f>n?ZF(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:a.sub(new gt(l).mul(o)),tickMax:a.add(new gt(c).mul(o))})}function LZ(t){var e=hd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=QF([n,r]),c=hd(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(SE(EE(0,i-1).map(function(){return 1/0}))):[].concat(SE(EE(0,i-1).map(function(){return-1/0})),[h]);return n>r?xE(p):p}if(f===h)return jZ(f,i,o);var y=ZF(f,h,a,o),w=y.step,_=y.tickMin,E=y.tickMax,v=gy.rangeStep(_,E.add(new gt(.1).mul(w)),w);return n>r?xE(v):v}function $Z(t,e){var n=hd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=QF([r,i]),l=hd(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=JF(new gt(f).sub(c).div(h-1),o,0),y=[].concat(SE(gy.rangeStep(new gt(c),new gt(f).sub(new gt(.99).mul(p)),p)),[f]);return r>i?xE(y):y}var FZ=YF(LZ),VZ=YF($Z),UZ="Invariant failed";function nu(t,e){throw new Error(UZ)}var BZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function qZ(t,e){return GZ(t)||HZ(t,e)||WZ(t,e)||zZ()}function zZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t,e){if(t){if(typeof t=="string")return l2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l2(t,e)}}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function GZ(t){if(Array.isArray(t))return t}function KZ(t,e){if(t==null)return{};var n=YZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nV(r.key),r)}}function JZ(t,e,n){return e&&QZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZZ(t,e,n){return e=Ym(e),eee(t,eV()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function eee(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tee(t)}function tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(t)}function nee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function tV(t,e,n){return e=nV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nV(t){var e=ree(t,"string");return Dl(e)=="symbol"?e:e+""}function ree(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oh=function(t){function e(){return XZ(this,e),ZZ(this,e,arguments)}return nee(e,t),JZ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,y=KZ(r,BZ),w=rt(y,!1);this.props.direction==="x"&&h.type!=="number"&&nu();var _=c.map(function(E){var v=f(E,l),P=v.x,A=v.y,N=v.value,j=v.errorVal;if(!j)return null;var I=[],D,C;if(Array.isArray(j)){var R=qZ(j,2);D=R[0],C=R[1]}else D=C=j;if(o==="vertical"){var M=h.scale,F=A+i,L=F+a,V=F-a,O=M(N-D),W=M(N+C);I.push({x1:W,y1:L,x2:W,y2:V}),I.push({x1:O,y1:F,x2:W,y2:F}),I.push({x1:O,y1:L,x2:O,y2:V})}else if(o==="horizontal"){var Y=p.scale,X=P+i,re=X-a,Q=X+a,oe=Y(N-D),te=Y(N+C);I.push({x1:re,y1:te,x2:Q,y2:te}),I.push({x1:X,y1:oe,x2:X,y2:te}),I.push({x1:re,y1:oe,x2:Q,y2:oe})}return J.createElement(Yt,Km({className:"recharts-errorBar",key:"bar-".concat(I.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},w),I.map(function(z){return J.createElement("line",Km({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return J.createElement(Yt,{className:"recharts-errorBars"},_)}}])}(J.Component);tV(oh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tV(oh,"displayName","ErrorBar");function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return e=oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=aee(t,"string");return pd(e)=="symbol"?e:e+""}function aee(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Pr(n,ja);if(!a)return null;var l=ja.defaultProps,c=l!==void 0?Rs(Rs({},l),a.props):{},f;return a.props&&a.props.payload?f=a.props&&a.props.payload:o==="children"?f=(r||[]).reduce(function(h,p){var y=p.item,w=p.props,_=w.sectors||w.data||[];return h.concat(_.map(function(E){return{type:a.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(h){var p=h.item,y=p.type.defaultProps,w=y!==void 0?Rs(Rs({},y),p.props):{},_=w.dataKey,E=w.name,v=w.legendType,P=w.hide;return{inactive:P,dataKey:_,type:c.iconType||v||"square",color:gT(p),value:E||_,payload:w}}),Rs(Rs(Rs({},c),ja.getWithHeight(a,i)),{},{payload:f,item:a})};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function f2(t){return cee(t)||lee(t)||uee(t)||see()}function see(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(t,e){if(t){if(typeof t=="string")return PE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(t,e)}}function lee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cee(t){if(Array.isArray(t))return PE(t)}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vl(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=dee(t,"string");return md(e)=="symbol"?e:e+""}function dee(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,n){return Je(t)||Je(e)?n:ln(e)?Kr(t,e,n):Xe(e)?e(t):n}function Lf(t,e,n,r){var i=cZ(t,function(l){return Or(l,e)});if(n==="number"){var o=i.filter(function(l){return xe(l)||parseFloat(l)});return o.length?[hy(o),dy(o)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Je(l)}):i;return a.map(function(l){return ln(l)||l instanceof Date?l:""})}var hee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,y=f>=l-1?i[0].coordinate:i[f+1].coordinate,w=void 0;if(xi(p-h)!==xi(y-p)){var _=[];if(xi(y-p)===xi(c[1]-c[0])){w=y;var E=p+c[1]-c[0];_[0]=Math.min(E,(E+h)/2),_[1]=Math.max(E,(E+h)/2)}else{w=h;var v=y+c[1]-c[0];_[0]=Math.min(p,(v+p)/2),_[1]=Math.max(p,(v+p)/2)}var P=[Math.min(p,(w+p)/2),Math.max(p,(w+p)/2)];if(e>P[0]&&e<=P[1]||e>=_[0]&&e<=_[1]){a=i[f].index;break}}else{var A=Math.min(h,y),N=Math.max(h,y);if(e>(A+p)/2&&e<=(N+p)/2){a=i[f].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){a=r[j].index;break}return a},gT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,a=o.stroke,l=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},pee=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,p=Object.keys(h),y=0,w=p.length;y<w;y++){var _=h[p[y]],E=_.items,v=_.cateAxisId,P=E.filter(function(C){return ko(C.type).indexOf("Bar")>=0});if(P&&P.length){var A=P[0].type.defaultProps,N=A!==void 0?qt(qt({},A),P[0].props):P[0].props,j=N.barSize,I=N[v];a[I]||(a[I]=[]);var D=Je(j)?n:j;a[I].push({item:P[0],stackList:P.slice(1),barSize:Je(D)?void 0:eu(D,r,0)})}}return a},mee=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,l=e.maxBarSize,c=a.length;if(c<1)return null;var f=eu(n,i,0,!0),h,p=[];if(a[0].barSize===+a[0].barSize){var y=!1,w=i/c,_=a.reduce(function(j,I){return j+I.barSize||0},0);_+=(c-1)*f,_>=i&&(_-=(c-1)*f,f=0),_>=i&&w>0&&(y=!0,w*=.9,_=c*w);var E=(i-_)/2>>0,v={offset:E-f,size:0};h=a.reduce(function(j,I){var D={item:I.item,position:{offset:v.offset+v.size+f,size:y?w:I.barSize}},C=[].concat(f2(j),[D]);return v=C[C.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(R){C.push({item:R,position:v})}),C},p)}else{var P=eu(r,i,0,!0);i-2*P-(c-1)*f<=0&&(f=0);var A=(i-2*P-(c-1)*f)/c;A>1&&(A>>=0);var N=l===+l?Math.min(A,l):A;h=a.reduce(function(j,I,D){var C=[].concat(f2(j),[{item:I.item,position:{offset:P+(A+f)*D+(A-N)/2,size:N}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(R){C.push({item:R,position:C[C.length-1].position})}),C},p)}return h},gee=function(e,n,r,i){var o=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),f=rV({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,y=h.height,w=f.align,_=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&_==="middle")&&w!=="center"&&xe(e[w]))return qt(qt({},e),{},vl({},w,e[w]+(p||0)));if((E==="horizontal"||E==="vertical"&&w==="center")&&_!=="middle"&&xe(e[_]))return qt(qt({},e),{},vl({},_,e[_]+(y||0)))}return e},yee=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},iV=function(e,n,r,i,o){var a=n.props.children,l=Yr(a,oh).filter(function(f){return yee(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Or(h,r);if(Je(p))return f;var y=Array.isArray(p)?[hy(p),dy(p)]:[p,p],w=c.reduce(function(_,E){var v=Or(h,E,0),P=y[0]-Math.abs(Array.isArray(v)?v[0]:v),A=y[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(P,_[0]),Math.max(A,_[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},vee=function(e,n,r,i,o){var a=n.map(function(l){return iV(e,l,r,o,i)}).filter(function(l){return!Je(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},oV=function(e,n,r,i,o){var a=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&iV(e,c,f,i)||Lf(e,f,r,o)});if(r==="number")return a.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},aV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},qs=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xi(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return h.filter(function(p){return!Jd(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},Bb=new WeakMap,$p=function(e,n){if(typeof n!="function")return e;Bb.has(e)||Bb.set(e,new WeakMap);var r=Bb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_ee=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:sd(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:qm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jf(),realScaleType:"point"}:o==="category"?{scale:sd(),realScaleType:"band"}:{scale:qm(),realScaleType:"linear"};if(Qd(i)){var c="scale".concat(Zg(i));return{scale:(QN[c]||jf)(),realScaleType:QN[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:jf(),realScaleType:"point"}},h2=1e-4,wee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-h2,a=Math.max(i[0],i[1])+h2,l=e(n[0]),c=e(n[r-1]);(l<o||l>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},bee=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Eee=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},xee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,l=0;l<n;++l){var c=Jd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},See=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var l=Jd(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Tee={sign:xee,expand:uG,none:Pl,silhouette:lG,wiggle:cG,positive:See},Aee=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=Tee[r],a=sG().keys(i).value(function(l,c){return+Or(l,c,0)}).order(rE).offset(o);return a(e)},Pee=function(e,n,r,i,o,a){if(!e)return null;var l=a?n.reverse():n,c={},f=l.reduce(function(p,y){var w,_=(w=y.type)!==null&&w!==void 0&&w.defaultProps?qt(qt({},y.type.defaultProps),y.props):y.props,E=_.stackId,v=_.hide;if(v)return p;var P=_[r],A=p[P]||{hasStack:!1,stackGroups:{}};if(ln(E)){var N=A.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(y),A.hasStack=!0,A.stackGroups[E]=N}else A.stackGroups[Zd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return qt(qt({},p),{},vl({},P,A))},c),h={};return Object.keys(f).reduce(function(p,y){var w=f[y];if(w.hasStack){var _={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(E,v){var P=w.stackGroups[v];return qt(qt({},E),{},vl({},v,{numericAxisId:r,cateAxisId:i,items:P.items,stackedData:Aee(e,P.items,o)}))},_)}return qt(qt({},p),{},vl({},y,w))},h)},Iee=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=FZ(f,o,l);return e.domain([hy(h),dy(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),y=VZ(p,o,l);return{niceTicks:y}}return null};function p2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var l=xm(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Or(i,Je(a)?e.dataKey:a);return Je(c)?null:e.scale(c)}var m2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Or(a,n.dataKey,n.domain[l]);return Je(c)?null:n.scale(c)-o/2+i},Cee=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Oee=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ln(o)){var a=n[o];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},Ree=function(e){return e.reduce(function(n,r){return[hy(r.concat([n[0]]).filter(xe)),dy(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},sV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],l=a.stackedData,c=l.reduce(function(f,h){var p=Ree(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},g2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IE=function(e,n,r){if(Xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(g2.test(e[0])){var o=+g2.exec(e[0])[1];i[0]=n[0]-o}else Xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(y2.test(e[1])){var a=+y2.exec(e[1])[1];i[1]=n[1]+a}else Xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Xm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=zS(n,function(p){return p.coordinate}),a=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},v2=function(e,n,r){return!e||!e.length||py(e,Kr(r,"type.defaultProps.domain"))?n:e},uV=function(e,n){var r=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return qt(qt({},rt(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:o||i,color:gT(e),value:Or(n,i),type:c,payload:n,chartType:f,hide:h})};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Mee(t,"string");return gd(e)=="symbol"?e:e+""}function Mee(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qm=Math.PI/180,Dee=function(e){return e*180/Math.PI},kn=function(e,n,r,i){return{x:e+Math.cos(-Qm*i)*r,y:n+Math.sin(-Qm*i)*r}},jee=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Lee=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,l=jee({x:r,y:i},{x:o,y:a});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>a&&(f=2*Math.PI-f),{radius:l,angle:Dee(f),angleInRadian:f}},$ee=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Fee=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(o,a);return e+l*360},b2=function(e,n){var r=e.x,i=e.y,o=Lee({x:r,y:i},n),a=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(a<c||a>f)return!1;if(a===0)return!0;var h=$ee(n),p=h.startAngle,y=h.endAngle,w=l,_;if(p<=y){for(;w>y;)w-=360;for(;w<p;)w+=360;_=w>=p&&w<=y}else{for(;w>p;)w-=360;for(;w<y;)w+=360;_=w>=y&&w<=p}return _?w2(w2({},n),{},{radius:a,angle:Fee(w,n)}):null};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var Vee=["offset"];function Uee(t){return Wee(t)||zee(t)||qee(t)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wee(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hee(t,e){if(t==null)return{};var n=Gee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return e=Yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Xee(t,"string");return yd(e)=="symbol"?e:e+""}function Xee(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}var Qee=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Xe(r)?r(i):i},Jee=function(e,n){var r=xi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Zee=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,w=c.startAngle,_=c.endAngle,E=c.clockWise,v=(p+y)/2,P=Jee(w,_),A=P>=0?1:-1,N,j;i==="insideStart"?(N=w+A*a,j=E):i==="insideEnd"?(N=_-A*a,j=!E):i==="end"&&(N=_+A*a,j=E),j=P<=0?j:!j;var I=kn(f,h,v,N),D=kn(f,h,v,N+(j?1:-1)*359),C="M".concat(I.x,",").concat(I.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(D.x,",").concat(D.y),R=Je(e.id)?Zd("recharts-radial-line-"):e.id;return J.createElement("text",vd({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),J.createElement("defs",null,J.createElement("path",{id:R,d:C})),J.createElement("textPath",{xlinkHref:"#".concat(R)},n))},ete=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,y=(h+p)/2;if(i==="outside"){var w=kn(a,l,f+r,y),_=w.x,E=w.y;return{x:_,y:E,textAnchor:_>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+f)/2,P=kn(a,l,v,y),A=P.x,N=P.y;return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},tte=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,l=a.x,c=a.y,f=a.width,h=a.height,p=h>=0?1:-1,y=p*i,w=p>0?"end":"start",_=p>0?"start":"end",E=f>=0?1:-1,v=E*i,P=E>0?"end":"start",A=E>0?"start":"end";if(o==="top"){var N={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:w};return un(un({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var j={x:l+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:_};return un(un({},j),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var I={x:l-v,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return un(un({},I),r?{width:Math.max(I.x-r.x,0),height:h}:{})}if(o==="right"){var D={x:l+f+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return un(un({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:h}:{})}var C=r?{width:f,height:h}:{};return o==="insideLeft"?un({x:l+v,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},C):o==="insideRight"?un({x:l+f-v,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},C):o==="insideTop"?un({x:l+f/2,y:c+y,textAnchor:"middle",verticalAnchor:_},C):o==="insideBottom"?un({x:l+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:w},C):o==="insideTopLeft"?un({x:l+v,y:c+y,textAnchor:A,verticalAnchor:_},C):o==="insideTopRight"?un({x:l+f-v,y:c+y,textAnchor:P,verticalAnchor:_},C):o==="insideBottomLeft"?un({x:l+v,y:c+h-y,textAnchor:A,verticalAnchor:w},C):o==="insideBottomRight"?un({x:l+f-v,y:c+h-y,textAnchor:P,verticalAnchor:w},C):sc(o)&&(xe(o.x)||Vs(o.x))&&(xe(o.y)||Vs(o.y))?un({x:l+eu(o.x,f),y:c+eu(o.y,h),textAnchor:"end",verticalAnchor:"end"},C):un({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},C)},nte=function(e){return"cx"in e&&xe(e.cx)};function qn(t){var e=t.offset,n=e===void 0?5:e,r=Hee(t,Vee),i=un({offset:n},r),o=i.viewBox,a=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,y=i.textBreakAll;if(!o||Je(l)&&Je(c)&&!B.isValidElement(f)&&!Xe(f))return null;if(B.isValidElement(f))return B.cloneElement(f,i);var w;if(Xe(f)){if(w=B.createElement(f,i),B.isValidElement(w))return w}else w=Qee(i);var _=nte(o),E=rt(i,!0);if(_&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Zee(i,w,E);var v=_?ete(i):tte(i);return J.createElement(jm,vd({className:st("recharts-label",p)},E,v,{breakAll:y}),w)}qn.displayName="Label";var lV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,w=e.top,_=e.left,E=e.width,v=e.height,P=e.clockWise,A=e.labelViewBox;if(A)return A;if(xe(E)&&xe(v)){if(xe(p)&&xe(y))return{x:p,y,width:E,height:v};if(xe(w)&&xe(_))return{x:w,y:_,width:E,height:v}}return xe(p)&&xe(y)?{x:p,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:P}:e.viewBox?e.viewBox:{}},rte=function(e,n){return e?e===!0?J.createElement(qn,{key:"label-implicit",viewBox:n}):ln(e)?J.createElement(qn,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===qn?B.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(qn,{key:"label-implicit",content:e,viewBox:n}):Xe(e)?J.createElement(qn,{key:"label-implicit",content:e,viewBox:n}):sc(e)?J.createElement(qn,vd({viewBox:n},e,{key:"label-implicit"})):null:null},ite=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=lV(e),a=Yr(i,qn).map(function(c,f){return B.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return a;var l=rte(e.label,n||o);return[l].concat(Uee(a))};qn.parseViewBox=lV;qn.renderCallByParent=ite;var qb,x2;function ote(){if(x2)return qb;x2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return qb=t,qb}var ate=ote();const ste=Tt(ate);function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}var ute=["valueAccessor"],lte=["data","dataKey","clockWise","id","textBreakAll"];function cte(t){return pte(t)||hte(t)||dte(t)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dte(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function hte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pte(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return e=gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return _d(e)=="symbol"?e:e+""}function yte(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A2(t,e){if(t==null)return{};var n=vte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _te=function(e){return Array.isArray(e.value)?ste(e.value):e.value};function $a(t){var e=t.valueAccessor,n=e===void 0?_te:e,r=A2(t,ute),i=r.data,o=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,f=A2(r,lte);return!i||!i.length?null:J.createElement(Yt,{className:"recharts-label-list"},i.map(function(h,p){var y=Je(o)?n(h,p):Or(h&&h.payload,o),w=Je(l)?{}:{id:"".concat(l,"-").concat(p)};return J.createElement(qn,Jm({},rt(h,!0),f,w,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:qn.parseViewBox(Je(a)?h:T2(T2({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}$a.displayName="LabelList";function wte(t,e){return t?t===!0?J.createElement($a,{key:"labelList-implicit",data:e}):J.isValidElement(t)||Xe(t)?J.createElement($a,{key:"labelList-implicit",data:e,content:t}):sc(t)?J.createElement($a,Jm({data:e},t,{key:"labelList-implicit"})):null:null}function bte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yr(r,$a).map(function(a,l){return B.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=wte(t.label,e);return[o].concat(cte(i))}$a.renderCallByParent=bte;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return e=xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=Ste(t,"string");return wd(e)=="symbol"?e:e+""}function Ste(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tte=function(e,n){var r=xi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/Qm,y=f?o:o+a*p,w=kn(n,r,h,y),_=kn(n,r,i,y),E=f?o-a*p:o,v=kn(n,r,h*Math.cos(p*Qm),E);return{center:w,circleTangency:_,lineTangency:v,theta:p}},cV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,l=e.endAngle,c=Tte(a,l),f=a+c,h=kn(n,r,o,a),p=kn(n,r,o,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var w=kn(n,r,i,a),_=kn(n,r,i,f);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},Ate=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=xi(h-f),y=Fp({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),w=y.circleTangency,_=y.lineTangency,E=y.theta,v=Fp({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:c}),P=v.circleTangency,A=v.lineTangency,N=v.theta,j=c?Math.abs(f-h):Math.abs(f-h)-E-N;if(j<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):cV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var I="M ".concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var D=Fp({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),C=D.circleTangency,R=D.lineTangency,M=D.theta,F=Fp({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),L=F.circleTangency,V=F.lineTangency,O=F.theta,W=c?Math.abs(f-h):Math.abs(f-h)-M-O;if(W<0&&a===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},Pte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fV=function(e){var n=I2(I2({},Pte),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(a<o||h===p)return null;var w=st("recharts-sector",y),_=a-o,E=eu(l,_,0,!0),v;return E>0&&Math.abs(h-p)<360?v=Ate({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):v=cV({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:p}),J.createElement("path",RE({},rt(n,!0),{className:w,d:v,role:"img"}))};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=Ote(t,"string");return bd(e)=="symbol"?e:e+""}function Ote(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R2={curveBasisClosed:XH,curveBasisOpen:QH,curveBasis:YH,curveBumpX:DH,curveBumpY:jH,curveLinearClosed:JH,curveLinear:ty,curveMonotoneX:ZH,curveMonotoneY:eG,curveNatural:tG,curveStep:nG,curveStepAfter:iG,curveStepBefore:rG},Vp=function(e){return e.x===+e.x&&e.y===+e.y},hf=function(e){return e.x},pf=function(e){return e.y},Rte=function(e,n){if(Xe(e))return e;var r="curve".concat(Zg(e));return(r==="curveMonotone"||r==="curveBump")&&n?R2["".concat(r).concat(n==="vertical"?"Y":"X")]:R2[r]||ty},kte=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=Rte(r,l),p=f?o.filter(function(E){return Vp(E)}):o,y;if(Array.isArray(a)){var w=f?a.filter(function(E){return Vp(E)}):a,_=p.map(function(E,v){return O2(O2({},E),{},{base:w[v]})});return l==="vertical"?y=Rp().y(pf).x1(hf).x0(function(E){return E.base.x}):y=Rp().x(hf).y1(pf).y0(function(E){return E.base.y}),y.defined(Vp).curve(h),y(_)}return l==="vertical"&&xe(a)?y=Rp().y(pf).x1(hf).x0(a):xe(a)?y=Rp().x(hf).y1(pf).y0(a):y=g$().x(hf).y(pf),y.defined(Vp).curve(h),y(p)},NE=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?kte(e):i;return J.createElement("path",kE({},rt(e,!1),Sm(e),{className:st("recharts-curve",n),d:a,ref:o}))},zb={exports:{}},Wb,k2;function Nte(){if(k2)return Wb;k2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wb=t,Wb}var Hb,N2;function Mte(){if(N2)return Hb;N2=1;var t=Nte();function e(){}function n(){}return n.resetWarningCache=e,Hb=function(){function r(a,l,c,f,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Hb}var M2;function Dte(){return M2||(M2=1,zb.exports=Mte()()),zb.exports}var jte=Dte();const ft=Tt(jte);var Lte=Object.getOwnPropertyNames,$te=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty;function D2(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Up(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),l=o.get(r);if(a&&l)return a===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function j2(t){return Lte(t).concat($te(t))}var dV=Object.hasOwn||function(t,e){return Fte.call(t,e)};function dc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var hV="_owner",L2=Object.getOwnPropertyDescriptor,$2=Object.keys;function Vte(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ute(t,e){return dc(t.getTime(),e.getTime())}function F2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,l;(a=i.next())&&!a.done;){for(var c=e.entries(),f=!1,h=0;(l=c.next())&&!l.done;){var p=a.value,y=p[0],w=p[1],_=l.value,E=_[0],v=_[1];!f&&!r[h]&&(f=n.equals(y,E,o,h,t,e,n)&&n.equals(w,v,y,E,t,e,n))&&(r[h]=!0),h++}if(!f)return!1;o++}return!0}function Bte(t,e,n){var r=$2(t),i=r.length;if($2(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===hV&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!dV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function mf(t,e,n){var r=j2(t),i=r.length;if(j2(e).length!==i)return!1;for(var o,a,l;i-- >0;)if(o=r[i],o===hV&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!dV(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=L2(t,o),l=L2(e,o),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function qte(t,e){return dc(t.valueOf(),e.valueOf())}function zte(t,e){return t.source===e.source&&t.flags===e.flags}function V2(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;)!c&&!r[f]&&(c=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[f]=!0),f++;if(!c)return!1}return!0}function Wte(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Hte="[object Arguments]",Gte="[object Boolean]",Kte="[object Date]",Yte="[object Map]",Xte="[object Number]",Qte="[object Object]",Jte="[object RegExp]",Zte="[object Set]",ene="[object String]",tne=Array.isArray,U2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,B2=Object.assign,nne=Object.prototype.toString.call.bind(Object.prototype.toString);function rne(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(h,p,y){if(h===p)return!0;if(h==null||p==null||typeof h!="object"||typeof p!="object")return h!==h&&p!==p;var w=h.constructor;if(w!==p.constructor)return!1;if(w===Object)return i(h,p,y);if(tne(h))return e(h,p,y);if(U2!=null&&U2(h))return c(h,p,y);if(w===Date)return n(h,p,y);if(w===RegExp)return a(h,p,y);if(w===Map)return r(h,p,y);if(w===Set)return l(h,p,y);var _=nne(h);return _===Kte?n(h,p,y):_===Jte?a(h,p,y):_===Yte?r(h,p,y):_===Zte?l(h,p,y):_===Qte?typeof h.then!="function"&&typeof p.then!="function"&&i(h,p,y):_===Hte?i(h,p,y):_===Gte||_===Xte||_===ene?o(h,p,y):!1}}function ine(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?mf:Vte,areDatesEqual:Ute,areMapsEqual:r?D2(F2,mf):F2,areObjectsEqual:r?mf:Bte,arePrimitiveWrappersEqual:qte,areRegExpsEqual:zte,areSetsEqual:r?D2(V2,mf):V2,areTypedArraysEqual:r?mf:Wte};if(n&&(i=B2({},i,n(i))),e){var o=Up(i.areArraysEqual),a=Up(i.areMapsEqual),l=Up(i.areObjectsEqual),c=Up(i.areSetsEqual);i=B2({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function one(t){return function(e,n,r,i,o,a,l){return t(e,n,l)}}function ane(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,f){var h=r(),p=h.cache,y=p===void 0?e?new WeakMap:void 0:p,w=h.meta;return n(c,f,{cache:y,equals:i,meta:w,strict:o})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return n(c,f,a)}}var sne=ns();ns({strict:!0});ns({circular:!0});ns({circular:!0,strict:!0});ns({createInternalComparator:function(){return dc}});ns({strict:!0,createInternalComparator:function(){return dc}});ns({circular:!0,createInternalComparator:function(){return dc}});ns({circular:!0,createInternalComparator:function(){return dc},strict:!0});function ns(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,l=ine(t),c=rne(l),f=r?r(c):one(c);return ane({circular:n,comparator:c,createState:i,equals:f,strict:a})}function une(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function q2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):une(i)};requestAnimationFrame(r)}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}function lne(t){return hne(t)||dne(t)||fne(t)||cne()}function cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hne(t){if(Array.isArray(t))return t}function pne(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,l=lne(a),c=l[0],f=l.slice(1);if(typeof c=="number"){q2(i.bind(null,f),c);return}i(c),q2(i.bind(null,f));return}ME(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){pV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pV(t,e,n){return e=mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return Ed(e)==="symbol"?e:String(e)}function gne(t,e){if(Ed(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yne=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},vne=function(e){return e},_ne=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$f=function(e,n){return Object.keys(n).reduce(function(r,i){return H2(H2({},r),{},pV({},i,e(i,n[i])))},{})},G2=function(e,n,r){return e.map(function(i){return"".concat(_ne(i)," ").concat(n,"ms ").concat(r)}).join(",")};function wne(t,e){return xne(t)||Ene(t,e)||mV(t,e)||bne()}function bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function xne(t){if(Array.isArray(t))return t}function Sne(t){return Pne(t)||Ane(t)||mV(t)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function Ane(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pne(t){if(Array.isArray(t))return DE(t)}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zm=1e-4,gV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},K2=function(e,n){return function(r){var i=gV(e,n);return yV(i,r)}},Ine=function(e,n){return function(r){var i=gV(e,n),o=[].concat(Sne(i.map(function(a,l){return a*l}).slice(1)),[0]);return yV(o,r)}},Y2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,l=1;break;case"ease":i=.25,o=.1,a=.25,l=1;break;case"ease-in":i=.42,o=0,a=1,l=1;break;case"ease-out":i=.42,o=0,a=.58,l=1;break;case"ease-in-out":i=0,o=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=wne(f,4);i=h[0],o=h[1],a=h[2],l=h[3]}}}var p=K2(i,a),y=K2(o,l),w=Ine(i,a),_=function(P){return P>1?1:P<0?0:P},E=function(P){for(var A=P>1?1:P,N=A,j=0;j<8;++j){var I=p(N)-A,D=w(N);if(Math.abs(I-A)<Zm||D<Zm)return y(N);N=_(N-I/D)}return y(N)};return E.isStepper=!1,E},Cne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(h,p,y){var w=-(h-p)*r,_=y*o,E=y+(w-_)*l/1e3,v=y*l/1e3+h;return Math.abs(v-p)<Zm&&Math.abs(E)<Zm?[p,0]:[v,E]};return c.isStepper=!0,c.dt=l,c},One=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Y2(i);case"spring":return Cne();default:if(i.split("(")[0]==="cubic-bezier")return Y2(i)}return typeof i=="function"?i:null};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function X2(t){return Nne(t)||kne(t)||vV(t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nne(t){if(Array.isArray(t))return LE(t)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jE(t,e,n){return e=Mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=Dne(t,"string");return xd(e)==="symbol"?e:String(e)}function Dne(t,e){if(xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jne(t,e){return Fne(t)||$ne(t,e)||vV(t,e)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Fne(t){if(Array.isArray(t))return t}var eg=function(e,n,r){return e+(n-e)*r},$E=function(e){var n=e.from,r=e.to;return n!==r},Vne=function t(e,n,r){var i=$f(function(o,a){if($E(a)){var l=e(a.from,a.to,a.velocity),c=jne(l,2),f=c[0],h=c[1];return Pn(Pn({},a),{},{from:f,velocity:h})}return a},n);return r<1?$f(function(o,a){return $E(a)?Pn(Pn({},a),{},{velocity:eg(a.velocity,i[o].velocity,r),from:eg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Une=function(t,e,n,r,i){var o=yne(t,e),a=o.reduce(function(v,P){return Pn(Pn({},v),{},jE({},P,[t[P],e[P]]))},{}),l=o.reduce(function(v,P){return Pn(Pn({},v),{},jE({},P,{from:t[P],velocity:0,to:e[P]}))},{}),c=-1,f,h,p=function(){return null},y=function(){return $f(function(P,A){return A.from},l)},w=function(){return!Object.values(l).filter($E).length},_=function(P){f||(f=P);var A=P-f,N=A/n.dt;l=Vne(n,l,N),i(Pn(Pn(Pn({},t),e),y())),f=P,w()||(c=requestAnimationFrame(p))},E=function(P){h||(h=P);var A=(P-h)/r,N=$f(function(I,D){return eg.apply(void 0,X2(D).concat([n(A)]))},a);if(i(Pn(Pn(Pn({},t),e),N)),A<1)c=requestAnimationFrame(p);else{var j=$f(function(I,D){return eg.apply(void 0,X2(D).concat([n(1)]))},a);i(Pn(Pn(Pn({},t),e),j))}};return p=n.isStepper?_:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}var Bne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qne(t,e){if(t==null)return{};var n=zne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gb(t){return Kne(t)||Gne(t)||Hne(t)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hne(t,e){if(t){if(typeof t=="string")return FE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FE(t,e)}}function Gne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kne(t){if(Array.isArray(t))return FE(t)}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){Cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cf(t,e,n){return e=_V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_V(r.key),r)}}function Qne(t,e,n){return e&&Xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _V(t){var e=Jne(t,"string");return jl(e)==="symbol"?e:String(e)}function Jne(t,e){if(jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function ere(t){var e=tre();return function(){var r=tg(t),i;if(e){var o=tg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UE(this,i)}}function UE(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BE(t)}function BE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}var qo=function(t){Zne(n,t);var e=ere(n);function n(r,i){var o;Yne(this,n),o=e.call(this,r,i);var a=o.props,l=a.isActive,c=a.attributeName,f=a.from,h=a.to,p=a.steps,y=a.children,w=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(BE(o)),o.changeStyle=o.changeStyle.bind(BE(o)),!l||w<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:h}),UE(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},UE(o);o.state={style:c?Cf({},c,f):f}}else o.state={style:{}};return o}return Qne(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,y=this.state.style;if(l){if(!a){var w={style:c?Cf({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(w);return}if(!(sne(i.to,h)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=_||f?p:i.to;if(this.state&&y){var v={style:c?Cf({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(v)}this.runAnimation(mi(mi({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,w=Une(a,l,One(f),c,this.changeStyle),_=function(){o.stopJSAnimation=w()};this.manager.start([y,h,_,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,l=i.begin,c=i.onAnimationStart,f=a[0],h=f.style,p=f.duration,y=p===void 0?0:p,w=function(E,v,P){if(P===0)return E;var A=v.duration,N=v.easing,j=N===void 0?"ease":N,I=v.style,D=v.properties,C=v.onAnimationEnd,R=P>0?a[P-1]:v,M=D||Object.keys(I);if(typeof j=="function"||j==="spring")return[].concat(Gb(E),[o.runJSAnimation.bind(o,{from:R.style,to:I,duration:A,easing:j}),A]);var F=G2(M,A,j),L=mi(mi(mi({},R.style),I),{},{transition:F});return[].concat(Gb(E),[L,A,C]).filter(vne)};return this.manager.start([c].concat(Gb(a.reduce(w,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pne());var o=i.begin,a=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,w=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=l?Cf({},l,c):c,v=G2(Object.keys(E),a,f);_.start([h,o,mi(mi({},E),{},{transition:v}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=qne(i,Bne),f=B.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||a<=0)return o;var p=function(w){var _=w.props,E=_.style,v=E===void 0?{}:E,P=_.className,A=B.cloneElement(w,mi(mi({},c),{},{style:mi(mi({},v),h),className:P}));return A};return f===1?p(B.Children.only(o)):J.createElement("div",null,B.Children.map(o,function(y){return p(y)}))}}]),n}(B.PureComponent);qo.displayName="Animate";qo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qo.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function nre(t,e){return are(t)||ore(t,e)||ire(t,e)||rre()}function rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function are(t){if(Array.isArray(t))return t}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=lre(t,"string");return Sd(e)=="symbol"?e:e+""}function lre(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nM=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,w=4;y<w;y++)p[y]=o[y]>a?a:o[y];h="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),h+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var _=Math.min(a,o);h="M ".concat(e,",").concat(n+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+c*_,",").concat(n,`
            L `).concat(e+r-c*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*_,`
            L `).concat(e+r,",").concat(n+i-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+r-c*_,",").concat(n+i,`
            L `).concat(e+c*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*_," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},cre=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(a,a+c),y=Math.max(a,a+c);return r>=f&&r<=h&&i>=p&&i<=y}return!1},fre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yT=function(e){var n=tM(tM({},fre),e),r=B.useRef(),i=B.useState(-1),o=nre(i,2),a=o[0],l=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,y=n.radius,w=n.className,_=n.animationEasing,E=n.animationDuration,v=n.animationBegin,P=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var N=st("recharts-rectangle",w);return A?J.createElement(qo,{canBegin:a>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:E,animationEasing:_,isActive:A},function(j){var I=j.width,D=j.height,C=j.x,R=j.y;return J.createElement(qo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,isActive:P,easing:_},J.createElement("path",ng({},rt(n,!0),{className:N,d:nM(C,R,I,D,y),ref:r})))}):J.createElement("path",ng({},rt(n,!0),{className:N,d:nM(c,f,h,p,y)}))};function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}var vT=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=st("recharts-dot",o);return n===+n&&r===+r&&i===+i?J.createElement("circle",qE({},rt(e,!1),Sm(e),{className:a,cx:n,cy:r,r:i})):null};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}var dre=["x","y","top","left","width","height","className"];function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(this,arguments)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return Td(e)=="symbol"?e:e+""}function gre(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yre(t,e){if(t==null)return{};var n=vre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _re=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},wre=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,w=y===void 0?0:y,_=e.className,E=yre(e,dre),v=hre({x:r,y:o,top:l,left:f,width:p,height:w},E);return!xe(r)||!xe(o)||!xe(p)||!xe(w)||!xe(l)||!xe(f)?null:J.createElement("path",zE({},rt(v,!0),{className:st("recharts-cross",_),d:_re(r,o,p,w,l,f)}))},Kb,iM;function bre(){if(iM)return Kb;iM=1;var t=F$(),e=t(Object.getPrototypeOf,Object);return Kb=e,Kb}var Yb,oM;function Ere(){if(oM)return Yb;oM=1;var t=Go(),e=bre(),n=Ko(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,l=o.hasOwnProperty,c=a.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=l.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&a.call(y)==c}return Yb=f,Yb}var xre=Ere();const Sre=Tt(xre);var Xb,aM;function Tre(){if(aM)return Xb;aM=1;var t=Go(),e=Ko(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Xb=r,Xb}var Are=Tre();const Pre=Tt(Are);function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function Ire(t,e){return kre(t)||Rre(t,e)||Ore(t,e)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){if(t){if(typeof t=="string")return sM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(t,e)}}function sM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function kre(t){if(Array.isArray(t))return t}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=Dre(t,"string");return Ad(e)=="symbol"?e:e+""}function Dre(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cM=function(e,n,r,i,o){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+o),l+="L ".concat(e+r-a/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},jre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lre=function(e){var n=lM(lM({},jre),e),r=B.useRef(),i=B.useState(-1),o=Ire(i,2),a=o[0],l=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,w=n.className,_=n.animationEasing,E=n.animationDuration,v=n.animationBegin,P=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var A=st("recharts-trapezoid",w);return P?J.createElement(qo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:f},duration:E,animationEasing:_,isActive:P},function(N){var j=N.upperWidth,I=N.lowerWidth,D=N.height,C=N.x,R=N.y;return J.createElement(qo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:E,easing:_},J.createElement("path",rg({},rt(n,!0),{className:A,d:cM(C,R,j,I,D),ref:r})))}):J.createElement("g",null,J.createElement("path",rg({},rt(n,!0),{className:A,d:cM(c,f,h,p,y)})))},$re=["option","shapeType","propTransformer","activeClassName","isActive"];function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Fre(t,e){if(t==null)return{};var n=Vre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=qre(t,"string");return Pd(e)=="symbol"?e:e+""}function qre(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zre(t,e){return ig(ig({},e),t)}function Wre(t,e){return t==="symbols"}function dM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(yT,n);case"trapezoid":return J.createElement(Lre,n);case"sector":return J.createElement(fV,n);case"symbols":if(Wre(e))return J.createElement(jS,n);break;default:return null}}function Hre(t){return B.isValidElement(t)?t.props:t}function Gre(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zre:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,l=t.isActive,c=Fre(t,$re),f;if(B.isValidElement(e))f=B.cloneElement(e,ig(ig({},c),Hre(e)));else if(Xe(e))f=e(c);else if(Sre(e)&&!Pre(e)){var h=i(e,c);f=J.createElement(dM,{shapeType:n,elementProps:h})}else{var p=c;f=J.createElement(dM,{shapeType:n,elementProps:p})}return l?J.createElement(Yt,{className:a},f):f}function yy(t,e){return e!=null&&"trapezoids"in t.props}function vy(t,e){return e!=null&&"sectors"in t.props}function Id(t,e){return e!=null&&"points"in t.props}function Kre(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Yre(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Xre(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Qre(t,e){var n;return yy(t,e)?n=Kre:vy(t,e)?n=Yre:Id(t,e)&&(n=Xre),n}function Jre(t,e){var n;return yy(t,e)?n="trapezoids":vy(t,e)?n="sectors":Id(t,e)&&(n="points"),n}function Zre(t,e){if(yy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(vy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Id(t,e)?e.payload:{}}function eie(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Jre(n,e),o=Zre(n,e),a=r.filter(function(c,f){var h=py(o,c),p=n.props[i].filter(function(_){var E=Qre(n,e);return E(_,e)}),y=n.props[i].indexOf(p[p.length-1]),w=f===y;return h&&w}),l=r.indexOf(a[a.length-1]);return l}var Qb,hM;function tie(){if(hM)return Qb;hM=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[a?c:++l]=r,r+=o;return f}return Qb=n,Qb}var Jb,pM;function wV(){if(pM)return Jb;pM=1;var t=tF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return Jb=r,Jb}var Zb,mM;function nie(){if(mM)return Zb;mM=1;var t=tie(),e=oy(),n=wV();function r(i){return function(o,a,l){return l&&typeof l!="number"&&e(o,a,l)&&(a=l=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),l=l===void 0?o<a?1:-1:n(l),t(o,a,l,i)}}return Zb=r,Zb}var e1,gM;function rie(){if(gM)return e1;gM=1;var t=nie(),e=t();return e1=e,e1}var iie=rie();const og=Tt(iie);function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){bV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bV(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return Cd(e)=="symbol"?e:e+""}function aie(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sie=["Webkit","Moz","O","ms"],uie=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=sie.reduce(function(o,a){return vM(vM({},o),{},bV({},a+r,n))},{});return i[e]=n,i};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function cie(t,e,n){return e&&wM(t.prototype,e),n&&wM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fie(t,e,n){return e=sg(e),die(t,EV()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function die(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hie(t)}function hie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function pie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function Ar(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=mie(t,"string");return Ll(e)=="symbol"?e:e+""}function mie(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gie=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=jf().domain(og(0,c)).range([o,o+a-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},bM=function(e){return e.changedTouches&&!!e.changedTouches.length},$l=function(t){function e(n){var r;return lie(this,e),r=fie(this,e,[n]),Ar(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ar(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ar(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),Ar(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ar(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ar(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ar(r,"handleSlideDragStart",function(i){var o=bM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return pie(e,t),cie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),y=Math.max(i,o),w=e.getIndexInRange(a,p),_=e.getIndexInRange(a,y);return{startIndex:w-w%c,endIndex:_===h?h:_-_%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,l=i.dataKey,c=Or(o[r],l,r);return Xe(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,w=c.endIndex,_=c.onChange,E=r.pageX-o;E>0?E=Math.min(E,f+h-p-l,f+h-p-a):E<0&&(E=Math.max(E,f-a,f-l));var v=this.getIndex({startX:a+E,endX:l+E});(v.startIndex!==y||v.endIndex!==w)&&_&&_(v),this.setState({startX:a+E,endX:l+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=bM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[a],h=this.props,p=h.x,y=h.width,w=h.travellerWidth,_=h.onChange,E=h.gap,v=h.data,P={startX:this.state.startX,endX:this.state.endX},A=r.pageX-o;A>0?A=Math.min(A,p+y-w-f):A<0&&(A=Math.max(A,p-f)),P[a]=f+A;var N=this.getIndex(P),j=N.startIndex,I=N.endIndex,D=function(){var R=v.length-1;return a==="startX"&&(l>c?j%E===0:I%E===0)||l<c&&I===R||a==="endX"&&(l>c?I%E===0:j%E===0)||l>c&&I===R};this.setState(Ar(Ar({},a,f+A),"brushMoveStartX",r.pageX),function(){_&&D()&&_(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,l=a.scaleValues,c=a.startX,f=a.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=l.length)){var w=l[y];i==="startX"&&w>=f||i==="endX"&&w<=c||this.setState(Ar({},i,w),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.fill,f=r.stroke;return J.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,p=B.Children.only(f);return p?J.cloneElement(p,{x:i,y:o,width:a,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,l=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,w=c.ariaLabel,_=c.data,E=c.startIndex,v=c.endIndex,P=Math.max(r,this.props.x),A=t1(t1({},rt(this.props,!1)),{},{x:P,y:f,width:h,height:p}),N=w||"Min value: ".concat((o=_[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=_[v])===null||a===void 0?void 0:a.name);return J.createElement(Yt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,A))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:a,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,y=h.endX,w=5,_={pointerEvents:"none",fill:f};return J.createElement(Yt,{className:"recharts-brush-texts"},J.createElement(jm,ag({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-w,y:a+l/2},_),this.getTextOfTick(i)),J.createElement(jm,ag({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+w,y:a+l/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,l=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,y=this.state,w=y.startX,_=y.endX,E=y.isTextActive,v=y.isSlideMoving,P=y.isTravellerMoving,A=y.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var N=st("recharts-brush",o),j=J.Children.count(a)===1,I=uie("userSelect","none");return J.createElement(Yt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(w,_),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(_,"endX"),(E||v||P||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:i,y:o,width:a,height:l,fill:c,stroke:"none"}),J.createElement("line",{x1:i+1,y1:f,x2:i+a-1,y2:f,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:i+1,y1:f+2,x2:i+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return J.isValidElement(r)?o=J.cloneElement(r,i):Xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return t1({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a},o&&o.length?gie({data:o,width:a,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var y=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,l=o-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(B.PureComponent);Ar($l,"displayName","Brush");Ar($l,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n1,EM;function yie(){if(EM)return n1;EM=1;var t=qS();function e(n,r){var i;return t(n,function(o,a,l){return i=r(o,a,l),!i}),!!i}return n1=e,n1}var r1,xM;function vie(){if(xM)return r1;xM=1;var t=k$(),e=Za(),n=yie(),r=hr(),i=oy();function o(a,l,c){var f=r(a)?t:n;return c&&i(a,l,c)&&(l=void 0),f(a,e(l,3))}return r1=o,r1}var _ie=vie();const wie=Tt(_ie);var eo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},i1,SM;function bie(){if(SM)return i1;SM=1;var t=X$();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return i1=e,i1}var o1,TM;function Eie(){if(TM)return o1;TM=1;var t=bie(),e=K$(),n=Za();function r(i,o){var a={};return o=n(o,3),e(i,function(l,c,f){t(a,c,o(l,c,f))}),a}return o1=r,o1}var xie=Eie();const Sie=Tt(xie);var a1,AM;function Tie(){if(AM)return a1;AM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return a1=t,a1}var s1,PM;function Aie(){if(PM)return s1;PM=1;var t=qS();function e(n,r){var i=!0;return t(n,function(o,a,l){return i=!!r(o,a,l),i}),i}return s1=e,s1}var u1,IM;function Pie(){if(IM)return u1;IM=1;var t=Tie(),e=Aie(),n=Za(),r=hr(),i=oy();function o(a,l,c){var f=r(a)?t:e;return c&&i(a,l,c)&&(l=void 0),f(a,n(l,3))}return u1=o,u1}var Iie=Pie();const Cie=Tt(Iie);var Oie=["x","y"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){Rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rie(t,e,n){return e=kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Nie(t,"string");return Od(e)=="symbol"?e:e+""}function Nie(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mie(t,e){if(t==null)return{};var n=Die(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Die(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jie(t,e){var n=t.x,r=t.y,i=Mie(t,Oie),o="".concat(n),a=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return gf(gf(gf(gf(gf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function OM(t){return J.createElement(Gre,HE({shapeType:"rectangle",propTransformer:jie,activeClassName:"recharts-active-bar"},t))}var Lie=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||nu(),n)}},$ie=["value","background"],SV;function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Fie(t,e){if(t==null)return{};var n=Vie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function Bie(t,e,n){return e&&kM(t.prototype,e),n&&kM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qie(t,e,n){return e=lg(e),zie(t,TV()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function zie(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wie(t)}function Wie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function Hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GE(t,e)}function Ra(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Gie(t,"string");return Fl(e)=="symbol"?e:e+""}function Gie(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do=function(t){function e(){var n;Uie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qie(this,e,[].concat(i)),Ra(n,"state",{isAnimationFinished:!1}),Ra(n,"id",Zd("recharts-bar-")),Ra(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ra(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Hie(e,t),Bie(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=rt(this.props,!1);return r&&r.map(function(p,y){var w=y===c,_=w?f:a,E=Zt(Zt(Zt({},h),p),{},{isActive:w,option:_,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return J.createElement(Yt,ug({className:"recharts-bar-rectangle"},Tm(i.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),J.createElement(OM,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state.prevData;return J.createElement(qo,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t,E=o.map(function(v,P){var A=y&&y[P];if(A){var N=wi(A.x,v.x),j=wi(A.y,v.y),I=wi(A.width,v.width),D=wi(A.height,v.height);return Zt(Zt({},v),{},{x:N(_),y:j(_),width:I(_),height:D(_)})}if(a==="horizontal"){var C=wi(0,v.height),R=C(_);return Zt(Zt({},v),{},{y:v.y+v.height-R,height:R})}var M=wi(0,v.width),F=M(_);return Zt(Zt({},v),{},{width:F})});return J.createElement(Yt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!py(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,l=i.activeIndex,c=rt(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,y=Fie(f,$ie);if(!p)return null;var w=Zt(Zt(Zt(Zt(Zt({},y),{},{fill:"#eee"},p),c),Tm(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return J.createElement(OM,ug({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},w))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Yr(h,oh);if(!p)return null;var y=f==="vertical"?a[0].height/2:a[0].width/2,w=function(v,P){var A=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:A,errorVal:Or(v,P)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Yt,_,p.map(function(E){return J.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,offset:y,dataPointFormatter:w})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,y=r.height,w=r.isAnimationActive,_=r.background,E=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,P=st("recharts-bar",a),A=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,j=A||N,I=Je(E)?this.id:E;return J.createElement(Yt,{className:P},A||N?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(I)},J.createElement("rect",{x:A?f:f-p/2,y:N?h:h-y/2,width:A?p:p*2,height:N?y:y*2}))):null,J.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(I,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,I),(!w||v)&&$a.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);SV=Do;Ra(Do,"displayName","Bar");Ra(Do,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ra(Do,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,w=bee(r,n);if(!w)return null;var _=e.layout,E=n.type.defaultProps,v=E!==void 0?Zt(Zt({},E),n.props):n.props,P=v.dataKey,A=v.children,N=v.minPointSize,j=_==="horizontal"?a:o,I=f?j.scale.domain():null,D=Cee({numericAxis:j}),C=Yr(A,rF),R=p.map(function(M,F){var L,V,O,W,Y,X;f?L=Eee(f[h+F],I):(L=Or(M,P),Array.isArray(L)||(L=[D,L]));var re=Lie(N,SV.defaultProps.minPointSize)(L[1],F);if(_==="horizontal"){var Q,oe=[a.scale(L[0]),a.scale(L[1])],te=oe[0],z=oe[1];V=m2({axis:o,ticks:l,bandSize:i,offset:w.offset,entry:M,index:F}),O=(Q=z??te)!==null&&Q!==void 0?Q:void 0,W=w.size;var K=te-z;if(Y=Number.isNaN(K)?0:K,X={x:V,y:a.y,width:W,height:a.height},Math.abs(re)>0&&Math.abs(Y)<Math.abs(re)){var le=xi(Y||re)*(Math.abs(re)-Math.abs(Y));O-=le,Y+=le}}else{var be=[o.scale(L[0]),o.scale(L[1])],Ce=be[0],Le=be[1];if(V=Ce,O=m2({axis:a,ticks:c,bandSize:i,offset:w.offset,entry:M,index:F}),W=Le-Ce,Y=w.size,X={x:o.x,y:O,width:o.width,height:Y},Math.abs(re)>0&&Math.abs(W)<Math.abs(re)){var Ge=xi(W||re)*(Math.abs(re)-Math.abs(W));W+=Ge}}return Zt(Zt(Zt({},M),{},{x:V,y:O,width:W,height:Y,value:f?L:L[1],payload:M,background:X},C&&C[F]&&C[F].props),{},{tooltipPayload:[uV(n,M)],tooltipPosition:{x:V+W/2,y:O+Y/2}})});return Zt({data:R,layout:_},y)});function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function Yie(t,e,n){return e&&NM(t.prototype,e),n&&NM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _y(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=Xie(t,"string");return Rd(e)=="symbol"?e:e+""}function Xie(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IV=function(e,n,r,i,o){var a=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!Pr(f,Do);return h.reduce(function(w,_){var E=n[_],v=E.orientation,P=E.domain,A=E.padding,N=A===void 0?{}:A,j=E.mirror,I=E.reversed,D="".concat(v).concat(j?"Mirror":""),C,R,M,F,L;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=P[1]-P[0],O=1/0,W=E.categoricalDomain.sort();if(W.forEach(function(be,Ce){Ce>0&&(O=Math.min((be||0)-(W[Ce-1]||0),O))}),Number.isFinite(O)){var Y=O/V,X=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(C=Y*X/2),E.padding==="no-gap"){var re=eu(e.barCategoryGap,Y*X),Q=Y*X/2;C=Q-re-(Q-re)/X*re}}}i==="xAxis"?R=[r.left+(N.left||0)+(C||0),r.left+r.width-(N.right||0)-(C||0)]:i==="yAxis"?R=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(C||0),r.top+r.height-(N.bottom||0)-(C||0)]:R=E.range,I&&(R=[R[1],R[0]]);var oe=_ee(E,o,y),te=oe.scale,z=oe.realScaleType;te.domain(P).range(R),wee(te);var K=Iee(te,vi(vi({},E),{},{realScaleType:z}));i==="xAxis"?(L=v==="top"&&!j||v==="bottom"&&j,M=r.left,F=p[D]-L*E.height):i==="yAxis"&&(L=v==="left"&&!j||v==="right"&&j,M=p[D]-L*E.width,F=r.top);var le=vi(vi(vi({},E),K),{},{realScaleType:z,x:M,y:F,scale:te,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return le.bandSize=Xm(le,K),!E.hide&&i==="xAxis"?p[D]+=(L?-1:1)*le.height:E.hide||(p[D]+=(L?-1:1)*le.width),vi(vi({},w),{},_y({},_,le))},{})},CV=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Qie=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return CV({x:n,y:r},{x:i,y:o})},OV=function(){function t(e){Kie(this,t),this.scale=e}return Yie(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();_y(OV,"EPS",1e-4);var _T=function(e){var n=Object.keys(e).reduce(function(r,i){return vi(vi({},r),{},_y({},i,OV.create(e[i])))},{});return vi(vi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,l=o.position;return Sie(i,function(c,f){return n[f].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return Cie(i,function(o,a){return n[a].isInRange(o)})}})};function Jie(t){return(t%180+180)%180}var Zie=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Jie(i),a=o*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},l1,DM;function eoe(){if(DM)return l1;DM=1;var t=Za(),e=eh(),n=ry();function r(i){return function(o,a,l){var c=Object(o);if(!e(o)){var f=t(a,3);o=n(o),a=function(p){return f(c[p],p,c)}}var h=i(o,a,l);return h>-1?c[f?o[h]:h]:void 0}}return l1=r,l1}var c1,jM;function toe(){if(jM)return c1;jM=1;var t=wV();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return c1=e,c1}var f1,LM;function noe(){if(LM)return f1;LM=1;var t=q$(),e=Za(),n=toe(),r=Math.max;function i(o,a,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(a,3),f)}return f1=i,f1}var d1,$M;function roe(){if($M)return d1;$M=1;var t=eoe(),e=noe(),n=t(e);return d1=n,d1}roe();var ioe=o$();const ooe=Tt(ioe);var aoe=ooe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RV=B.createContext(void 0),kV=B.createContext(void 0),NV=B.createContext(void 0),soe=B.createContext({}),MV=B.createContext(void 0),DV=B.createContext(0),jV=B.createContext(0),FM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,l=e.children,c=e.width,f=e.height,h=aoe(o);return J.createElement(RV.Provider,{value:r},J.createElement(kV.Provider,{value:i},J.createElement(soe.Provider,{value:o},J.createElement(NV.Provider,{value:h},J.createElement(MV.Provider,{value:a},J.createElement(DV.Provider,{value:f},J.createElement(jV.Provider,{value:c},l)))))))},uoe=function(){return B.useContext(MV)},LV=function(e){var n=B.useContext(RV);n==null&&nu();var r=n[e];return r==null&&nu(),r},$V=function(e){var n=B.useContext(kV);n==null&&nu();var r=n[e];return r==null&&nu(),r},loe=function(){var e=B.useContext(NV);return e},FV=function(){return B.useContext(jV)},VV=function(){return B.useContext(DV)};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function foe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function doe(t,e,n){return e&&foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hoe(t,e,n){return e=cg(e),poe(t,UV()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function poe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(t)}function moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){wT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wT(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=yoe(t,"string");return Vl(e)=="symbol"?e:e+""}function yoe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t,e){return Eoe(t)||boe(t,e)||woe(t,e)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function Eoe(t){if(Array.isArray(t))return t}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}var xoe=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):Xe(e)?r=e(n):r=J.createElement("line",YE({},n,{className:"recharts-reference-line-line"})),r},Soe=function(e,n,r,i,o,a,l,c,f){var h=o.x,p=o.y,y=o.width,w=o.height;if(r){var _=f.y,E=e.y.apply(_,{position:a});if(eo(f,"discard")&&!e.y.isInRange(E))return null;var v=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?v.reverse():v}if(n){var P=f.x,A=e.x.apply(P,{position:a});if(eo(f,"discard")&&!e.x.isInRange(A))return null;var N=[{x:A,y:p+w},{x:A,y:p}];return l==="top"?N.reverse():N}if(i){var j=f.segment,I=j.map(function(D){return e.apply(D,{position:a})});return eo(f,"discard")&&wie(I,function(D){return!e.isInRange(D)})?null:I}return null};function Toe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,f=uoe(),h=LV(i),p=$V(o),y=loe();if(!f||!y)return null;Ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=_T({x:h.scale,y:p.scale}),_=ln(e),E=ln(n),v=r&&r.length===2,P=Soe(w,_,E,v,y,t.position,h.orientation,p.orientation,t);if(!P)return null;var A=voe(P,2),N=A[0],j=N.x,I=N.y,D=A[1],C=D.x,R=D.y,M=eo(t,"hidden")?"url(#".concat(f,")"):void 0,F=UM(UM({clipPath:M},rt(t,!0)),{},{x1:j,y1:I,x2:C,y2:R});return J.createElement(Yt,{className:st("recharts-reference-line",l)},xoe(a,F),qn.renderCallByParent(t,Qie({x1:j,y1:I,x2:C,y2:R})))}var bT=function(t){function e(){return coe(this,e),hoe(this,e,arguments)}return goe(e,t),doe(e,[{key:"render",value:function(){return J.createElement(Toe,this.props)}}])}(J.Component);wT(bT,"displayName","ReferenceLine");wT(bT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Poe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function Ioe(t,e,n){return e&&Poe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Coe(t,e,n){return e=fg(e),Ooe(t,qV()?Reflect.construct(e,n||[],fg(t).constructor):e.apply(t,n))}function Ooe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Roe(t)}function Roe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(t)}function koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function wy(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=Noe(t,"string");return Ul(e)=="symbol"?e:e+""}function Noe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Moe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=_T({x:i.scale,y:o.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return eo(e,"discard")&&!a.isInRange(l)?null:l},by=function(t){function e(){return Aoe(this,e),Coe(this,e,arguments)}return koe(e,t),Ioe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,f=ln(i),h=ln(o);if(Ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=Moe(this.props);if(!p)return null;var y=p.x,w=p.y,_=this.props,E=_.shape,v=_.className,P=eo(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=zM(zM({clipPath:P},rt(this.props,!0)),{},{cx:y,cy:w});return J.createElement(Yt,{className:st("recharts-reference-dot",v)},e.renderDot(E,A),qn.renderCallByParent(this.props,{x:y-a,y:w-a,width:2*a,height:2*a}))}}])}(J.Component);wy(by,"displayName","ReferenceDot");wy(by,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wy(by,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Xe(t)?n=t(e):n=J.createElement(vT,XE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function joe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HV(r.key),r)}}function Loe(t,e,n){return e&&joe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $oe(t,e,n){return e=dg(e),Foe(t,WV()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function Foe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(t)}function Voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZE(t,e)}function Ey(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=Boe(t,"string");return Bl(e)=="symbol"?e:e+""}function Boe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=function(e,n,r,i,o){var a=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var y=_T({x:h.scale,y:p.scale}),w={x:e?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},_={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return eo(o,"discard")&&(!y.isInRange(w)||!y.isInRange(_))?null:CV(w,_)},xy=function(t){function e(){return Doe(this,e),$oe(this,e,arguments)}return Uoe(e,t),Loe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Ws(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ln(i),y=ln(o),w=ln(a),_=ln(l),E=this.props.shape;if(!p&&!y&&!w&&!_&&!E)return null;var v=qoe(p,y,w,_,this.props);if(!v&&!E)return null;var P=eo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(Yt,{className:st("recharts-reference-area",c)},e.renderRect(E,HM(HM({clipPath:P},rt(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(J.Component);Ey(xy,"displayName","ReferenceArea");Ey(xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ey(xy,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Xe(t)?n=t(e):n=J.createElement(yT,JE({},e,{className:"recharts-reference-area-rect"})),n});function GV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function zoe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Zie(r,n)}function Woe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function hg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Hoe(t,e){return GV(t,e+1)}function Goe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,l=e.end,c=0,f=1,h=a,p=function(){var _=r==null?void 0:r[c];if(_===void 0)return{v:GV(r,f)};var E=c,v,P=function(){return v===void 0&&(v=n(_,E)),v},A=_.coordinate,N=c===0||hg(t,A,P,h,l);N||(c=0,h=a,f+=1),N&&(h=A+t*(P()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){Koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e,n){return e=Yoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Xoe(t,"string");return kd(e)=="symbol"?e:e+""}function Xoe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qoe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end,f=function(y){var w=o[y],_,E=function(){return _===void 0&&(_=n(w,y)),_};if(y===a-1){var v=t*(w.coordinate+t*E()/2-c);o[y]=w=Vn(Vn({},w),{},{tickCoord:v>0?w.coordinate-v*t:w.coordinate})}else o[y]=w=Vn(Vn({},w),{},{tickCoord:w.coordinate});var P=hg(t,w.tickCoord,E,l,c);P&&(c=w.tickCoord-t*(E()/2+i),o[y]=Vn(Vn({},w),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return o}function Joe(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,c=e.start,f=e.end;if(o){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-f);a[l-1]=h=Vn(Vn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var w=hg(t,h.tickCoord,function(){return p},c,f);w&&(f=h.tickCoord-t*(p/2+i),a[l-1]=Vn(Vn({},h),{},{isShow:!0}))}for(var _=o?l-1:l,E=function(A){var N=a[A],j,I=function(){return j===void 0&&(j=n(N,A)),j};if(A===0){var D=t*(N.coordinate-t*I()/2-c);a[A]=N=Vn(Vn({},N),{},{tickCoord:D<0?N.coordinate-D*t:N.coordinate})}else a[A]=N=Vn(Vn({},N),{},{tickCoord:N.coordinate});var C=hg(t,N.tickCoord,I,c,f);C&&(c=N.tickCoord+t*(I()/2+i),a[A]=Vn(Vn({},N),{},{isShow:!0}))},v=0;v<_;v++)E(v);return a}function Zoe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||No.isSsr)return Hoe(i,typeof c=="number"&&xe(c)?c:0);var y=[],w=l==="top"||l==="bottom"?"width":"height",_=h&&w==="width"?Df(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(N,j){var I=Xe(f)?f(N.value,j):N.value;return w==="width"?zoe(Df(I,{fontSize:e,letterSpacing:n}),_,p):Df(I,{fontSize:e,letterSpacing:n})[w]},v=i.length>=2?xi(i[1].coordinate-i[0].coordinate):1,P=Woe(o,v,w);return c==="equidistantPreserveStart"?Goe(v,P,E,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=Joe(v,P,E,i,a,c==="preserveStartEnd"):y=Qoe(v,P,E,i,a),y.filter(function(A){return A.isShow}))}var eae=["viewBox"],tae=["viewBox"],nae=["ticks"];function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){ET(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1(t,e){if(t==null)return{};var n=rae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function oae(t,e,n){return e&&YM(t.prototype,e),n&&YM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aae(t,e,n){return e=pg(e),sae(t,KV()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function sae(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uae(t)}function uae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function ET(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=cae(t,"string");return ql(e)=="symbol"?e:e+""}function cae(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sy=function(t){function e(n){var r;return iae(this,e),r=aae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return lae(e,t),oae(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=h1(r,eae),l=this.props,c=l.viewBox,f=h1(l,tae);return!gl(o,c)||!gl(a,f)||!gl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,y=i.tickMargin,w,_,E,v,P,A,N=p?-1:1,j=r.tickSize||h,I=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":w=_=r.coordinate,v=a+ +!p*c,E=v-N*j,A=E-N*y,P=I;break;case"left":E=v=r.coordinate,_=o+ +!p*l,w=_-N*j,P=w-N*y,A=I;break;case"right":E=v=r.coordinate,_=o+ +p*l,w=_+N*j,P=w+N*y,A=I;break;default:w=_=r.coordinate,v=a+ +p*c,E=v+N*j,A=E+N*y,P=I;break}return{line:{x1:w,y1:E,x2:_,y2:v},tick:{x:P,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=Yn(Yn(Yn({},rt(this.props,!1)),rt(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Yn(Yn({},p),{},{x1:i,y1:o+y*l,x2:i+a,y2:o+y*l})}else{var w=+(c==="left"&&!f||c==="right"&&f);p=Yn(Yn({},p),{},{x1:i+w*a,y1:o,x2:i+w*a,y2:o+l})}return J.createElement("line",cl({},p,{className:st("recharts-cartesian-axis-line",Kr(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,y=l.unit,w=Zoe(Yn(Yn({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),v=rt(this.props,!1),P=rt(h,!1),A=Yn(Yn({},v),{},{fill:"none"},rt(c,!1)),N=w.map(function(j,I){var D=a.getTickLineCoord(j),C=D.line,R=D.tick,M=Yn(Yn(Yn(Yn({textAnchor:_,verticalAnchor:E},v),{},{stroke:"none",fill:f},P),R),{},{index:I,payload:j,visibleTicksCount:w.length,tickFormatter:p});return J.createElement(Yt,cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Tm(a.props,j,I)),c&&J.createElement("line",cl({},A,C,{className:st("recharts-cartesian-axis-tick-line",Kr(c,"className"))})),h&&e.renderTickItem(h,M,"".concat(Xe(p)?p(j.value,I):j.value).concat(y||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,y=p.ticks,w=h1(p,nae),_=y;return Xe(c)&&(_=y&&y.length>0?c(this.props):c(w)),a<=0||l<=0||!_||!_.length?null:J.createElement(Yt,{className:st("recharts-cartesian-axis",f),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return J.isValidElement(r)?a=J.cloneElement(r,i):Xe(r)?a=r(i):a=J.createElement(jm,cl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(B.Component);ET(Sy,"displayName","CartesianAxis");ET(Sy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fae=["type","layout","connectNulls","ref"],dae=["key"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function XM(t,e){if(t==null)return{};var n=hae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t){return yae(t)||gae(t)||mae(t)||pae()}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t,e){if(t){if(typeof t=="string")return tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(t,e)}}function gae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yae(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function _ae(t,e,n){return e&&JM(t.prototype,e),n&&JM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wae(t,e,n){return e=mg(e),bae(t,XV()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function bae(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function _i(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QV(t){var e=Sae(t,"string");return zl(e)=="symbol"?e:e+""}function Sae(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wl=function(t){function e(){var n;vae(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wae(this,e,[].concat(i)),_i(n,"state",{isAnimationFinished:!0,totalLength:0}),_i(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),_i(n,"getStrokeDasharray",function(a,l,c){var f=c.reduce(function(P,A){return P+A});if(!f)return n.generateSimpleStrokeDasharray(l,a);for(var h=Math.floor(a/f),p=a%f,y=l-a,w=[],_=0,E=0;_<c.length;E+=c[_],++_)if(E+c[_]>p){w=[].concat(tl(c.slice(0,_)),[p-E]);break}var v=w.length%2===0?[0,y]:[y];return[].concat(tl(e.repeat(c,h)),tl(w),v).map(function(P){return"".concat(P,"px")}).join(", ")}),_i(n,"id",Zd("recharts-line-")),_i(n,"pathRef",function(a){n.mainCurve=a}),_i(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_i(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return xae(e,t),_ae(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Yr(h,oh);if(!p)return null;var y=function(E,v){return{x:E.x,y:E.y,value:E.value,errorVal:Or(E.payload,v)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Yt,w,p.map(function(_){return J.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,h=l.dataKey,p=rt(this.props,!1),y=rt(c,!0),w=f.map(function(E,v){var P=Tr(Tr(Tr({key:"dot-".concat(v),r:3},p),y),{},{value:E.value,dataKey:h,cx:E.x,cy:E.y,index:v,payload:E.payload});return e.renderDotItem(c,P)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return J.createElement(Yt,Ff({className:"recharts-line-dots",key:"dots"},_),w)}},{key:"renderCurveStatically",value:function(r,i,o,a){var l=this.props,c=l.type,f=l.layout,h=l.connectNulls;l.ref;var p=XM(l,fae),y=Tr(Tr(Tr({},rt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:f,connectNulls:h});return J.createElement(NE,Ff({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,l=a.points,c=a.strokeDasharray,f=a.isAnimationActive,h=a.animationBegin,p=a.animationDuration,y=a.animationEasing,w=a.animationId,_=a.animateNewValues,E=a.width,v=a.height,P=this.state,A=P.prevPoints,N=P.totalLength;return J.createElement(qo,{begin:h,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var I=j.t;if(A){var D=A.length/l.length,C=l.map(function(V,O){var W=Math.floor(O*D);if(A[W]){var Y=A[W],X=wi(Y.x,V.x),re=wi(Y.y,V.y);return Tr(Tr({},V),{},{x:X(I),y:re(I)})}if(_){var Q=wi(E*2,V.x),oe=wi(v/2,V.y);return Tr(Tr({},V),{},{x:Q(I),y:oe(I)})}return Tr(Tr({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(C,r,i)}var R=wi(0,N),M=R(I),F;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=o.getStrokeDasharray(M,N,L)}else F=o.generateSimpleStrokeDasharray(N,M);return o.renderCurveStatically(l,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,l=o.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return l&&a&&a.length&&(!f&&h>0||!py(f,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,l=i.points,c=i.className,f=i.xAxis,h=i.yAxis,p=i.top,y=i.left,w=i.width,_=i.height,E=i.isAnimationActive,v=i.id;if(o||!l||!l.length)return null;var P=this.state.isAnimationFinished,A=l.length===1,N=st("recharts-line",c),j=f&&f.allowDataOverflow,I=h&&h.allowDataOverflow,D=j||I,C=Je(v)?this.id:v,R=(r=rt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=R.r,F=M===void 0?3:M,L=R.strokeWidth,V=L===void 0?2:L,O=pH(a)?a:{},W=O.clipDot,Y=W===void 0?!0:W,X=F*2+V;return J.createElement(Yt,{className:N},j||I?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(C)},J.createElement("rect",{x:j?y:y-w/2,y:I?p:p-_/2,width:j?w:w*2,height:I?_:_*2})),!Y&&J.createElement("clipPath",{id:"clipPath-dots-".concat(C)},J.createElement("rect",{x:y-X/2,y:p-X/2,width:w+X,height:_+X}))):null,!A&&this.renderCurve(D,C),this.renderErrorBar(D,C),(A||a)&&this.renderDots(D,Y,C),(!E||P)&&$a.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(tl(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(tl(a),tl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(J.isValidElement(r))o=J.cloneElement(r,i);else if(Xe(r))o=r(i);else{var a=i.key,l=XM(i,dae),c=st("recharts-line-dot",typeof r!="boolean"?r.className:"");o=J.createElement(vT,Ff({key:a},l,{className:c}))}return o}}])}(B.PureComponent);_i(Wl,"displayName","Line");_i(Wl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!No.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_i(Wl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,p=c.map(function(y,w){var _=Or(y,a);return h==="horizontal"?{x:p2({axis:n,ticks:i,bandSize:l,entry:y,index:w}),y:Je(_)?null:r.scale(_),value:_,payload:y}:{x:Je(_)?null:n.scale(_),y:p2({axis:r,ticks:o,bandSize:l,entry:y,index:w}),value:_,payload:y}});return Tr({points:p,layout:h},f)});function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eU(r.key),r)}}function Pae(t,e,n){return e&&Aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iae(t,e,n){return e=gg(e),Cae(t,JV()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function Cae(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function Rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rx(t,e)}function ZV(t,e,n){return e=eU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eU(t){var e=kae(t,"string");return Hl(e)=="symbol"?e:e+""}function kae(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function Nae(t){var e=t.xAxisId,n=FV(),r=VV(),i=LV(e);return i==null?null:J.createElement(Sy,ix({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return qs(a,!0)}}))}var Gl=function(t){function e(){return Tae(this,e),Iae(this,e,arguments)}return Rae(e,t),Pae(e,[{key:"render",value:function(){return J.createElement(Nae,this.props)}}])}(J.Component);ZV(Gl,"displayName","XAxis");ZV(Gl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function jae(t,e,n){return e&&Dae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lae(t,e,n){return e=yg(e),$ae(t,tU()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function $ae(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fae(t)}function Fae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function Vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function nU(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=Uae(t,"string");return Kl(e)=="symbol"?e:e+""}function Uae(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}var Bae=function(e){var n=e.yAxisId,r=FV(),i=VV(),o=$V(n);return o==null?null:J.createElement(Sy,ax({},o,{className:st("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return qs(l,!0)}}))},Yl=function(t){function e(){return Mae(this,e),Lae(this,e,arguments)}return Vae(e,t),jae(e,[{key:"render",value:function(){return J.createElement(Bae,this.props)}}])}(J.Component);nU(Yl,"displayName","YAxis");nU(Yl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZM(t){return Hae(t)||Wae(t)||zae(t)||qae()}function qae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zae(t,e){if(t){if(typeof t=="string")return sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(t,e)}}function Wae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hae(t){if(Array.isArray(t))return sx(t)}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ux=function(e,n,r,i,o){var a=Yr(e,bT),l=Yr(e,by),c=[].concat(ZM(a),ZM(l)),f=Yr(e,xy),h="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(E,v){if(v.props[h]===r&&eo(v.props,"extendDomain")&&xe(v.props[p])){var P=v.props[p];return[Math.min(E[0],P),Math.max(E[1],P)]}return E},y)),f.length){var w="".concat(p,"1"),_="".concat(p,"2");y=f.reduce(function(E,v){if(v.props[h]===r&&eo(v.props,"extendDomain")&&xe(v.props[w])&&xe(v.props[_])){var P=v.props[w],A=v.props[_];return[Math.min(E[0],P,A),Math.max(E[1],P,A)]}return E},y)}return o&&o.length&&(y=o.reduce(function(E,v){return xe(v)?[Math.min(E[0],v),Math.max(E[1],v)]:E},y)),y},p1={exports:{}},eD;function Gae(){return eD||(eD=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,p||c,y),_=n?n+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],w]:c._events[_].push(w):(c._events[_]=w,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,w=p.length,_=new Array(w);y<w;y++)_[y]=p[y].fn;return _},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,w,_){var E=n?n+f:f;if(!this._events[E])return!1;var v=this._events[E],P=arguments.length,A,N;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),P){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,p),!0;case 4:return v.fn.call(v.context,h,p,y),!0;case 5:return v.fn.call(v.context,h,p,y,w),!0;case 6:return v.fn.call(v.context,h,p,y,w,_),!0}for(N=1,A=new Array(P-1);N<P;N++)A[N-1]=arguments[N];v.fn.apply(v.context,A)}else{var j=v.length,I;for(N=0;N<j;N++)switch(v[N].once&&this.removeListener(f,v[N].fn,void 0,!0),P){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,h);break;case 3:v[N].fn.call(v[N].context,h,p);break;case 4:v[N].fn.call(v[N].context,h,p,y);break;default:if(!A)for(I=1,A=new Array(P-1);I<P;I++)A[I-1]=arguments[I];v[N].fn.apply(v[N].context,A)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return a(this,w),this;var _=this._events[w];if(_.fn)_.fn===h&&(!y||_.once)&&(!p||_.context===p)&&a(this,w);else{for(var E=0,v=[],P=_.length;E<P;E++)(_[E].fn!==h||y&&!_[E].once||p&&_[E].context!==p)&&v.push(_[E]);v.length?this._events[w]=v.length===1?v[0]:v:a(this,w)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(p1)),p1.exports}var Kae=Gae();const Yae=Tt(Kae);var m1=new Yae,g1="recharts.syncMouseEvents";function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iU(r.key),r)}}function Jae(t,e,n){return e&&Qae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y1(t,e,n){return e=iU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iU(t){var e=Zae(t,"string");return Nd(e)=="symbol"?e:e+""}function Zae(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ese=function(){function t(){Xae(this,t),y1(this,"activeIndex",0),y1(this,"coordinateList",[]),y1(this,"layout","horizontal")}return Jae(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,w=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=a+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function tse(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function nse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=kn(e,n,r,i),l=kn(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function rse(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,y=kn(l,c,f,p),w=kn(l,c,h,p);r=y.x,i=y.y,o=w.x,a=w.y}else return oU(e);return[{x:r,y:i},{x:o,y:a}]}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ise(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=ase(t,"string");return Md(e)=="symbol"?e:e+""}function ase(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,w=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!w||!o||!a||y!=="ScatterChart"&&i!=="axis")return null;var _,E=NE;if(y==="ScatterChart")_=a,E=wre;else if(y==="BarChart")_=nse(p,a,c,h),E=yT;else if(p==="radial"){var v=oU(a),P=v.cx,A=v.cy,N=v.radius,j=v.startAngle,I=v.endAngle;_={cx:P,cy:A,startAngle:j,endAngle:I,innerRadius:N,outerRadius:N},E=fV}else _={points:rse(p,a,c)},E=NE;var D=Bp(Bp(Bp(Bp({stroke:"#ccc",pointerEvents:"none"},c),_),rt(w,!1)),{},{payload:l,payloadIndex:f,className:st("recharts-tooltip-cursor",w.className)});return B.isValidElement(w)?B.cloneElement(w,D):B.createElement(E,D)}var use=["item"],lse=["children","className","width","height","style","compact","title","desc"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function nD(t,e){return dse(t)||fse(t,e)||sU(t,e)||cse()}function cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function dse(t){if(Array.isArray(t))return t}function rD(t,e){if(t==null)return{};var n=hse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function gse(t,e,n){return e&&mse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,e,n){return e=vg(e),vse(t,aU()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function vse(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _se(t)}function _se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function Ql(t){return xse(t)||Ese(t)||sU(t)||bse()}function bse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(t,e){if(t){if(typeof t=="string")return cx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cx(t,e)}}function Ese(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xse(t){if(Array.isArray(t))return cx(t)}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $e(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=Sse(t,"string");return Xl(e)=="symbol"?e:e+""}function Sse(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tse={xAxis:["bottom","top"],yAxis:["left","right"]},Ase={width:"100%",height:"100%"},lU={x:0,y:0};function qp(t){return t}var Pse=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ise=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,l=i.radius;return ue(ue(ue({},i),kn(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=o.coordinate,f=i.angle;return ue(ue(ue({},i),kn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return lU},Ty=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(Ql(l),Ql(f)):l},[]);return a.length>0?a:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function cU(t){return t==="number"?[0,"auto"]:void 0}var fx=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,l=Ty(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var w=p===void 0?l:p;y=xm(w,a.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat(Ql(c),[uV(f,y)]):c},[])},oD=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Pse(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=hee(a,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,y=fx(e,n,h,p),w=Ise(r,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:w}}return null},Cse=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,w=aV(h,o);return r.reduce(function(_,E){var v,P=E.type.defaultProps!==void 0?ue(ue({},E.type.defaultProps),E.props):E.props,A=P.type,N=P.dataKey,j=P.allowDataOverflow,I=P.allowDuplicatedCategory,D=P.scale,C=P.ticks,R=P.includeHidden,M=P[a];if(_[M])return _;var F=Ty(e.data,{graphicalItems:i.filter(function(K){var le,be=a in K.props?K.props[a]:(le=K.type.defaultProps)===null||le===void 0?void 0:le[a];return be===M}),dataStartIndex:c,dataEndIndex:f}),L=F.length,V,O,W;tse(P.domain,j,A)&&(V=IE(P.domain,null,j),w&&(A==="number"||D!=="auto")&&(W=Lf(F,N,"category")));var Y=cU(A);if(!V||V.length===0){var X,re=(X=P.domain)!==null&&X!==void 0?X:Y;if(N){if(V=Lf(F,N,A),A==="category"&&w){var Q=oH(V);I&&Q?(O=V,V=og(0,L)):I||(V=v2(re,V,E).reduce(function(K,le){return K.indexOf(le)>=0?K:[].concat(Ql(K),[le])},[]))}else if(A==="category")I?V=V.filter(function(K){return K!==""&&!Je(K)}):V=v2(re,V,E).reduce(function(K,le){return K.indexOf(le)>=0||le===""||Je(le)?K:[].concat(Ql(K),[le])},[]);else if(A==="number"){var oe=vee(F,i.filter(function(K){var le,be,Ce=a in K.props?K.props[a]:(le=K.type.defaultProps)===null||le===void 0?void 0:le[a],Le="hide"in K.props?K.props.hide:(be=K.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ce===M&&(R||!Le)}),N,o,h);oe&&(V=oe)}w&&(A==="number"||D!=="auto")&&(W=Lf(F,N,"category"))}else w?V=og(0,L):l&&l[M]&&l[M].hasStack&&A==="number"?V=y==="expand"?[0,1]:sV(l[M].stackGroups,c,f):V=oV(F,i.filter(function(K){var le=a in K.props?K.props[a]:K.type.defaultProps[a],be="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return le===M&&(R||!be)}),A,h,!0);if(A==="number")V=ux(p,V,M,o,C),re&&(V=IE(re,V,j));else if(A==="category"&&re){var te=re,z=V.every(function(K){return te.indexOf(K)>=0});z&&(V=te)}}return ue(ue({},_),{},$e({},M,ue(ue({},P),{},{axisType:o,domain:V,categoricalDomain:W,duplicateDomain:O,originalDomain:(v=P.domain)!==null&&v!==void 0?v:Y,isCategorical:w,layout:h})))},{})},Ose=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,y=Ty(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),w=y.length,_=aV(h,o),E=-1;return r.reduce(function(v,P){var A=P.type.defaultProps!==void 0?ue(ue({},P.type.defaultProps),P.props):P.props,N=A[a],j=cU("number");if(!v[N]){E++;var I;return _?I=og(0,w):l&&l[N]&&l[N].hasStack?(I=sV(l[N].stackGroups,c,f),I=ux(p,I,N,o)):(I=IE(j,oV(y,r.filter(function(D){var C,R,M=a in D.props?D.props[a]:(C=D.type.defaultProps)===null||C===void 0?void 0:C[a],F="hide"in D.props?D.props.hide:(R=D.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===N&&!F}),"number",h),i.defaultProps.allowDataOverflow),I=ux(p,I,N,o)),ue(ue({},v),{},$e({},N,ue(ue({axisType:o},i.defaultProps),{},{hide:!0,orientation:Kr(Tse,"".concat(o,".").concat(E%2),null),domain:I,originalDomain:j,isCategorical:_,layout:h})))}return v},{})},Rse=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),y=Yr(h,o),w={};return y&&y.length?w=Cse(e,{axes:y,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):a&&a.length&&(w=Ose(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),w},kse=function(e){var n=ul(e),r=qs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:zS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xm(n,r)}},aD=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pr(n,$l),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Nse=function(e){return!e||!e.length?!1:e.some(function(n){var r=ko(n&&n.type);return r&&r.indexOf("Bar")>=0})},sD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mse=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,p=r.children,y=r.margin||{},w=Pr(p,$l),_=Pr(p,ja),E=Object.keys(c).reduce(function(I,D){var C=c[D],R=C.orientation;return!C.mirror&&!C.hide?ue(ue({},I),{},$e({},R,I[R]+C.width)):I},{left:y.left||0,right:y.right||0}),v=Object.keys(a).reduce(function(I,D){var C=a[D],R=C.orientation;return!C.mirror&&!C.hide?ue(ue({},I),{},$e({},R,Kr(I,"".concat(R))+C.height)):I},{top:y.top||0,bottom:y.bottom||0}),P=ue(ue({},v),E),A=P.bottom;w&&(P.bottom+=w.props.height||$l.defaultProps.height),_&&n&&(P=gee(P,i,r,n));var N=f-P.left-P.right,j=h-P.top-P.bottom;return ue(ue({brushBottom:A},P),{},{width:Math.max(N,0),height:Math.max(j,0)})},Dse=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},fU=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(P,A){var N=A.graphicalItems,j=A.stackGroups,I=A.offset,D=A.updateId,C=A.dataStartIndex,R=A.dataEndIndex,M=P.barSize,F=P.layout,L=P.barGap,V=P.barCategoryGap,O=P.maxBarSize,W=sD(F),Y=W.numericAxisName,X=W.cateAxisName,re=Nse(N),Q=[];return N.forEach(function(oe,te){var z=Ty(P.data,{graphicalItems:[oe],dataStartIndex:C,dataEndIndex:R}),K=oe.type.defaultProps!==void 0?ue(ue({},oe.type.defaultProps),oe.props):oe.props,le=K.dataKey,be=K.maxBarSize,Ce=K["".concat(Y,"Id")],Le=K["".concat(X,"Id")],Ge={},he=c.reduce(function(bn,gr){var Di=A["".concat(gr.axisType,"Map")],oo=K["".concat(gr.axisType,"Id")];Di&&Di[oo]||gr.axisType==="zAxis"||nu();var Xo=Di[oo];return ue(ue({},bn),{},$e($e({},gr.axisType,Xo),"".concat(gr.axisType,"Ticks"),qs(Xo)))},Ge),ae=he[X],ve=he["".concat(X,"Ticks")],Ae=j&&j[Ce]&&j[Ce].hasStack&&Oee(oe,j[Ce].stackGroups),de=ko(oe.type).indexOf("Bar")>=0,qe=Xm(ae,ve),Me=[],ht=re&&pee({barSize:M,stackGroups:j,totalSize:Dse(he,X)});if(de){var yt,Vt,pr=Je(be)?O:be,mr=(yt=(Vt=Xm(ae,ve,!0))!==null&&Vt!==void 0?Vt:pr)!==null&&yt!==void 0?yt:0;Me=mee({barGap:L,barCategoryGap:V,bandSize:mr!==qe?mr:qe,sizeList:ht[Le],maxBarSize:pr}),mr!==qe&&(Me=Me.map(function(bn){return ue(ue({},bn),{},{position:ue(ue({},bn.position),{},{offset:bn.position.offset-mr/2})})}))}var er=oe&&oe.type&&oe.type.getComposedData;er&&Q.push({props:ue(ue({},er(ue(ue({},he),{},{displayedData:z,props:P,dataKey:le,item:oe,bandSize:qe,barPosition:Me,offset:I,stackedData:Ae,layout:F,dataStartIndex:C,dataEndIndex:R}))),{},$e($e($e({key:oe.key||"item-".concat(te)},Y,he[Y]),X,he[X]),"animationId",D)),childIndex:yH(oe,P.children),item:oe})}),Q},w=function(P,A){var N=P.props,j=P.dataStartIndex,I=P.dataEndIndex,D=P.updateId;if(!RO({props:N}))return null;var C=N.children,R=N.layout,M=N.stackOffset,F=N.data,L=N.reverseStackOrder,V=sD(R),O=V.numericAxisName,W=V.cateAxisName,Y=Yr(C,r),X=Pee(F,Y,"".concat(O,"Id"),"".concat(W,"Id"),M,L),re=c.reduce(function(K,le){var be="".concat(le.axisType,"Map");return ue(ue({},K),{},$e({},be,Rse(N,ue(ue({},le),{},{graphicalItems:Y,stackGroups:le.axisType===O&&X,dataStartIndex:j,dataEndIndex:I}))))},{}),Q=Mse(ue(ue({},re),{},{props:N,graphicalItems:Y}),A==null?void 0:A.legendBBox);Object.keys(re).forEach(function(K){re[K]=h(N,re[K],Q,K.replace("Map",""),n)});var oe=re["".concat(W,"Map")],te=kse(oe),z=y(N,ue(ue({},re),{},{dataStartIndex:j,dataEndIndex:I,updateId:D,graphicalItems:Y,stackGroups:X,offset:Q}));return ue(ue({formattedGraphicalItems:z,graphicalItems:Y,offset:Q,stackGroups:X},te),re)},_=function(v){function P(A){var N,j,I;return pse(this,P),I=yse(this,P,[A]),$e(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(I,"accessibilityManager",new ese),$e(I,"handleLegendBBoxUpdate",function(D){if(D){var C=I.state,R=C.dataStartIndex,M=C.dataEndIndex,F=C.updateId;I.setState(ue({legendBBox:D},w({props:I.props,dataStartIndex:R,dataEndIndex:M,updateId:F},ue(ue({},I.state),{},{legendBBox:D}))))}}),$e(I,"handleReceiveSyncEvent",function(D,C,R){if(I.props.syncId===D){if(R===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(C)}}),$e(I,"handleBrushChange",function(D){var C=D.startIndex,R=D.endIndex;if(C!==I.state.dataStartIndex||R!==I.state.dataEndIndex){var M=I.state.updateId;I.setState(function(){return ue({dataStartIndex:C,dataEndIndex:R},w({props:I.props,dataStartIndex:C,dataEndIndex:R,updateId:M},I.state))}),I.triggerSyncEvent({dataStartIndex:C,dataEndIndex:R})}}),$e(I,"handleMouseEnter",function(D){var C=I.getMouseInfo(D);if(C){var R=ue(ue({},C),{},{isTooltipActive:!0});I.setState(R),I.triggerSyncEvent(R);var M=I.props.onMouseEnter;Xe(M)&&M(R,D)}}),$e(I,"triggeredAfterMouseMove",function(D){var C=I.getMouseInfo(D),R=C?ue(ue({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(R),I.triggerSyncEvent(R);var M=I.props.onMouseMove;Xe(M)&&M(R,D)}),$e(I,"handleItemMouseEnter",function(D){I.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),$e(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),$e(I,"handleMouseMove",function(D){D.persist(),I.throttleTriggeredAfterMouseMove(D)}),$e(I,"handleMouseLeave",function(D){I.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};I.setState(C),I.triggerSyncEvent(C);var R=I.props.onMouseLeave;Xe(R)&&R(C,D)}),$e(I,"handleOuterEvent",function(D){var C=gH(D),R=Kr(I.props,"".concat(C));if(C&&Xe(R)){var M,F;/.*touch.*/i.test(C)?F=I.getMouseInfo(D.changedTouches[0]):F=I.getMouseInfo(D),R((M=F)!==null&&M!==void 0?M:{},D)}}),$e(I,"handleClick",function(D){var C=I.getMouseInfo(D);if(C){var R=ue(ue({},C),{},{isTooltipActive:!0});I.setState(R),I.triggerSyncEvent(R);var M=I.props.onClick;Xe(M)&&M(R,D)}}),$e(I,"handleMouseDown",function(D){var C=I.props.onMouseDown;if(Xe(C)){var R=I.getMouseInfo(D);C(R,D)}}),$e(I,"handleMouseUp",function(D){var C=I.props.onMouseUp;if(Xe(C)){var R=I.getMouseInfo(D);C(R,D)}}),$e(I,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),$e(I,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseDown(D.changedTouches[0])}),$e(I,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseUp(D.changedTouches[0])}),$e(I,"handleDoubleClick",function(D){var C=I.props.onDoubleClick;if(Xe(C)){var R=I.getMouseInfo(D);C(R,D)}}),$e(I,"handleContextMenu",function(D){var C=I.props.onContextMenu;if(Xe(C)){var R=I.getMouseInfo(D);C(R,D)}}),$e(I,"triggerSyncEvent",function(D){I.props.syncId!==void 0&&m1.emit(g1,I.props.syncId,D,I.eventEmitterSymbol)}),$e(I,"applySyncEvent",function(D){var C=I.props,R=C.layout,M=C.syncMethod,F=I.state.updateId,L=D.dataStartIndex,V=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)I.setState(ue({dataStartIndex:L,dataEndIndex:V},w({props:I.props,dataStartIndex:L,dataEndIndex:V,updateId:F},I.state)));else if(D.activeTooltipIndex!==void 0){var O=D.chartX,W=D.chartY,Y=D.activeTooltipIndex,X=I.state,re=X.offset,Q=X.tooltipTicks;if(!re)return;if(typeof M=="function")Y=M(Q,D);else if(M==="value"){Y=-1;for(var oe=0;oe<Q.length;oe++)if(Q[oe].value===D.activeLabel){Y=oe;break}}var te=ue(ue({},re),{},{x:re.left,y:re.top}),z=Math.min(O,te.x+te.width),K=Math.min(W,te.y+te.height),le=Q[Y]&&Q[Y].value,be=fx(I.state,I.props.data,Y),Ce=Q[Y]?{x:R==="horizontal"?Q[Y].coordinate:z,y:R==="horizontal"?K:Q[Y].coordinate}:lU;I.setState(ue(ue({},D),{},{activeLabel:le,activeCoordinate:Ce,activePayload:be,activeTooltipIndex:Y}))}else I.setState(D)}),$e(I,"renderCursor",function(D){var C,R=I.state,M=R.isTooltipActive,F=R.activeCoordinate,L=R.activePayload,V=R.offset,O=R.activeTooltipIndex,W=R.tooltipAxisBandSize,Y=I.getTooltipEventType(),X=(C=D.props.active)!==null&&C!==void 0?C:M,re=I.props.layout,Q=D.key||"_recharts-cursor";return J.createElement(sse,{key:Q,activeCoordinate:F,activePayload:L,activeTooltipIndex:O,chartName:n,element:D,isActive:X,layout:re,offset:V,tooltipAxisBandSize:W,tooltipEventType:Y})}),$e(I,"renderPolarAxis",function(D,C,R){var M=Kr(D,"type.axisType"),F=Kr(I.state,"".concat(M,"Map")),L=D.type.defaultProps,V=L!==void 0?ue(ue({},L),D.props):D.props,O=F&&F[V["".concat(M,"Id")]];return B.cloneElement(D,ue(ue({},O),{},{className:st(M,O.className),key:D.key||"".concat(C,"-").concat(R),ticks:qs(O,!0)}))}),$e(I,"renderPolarGrid",function(D){var C=D.props,R=C.radialLines,M=C.polarAngles,F=C.polarRadius,L=I.state,V=L.radiusAxisMap,O=L.angleAxisMap,W=ul(V),Y=ul(O),X=Y.cx,re=Y.cy,Q=Y.innerRadius,oe=Y.outerRadius;return B.cloneElement(D,{polarAngles:Array.isArray(M)?M:qs(Y,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(F)?F:qs(W,!0).map(function(te){return te.coordinate}),cx:X,cy:re,innerRadius:Q,outerRadius:oe,key:D.key||"polar-grid",radialLines:R})}),$e(I,"renderLegend",function(){var D=I.state.formattedGraphicalItems,C=I.props,R=C.children,M=C.width,F=C.height,L=I.props.margin||{},V=M-(L.left||0)-(L.right||0),O=rV({children:R,formattedGraphicalItems:D,legendWidth:V,legendContent:f});if(!O)return null;var W=O.item,Y=rD(O,use);return B.cloneElement(W,ue(ue({},Y),{},{chartWidth:M,chartHeight:F,margin:L,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),$e(I,"renderTooltip",function(){var D,C=I.props,R=C.children,M=C.accessibilityLayer,F=Pr(R,yi);if(!F)return null;var L=I.state,V=L.isTooltipActive,O=L.activeCoordinate,W=L.activePayload,Y=L.activeLabel,X=L.offset,re=(D=F.props.active)!==null&&D!==void 0?D:V;return B.cloneElement(F,{viewBox:ue(ue({},X),{},{x:X.left,y:X.top}),active:re,label:Y,payload:re?W:[],coordinate:O,accessibilityLayer:M})}),$e(I,"renderBrush",function(D){var C=I.props,R=C.margin,M=C.data,F=I.state,L=F.offset,V=F.dataStartIndex,O=F.dataEndIndex,W=F.updateId;return B.cloneElement(D,{key:D.key||"_recharts-brush",onChange:$p(I.handleBrushChange,D.props.onChange),data:M,x:xe(D.props.x)?D.props.x:L.left,y:xe(D.props.y)?D.props.y:L.top+L.height+L.brushBottom-(R.bottom||0),width:xe(D.props.width)?D.props.width:L.width,startIndex:V,endIndex:O,updateId:"brush-".concat(W)})}),$e(I,"renderReferenceElement",function(D,C,R){if(!D)return null;var M=I,F=M.clipPathId,L=I.state,V=L.xAxisMap,O=L.yAxisMap,W=L.offset,Y=D.type.defaultProps||{},X=D.props,re=X.xAxisId,Q=re===void 0?Y.xAxisId:re,oe=X.yAxisId,te=oe===void 0?Y.yAxisId:oe;return B.cloneElement(D,{key:D.key||"".concat(C,"-").concat(R),xAxis:V[Q],yAxis:O[te],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:F})}),$e(I,"renderActivePoints",function(D){var C=D.item,R=D.activePoint,M=D.basePoint,F=D.childIndex,L=D.isRange,V=[],O=C.props.key,W=C.item.type.defaultProps!==void 0?ue(ue({},C.item.type.defaultProps),C.item.props):C.item.props,Y=W.activeDot,X=W.dataKey,re=ue(ue({index:F,dataKey:X,cx:R.x,cy:R.y,r:4,fill:gT(C.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},rt(Y,!1)),Sm(Y));return V.push(P.renderActiveDot(Y,re,"".concat(O,"-activePoint-").concat(F))),M?V.push(P.renderActiveDot(Y,ue(ue({},re),{},{cx:M.x,cy:M.y}),"".concat(O,"-basePoint-").concat(F))):L&&V.push(null),V}),$e(I,"renderGraphicChild",function(D,C,R){var M=I.filterFormatItem(D,C,R);if(!M)return null;var F=I.getTooltipEventType(),L=I.state,V=L.isTooltipActive,O=L.tooltipAxis,W=L.activeTooltipIndex,Y=L.activeLabel,X=I.props.children,re=Pr(X,yi),Q=M.props,oe=Q.points,te=Q.isRange,z=Q.baseLine,K=M.item.type.defaultProps!==void 0?ue(ue({},M.item.type.defaultProps),M.item.props):M.item.props,le=K.activeDot,be=K.hide,Ce=K.activeBar,Le=K.activeShape,Ge=!!(!be&&V&&re&&(le||Ce||Le)),he={};F!=="axis"&&re&&re.props.trigger==="click"?he={onClick:$p(I.handleItemMouseEnter,D.props.onClick)}:F!=="axis"&&(he={onMouseLeave:$p(I.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:$p(I.handleItemMouseEnter,D.props.onMouseEnter)});var ae=B.cloneElement(D,ue(ue({},M.props),he));function ve(gr){return typeof O.dataKey=="function"?O.dataKey(gr.payload):null}if(Ge)if(W>=0){var Ae,de;if(O.dataKey&&!O.allowDuplicatedCategory){var qe=typeof O.dataKey=="function"?ve:"payload.".concat(O.dataKey.toString());Ae=xm(oe,qe,Y),de=te&&z&&xm(z,qe,Y)}else Ae=oe==null?void 0:oe[W],de=te&&z&&z[W];if(Le||Ce){var Me=D.props.activeIndex!==void 0?D.props.activeIndex:W;return[B.cloneElement(D,ue(ue(ue({},M.props),he),{},{activeIndex:Me})),null,null]}if(!Je(Ae))return[ae].concat(Ql(I.renderActivePoints({item:M,activePoint:Ae,basePoint:de,childIndex:W,isRange:te})))}else{var ht,yt=(ht=I.getItemByXY(I.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:ae},Vt=yt.graphicalItem,pr=Vt.item,mr=pr===void 0?D:pr,er=Vt.childIndex,bn=ue(ue(ue({},M.props),he),{},{activeIndex:er});return[B.cloneElement(mr,bn),null,null]}return te?[ae,null,null]:[ae,null]}),$e(I,"renderCustomized",function(D,C,R){return B.cloneElement(D,ue(ue({key:"recharts-customized-".concat(R)},I.props),I.state))}),$e(I,"renderMap",{CartesianGrid:{handler:qp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:qp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:qp},YAxis:{handler:qp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((N=A.id)!==null&&N!==void 0?N:Zd("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=nF(I.triggeredAfterMouseMove,(j=A.throttleDelay)!==null&&j!==void 0?j:1e3/60),I.state={},I}return wse(P,v),gse(P,[{key:"componentDidMount",value:function(){var N,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,j=N.children,I=N.data,D=N.height,C=N.layout,R=Pr(j,yi);if(R){var M=R.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,L=fx(this.state,I,M,F),V=this.state.tooltipTicks[M].coordinate,O=(this.state.offset.top+D)/2,W=C==="horizontal",Y=W?{x:V,y:O}:{y:V,x:O},X=this.state.formattedGraphicalItems.find(function(Q){var oe=Q.item;return oe.type.name==="Scatter"});X&&(Y=ue(ue({},Y),X.props.points[M].tooltipPosition),L=X.props.points[M].tooltipPayload);var re={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:Y};this.setState(re),this.renderCursor(R),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var I,D;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(N){X1([Pr(N.children,yi)],[Pr(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Pr(this.props.children,yi);if(N&&typeof N.props.shared=="boolean"){var j=N.props.shared?"axis":"item";return l.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var j=this.container,I=j.getBoundingClientRect(),D=rX(I),C={chartX:Math.round(N.pageX-D.left),chartY:Math.round(N.pageY-D.top)},R=I.width/j.offsetWidth||1,M=this.inRange(C.chartX,C.chartY,R);if(!M)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&L&&V){var W=ul(L).scale,Y=ul(V).scale,X=W&&W.invert?W.invert(C.chartX):null,re=Y&&Y.invert?Y.invert(C.chartY):null;return ue(ue({},C),{},{xValue:X,yValue:re})}var Q=oD(this.state,this.props.data,this.props.layout,M);return Q?ue(ue({},C),Q):null}},{key:"inRange",value:function(N,j){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,C=N/I,R=j/I;if(D==="horizontal"||D==="vertical"){var M=this.state.offset,F=C>=M.left&&C<=M.left+M.width&&R>=M.top&&R<=M.top+M.height;return F?{x:C,y:R}:null}var L=this.state,V=L.angleAxisMap,O=L.radiusAxisMap;if(V&&O){var W=ul(V);return b2({x:C,y:R},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,j=this.getTooltipEventType(),I=Pr(N,yi),D={};I&&j==="axis"&&(I.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Sm(this.props,this.handleOuterEvent);return ue(ue({},C),D)}},{key:"addListener",value:function(){m1.on(g1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){m1.removeListener(g1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,j,I){for(var D=this.state.formattedGraphicalItems,C=0,R=D.length;C<R;C++){var M=D[C];if(M.item===N||M.props.key===N.key||j===ko(M.item.type)&&I===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,j=this.state.offset,I=j.left,D=j.top,C=j.height,R=j.width;return J.createElement("defs",null,J.createElement("clipPath",{id:N},J.createElement("rect",{x:I,y:D,height:C,width:R})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(j,I){var D=nD(I,2),C=D[0],R=D[1];return ue(ue({},j),{},$e({},C,R.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(j,I){var D=nD(I,2),C=D[0],R=D[1];return ue(ue({},j),{},$e({},C,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(N){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(N){var j=this.state,I=j.formattedGraphicalItems,D=j.activeItem;if(I&&I.length)for(var C=0,R=I.length;C<R;C++){var M=I[C],F=M.props,L=M.item,V=L.type.defaultProps!==void 0?ue(ue({},L.type.defaultProps),L.props):L.props,O=ko(L.type);if(O==="Bar"){var W=(F.data||[]).find(function(Q){return cre(N,Q)});if(W)return{graphicalItem:M,payload:W}}else if(O==="RadialBar"){var Y=(F.data||[]).find(function(Q){return b2(N,Q)});if(Y)return{graphicalItem:M,payload:Y}}else if(yy(M,D)||vy(M,D)||Id(M,D)){var X=eie({graphicalItem:M,activeTooltipItem:D,itemData:V.data}),re=V.activeIndex===void 0?X:V.activeIndex;return{graphicalItem:ue(ue({},M),{},{childIndex:re}),payload:Id(M,D)?V.data[X]:M.props.data[X]}}}return null}},{key:"render",value:function(){var N=this;if(!RO(this))return null;var j=this.props,I=j.children,D=j.className,C=j.width,R=j.height,M=j.style,F=j.compact,L=j.title,V=j.desc,O=rD(j,lse),W=rt(O,!1);if(F)return J.createElement(FM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(J1,fl({},W,{width:C,height:R,title:L,desc:V}),this.renderClipPath(),NO(I,this.renderMap)));if(this.props.accessibilityLayer){var Y,X;W.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,W.role=(X=this.props.role)!==null&&X!==void 0?X:"application",W.onKeyDown=function(Q){N.accessibilityManager.keyboardEvent(Q)},W.onFocus=function(){N.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return J.createElement(FM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",fl({className:st("recharts-wrapper",D),style:ue({position:"relative",cursor:"default",width:C,height:R},M)},re,{ref:function(oe){N.container=oe}}),J.createElement(J1,fl({},W,{width:C,height:R,title:L,desc:V,style:Ase}),this.renderClipPath(),NO(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);$e(_,"displayName",n),$e(_,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),$e(_,"getDerivedStateFromProps",function(v,P){var A=v.dataKey,N=v.data,j=v.children,I=v.width,D=v.height,C=v.layout,R=v.stackOffset,M=v.margin,F=P.dataStartIndex,L=P.dataEndIndex;if(P.updateId===void 0){var V=aD(v);return ue(ue(ue({},V),{},{updateId:0},w(ue(ue({props:v},V),{},{updateId:0}),P)),{},{prevDataKey:A,prevData:N,prevWidth:I,prevHeight:D,prevLayout:C,prevStackOffset:R,prevMargin:M,prevChildren:j})}if(A!==P.prevDataKey||N!==P.prevData||I!==P.prevWidth||D!==P.prevHeight||C!==P.prevLayout||R!==P.prevStackOffset||!gl(M,P.prevMargin)){var O=aD(v),W={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},Y=ue(ue({},oD(P,N,C)),{},{updateId:P.updateId+1}),X=ue(ue(ue({},O),W),Y);return ue(ue(ue({},X),w(ue({props:v},X),P)),{},{prevDataKey:A,prevData:N,prevWidth:I,prevHeight:D,prevLayout:C,prevStackOffset:R,prevMargin:M,prevChildren:j})}if(!X1(j,P.prevChildren)){var re,Q,oe,te,z=Pr(j,$l),K=z&&(re=(Q=z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:F,le=z&&(oe=(te=z.props)===null||te===void 0?void 0:te.endIndex)!==null&&oe!==void 0?oe:L,be=K!==F||le!==L,Ce=!Je(N),Le=Ce&&!be?P.updateId:P.updateId+1;return ue(ue({updateId:Le},w(ue(ue({props:v},P),{},{updateId:Le,dataStartIndex:K,dataEndIndex:le}),P)),{},{prevChildren:j,dataStartIndex:K,dataEndIndex:le})}return null}),$e(_,"renderActiveDot",function(v,P,A){var N;return B.isValidElement(v)?N=B.cloneElement(v,P):Xe(v)?N=v(P):N=J.createElement(vT,P),J.createElement(Yt,{className:"recharts-active-dot",key:A},N)});var E=B.forwardRef(function(P,A){return J.createElement(_,fl({},P,{ref:A}))});return E.displayName=_.displayName,E},jse=fU({chartName:"LineChart",GraphicalChild:Wl,axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Yl}],formatAxisMap:IV}),Lse=fU({chartName:"BarChart",GraphicalChild:Do,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Yl}],formatAxisMap:IV});const $se={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Fse=au($se),ks=ki(Fse),Vse=()=>{const[t,e]=B.useState([]),[n,r]=B.useState([]),[i,o]=B.useState([{title:"Total Students",value:"0",icon:Sa,color:"blue",details:[{label:"Recent Registrations",value:"0"},{label:"Active Students",value:"0"},{label:"New This Month",value:"0"}]},{title:"Total Teachers",value:"0",icon:yq,color:"green",details:[{label:"Full-Time",value:"0"},{label:"Part-Time",value:"0"},{label:"New Hires",value:"0"}]},{title:"Messages Today",value:"0",icon:Ex,color:"yellow",details:[{label:"Unread",value:"0"},{label:"Priority",value:"0"},{label:"Average Response Time",value:"N/A"}]},{title:"Pending Messages",value:"0",icon:nq,color:"red",details:[{label:"Waiting >24hrs",value:"0"},{label:"High Priority",value:"0"},{label:"Department Breakdown",value:"N/A"}]},{title:"Pending NFC Card",value:"0",icon:dq,color:"purple",details:[{label:"Processed",value:"0"},{label:"In Review",value:"0"},{label:"Awaiting Approval",value:"0"}]},{title:"Pending Events",value:"0",icon:x1,color:"orange",details:[{label:"Upcoming",value:"0"},{label:"This Week",value:"0"},{label:"Requires Action",value:"0"}]}]),[a,l]=B.useState(null),c=async()=>{try{o(E=>E.map((v,P)=>{switch(v.title){case"Total Students":return{...v,details:[{...v.details[0],value:"15"},{...v.details[1],value:"250"},{...v.details[2],value:"45"}]};case"Total Teachers":return{...v,details:[{...v.details[0],value:"30"},{...v.details[1],value:"10"},{...v.details[2],value:"5"}]};case"Messages Today":return{...v,details:[{...v.details[0],value:"25"},{...v.details[1],value:"3"},{...v.details[2],value:"2hrs"}]};default:return v}}))}catch(E){console.error("Error updating stats details:",E)}};B.useEffect(()=>{h(),y(),_(),c()},[]);const f=E=>{l(a===E?null:E)},h=async()=>{try{const E=_t(ks,"RegisteredStudent"),P=(await $t(E)).size,A=_t(ks,"RegisteredTeacher"),j=(await $t(A)).size,I=await Promise.all([p("RegisteredStudent"),p("RegisteredTeacher"),p("RegisteredAdmin")]);e(I.flat()),o(D=>D.map(C=>C.title==="Total Students"?{...C,value:P.toString()}:C.title==="Total Teachers"?{...C,value:j.toString()}:C))}catch(E){console.error("Error fetching registration data:",E)}},p=async E=>{try{const v=_t(ks,E),P=Cn(v,wC("createdAt","desc"),c7(4));return(await $t(P)).docs.reduce((j,I)=>{const C=I.data().createdAt.toDate().toLocaleString("default",{month:"short"}),R=j.find(M=>M.month===C);return R?R[E.replace("Registered","").toLowerCase()+"s"]++:j.push({month:C,[E.replace("Registered","").toLowerCase()+"s"]:1,students:0,teachers:0,admins:0}),j},[])}catch(v){return console.error(`Error fetching ${E} data:`,v),[]}},y=async()=>{try{const E=_t(ks,"Messages"),v=new Date;v.setHours(0,0,0,0);const P=Cn(E,On("createdAt",">=",v)),N=(await $t(P)).size,j=Cn(E,On("status","==","pending")),D=(await $t(j)).size,C=await w();r(C),o(R=>R.map(M=>M.title==="Messages Today"?{...M,value:N.toString()}:M.title==="Pending Messages"?{...M,value:D.toString()}:M))}catch(E){console.error("Error fetching messages data:",E)}},w=async()=>{try{const E=_t(ks,"Messages"),v=new Date;v.setDate(v.getDate()-5);const P=Cn(E,On("createdAt",">=",v),wC("createdAt","asc"));return(await $t(P)).docs.reduce((j,I)=>{const C=I.data().createdAt.toDate().toLocaleString("default",{weekday:"short"}),R=j.find(M=>M.day===C);return R?(R.messages++,I.data().status==="pending"&&R.pending++):j.push({day:C,messages:1,pending:I.data().status==="pending"?1:0}),j},[])}catch(E){return console.error("Error fetching daily messages:",E),[]}},_=async()=>{try{const E=_t(ks,"Toregistered"),v=_t(ks,"PendingEvent"),P=await $t(E),A=await $t(v),N=P.size,j=A.size;o(I=>I.map(D=>D.title==="Pending NFC Card"?{...D,value:N.toString()}:D.title==="Pending Events"?{...D,value:j.toString()}:D))}catch(E){console.error("Error fetching events data:",E)}};return B.useEffect(()=>{h(),y(),_()},[]),x.jsxs("div",{className:_e.dashboardStatisticContainer,children:[x.jsx("div",{className:_e.statsGrid,children:i.map((E,v)=>x.jsxs("div",{className:_e.statsCard,children:[x.jsxs("div",{className:_e.statsCardContent,onClick:()=>f(v),children:[x.jsxs("div",{className:_e.statsTextContainer,children:[x.jsx("p",{className:_e.statsTitle,children:E.title}),x.jsx("p",{className:_e.statsValue,children:E.value})]}),x.jsxs("div",{className:_e.statsIconContainer,children:[x.jsx(E.icon,{className:`${_e.statsIcon} ${_e[`icon-${E.color}`]}`}),a===v?x.jsx(tq,{}):x.jsx(eq,{})]})]}),a===v&&x.jsx("div",{className:_e.statsDropdown,children:E.details.map((P,A)=>x.jsxs("div",{className:_e.statsDropdownItem,children:[x.jsx("span",{className:_e.statsDropdownLabel,children:P.label}),x.jsx("span",{className:_e.statsDropdownValue,children:P.value})]},A))})]},v))}),x.jsxs("div",{className:_e.chartsGrid,children:[x.jsxs("div",{className:_e.chartCard,children:[x.jsx("div",{className:_e.chartHeader,children:x.jsx("h3",{className:_e.chartTitle,children:"Registration Trends"})}),x.jsx("div",{className:_e.chartContent,children:x.jsx(tN,{width:"100%",height:300,children:x.jsxs(Lse,{data:t,children:[x.jsx(Gl,{dataKey:"month"}),x.jsx(Yl,{}),x.jsx(yi,{}),x.jsx(ja,{}),x.jsx(Do,{dataKey:"students",fill:"#3b82f6",name:"Students"}),x.jsx(Do,{dataKey:"teachers",fill:"#22c55e",name:"Teachers"}),x.jsx(Do,{dataKey:"admins",fill:"#eab308",name:"Admins"})]})})})]}),x.jsxs("div",{className:_e.chartCard,children:[x.jsx("div",{className:_e.chartHeader,children:x.jsx("h3",{className:_e.chartTitle,children:"Message Activity"})}),x.jsx("div",{className:_e.chartContent,children:x.jsx(tN,{width:"100%",height:300,children:x.jsxs(jse,{data:n,children:[x.jsx(Gl,{dataKey:"day"}),x.jsx(Yl,{}),x.jsx(yi,{}),x.jsx(ja,{}),x.jsx(Wl,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",name:"Total Messages"}),x.jsx(Wl,{type:"monotone",dataKey:"pending",stroke:"#ef4444",name:"Pending Messages"})]})})})]})]})]})};function Use(){var r;const t=Oi(),e=(r=t.state)==null?void 0:r.userData,n=t.pathname==="/dashboard"||t.pathname==="/";return x.jsxs("div",{className:_e.dashboardContainer,children:[x.jsx(y7,{}),x.jsx("main",{className:_e.mainContent,children:n?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:_e.welcomeContainer,children:[x.jsxs("h1",{className:_e.welcomeTitle,children:["Welcome",x.jsx("br",{}),x.jsx("span",{children:e==null?void 0:e.name})]}),x.jsx("p",{className:_e.welcomeText,children:"Select an option from the sidebar to get started"})]}),(e==null?void 0:e.position)!=="Student"&&(e==null?void 0:e.position)!=="Teacher"&&x.jsx(Vse,{})]}):x.jsx(D4,{})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="firebasestorage.googleapis.com",hU="storageBucket",Bse=2*60*1e3,qse=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends ro{constructor(e,n,r=0){super(v1(e),`Firebase Storage: ${n} (${v1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return v1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zt||(zt={}));function v1(t){return"storage/"+t}function xT(){const t="An unknown error occurred, please check the error payload for server response.";return new Wt(zt.UNKNOWN,t)}function zse(t){return new Wt(zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Wse(t){return new Wt(zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(zt.UNAUTHENTICATED,t)}function Gse(){return new Wt(zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Kse(t){return new Wt(zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Yse(){return new Wt(zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xse(){return new Wt(zt.CANCELED,"User canceled the upload/download.")}function Qse(t){return new Wt(zt.INVALID_URL,"Invalid URL '"+t+"'.")}function Jse(t){return new Wt(zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Zse(){return new Wt(zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hU+"' property when initializing the app?")}function eue(){return new Wt(zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tue(){return new Wt(zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nue(t){return new Wt(zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dx(t){return new Wt(zt.INVALID_ARGUMENT,t)}function pU(){return new Wt(zt.APP_DELETED,"The Firebase app was deleted.")}function rue(t){return new Wt(zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vf(t,e){return new Wt(zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yf(t){throw new Wt(zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(r.path==="")return r;throw Jse(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${h}/b/${i}/o${y}`,"i"),_={bucket:1,path:3},E=n===dU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",P=new RegExp(`^https?://${E}/${i}/${v}`,"i"),N=[{regex:l,indices:c,postModify:o},{regex:w,indices:_,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<N.length;j++){const I=N[j],D=I.regex.exec(e);if(D){const C=D[I.indices.bucket];let R=D[I.indices.path];R||(R=""),r=new Jn(C,R),I.postModify(r);break}}if(r==null)throw Qse(e);return r}}class iue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function c(){return l===2}let f=!1;function h(...v){f||(f=!0,e.apply(null,v))}function p(v){i=setTimeout(()=>{i=null,t(w,c())},v)}function y(){o&&clearTimeout(o)}function w(v,...P){if(f){y();return}if(v){y(),h.call(null,v,...P);return}if(c()||a){y(),h.call(null,v,...P);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,p(N)}let _=!1;function E(v){_||(_=!0,y(),!f&&(i!==null?(v||(l=2),clearTimeout(i),p(0)):v||(l=1)))}return p(0),o=setTimeout(()=>{a=!0,E(!0)},n),E}function aue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(t){return t!==void 0}function uue(t){return typeof t=="object"&&!Array.isArray(t)}function ST(t){return typeof t=="string"||t instanceof String}function uD(t){return TT()&&t instanceof Blob}function TT(){return typeof Blob<"u"}function hx(t,e,n,r){if(r<e)throw dx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function mU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e,n,r,i,o,a,l,c,f,h,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,_)=>{this.resolve_=w,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===Ks.NO_ERROR,c=o.getStatus();if(!l||lue(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Ks.ABORT;r(!1,new zp(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new zp(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());sue(c)?o(c):o()}catch(c){a(c)}else if(l!==null){const c=xT();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?pU():Xse();a(c)}else{const c=Yse();a(c)}};this.canceled_?n(!1,new zp(!1,null,!0)):this.backoffId_=oue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function due(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mue(t,e,n,r,i,o,a=!0){const l=mU(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return hue(f,e),fue(f,n),due(f,o),pue(f,r),new cue(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yue(...t){const e=gue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TT())return new Blob(t);throw new Wt(zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(t){if(typeof atob>"u")throw nue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _1{constructor(e,n){this.data=e,this.contentType=n||null}}function gU(t,e){switch(t){case Si.RAW:return new _1(yU(e));case Si.BASE64:case Si.BASE64URL:return new _1(vU(t,e));case Si.DATA_URL:return new _1(bue(e),Eue(e))}throw xT()}function yU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wue(t){let e;try{e=decodeURIComponent(t)}catch{throw Vf(Si.DATA_URL,"Malformed data URL.")}return yU(e)}function vU(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Vf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Vf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_ue(e)}catch(i){throw i.message.includes("polyfill")?i:Vf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _U{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vf(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=xue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bue(t){const e=new _U(t);return e.base64?vU(Si.BASE64,e.rest):wue(e.rest)}function Eue(t){return new _U(t).contentType}function xue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){let r=0,i="";uD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uD(this.data_)){const r=this.data_,i=vue(r,e,n);return i===null?null:new Ia(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ia(r,!0)}}static getBlob(...e){if(TT()){const n=e.map(r=>r instanceof Ia?r.data_:r);return new Ia(yue.apply(null,n))}else{const n=e.map(a=>ST(a)?gU(Si.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new Ia(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){let e;try{e=JSON.parse(t)}catch{return null}return uue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function wU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(t,e){return e}class Xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Aue}}let Wp=null;function Pue(t){return!ST(t)||t.length<2?t:wU(t)}function bU(){if(Wp)return Wp;const t=[];t.push(new Xn("bucket")),t.push(new Xn("generation")),t.push(new Xn("metageneration")),t.push(new Xn("name","fullPath",!0));function e(o,a){return Pue(a)}const n=new Xn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Xn("size");return i.xform=r,t.push(i),t.push(new Xn("timeCreated")),t.push(new Xn("updated")),t.push(new Xn("md5Hash",null,!0)),t.push(new Xn("cacheControl",null,!0)),t.push(new Xn("contentDisposition",null,!0)),t.push(new Xn("contentEncoding",null,!0)),t.push(new Xn("contentLanguage",null,!0)),t.push(new Xn("contentType",null,!0)),t.push(new Xn("metadata","customMetadata",!0)),Wp=t,Wp}function Iue(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Jn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Cue(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return Iue(r,t),r}function EU(t,e,n){const r=AT(e);return r===null?null:Cue(t,r,n)}function Oue(t,e,n,r){const i=AT(e);if(i===null||!ST(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,y="/b/"+a(h)+"/o/"+a(p),w=ah(y,n,r),_=mU({alt:"media",token:f});return w+_})[0]}function Rue(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="prefixes",cD="items";function kue(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[lD])for(const i of n[lD]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new Jn(e,o));r.prefixes.push(a)}if(n[cD])for(const i of n[cD]){const o=t._makeStorageReference(new Jn(e,i.name));r.items.push(o)}return r}function Nue(t,e,n){const r=AT(n);return r===null?null:kue(t,e,r)}class Ay{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){if(!t)throw xT()}function Mue(t,e){function n(r,i){const o=EU(t,i,e);return PT(o!==null),o}return n}function Due(t,e){function n(r,i){const o=Nue(t,e,i);return PT(o!==null),o}return n}function jue(t,e){function n(r,i){const o=EU(t,i,e);return PT(o!==null),Oue(o,i,t.host,t._protocol)}return n}function IT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Gse():i=Hse():n.getStatus()===402?i=Wse(t.bucket):n.getStatus()===403?i=Kse(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function xU(t){const e=IT(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=zse(t.path)),o.serverResponse=i.serverResponse,o}return n}function Lue(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),l=ah(a,t.host,t._protocol),c="GET",f=t.maxOperationRetryTime,h=new Ay(l,c,Due(t,e.bucket),f);return h.urlParams=o,h.errorHandler=IT(e),h}function $ue(t,e,n){const r=e.fullServerUrl(),i=ah(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new Ay(i,o,jue(t,n),a);return l.errorHandler=xU(e),l}function Fue(t,e){const n=e.fullServerUrl(),r=ah(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(c,f){}const l=new Ay(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=xU(e),l}function Vue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Uue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Vue(null,e)),r}function Bue(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let j=0;j<2;j++)N=N+Math.random().toString().slice(2);return N}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const f=Uue(e,r,i),h=Rue(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",w=Ia.getBlob(p,r,y);if(w===null)throw eue();const _={name:f.fullPath},E=ah(o,t.host,t._protocol),v="POST",P=t.maxUploadRetryTime,A=new Ay(E,v,Mue(t,n),P);return A.urlParams=_,A.headers=a,A.body=w.uploadData(),A.errorHandler=IT(e),A}class que{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw yf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zue extends que{initXhr(){this.xhr_.responseType="text"}}function Py(){return new zue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ru(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wU(this._location.path)}get storage(){return this._service}get parent(){const e=Sue(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new ru(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rue(e)}}function SU(t,e,n){t._throwIfRoot("uploadBytes");const r=Bue(t.storage,t._location,bU(),new Ia(e,!0),n);return t.storage.makeRequestWithTokens(r,Py).then(i=>({metadata:i,ref:t}))}function Wue(t,e,n=Si.RAW,r){t._throwIfRoot("uploadString");const i=gU(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),SU(t,i.data,o)}function Hue(t){const e={prefixes:[],items:[]};return TU(t,e).then(()=>e)}async function TU(t,e,n){const i=await Gue(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await TU(t,e,i.nextPageToken)}function Gue(t,e){e!=null&&typeof e.maxResults=="number"&&hx("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Lue(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Py)}function Kue(t){t._throwIfRoot("getDownloadURL");const e=$ue(t.storage,t._location,bU());return t.storage.makeRequestWithTokens(e,Py).then(n=>{if(n===null)throw tue();return n})}function Yue(t){t._throwIfRoot("deleteObject");const e=Fue(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Py)}function Xue(t,e){const n=Tue(t._location.path,e),r=new Jn(t._location.bucket,n);return new ru(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(t){return/^[A-Za-z]+:\/\//.test(t)}function Jue(t,e){return new ru(t,e)}function AU(t,e){if(t instanceof CT){const n=t;if(n._bucket==null)throw Zse();const r=new ru(n,n._bucket);return e!=null?AU(r,e):r}else return e!==void 0?Xue(t,e):t}function Zue(t,e){if(e&&Que(e)){if(t instanceof CT)return Jue(t,e);throw dx("To use ref(service, url), the first argument must be a Storage instance.")}else return AU(t,e)}function fD(t,e){const n=e==null?void 0:e[hU];return n==null?null:Jn.makeFromBucketSpec(n,t)}function ele(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:XD(i,t.app.options.projectId))}class CT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=dU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bse,this._maxUploadRetryTime=qse,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=fD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=fD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ru(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new iue(pU());{const a=mue(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const dD="@firebase/storage",hD="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="storage";function Ca(t,e,n){return t=St(t),SU(t,e,n)}function tle(t,e,n,r){return t=St(t),Wue(t,e,n,r)}function _l(t){return t=St(t),Hue(t)}function Ki(t){return t=St(t),Kue(t)}function vf(t){return t=St(t),Yue(t)}function yn(t,e){return t=St(t),Zue(t,e)}function rs(t=Tx(),e){t=St(t);const r=xg(t,PU).getImmediate({identifier:e}),i=GD("storage");return i&&nle(r,...i),r}function nle(t,e,n,r={}){ele(t,e,n,r)}function rle(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new CT(n,r,i,e,ou)}function ile(){Ys(new Va(PU,rle,"PUBLIC").setMultipleInstances(!0)),Yi(dD,hD,""),Yi(dD,hD,"esm2017")}ile();const ole="_container_1hobi_5",ale="_card_1hobi_17",sle="_cardHeader_1hobi_33",ule="_imageUpload_1hobi_49",lle="_imageInput_1hobi_91",cle="_hasImage_1hobi_111",fle="_label_1hobi_121",dle="_imageSelectedPulse_1hobi_1",hle="_imageUploadIcon_1hobi_171",ple="_cardTitle_1hobi_179",mle="_form_1hobi_193",gle="_formGrid_1hobi_203",yle="_formGroup_1hobi_227",vle="_input_1hobi_251",_le="_select_1hobi_253",wle="_button_1hobi_299",ble="_tableContainer_1hobi_349",Ele="_table_1hobi_349",xle="_status_1hobi_407",Sle="_statusPending_1hobi_423",Tle="_statusOngoing_1hobi_433",Ale="_statusCompleted_1hobi_443",Ple="_error_1hobi_455",Ile="_inputError_1hobi_467",Cle="_slideUp_1hobi_1",Ole="_status_command_1hobi_515",Rle="_status_detail_1hobi_525",ze={container:ole,card:ale,cardHeader:sle,imageUpload:ule,imageInput:lle,hasImage:cle,label:fle,imageSelectedPulse:dle,imageUploadIcon:hle,cardTitle:ple,form:mle,formGrid:gle,formGroup:yle,input:vle,select:_le,button:wle,tableContainer:ble,table:Ele,status:xle,statusPending:Sle,statusOngoing:Tle,statusCompleted:Ale,error:Ple,inputError:Ile,slideUp:Cle,status_command:Ole,status_detail:Rle},kle="_buttons_85dii_1",Nle="_add_85dii_77",Mle="_archive_85dii_77",Dle="_logout_85dii_77",jle="_progress_85dii_77",Lle="_filemanager_85dii_77",$le="_new_event_85dii_77",Nn={buttons:kle,add:Nle,archive:Mle,logout:Dle,progress:jle,filemanager:Lle,new_event:$le},Fle=()=>{const t=Oi(),{userData:e}=t.state||{},n=ki(),r=rs(),[i,o]=B.useState(""),[a,l]=B.useState("unlimited"),[c,f]=B.useState(""),[h,p]=B.useState(""),[y,w]=B.useState(""),[_,E]=B.useState("event"),[v,P]=B.useState("pending"),[A,N]=B.useState(""),[j,I]=B.useState(""),[D,C]=B.useState(""),[R,M]=B.useState(""),[F,L]=B.useState(!1),[V,O]=B.useState(null),[W,Y]=B.useState(""),X=te=>{te.target.files[0]&&O(te.target.files[0])},re=async()=>{var le;if(!V)return null;const te=((le=e==null?void 0:e.email)==null?void 0:le.replace(/[@.]/g,"_"))||"anonymous",z=new Date().getTime(),K=yn(r,`users/${te}/event_images/${z}_${V.name}`);try{const be=await Ca(K,V),Ce=await Ki(be.ref);return Y(Ce),Ce}catch(be){throw console.error("Error uploading image: ",be),be}},Q=async te=>{te.preventDefault(),L(!0);try{const z=await re(),K={eventName:i,entryLimit:a,maxEntries:a==="limited"?parseInt(c):null,locations:h,description:y,purpose:_,status:v,startDate:A,startTime:j,endDate:D,endTime:R,imageUrl:z,creatorNfcId:(e==null?void 0:e.currentnfcId)||null,createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.email)||null,name:(e==null?void 0:e.name)||null},le=await Gg(_t(n,"PendingEvent"),K);oe()}catch(z){console.error("Error creating event: ",z),alert("Error creating event. Please try again.")}},oe=()=>{o(""),l("unlimited"),f(""),p(""),E("event"),w(""),P("pending"),N(""),I(""),M(""),C(""),O(null),Y(""),L(!1)};return x.jsx("div",{className:ze.container,children:x.jsxs("div",{className:ze.card,children:[x.jsxs("div",{className:ze.cardHeader,children:[x.jsx("h2",{className:ze.cardTitle,children:"Create New Event"}),x.jsxs("div",{className:`${ze.imageUpload} ${V?ze.hasImage:""}`,children:[x.jsx(sq,{size:20,className:ze.imageUploadIcon}),x.jsx("label",{className:ze.label,children:V?"Image Selected":"Event Image (Optional)"}),x.jsx("input",{type:"file",accept:"image/*",onChange:X,className:ze.imageInput})]})]}),x.jsxs("form",{className:ze.form,onSubmit:Q,children:[x.jsxs("div",{className:ze.formGrid,children:[x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Event Name"}),x.jsx("input",{type:"text",className:ze.input,value:i,onChange:te=>o(te.target.value),placeholder:"Enter event name"})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Entry Limit"}),x.jsxs("select",{className:ze.select,value:a,name:"Entry Limit",onChange:te=>l(te.target.value),children:[x.jsx("option",{value:"unlimited",children:"Anyone can join"}),x.jsx("option",{value:"limited",children:"Limited Person"})]})]}),a==="limited"&&x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Maximum Entries"}),x.jsx("input",{type:"number",className:ze.input,value:c,onChange:te=>f(te.target.value),placeholder:"Enter maximum entries"})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Location"}),x.jsx("input",{type:"text",className:ze.input,value:h,onChange:te=>p(te.target.value),placeholder:"Enter location"})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Purpose"}),x.jsxs("select",{className:ze.select,value:_,name:"Purpose",onChange:te=>E(te.target.value),children:[x.jsx("option",{value:"event",name:"Purpose",children:"Event Attendance"}),x.jsx("option",{value:"membership",name:"Purpose",children:"Membership Attendance"})]})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Description"}),x.jsx("input",{type:"text",className:ze.input,value:y,onChange:te=>w(te.target.value),placeholder:"Enter Description"})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Status"}),x.jsxs("select",{className:ze.select,value:v,name:"Status",onChange:te=>P(te.target.value),children:[x.jsx("option",{value:"pending",name:"Status",children:"Pending"}),x.jsx("option",{value:"ongoing",name:"Status",children:"Ongoing"})]})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Start Date"}),x.jsx("input",{type:"date",className:ze.input,value:A,name:"Start Date",onChange:te=>N(te.target.value)})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"Start Time"}),x.jsx("input",{type:"time",className:ze.input,value:j,name:"Start Time",onChange:te=>I(te.target.value)})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"End Date"}),x.jsx("input",{type:"date",className:ze.input,value:D,name:"End Date",onChange:te=>C(te.target.value)})]}),x.jsxs("div",{className:ze.formGroup,children:[x.jsx("label",{className:ze.label,children:"End Time"}),x.jsx("input",{type:"time",className:ze.input,value:R,name:"End Time",onChange:te=>M(te.target.value)})]})]}),x.jsx("button",{type:"submit",className:Nn.buttons,disabled:F,name:"Create Event Submit",children:F?"Please wait..":"Create Event"})]})]})})},Vle="_container_rixh2_3",Ule="_form_rixh2_17",Ble="_nfcButton_rixh2_47",qle="_scanButton_rixh2_47",zle="_scannerContainer_rixh2_65",Wle="_scanner_rixh2_65",Hle="_modalOverlay_rixh2_95",Gle="_modalContent_rixh2_123",Kle="_status_rixh2_147",Yle="_statusWarning_rixh2_165",Xle="_statusInfo_rixh2_179",Qle="_statusSuccess_rixh2_193",Jle="_statusError_rixh2_207",Zle="_pulse_rixh2_1",ece="_reader_rixh2_293",zr={container:Vle,form:Ule,nfcButton:Ble,scanButton:qle,scannerContainer:zle,scanner:Wle,modalOverlay:Hle,modalContent:Gle,status:Kle,statusWarning:Yle,statusInfo:Xle,statusSuccess:Qle,statusError:Jle,"animate-pulse":"_animate-pulse_rixh2_245",pulse:Zle,reader:ece},tce={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},OT=au(tce),pD=ki(OT),nce=rs(OT),rce=Ri(OT),ice=({message:t,type:e,isProcessing:n})=>{if(!t)return null;const r=()=>{switch(e){case"warning":return zr.statusWarning;case"error":return zr.statusError;case"success":return zr.statusSuccess;default:return zr.statusInfo}};return x.jsx("div",{className:zr.modalOverlay,children:x.jsx("div",{className:zr.modalContent,children:x.jsx("div",{className:`${zr.status} ${r()} ${n?zr["animate-pulse"]:""}`,children:t})})})},oce=()=>{const[t,e]=B.useState({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),[n,r]=B.useState(null),[i,o]=B.useState("capture"),[a,l]=B.useState(!1),[c,f]=B.useState(""),[h,p]=B.useState(null),[y,w]=B.useState("info"),[_,E]=B.useState(null),v=B.useRef(null),P=B.useRef(null),A=(O,W="info")=>{f(O),w(W)};B.useEffect(()=>()=>{h&&h.abort()},[h]);const N=O=>{const W=O.target.files[0];r(W)},j=O=>{o(O),r(null),v.current&&(v.current.value=""),P.current&&(P.current.value="")},I=async()=>{try{const O=await Sj(rce,t.email,t.upass);return await Tj(O.user),O.user}catch(O){switch(O.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw O}}},D=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const O=new NDEFReader;p(O),await O.scan();const W=await new Promise((Y,X)=>{const re=async Q=>{try{const oe=Q.serialNumber;if(!await F(oe)){X(new Error("Unauthorized NFC tag"));return}O.removeEventListener("reading",re),Y(oe)}catch(oe){X(oe)}};O.addEventListener("reading",re),setTimeout(()=>{O.removeEventListener("reading",re),X(new Error("NFC tag read timeout"))},3e4)});return E(W),A("NFC tag detected successfully","success"),W}catch(O){throw A(O.message,"error"),O}finally{h&&(h.abort(),p(null))}},C=async()=>{const O=Ri(),W=Ka();try{await Wf(O),console.log("User signed out successfully"),setTimeout(()=>{W("/login")},2e3)}catch(Y){console.error("Error signing out:",Y)}},R=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const O=t.email.replace(/[@.]/g,"_"),W=yn(nce,`users/${O}/profile/${n.name}`),Y=await Ca(W,n),X=await Ki(Y.ref);return A("Selfie uploaded successfully!","success"),X}catch(O){throw A("Failed to upload selfie: "+O.message,"error"),O}},M=async()=>{try{l(!0);const O=await R();A("Saving your registration details...","info");const Y={...t,nfcSerialNumber:_,selfieUrl:O,position:"Student",createdAt:xS()},X=await Gg(_t(pD,"RegisteredStudent"),Y);await Zs(X,{currentnfcId:X.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(X.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const Q=await I();return await Zs(X,{firebaseUserId:Q.uid}),A("Registration completed! Please check your email for verification.","success"),await C(),setTimeout(()=>{A(""),L()},5e3),X.id}catch(O){console.error("Registration Error:",O);let W="Registration failed: ";throw O.code==="auth/email-already-in-use"?W="This email is already registered. Please use a different email.":O.code==="not-found"?W="NFC tag not found. Please try again.":O.code==="network-error"?W="Network connection issue. Please check your internet connection.":W+=O.message,A(W,"error"),O}finally{l(!1)}},F=async O=>{try{const W=Da(pD,"Toregistered",O);return(await wS(W)).exists()}catch(W){return console.error("NFC Authorization Check Error:",W),!1}},L=()=>{e({name:"",email:"",course:"",campus:"",studentId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async O=>{if(O.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await D(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await M()}catch(W){console.error("Registration Error:",W),A("Registration process failed: "+W.message,"error")}};return x.jsxs("div",{className:zr.container,children:[x.jsx("h1",{children:"Student Registration"}),(!("NDEFReader"in window)||c)&&x.jsx(ice,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),x.jsxs("form",{onSubmit:V,className:zr.form,children:[x.jsx("input",{type:"text",placeholder:"Student Name",value:t.name,onChange:O=>e({...t,name:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:O=>e({...t,email:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Course",value:t.course,onChange:O=>e({...t,course:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Student ID",value:t.studentId,onChange:O=>e({...t,studentId:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:O=>e({...t,upass:O.target.value}),required:!0,disabled:a}),x.jsxs("select",{value:t.campus,onChange:O=>e({...t,campus:O.target.value}),required:!0,disabled:a,children:[x.jsx("option",{value:"",children:"Select Campus"}),x.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),x.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),x.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),x.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),x.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),x.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),x.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),x.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),x.jsxs("div",{className:zr.uploadOptionContainer,children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>j("capture"),disabled:a}),"Capture Selfie"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>j("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:v,onChange:N,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>v.current.click(),className:Nn.buttons,disabled:a,children:"Take Profile Picture"})]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:P,onChange:N,accept:"image/*",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>P.current.click(),className:Nn.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&x.jsxs("p",{children:["Selected Image: ",n.name,x.jsx("button",{type:"button",onClick:()=>r(null),className:zr.clearImageButton,disabled:a,children:"Clear"})]}),x.jsx("button",{type:"submit",className:`${Nn.buttons} ${a?"animate-pulse":""}`,disabled:!t.studentId||!n||a||!("NDEFReader"in window),children:_?"Complete Registration":"Scan NFC Tag"})]})]})},ace="_container_avr77_1",sce="_status_avr77_33",uce="_reading_avr77_51",lce="_pulse_avr77_1",cce="_error_avr77_59",fce="_studentInfo_avr77_77",dce="_infoGrid_avr77_107",hce="_infoRow_avr77_117",pce="_selfie_avr77_149",mce="_controls_avr77_171",gce="_button_avr77_185",yce="_readButton_avr77_213",vce="_resetButton_avr77_231",Sr={container:ace,status:sce,reading:uce,pulse:lce,error:cce,studentInfo:fce,infoGrid:dce,infoRow:hce,selfie:pce,controls:mce,button:gce,readButton:yce,resetButton:vce},_ce={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},wce=au(_ce),bce=ki(wce),Ece=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(""),[i,o]=B.useState(!1),[a,l]=B.useState(null),c=async()=>{try{o(!0),r("Waiting for NFC card..."),l(null);const h=new NDEFReader;await h.scan(),h.addEventListener("reading",async({message:p})=>{try{const y=p.records.find(v=>v.recordType==="text");if(!y)throw new Error("Invalid NFC card: No student data found");const w=new TextDecoder().decode(y.data);r("Retrieving student data...");const _=Da(bce,"RegisteredStudent",w),E=await wS(_);if(E.exists()){const v=E.data();e(v),r("Student data retrieved successfully")}else throw new Error("No student record found for this card")}catch(y){l(y.message),e(null)}finally{o(!1),h.stop()}})}catch(h){l(h.message),o(!1)}},f=()=>{e(null),r(""),l(null),o(!1)};return x.jsxs("div",{className:Sr.container,children:[x.jsx("h1",{children:"Student NFC Reader"}),n&&x.jsx("div",{className:`${Sr.status} ${i?Sr.reading:""}`,children:n}),a&&x.jsx("div",{className:Sr.error,children:a}),t&&x.jsxs("div",{className:Sr.studentInfo,children:[x.jsx("h2",{children:"Student Information"}),x.jsxs("div",{className:Sr.infoGrid,children:[x.jsxs("div",{className:Sr.infoRow,children:[x.jsx("span",{children:"Name:"}),x.jsx("span",{children:t.studentName})]}),x.jsxs("div",{className:Sr.infoRow,children:[x.jsx("span",{children:"Student ID:"}),x.jsx("span",{children:t.studentId})]}),x.jsxs("div",{className:Sr.infoRow,children:[x.jsx("span",{children:"Email:"}),x.jsx("span",{children:t.email})]}),x.jsxs("div",{className:Sr.infoRow,children:[x.jsx("span",{children:"Course:"}),x.jsx("span",{children:t.course})]}),x.jsxs("div",{className:Sr.infoRow,children:[x.jsx("span",{children:"Campus:"}),x.jsx("span",{children:t.campus})]}),t.selfieUrl&&x.jsx("div",{className:Sr.selfie,children:x.jsx("img",{src:t.selfieUrl,alt:"Student"})})]})]}),x.jsxs("div",{className:Sr.controls,children:[x.jsx("button",{onClick:c,disabled:i||!("NDEFReader"in window),className:`${Nn.buttons} ${Nn.buttons}`,children:i?"Reading...":"Scan NFC Card"}),t&&x.jsx("button",{onClick:f,className:`${Nn.buttons} ${Nn.buttons}`,children:"Clear & Scan New Card"})]})]})},xce="_login_container_escou_13",Sce="_login_card_escou_39",Tce="_login_title_escou_57",Ace="_login_form_escou_75",Pce="_form_group_escou_87",Ice="_login_input_escou_97",Cce="_login_button_escou_129",Oce="_error_message_escou_175",Rce="_divider_escou_193",kce="_google_button_escou_241",Nce="_google_icon_escou_293",Mce="_terminal_overlay_escou_305",Dce="_status_escou_331",jce="_slideUp_escou_1",Lce="_status_command_escou_363",$ce="_status_detail_escou_373",Fce="_error_escou_175",Vce="_pulse_escou_1",An={login_container:xce,login_card:Sce,login_title:Tce,login_form:Ace,form_group:Pce,login_input:Ice,login_button:Cce,error_message:Oce,divider:Rce,google_button:kce,google_icon:Nce,terminal_overlay:Mce,status:Dce,slideUp:jce,status_command:Lce,status_detail:$ce,error:Fce,pulse:Vce},Uce={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},Bce=au(Uce),qce=new xo,Ns=Ri(),nl=ki(Bce),zce=()=>{const t=Ka(),[e,n]=B.useState(""),[r,i]=B.useState(""),[o,a]=B.useState(""),[l,c]=B.useState(!1),[f,h]=B.useState(!1),[p,y]=B.useState(null),[w,_]=B.useState(!1),[E,v]=B.useState(!1),[P,A]=B.useState(""),[N,j]=B.useState([]),I=(F,L)=>(A(F),j(L),new Promise(V=>setTimeout(V,800))),D=async F=>{try{await I("check-role --user "+F,["Checking user permissions..."]),await I("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=Cn(_t(nl,"RegisteredAdmin"),On("email","==",F));if(!(await $t(L)).empty)return await I("grant-role --type admin",["✓ Admin privileges confirmed"]),"admin";await I("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const O=Cn(_t(nl,"RegisteredTeacher"),On("email","==",F));if(!(await $t(O)).empty)return await I("grant-role --type teacher",["✓ Teacher privileges confirmed"]),"teacher";await I("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const Y=Cn(_t(nl,"RegisteredStudent"),On("email","==",F));return(await $t(Y)).empty?(await I("verify-role --result none",["✗ No role assignments found"]),setTimeout(()=>{A(""),j([])},1e3),null):(await I("grant-role --type student",["✓ Student privileges confirmed"]),"student")}catch(L){return await I("verify-role --error",["✗ Error checking roles",L.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Error checking user role:",L),null}},C=async F=>{F.preventDefault(),c(!0),v(!0),a("");try{await I("authenticate --verify-credentials",["Checking credentials..."]);const L=await Tp(Ns,e,r),V=await D(L.user.email);V?(await I("grant-access --role "+V,[`✓ Access granted as ${V}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",V),_(!0),setTimeout(()=>t("/dashboard"),1e3)):(await I("verify-access --check-registration",["✗ Your account is not registered in the system"]),setTimeout(()=>{A(""),j([])},1e3),await Wf(Ns),a("Access denied. Please contact your administrator."))}catch{await I("authenticate --verify-credentials",["✗ Authentication failed"]),setTimeout(()=>{A(""),j([])},1e3),a("Access Denied, Please check you email and password")}finally{c(!1)}},R=async()=>{c(!0),v(!0),a("");try{const F=await y6(Ns,qce),L=await D(F.user.email);L?(await I("grant-access --role "+L,[`✓ Access granted as ${L}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",L),_(!0),setTimeout(()=>t("/dashboard"),1e3)):(await I("verify-access --check-registration",["✗ Your account is not registered in the system"]),await Wf(Ns),a("Access denied. Please contact your administrator."))}catch(F){await I("authenticate --verify-credentials",["✗ Authentication failed",authError.message]),setTimeout(()=>{A(""),j([])},1e3),a(F.message)}finally{}};B.useEffect(()=>{let F=null;return(async()=>{if(!w)if("NDEFReader"in window)try{const V=new window.NDEFReader;await V.scan(),h(!0),y(V),F=V,v(!0),await I("initialize-nfc --scan-mode",["✓ NFC reader initialized","Waiting for NFC card..."]),setTimeout(()=>{A(""),j([])},1e3),V.onreading=async({message:O})=>{try{const W=O.records.find(X=>X.recordType==="text");if(!W)throw await I("verify-nfc --check-data",["✗ Invalid NFC card: No user data found"]),new Error("Invalid NFC card: No user data found");const Y=new TextDecoder().decode(W.data);await I("read-nfc --get-data",[`✓ NFC data retrieved: ${Y}`]);try{await I("authenticate --verify-credentials",["Checking user credentials..."]);const X=await M(Y);X?(await I("grant-access --role "+X,[`✓ Access granted as ${X}`,"Redirecting to dashboard..."]),localStorage.setItem("userRole",X),_(!0),setTimeout(()=>t("/dashboard"),1e3)):(await I("verify-access --check-registration",["✗ NFC card is not registered in the system"]),setTimeout(()=>{A(""),j([])},1e3),a("NFC card is not registered in the system."))}catch(X){await I("authenticate --verify-credentials",["✗ Authentication failed",X.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Authentication error:",X),a("Failed to authenticate with NFC card.")}}catch(W){console.error("Error processing NFC card:",W),a("Failed to process NFC card.")}},V.onerror=async O=>{await I("nfc-error --get-details",["✗ Error reading NFC card",O.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("NFC read error:",O),a("Error reading NFC card.")}}catch(V){await I("initialize-nfc --check-support",["✗ NFC initialization failed",V.message]),setTimeout(()=>{A(""),j([])},1e3),console.error("Error setting up NFC:",V),h(!1)}else await I("initialize-nfc --check-support",["✗ NFC initialization failed"]),setTimeout(()=>{A(""),j([])},2e3)})(),async()=>{var V;if(F)try{F.abort(),(V=F.removeAllListeners)==null||V.call(F),y(null),h(!1),await I("cleanup-nfc --remove-listeners",["✓ NFC reader cleaned up successfully"])}catch(O){console.error("Error cleaning up NFC reader:",O)}}},[w]);const M=async F=>{try{await I("verify-role --collection RegisteredAdmin",["Checking admin privileges..."]);const L=Cn(_t(nl,"RegisteredAdmin"),On("currentnfcId","==",F)),V=await $t(L);if(!V.empty){const re=V.docs[0].data();return await Tp(Ns,re.email,re.upass),await I("grant-role --type admin",["✓ Admin privileges confirmed"]),"admin"}await I("verify-role --collection RegisteredTeacher",["Checking teacher privileges..."]);const O=Cn(_t(nl,"RegisteredTeacher"),On("currentnfcId","==",F)),W=await $t(O);if(!W.empty){const re=W.docs[0].data();return await Tp(Ns,re.email,re.upass),await I("grant-role --type teacher",["✓ Teacher privileges confirmed"]),"teacher"}await I("verify-role --collection RegisteredStudent",["Checking student privileges..."]);const Y=Cn(_t(nl,"RegisteredStudent"),On("currentnfcId","==",F)),X=await $t(Y);if(!X.empty){const re=X.docs[0].data();return await Tp(Ns,re.email,re.upass),await I("grant-role --type student",["✓ Student privileges confirmed"]),"student"}return null}catch(L){throw console.error("Error checking user role by NFC:",L),L}};return x.jsxs("div",{className:An.login_container,children:[(P||l)&&x.jsxs("div",{className:`${An.status} ${E?An.reading:""}`,children:[x.jsx("div",{className:An.status_command,children:P}),N.map((F,L)=>x.jsx("div",{className:`${An.status_detail} ${F.includes("failed")?"error":""}`,children:F},L))]}),x.jsxs("div",{className:An.login_card,children:[x.jsx("h1",{className:An.login_title,children:"Login"}),x.jsxs("form",{onSubmit:C,className:An.login_form,children:[x.jsx("div",{className:An.form_group,children:x.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:F=>n(F.target.value),required:!0,className:An.login_input})}),x.jsx("div",{className:An.form_group,children:x.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:F=>i(F.target.value),required:!0,className:An.login_input})}),o&&x.jsx("div",{className:An.error_message,children:o}),x.jsx("button",{type:"submit",className:An.login_button,disabled:l,children:l?"Please wait..":"Login"})]}),x.jsx("div",{className:An.divider,children:x.jsx("span",{children:"Or continue with"})}),x.jsxs("button",{type:"button",onClick:R,disabled:l,className:An.google_button,children:[x.jsx("svg",{className:An.google_icon,viewBox:"0 0 24 24",children:x.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign in with Google"]})]})]})},Wce="_event_list_container_knjye_1",Hce="_events_grid_knjye_25",Gce="_event_card_knjye_37",Kce="_card_content_knjye_65",Yce="_card_image_container_knjye_79",Xce="_card_image_knjye_79",Qce="_card_image_placeholder_knjye_105",Jce="_card_basic_info_knjye_139",Zce="_modal_overlay_knjye_175",efe="_modal_content_knjye_201",tfe="_modal_image_container_knjye_223",nfe="_modal_image_knjye_223",rfe="_modal_image_placeholder_knjye_259",ife="_close_button_knjye_307",ofe="_event_info_knjye_317",afe="_table_container_knjye_341",sfe="_action_buttons_knjye_385",ufe="_edit_btn_knjye_395",lfe="_delete_btn_knjye_395",cfe="_modal_actions_knjye_453",ffe="_continue_btn_knjye_467",dfe="_complete_btn_knjye_467",Bt={event_list_container:Wce,events_grid:Hce,event_card:Gce,card_content:Kce,card_image_container:Yce,card_image:Xce,card_image_placeholder:Qce,card_basic_info:Jce,modal_overlay:Zce,modal_content:efe,modal_image_container:tfe,modal_image:nfe,modal_image_placeholder:rfe,close_button:ife,event_info:ofe,table_container:afe,action_buttons:sfe,edit_btn:ufe,delete_btn:lfe,modal_actions:cfe,continue_btn:ffe,complete_btn:dfe},hfe=()=>{var w;const[t,e]=B.useState([]),[n,r]=B.useState(null),i=Ka(),o=ki(),a=Ri();B.useEffect(()=>{l()},[]);const l=async()=>{try{const _=a.currentUser;if(!_)return;const E=_t(o,"PendingEvent"),v=Cn(E,On("createdBy","==",_.email)),A=(await $t(v)).docs.map(N=>({id:N.id,...N.data()}));e(A)}catch(_){console.error("Error fetching events:",_)}},c=_=>_?_.toDate?_.toDate().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):new Date(_).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"",f=_=>{i(`/dashboard/edit-event/${_}`)},h=async _=>{if(window.confirm("Are you sure you want to delete this event?"))try{await p7(Da(o,"PendingEvent",_)),l(),r(null)}catch(E){console.error("Error deleting event:",E)}},p=async _=>{try{await Zs(Da(o,"PendingEvent",_.id),{status:"in-progress"}),l(),r(null)}catch(E){console.error("Error updating event status:",E)}},y=async _=>{try{await Zs(Da(o,"PendingEvent",_.id),{status:"completed"}),l(),r(null)}catch(E){console.error("Error completing event:",E)}};return x.jsxs("div",{className:Bt.event_list_container,children:[x.jsx("h2",{children:"Event List"}),x.jsx("div",{className:Bt.events_grid,children:t.map(_=>x.jsx("div",{className:Bt.event_card,onClick:()=>r(_),children:x.jsxs("div",{className:Bt.card_content,children:[x.jsx("div",{className:Bt.card_image_container,children:_.imageUrl?x.jsx("img",{src:_.imageUrl,alt:_.eventName,className:Bt.card_image}):x.jsxs("div",{className:Bt.card_image_placeholder,children:[x.jsx(rI,{size:32}),x.jsx("span",{children:"No Image"})]})}),x.jsxs("div",{className:Bt.card_basic_info,children:[x.jsx("h3",{children:_.eventName}),x.jsxs("p",{children:["ID: ",_.id]}),x.jsxs("p",{children:["Created By: ",_.name]}),x.jsxs("p",{children:["Created: ",c(_.createdAt)]})]})]})},_.id))}),n&&x.jsx("div",{className:Bt.modal_overlay,onClick:()=>r(null),children:x.jsxs("div",{className:Bt.modal_content,onClick:_=>_.stopPropagation(),children:[x.jsx("button",{className:Bt.close_button,onClick:()=>r(null),children:x.jsx($d,{size:24})}),x.jsx("div",{className:Bt.modal_image_container,children:n.imageUrl?x.jsx("img",{src:n.imageUrl,alt:n.eventName,className:Bt.modal_image}):x.jsxs("div",{className:Bt.modal_image_placeholder,children:[x.jsx(rI,{size:48}),x.jsx("span",{children:"No Image Available"})]})}),x.jsx("h3",{children:n.eventName}),x.jsxs("div",{className:Bt.event_info,children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Location:"})," ",n.locations]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Description:"})," ",n.description]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Start Time:"})," ",n.startTime]}),x.jsxs("p",{children:[x.jsx("strong",{children:"End Time:"})," ",n.endTime]})]}),x.jsxs("div",{className:Bt.modal_actions,children:[x.jsx("button",{className:Bt.continue_btn,onClick:()=>p(n),children:"Continue"}),x.jsx("button",{className:Bt.complete_btn,onClick:()=>y(n),children:"Complete"}),x.jsx("button",{className:Bt.complete_btn,onClick:()=>h(n.id),children:"Delete event"})]}),x.jsx("br",{}),x.jsx("div",{className:Bt.table_container,children:x.jsxs("table",{children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"STUDENT ID"}),x.jsx("th",{children:"STUDENT NAME"}),x.jsx("th",{children:"COURSE"}),x.jsx("th",{children:"CAMPUS"}),x.jsx("th",{children:"DATE"}),x.jsx("th",{children:"ACTIONS"})]})}),x.jsx("tbody",{children:(w=n.attendees)==null?void 0:w.map((_,E)=>x.jsxs("tr",{children:[x.jsx("td",{children:_.studentId}),x.jsx("td",{children:_.name}),x.jsx("td",{children:_.course}),x.jsx("td",{children:_.campus}),x.jsx("td",{children:c(_.dateAttended)}),x.jsx("td",{children:x.jsx("div",{className:Bt.action_buttons,children:x.jsx("button",{className:Bt.edit_btn,onClick:()=>f(n.id),children:x.jsx(pq,{size:16})})})})]},E))})]})})]})})]})},pfe="_fileManager_c4lw2_5",mfe="_header_c4lw2_17",gfe="_actions_c4lw2_45",yfe="_navigation_c4lw2_55",vfe="_backButton_c4lw2_77",_fe="_currentPath_c4lw2_109",wfe="_content_c4lw2_121",bfe="_item_c4lw2_141",Efe="_itemContent_c4lw2_171",xfe="_actionButton_c4lw2_195",Sfe="_dropdownMenu_c4lw2_229",Tfe="_deleteButton_c4lw2_283",Afe="_modal_c4lw2_301",Pfe="_modalContent_c4lw2_327",Ife="_modalHeader_c4lw2_351",Cfe="_closeButton_c4lw2_379",Ofe="_modalNavigation_c4lw2_405",Rfe="_folderList_c4lw2_423",kfe="_folderItem_c4lw2_443",Nfe="_folderContent_c4lw2_473",Mfe="_modalActions_c4lw2_485",Dfe="_cancelButton_c4lw2_503",jfe="_authContainer_c4lw2_521",Lfe="_authMethods_c4lw2_539",$fe="_passwordAuth_c4lw2_553",Ffe="_passwordInput_c4lw2_563",Vfe="_nfcAuth_c4lw2_579",Ufe="_error_c4lw2_587",at={fileManager:pfe,header:mfe,actions:gfe,navigation:yfe,backButton:vfe,currentPath:_fe,content:wfe,item:bfe,itemContent:Efe,actionButton:xfe,dropdownMenu:Sfe,deleteButton:Tfe,modal:Afe,modalContent:Pfe,modalHeader:Ife,closeButton:Cfe,modalNavigation:Ofe,folderList:Rfe,folderItem:kfe,folderContent:Nfe,modalActions:Mfe,cancelButton:Dfe,authContainer:jfe,authMethods:Lfe,passwordAuth:$fe,passwordInput:Ffe,nfcAuth:Vfe,error:Ufe},IU=6048e5,Bfe=864e5,mD=Symbol.for("constructDateFrom");function Ga(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mD in t?t[mD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Mi(t,e){return Ga(e||t,t)}let qfe={};function Iy(){return qfe}function Dd(t,e){var l,c,f,h;const n=Iy(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Mi(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function _g(t,e){return Dd(t,{...e,weekStartsOn:1})}function CU(t,e){const n=Mi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ga(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=_g(i),a=Ga(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=_g(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function gD(t){const e=Mi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zfe(t,...e){const n=Ga.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function yD(t,e){const n=Mi(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Wfe(t,e,n){const[r,i]=zfe(n==null?void 0:n.in,t,e),o=yD(r),a=yD(i),l=+o-gD(o),c=+a-gD(a);return Math.round((l-c)/Bfe)}function Hfe(t,e){const n=CU(t,e),r=Ga(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),_g(r)}function Gfe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Kfe(t){return!(!Gfe(t)&&typeof t!="number"||isNaN(+Mi(t)))}function Yfe(t,e){const n=Mi(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Xfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qfe=(t,e,n)=>{let r;const i=Xfe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function w1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ede={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tde={date:w1({formats:Jfe,defaultWidth:"full"}),time:w1({formats:Zfe,defaultWidth:"full"}),dateTime:w1({formats:ede,defaultWidth:"full"})},nde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rde=(t,e,n,r)=>nde[t];function _f(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const ide={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ode={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ade={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ude={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cde=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fde={ordinalNumber:cde,era:_f({values:ide,defaultWidth:"wide"}),quarter:_f({values:ode,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_f({values:ade,defaultWidth:"wide"}),day:_f({values:sde,defaultWidth:"wide"}),dayPeriod:_f({values:ude,defaultWidth:"wide",formattingValues:lde,defaultFormattingWidth:"wide"})};function wf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?hde(l,p=>p.test(a)):dde(l,p=>p.test(a));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(a.length);return{value:f,rest:h}}}function dde(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hde(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function pde(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const mde=/^(\d+)(th|st|nd|rd)?/i,gde=/\d+/i,yde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vde={any:[/^b/i,/^(a|c)/i]},_de={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wde={any:[/1/i,/2/i,/3/i,/4/i]},bde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ede={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ade={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pde={ordinalNumber:pde({matchPattern:mde,parsePattern:gde,valueCallback:t=>parseInt(t,10)}),era:wf({matchPatterns:yde,defaultMatchWidth:"wide",parsePatterns:vde,defaultParseWidth:"any"}),quarter:wf({matchPatterns:_de,defaultMatchWidth:"wide",parsePatterns:wde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wf({matchPatterns:bde,defaultMatchWidth:"wide",parsePatterns:Ede,defaultParseWidth:"any"}),day:wf({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:Sde,defaultParseWidth:"any"}),dayPeriod:wf({matchPatterns:Tde,defaultMatchWidth:"any",parsePatterns:Ade,defaultParseWidth:"any"})},Ide={code:"en-US",formatDistance:Qfe,formatLong:tde,formatRelative:rde,localize:fde,match:Pde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cde(t,e){const n=Mi(t,e==null?void 0:e.in);return Wfe(n,Yfe(n))+1}function Ode(t,e){const n=Mi(t,e==null?void 0:e.in),r=+_g(n)-+Hfe(n);return Math.round(r/IU)+1}function OU(t,e){var h,p,y,w;const n=Mi(t,e==null?void 0:e.in),r=n.getFullYear(),i=Iy(),o=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(y=i.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,a=Ga((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Dd(a,e),c=Ga((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const f=Dd(c,e);return+n>=+l?r+1:+n>=+f?r:r-1}function Rde(t,e){var l,c,f,h;const n=Iy(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=OU(t,e),o=Ga((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Dd(o,e)}function kde(t,e){const n=Mi(t,e==null?void 0:e.in),r=+Dd(n,e)-+Rde(n,e);return Math.round(r/IU)+1}function mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ea={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):mt(n+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return mt(i,e.length)}},rl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ea.y(t,e)},Y:function(t,e,n,r){const i=OU(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return mt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):mt(o,e.length)},R:function(t,e){const n=CU(t);return mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ea.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=kde(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):mt(i,e.length)},I:function(t,e,n){const r=Ode(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ea.d(t,e)},D:function(t,e,n){const r=Cde(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return mt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return mt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return mt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=rl.noon:r===0?i=rl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=rl.evening:r>=12?i=rl.afternoon:r>=4?i=rl.morning:i=rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ea.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ea.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ea.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ea.s(t,e)},S:function(t,e){return Ea.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wD(r);case"XXXX":case"XX":return Ls(r);case"XXXXX":case"XXX":default:return Ls(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wD(r);case"xxxx":case"xx":return Ls(r);case"xxxxx":case"xxx":default:return Ls(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_D(r,":");case"OOOO":default:return"GMT"+Ls(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_D(r,":");case"zzzz":default:return"GMT"+Ls(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return mt(r,e.length)},T:function(t,e,n){return mt(+t,e.length)}};function _D(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+mt(o,2)}function wD(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Ls(t,e)}function Ls(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=mt(Math.trunc(r/60),2),o=mt(r%60,2);return n+i+e+o}const bD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nde=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return bD(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",bD(r,e)).replace("{{time}}",RU(i,e))},Mde={p:RU,P:Nde},Dde=/^D+$/,jde=/^Y+$/,Lde=["D","DD","YY","YYYY"];function $de(t){return Dde.test(t)}function Fde(t){return jde.test(t)}function Vde(t,e,n){const r=Ude(t,e,n);if(console.warn(r),Lde.includes(t))throw new RangeError(r)}function Ude(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zde=/^'([^]*?)'?$/,Wde=/''/g,Hde=/[a-zA-Z]/;function ED(t,e,n){var h,p,y,w;const r=Iy(),i=r.locale??Ide,o=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=r.weekStartsOn??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=Mi(t,n==null?void 0:n.in);if(!Kfe(l))throw new RangeError("Invalid time value");let c=e.match(qde).map(_=>{const E=_[0];if(E==="p"||E==="P"){const v=Mde[E];return v(_,i.formatLong)}return _}).join("").match(Bde).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:Gde(_)};if(vD[E])return{isToken:!0,value:_};if(E.match(Hde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const E=_.value;(Fde(E)||$de(E))&&Vde(E,e,String(t));const v=vD[E[0]];return v(l,E,i.localize,f)}).join("")}function Gde(t){const e=t.match(zde);return e?e[1].replace(Wde,"'"):t}const kU=({children:t,currentPath:e,userData:n})=>{const r=Ri(),i=rs(),[o,a]=B.useState([]),l=p=>p.replace(/[@.]/g,"_"),c=async()=>{if(!r.currentUser||o.length===0)return;const p=l(r.currentUser.email),y=ED(new Date,"yyyy-MM-dd"),w=`users/${p}/process_log/${y}_activity.txt`,_=yn(i,w);try{let E="";try{const A=await Ki(_);E=await(await fetch(A)).text()}catch{console.log("Creating new log file for today")}const v=o.join(`
`),P=E?`${E}
${v}`:v;await tle(_,P,"raw",{contentType:"text/plain"}),console.log("Logs saved successfully"),a([])}catch(E){console.error("Error saving logs:",E)}},f=p=>{if(!r.currentUser)return;const y=`[${ED(new Date,"yyyy-MM-dd HH:mm:ss")}] ${p}`;a(w=>[...w,y])},h=p=>{if(p.type==="file"){const _=p.files;return _&&_.length>0?Array.from(_).map(E=>`${E.name} (${(E.size/1024).toFixed(2)} KB)`).join(", "):"File upload input"}const y=p.querySelector("span");if(y)return y.textContent.trim();const w=p.querySelector("span");if(w)return w.textContent.trim();if(p.tagName.toLowerCase()==="a")return p.getAttribute("to")||p.getAttribute("href")||"Link";if(p.tagName.toLowerCase()==="input"){const _=p.getAttribute("placeholder");if(_)return`Input: ${_}`;const E=p.getAttribute("name");if(E)return`Input: ${E}`;const v=document.querySelector(`label[for="${p.id}"]`);if(v)return`Input: ${v.textContent.trim()}`}if(p.tagName.toLowerCase()==="select"){const _=p.getAttribute("name");if(_)return`Select: ${_}`}return p.className||p.tagName.toLowerCase()};return B.useEffect(()=>{const p=setInterval(c,6e4);return()=>{clearInterval(p),c()}},[o]),B.useEffect(()=>{const p=_=>{var P;const E=_.target,v=E.closest(".styles_navItem__");if(v){const A=h(v);let N="Sidebar Navigation";A.includes("Dashboard")?N="Dashboard Navigation":A.includes("Create Event")?N="Event Creation":A.includes("Event List")?N="Event Listing":A.includes("Registered Students")?N="Student Management":A.includes("Registered Teacher")?N="Teacher Management":A.includes("Teacher Registration")?N="Teacher Registration":A.includes("Student Registration")?N="Student Registration":A.includes("NFC Reader")?N="NFC Management":A.includes("File Manager")?N="File Management":A.includes("Logout")&&(N="Authentication");const j=`${N}: Clicked "${A}"`;f(j)}if(["button","div","li","a"].includes(E.tagName.toLowerCase())){(P=E.textContent)==null||P.trim().toLowerCase();const A=h(E),N=`Clicked on ${E.tagName.toLowerCase()}: ${A}`;f(N)}},y=_=>{const E=_.target;if(["input","textarea","select"].includes(E.tagName.toLowerCase())){const P=`Input value in ${h(E)} - Final Value: ${E.value}`;f(P)}},w=_=>{const E=_.target,v=E.getAttribute("name"),P=E.getAttribute("id"),A=`Form submitted${v?` - Form Name: "${v}"`:P?` - Form ID: "${P}"`:""}`;f(A),c()};return document.addEventListener("click",p),document.addEventListener("blur",y,!0),document.addEventListener("submit",w),()=>{document.removeEventListener("click",p),document.removeEventListener("blur",y,!0),document.removeEventListener("submit",w)}},[r.currentUser]),B.useEffect(()=>{const p=P=>{const A=P.target.files[0];if(!A)return;const N=`${e}/${A.name}`,j=`File Upload: "${A.name}" (${(A.size/1024).toFixed(2)} KB) to "${N}"`;f(j)},y=P=>{const A=`${e}/${P}`,N=`Created Folder: "${P}" at "${A}"`;f(N)},w=(P,A)=>{const N=`${e}/${P.name}`,j=`Moved ${P.type}: "${P.name}" from "${N}" to "${A}"`;f(j)},_=(P,A)=>{const N=`${e}/${P.name}`,j=`Copied ${P.type}: "${P.name}" from "${N}" to "${A}"`;f(j)},E=P=>{const A=`${e}/${P.name}`,N=`Deleted ${P.type}: "${P.name}" from "${A}"`;f(N)},v=(P,A)=>{`${e}${P.name}`;const N=`Renamed ${P.type}: from "${P.name}" to "${A}" at path "${e}"`;f(N)};return window.userActionLogger={onFileUpload:p,onCreateFolder:y,onMove:w,onCopy:_,onDelete:E,onRename:v},()=>{delete window.userActionLogger}},[e,n]),x.jsx(x.Fragment,{children:t})},Kde=({isOpen:t,onClose:e,onMove:n,onCopy:r,onDelete:i,onRename:o})=>{const a=B.useRef(null);return B.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&e()};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[e]),t?x.jsxs("div",{className:at.dropdownMenu,ref:a,children:[x.jsx("button",{onClick:n,children:"Move"}),x.jsx("button",{onClick:r,children:"Copy"}),x.jsx("button",{onClick:o,children:"Rename"}),x.jsx("button",{onClick:i,className:at.deleteButton,children:"Delete"})]}):null},Yde=({isOpen:t,onClose:e,currentPath:n,userData:r,selectedItem:i,operation:o,onSelect:a})=>{const[l,c]=B.useState([]),[f,h]=B.useState(""),p=rs(),[y,w]=B.useState(null);B.useEffect(()=>{if(t){const P=`users/${r.email.replace("@","_").replace(".","_")}`;h(P),_(P)}},[t,r]);const _=async P=>{try{const A=yn(p,P),j=(await _l(A)).prefixes.map(I=>({name:I.name,fullPath:`${P}/${I.name}`}));c(j)}catch(A){console.error("Error listing folders:",A)}},E=P=>{y&&w(y),h(P),_(P)},v=()=>{const P=`users/${r.email.replace("@","_").replace(".","_")}`,A=f.split("/").slice(0,-1).join("/");A.startsWith(P)&&(h(A),_(A))};return t?x.jsx("div",{className:at.modal,children:x.jsxs("div",{className:at.modalContent,children:[x.jsxs("div",{className:at.modalHeader,children:[x.jsx("h3",{children:"Select Destination Folder"}),x.jsx("button",{onClick:e,className:at.closeButton,children:x.jsx($d,{size:20})})]}),x.jsxs("div",{className:at.modalNavigation,children:[x.jsxs("button",{onClick:v,className:at.backButton,children:[x.jsx($D,{size:20}),"Back"]}),x.jsx("span",{className:at.currentPath,children:f})]}),x.jsx("div",{className:at.folderList,children:l.map(P=>x.jsx("div",{className:at.folderItem,children:x.jsxs("div",{className:at.folderContent,onClick:()=>E(P.fullPath),children:[x.jsx(VD,{size:24}),x.jsx("span",{children:P.name})]})},P.fullPath))}),x.jsxs("div",{className:at.modalActions,children:[x.jsx("button",{onClick:()=>{a(f)},className:Nn.buttons,children:"Select This Folder"}),x.jsx("button",{onClick:e,className:`${Nn.buttons} ${at.cancelButton}`,children:"Cancel"})]})]})}):null},Xde=()=>{var Ge;const[t,e]=B.useState(!1),[n,r]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[c,f]=B.useState([]),[h,p]=B.useState([]),[y,w]=B.useState(!1),_=Oi();Ka();const E=rs(),[v,P]=B.useState(null),[A,N]=B.useState({x:0,y:0}),j=(Ge=_.state)==null?void 0:Ge.userData,[I,D]=B.useState(!1),[C,R]=B.useState(null),[M,F]=B.useState(null);B.useEffect(()=>{"NDEFReader"in window&&w(!0)},[]),B.useEffect(()=>{if(t&&j){const he=`users/${j.email.replace("@","_").replace(".","_")}`;l(he),O(he)}},[t,j]);const L=()=>{n===(j==null?void 0:j.upass)?(e(!0),o("")):o("Invalid password")},V=async()=>{try{const he=new NDEFReader;await he.scan(),he.addEventListener("reading",({serialNumber:ae})=>{ae===(j==null?void 0:j.currentnfcId)?(e(!0),o("")):o("Invalid NFC card")})}catch(he){o("Error reading NFC: "+he.message)}},O=async he=>{try{const ae=yn(E,he),ve=await _l(ae),Ae=ve.items.map(async Me=>{const ht=await Ki(Me);return{name:Me.name,url:ht,type:"file"}}),de=ve.prefixes.filter(Me=>Me.name!=="process_log"&&Me.name!=="event_images"&&Me.name!=="profile").map(Me=>({name:Me.name,type:"folder"})),qe=await Promise.all(Ae);f(qe),p(de)}catch(ae){console.error("Error listing files:",ae)}},W=async he=>{const ae=he.target.files[0];if(ae)try{const ve=yn(E,`${a}/${ae.name}`);await Ca(ve,ae),window.userActionLogger&&window.userActionLogger.onFileUpload(he),await O(a)}catch(ve){console.error("Error uploading file:",ve)}},Y=async()=>{const he=prompt("Enter folder name:");if(!he)return;const ae=yn(E,`${a}/${he}/.placeholder`),ve=new Blob([""],{type:"text/plain"});await Ca(ae,ve),window.userActionLogger&&window.userActionLogger.onCreateFolder(he),await O(a)},X=he=>{const ae=`${a}/${he}`;l(ae),O(ae)},re=()=>{const he=a.split("/").slice(0,-1).join("/");he.startsWith(`users/${j.email.replace("@","_").replace(".","_")}`)&&(l(he),O(he))};if(!t)return x.jsxs("div",{className:at.authContainer,children:[x.jsx("h2",{children:"Authentication Required"}),x.jsxs("div",{className:at.authMethods,children:[x.jsxs("div",{className:at.passwordAuth,children:[x.jsx("input",{type:"password",value:n,onChange:he=>r(he.target.value),placeholder:"Enter password",className:at.passwordInput}),x.jsx("button",{onClick:L,className:Nn.buttons,children:"Submit"})]}),y&&x.jsx("div",{className:at.nfcAuth,children:x.jsx("button",{onClick:V,className:Nn.buttons,children:"Authenticate with NFC"})})]}),i&&x.jsx("p",{className:at.error,children:i})]});const Q=(he,ae)=>{he.preventDefault(),he.stopPropagation();const ve=he.currentTarget.getBoundingClientRect();N({x:ve.left,y:ve.bottom}),P(ae),F(ae)},oe=async()=>{if(!M){alert("Please select an item to move"),console.log(M);return}R("move"),D(!0)},te=async()=>{if(!M){alert("Please select an item to copy"),console.log(M);return}R("copy"),D(!0)},z=async()=>{if(v)try{const he=`${a}/${v.name}`,ae=yn(E,he);v.type==="file"?await vf(ae):await K(he),window.userActionLogger&&window.userActionLogger.onDelete(v),await O(a)}catch(he){console.error("Error deleting item:",he),alert(`Failed to delete ${v.name}. ${he.message}`)}},K=async he=>{try{const ae=yn(E,he),ve=await _l(ae);for(const Ae of ve.items)await vf(Ae);for(const Ae of ve.prefixes)await K(`${he}/${Ae.name}`)}catch(ae){throw console.error("Error deleting folder:",ae),ae}},le=async()=>{if(!v)return;const he=prompt("Enter new name:",v.name);if(!(!he||he===v.name))try{const ae=yn(E,`${a}/${v.name}`),ve=yn(E,`${a}/${he}`);if(v.type==="file"){const Ae=await Ki(ae),qe=await(await fetch(Ae)).blob();await Ca(ve,qe),await vf(ae)}window.userActionLogger&&window.userActionLogger.onRename(v,he),await O(a)}catch(ae){console.error("Error renaming item:",ae)}},be=async he=>{if(console.log("Debug - Folder Selection:",{persistentSelectedItem:M,currentPath:a,destinationPath:he,operation:C}),!M){console.error("No item selected"),alert("Please select an item to move or copy"),D(!1);return}try{const ae=yn(E,`${a}/${M.name}`),ve=yn(E,`${he}/${M.name}`);if(M.type==="file"){const Ae=await Ki(ae),qe=await(await fetch(Ae)).blob();await Ca(ve,qe),C==="move"&&await vf(ae)}else await Ce(`${a}/${M.name}`,`${he}/${M.name}`,C==="move");window.userActionLogger&&(C==="move"?window.userActionLogger.onMove(M,he):C==="copy"&&window.userActionLogger.onCopy(M,he)),D(!1),R(null),await O(a)}catch(ae){console.error(`Error ${C}ing item:`,ae),alert(`Failed to ${C} item: ${ae.message}`),D(!1),R(null)}},Ce=async(he,ae,ve=!1)=>{try{const Ae=yn(E,he),de=await _l(Ae);for(const qe of de.items){const Me=await Ki(qe),yt=await(await fetch(Me)).blob(),Vt=yn(E,`${ae}/${qe.name}`);await Ca(Vt,yt),ve&&await vf(qe)}for(const qe of de.prefixes)await Ce(`${he}/${qe.name}`,`${ae}/${qe.name}`,ve)}catch(Ae){throw console.error("Error copying folder:",Ae),Ae}},Le=(he,ae)=>x.jsxs("div",{className:at.item,onClick:ve=>{ve.target.closest(`.${at.actionButton}`)||ve.target.closest(`.${at.dropdownMenu}`)||(ae==="folder"?X(he.name):window.open(he.url,"_blank"))},children:[x.jsxs("div",{className:at.itemContent,children:[ae==="folder"?x.jsx(VD,{size:24}):x.jsx(oq,{size:24}),x.jsx("span",{children:he.name})]}),x.jsx("button",{className:at.actionButton,onClick:ve=>{ve.stopPropagation();const Ae={...he,type:ae};Q(ve,Ae)},children:x.jsx(rq,{size:16})}),(v==null?void 0:v.name)===he.name&&x.jsx(Kde,{isOpen:!0,onClose:()=>{P(null)},onMove:oe,onCopy:te,onDelete:z,onRename:le})]},`${ae}-${he.name}`);return x.jsx(kU,{currentPath:a,userData:j,children:x.jsxs("div",{className:at.fileManager,children:[x.jsxs("div",{className:at.header,children:[x.jsx("h2",{children:"File Manager"}),x.jsxs("div",{className:at.actions,children:[a===`users/${j.email.replace("@","_").replace(".","_")}`&&x.jsxs("button",{onClick:Y,className:Nn.buttons,children:[x.jsx(aq,{size:20}),"New Folder"]}),x.jsxs("label",{className:Nn.buttons,children:[x.jsx(gq,{size:20}),"Upload File",x.jsx("input",{type:"file",onChange:W,style:{display:"none"}})]})]})]}),x.jsxs("div",{className:at.navigation,children:[x.jsxs("button",{onClick:re,className:at.backButton,children:[x.jsx($D,{size:20}),"Back"]}),x.jsx("span",{className:at.currentPath,children:a})]}),x.jsxs("div",{className:at.content,children:[h.map(he=>Le(he,"folder")),c.map(he=>Le(he,"file"))]}),x.jsx(Yde,{isOpen:I,onClose:()=>{D(!1),R(null)},currentPath:a,userData:j,selectedItem:M,operation:C,onSelect:be})]})})},Qde="_container_9esca_3",Jde="_form_9esca_17",Zde="_nfcButton_9esca_47",ehe="_scanButton_9esca_47",the="_scannerContainer_9esca_65",nhe="_scanner_9esca_65",rhe="_modalOverlay_9esca_95",ihe="_modalContent_9esca_123",ohe="_status_9esca_147",ahe="_statusWarning_9esca_165",she="_statusInfo_9esca_179",uhe="_statusSuccess_9esca_193",lhe="_statusError_9esca_207",che="_pulse_9esca_1",fhe="_reader_9esca_293",dhe="_uploadOptionContainer_9esca_303",hhe="_clearImageButton_9esca_317",Wr={container:Qde,form:Jde,nfcButton:Zde,scanButton:ehe,scannerContainer:the,scanner:nhe,modalOverlay:rhe,modalContent:ihe,status:ohe,statusWarning:ahe,statusInfo:she,statusSuccess:uhe,statusError:lhe,"animate-pulse":"_animate-pulse_9esca_245",pulse:che,reader:fhe,uploadOptionContainer:dhe,clearImageButton:hhe},phe={apiKey:"AIzaSyC8tDVbDIrKuylsyF3rbDSSPlzsEHXqZIs",authDomain:"online-attendance-21f95.firebaseapp.com",databaseURL:"https://online-attendance-21f95-default-rtdb.firebaseio.com",projectId:"online-attendance-21f95",storageBucket:"online-attendance-21f95.appspot.com",messagingSenderId:"756223518392",appId:"1:756223518392:web:5e8d28c78f7eefb8be764d"},RT=au(phe),xD=ki(RT),mhe=rs(RT),ghe=Ri(RT),yhe=({message:t,type:e,isProcessing:n})=>{if(!t)return null;const r=()=>{switch(e){case"warning":return Wr.statusWarning;case"error":return Wr.statusError;case"success":return Wr.statusSuccess;default:return Wr.statusInfo}};return x.jsx("div",{className:Wr.modalOverlay,children:x.jsx("div",{className:Wr.modalContent,children:x.jsx("div",{className:`${Wr.status} ${r()} ${n?Wr["animate-pulse"]:""}`,children:t})})})},vhe=()=>{const[t,e]=B.useState({name:"",email:"",campus:"",teacherId:"",upass:""}),[n,r]=B.useState(null),[i,o]=B.useState("capture"),[a,l]=B.useState(!1),[c,f]=B.useState(""),[h,p]=B.useState(null),[y,w]=B.useState("info"),[_,E]=B.useState(null),v=B.useRef(null),P=B.useRef(null),A=(O,W="info")=>{f(O),w(W)};B.useEffect(()=>()=>{h&&h.abort()},[h]);const N=O=>{const W=O.target.files[0];r(W)},j=O=>{o(O),r(null),v.current&&(v.current.value=""),P.current&&(P.current.value="")},I=async()=>{try{const O=await Sj(ghe,t.email,t.upass);return await Tj(O.user),O.user}catch(O){switch(O.code){case"auth/email-already-in-use":throw new Error("Email is already registered");case"auth/invalid-email":throw new Error("Invalid email format");case"auth/weak-password":throw new Error("Password is too weak. Use a stronger password");default:throw O}}},D=async()=>{if(!("NDEFReader"in window))throw new Error("NFC not supported on this device");try{f("Waiting for NFC tag...");const O=new NDEFReader;p(O),await O.scan();const W=await new Promise((Y,X)=>{const re=async Q=>{try{const oe=Q.serialNumber;if(!await F(oe)){X(new Error("Unauthorized NFC tag"));return}O.removeEventListener("reading",re),Y(oe)}catch(oe){X(oe)}};O.addEventListener("reading",re),setTimeout(()=>{O.removeEventListener("reading",re),X(new Error("NFC tag read timeout"))},3e4)});return E(W),A("NFC tag detected successfully","success"),W}catch(O){throw A(O.message,"error"),O}finally{h&&(h.abort(),p(null))}},C=async()=>{const O=Ri(),W=Ka();try{await Wf(O),console.log("User signed out successfully"),setTimeout(()=>{W("/login")},2e3)}catch(Y){console.error("Error signing out:",Y)}},R=async()=>{if(!n)return null;try{A("Uploading selfie...","info");const O=t.email.replace(/[@.]/g,"_"),W=yn(mhe,`users/${O}/profile/${n.name}`),Y=await Ca(W,n),X=await Ki(Y.ref);return A("Selfie uploaded successfully!","success"),X}catch(O){throw A("Failed to upload selfie: "+O.message,"error"),O}},M=async()=>{try{l(!0);const O=await R();A("Saving your registration details...","info");const Y={...t,nfcSerialNumber:_,selfieUrl:O,position:"Teacher",createdAt:xS()},X=await Gg(_t(xD,"RegisteredTeacher"),Y);await Zs(X,{currentnfcId:X.id}),A("Registration details saved successfully!","success"),A("Writing to NFC tag... Please keep your card in place","info"),await new NDEFReader().write({records:[{recordType:"text",data:new TextEncoder().encode(X.id)}]}),A("NFC tag written successfully!","success"),A("Creating your account...","info");const Q=await I();return await Zs(X,{firebaseUserId:Q.uid}),A("Registration completed! Please check your email for verification.","success"),await C(),setTimeout(()=>{A(""),L()},5e3),X.id}catch(O){console.error("Registration Error:",O);let W="Registration failed: ";throw O.code==="auth/email-already-in-use"?W="This email is already registered. Please use a different email.":O.code==="not-found"?W="NFC tag not found. Please try again.":O.code==="network-error"?W="Network connection issue. Please check your internet connection.":W+=O.message,A(W,"error"),O}finally{l(!1)}},F=async O=>{try{const W=Da(xD,"Toregistered",O);return(await wS(W)).exists()}catch(W){return console.error("NFC Authorization Check Error:",W),!1}},L=()=>{e({name:"",email:"",campus:"",teacherId:"",upass:""}),r(null),f(""),E(null),v.current&&(v.current.value="")},V=async O=>{if(O.preventDefault(),!("NDEFReader"in window)){A("NFC is not supported on this device","warning");return}try{if(A("Waiting for NFC tag... Please place your card","info"),await D(),A("NFC tag detected successfully!","success"),!window.confirm("Do you want to complete the registration?")){E(null),A("");return}await M()}catch(W){console.error("Registration Error:",W),A("Registration process failed: "+W.message,"error")}};return x.jsxs("div",{className:Wr.container,children:[x.jsx("h1",{children:"Teacher Registration"}),(!("NDEFReader"in window)||c)&&x.jsx(yhe,{message:"NDEFReader"in window?c:"NFC is not supported on this device",type:"NDEFReader"in window?y:"warning",isProcessing:a}),x.jsxs("form",{onSubmit:V,className:Wr.form,children:[x.jsx("input",{type:"text",placeholder:"Teacher Name",value:t.name,onChange:O=>e({...t,name:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:O=>e({...t,email:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Teacher ID",value:t.teacherId,onChange:O=>e({...t,teacherId:O.target.value}),required:!0,disabled:a}),x.jsx("input",{type:"text",placeholder:"Password",value:t.upass,onChange:O=>e({...t,upass:O.target.value}),required:!0,disabled:a}),x.jsxs("select",{value:t.campus,onChange:O=>e({...t,campus:O.target.value}),required:!0,disabled:a,children:[x.jsx("option",{value:"",children:"Select Campus"}),x.jsx("option",{value:"Cainta Campus",children:"Cainta Campus"}),x.jsx("option",{value:"Antipolo Campus",children:"Antipolo Campus"}),x.jsx("option",{value:"San Mateo Campus",children:"San Mateo Campus"}),x.jsx("option",{value:"Binangonan Campus",children:"Binangonan Campus"}),x.jsx("option",{value:"Sumulong Campus",children:"Sumulong Campus"}),x.jsx("option",{value:"Taytay Campus",children:"Taytay Campus"}),x.jsx("option",{value:"Angono Campus",children:"Angono Campus"}),x.jsx("option",{value:"Cogeo Campus",children:"Cogeo Campus"})]}),x.jsxs("div",{className:Wr.uploadOptionContainer,children:[x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"capture",checked:i==="capture",onChange:()=>j("capture"),disabled:a}),"Capture Selfie"]}),x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"uploadOption",value:"upload",checked:i==="upload",onChange:()=>j("upload"),disabled:a}),"Upload Existing Image"]})]}),i==="capture"?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:v,onChange:N,accept:"image/*",capture:"user",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>v.current.click(),className:Nn.buttons,disabled:a,children:"Take Profile Picture"})]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",ref:P,onChange:N,accept:"image/*",style:{display:"none"},disabled:a}),x.jsx("button",{type:"button",onClick:()=>P.current.click(),className:Nn.buttons,disabled:a,children:"Upload Existing Image"})]}),n&&x.jsxs("p",{children:["Selected Image: ",n.name,x.jsx("button",{type:"button",onClick:()=>r(null),className:Wr.clearImageButton,disabled:a,children:"Clear"})]}),x.jsx("button",{type:"submit",className:`${Nn.buttons} ${a?"animate-pulse":""}`,disabled:!t.teacherId||!n||a||!("NDEFReader"in window),children:_?"Complete Registration":"Scan NFC Tag"})]})]})},_he="_registeredUsersContainer_jvvnk_1",whe="_header_jvvnk_9",bhe="_tableContainer_jvvnk_39",Ehe="_usersTable_jvvnk_47",xhe="_actionButtons_jvvnk_93",She="_viewLogsButton_jvvnk_123",The="_editButton_jvvnk_139",Ahe="_deleteButton_jvvnk_155",Phe="_loadingContainer_jvvnk_171",Ihe="_errorContainer_jvvnk_173",Che="_noUsersContainer_jvvnk_175",Ohe="_modalOverlay_jvvnk_187",Rhe="_modalContent_jvvnk_213",khe="_logViewerContainer_jvvnk_233",Nhe="_logViewerHeader_jvvnk_245",Mhe="_closeButton_jvvnk_271",Dhe="_logsList_jvvnk_295",jhe="_logEntry_jvvnk_307",Lhe="_logContent_jvvnk_335",$he="_logLoading_jvvnk_359",Fhe="_logError_jvvnk_361",Vhe="_noLogsMessage_jvvnk_363",Uhe="_status_jvvnk_375",Bhe="_slideUp_jvvnk_1",qhe="_status_command_jvvnk_407",zhe="_status_detail_jvvnk_417",jt={registeredUsersContainer:_he,header:whe,tableContainer:bhe,usersTable:Ehe,actionButtons:xhe,viewLogsButton:She,editButton:The,deleteButton:Ahe,loadingContainer:Phe,errorContainer:Ihe,noUsersContainer:Che,modalOverlay:Ohe,modalContent:Rhe,logViewerContainer:khe,logViewerHeader:Nhe,closeButton:Mhe,logsList:Dhe,logEntry:jhe,logContent:Lhe,logLoading:$he,logError:Fhe,noLogsMessage:Vhe,status:Uhe,slideUp:Bhe,status_command:qhe,status_detail:zhe},Whe=({email:t,onClose:e})=>{const[n,r]=B.useState([]),[i,o]=B.useState(!0),[a,l]=B.useState(null);Ri();const c=rs(),f=h=>h.replace(/[@.]/g,"_");return B.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=yn(c,`users/${p}/process_log`),_=(await _l(y)).items.map(async P=>{const A=await Ki(P),j=await(await fetch(A)).text(),I=P.name.split("/").pop();return{timestamp:I.replace(".txt",""),content:j,filename:I}}),v=(await Promise.all(_)).sort((P,A)=>A.timestamp.localeCompare(P.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?x.jsx("div",{className:jt.logLoading,children:"Loading logs..."}):a?x.jsx("div",{className:jt.logError,children:a}):x.jsxs("div",{className:jt.logViewerContainer,children:[x.jsxs("div",{className:jt.logViewerHeader,children:[x.jsxs("h2",{children:["User Activity Logs for ",t]}),x.jsx("button",{onClick:e,className:jt.closeButton,children:x.jsx($d,{size:24})})]}),n.length===0?x.jsx("p",{className:jt.noLogsMessage,children:"No logs found"}):x.jsx("div",{className:jt.logsList,children:n.map((h,p)=>x.jsxs("div",{className:jt.logEntry,children:[x.jsxs("h3",{children:["Log from ",h.timestamp]}),x.jsx("pre",{className:jt.logContent,children:h.content})]},p))})]})},Hhe=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(!0),[i,o]=B.useState(null),[a,l]=B.useState(null),[c,f]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const E=ki(),P=(await $t(_t(E,"RegisteredTeacher"))).docs.map(A=>({id:A.id,...A.data()}));e(P),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=_=>{l(_),f(!0)},p=_=>{console.log("Edit teacher:",_)},y=_=>{console.log("Delete teacher:",_)},w=()=>{f(!1),l(null)};return n?x.jsx("div",{className:jt.loadingContainer,children:"Loading teachers..."}):i?x.jsx("div",{className:jt.errorContainer,children:i}):x.jsxs("div",{className:jt.registeredUsersContainer,children:[x.jsxs("div",{className:jt.header,children:[x.jsx(Sa,{size:24}),x.jsx("h2",{children:"Registered Teachers"})]}),x.jsx("div",{className:jt.tableContainer,children:x.jsxs("table",{className:jt.usersTable,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Teacher ID"}),x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Email"}),x.jsx("th",{children:"NFC CARD"}),x.jsx("th",{children:"Campus"}),x.jsx("th",{children:"Date Added"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:t.map(_=>x.jsxs("tr",{className:jt.teacherRow,children:[x.jsx("td",{children:_.teacherId}),x.jsx("td",{children:_.name}),x.jsx("td",{children:_.email}),x.jsx("td",{children:_.currentnfcId}),x.jsx("td",{children:_.campus}),x.jsx("td",{children:new Date(_.createdAt*1e3).toLocaleString()}),x.jsx("td",{children:x.jsxs("div",{className:jt.actionButtons,children:[x.jsx("button",{onClick:()=>h(_),className:jt.viewLogsButton,title:"View Logs",children:x.jsx(FD,{size:18})}),x.jsx("button",{onClick:()=>p(_),className:jt.editButton,title:"Edit",children:x.jsx(UD,{size:18})}),x.jsx("button",{onClick:()=>y(_),className:jt.deleteButton,title:"Delete",children:x.jsx(BD,{size:18})})]})})]},_.id))})]})}),t.length===0&&x.jsx("div",{className:jt.noUsersContainer,children:"No registered teachers found."}),c&&a&&x.jsx("div",{className:jt.modalOverlay,children:x.jsx("div",{className:jt.modalContent,children:x.jsx(Whe,{email:a.email,onClose:w})})})]})},Ghe="_registeredUsersContainer_lqxan_1",Khe="_header_lqxan_9",Yhe="_tableContainer_lqxan_39",Xhe="_usersTable_lqxan_47",Qhe="_actionButtons_lqxan_93",Jhe="_viewLogsButton_lqxan_123",Zhe="_editButton_lqxan_139",epe="_deleteButton_lqxan_155",tpe="_loadingContainer_lqxan_171",npe="_errorContainer_lqxan_173",rpe="_noUsersContainer_lqxan_175",ipe="_modalOverlay_lqxan_187",ope="_modalContent_lqxan_213",ape="_logViewerContainer_lqxan_233",spe="_logViewerHeader_lqxan_245",upe="_closeButton_lqxan_271",lpe="_logsList_lqxan_295",cpe="_logEntry_lqxan_307",fpe="_logContent_lqxan_335",dpe="_logLoading_lqxan_357",hpe="_logError_lqxan_359",ppe="_noLogsMessage_lqxan_361",mpe="_status_lqxan_373",gpe="_slideUp_lqxan_1",ype="_status_command_lqxan_405",vpe="_status_detail_lqxan_415",Lt={registeredUsersContainer:Ghe,header:Khe,tableContainer:Yhe,usersTable:Xhe,actionButtons:Qhe,viewLogsButton:Jhe,editButton:Zhe,deleteButton:epe,loadingContainer:tpe,errorContainer:npe,noUsersContainer:rpe,modalOverlay:ipe,modalContent:ope,logViewerContainer:ape,logViewerHeader:spe,closeButton:upe,logsList:lpe,logEntry:cpe,logContent:fpe,logLoading:dpe,logError:hpe,noLogsMessage:ppe,status:mpe,slideUp:gpe,status_command:ype,status_detail:vpe},_pe=({email:t,onClose:e})=>{const[n,r]=B.useState([]),[i,o]=B.useState(!0),[a,l]=B.useState(null);Ri();const c=rs(),f=h=>h.replace(/[@.]/g,"_");return B.useEffect(()=>{(async()=>{try{o(!0);const p=f(t),y=yn(c,`users/${p}/process_log`),_=(await _l(y)).items.map(async P=>{const A=await Ki(P),j=await(await fetch(A)).text(),I=P.name.split("/").pop();return{timestamp:I.replace(".txt",""),content:j,filename:I}}),v=(await Promise.all(_)).sort((P,A)=>A.timestamp.localeCompare(P.timestamp));r(v),l(null)}catch(p){console.error("Error fetching logs:",p),l("Failed to fetch logs. Please try again later.")}finally{o(!1)}})()},[t]),i?x.jsx("div",{className:Lt.loadingContainer,children:"Loading teachers..."}):a?x.jsx("div",{className:Lt.errorContainer,children:a}):x.jsxs("div",{className:Lt.logViewerContainer,children:[x.jsxs("div",{className:Lt.logViewerHeader,children:[x.jsxs("h2",{children:["User Activity Logs for ",t]}),x.jsx("button",{onClick:e,className:Lt.closeButton,children:x.jsx($d,{size:24})})]}),n.length===0?x.jsx("p",{className:Lt.noLogsMessage,children:"No logs found"}):x.jsx("div",{className:Lt.logsList,children:n.map((h,p)=>x.jsxs("div",{className:Lt.logEntry,children:[x.jsxs("h3",{children:["Log from ",h.timestamp]}),x.jsx("pre",{className:Lt.logContent,children:h.content})]},p))})]})},wpe=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(!0),[i,o]=B.useState(null),[a,l]=B.useState(null),[c,f]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const E=ki(),P=(await $t(_t(E,"RegisteredStudent"))).docs.map(A=>({id:A.id,...A.data()}));setTimeout(()=>e(P),1e3),r(!1)}catch(E){console.error("Error fetching registered teachers:",E),o("Failed to load teachers"),r(!1)}})()},[]);const h=_=>{l(_),f(!0)},p=_=>{console.log("Edit student:",_)},y=_=>{console.log("Delete teacher:",_)},w=()=>{f(!1),l(null)};return n?x.jsx("div",{className:Lt.loadingContainer,children:"Loading teachers..."}):i?x.jsx("div",{className:Lt.errorContainer,children:i}):x.jsxs("div",{className:Lt.registeredUsersContainer,children:[x.jsxs("div",{className:Lt.header,children:[x.jsx(Sa,{size:24}),x.jsx("h2",{children:"Registered Student"})]}),x.jsx("div",{className:Lt.tableContainer,children:x.jsxs("table",{className:Lt.usersTable,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Student ID"}),x.jsx("th",{children:"Name"}),x.jsx("th",{children:"Email"}),x.jsx("th",{children:"NFC CARD"}),x.jsx("th",{children:"Campus"}),x.jsx("th",{children:"Date Added"}),x.jsx("th",{children:"Actions"})]})}),x.jsx("tbody",{children:t.map(_=>x.jsxs("tr",{className:Lt.studentRow,children:[x.jsx("td",{children:_.studentId}),x.jsx("td",{children:_.name}),x.jsx("td",{children:_.email}),x.jsx("td",{children:_.currentnfcId}),x.jsx("td",{children:_.campus}),x.jsx("td",{children:new Date(_.createdAt*1e3).toLocaleString()}),x.jsx("td",{children:x.jsxs("div",{className:Lt.actionButtons,children:[x.jsx("button",{onClick:()=>h(_),className:Lt.viewLogsButton,title:"View Logs",children:x.jsx(FD,{size:18})}),x.jsx("button",{onClick:()=>p(_),className:Lt.editButton,title:"Edit",children:x.jsx(UD,{size:18})}),x.jsx("button",{onClick:()=>y(_),className:Lt.deleteButton,title:"Delete",children:x.jsx(BD,{size:18})})]})})]},_.id))})]})}),t.length===0&&x.jsx("div",{className:Lt.noUsersContainer,children:"No registered students found."}),c&&a&&x.jsx("div",{className:Lt.modalOverlay,children:x.jsx("div",{className:Lt.modalContent,children:x.jsx(_pe,{email:a.email,onClose:w})})})]})},bpe="_formOverlay_10mac_3",Epe="_visible_10mac_3",xpe="_composeWrapper_10mac_11",Spe="_minimized_10mac_39",Tpe="_composeHeader_10mac_47",Ape="_headerTitle_10mac_65",Ppe="_closeButton_10mac_77",Ipe="_closeIcon_10mac_101",Cpe="_mainContent_10mac_113",Ope="_sidebar_10mac_125",Rpe="_composeBtn_10mac_139",kpe="_sidebarMenu_10mac_175",Npe="_menuItem_10mac_187",Mpe="_active_10mac_221",Dpe="_contentArea_10mac_231",jpe="_messageList_10mac_243",Lpe="_messageItem_10mac_251",$pe="_unread_10mac_271",Fpe="_messagePreview_10mac_279",Vpe="_sender_10mac_291",Upe="_subject_10mac_301",Bpe="_timestamp_10mac_309",qpe="_messageSnippet_10mac_319",zpe="_messageView_10mac_329",Wpe="_messageHeader_10mac_337",Hpe="_messageDate_10mac_357",Gpe="_messageMeta_10mac_367",Kpe="_messageBody_10mac_383",Ype="_composeForm_10mac_393",Xpe="_formGroup_10mac_401",Qpe="_formInput_10mac_409",Jpe="_messageInput_10mac_435",Zpe="_formFooter_10mac_465",eme="_footerActions_10mac_479",tme="_sendButton_10mac_491",nme="_attachButton_10mac_523",rme="_fileInput_10mac_547",ime="_attachmentName_10mac_555",ome="_noMessages_10mac_565",We={formOverlay:bpe,visible:Epe,composeWrapper:xpe,minimized:Spe,composeHeader:Tpe,headerTitle:Ape,closeButton:Ppe,closeIcon:Ipe,mainContent:Cpe,sidebar:Ope,composeBtn:Rpe,sidebarMenu:kpe,menuItem:Npe,active:Mpe,contentArea:Dpe,messageList:jpe,messageItem:Lpe,unread:$pe,messagePreview:Fpe,sender:Vpe,subject:Upe,timestamp:Bpe,messageSnippet:qpe,messageView:zpe,messageHeader:Wpe,messageDate:Hpe,messageMeta:Gpe,messageBody:Kpe,composeForm:Ype,formGroup:Xpe,formInput:Qpe,messageInput:Jpe,formFooter:Zpe,footerActions:eme,sendButton:tme,attachButton:nme,fileInput:rme,attachmentName:ime,noMessages:ome},ame=({onClose:t})=>{const[e,n]=B.useState(!1),[r,i]=B.useState(!1),[o,a]=B.useState([]),[l,c]=B.useState(null),[f,h]=B.useState("inbox"),[p,y]=B.useState({to:"",subject:"",message:"",attachment:null}),w=ki(),_=Ri();B.useEffect(()=>{E()},[f]);const E=async()=>{try{const I=_.currentUser;if(!I)return;const D=_t(w,"Messages");let C;f==="inbox"?C=Cn(D,On("sendTo","==",I.email)):C=Cn(D,On("sender","==",I.email));const R=await $t(C),M=[];R.forEach(F=>{M.push({id:F.id,...F.data()})}),M.sort((F,L)=>{var V,O;return((V=L.timestamp)==null?void 0:V.toMillis())-((O=F.timestamp)==null?void 0:O.toMillis())}),a(M)}catch(I){console.error("Error fetching messages:",I)}},v=async I=>{try{const D=Da(w,"Messages",I);await Zs(D,{read:!0}),console.log("Message marked as read")}catch(D){console.error("Error updating message:",D)}},P=async I=>{I.preventDefault();try{const D=_.currentUser;if(!D)return;await Gg(_t(w,"Messages"),{sendTo:p.to,subject:p.subject,message:p.message,sender:D.email,timestamp:xS(),read:!1}),y({to:"",subject:"",message:"",attachment:null}),i(!1),E()}catch(D){console.error("Error sending message:",D)}},A=I=>{const{name:D,value:C}=I.target;y(R=>({...R,[D]:C}))},N=I=>{y(D=>({...D,attachment:I.target.files[0]}))},j=I=>{if(!I)return"";const D=I.toDate();return D.toLocaleDateString()+" "+D.toLocaleTimeString()};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`${We.formOverlay} ${e?"":We.visible}`,onClick:t}),x.jsxs("div",{className:`${We.composeWrapper} ${e?We.minimized:""}`,children:[x.jsx("div",{className:We.composeHeader,children:x.jsx("h2",{className:We.headerTitle,children:"Messages"})}),x.jsxs("div",{className:We.mainContent,children:[x.jsxs("div",{className:We.sidebar,children:[x.jsxs("button",{className:We.composeBtn,onClick:()=>{i(!0),c(null)},children:[x.jsx(Ex,{})," Compose"]}),x.jsxs("div",{className:We.sidebarMenu,children:[x.jsxs("button",{className:`${We.menuItem} ${f==="inbox"&&!r?We.active:""}`,onClick:()=>{i(!1),c(null),h("inbox")},children:[x.jsx(uq,{})," Inbox (",o.filter(I=>{var D;return I.sendTo===((D=_.currentUser)==null?void 0:D.email)}).length,")"]}),x.jsxs("button",{className:`${We.menuItem} ${f==="sent"&&!r?We.active:""}`,onClick:()=>{i(!1),c(null),h("sent")},children:[x.jsx(iq,{})," Sent (",o.filter(I=>{var D;return I.sender===((D=_.currentUser)==null?void 0:D.email)}).length,")"]})]})]}),x.jsx("div",{className:We.contentArea,children:r?x.jsxs("form",{onSubmit:P,className:We.composeForm,children:[x.jsx("div",{className:We.formGroup,children:x.jsx("input",{type:"email",name:"to",value:p.to,onChange:A,placeholder:"To",className:We.formInput,required:!0})}),x.jsx("div",{className:We.formGroup,children:x.jsx("input",{type:"text",name:"subject",value:p.subject,onChange:A,placeholder:"Subject",className:We.formInput,required:!0})}),x.jsx("div",{className:We.formGroup,children:x.jsx("textarea",{name:"message",value:p.message,onChange:A,placeholder:"Write your request here...",className:We.messageInput,required:!0})}),x.jsxs("div",{className:We.formFooter,children:[x.jsxs("div",{className:We.footerActions,children:[x.jsxs("button",{type:"submit",className:We.sendButton,children:[x.jsx(mq,{className:We.sendIcon}),"Send"]}),x.jsxs("label",{className:We.attachButton,children:[x.jsx("input",{type:"file",onChange:N,className:We.fileInput}),x.jsx(hq,{className:We.attachIcon})]})]}),p.attachment&&x.jsx("span",{className:We.attachmentName,children:p.attachment.name})]})]}):l?x.jsxs("div",{className:We.messageView,children:[x.jsxs("div",{className:We.messageHeader,children:[x.jsx("h3",{children:l.subject}),x.jsx("span",{className:We.messageDate,children:j(l.timestamp)})]}),x.jsxs("div",{className:We.messageMeta,children:[x.jsxs("span",{children:["From: ",l.sender]}),x.jsxs("span",{children:["To: ",l.sendTo]})]}),x.jsx("div",{className:We.messageBody,children:l.message})]}):x.jsxs("div",{className:We.messageList,children:[o.map(I=>x.jsxs("div",{className:`${We.messageItem} ${!I.read&&f==="inbox"?We.unread:""}`,onClick:()=>{c(I),f==="inbox"&&v(I.id)},children:[x.jsxs("div",{className:We.messagePreview,children:[x.jsx("span",{className:We.sender,children:f==="inbox"?I.sender:I.sendTo}),x.jsx("span",{className:We.subject,children:I.subject}),x.jsx("span",{className:We.timestamp,children:j(I.timestamp)})]}),x.jsxs("div",{className:We.messageSnippet,children:[I.message.substring(0,100),"..."]})]},I.id)),o.length===0&&x.jsxs("div",{className:We.noMessages,children:["No messages in your ",f]})]})})]})]})]})};function sme(){return x.jsx(kU,{children:x.jsx(s3,{children:x.jsxs(L4,{children:[x.jsx(lr,{path:"/",element:x.jsx(JP,{to:"/login",replace:!0})}),x.jsx(lr,{path:"/login",element:x.jsx(zce,{})}),x.jsxs(lr,{path:"/dashboard/*",element:x.jsx(Use,{}),children:[x.jsx(lr,{path:"create-event",element:x.jsx(Fle,{})}),x.jsx(lr,{path:"registered-teachers",element:x.jsx(Hhe,{})}),x.jsx(lr,{path:"registered-students",element:x.jsx(wpe,{})}),x.jsx(lr,{path:"teacher-registration",element:x.jsx(vhe,{})}),x.jsx(lr,{path:"student-registration",element:x.jsx(oce,{})}),x.jsx(lr,{path:"nfc-reader",element:x.jsx(Ece,{})}),x.jsx(lr,{path:"event-list",element:x.jsx(hfe,{})}),x.jsx(lr,{path:"request-message",element:x.jsx(ame,{})}),x.jsx(lr,{path:"file-manager",element:x.jsx(Xde,{})})]}),x.jsx(lr,{path:"*",element:x.jsx(JP,{to:"/login",replace:!0})})]})})})}const ume=document.getElementById("root"),lme=zB.createRoot(ume);lme.render(x.jsx(sme,{}));
